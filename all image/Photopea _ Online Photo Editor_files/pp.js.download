(function(){var bn=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var o;try{o=window.localStorage}catch(bF){}var P={};
if(o){var w=o.getItem("_ppp");if(w)P=JSON.parse(w);else{var x="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var I=0;I<x.length;I++){var z=o.getItem(x[I]);if(z!=null)P[x[I]]=z}}}var S=window.locStor={};S.setItem=function(k,f){P[k]=f;
if(o)o.setItem("_ppp",JSON.stringify(P))};S.getItem=function(k){return P[k]};S.removeItem=function(k){delete P[k];
if(o)o.setItem("_ppp",JSON.stringify(P))}}());var jM={Od:0,Hc:null,j6:null,aku:null,Oy:null,Sc:null,adr:!0,aj0:0,rY:!1};
jM.event=function(o,P,w){if(bn!=0)return;if(P!=null&&P<Math.random())return;if(w==null)w=0;var x=new XMLHttpRequest;
x.open("GET","/papi/event.php?id="+o+"&g="+w+"&rnd="+Math.random());x.send()};jM.$D=function(o){if(bn!=0)o="//www.photopea.com/"+o;
return o};jM.lO=function(){var o=jM.qx();if(o==null)return null;var P=J.yz(24)?" ":"",w=J.Kk[J.j4("Uu,"+P)];
w=w[J.j4(P+"$/")];var x=jM.a5b(1,999);if(x&&jM.nu(x)*50>w()/20)return[0,x];var z=o.inTeams;if(z)for(var I=0;
I<z.length;I++)if(z[I][1]*50>w()/20)return[1,z[I]];return null};jM.da=function(){return jM.aEB()!=null};
jM.PC=function(){return jM.nu(jM.a5b(1e3,999999999))};jM.nu=function(o){return o==null?0:o[0]+o[1]*24*60*60};
jM.a5b=function(o,P){var w=jM.qx(),x=w.pmnts,z=0,S=null;if(x==null||x.length==0)return 0;for(var I=0;
I<x.length;I++){var k=x[I],f=jM.nu(k);if(o<=k[2]&&k[2]<=P)if(z<f){z=f;S=k}}return S};jM.qx=function(){return jM.Sc};
jM.Ir=function(o){window.addEventListener("message",jM.aFN,!1);setInterval(jM.aCb,5e3);if(jM.da()&&navigator.onLine){jM.Hc=o;
jM.U5()}else setTimeout(o,1)};jM.aCb=function(){if(jM.da()&&jM.rY){jM.aGA(jM.IJ());jM.rY=!1}};jM.SU=function(o){jM.Hc=o;
var P="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);jM.aku=window.open(P,"_blank")};
jM.aw_=function(){var o=window.locStor;o.removeItem(jM.Od+"_uid");o.removeItem(jM.Od+"_provider");o.removeItem(jM.Od+"_token");
jM.Sc=null};jM.aFN=function(o){if(o.data instanceof ArrayBuffer||o.data instanceof Object)return;if(o.data.charAt(0)!="{")return;
var P=JSON.parse(o.data);if(P.prms==null)return;var w=P.prms.split(",");if(w[0]=="papi_logged_in"){var x=window.locStor;
x.setItem(jM.Od+"_uid",w[1]);jM._l(w[2]);x.setItem(jM.Od+"_provider",w[3]);jM.aku.close();jM.U5()}if(w[0]=="payment_complete"){jM.Oy.close();
jM.U5()}};jM.aEB=function(){var o=window.locStor.getItem(jM.Od+"_token");if(o!=null&&Date.now()*.001+10<parseInt(o.split("-")[0]))return o;
return null};jM._l=function(o){var P=window.locStor.getItem(jM.Od+"_token");if(P!=null&&parseInt(o.split("-")[0])<parseInt(P.split("-")[0]))return;
window.locStor.setItem(jM.Od+"_token",o);clearTimeout(jM.aj0);jM.aj0=setTimeout(jM.awb,Math.min(1e9,parseInt(o.split("-")[0])*1e3-Date.now()-20*1e3))};
jM.a89=function(o,P,w,x){if(!navigator.onLine)throw"a";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=w;var S=jM.Kj(0)+"&read=3&tuid="+o+"&tid="+P;if(x)S+="&tpl="+encodeURIComponent(x);z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(S)};jM.awb=function(){if(!navigator.onLine)throw"a";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=jM.ay0;var P=jM.Kj(0)+"&read=2";o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.send(P)};jM.U5=function(){if(!navigator.onLine)throw"b";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=jM.ar8;var P=jM.Kj(0)+"&read=1";o.setRequestHeader("Content-type","application/x-www-form-urlencoded");
o.send(P)};jM.aGA=function(o){if(!navigator.onLine)throw"c";var P=new XMLHttpRequest;P.open("POST","https://www.photopea.com/papi/record_new.php",!0);
P.onload=jM.a9t;var w=jM.Kj(0)+"&read=0&score="+(o.tpl?1:0)+"&spublic="+jM.adr+"&record="+encodeURIComponent(JSON.stringify(o));
P.setRequestHeader("Content-type","application/x-www-form-urlencoded");P.send(w)};jM.ar8=function(o){var P=JSON.parse(o.target.response);
if(P.error){}else{jM.Sc=P.user;var w=jM.IJ(),x=P.record;if(P.record){jM.adr=P.spublic;jM.azX(x)}else if(w)jM.aGA(w)}jM._l(P.token);
if(jM.Hc){jM.Hc();jM.Hc=null}if(jM.j6){jM.j6();jM.j6=null}};jM.ay0=function(o){var P=JSON.parse(o.target.response);
jM._l(P.token)};jM.a9t=function(o){var P=JSON.parse(o.target.response);jM._l(P.token);if(jM.j6)jM.U5()};
jM.Kj=function(o){var P=window.locStor;return"app="+o+"&uid="+P.getItem(jM.Od+"_uid")+"&token="+P.getItem(jM.Od+"_token")};
jM.ao=function(){return jM.IJ()};jM.jH=function(o,P){jM.azX(o);jM.rY=!0;if(P){jM.j6=P;jM.aCb()}};jM.IJ=function(){var o=window.locStor.getItem(jM.Od+"_stateLocal"),P;
if(o==null)return null;try{P=JSON.parse(o)}catch(bF){return null}return P};jM.azX=function(o){var P=JSON.stringify(o);
window.locStor.setItem(jM.Od+"_stateLocal",P)};jM.order=function(o,P,w){jM.Hc=w;var x=window.locStor,z="https://www.photopea.com/papi/order.php?ptype="+P+"&param="+o+"&uid="+x.getItem(jM.Od+"_uid")+"&token="+x.getItem(jM.Od+"_token");
jM.Oy=window.open(z,"_blank")};jM.axi=function(o,P){jM.Hc=P;var w=window.locStor,x="https://www.photopea.com/papi/insertKey.php?key="+o+"&uid="+w.getItem(jM.Od+"_uid")+"&token="+w.getItem(jM.Od+"_token");
jM.Oy=window.open(x,"_blank")};var ct={};ct.akV=function(o,P){var w=J.Kk[J.j4("%|xK")];if(w==null)return"XYP";
var x=o.toString(16).slice(0,4),z=x+P+"aQYRDCB";return w(z).slice(5,17)+x.split("").reverse().join("")};
ct.nn=function(){var o=J.Kk[J.GG("3M"+(J.yz(26)?"]K":"fa"))];o=o[J.GG("]["+(!J.yz(28)?",":"`"))];return Math.floor(o()/1e3)};
ct.yz=function(o){var P=0;for(var I=0;I<o;I++)P+=Math.random();return P/o<Math.PI/4};ct.GG=function(o){var P="";
if(!ct.yz(28))o+="-3";for(var I=0;I<o.length;I++){var w=o.charCodeAt(I);if(w<32||126<w)throw"e";P+=String.fromCharCode(32+(w-32+17+3*I)%95)}return P};
ct.j4=function(o){var P="";if(!ct.yz(28))o+="-1";for(var I=0;I<o.length;I++){var w=o.charCodeAt(I);w-=32;
w+=95e4;w-=17+3*I;w=w%95;P+=String.fromCharCode(32+w)}return P};ct.wx=ct.GG("XP");ct.Qs=ct.GG("XYP");
ct.e9=ct.GG("c[Y");ct.amL=ct.GG("][`");ct.aEu=ct.GG("SU_");ct.Kr=ct.GG("b^L");ct.awX=ct.GG("61=");ct.Ga=ct.GG("Q[M_");
ct.LB=ct.GG("WQJJ");ct.ys=ct.GG("W^NL");ct.aph=ct.GG("[QOZ");ct.oW=ct.GG("[[JJ");ct.avu=ct.GG("[[PU");
ct.A8=ct.GG("^\\NT");ct.atW=ct.GG("bQUL");ct.ox=ct.GG("bQWJ");ct.aou=ct.GG("3M]K");ct.a0z=ct.GG("<M]N");
ct.aHk=ct.GG("][WK");ct.a8k=ct.GG("?;<:");ct.aC1=ct.GG("P_bTF");ct.s9=ct.GG("RXRIN");ct.UF=ct.GG("aUPNW");
ct.VB=ct.GG("b`bRH");ct.a3u=ct.GG("fUMZK");ct.aBy=ct.GG("Q[]ZRM");ct.aGe=ct.GG("WQRMKT");ct.afX=ct.GG("WUMJHN");
ct.Pp=ct.GG("XR[GPE");ct.a0d=ct.GG("aMWJRM");ct.Me=ct.GG("bO[OST");ct.arq=ct.GG("cM[MHT");ct.afi=ct.GG("^Z5OQE");
ct.Js=ct.GG("^ZUUDD");ct.amP=ct.GG("_M[KQT");ct.avf=ct.GG("POLUXNQ");ct.G2=ct.GG("R[WLLRJ");ct.azd=ct.GG("SU\\VOAV");
ct.ah_=ct.GG("XZMK[/C");ct.Fg=ct.GG("aQYRDCB");ct.P4=ct.GG("[[LGWILH");ct.B9=ct.GG("S[L[PEKN");ct.aot=ct.GG("_[\\OWILH");
ct.MY=ct.GG("aQOKURBL");ct.aeZ=ct.GG("aQUGWIS?");ct.Ao=ct.GG("aQ\\VRNP?");ct.alx=ct.GG("XZWKU(1'#");
ct.ava=ct.GG("SQLUGE2, ");ct.a01=ct.GG("]M_OJAQII");ct.ajp=ct.GG("bQ]:LMBILH");ct.aDl=ct.GG("UU[YW#ECC8");
ct.abO=ct.GG("P^[G\\BR@=9C");ct.gW=ct.GG("cQaZ&OKN<BE");ct.YY=ct.GG("P\\YKQD B@@5");ct.aBi=ct.GG("aQVUYE B@@5");
ct.aaC=ct.GG("bQ]/QTBLM5=");ct.Wn=ct.GG("bQ]'WTOC9IE3");ct.aHc=ct.GG("XZ\\KUT~?=CC3");ct.a6j=ct.GG("aQ\\VRNP?+MA3");
ct.XU=ct.GG("R^NGWE\"F<A6<?");ct.a9Z=ct.GG("VQ]+OEJ?EHrGs,");ct.nK=ct.GG("G95.WTM,<EF3><");ct.a8U=ct.GG("PZLKVTLL&F:5468");
ct.XF=ct.GG("PPM+YEKN#=DB06*4");ct.adH=ct.GG("bQ]8HQR?JHx3,,*4");ct.a5h=ct.GG("SQLUGE2, v@;;73'-0");
function i$(o){this.cY={};this.SQ=0;this.DO();if(o!=!0)window.__kb=this}i$.TN=null;i$.prototype.DO=function(){var o=navigator.keyboard;
if(o&&window.top==window.self)o.getLayoutMap().then(function(P){i$.TN=P})};i$.prototype.amb=function(o){var P={shiftKey:i$.W1,altKey:i$.JV,ctrlKey:i$.Jm};
for(var w in P){var x=o[w],z=P[w],S=this.d(z);if(!x&&S){for(var I=0;I<z.QO.length;I++)this.mq(z.QO[I])}}};
i$.prototype.wT=function(o){this.SQ++;this.cY[o]=!0};i$.prototype.mq=function(o){this.SQ--;delete this.cY[o];
if(this.SQ<=0||i$.qw(o,i$.aj$))this.reset()};i$.prototype.d=function(o){for(var I=0;I<o.QO.length;I++)if(this.cY[o.QO[I]])return!0;
return!1};i$.prototype.reset=function(){this.cY={};this.SQ=0};i$.prototype.Tl=function(o){var P=this,w=P.d(i$.W1)?10:1,x=0,z=0;
if(P.d(i$.Ie))x=-w;else if(P.d(i$.dV))x=w;else if(P.d(i$.ag))z=-w;else if(P.d(i$.uE))z=w;var S=new eD(x,z);
if(o!=null){var k=new ar;k.rotate(o);S=k.Zc(S);if(Math.abs(S.x)<Math.abs(S.y))S.x=0;else S.y=0;S.x=Math.round(S.x);
S.y=Math.round(S.y)}return S};i$.prototype.ER=function(){var o=this,P=i$.j5;for(var I=0;I<10;I++)if(o.d(P[I]))return I;
return-1};i$.qw=function(o,P){return P.QO.indexOf(o)!=-1};i$.te=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
i$.awn="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(i$.te())i$.awn.push("ControlLeft","ControlRight");i$.a0Y=function(o){var P=o.code;if(P=="")return!1;
var w=i$.qw;if(o.altKey&&!o.shiftKey&&!o.ctrlKey){var x=i$.j5.concat([i$.wF,i$.KZ,i$.ac,i$.p6]),z=!1;
for(var I=0;I<x.length;I++)if(w(P,x[I]))return!1}return i$.awn.indexOf(P)==-1||o.shiftKey&&(P=="F5"||P=="F6")};
i$.a7R=function(o){var P=i$;if(o.ctrlKey&&(P.qw(o.code,P.wF)||P.qw(o.code,P.KZ)))o.preventDefault()};
i$.uA=function(o){o.addEventListener("keydown",i$.a7R,!1)};i$.gr=function(o){if(typeof o=="string")return o;
var P=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(o==null)return"";var w=[];for(var I=0;I<o.length;
I++){var x=o[I].xx?o[I].xx:o[I];if(P&&o[I].cc)x=o[I].cc;w.push(x)}if(P||w.length==1)return w.join(" ");
else{var z=w.pop();return w.join("+")+" + "+z}};i$.a2Z=function(o){window.__kb.DO();var P=o.code,w=i$.TN;
if(w&&w.get(P)){var x={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=w.get(P).toLowerCase(),S=z.charCodeAt(0);
if(97<=S&&S<=122){var k="Key"+z.toUpperCase();P=k}else if(x[z])P=x[z];return P}var x={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=o.key.toLowerCase(),S=z.charCodeAt(0);
if(z.length==1){if(97<=S&&S<=122){var k="Key"+z.toUpperCase();P=k}else if(x[z])P=x[z]}if(z=="control"&&P!="")P="ControlLeft";
return P};i$.aDz=0;i$.a8V=function(o,P){var w=0;if(Date.now()-i$.aDz>1e3){w=P==0?100:P*10}else{if(o%10!=0)o*=10;
w=(o+P)%100}i$.aDz=Date.now();return w};i$.af5={nm:"No Touch",QO:["NoTouch"]};i$.w_={xx:"Enter",QO:["Enter","NumpadEnter"]};
i$.W1={xx:"Shift",cc:"\u21E7",QO:["ShiftLeft","ShiftRight"]};i$.aj$={xx:"Meta",QO:["MetaLeft","MetaRight","OSLeft","OSRight"]};
i$.Jm={xx:"Ctrl",cc:"\u2318",QO:i$.te()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
i$.JV={xx:"Alt",cc:"\u2325",QO:["AltLeft","AltRight"]};i$.adR={xx:"CtrlOrAlt",QO:i$.Jm.QO.concat(i$.JV.QO)};
i$.Sk={xx:"Escape",QO:["Escape"]};i$.yi={xx:"Space",QO:["Space"]};i$.W0={xx:"Tab",QO:["Tab"]};i$.ET={xx:"Home",QO:["Home"]};
i$.adw={xx:"End",QO:["End"]};i$.Ie={xx:"Left",QO:["ArrowLeft"]};i$.ag={xx:"Up",QO:["ArrowUp"]};i$.dV={xx:"Right",QO:["ArrowRight"]};
i$.uE={xx:"Down",QO:["ArrowDown"]};i$.wF={xx:"+",QO:["NumpadAdd","Equal"]};i$.KZ={xx:"-",QO:["NumpadSubtract","Minus"]};
i$.zc={xx:";",QO:["Semicolon"]};i$.adI={xx:"Dead",QO:["Dead"]};i$.ahx={xx:"=",QO:["Equal"]};i$.aa={xx:"Backspace",QO:["Backspace"]};
i$.bc={xx:"Delete",QO:["Delete"]};i$.auA={xx:"Backslash",QO:["Backslash","IntlBackslash"]};i$.aEJ={xx:"Slash",QO:["NumpadDivide","Slash"]};
i$.aAw={xx:"Backquote",QO:["Backquote"]};i$.ac={xx:"[",QO:["BracketLeft"]};i$.p6={xx:"]",QO:["BracketRight"]};
i$.Xy={xx:".",QO:["Period"]};i$.fz={xx:",",QO:["Comma"]};i$.fh={xx:"'",QO:["Quote"]};i$.l={xx:"A",QO:["KeyA"]};
i$.yA={xx:"B",QO:["KeyB"]};i$.cK={xx:"C",QO:["KeyC"]};i$.ie={xx:"D",QO:["KeyD"]};i$.E={xx:"E",QO:["KeyE"]};
i$.iI={xx:"F",QO:["KeyF"]};i$.S8={xx:"G",QO:["KeyG"]};i$.r3={xx:"H",QO:["KeyH"]};i$.pW={xx:"I",QO:["KeyI"]};
i$.XB={xx:"J",QO:["KeyJ"]};i$.gM={xx:"K",QO:["KeyK"]};i$.s$={xx:"L",QO:["KeyL"]};i$.CF={xx:"M",QO:["KeyM"]};
i$.pN={xx:"N",QO:["KeyN"]};i$.PW={xx:"O",QO:["KeyO"]};i$.AP={xx:"P",QO:["KeyP"]};i$.aAq={xx:"Q",QO:["KeyQ"]};
i$.Rz={xx:"R",QO:["KeyR"]};i$.An={xx:"S",QO:["KeyS"]};i$.Mn={xx:"T",QO:["KeyT"]};i$.Jj={xx:"U",QO:["KeyU"]};
i$.sY={xx:"V",QO:["KeyV"]};i$.a5I={xx:"W",QO:["KeyW"]};i$.DN={xx:"X",QO:["KeyX"]};i$.z9={xx:"Y",QO:["KeyY"]};
i$.sb={xx:"Z",QO:["KeyZ"]};i$.pU={xx:"0",QO:["Numpad0","Digit0"]};i$.x_={xx:"1",QO:["Numpad1","Digit1"]};
i$.avq={xx:"2",QO:["Numpad2","Digit2"]};i$.aBc={xx:"3",QO:["Numpad3","Digit3"]};i$.aCO={xx:"4",QO:["Numpad4","Digit4"]};
i$.aaG={xx:"5",QO:["Numpad5","Digit5"]};i$.a3Z={xx:"6",QO:["Numpad6","Digit6"]};i$.Z_={xx:"7",QO:["Numpad7","Digit7"]};
i$.aF2={xx:"8",QO:["Numpad8","Digit8"]};i$.a2e={xx:"9",QO:["Numpad9","Digit9"]};i$.j5=[i$.pU,i$.x_,i$.avq,i$.aBc,i$.aCO,i$.aaG,i$.a3Z,i$.Z_,i$.aF2,i$.a2e];
i$.a9H={xx:"F1",QO:["F1"]};i$.aa0={xx:"F2",QO:["F2"]};i$.agk={xx:"F3",QO:["F3"]};i$.a8z={xx:"FF",QO:["F4"]};
i$.ayF={xx:"F5",QO:["F5"]};i$.aqf={xx:"F6",QO:["F6"]};i$.ac7={xx:"F7",QO:["F7"]};i$.adl={xx:"F8",QO:["F8"]};
i$.avj={xx:"F9",QO:["F9"]};i$.abB={xx:"F10",QO:["F10"]};i$.a7B={xx:"F11",QO:["F11"]};i$.aEl={xx:"F12",QO:["F12"]};
function bF(o){this.EQ={};this.Jd={};this.acl=0;this.aqN={};this._Y=[];this.afe=0;this.oW=o;bF.KG=this}bF.agP=function(o,P){var I=0,w=bF.O5;
while(I<w.length){if((P>>>I&1)==1)break;I++}if(I!=0&&bF.oY(o,[33,126])>.7)I=0;if(P==0||w[I][1]==""){if((P&15)!=0&&bF.oY(o,[33,126])>.7)I=0;
else if(P==0)I=0;else{I=0}}return w[I][1]};bF.ra=120;bF.r2=20;bF.cols=16;bF.s5=function(o){var P=o.name.postScriptName;
if(P==null)return null;return P.replace(/ /g,"-")};bF.axW=function(o){var P=o.name,w=P.typoFamilyName,x=P.typoSubfamilyName,z=w&x,S=z?w:P.fontFamily,k=z?x:P.fontSubfamily;
if(k==null)k="Regular";var f=bF.a04,C=S.toLowerCase();for(var I=0;I<f.length;I++){if(f[I]=="roman")continue;
if(C.endsWith(" "+f[I])||C.endsWith("-"+f[I])){var H=S.length-f[I].length,b=S.slice(H);S=S.slice(0,H-1);
if(b!=""){if(k=="Regular"||k==S+" Regular")k=b;else k=b+" "+k}break}}var i="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var I=0;I<i.length;I++)if(S.startsWith(i[I])){var b=S.slice(i[I].length);S=i[I];if(b.startsWith(" ")||b.startsWith("-"))b=b.slice(1);
if(b!=""){if(k=="Regular")k=b;else k=b+" "+k}break}var M={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},T=M[bF.s5(o)];
if(T)k=T;return[S,k]};bF.prototype.ahz=function(o){var P=this.tv();for(var w in P)if(P[w][0]==o)this.M2(w)};
bF.prototype.akq=function(){return Object.keys(this.Jd).length!=0};bF.prototype.M2=function(o,P){if(this.EQ[o])return this.EQ[o];
if(this.Jd[o])return null;var w=null,x=this.tv();if(x[o]!=null)w=x[o][5];if(w==null){var z=bF.Fg[o];
if(z==null){var S="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),k=o.toLowerCase(),f=0;
if(k.indexOf("sans")!=-1)f=0;else if(k.indexOf("serif")!=-1)f=4;var C=k.indexOf("bold")!=-1||k.indexOf("-black")!=-1,H=k.indexOf("italic")!=-1||k.indexOf("oblique")!=-1||k.endsWith("-it");
if(C&&H)f+=3;else if(H)f+=2;else if(C)f+=1;z=S[f]}if(P!=null&&P>128)z=this.alf(P,z);if(this.aqN[o]==null){this.aqN[o]=1;
var b=Date.now()-this.acl>2e3?2e3:0;this.acl=Date.now();alert(o+" \u27A1 "+z,b)}return this.M2(z,P)}this.Jd[o]="a";
if(w=="--loc")bF.YO.load(o);else this.oW(w)};bF.prototype.alf=function(o,P,w){var x=this.EQ[P];if(x&&Typr.U.codeToGlyph(x,o)!=0)return P;
var z=this.tv(),S=bF.ael(o),k=S[0];if(z[P]&&(z[P][3]&k)==0){if(w)for(var I=0;I<w.length;I++){var f=w[I].Name,C=z[f];
if(C&&(C[3]&k)!=0)return f}var f=bF.O5[S[1]][4];if(z[f])return f}return P};bF.ael=function(o){var P=bF.O5,w=[0];
for(var I=0;I<P.length;I++){var x=P[I][2];for(var z=0;z<x.length;z+=2)if(x[z]<=o&&o<=x[z+1]){w[0]+=1<<I;
w.push(I)}}if(w.length==1)w.push(0);return w};bF.prototype.av$=function(){var o=this._Y,P=o[0],w=o.length-1;
alert(kQ.get([22,6,0])+" "+P+(w==0?"":", ... ("+w+")")+" "+kQ.get([23,0])+".",1500);this._Y=[]};bF.prototype.azq=function(o,P){if(P!=!0){this._Y.push(o.name.fullName);
clearTimeout(this.afe);this.afe=setTimeout(this.av$.bind(this),300)}var w=bF.s5(o),x=this.tv(),z=x[w],S=bF.aCX(o);
if(z==null){S.A5=bF.an4(o,S);this.tI(S)}delete this.Jd[w];this.EQ[w]=o};bF.afg=function(){var o=bF.O5,P=[];
for(var I=0;I<o.length;I++)P.push(o[I][0]);return P};bF.an4=function(o,P){var w=document.createElement("canvas"),x=w.getContext("2d"),z=w.width=bF.ra,S=w.height=bF.r2,k=bF.r2*1.2/o.head.unitsPerEm;
x.translate(4,bF.r2*.9);x.scale(k,-k);x.fillStyle="#000000";var f=Typr.U.shape(o,bF.agP(o,P[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(o,f),x);x.fill();var C=x.getImageData(0,0,z,S).data.buffer,H=eu.oi("PNG").D7([[C,0]],z,S,[1]);
return"data:image/png;base64,"+eu.i_(H)};bF.O5=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
bF.aCX=function(o,P,w){var x=o.name,C=0;if(bF.s5(o)==null){console.log(o);throw"No postScriptName!"}var z=bF.O5,S=[];
for(var I=0;I<z.length;I++){var k=z[I][2],f=z[I][3];S[I]=bF.oY(o,k)>f?1:0}for(var I=0;I<S.length;I++)C+=S[I]<<I;
var H=bF.axW(o);return[H[0],H[1],bF.s5(o),C,w,P]};bF.oY=function(o,P){var w=0,x=0;for(var z=0;z<P.length;
z+=2){for(var S=P[z];S<=P[z+1];S++){var k=Typr.U.codeToGlyph(o,S);if(k==0)x++;else w++}}return w/(w+x)};
bF.adA=function(o,P){if(o[2]<P[2])return-1;if(o[2]>P[2])return 1;return 0};bF.ar2=function(o,P){if(o[5]=="fs/"+o[2]+".otf")o[5]="";
else if(o[5]=="gf/"+o[2]+".otf")o[5]="a";if(o[2]==(o[0]+"-"+o[1]).replace(/\s/g,"")){o[2]=""}else if(o[2]==o[0].replace(/\s/g,"")){o[2]="a"}if(P){if(o[0]==P[0])o[0]="";
if(o[1]==P[1])o[1]="";if(o[3]==P[3])o[3]="";if(o[4]==P[4])o[4]=""}return o.join(",")};bF.a1W=function(o,P){o=o.split(",");
if(o[0]=="")o[0]=P[0];if(o[1]=="")o[1]=P[1];if(o[3]=="")o[3]=P[3];else o[3]=parseInt(o[3]);if(o[4]=="")o[4]=P[4];
else o[4]=parseInt(o[4]);if(o[2]=="")o[2]=(o[0]+"-"+o[1]).replace(/\s/g,"");else if(o[2]=="a")o[2]=o[0].replace(/\s/g,"");
if(o[5]=="")o[5]="fs/"+o[2]+".otf";else if(o[5]=="a")o[5]="gf/"+o[2]+".otf";return o};bF.Fg={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bF.prototype.tv=function(){if(FNTS.map==null){var o=FNTS.list,P=[];for(var I=0;I<o.length;I++){P[I]=bF.a1W(o[I],P[I-1]);
P[I].BG=I;this.tI(P[I])}}return FNTS.map};bF.prototype.tI=function(o){var P=o[0],w=o[1],x=o[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[o[2]]=o;if(FNTS.mapFS==null)FNTS.mapFS={};var z=FNTS.mapFS[P+"---"+w];FNTS.mapFS[P+"---"+w]=o;
if(FNTS.mapSub==null)FNTS.mapSub={};var S=FNTS.mapSub[P];if(S==null)S=FNTS.mapSub[P]=[];var k=S.indexOf(w);
if(k==-1)S.push(w);else S[k]=w};bF.a4j=function(o,P){return bF.Rv(o)-bF.Rv(P)};bF.Rv=function(o){o=o.toLowerCase();
var P=bF.a7M(o)+(bF.aeY(o)<<1);if(o.indexOf("cond")==-1)P+=1<<25;return P};bF.a7M=function(o){return o.indexOf("italic")!=-1||o.indexOf("oblique")!=-1?1:0};
bF.a04="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bF.a5n=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
bF.aeY=function(o){var P=bF.a5n,w=-1,x=-1;for(var I=0;I<P.length;I++){var z=P[I];if(z instanceof Array)for(var S=0;
S<z.length;S++){var k=z[S];if(o.indexOf(k)!=-1&&(w==-1||x<k.length)){w=I;x=k.length}}else if(o.indexOf(z)!=-1&&(w==-1||x<z.length)){w=I;
x=z.length}}if(w==-1)w=8;return w};bF.TP=function(o,P){var w=1e9,x=null,z=bF.Rv(P);for(var I=0;I<o.length;
I++){var S=Math.abs(bF.Rv(o[I])-z);if(S<w){w=S;x=o[I]}}return x};bF.prototype.b9=function(o,P){this.tv();
return FNTS.mapFS[o+"---"+P]};bF.prototype.dY=function(o){this.tv();return FNTS.mapSub[o]};bF.prototype.ab9=function(){this.tv();
return FNTS.mapSub};bF.YO={k$:null,BS:null};bF.YO.Ir=function(o){bF.YO.BS=o;var P=window.locStor.getItem("localFonts");
if(P){P=eu.bs(P);P=pako.inflate(new Uint8Array(P));P=bF.YO.k$=JSON.parse(L.bR(P));bF.YO.vF()}};bF.YO.load=function(o){var P=window.queryLocalFonts,w=bF.YO.k$.toPSN,x;
for(var eK in w)if(w[eK].indexOf(o)!=-1)x=eK;P({postscriptNames:[x]}).then(bF.YO.az3)};bF.YO.vF=function(){var o=bF.KG,P=bF.YO.k$,w=P.imap,x=o.tv();
for(var z in w){if(x[z])continue;var S=w[z].slice(0);S.A5=P.tmap[z];o.tI(S)}};bF.YO.SR=function(){var o=bF.YO.k$,P=pako.deflate(L.$f(JSON.stringify(o))),w=eu.i_(P.buffer);
console.log(w.length);window.locStor.setItem("localFonts",w)};bF.YO.r8=function(){var o=bF.YO.k$;return o!=null&&o.added};
bF.YO.hk=function(o,P,w){var x=bF.YO.k$;if(x){x.added=!x.added;bF.YO.SR();bF.YO.vF();return}var z=window.queryLocalFonts;
if(z==null){alert("This feature is not available in your web browser :(");w();return}z().then(bF.YO.az3.bind({aoe:P,a3a:w}))};
bF.YO.az3=async function(o){if(o.length==0){alert("You didn't allow us to access your fonts.");this.a3a();
return}if(o.length==1){var P=await o[0].blob();P=await P.arrayBuffer();gG.xI({name:"file.otf"},P,bF.YO.BS);
return}var w=new bO(G.E.X,!0),S=!1;w.data={Q:G.l._K,Sp:"Loading local fonts ..."};bF.YO.BS.j(w);var x=Date.now(),z=bF.YO.k$;
if(z==null)z=bF.YO.k$={toPSN:{},imap:{},tmap:{},added:!0};var k={};for(var I=0;I<o.length;I++){var f=o[I],C=f.postscriptName;
k[C]=!0;if(z.toPSN[C])continue;var P=await f.blob();P=await P.arrayBuffer();if(eu.IL(P)!="otf")continue;
var H=Typr.parse(P),b=[];for(var i=0;i<H.length;i++){var M=H[i],T=bF.s5(M);b.push(T);if(z.imap[T])continue;
var O=z.imap[T]=bF.aCX(M,"--loc",0);z.tmap[T]=bF.an4(M,O)}z.toPSN[C]=b;S=!0}for(var C in z.toPSN)if(k[C]==null){var Y=z.toPSN[C];
delete z.toPSN[C];for(var I=0;I<Y.length;I++){delete z.imap[Y[I]];delete z.tmap[Y[I]]}S=!0}if(S){console.log(Date.now()-x);
bF.YO.SR();bF.YO.vF();this.aoe()}else console.log("no change");var w=new bO(G.E.X,!0);w.data={Q:G.l.uz,Sp:"Loading local fonts ..."};
bF.YO.BS.j(w);alert("Local fonts loaded!")};var kQ={};kQ.zS=0;kQ.d3={};kQ.av5=function(o){var P=LNG.tables,w=P[o];
if(w==null)w=P[0];if(typeof w=="string"){w=P[o]=kQ.CG(w)}return w};kQ.CG=function(o){var P=[],w=0,x=0,z=[],S=o.length;
while(x!=S){var k=o[x];if(k=="["){P.push(z);z=[];x=w=x+1}else if(k=="]"){z.push(w==x?null:o.substring(w,x));
var f=z;z=P.pop();z.push(f);x=w=x+1}else if(k==";"){if(o[x-1]!="]")z.push(w==x?null:o.substring(w,x));
x=w=x+1}else x++}return z};kQ.get=function(o){if(typeof o=="string")return o;var P=typeof o[0];if(P=="number"){for(var I=1;
I<o.length;I++)if(typeof o[I]!="number"){console.log(o);throw"e"}return kQ.ei(o)}var w=kQ.get(o[0]);
for(var I=1;I<o.length;I++){var x=kQ.get(o[I]),z=w.indexOf("VAR"+(I-1));w=w.slice(0,z)+x+w.slice(z+4)}return w};
kQ.ei=function(o){var P=JSON.stringify(o);if(kQ.d3[P]!=null)return kQ.d3[P];var w=kQ.av5(0),x=kQ.av5(kQ.zS),z=kQ.aix(o,x);
if(z==null)z=kQ.aix(o,w);return z};kQ.aix=function(o,P){for(var I=0;I<o.length;I++){P=P[o[I]];if(P==null)return null;
else if(typeof P=="string")break}if(P instanceof Array)P=P[0];return P.split("::")[0]};kQ.anU=function(){var o=navigator.languages;
for(var I=0;I<o.length;I++)if(o[I]=="zh-HK"||o[I]=="zh-TW"||o[I]=="zh-MO")o[I]="zh-CHT";return o};kQ.aAc=function(){var o=kQ.anU(),P=function(x,z){var S=x.code,k=z.code;
if(S=="en")return-1;if(k=="en")return 1;var f=o.indexOf(S)!=-1,C=o.indexOf(k)!=-1;if(f&&C)return S>k?1:-1;
if(f)return-1;if(C)return 1;return S>k?1:-1},w=LNG.langs.slice(0);w.sort(P);return w};kQ.aGl=function(o,P){kQ.zS=o;
if(LNG.tables[o])P();else{var w=new XMLHttpRequest;w.open("GET",jM.$D("code/lang/"+o+".js"));w.onreadystatechange=function(){LNG.tables[o]=w.responseText;
P()};w.send()}};kQ.a8m=function(o,P){for(var w=0;w<2;w++){var x=!1;for(var I=0;I<LNG.langs.length;I++)if(LNG.langs[I].code==o){kQ.aGl(I,P);
x=!0}if(x)break;o=o.split("-")[0]}};kQ.azp=function(){return LNG.langs[kQ.zS].code};kQ.acK=function(o){for(var I=0;
I<o.length;I+=2)if(o[I+1].indexOf(">")==-1)kQ.d3[JSON.stringify(o[I])]=o[I+1]};kQ.aA6=function(o){var P=-1,w=LNG.langs;
for(var I=0;I<w.length;I++)if(w[I].code==o)P=I;return P};var di={Rg:!1,wv:!1,aeU:!1,vu:null};di.My=function(){return J.Kk[ct.e9]!=J.Kk[ct.atW]};
di.b1=function(){var o=J.Kk[ct.B9],P=o[ct.Ga],w=0,x=ct.Wn,z=J.GG("PP\\KQSB"),S=J.GG("Y_5UDDB>idge"),k=o[ct.XU](ct.aEu);
k[x](ct.wx,z);k[x](ct.VB,J.GG("fUMZKyqifDIhJ0*+&$-OG?<y~>"));P[ct.YY](k);k=o[ct.a9Z](z);if(k==null){w=2}else{if(!P[J.GG("R[WZDIKM")](k)){w=3}else if(Math.round(k[J.GG("VQ](RUK>@B8p71*03m}x'")]()[ct.a3u]-500)>5){w=4}P[ct.aBi](k)}if(di.wv)w=5;
if(di.aeU)w=6;return w};di.aDA=function(o){var P=J.j4("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),w={method:"HEAD",mode:"no-cors"},x=new Request(P,w);
fetch(x).then(function(z){return z}).then(function(z){var S=J.j4("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),x=new Request(S);
fetch(x).then(function(z){z.text().then(function(k){di.wv=k.length<2200;o(k.length<2200)})}).catch(function(k){di.wv=!0;
console.clear();o(!0)})}).catch(function(z){di.wv=!0;console.clear();o(!0)})};di.an3=function(){var o=J.GG("UU[YW#ECC8"),P=J.GG("VQ](RUK>@B8p71*03m}x'"),w=J.GG("WQRMKT"),x=this.ann[o][P]();
if(x[w]<4){di.aeU=!0;this.a3x(!0)}};di.aB6=function(){var o=J.Kk._cwY,P=J.Kk[ct.ajp],w="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",x=String.fromCharCode(32);
o(J.GG(w)+x+x+di.b1());if(!jM.lO())P(di.aB6,Math.round(Math.PI*1e4))};di.al$=function(o){var P=J.Kk[ct.B9],w=P[ct.XU](o[0]);
for(var x in o[1]){if(x=="txt")w[ct.gW]=o[1][x];else w[ct.Wn](x,o[1][x])}return w};di.aC6=function(o,P,w,x){J.eg(w);
var z=J.Kk[ct.B9],S=J.j4(" u.$%\"86<"),k=J.j4("!#c$,&"),f=J.Kk[S][k],C=J.Kk[J.j4(" u.$%\"86<")][J.j4("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!di.My()&&!di.b1()&&f&&o*P>300*300&&!C){var H=z[J.GG("VQ]+OEJ?EHDoD{&)l|&z")](ct.LB)[0],b=JSON.parse(J.j4("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var I=0;I<b.length;I++){var i=di.al$(b[b.length-1-I]);H[ct.aHc](i,H[ct.arL])}var M=J.j4("p}&$2a(:"),T=J.j4("'#!}i0%+"),O=J.j4("ps,}$\"40"),Y=J.Kk.__cbu=di.al$(JSON.parse(ct.GG("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
w[ct.YY](Y);J.Kk.___ggo=function(){J.Kk[O](ct.XF,2,function(W,t){if(t&&W[T]==!0){J.Kk.__csrf=null;if(!J.Kk[M]){J.Kk[M]=!0;
var _=di.ajN.bind({$a:w,head:H,Y:P});_()}}else{J.Kk.__csrf=!0}})}}else{var U=di.aar.bind({ann:w,aES:x,Y:P});
U();setInterval(U,3e4)}};di.aE3="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs>y#,J\"11)1/4HFLVmMVPmzs^eb-hqz9p  w }#75;E.IbBKEbohx{SbbZb`eyw}(?}.{,,Q5/AQ^WZg`cBsF}~%#{fmj5py#Ax(*-'(<4=?aAJDangRYV!\\en-dsuxrs( )+~:S3<6S`YilDSUXRSg_hj-k{iyy?#|/?LEHUNQ0a4klrpiT[X#^[j/gow{w($-ML,5/LYR=DAkGPYwPX`d`plu6f\";z$};HAQT-5=A=MIRrqP`N^^$gas$1*-:36tFxPQWUN9@=gCLUsTZcUf`^br1pys1>7\")&P,5>\\=CL>OIGK[Kf _hb -&69%(+D&,5'8204Db;JKbohkxqtS%W/074-w~{F\"+4R49<>FJ>NRoOXRo|u`gd/js|;|\"%'/3'7;*E^>GA^kdtwY^ackocsw5s$q\"\"G+%7GTMP]VY8i<st{xq\\c`+fox7 w .%*,48,<@]=F@]jcNUR|Xaj)qiq v{}&*}.2!<U5>8Ub[knWOWe\\ackocsw5s$q\"\"G+%7GTMP]VY8;";
di.aar=function(){var o=J.Kk[ct.B9],P=this.ann,w=this.aES,x=di.vu,z=this.Y;J.eg(P);var S=J.Kk[J.j4(" u.$%\"86<")][J.j4("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<1.25,k=x==1?1:di.aFz(z),f=JSON.parse(ct.j4(di.aE3)),C=o[ct.XU]("a");
C.textContent=ct.GG("0PhHOO@E@B8M/-9'\"0}y");C[ct.Wn](ct.ys,ct.GG("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
C[ct.Wn](ct.arq,ct.j4("pv${,,"));C[ct.Wn](ct.VB,ct.GG("R[UUUyTB@H6h"));if(!S)P[ct.YY](C);for(var I=0;
I<k;I++){var H=Math.random(),b=0,i=0;while(b+f[i][0]<H){b+=f[i][0];i++}if(S)i=1;var M=f[i],T=o[ct.XU](ct.Qs);
T[ct.Wn](ct.VB,ct.GG("Ra[YRRvJF=?B0:_")+ct.GG(x==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
T[ct.Wn](ct.Kr,M[x]);if(M.length>3){var O=M[3]+M[3+x],C=o[ct.XU]("a");C[ct.Wn](ct.ys,O);C[ct.Wn](ct.arq,ct.j4("pv${,,"));
C[ct.YY](T);P[ct.YY](C)}else{T[ct.XF](ct.s9,w,!1);P[ct.YY](T)}}};di.aFz=function(o){var P=2;if(o>=3*270+30)P=3;
if(o>=4*270+30)P=4;return P};di.aD$=function(o,P){var w=P;P-=30;var x=[];if(o==0)x.push(9);if(o==1){x.push(1);
P-=600+10;if(P-250>0){x.push(0);P-=250}}if(o==2){if(P-260>0){x.push(2);P-=260}if(P-260>0){x.push(3);
P-=260}if(P-260>0){x.push(4);P-=260}if(P-260>0){x.push(5);P-=260}if(P-260>0){x.push(6);P-=260}if(P-110>0){x.push(7);
P-=110}if(P-60>0){x.push(8);P-=60}}return x};di.ajN=function(){var o=ct.YY,P=ct.Wn,w=ct.XF,x=ct.Fg,z=ct.VB,S=ct.Kr,k=J.GG("P_bTF"),f=ct.gW,C=ct.Pp,H=J.Kk[ct.B9],b=ct.XU,i=ct.Me,M=this.$a,T=di.vu,O=this.head,Y=this.Y,U=J.j4("~u*\"'/P)9ADBCrlnR]"),W=J.Kk.__cbu,n=0;
if(W&&T==0)W[ct.Wn](ct.VB,"position:absolute; left:124px; bottom:2px");var t=[1/11,10/11],_=Math.random();
while(t[n]<_&&n<t.length-1){_-=t[n];n++}var y=new URLSearchParams(window.location.search),F=y.get("adsfrom");
if(F!=null)n=parseFloat(F);if(n!=0&&n!=1)n=0;var a=di.aD$(T,Y);if(n==0){console.log(0);if(!di.Rg){di.Rg=!0;
for(var I=0;I<2;I++){var V=H[ct.XU](ct.Me),D=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][I];
V[ct.Wn](ct.Kr,ct.j4(D));V[ct.Wn](ct.aC1,"");O[ct.YY](V)}var l=JSON.parse(ct.j4("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),Q=l[2]+"\n";
for(var I=0;I<a.length;I++)Q+=l[0][a[I]]+"\n";var V=H[ct.XU](ct.Me);V[ct.gW]=Q+l[3];O[ct.YY](V);for(var I=0;
I<a.length;I++){var m=H[ct.XU](ct.aEu);m[ct.Wn](ct.wx,l[1][a[I]]);if(a[I]!=0)m[ct.Wn](ct.VB,l[4][T]);
m[ct.VB].marginBottom="10px";var V=H[ct.XU](ct.Me),Q=ct.j4("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+l[1][a[I]]+"'); });";
V[ct.gW]=Q;m[ct.YY](V);M[ct.YY](m)}}}else{console.log(1);var V=H[b](i);V[P](S,J.j4("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
V[P](ct.aC1,"");O[o](V);var R=JSON.parse(J.j4("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var I=0;I<a.length;I++){var m=H[b](J.GG("SU_"));m[P](ct.wx,R[a[I]]);m[P](z,U);M[o](m)}}if(W)M[o](W)};
di.XM=function(o,P,w,x){clearInterval(di.AC);di.I6=o;di.wx=w?w:"default";di.wB=x==null?1:x;if(di.ajO==null){di.ajO=!0;
var z=J.Kk[ct.B9],S=z[ct.Ga],k=z[J.GG("VQ]+OEJ?EHDoD{&)l|&z")](ct.LB)[0],f=Math.random()<.5?0:1;di.afd=f;
console.log("===",f);var C=z[ct.XU](ct.Me);C[ct.Wn](ct.Kr,"//www.googletagservices.com/tag/js/gpt.js");
k[ct.YY](C);var C=z[ct.XU](ct.Me);C[ct.gW]="window.googletag = window.googletag || {cmd: []};";k[ct.YY](C)}if(P==null)P="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var H=window.confirm(P);if(!H)return;di.AC=setInterval(di.a3D,50)};di.a3D=function(){var o=di.afd;di.ct=1;
var P={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[di.wx];
if(o==1)P="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var w=window.googletag;if(w==null)return;
w.cmd.push(function(){var x=w.defineOutOfPageSlot(P,w.enums.OutOfPageFormat.REWARDED).addService(w.pubads());
w.enableServices();w.pubads().addEventListener("rewardedSlotReady",function(z){z.makeRewardedVisible()});
w.pubads().addEventListener("rewardedSlotGranted",function(){if(di.ct==1){di.wB--;di.ct=2;if(di.wB==0){if(di.I6)di.I6();
di.I6=null}}});w.pubads().addEventListener("rewardedSlotClosed",function(){if(di.ct==2){di.ct=0;if(di.wB>0)di.a3D()}});
w.display(x);w.pubads().refresh([x])});clearInterval(di.AC)};var h$={gw:-2,Og:{expires_at:0},q2:[]};
h$.Bf=function(o){if(o)h$.q2.splice(0,0,o);if(h$.gw==-2){h$.gw=-1;var P=document.createElement("script");
P.src="//apis.google.com/js/client.js";document.body.appendChild(P);P.onload=function(w){setTimeout(function(){h$.gw=0;
h$.Bf()},100)}}if(h$.gw==-1)return;if(h$.gw==1)return;if(h$.Og.expires_at>Date.now()*.001+30){while(h$.q2.length>0)h$.q2.pop()()}else{if(h$.gw==0)h$.gw=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:h$.gw==2?!1:!0},h$.aqr)})}};
h$.aqr=function(o){if(o&&!o.error){h$.Og=o;h$.gw=!1;h$.Bf()}else if(h$.gw==1){h$.gw=2;h$.Bf()}else alert("Error: "+o.error)};
h$.amy=function(){return"access_token="+h$.Og.access_token+"&token_type="+h$.Og.token_type};h$.aAb=function(){return h$.Og.token_type+" "+h$.Og.access_token};
var iX={a1_:null};iX.afE=375<<3;iX.fK=function(o){if(!jM.lO())return!1;var P="m"+Math.floor(Date.now()/(365.25*24*60*6e4/12)),w=jM.ao();
if(w==null)w={};var x=w.acc;if(x==null)return!0;var z=x.aiu;if(z==null)return!0;if(z[P]==null)return!0;
return z[P]+o<=iX.afE};iX.a7g=function(o){var P="m"+Math.floor(Date.now()/(365.25*24*60*6e4/12)),w=jM.ao();
if(w==null)w={};if(w.acc==null)w.acc={};var x=w.acc;if(x.aiu==null)x.aiu={};var z=x.aiu;if(z==null)return!0;
if(z[P]==null)z[P]=0;z[P]+=o;if(z[P]>1e3)alert(o+" AI credit"+(o==1?"":"s")+" spent. "+(iX.afE-z[P])+" left to use (in this month).",3500);
jM.jH(w)};iX.XM=function(o){var P="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch a short ad to do it for free?";
if(jM.lO())P="Out of AI credits :( Watch a short ad to do it for free?";di.XM(o,P,"inpa",1)};iX.fO=function(o){if(o&&iX.ru(o)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};iX.ru=function(o){function P(b,i){if((b&i)==0)return b;return b+i+1-(b&i)}var w=o.R[o.T[0]].rect,x=o.e.rect.SN(w),k=7;
if(x.c()>1e3*1e3)return null;var z=P(x.q,7)*P(x._,7)*1.2>512*512||Math.max(P(x.q,7),P(x._,7))>1024;if(Math.max(x.q,x._)>1024*(z?2:1))return null;
var S=512*512;if(z){S=1024*1024;k=15}while(!0){var f=x.clone();f.$b(1,1);f=f.SN(w);f=f.SN(new fA(0,0,o.q,o._));
var C=P(f.q,k),H=P(f._,k);if(f.c()>x.c()&&C*H<=S&&Math.max(C,H)<=2048)x=f;else break}x.q=P(x.q,k);x._=P(x._,k);
return x};iX.a9v=function(o,P,w,x,z){if(!navigator.onLine){alert("Get online to use this feature.");
return}var S=w?iX.ru(w).c()>512*512:!0,k,f,C="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",M=!1;
C=JSON.parse(ct.j4(C));var H={};H[C[0]]=o;H[C[1]]=S?2:1;H[C[2]]=30;H[C[3]]=w?C[4]:C[5];H[C[12]]=C[13];
H[C[14]]=C[15];if(z)for(var b in z)H[b]=z[b];console.log(H);var i="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var I=0;I<i.length;I++)if(o.indexOf(i[I])!=-1)M=!0;if(M){var T=iX.fK(3)?"Premium":"Free";jM.event("dez"+"go_Nu"+"de "+T)}var O=new FormData;
if(w==null)k=f=512;else{var Y=iX.ru(w),U=w.R[w.T[0]],W=w.e,t=e.U(Y.c()*4);e.sR(U.buffer,U.rect,t,Y);
var _=e.U(Y.c());e.d0(W.channel,W.rect,_,Y);e.round(_);for(var I=0;I<_.length;I++)if(t[I*4+3]<128)_[I]=255;
if(S){console.log("downscaling");var n=e.EA(t,Y);t=n.eD;var y=e.be(_,Y);_=y.eD;Y=y.rect}var F=eu.oi("jpg"),a=F.D7([[t.buffer]],Y.q,Y._,[90]),V=e.U(Y.c()*4);
V.fill(255);e.K0(_,V);var D=UPNG.encode([V.buffer],Y.q,Y._,null,null,null,!0);O.append(C[9],new Blob([a],{type:"image/jpeg"}));
O.append(C[10],new Blob([D],{type:"image/png"}));k=Y.q;f=Y._}for(var b in H)O.append(b,H[b]);iX.aqb(w==null?C[7]:C[8],O,P,x);
iX.a1_=[k,f,S,P==null];return 1};iX.aqb=function(o,P,w,x){var z=ct.GG("W`]VVykh8D:[/-?).I{% >"),S=ct.GG("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),k=new J.Kk[ct.nK],f;
if(w==null){var C=0,H=ct.GG("XYJMH"),b=ct.GG("XZRZBIJ;>9"),prompt=ct.GG("_^XSST");if(P.get(H))C+=P.get(H).size;
if(P.get(b))C+=P.get(b).size;if(P.get(prompt))C+=P.get(prompt).length;var i=C*19+47631,M=String.fromCharCode(65+(i&15))+String.fromCharCode(100+(i>>>4&15));
f=ct.GG("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+o+ct.GG("tYNZKOAv")+M;k[ct.A8](ct.a8k,f,!0)}else{f=z+o;
k[ct.A8](ct.a8k,f,!0);k[ct.adH](ct.GG("Gx-K]GLf\"9J"),w?w:S)}k[ct.Js]=x;k[ct.a6j]=ct.abO;k[ct.ox](P)};
iX.Oh=function(o){var P=iX.fK(3);jM.event("rembg_"+(o?"Inpaint":"Generate")+": "+(P?"Premium":"Free"));
if(P){jM.event("aiusg_"+jM.qx().id);jM.event("aiusg_"+jM.qx().id);jM.event("aiusg_"+jM.qx().id);iX.a7g(3)}};
function eD(o,P){if(!o)o=0;if(!P)P=0;this.x=o;this.y=P}eD.prototype.add=function(o){return new eD(this.x+o.x,this.y+o.y)};
eD.prototype.clone=function(){return new eD(this.x,this.y)};eD.prototype.iB=function(o){this.x=o.x;this.y=o.y};
eD.prototype.w6=function(o){return this.x==o.x&&this.y==o.y};eD.prototype.normalize=function(o){var P=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=o/P;this.y*=o/P};eD.prototype.offset=function(o,P){this.x+=o;this.y+=P};eD.prototype.Mx=function(o,P){this.x=o;
this.y=P};eD.prototype.WJ=function(o){return new eD(this.x-o.x,this.y-o.y)};eD.a_=function(o,P){return eD.alL(o.x,o.y,P.x,P.y)};
eD.acQ=function(o,P,w){return new eD(o.x+w*(P.x-o.x),o.y+w*(P.y-o.y))};eD.ayu=function(o,P){return new eD(o*Math.cos(P),o*Math.sin(P))};
eD.alL=function(o,P,w,x){return Math.sqrt((w-o)*(w-o)+(x-P)*(x-P))};eD.Fb={};eD.xl={};eD.Fb.create=function(){var o=new Float32Array(4);
return o};eD.xl.create=function(o){var P=new Float32Array(16);P[0]=P[5]=P[10]=P[15]=1;if(o)eD.xl.set(o,P);
return P};eD.Fb.add=function(o,P,w){w[0]=o[0]+P[0];w[1]=o[1]+P[1];w[2]=o[2]+P[2];w[3]=o[3]+P[3]};eD.Fb.set=function(o,P){P[0]=o[0];
P[1]=o[1];P[2]=o[2];P[3]=o[3]};eD.xl.set=function(o,P){P[0]=o[0];P[1]=o[1];P[2]=o[2];P[3]=o[3];P[4]=o[4];
P[5]=o[5];P[6]=o[6];P[7]=o[7];P[8]=o[8];P[9]=o[9];P[10]=o[10];P[11]=o[11];P[12]=o[12];P[13]=o[13];P[14]=o[14];
P[15]=o[15]};eD.xl.multiply=function(o,P,w){var x=o[0],z=o[1],S=o[2],k=o[3],f=o[4],C=o[5],H=o[6],b=o[7],i=o[8],M=o[9],T=o[10],O=o[11],Y=o[12],U=o[13],W=o[14],t=o[15],_=P[0],n=P[1],y=P[2],F=P[3];
w[0]=_*x+n*f+y*i+F*Y;w[1]=_*z+n*C+y*M+F*U;w[2]=_*S+n*H+y*T+F*W;w[3]=_*k+n*b+y*O+F*t;_=P[4];n=P[5];y=P[6];
F=P[7];w[4]=_*x+n*f+y*i+F*Y;w[5]=_*z+n*C+y*M+F*U;w[6]=_*S+n*H+y*T+F*W;w[7]=_*k+n*b+y*O+F*t;_=P[8];n=P[9];
y=P[10];F=P[11];w[8]=_*x+n*f+y*i+F*Y;w[9]=_*z+n*C+y*M+F*U;w[10]=_*S+n*H+y*T+F*W;w[11]=_*k+n*b+y*O+F*t;
_=P[12];n=P[13];y=P[14];F=P[15];w[12]=_*x+n*f+y*i+F*Y;w[13]=_*z+n*C+y*M+F*U;w[14]=_*S+n*H+y*T+F*W;w[15]=_*k+n*b+y*O+F*t;
return w};eD.xl.inverse=function(o,P){var w=o[0],x=o[1],z=o[2],S=o[3],k=o[4],f=o[5],C=o[6],H=o[7],b=o[8],i=o[9],M=o[10],T=o[11],O=o[12],Y=o[13],U=o[14],W=o[15],t=w*f-x*k,_=w*C-z*k,n=w*H-S*k,y=x*C-z*f,F=x*H-S*f,a=z*H-S*C,V=b*Y-i*O,D=b*U-M*O,l=b*W-T*O,Q=i*U-M*Y,m=i*W-T*Y,R=M*W-T*U,$=t*R-_*m+n*Q+y*l-F*D+a*V;
if(!$){return null}$=1/$;P[0]=(f*R-C*m+H*Q)*$;P[1]=(z*m-x*R-S*Q)*$;P[2]=(Y*a-U*F+W*y)*$;P[3]=(M*F-i*a-T*y)*$;
P[4]=(C*l-k*R-H*D)*$;P[5]=(w*R-z*l+S*D)*$;P[6]=(U*n-O*a-W*_)*$;P[7]=(b*a-M*n+T*_)*$;P[8]=(k*m-f*l+H*V)*$;
P[9]=(x*l-w*m-S*V)*$;P[10]=(O*F-Y*n+W*t)*$;P[11]=(i*n-b*F-T*t)*$;P[12]=(f*D-k*Q-C*V)*$;P[13]=(w*Q-x*D+z*V)*$;
P[14]=(Y*_-O*y-U*t)*$;P[15]=(b*y-i*_+M*t)*$;return P};eD.xl.arQ=function(o,P,w){var x=P[0],z=P[1];w[0]=x*o[0]+z*o[4]+o[12];
w[1]=x*o[1]+z*o[5]+o[13]};eD.xl.aCw=function(o,P,w){var x=P[0],z=P[1],S=P[2],k=P[3];w[0]=o[0]*x+o[4]*z+o[8]*S+o[12]*k;
w[1]=o[1]*x+o[5]*z+o[9]*S+o[13]*k;w[2]=o[2]*x+o[6]*z+o[10]*S+o[14]*k;w[3]=o[3]*x+o[7]*z+o[11]*S+o[15]*k};
function fA(o,P,w,x){if(!o)o=0;if(!P)P=0;if(!w)w=0;if(!x)x=0;this.x=o;this.y=P;this.q=w;this._=x}fA.prototype.c=function(){return this.q*this._};
fA.prototype.clone=function(){return new fA(this.x,this.y,this.q,this._)};fA.prototype.contains=function(o,P){return o>=this.x&&o<=this.x+this.q&&(P>=this.y&&P<=this.y+this._)};
fA.prototype.ga=function(o){return this.contains(o.x,o.y)};fA.prototype.rf=function(o){return this.x<=o.x&&this.y<=o.y&&o.x+o.q<=this.x+this.q&&o.y+o._<=this.y+this._};
fA.prototype.iB=function(o){this.x=o.x;this.y=o.y;this.q=o.q;this._=o._};fA.prototype.w6=function(o){return this.x==o.x&&this.y==o.y&&this.q==o.q&&this._==o._};
fA.prototype.$b=function(o,P){this.x-=o;this.y-=P;this.q+=2*o;this._+=2*P};fA.prototype.arS=function(o){this.$b(o.x,o.y)};
fA.prototype.SN=function(o){var P=Math.max(this.x,o.x),w=Math.max(this.y,o.y),x=Math.min(this.x+this.q,o.x+o.q),z=Math.min(this.y+this._,o.y+o._);
if(x<P||z<w)return new fA;else return new fA(P,w,x-P,z-w)};fA.prototype.EI=function(o){if(o.y+o._<this.y||o.x>this.x+this.q||o.y>this.y+this._||o.x+o.q<this.x)return!1;
return!0};fA.prototype.Mw=function(){return this.q<=0||this._<=0};fA.prototype.offset=function(o,P){this.x+=o;
this.y+=P};fA.prototype.a5S=function(o){this.offset(o.x,o.y)};fA.prototype.a1j=function(){this.x=this.y=this.q=this._=0};
fA.prototype.Mx=function(o,P,w,x){this.x=o;this.y=P;this.q=w;this._=x};fA.prototype.It=function(o){if(this.Mw())return o.clone();
if(o.Mw())return this.clone();var P=this.clone();P.apn(o);return P};fA.a0=new Float32Array(2);fA.prototype.apn=function(o){if(o.Mw())return;
if(this.Mw()){this.iB(o);return}this.atH(o.x,o.y);this.atH(o.x+o.q,o.y+o._)};fA.prototype.atH=function(o,P){var w=Math.min(this.x,o),x=Math.min(this.y,P);
this.q=Math.max(this.x+this.q,o)-w;this._=Math.max(this.y+this._,P)-x;this.x=w;this.y=x};fA.prototype.a7T=function(o,P){this.x=o;
this.y=P;this.q=this._=0};function ar(o,P,w,x,z,S){if(typeof o==="undefined"){o=1;P=0;w=0;x=1;z=0;S=0}this.F=o;
this.b=P;this.JJ=w;this.RL=x;this.$X=z;this.Ar=S}ar.prototype.gz=function(){return Math.sqrt(Math.abs(this.F*this.RL-this.b*this.JJ))};
ar.prototype.alP=function(){var o=this,P=function(w){return Math.abs(w)<1e-9?0:w};o.F=P(o.F);o.b=P(o.b);
o.JJ=P(o.JJ);o.RL=P(o.RL);o.$X=P(o.$X);o.Ar=P(o.Ar)};ar.prototype.Zc=function(o){return new eD(o.x*this.F+o.y*this.JJ+this.$X,o.x*this.b+o.y*this.RL+this.Ar)};
ar.prototype.translate=function(o,P){this.$X+=o;this.Ar+=P};ar.prototype.rotate=function(o){var P=new ar(Math.cos(o),-Math.sin(o),Math.sin(o),Math.cos(o),0,0);
this.concat(P)};ar.prototype.scale=function(o,P){var w=new ar(o,0,0,P,0,0);this.concat(w)};ar.prototype.concat=function(o){this.iB(new ar(this.F*o.F+this.b*o.JJ,this.F*o.b+this.b*o.RL,this.JJ*o.F+this.RL*o.JJ,this.JJ*o.b+this.RL*o.RL,this.$X*o.F+this.Ar*o.JJ+o.$X,this.$X*o.b+this.Ar*o.RL+o.Ar))};
ar.prototype.Sd=function(){var o=this.F*this.RL-this.b*this.JJ;this.iB(new ar(this.RL/o,-this.b/o,-this.JJ/o,this.F/o,(this.JJ*this.Ar-this.RL*this.$X)/o,(this.b*this.$X-this.F*this.Ar)/o))};
ar.prototype.clone=function(){return new ar(this.F,this.b,this.JJ,this.RL,this.$X,this.Ar)};ar.prototype.iB=function(o){this.F=o.F;
this.b=o.b;this.JJ=o.JJ;this.RL=o.RL;this.$X=o.$X;this.Ar=o.Ar};function eu(){}eu.a3Q={azY:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aDI:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
eu.gi=function(o,P){var w=o.memory.buffer.byteLength;if(w<P)o.memory.grow((P-w>>>16)+1)};eu.hP={np:function(o,P){fetch(o).then(function(w){return w.arrayBuffer()}).then(function(w){var x=new Uint8Array(w),z=0,C="";
if(P){z=x.length;var S={level:9},k=pako.deflateRaw(x,S),f=UZIP.deflateRaw(x,S);console.log(z,k.length,f.length);
x=k.length<f.length?k:f}for(var I=0;I<x.length;I++)C+=String.fromCharCode(x[I]);var H=btoa(C);console.log(JSON.stringify([z,H]))})},get:function(o,P){var w=BINDB[o],x=Date.now(),z=atob(w[1]),S=z.length,k=new Uint8Array(S);
for(var I=0;I<S;I++)k[I]=z.charCodeAt(I);if(w[0]!=0){var f=new Uint8Array(w[0]);UZIP.inflateRaw(k,f);
k=f}if(P){var C=eu.IL(k.buffer);k=eu.oi(C).mJ(k.buffer)}return k}};eu.IL=function(o){if(!(o instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var P=new Uint8Array(o),w=eu.a5u,x,z=0,S=P.length-1;
if(w(P,[239,187,191]))z=3;while(z<P.length&&(P[z]==9||P[z]==10||P[z]==13||P[z]==32))z++;while(S!=0&&(P[S]==9||P[S]==10||P[S]==13||P[S]==32))S--;
if(w(P,[56,66,80,83]))x="psd";if(w(P,[6,6,237,245]))x="indd";if(w(P,[68,73,67,77],128))x="dcm";if(w(P,[99,104,108,118]))x="chlv";
if(w(P,[208,207,17,224]))x="ufo";if(w(P,[102,116,121,112,109,105,102,49],4)||w(P,[102,116,121,112,97,118,105,102],4))x="avif";
if(w(P,[102,116,121,112,105,115,111,109],4))x="mp4";if(w(P,[102,116,121,112,109,112,52,50],4))x="mp4";
if(w(P,[102,116,121,112,113,116,32,32],4))x="mp4";if(w(P,[102,116,121,112,99,114,120,32],4))x="cr3";
if(w(P,[0,255,75,65]))x="afphoto";if(w(P,[67,83,70,67,72,85,78,75]))x="clip";if(w(P,[70,82,65,67]))x="frac";
if(w(P,[120]))x="pxd";if(w(P,[80,68,78,51]))x="pdn";if(w(P,[103,105,109,112,32,120,99,102,32]))x="xcf";
if(w(P,[102,105,103,45,107,105,119,105]))x="fig";if(w(P,[105,99,110,115]))x="icns";if(w(P,[137,80,78,71,13,10,26,10])){x="png";
var k=8;while(k<P.length){var f=L.RS(P,k);k+=4;var C=L.AW(P,k,4);k+=4;if(C=="mkTS")x="fpng";k+=f+4}}if(w(P,[87,76]))x="cdr";
if(w(P,[82,73,70,70])){var H=dR.M3(P),b=H.Fs;if(b=="WEBP")x="webp";else if(b.slice(0,3)=="CDR")x="cdr";
else x=b}if(w(P,[70,79,82,77])||w(P,[70,79,82,52])||w(P,[76,73,83,84])||w(P,[67,65,84,32])){var H=h0.M3(P),b=H.Fs;
if(b=="ILBM"||b=="CIMG"||b=="ANIM")x="ilbm";else x=b}if(w(P,[255,216,255]))x="jpg";if(w(P,[0,0,0,12,106,80,32,32]))x="jpg";
if(w(P,[48,0,1,0],4))x="jb2";if(w(P,[71,73,70,56]))x="gif";if(w(P,[0,0,0,2,121,102,113,76]))x="msh";
if(w(P,[0,0,0,3,121,102,113,76]))x="msh";if(w(P,[0,0,0,16]))x="atn";if(w(P,[0,1]))x="aco";if(w(P,[0,2]))x="aco";
if(w(P,[65,83,69,70]))x="aco";if([0,1].indexOf(P[1])!=-1&&[1,2,3,9,10,11].indexOf(P[2])!=-1&&[0,16,24,32].indexOf(P[7])!=-1)x="tga";
if(w(P,[0,2,56,66,83,76]))x="asl";if(w(P,[0,1,0,-1,0,2,0]))x="abr";if(w(P,[0,2,0,-1,0,2,0]))x="abr";
if(w(P,[0,6,0,1]))x="abr";if(w(P,[0,6,0,2]))x="abr";if(w(P,[0,7,0,2]))x="abr";if(w(P,[0,9,0,2]))x="abr";
if(w(P,[0,10,0,2]))x="abr";if(w(P,[56,66,70,83]))x="shc";if(w(P,[56,66,80,84]))x="pat";if(w(P,[56,66,71,82]))x="grd";
if(w(P,[71,73,77,80,32,71,114,97]))x="grd";if(w(P,[56,66,84,80]))x="tpl";if(w(P,[0,4,0,5]))x="acv";if(w(P,[99,117,115,104]))x="csh";
if(w(P,[0,1,0,0,0]))x="otf";if(w(P,[79,84,84,79]))x="otf";if(w(P,[116,116,99,102]))x="otf";if(w(P,[68,68,83,32]))x="dds";
if(w(P,[80,86,82,3]))x="pvr";if(w(P,[86,84,70,0]))x="vtf";if(w(P,[83,73,77,80]))x="fits";if((w(P,[0,0,1,0])||w(P,[0,0,2,0]))&&P[4]!=0)x="ico";
if(w(P,[66,77]))x="bmp";if(w(P,[40,0,0,0]))x="bmp";if(w(P,[80,49]))x="ppm";if(w(P,[80,50]))x="ppm";if(w(P,[80,51]))x="ppm";
if(w(P,[80,52]))x="ppm";if(w(P,[80,53]))x="ppm";if(w(P,[80,54]))x="ppm";if(w(P,[73,73,42,0]))x="tiff";
if(w(P,[77,77,0,42]))x="tiff";if(w(P,[73,73,85,0]))x="tiff";if(w(P,[73,73,82,83]))x="tiff";if(w(P,[73,73,82,79]))x="tiff";
if(x=="tiff"){var i=UTIF.decode(P),M=eu.XG.aGx(i);if(M[1])x=M[1];else if(i[0].t37724)x="ptif"}if(w(P,[70,85,74,73,70,73,76,77]))x="raf";
if(w(P,[112]))x="lif";if(w(P,[73,73,26,0]))x="ciff";if(w(P,[83,81,76,105]))x="sketch";if(w(P,[80,75])){var T=UZIP.parse(o,!0);
if(T["document.json"])x="sketch";else if(T.manifest)x="xd";else if(T["maindoc.xml"])x="kra";else if(T["content/root.dat"])x="cdr";
else if(T["content/riffData.cdr"])x="cdr";else if(T["canvas.fig"])x="fig";else if(T["manifest.json"])x="pxz";
else x="zip"}if(w(P,[123]))x="json";if(L.RS(P,0)==P.length)x="icc";if(w(P,[35]))x="icc";if(w(P,[84,73,84,76],z))x="icc";
if(w(P,[76,85,84,95],z))x="icc";if(w(P,[60,63,120,109],z)){if(L.mG(P,"<look>")!=-1)x="icc";else x="svg"}if(w(P,[255,254,60,0],z))x="svg";
if(w(P,[60,115,118,103],z))x="svg";if(w(P,[60,33,100,111],z)||w(P,[60,33,68,79],z)||w(P,[60,33,45,45],z)){if(L.mG(P,"<svg")!=-1)x="svg";
else x="html"}if(w(P,[37,33])||w(P,[197,208,211,198])){if(L.mG(P,"%AI9_PrivateDataBegin")!=-1||L.mG(P,"%AI5_BeginLayer")!=-1)x="ai";
else x="eps"}if(w(P,[37,80,68,70],z)){var O=L.mG(P,"/AIMetaData ");if(O!=-1){if(L.mG(P,">>/Encrypt ",O)!=-1)x="pdf";
else x="ai"}else x="pdf"}else if(w(P,[10,69,79,70],S-3))x="dxf";if(w(P,[1,0,9,0]))x="wmf";if(w(P,[215,205,198,154]))x="wmf";
if(w(P,[1,0,0,0]))x="emf";if(w(P,[118,47,49,1]))x="exr";if(w(P,[10,10,10,10]))x="jsx";if(w(P,[77,90]))x="exe";
if(x==null&&e.raw.BM(P.length)!=null)return"tiff";return x};eu.a5u=function(o,P,w){if(w==null)w=0;for(var I=0;
I<P.length;I++)if(P[I]!=-1&&o[w+I]!=P[I])return!1;return!0};eu.oi=function(o){var P={BMP:eu.amf,CDR:eu.yo,DDS:eu.vn,EMF:eu.eG,DXF:eu.on,EPS:eu.Qh,FIG:eu.MD,FPNG:eu.jA,INDD:eu.nQ,CHLV:eu.asF,GIF:eu.nf,ICO:eu.wi,ILBM:eu.ayp,FITS:eu.a5G,EXR:eu.Ab,JPG:eu.iy,LIF:eu.x6,DCM:eu.aGM,PDF:eu.H9,PDN:eu.vj,PNG:eu.vD,ICNS:eu.ax1,PPM:eu.fZ,PSD:eu.uB,PXD:eu._P,PXZ:eu.j0,RAW:eu.ui,SKETCH:eu.WG,UFO:eu.QX,SVG:eu.wt,TGA:eu.cD,AVIF:eu.a5c,TIFF:eu.XG,PTIF:eu.LP,DNG:eu.XG,CR2:eu.XG,NEF:eu.XG,ARW:eu.XG,RW2:eu.XG,ORF:eu.XG,FFF:eu.XG,RAF:eu.Td,CR3:eu.k6,VTF:eu.aFH,WEBP:eu.a$,WMF:eu.ON,XCF:eu.EG,XD:eu.yZ,KRA:eu.Om,EXE:eu.aEW,AI:eu.DW,AFPHOTO:eu.nk,CLIP:eu.kp,FRAC:eu.MJ,MP4:eu.aF5};
return P[o.toUpperCase()]};eu.nG=function(I){var o=eu.a3Q.azY,P=eu.a3Q.aDI,w,x=[];if(I==null)w=o.concat(P);
else w=I==0?o:P;for(var I=0;I<w.length;I++)if(eu.oi(w[I]).D7)x.push(w[I]);return x};eu.asy=function(){var o;
function P(x){var z=x.target,S=z.width,k=z.height,f=document.createElement("canvas");f.width=S;f.height=k;
var C=f.getContext("2d");C.drawImage(z,0,0);o({pv:new fA(0,0,S,k),data:C.getImageData(0,0,S,k).data.buffer})}function w(x,z,S){o=S;
var k=document.createElement("img");k.onload=P;k.src="data:"+z+";base64,"+eu.i_(x)}return w}();eu.yr=function(o,P,w,x,z){var S=eu.iK(o,P,w,x,z),k=eu.ML(S);
return k.buffer};eu.ML=function(o){var P=atob(o.split(",").pop()),w=new Uint8Array(P.length);for(var I=0;
I<P.length;I++)w[I]=P.charCodeAt(I);return w};eu.iK=function(o,P,w,x,z,S){if(!(o instanceof ArrayBuffer))throw"e";
if(x==null)x="png";if(x=="png"&&S==!0){var k=eu.oi("PNG").D7([[o,0]],P,w);return"data:image/png;base64,"+eu.i_(k)}var f=eu.Av;
if(f==null)f=eu.Av=document.createElement("canvas");if(f.width!=P||f.height!=w){f.width=P;f.height=w}var C=f.getContext("2d"),H=new ImageData(new Uint8ClampedArray(o,0,P*w*4),P,w);
C.putImageData(H,0,0);return f.toDataURL("image/"+x,z)};eu.ahX=function(o,P,w,x,z){if(z==null)z=0;var S="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",k="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+S+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(o==1)k+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
k+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+z+")\" xlink:href=\""+P+"\" x=\""+80*w+"\" y=\""+80*x+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var f=new Uint8Array(k.length);L.zl(k,f,0);var C="data:image/svg+xml;base64,"+eu.i_(f.buffer);return{yp:C,sn:new fA(0,0,128,128),yK:new eD(64,64)}};
eu.i_=function(o){var P=new Uint8Array(o),w="";for(var I=0;I<P.length;I++)w+=String.fromCharCode(P[I]);
return btoa(w)};eu.bs=function(o){var P=atob(o),w=P.length,x=new Uint8Array(w);for(var I=0;I<w;I++)x[I]=P.charCodeAt(I);
return x.buffer};eu.abv=function(o){var P=[],w=[];for(var I=0;I<o.R.length;I++){var x=o.R[I];if(x.getName().slice(0,3)=="_a_"){P.push(I);
w.push(x.ny())}}return[P,w]};eu.Gi=function(o,P,w,x,z,S){if(w==null)w=o.q;if(x==null)x=o._;var k=new fA(0,0,o.q,o._),f=new ar(w/(o.q+.001),0,0,x/(o._+.001),0,0),H;
P=P.toUpperCase();var C=eu.oi(P);if(C.VV){H=C.D7(o,w,x,z,S)}else if(bn==1){var b=o.anb(S,w,x);H=C.D7([[b,0,o.vz,o.wz]],w,x,z)}else{if(z)z=z.slice(0);
var i=eu.abv(o),M=i[0],T=i[1],O=o.M1(),Y=O&&z?z.pop():!1,U=O&&!Y?O[0]:null,W=null;if(o.Cg.length!=0){W=[];
for(var I=0;I<o.Cg.length;I++)W.push(o.Cg[I].Hz(k))}if(M.length<2){var t=eu.aqG(o.Ey(),O,Y,o),_;if(w==o.q&&x==o._)_=t.buffer;
else{var n=N.DH.x$([t,k],f);_=n.buffer.buffer;if(W){var y=e.U(k.c()*4);for(var I=0;I<W.length;I++){e.lI(W[I],y,3);
var n=N.DH.x$([y,k],f),F=W[I]=e.U(n.rect.c());e.JX(n.buffer,F,3)}}}H=C.D7([[_,0,o.vz,o.wz,W,U]],w,x,z)}else{var a=[];
for(var I=0;I<M.length;I++){var V=M[I],_;for(var D=0;D<M.length;D++)o.R[M[D]].Kt(M[D]==V);o.GO();o.N();
o.cj();if(w==o.q&&x==o._)_=o.Ey().buffer.slice(0);else{var n=N.DH.x$([o.Ey(),k],f);_=n.buffer.buffer}_=eu.aqG(new Uint8Array(_),O,Y,o).buffer;
var l=o.R[V].getName().split(",");a.push([_,l[1]?parseInt(l[1]):100,o.vz,o.wz,W,U])}for(var I=0;I<M.length;
I++)o.R[M[I]].Kt(T[I]);o.N();o.cj();if(z){z.push(100);var Q=z.length,m=z[Q-3],R=z[Q-2],$=z[Q-5]/100,p=z[Q-1]/100;
if($!=1)for(var I=0;I<a.length;I++)a[I][1]=Math.round((a[I][1]==0?16:a[I][1])/$);if(p<1){var c=0,B=[],E=0,D=0;
for(var I=0;I<a.length;++I){c+=a[I][1];if(I>0){B.push(B[B.length-1]+a[I-1][1])}else{B.push(0)}}var Z=p*a.length,v=c/Z,g=[];
for(var I=0;I<Z;++I){var u=0;while(E>B[D]&&D+1<a.length){u+=a[D][1];++D}if(u!=0){var j=Math.round(Math.min(1,(B[D]-E)/a[D][1])*u);
g[g.length-1][1]+=u-j;if(a[D][1]<a[D-1][1]/2){g.push(a[D-1])}else{g.push(a[D])}g[g.length-1][1]=a[D][1]+j}else if(D<a.length){g.push(a[D])}E+=v;
++D}while(D<a.length){g[g.length-1][1]+=a[D][1];++D}a=g}if(m)a.reverse();if(R){var A=a.slice(1,a.length-1);
A.reverse();a=a.concat(A)}}H=C.D7(a,w,x,z)}}return H};eu.aqG=function(o,P,w,x){var z=x.KA();if(w){o=o.slice(0);
ICC.U.applyLUT(P[3],P[2],o,o)}else if(z&&x.add.fcmy==1){o=o.slice(0);ICC.U.applyLUT(z[x.add.fcmy==1?5:3],z[2],o,o)}return o};
eu.a0C=function(o,P){var w=new Uint8Array(o.data),x=new Uint8Array(P.data),z=0,S=0;for(var k=0;k<w.length;
k+=4){var f=w[k]-x[k],C=w[k+1]-x[k+1],H=w[k+2]-x[k+2],b=w[k+3]-x[k+3],i=f*f+C*C+H*H+b*b>>>2;z+=i;if(i>25)S++}var M=S/o.pv.c()<1e-4;
return M};eu.WM=function(o,P){var w=P[0].v8&&P[0].v8.startsWith("_a_"),x;if(w&&!1){var z=0,S=P.length;
for(var I=0;I<P.length-1;I++){var k=P[I],f=P[I+1],C=eu.a0C(k,f);if(C){var H=parseFloat(k.v8.split(",").pop()),b=parseFloat(f.v8.split(",").pop());
k.v8=k.v8.split(",")[0]+","+Math.round(H+b);P.splice(I+1,1);I--;z++}}if(z!=0){alert("Deleted "+z+" frames out of "+S+".");
for(var I=0;I<P.length;I++){var i=P[I],M=i.v8;i.v8="_a_frm"+I+","+M.split(",")[1]}}}var T=new da(o+"."+["psd","ai"][bn]),O=new fA(0,0,1,1);
if(w){x=T._L();x.add.lsct=jS.KC;x.bx(o);x.gS="pass";x.Yo=24;x.Kt(!0);T.R.push(T.VY())}for(var I=0;I<P.length;
I++){var Y=P[I];O=O.It(Y.pv);var U=T._L();U.Kt(I==0);U.bx(P.length==1?"Background":"Layer "+I);if(I==0&&Y.vz)T.vz=Y.vz;
if(I==0&&Y.wz)T.wz=Y.wz;if(Y.v8)U.bx(Y.v8);if(Y.VR)for(var W=0;W<Y.VR.length;W++){var t=Y.VR[W],_=da.xZ(t[0]);
_.add.vmsk.g=t[1];e.n.G9(t[1],new ar(O.q,0,0,O._,0,0));T.Fx.push(_)}if(Y.r_)T.r_=Y.r_;U.rect=Y.pv.clone();
U.buffer=new Uint8Array(Y.data);if(I==0&&Y.fT)T.f$(Y.fT);e.fM(U,!0);T.R.push(U)}if(w)T.R.push(x);if(P[0].Cg){for(var I=0;
I<P[0].Cg.length;I++){var n=new X.wy;T.Cg.push(n);n.rect=P[0].pv.clone();n.channel=P[0].Cg[I]}}T.T=[w?T.R.length-1:0];
T.q=O.q;T._=O._;if(bn==0)T.buffer=e.U(O.c()*4);T.N();return T};eu.a1Z=function(o,P,w){var x=o.length-w,z=new Uint8Array(x);
for(var I=0;I<P;I++)z[I]=o[I];for(var I=P;I<x;I++)z[I]=o[I+w];return z};eu.agu=function(o,P,w){var x=o.length,z=w.length,S=new Uint8Array(x+z);
for(var I=0;I<P;I++)S[I]=o[I];for(var I=P;I<x;I++)S[I+z]=o[I];S.set(w,P);return S};eu.a55=function(o,P,w,x,z,S,k,f,C){var H=new bO(G.E.z,!0);
H.I=N.cw;H.data={Q:"h_stepbck"};var b={};for(var i=1;i<w.length;i++){var M=o.T.slice(0),T=eu.af_(o,C,P,w,x,i),O="img"+i,Y=w[0].indexOf(k);
if(k!=""){if(Y==-1)alert("Column "+k+" not found.");else O=w[i][Y]}b[O+"."+z.toLowerCase()]=new Uint8Array(eu.Gi(o,z,null,null,S,f));
for(var I=0;I<T;I++)C.j(H)}return UZIP.encode(b)};eu.af_=function(o,P,w,x,z,S){var k=new bO(G.E.X,!0),H=0;
k.data={Q:G.l.JW};var f=new bO(G.E.z,!0);f.I=N.jc;f.data={Q:X.y5,a7:{buffer:null,rect:null}};var C=f.data.a7;
for(var b=0;b<w.length;b++){var i=w[b],M=i.trait,T=parseInt(i.docRef.slice(4,-2)),O=-1;for(var I=0;I<o.R.length;
I++)if(o.R[I].add.lyid==T)O=I;if(O==-1)continue;var Y=x[0].indexOf(i.varName);if(Y==-1){alert("Column "+i.varName+" is missing");
return}var U=x[S][Y],W=o.R[O];o.T=[O];if(M=="textcontent"){k.data.Ee="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(U)+";";
P.j(k);H++}if(M=="visibility"&&W.ny()+""!=U.toLowerCase()){U=U.trim().toLowerCase();if(U!="true"&&U!="false")U=U==""?"false":"true";
k.data.Ee="app.activeDocument.activeLayer.visible = "+U+";";if(W.ny()+""!=U){P.j(k);H++}}if(M=="fileref"){var t=U.split("/").pop(),_=null;
for(var eK in z)if(eK.split("/").pop()==t)_=z[eK];if(_==null){alert("Image "+t+" is missing.")}else{var n=eu.oi(eu.IL(_.buffer)).mJ(_.buffer)[0],y=n.pv,F=W.rect,l=0,Q=0;
if(W.add.SoLd){var a=N.DH.PU(W.add.SoLd.nonAffineTransform);F=e.a.RR(a)}var V=F.q/F._,D=y.q/y._;if(V>D){Q=F._;
l=~~(Q*D)}else{l=F.q;Q=~~(l/D)}k.data.Ee="app.activeDocument.activeLayer.visible = false;";P.j(k);H++;
var m=N.DH.x$([new Uint8Array(n.data),y],new ar(l/y.q,0,0,Q/y._,0,0));C.rect=m.rect;C.buffer=m.buffer;
m.rect.x=F.x+(F.q-l>>>1);m.rect.y=F.y+(F._-Q>>>1);P.j(f);H++;var R=o.R[o.T[0]];R.opacity=W.opacity;R.gH=W.gH;
R.gS=W.gS;R.u=W.u}}}return H};eu.vD={};eu.vD.D7=function(o,P,w,x){if(x==null)x=[100,!1,!1,0,0,0];var z={sRGB:1,loop:x[4]},S=o[0];
if(S[5]!=null){delete z.sRGB;z.iCCP=S[5]}if(S[2]!=null){var k=Math.round(S[2]*(1e4/254));z.pHYs=[k,k,1]}if(S[3]!=null&&x[2]&&Object.keys(S[3]).length!=0){z.iTXt={"XML:com.adobe.xmp":js.cr(S[3])}}var f=x[0],C=f==100?0:Math.max(2,Math.floor(f*5));
if(C==5)C=4;var H=[],b=[];for(var I=0;I<o.length;I++){H.push(o[I][0]);b.push(o[I][1])}var i=UPNG.encode(H,P,w,C,b,z,x[1]);
return i};eu.vD.anD=function(o,P,w){return UPNG.encodeLL([o],P,w,3,1,8)};eu.vD.mJ=function(o){var P=Date.now(),w=UPNG.decode(o),x=UPNG.toRGBA8(w),z=w.width,S=w.height,k=0,f=null,C=w.tabs.iCCP;
if(w.tabs.pHYs)k=Math.round(w.tabs.pHYs[0]*254/1e4);var H=w.tabs.iTXt;if(H&&H["XML:com.adobe.xmp"])f=js.hr(H["XML:com.adobe.xmp"]);
if(x.length==1)return[{pv:new fA(0,0,z,S),data:x[0],vz:k,fT:C,wz:f}];var b=[];for(var I=0;I<x.length;
I++){b.push({v8:"_a_frm"+I+","+w.frames[I].delay,pv:new fA(0,0,z,S),data:x[I],vz:k,fT:C})}return b};
eu.fZ={};eu.fZ.D7=function(o,P,w,x){var z=new Uint8Array(o[0][0]),S=P*w,k=S*3,f="P6\n"+P+" "+w+"\n255\n",C=f.length,H=e.U(C+k,!0);
for(var I=0;I<C;I++)H[I]=f.charCodeAt(I);for(var I=0;I<S;I++){var b=I*4,i=I*3+C;H[i]=z[b];H[i+1]=z[b+1];
H[i+2]=z[b+2]}return H.buffer};eu.fZ.mJ=function(o){o=new Uint8Array(o);var P=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],w=0,x=String.fromCharCode(o[0])+String.fromCharCode(o[1]),z=[],S=0,k=x=="P1"||x=="P4"?2:3;
for(w=2;w<o.length;w++){var f=o[w],C=String.fromCharCode(f);if(f=="#".charCodeAt(0)){while(o[w]!="\n".charCodeAt(0))w++;
continue}var H=P.indexOf(f)!=-1;if(S==0&&!H){z.push(C);S=1;continue}if(S==1&&!H){z[z.length-1]+=C;continue}if(S==1&&H){S=0;
if(z.length==k)break;continue}}var b=parseInt(z[0]),i=parseInt(z[1]),M=b*i*4,T=x=="P1"||x=="P4"?1:255/parseInt(z[2]),O=e.U(M);
if(x=="P1"||x=="P2"||x=="P3"){var Y="",U=0,S=0,W="#".charCodeAt(0);for(var I=w;I<o.length;I++){var f=o[I],C=String.fromCharCode(f),H=P.indexOf(f)!=-1;
if(f==W){while(o[I]!="\n".charCodeAt(0))I++}else if(S==0&&!H){Y=C;S=1}else if(S==1){if(H){S=0;var t=parseInt(Y);
Y="";if(x=="P1"){O[U]=O[U+1]=O[U+2]=(1-t)*255;O[U+3]=255;U+=4}if(x=="P2"){O[U]=O[U+1]=O[U+2]=Math.round(t*T);
O[U+3]=255;U+=4}if(x=="P3"){O[U]=Math.round(t*T);U++;if((U&3)==3){O[U]=255;U++}}}else Y+=C}}}var _=b*i;
if(x=="P4")for(var n=0;n<i;n++){var y=n*8*Math.ceil(b/8);for(var F=0;F<b;F++){var I=y+F,a=o[w+1+(I>>3)];
a=a>>7-(I&7)&1;var V=n*b+F<<2;O[V]=O[V+1]=O[V+2]=(1-a)*255;O[V+3]=255}}if(x=="P5")for(var I=0;I<_;I++){var V=4*I;
O[V]=O[V+1]=O[V+2]=Math.round(o[w+1+I]*T);O[V+3]=255}if(x=="P6")for(var I=0;I<_;I++){var V=4*I,D=w+1+3*I;
O[V]=Math.round(o[D]*T);O[V+1]=Math.round(o[D+1]*T);O[V+2]=Math.round(o[D+2]*T);O[V+3]=255}return[{pv:new fA(0,0,b,i),data:O.buffer}]};
eu.vn={};eu.vn.D7=function(o,P,w,x){if(x==null)x=[0,!0];if(typeof x[0]=="boolean")x[0]=0;var z=new Uint8Array(o[0][0]);
if(!e.Y9(z)&&o[0][4]){z=z.slice(0);e.lI(o[0][4][0],z,3)}var S=P&3,k=w&3;if(S!=0||k!=0){var f=P+(S==0?0:4-S),C=w+(k==0?0:4-k),H=new Uint8Array(f*C*4);
e.ZT(H,4278190080);e.sR(z,new fA(0,0,P,w),H,new fA(0,0,f,C));z=H;P=f;w=C}var b=UTEX.DDS.encode(z.buffer,P,w,x);
if(!1){var i=UTEX.DDS.decode(b)[0],H=new Uint8Array(i.iT),M=0;for(var I=0;I<z.length;I++){var T=z[I]-H[I];
M+=T*T}console.log(M)}return b};eu.vn.mJ=function(o){var P=UTEX.DDS.decode(o)[0],w={pv:new fA(0,0,P.width,P.height),data:P.image};
e.aC3(w);return[w]};eu.aFH={};eu.aFH.mJ=function(o){var P=UTEX.VTF.decode(o).pop(),w={pv:new fA(0,0,P.width,P.height),data:P.image};
e.aC3(w);return[w]};eu.iy={};eu.iy.a9$=null;eu.iy.a4H=function(o,P){var w=eu.iy.a9$,x=o.byteLength,z=P.width,S=P.height,k=z*S,f=5e6+2*x+k*(P.progressive?Math.max(2,P.numComponents)*4+1:8),C=w.instance.exports;
eu.gi(C,f);var H=new Uint8Array(C.memory.buffer),b=C.malloc(x);H.set(new Uint8Array(o),b);var i=C.malloc(4),M=C.malloc(4),eK=C.malloc(4),T=C.stbi_load_from_memory(b,x,i,M,eK,4);
C.free(b);C.free(i,M,eK);C.free(T);var O=H.slice(T,T+k*4);return O};(function(){var o=eu.hP.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(o).then(function(P){eu.iy.a9$=P})}());eu.iy.D7=function(o,P,w,x){if(x==null)x=[85];
var z=o[0],S=new Uint8Array(z[0]);if(e.Y9(S)){var k=new Uint8Array(S.length),f=new fA(0,0,P,w);e.ZT(k,4294967295);
e.C.Iv("norm",S,f,k,f,f,1);S=k}var C=new Uint8Array(eu.yr(S.buffer,P,w,"jpeg",x[0]/100));if(C.length<2e4||z[5]){var H=L.mG(C,[255,226]);
if(H!=-1){var b=L.Vp(C,H+2);C=eu.a1Z(C,H,b+2)}}if(z[5]!=null){var i=4+L.Vp(C,4),M=z[5].length+16,T=new Uint8Array(M+2);
T[0]=255;T[1]=226;L.iV(T,2,M);L.Xi(T,4,"ICC_PROFILE");T[16]=T[17]=1;T.set(z[5],18);C=eu.agu(C,i,T)}if(z[2]!=null){var O=eu.iy.Cs(C)[224][0]+2;
O+=9;C[O]=1;L.iV(C,O+1,z[2]);L.iV(C,O+3,z[2])}if(z[3]!=null&&x[1]==!0&&Object.keys(z[3]).length!=0){var Y=0,U=0,W=0,t=js.b$(z[3]),_=new Uint8Array(UTIF.encode([t])),n="http://ns.adobe.com/xap/1.0/",i=20;
Y=4+6+_.length;var y=js.cr(z[3]),F=L.$f(y);U=4+n.length+1+F.length;var a=js.aiF(z[3]);if(a.length!=0){var V=0,Q=0;
for(var I=0;I<a.length;I++)V+=5+a[I][1].length;var D=V+(V&1),l=e.U(14+4+4+4+D);L.Xi(l,Q,"Photoshop 3.0");
Q+=14;L.Xi(l,Q,"8BIM");Q+=4;l[Q++]=4;l[Q++]=4;Q+=2;L.Eu(l,Q,V);Q+=4;for(var I=0;I<a.length;I++){var m=a[I],R=m[1];
l[Q++]=28;l[Q++]=2;l[Q++]=m[0];L.iV(l,Q,R.length);Q+=2;L.Xi(l,Q,R);Q+=R.length}W=4+l.length}var $=Y+U+W,p=new Uint8Array(C.length+$);
for(var I=0;I<20;I++)p[I]=C[I];for(var I=20;I<C.length;I++)p[I+$]=C[I];p[i]=255;p[i+1]=225;L.iV(p,i+2,Y-2);
L.Xi(p,i+4,"Exif");for(var I=0;I<_.length;I++)p[i+10+I]=_[I];i+=Y;p[i]=255;p[i+1]=225;L.iV(p,i+2,U-2);
L.Xi(p,i+4,n);for(var I=0;I<F.length;I++)p[i+4+n.length+1+I]=F[I];i+=U;if(W!=0){p[i]=255;p[i+1]=237;
L.iV(p,i+2,W-2);for(var I=0;I<l.length;I++)p[i+4+I]=l[I];i+=W}C=p}return C.buffer};eu.iy.Cs=function(o){var P=0,w=[],x=o.length;
while(P<x){while(o[P]!=255&&P<x)P++;while(o[P]==255)P++;if(P==x)break;var z=o[P];P++;if(w[z]==null)w[z]=[];
w[z].push(P-2);if(z==216)continue;if(z==217)break;if(224<=z&&z<=239||z==218||z==219||z==192||z==193||z==194||z==196||z==221||z==254){var S=L.Vp(o,P);
P+=S;if(z==218)while(P<x&&(o[P]!=255||(o[P+1]==0||208<=o[P+1]&&o[P+1]<=215)))P++;continue}console.log("unknown marker ",z.toString(16),P);
break}if(w[217]==null){console.log("EOI marker missing");var k=o.length-2;o[k]=255;o[k+1]=217;w[217]=[k]}return w};
eu.iy.abt=function(o){o=new Uint8Array(o);if(o[0]!=255)return o.buffer;var P=eu.iy.Cs(o),w=eu.iy.aDc(o,P);
if(w.numComponents!=4)return o.buffer;var x=w.width,z=w.height,S=eu.iy.axn(o,P,!0);return eu.iy.D7([[S[0].data]],x,z,[85])};
eu.iy.aDc=function(o,P){var w=(P[192]?P[192]:P[193]?P[193]:P[194])[0]+4,x={};x.progressive=P[194]!=null;
x.precision=o[w];w++;x.height=L.Vp(o,w);w+=2;x.width=L.Vp(o,w);w+=2;x.numComponents=o[w];w++;if(P[224]){var z=x.jfif={};
w=P[224][0]+2+2+5+2;z.densityUnits=o[w];w++;z.xDensity=L.Vp(o,w);w+=2;z.yDensity=L.Vp(o,w);w+=2}if(P[238]){var z=x.adobe={};
w=P[238][0]+2+2+6;z.version=o[w];w++;z.flags0=L.Vp(o,w);w+=2;z.flags1=L.Vp(o,w);w+=2;z.transform=o[w];
w++}return x};eu.iy.aD0=function(o,P,w){var x=P,z=L.Vp(o,x);x+=2;var S=L.AW(o,x,4);if(S=="Exif"){x+=6;
var k=o.slice(x,x+z-8),f;try{f=UTIF.decode(k.buffer,{parseMN:!1,debug:!1})}catch(bF){}if(f&&f.length!=0)w.exif=f}else if(S=="http"){var C=0;
while(o[x+C]!=0)C++;var H=L.AW(o,x,C);x+=C+1;if(H=="http://ns.adobe.com/xmp/extension/"){var b=L.AW(o,x,32);
x+=32;x+=8;var i=P+z-x;while(o[x+i-1]==0)i--;if(w.xmp_extn==null)w.xmp_extn="";try{w.xmp_extn+=L.bR(o,x,i)}catch(bF){}}else if(H=="http://ns.adobe.com/xap/1.0/"){var M=L.bR(o.slice(x,x+z-C-3));
if(M[0]=="?")M="<"+M;w.xmp=M}}else console.log(S)};eu.iy.axn=function(o,P,w){var x=eu.iy.aDc(o,P),z=x.width,S=x.height,k=z*S,f,n=72,y,a,V=null;
if(z*S*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var C=-1;if(x.adobe)C=x.adobe.transform;if(w||z*S>1e7||C==0||C==2||x.progressive){var H=new PDFJS.JpegImage;
H.parse(o);var b=H.getData({width:z,height:S,forceRGB:!0,isSourcePDF:w}),f=e.U(k*4);for(var I=0;I<k;
I++){var i=I<<2,M=i-I;f[i]=b[M];f[i+1]=b[M+1];f[i+2]=b[M+2];f[i+3]=255}}else{f=eu.iy.a4H(o.buffer,x)}var T=P[225];
if(T)for(var I=0;I<T.length;I++)eu.iy.aD0(o,T[I]+2,x);var O=P[226];if(O){for(var I=0;I<O.length;I++){var Y=O[I],U=L.Vp(o,Y+2),W=L.AW(o,Y+4,11);
if(x.icc==null&&W=="ICC_PROFILE"){var t=L.RS(o,Y+18);x.icc=o.slice(Y+18,Y+18+t)}}}var _=P[217][0]+2;
if(_!=o.length)x.suffix=o.slice(_);var F=[z,S,1,0,0,0,1,0];if(x.jfif&&x.jfif.densityUnits!=0){n=Math.round([72,1,2.54][x.jfif.densityUnits]*x.jfif.xDensity)}else if(x.exif&&x.exif[0].t282!=null){var D=x.exif[0].t282[0];
n=D[0]/D[1]}if(x.exif){var l=x.exif;y=js.xY(l[0]);var Q=l[0].t274;if(Q)Q=Q[0];if(Q!=null&&Q>1&&Q<20)F=e.raw.adf(Q,z,S)}if(x.xmp){y=js.hr(x.xmp,y)}if(x.icc)a=x.icc;
var m=P[237],R=[],$=[];if(m){var p=new Uint8Array(65536),c=0,Y=0;for(var I=0;I<m.length;I++){Y=m[I]+2;
var B=Y+L.Vp(o,Y);Y+=2;var Z=Y;while(o[Y]!=0)Y++;Y++;var v=L.AW(o,Z,Y-Z-1),E=B-Y;if(E<0)break;while(c+E>p.length){var g=new Uint8Array(p.length*2);
g.set(p);p=g}var u=new Uint8Array(o.buffer,Y,E);p.set(u,c);c+=E}Y=0;o=p;while(Y<c){var j=L.AW(o,Y,4);
Y+=4;var A=L.Vp(o,Y);Y+=2;var K=o[Y++],s=L.AW(o,Y,K);Y+=K;if((K&1)==0)Y++;var U=L.RS(o,Y);Y+=4;var _=Y+U+(U&1);
if(A==1028){while(Y+4<_){var r=o[Y++],h=o[Y++],jC=o[Y++],d=L.Vp(o,Y);Y+=2;if(r==28&&h==2)R.push([jC,L.AW(o,Y,d)]);
Y+=d}}else if(A==1032)V=eg.aCa(o,Y);else if((A&2e3)==2e3){var q=eR.y8(o,Y,U);$.push([s,q])}else{}Y=_}if(R.length!=0)y=js.aj6(R,y)}var hc=[{pv:new fA(0,0,z,S),data:f.buffer,vz:n,wz:y,fT:a,VR:$.length==0?null:$,r_:V}],y=x.xmp_extn;
if(y){var dk=new DOMParser,c6=dk.parseFromString(y,"image/svg+xml"),c6=c6.children[0].children[0].children[0],e3=[c6.getAttribute("GImage:Data"),c6.getAttribute("GDepth:Data")];
for(var I=0;I<e3.length;I++)if(e3[I]){var ks=atob(e3[I]),cH=new Uint8Array(ks.length);L.Xi(cH,0,ks);
cH=cH.buffer;var bI=eu.IL(cH),aR=eu.oi(bI).mJ(cH);hc.push(aR[0])}}if(x.suffix){var ak=x.suffix,cN=!1,gC=L.AW(ak,4,4),bD=L.mG(ak,[255,216,255]);
if(eu.a5u(ak,[0,0,1,10,14,0,0,0])){if(cN)console.log("Samsung");var Y=0;while(Y!=ak.length){var cu=L.Bh(ak,Y+2);
Y+=4;var du={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[cu];if(du!=null){var bq=L.Dn(ak,Y);Y+=4;
var hn=L.AW(ak,Y,bq);Y+=bq;var aK=L.AW(ak,Y,du);Y+=du;if(cu==2608){var cQ=Y,jR=L.RS(ak,Y+24);Y+=jR+24;
var ch=L.RS(ak,Y);Y+=ch;var bx=ak.slice(cQ,Y);eu.iy.a97(bx)}}else if(cu==18502){while(L.AW(ak,Y,4)!="SEFT")Y+=4;
Y+=4}else{break;console.log(L.Y0(ak,Y,128));console.log(ak.slice(Y));throw cu.toString(16)}}}else if(gC=="ftyp"){if(cN)console.log("MP4 Video");
eu.iy.a97(ak)}else if(L.AW(ak,0,4)=="fixe"){if(cN)console.log("fixe");alert("Unknown data - "+ak.length+" B - at the end of the file",3e3);
var Y=4,U=L.Dn(ak,Y);Y+=4;var jf=L.Dn(ak,Y);Y+=4;var dW=L.Dn(ak,Y);Y+=4;console.log(U,jf,dW,ak.slice(Y,Y+84));
Y+=84;var bf=L.AW(ak,Y,32);Y+=32;Y+=8;var bf=L.AW(ak,Y,32);Y+=32}else if(L.AW(ak,8,13)=="FocusShot_Map"){if(cN)console.log("FocusShot_Map");
var iu=L.RS(ak,0),d=L.Dn(ak,4),cH=e.U(k*4),dV=e.U(k*4);for(var gb=0;gb<S;gb++)for(var gP=0;gP<z;gP++){var I=gb*z+gP,i=I<<2,eJ=8+13+((gb>>>1)*z+gP>>>1),c1=ak[eJ],ku=ak[eJ+(k>>>2)];
cH[i]=cH[i+1]=cH[i+2]=c1;cH[i+3]=255;dV[i]=dV[i+1]=dV[i+2]=ku;dV[i+3]=255}hc.push({pv:new fA(0,0,z,S),data:cH.buffer},{pv:new fA(0,0,z,S),data:dV.buffer})}else if(gC=="edof"){if(cN)console.log("edof");
var Q=ak[8+7];console.log(Q.toString(16));var Y=8+16,aC=L.Bh(ak,Y),gU=L.Bh(ak,Y+2),k=aC*gU;Y+=4;Y+=32+16;
var hR=e.U(k*4);for(var I=0;I<k;I++){var i=I<<2;hR[i]=hR[i+1]=hR[i+2]=ak[Y+I];hR[i+3]=255}if(Q==16){}else if(Q==19){var a7=hR.slice(0);
e.W.VI(hR,a7,aC,gU);var dh=aC;aC=gU;gU=dh;e.W.ug(a7,hR,aC,gU)}else throw"Unknown orientation of a depth map";
hc.push({pv:new fA(0,0,aC,gU),data:hR.buffer})}else if(L.AW(ak,0,64).indexOf("DualShot")!=-1){var eS=L.Dn,d0=L.AW,cJ=L.Bh,Y=0;
function aO(){var gi=eS(ak,Y);if(eS(ak,Y+4)!=0)throw"e";Y+=8;return gi}var a9=L.RS(ak,Y);Y+=4;try{if(a9==45066){Y=1226;
var z=aO(),S=aO();Y=3445}else if(a9==45322){var ac=eS(ak,Y);Y+=4;var bf=d0(ak,Y,ac);Y+=ac;if(bf!="DualShot_DepthMap_1")throw bf;
z=1008;S=756}else throw a9;var e7=e.U(z*S*4);e7.fill(255);e.K0(ak.slice(Y,Y+z*S),e7);hc.push({pv:new fA(0,0,z,S),data:e7.buffer})}catch(bF){console.log("error reading a depth map")}try{if(bD!=0)ak=ak.slice(bD);
hc=hc.concat(eu.oi("jpg").mJ(ak.buffer))}catch(bF){}}else if(bD!=-1&&!(ak[0]==255&&ak[1]==129)){if(cN)console.log("another JPG at",bD);
try{if(bD!=0)ak=ak.slice(bD);hc=hc.concat(eu.oi("jpg").mJ(ak.buffer))}catch(bF){}}else if(L.AW(ak,0,4)=="PMPD"){if(cN)console.log("Xiaomi stuff");
var Y=4,b2=L.Dn(ak,12),jQ=L.Dn(ak,16),aC=L.Dn(ak,1060),gU=L.Dn(ak,1064),g9=aC>gU,cx=hc[0].pv.q>hc[0].pv._,i8=ak.slice(ak.length-aC*gU-4),fw=e.U(aC*gU);
for(var gb=0;gb<gU;gb++)for(var gP=0;gP<aC;gP++)fw[gb*aC+gP]=i8[(gU-gb-1)*aC+gP];var e7=e.U(aC*gU*4);
e7.fill(255);e.K0(fw,e7);if(g9!=cx){var a7=e7.slice(0);e.W.VI(e7,a7,aC,gU);var dh=aC;aC=gU;gU=dh;e.W.ug(a7,e7,aC,gU)}hc.push({pv:new fA(0,0,aC,gU),data:e7.buffer})}else console.log(L.AW(ak,0,4),ak)}if(hc.length>1){var hi=hc[0].pv,dv=!1,bo=!0;
hc[0].v8="Main";var dU=[!1];for(var I=1;I<hc.length;I++){dU[I]=eu.iy.aE8(new Uint8Array(hc[I].data));
if(dU[I])dv=!0;if(!hc[I].pv.w6(hc[0].pv))bo=!1}if(!dv&&!bo)hc=hc.slice(0,1);else for(var I=1;I<hc.length;
I++){hc[I].v8=dU[I]?"Depth Map":null;var fV=hc[I].pv;if(!fV.w6(hi)){var ck=hi.q/fV.q,h8=hi._/fV._,fS=new ar;
fS.scale(ck,h8);var iS=N.DH.lH([new Uint8Array(hc[I].data),fV],1,e.W.G5(fS));hc[I].pv=iS.rect;hc[I].data=iS.buffer}}}if(eu.iy.Qj==1)if(F[2]!=1||F[6]!=1)for(var I=0;
I<hc.length;I++){var fh=hc[I],h9=new Uint8Array(fh.data),z=fh.pv.q,S=fh.pv._,aC=F[0],gU=F[1],f=e.U(aC*gU*4);
e.W.od(h9,z,S,f,F);fh.pv=new fA(0,0,aC,gU);fh.data=f.buffer}return hc};eu.iy.a97=function(o){if(window.confirm("Photopea found a "+aN.yP(o.length)+" MP4 video inside your image. Would you like to save it?",4e3)){b_.save(o.slice(0).buffer,"video.mp4")}};
eu.iy.aE8=function(o){var P=!0;for(var I=0;I<o.length;I+=4){P=P&&o[I]==o[I+1]&&o[I+1]==o[I+2]}return P};
eu.iy.Qj=0;eu.iy.mJ=function(o,P,w){o=new Uint8Array(o);if(o[0]==255){var x=eu.iy.Cs(o);if(x[195]==null){eu.iy.Qj++;
var z=eu.iy.axn(o,x,!1);eu.iy.Qj--;return z}var S=L.Vp(o,x[195][0]+5),k=L.Vp(o,x[195][0]+7),f=UTIF.LosslessJpegDecode(o),C=k*S,H=e.U(C*4);
for(var I=0;I<C;I++){var b=I<<2,i=b-I;H[b]=f[i];H[b+1]=f[i+1];H[b+2]=f[i+2];H[b+3]=255}return[{pv:new fA(0,0,k,S),data:H.buffer}]}else if(o[0]==0&&o[4]==48&&o[6]==1){var M=o,T=new PDFJS.Jbig2Image,O=[];
if(P)O.push({data:P,start:0,end:P.length});O.push({data:M,start:0,end:M.length});var f=T.parseChunks(O);
if(!w)for(var I=0;I<f.length;I++)f[I]=~f[I];var k=L.RS(o,11),S=L.RS(o,15),Y=Math.ceil(k/8),U=e.U(k*S*4);
for(var W=0;W<S;W++){var t=W*Y;for(var _=0;_<k;_++){var b=(W*k+_)*4,n=f[t+(_>>>3)]>>>7-(_&7)&1,y=n*255;
U[b]=y;U[b+1]=y;U[b+2]=y;U[b+3]=255}}return[{pv:new fA(0,0,k,S),data:U.buffer}]}else{var T=new PDFJS.JpxImage;
T.parse(o);var k=T.width,S=T.height,F=T.tiles,a=T.componentsCount,V=new Uint8Array(k*S*4),D=new fA(0,0,k,S);
for(var T=0;T<F.length;T++){var l=F[T],Q=l.width,m=l.height,R=Q*m,$=l.items,p=new fA(l.left,l.top,Q,m),c=new Uint8Array(R*4);
if(a==1)for(var I=0;I<R;I++){var B=$[I],b=I*4;c[b]=B;c[b+1]=B;c[b+2]=B;c[b+3]=255}else if(a==3)for(var I=0;
I<R;I++){var i=I*3,b=I*4;c[b]=$[i];c[b+1]=$[i+1];c[b+2]=$[i+2];c[b+3]=255}else if(a==4)c.set($);else console.log("Unknown number of components: "+a);
e.sR(c,p,V,D)}return[{pv:D,data:V.buffer}]}};eu.a$={};eu.a$.D7=function(o,P,w,x){if(x==null)x=[70,!1,0,0,0];
var z=x[0]/100,Y=0;if(o.length==1){var S=new Uint8Array(eu.yr(o[0][0],P,w,"webp",z));if(S.length<2e4){var k=dR.M3(S.buffer),f=k.sub;
for(var I=0;I<f.length;I++)if(f[I].QQ=="ICCP"){var C=f[I];S=eu.a1Z(S,C.f-8,C.size+8);L.nY(S,4,k.size-(C.size+8));
break}}if(x[1]&&o[0][3]){var k=dR.M3(S.buffer),f=k.sub,H=f[0].f+f[0].size,b=o[0][3],i=new Uint8Array(UTIF.encode([js.b$(b)])),M=new Uint8Array(6+i.length);
L.Xi(M,0,"Exif\0\0");M.set(i,6);var T=L.$f(js.cr(b)),O=new Uint8Array(16+M.length+T.length);L.Xi(O,0,"EXIF");
L.nY(O,4,M.length);O.set(M,8);var Y=8+M.length;L.Xi(O,Y,"XMP ");L.nY(O,Y+4,T.length);O.set(T,Y+8);var U=new Uint8Array(S.length+O.length);
U.set(new Uint8Array(S.buffer,0,H),0);U.set(O,H);U.set(new Uint8Array(S.buffer,H),H+O.length);S=U;L.nY(S,4,L.Dn(S,4)+O.length)}return S.buffer}var W=L.x8,t=L.hV,_=new bA;
W(_,Y,"RIFF    WEBPVP8X");Y+=16;t(_,Y,10);Y+=4;t(_,Y,18);Y+=4;t(_,Y,P-1);Y+=3;t(_,Y,w-1);Y+=3;W(_,Y,"ANIM");
Y+=4;t(_,Y,6);Y+=4;_.dZ(Y,4);_.data[Y+3]=255;L.$g(_,Y+4,x[3]);Y+=6;var n=[];for(var I=0;I<o.length;I++){n.push(o[I][0])}var y=UPNG.encode.compress(n,P,w,z==1?0:Math.max(2,Math.floor(z*500)),[!1,!0,!0,0,!0]).frames;
function F(k,Z,v,E){var R=k.f-8,$=k.size+8;v.dZ(E,$);for(var I=0;I<$;I++)v.data[E+I]=Z[R+I];return E+$}for(var I=0;
I<o.length;I++){W(_,Y,"ANMF");Y+=4;var a=Y,R=0,$=0;Y+=4;var V=y[I],D=V.rect,l=[D.x>>>1,D.y>>>1,D.width-1,D.height-1,o[I][1]];
for(var Q=0;Q<5;Q++)t(_,Y+3*Q,l[Q]);Y+=15;_.dZ(Y,1);_.data[Y]=1-V.blend<<1|V.dispose;Y++;var m=new Uint8Array(eu.yr(V.img.buffer,D.width,D.height,"webp",1)),f=dR.M3(m.buffer).sub,p={};
for(var c=0;c<f.length;c++)p[f[c].QQ]=f[c];if(p.VP8L)Y=F(p.VP8L,m,_,Y);else throw"e";var B=Y-a-4;t(_,a,B);
if((B&1)==1){_.dZ(Y,1);Y++}}t(_,4,Y-8);return _.data.slice(0,Y).buffer};(function(){var o=eu.hP.get("wasm/webp").buffer;
WebAssembly.instantiate(o).then(function(P){var w=P.instance.exports;eu.a$.exp=w})}());eu.a$.mJ=function(o){var P=new Uint8Array(o),w=eu.a$.a3m,x=null,z=dR.M3(o).sub,S={},k=null;
for(var I=0;I<z.length;I++)S[z[I].QQ]=z[I];if(S.EXIF){var f=S.EXIF,C=new Uint8Array(o,f.f+6,f.size-6),f=UTIF.decode(C)[0];
if(f)k=js.xY(f)}var f=S["XMP\0"];if(f==null)f=S["XMP "];if(f){var C=new Uint8Array(o,f.f,f.size);if(k==null)k={};
k=js.hr(L.bR(C),k)}var H=S.ANIM,b=S.VP8L,i=S["VP8 "],M=S.VP8X;if(H==null){var T,O;if(i){T=L.Bh(P,i.f+6);
O=L.Bh(P,i.f+8)}else if(b){var Y=L.Dn(P,b.f+1);T=(Y&(1<<14)-1)+1;O=(Y>>>14&(1<<14)-1)+1}else throw"e";
var U=w(x,o,{f:0,size:P.length},T,O);U.wz=k;return[U]}var W=M.f,T=1+(L.Dn(P,W+4)&16777215),O=1+(L.Dn(P,W+7)&16777215),t=[],_=new fA(0,0,T,O),n=e.U(T*O*4);
for(var I=0;I<z.length;I++){var y=z[I];if(y.QQ!="ANMF")continue;var F=[];for(var a=0;a<5;a++)F.push(L.Dn(P,y.f+a*3)&16777215);
var V=new fA(F[0]*2,F[1]*2,F[2]+1,F[3]+1),D=F[4],l=w(x,o,{f:y.f+16,size:y.size-16},T,O),Q=new Uint8Array(l.data),m=P[y.f+15];
if(m>>>1==0)e.C.Iv("norm",Q,V,n,_,V,1);else e.sR(Q,V,n,_);t.push({v8:"_a_"+t.length+","+D,pv:_.clone(),data:n.buffer.slice(0)});
if((m&1)==1){e.ZT(Q,0);e.sR(Q,V,n,_)}}return t};eu.a$.a3m=function(o,P,w,x,z){var S=eu.a$.exp,k=S.memory,f=5e6+2*w.size+x*z*10;
eu.gi(S,f);var C=new Uint8Array(k.buffer),H=S.malloc(w.size);C.set(new Uint8Array(P,w.f,w.size),H);var b=S.malloc(8),i=S.WebPDecodeARGB(H,w.size,b,b+4),M=L.Dn(C,b),T=L.Dn(C,b+4),O=M*T*4,Y=e.U(O);
for(var I=0;I<O;I+=4){Y[I]=C[i+I+1];Y[I+1]=C[i+I+2];Y[I+2]=C[i+I+3];Y[I+3]=C[i+I]}S.WebPFree(i);S.free(b);
S.free(H);return{pv:new fA(0,0,M,T),data:Y.buffer}};eu.amf=function(){function o(f,C,H,b){var i=new Uint8Array(f[0][0]),M=new Uint32Array(i.buffer),T=[],O={},U=24,W=0,F=0;
for(var I=0;I<M.length;I++){var Y=M[I]&16777215;if(O[Y]==null){O[Y]=T.length;T.push(Y);if(T.length>256){T=null;
break}}}if(b&&b[0])T=null;if(T){U=1;while(1<<U<T.length)U*=2;if(U==2)U=4}var t={V:C,Y:H,sm:1,hU:U,$P:0,atr:W},_=4*Math.floor((t.hU*t.V+31)/32);
t.size=_*t.Y+2;var n=new bA,y=T?(1<<U)*4:0;L.x8(n,F,"BM");F+=2;L.hV(n,F,_*H+16+40+y);F+=4;L.hV(n,F,0);
F+=4;L.hV(n,F,54+y);F+=4;n.dZ(F,40);L.hV(n,F,40);F+=4;k(n.data,F,t,_);F+=36;if(T){n.dZ(F,y);var a=n.data;
for(var I=0;I<T.length;I++){var V=F+I*4,D=T[I]>>>16,l=T[I]>>>8&255,Q=T[I]&255;a[V]=D;a[V+1]=l;a[V+2]=Q}F+=y}n.dZ(F,_*H);
if(U==24)for(var m=0;m<H;m++){var R=F+(H-1-m)*_;for(var $=0;$<C;$++){var p=(m*C+$)*4;n.data[R+$*3+2]=i[p];
n.data[R+$*3+1]=i[p+1];n.data[R+$*3+0]=i[p+2]}}else if(U==8)for(var m=0;m<H;m++){var R=F+(H-1-m)*_;for(var $=0;
$<C;$++){var p=m*C+$,c=O[M[p]&16777215];n.data[R+$]|=c}}else if(U==4)for(var m=0;m<H;m++){var R=F+(H-1-m)*_;
for(var $=0;$<C;$++){var p=m*C+$,c=O[M[p]&16777215];n.data[R+($>>>1)]|=c<<4-($&1)*4}}else if(U==1)for(var m=0;
m<H;m++){var R=F+(H-1-m)*_;for(var $=0;$<C;$++){var p=m*C+$,c=O[M[p]&16777215];n.data[R+($>>>3)]|=c<<7-($&7)}}F+=_*H+2;
return n.data.slice(0,F).buffer}function P(f){f=new Uint8Array(f);if(L.Dn(f,0)==40)return[w(f.buffer,0)];
var C=0,H=L.AW(f,C,2);C+=2;if(H!="BM"){alert("Unsupported BMP format: "+H);return}var b=L.Dn(f,C);C+=4;
C+=4;var i=L.Dn(f,C);C+=4;return[w(f.buffer,C,i)]}function w(f,C,H){f=new Uint8Array(f);var b=L.Dn(f,C),i=S(f,C+4);
if(i.sm!=1)alert("unsupported number of color planes: "+i.sm);if(i.$P!=0&&i.$P!=1&&i.$P!=2&&i.$P!=3){alert("Unsupported BMP compression: "+i.$P);
return}C+=b;var M=C,T=f;if(H==null)H=C;if(i.$P==1||i.$P==2){var O=z(f,H,i);i.hU=8;f=O;H=0}var Y=4*Math.floor((i.hU*i.V+31)/32),U=i.V,W=Math.abs(i.Y),t=new Uint8Array(U*W*4);
t.fill(255);if(i.hU==32)for(var _=0;_<W;_++){var n=H+(W-1-_)*Y;for(var y=0;y<U;y++){var F=(_*U+y)*4;
t[F]=f[n+y*4+2];t[F+1]=f[n+y*4+1];t[F+2]=f[n+y*4+0];t[F+3]=f[n+y*4+3]}}else if(i.hU==24)for(var _=0;
_<W;_++){var n=H+(W-1-_)*Y;for(var y=0;y<U;y++){var F=(_*U+y)*4;t[F]=f[n+y*3+2];t[F+1]=f[n+y*3+1];t[F+2]=f[n+y*3+0]}}else if(i.hU==16)for(var _=0;
_<W;_++){var n=H+(W-1-_)*Y;for(var y=0;y<U;y++){var F=(_*U+y)*4,a=f[n+y*2+1]<<8|f[n+y*2];if(H==C){t[F]=(a>>>10&31)*(255/31);
t[F+1]=(a>>>5&31)*(255/31);t[F+2]=(a&31)*(255/31)}else{t[F]=(a>>>11)*(255/31);t[F+1]=(a>>>5&63)*(255/63);
t[F+2]=(a&31)*(255/31)}}}else if(i.hU==8)for(var _=0;_<W;_++){var n=H+(W-1-_)*Y;for(var y=0;y<U;y++){var F=(_*U+y)*4,V=f[n+y];
t[F]=T[M+4*V+2];t[F+1]=T[M+4*V+1];t[F+2]=T[M+4*V+0]}}else if(i.hU==4)for(var _=0;_<W;_++){var n=H+(W-1-_)*Y;
for(var y=0;y<U;y++){var F=(_*U+y)*4,V=f[n+(y>>1)];V=V>>4-4*(y&1);V=V&15;t[F]=T[M+4*V+2];t[F+1]=T[M+4*V+1];
t[F+2]=T[M+4*V+0]}}else if(i.hU==1)for(var _=0;_<W;_++){var n=H+(W-1-_)*Y;for(var y=0;y<U;y++){var F=(_*U+y)*4,D=f[n+(y>>3)];
D=D>>7-(y&7);D=D&1;t[F]=T[M+4*D+2];t[F+1]=T[M+4*D+1];t[F+2]=T[M+4*D+0]}}else throw"Unknown bit depth "+i.hU;
if(i.Y<0){var l=new Uint32Array(t.buffer),Q=W>>>1;for(var _=0;_<Q;_++){var m=_*U,R=(W-_-1)*U;for(var y=0;
y<U;y++){var $=l[m+y];l[m+y]=l[R+y];l[R+y]=$}}}return{pv:new fA(0,0,U,W),data:t.buffer}}function x(f,I){return f>>>4-((I&1)<<2)&15}function z(f,C,H){var b=H.V,i=Math.abs(H.Y),M=new Uint8Array(b*i),T=0,O=0,I=0;
while(O<i){var Y=f[C++],U=f[C++],W=O*b+T;if(Y>0){if(H.hU==4)for(I=0;I<Y;I++){M[W+I]=x(U,I)}else for(I=0;
I<Y;I++){M[W+I]=U}T+=Y}else if(Y==0&&U==0){O++;T=0}else if(Y==0&&U==1){break}else if(Y==0&&U==2){T+=f[C++];
O+=f[C++]}else{var t=U;if(H.hU==4){for(I=0;I<U;I++){M[W+I]=x(f[C+(I>>>1)],I)}t=Math.ceil(U/2)}else{for(I=0;
I<U;I++){M[W+I]=f[C+I]}}if((t&1)!=0)t++;C+=t;T+=U}}return M}function S(f,C){var H=L.Be,b=L.Dn,i=L.Bh,M={};
M.V=H(f,C);C+=4;M.Y=H(f,C);C+=4;M.sm=i(f,C);C+=2;M.hU=i(f,C);C+=2;M.$P=b(f,C);C+=4;M.size=b(f,C);C+=4;
var T=H(f,C);C+=4;var O=H(f,C);C+=4;M.atr=b(f,C);C+=4;C+=4;return M}function k(f,C,H,b){L.nY(f,C,H.V);
C+=4;L.nY(f,C,H.Y);C+=4;L.NW(f,C,H.sm);C+=2;L.NW(f,C,H.hU);C+=2;L.nY(f,C,H.$P);C+=4;L.nY(f,C,H.size);
C+=4;L.nY(f,C,2834);C+=4;L.nY(f,C,2834);C+=4;L.nY(f,C,H.atr);C+=4;C+=4}return{mJ:P,D7:o,asV:w}}();eu.nf={};
eu.nf.D7=function(o,P,w,x){if(x==null)x=[100,!1,0,0,0,0];var z=[],S=[],k=P*w*4,Y=null;for(var f=0;f<o.length;
f++){var C=new Uint8Array(o[f][0].slice(0));for(var I=0;I<k;I+=4){var H=C[I+3]=C[I+3]>127?255:0;if(H==0)C[I]=C[I+1]=C[I+2]=0}z.push(C.buffer);
S.push(o[f][1])}var b=Math.round(2+254*x[0]/100),i=UPNG.encode.compress(z,P,w,b,[!0,!1,!1,8,!1,x[1]]),M=i.plte,T=new Uint8Array(4),O=new Uint32Array(T.buffer);
for(var I=0;I<M.length;I++){O[0]=M[I];var U=T[0];T[0]=T[2];T[2]=U;M[I]=O[0];if(O[0]==0&&Y==null)Y=I}while(M.length<256)M.push(0);
var W=new Uint8Array(2e4+Math.round(1.5*P*w*o.length)),t=x[3],_={palette:M};if(t!=1)_.loop=t==0?0:t-1;
var n=new GifWriter(W,P,w,_);for(var I=0;I<o.length;I++){var y=i.frames[I],F=y.rect,a=y.blend,V=y.dispose,D=Math.round(S[I]/10);
if(D<2)D=2;n.addFrame(F.x,F.y,F.width,F.height,y.img,{transparent:Y,disposal:V+1,delay:D})}return W.slice(0,n.end()).buffer};
eu.nf.mJ=function(o){var P=Date.now(),w=[],x=UGIF.decode(o),z=UGIF.toRGBA8(x),S=new fA(0,0,x.width,x.height);
for(var I=0;I<z.length;I++){var k=x.frames[I];w.push({pv:S.clone(),v8:"_a_frm"+I+","+k.delay*10,data:z[I]})}return w};
eu.wi={};eu.wi.D7=function(o,P,w,x){if(P>256||w>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var z=Math.min(P,256),S=Math.min(w,256),k=new fA(0,0,z,S),f=e.U(k.c()*4),C=new fA(0,0,P,w),H=new Uint8Array(o[0][0]);
e.sR(H,C,f,k);o[0][0]=f.buffer;P=z;w=S}var b=new Uint8Array(o[0][0]).slice(0),M=0;b[3]=Math.min(b[3],254);
var i=new bA,T=x&&x[0]==!0;L.$g(i,M,0);M+=2;L.$g(i,M,T?2:1);M+=2;L.$g(i,M,1);M+=2;var O=new Uint8Array(UPNG.encode([b.buffer],P,w,null,null,null,!0));
i.dZ(M,16);i.data[M]=P==256?0:P;M++;i.data[M]=w==256?0:w;M++;M+=2;L.$g(i,M,T?Math.round(P/2):1);M+=2;
L.$g(i,M,T?Math.round(w/2):32);M+=2;L.hV(i,M,O.length);M+=4;L.hV(i,M,6+16);M+=4;i.dZ(M,O.length);i.data.set(O,M);
M+=O.length;return i.data.slice(0,M).buffer};eu.wi.mJ=function(o){o=new Uint8Array(o);var P=4,w=L.Bh(o,P);
P+=2;var x=[];for(var I=0;I<w;I++){var z=eu.wi.acx(o,P+I*16),S=o.buffer.slice(z.offset,z.offset+z.size),k=eu.IL(S);
k=k?k:"bmp";if(k=="png"){var f=eu.oi(k),C=f.mJ(S);z.Ym=C[0]}else{var H=eu.oi("BMP").asV(S,0),S=e.U(z.V*z.Y*4);
e.sR(new Uint8Array(H.data),new fA(0,0,H.pv.q,H.pv._),S,new fA(0,z.Y,z.V,z.Y));H.data=S.buffer;H.pv._=z.Y;
z.Ym=H}x.push(z)}x.sort(function(b,i){if(b.V!=i.V)return b.V-i.V;return b.ago-i.ago});return[x.pop().Ym]};
eu.wi.acx=function(o,P){var w={};w.V=o[P];P++;if(w.V==0)w.V=256;w.Y=o[P];P++;if(w.Y==0)w.Y=256;w.as7=o[P];
P++;P++;w.a8i=L.Bh(o,P);P+=2;w.ago=L.Bh(o,P);P+=2;w.size=L.Dn(o,P);P+=4;w.offset=L.Dn(o,P);P+=4;return w};
eu.XG={};eu.XG.aGx=function(o){var P,w="dng";if(o[0].t33421)P=o[0];else if(o[0].subIFD&&o[0].t271&&o[0].t271[0]=="Hasselblad"){w="fff";
P=o[0].subIFD[0];P.t33421=[2,2]}else if(o[0].subIFD&&o[0].subIFD[0].t33421){P=o[0].subIFD[0];if(P.t50706==null){if(P.t258[0]==8)P.t258[0]=12}w=P.t50713||P.t50717?"dng":"arw"}else if(o[0].subIFD&&o[0].subIFD[0]&&o[0].subIFD[0].t262&&o[0].subIFD[0].t262[0]==34892)P=o[0].subIFD[0];
else if(o[0].t50706)P=o[0];else if(o[0].subIFD&&o[0].subIFD[1]&&o[0].subIFD[1].t33421){w="nef";P=o[0].subIFD[1]}else if(o[0].subIFD&&o[0].subIFD[2]&&o[0].subIFD[2].t33421){w="nef";
P=o[0].subIFD[2]}else if(o[3]&&o[3].t50648){w="cr2";var x=o[0].exifIFD,z=x.makerNote;P=o[3];var S=z.t224[1],k=z.t224[2];
P.t256=[S];P.t257=[k];P.t258=[16];P.t259=[7];P.t262=[32803];P.t277=[1];P.t33421=[2,2];var f=P.t50656[0],C=e.raw.Xu[f];
if(C==null)throw"e";P.t33422=C}else if(o[0].t1&&o[0].t1.length==4){w="rw2";var H=o[0],b={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},i=H.t280==null;
P={};for(var M in b)if(H["t"+M])P["t"+b[M]]=H["t"+M];P.t2=H.t2;P.t3=H.t3;P.t10=H.t10;P.t45=H.t45;P.t258=[16];
P.t33421=[2,2];var T=H.t9[0];if(i)T=2;P.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][T-1];var O=H.t4[0],Y=H.t5[0],U=H.t6[0],W=H.t7[0];
P.t50829=[O,Y,U,W];var t=H.t36[0],_=H.t37[0],n=H.t38[0];P.t50728=[_/t,_/_,_/n]}else if(o[0].t258&&o[0].t258[0]>=12&&o[0].t271&&(o[0].t271[0].startsWith("OLYMPUS")||o[0].t271[0].startsWith("OM Digital Solutions"))){w="orf";
P=o[0];P.t33421=[2,2]}return[P,P?w:null]};eu.XG.mJ=function(o){var P=Date.now();if(e.raw.BM(o.byteLength))return[e.raw.ac1(o)];
var w=UTIF.decode(o);console.log(w.slice(0));var x=eu.XG.aGx(w),z=x[0];if(z){UTIF.decodeImage(o,z,w);
for(var S in w[0])if((S[0]=="t"||S[0]=="e"||S[0]=="d")&&z[S]==null)z[S]=w[0][S];z.Xl=w[0].t274?w[0].t274[0]:1;
return[z]}var k=[];for(var I=0;I<w.length;I++){var f=w[I],C=null,Y=72;UTIF.decodeImage(o,f,w);if(f.t258&&f.t258[0]==16&&f.t277&&f.t277[0]==1){var H=0,b=0,i=0,M=f.data;
for(var T=0;T<M.length;T+=2){var O=M[T+1]<<8|M[T];if(O>H)H=O;b+=O;i++}C=1/256*65535/(.5*H+.5*(2*b/i))}var U=f.t282,W=f.t296;
if(U!=null&&W!=null){Y=U[0][0]/U[0][1];if(W[0]==3)Y=Math.round(Y/2.54)}if(f.width==null)continue;var t=UTIF.toRGBA8(f,C).buffer,_=js.xY(f);
console.log(f);k.push({pv:new fA(0,0,f.width,f.height),data:t,vz:Y,wz:_,fT:f.t34675?f.t34675.slice(0):null})}return k};
eu.XG.D7=function(o,P,w,x){if(x==null)x=[!1];var z={},S=o[0];if(S[3]!=null&&x[0])z=js.b$(S[3]);if(S[2]!=null){z.t282=z.t283=[[Math.round(S[2]),1]];
z.t296=[2]}return UTIF.encodeImage(S[0],P,w,z)};eu.LP={};eu.LP.VV=!0;eu.LP.mJ=function(o,P){var w=UTIF.decode(o),x=w[0],f=0;
P.q=x.t256[0];P._=x.t257[0];P.buffer=e.U(P.q*P._*4);P.nH=!1;P.bC=8;P.rU=3;var z=x.t37724.slice(36),S=L.AW(z,0,4)=="MIB8";
fy.Rc(z,0,z.length,P.add,!1,P,S);var k=S?L.Dn:L.RS;while(f<z.length){var C=L.tO(z,f,S);f+=4;var H=L.tO(z,f,S);
f+=4;var b=k(z,f);f+=4;if(H=="Layr"){eg.Hu(P,z,f,S);for(var I=0;I<P.R.length;I++){var i=P.R[I];if(i.add.vstk)i.qX(P)}}f+=b;
if((b&3)!=0)f+=4-(b&3)}};eu.ax1={};eu.ax1.mJ=function(o){o=new Uint8Array(o);var P=8,w,x=0;while(P<o.length){var z=L.AW(o,P,4),S=L.RS(o,P+4);
if(z.startsWith("ic")){var k=o.slice(P+8,P+S),f=eu.IL(k.buffer),C=eu.oi(f),H=C.mJ(k.buffer),b=H[0].pv.c();
if(b>x){x=b;w=H}}P+=S}return w};eu.uB={};eu.uB.VV=!0;eu.uB.mJ=function(o,P){eg.M3(o,P)};eu.uB.akT=function(o,P,w,x){if(x==null)x=[!1,!1,!1,!1,!1];
if(!x[0])o.Ey();var z=new bA,S=eg.Fv(o,z,x);return[z.data.buffer,S]};eu.uB.D7=function(o,P,w,x){var z=eu.uB.akT(o,P,w,x),S=z[0],k=z[1];
return S.byteLength==k?S:S.slice(0,k)};eu._P={};eu._P.VV=!0;eu._P.mJ=function(o,P){var w=pako.inflate(new Uint8Array(o)),x=L.Vp(w,0),z=L.Vp(w,2),S=4;
P.q=L.RS(w,S);S+=4;P._=L.RS(w,S);S+=4;P.buffer=e.U(P.q*P._*4);var k=L.Vp(w,S);S+=2;S+=4;for(var f=0;
f<k;f++){var C=P._L(),O=0,c=1,B=2,Z=3,v=0;P.R.push(C);var H=L.RS(w,S);S+=4;var b=S,i=L.Vp(w,b);b+=2;
var M=L.bR(w,b,i);b+=i;C.bx(M);var T=w[b];b++;if(T!=0&&T!=1)throw T;C.rect.x=L.jS(w,b);b+=4;C.rect.y=L.jS(w,b);
b+=4;C.rect.q=L.RS(w,b);b+=4;C.rect._=L.RS(w,b);b+=4;if(x>3){O=L.jS(w,b);b+=4}C.opacity=Math.round(255*w[b]/100);
b++;var Y=w[b];b++;C.Kt(Y!=0);C.gS="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[w[b]];
b++;var U=w[b];b++;if(U)C.add.lspf=1<<31;if(x>3){var W=L.Vp(w,b);b+=2;if(W!=0){var t=JSON.parse(L.bR(w,b,W));
b+=W;var _=t.text,n=t.textSettings,y=n.font,F=n.size,a=n.padding,V=parseInt(n.color.slice(1),16);C.add.lnsr="rend";
C.add.TySh=fe.AH(0,0);C.add.TySh.Fy=new fA(0,0,100,100);var D=C.add.TySh.h=new ar,l=C.rect.q/2,Q=C.rect._/2;
D.translate(-l,-Q);D.rotate(-O*Math.PI/180);D.translate(l,Q);D.translate(C.rect.x+a,C.rect.y+a);var m=C.add.TySh.OY;
fe.mn(m,1);fe.SP(m,[0,0,C.rect.q-a*2,C.rect._]);fe.EF(m,0,_);var R=fe.Zv(m,0,1);R.OR.FontSize=F;R.OR.FillColor={Type:1,Values:[1,(V>>>16&255)/255,(V>>>8&255)/255,(V>>>0&255)/255]};
if(n.bold)y+="-Bold";fe.bB(R,y);R.bp.Justification=["left","right","center"].indexOf(n.align);fe.Bi(m,0,_.length,R)}}var $=L.RS(w,b);
b+=4;if($!=C.rect.c()*4){for(var I=C.rect.q;I>C.rect.q/2;I--){var p=$/(I*4);if(p==Math.round(p)){C.rect.q=I;
C.rect._=p;break}}}C.buffer=e.U(C.rect.c()*4);if(x>3){c=0;B=1;Z=2;v=3}for(var I=0;I<$;I+=4){C.buffer[I]=w[b+I+c];
C.buffer[I+1]=w[b+I+B];C.buffer[I+2]=w[b+I+Z];C.buffer[I+3]=w[b+I+v]}b+=$;var E=L.RS(w,b);b+=4;if(E==0&&x>3){S+=H;
continue}var g=w[b];b++;var u=L.Vp(w,b);b+=2;if(E!=0){C.u=new X.wy;C.u.rect=C.rect.clone();C.u.channel=e.U(C.rect.c());
for(var I=0;I<E;I+=4)C.u.channel[I>>>2]=w[b+I+1];b+=E}if(g!=0){var j=JSON.parse(iR.default);C.add.lmfx=j;
for(var I=0;I<iR.order.length;I++)j[iR._7[I]]={t:"VlLs",v:[]};var A={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var I=0;I<g;I++){var K=L.Vp(w,b),s=b+K+4,r=w.slice(b,s),h=w[b+2];b+=3;var jC=A[h+""],d=JSON.parse(iR.lC[jC]);
j[iR._7[jC]].v.push({t:"Objc",v:d});if(jC!=0){d.Md.v.BlnM=jK.W_("norm");d.Opct.v.val=w[b];b++;if(jC==9||jC==2){d.Dstn.v.val=w[b+1];
b+=2}else b+=2;d.blur.v.val=Math.round(w[b]*1.2);b++;if(jC==9||jC==2){d.uglg.v=!1;d.lagl.v.val=180-L.Vp(w,b);
b+=2}d.Clr.v=e.G.e1({$:w[b+1],H:w[b+2],b:w[b+3]})}else{d.hglM.v.BlnM=d.sdwM.v.BlnM=jK.W_("norm");b+=2;
var q=w[b++],hc=w[b++];d.blur.v.val=Math.round(Math.sqrt(hc*q)*1.3);d.srgR.v.val=Math.round(100*q/hc);
d.uglg.v=!1;d.lagl.v.val=180-L.Vp(w,b);b+=2;d.hglO.v.val=w[b++];d.hglC.v=e.G.e1({$:w[b+1],H:w[b+2],b:w[b+3]});
b+=4;d.sdwO.v.val=w[b++];d.sdwC.v=e.G.e1({$:w[b+1],H:w[b+2],b:w[b+3]});b+=4}b=s}}if(b-S<H){var dk=L.RS(w,b),ks=0;
b+=4;b++;var i=L.Vp(w,b);b+=2;var _=L.bR(w,b,i);b+=i;_=_.replace(/\r/g,"\n");var i=L.Vp(w,b);b+=2;var y=L.bR(w,b,i);
b+=i;var F=L.Vp(w,b);b+=2;var c6=C.rect.x,e3=C.rect.q;if(dk&4)ks=1;if(dk&2)ks=2;var cH=Math.round(F*.4);
if(ks==0||ks==2)e3+=cH;if(ks==1||ks==2){e3+=cH;c6-=cH}C.add.lnsr="rend";C.add.TySh=fe.AH(0,0);C.add.TySh.Fy=new fA(0,0,100,100);
C.add.TySh.h=new ar(1,0,0,1,c6,C.rect.y+F*.25);var m=C.add.TySh.OY;fe.mn(m,1);fe.SP(m,[0,0,e3,C.rect._]);
fe.EF(m,0,_);var R=fe.Zv(m,0,1);R.OR.FontSize=F;R.OR.FillColor={Type:1,Values:[1,w[b+1]/255,w[b+2]/255,w[b+3]/255]};
b+=4;if(w[b+5])y+="-Bold";if(w[b+6])y+="-Italic";fe.bB(R,y);R.bp.Justification=ks;b+=8;fe.Bi(m,0,_.length,R)}S+=H}};
eu.j0={};eu.j0.VV=!0;eu.j0.mJ=function(o,P){var w=UZIP.parse(o),x=JSON.parse(L.bR(w["manifest.json"].buffer));
P.q=x.width;P._=x.height;P.buffer=e.U(P.q*P._*4);P.name=x.name+".psd";var z=x.stack;for(var S=0;S<z.length;
S++){var k=z[S],f=k.type,C=k.rect,H=k.format,b=P._L();b.bx(k.name);b.Kt(k.visible);b.opacity=Math.round(255*k.opacity);
var i=b.rect=new fA(C.x,C.y,C.w,C.h),M=C.r;if(M==null)M=0;P.R.push(b);if(f=="image"&&M!=0||f=="shape"&&H.variant=="svg"){var T=P.to(w[k.content],b.getName(),0,0);
T.Yo=b.Yo;T.opacity=b.opacity;b=T;P.R.pop();P.R.push(b);var O=e.a.R2(i).i;e.a.h(O,eu.j0.qm(i,M),O);b.add.SoLd.Trnf=N.DH.Co(O);
b.add.SoLd.nonAffineTransform=N.DH.Co(O);b.w2(P,!1)}else if(f=="image"){if(i.c()!=0){var Y=w[k.content].buffer,U=eu.IL(Y),W=eu.oi(U),t=W.mJ(Y)[0];
i.q=t.pv.q;i._=t.pv._;b.buffer=new Uint8Array(t.data)}}else if(f=="shape"){b.Yo|=16;var _=b.add.vstk=iR.Vq.bS(!0),n=b.add.vmsk=new X.tc,y;
b.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}};var F=H.variant,a=H.fill;if(F=="rectangle"||F=="rounded"){y=e.n.fg.Rect(i.x,i.y,i.q,i._,H.radii)}else if(F=="ellipse"){y=e.n.fg.nT(i.x,i.y,i.q,i._)}else if(F=="path"){var V=Typr.U.SVGToPath(k.content),D={LG:V.cmds,i:V.crds};
y=e.a.B6(D);var l=e.n.$s(y);e.n.G9(y,new ar(i.q/l.q,0,0,i._/l._,i.x,i.y))}else console.log(H);b.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}};
if(a==null){_.fillEnabled.v=!1}else if(a.type=="color"){b.add.SoCo.Clr.v=e.G.e1(CSS.HQ(a.value))}else if(a.type=="gradient"){delete b.add.SoCo;
var Q=b.add.GdFl=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),m=Q.Grad.v;m.Intr.v=0;var R=[],$=a.value.stops;
for(var I=0;I<$.length;I++){var p=$[I],c=CSS.HQ(p.color);R.push([p.position,[c.$/255,c.H/255,c.b/255]])}e.G.U_(R,m);
Q.Angl.v.val=-(a.value.direction+M)+90+180}else console.log(a);var B=eu.j0.qm(i,M);e.n.G9(y,B);var Z=k.style;
if(Z&&Z.outline){var v=Z.outline;_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=v.size;_.strokeStyleContent.v.Clr.v=e.G.e1(CSS.HQ(v.color))}n.g=y;
b.h6();b.qX(P)}else if(f=="text"){b.add.lnsr="rend";b.add.TySh=fe.AH(0,0);b.add.TySh.Fy=new fA(0,0,100,100);
var E=b.add.TySh.OY;fe.mn(E,1);fe.SP(E,[0,0,i.q,i._]);var g=k.content;fe.EF(E,0,g);var u=fe.Zv(E,0,Math.min(g.length,1));
fe.bB(u,H.font.name);var j=u.OR.FontSize=Math.round(H.size);if(H.fill&&H.fill.value){var A=CSS.HQ(H.fill.value);
u.OR.FillColor={Type:1,Values:[1,A.$/255,A.H/255,A.b/255]}}var K=H.linespace;if(K){u.OR.AutoLeading=!1;
u.OR.Leading=Math.round(j*(1.06+parseFloat(K)));console.log(K,u.OR)}u.OR.FauxBold=H.bold;u.bp.Justification=["left","right","center","justify"].indexOf(H.align);
fe.Bi(E,0,g.length,u);b.add.TySh.h=new ar(1,0,0,1,i.x+Math.round(j*.1),i.y+Math.round(j*.1));b.rect=new fA}else console.log(k)}P._0=!0};
eu.j0.qm=function(o,P){var w=o.x+o.q/2,x=o.y+o._/2,z=new ar;z.translate(-w,-x);z.rotate(-P*Math.PI/180);
z.translate(w,x);return z};eu.Om={};eu.Om.VV=!0;eu.Om.mJ=function(o,P){bV.M3(o,P)};var bV=function(){function o(i,M){var T=Date.now(),O=UZIP.parse(i),Y=O["maindoc.xml"],U=new DOMParser,W=U.parseFromString(L.bR(Y),"image/svg+xml").children[0].children[0],t=W.getAttribute("name"),_=M.q=H(W,"width"),n=M._=H(W,"height");
M.vz=Math.round(H(W,"x-res"));var y=W.children[0].children;P(y,M,{LJ:t,Ec:O,oF:null});console.log(Date.now()-T);
T=Date.now()}function P(i,M,T){for(var O=0;O<i.length;O++){var Y=i[i.length-1-O],U=Y.getAttribute("nodetype");
if(U=="transparencymask"){T.oF.u=b(Y,T);continue}var W=Y.getAttribute("compositeop"),t=Y.getAttribute("filename"),_=Y.getAttribute("channelflags"),n=Y.children;
n=n.length==0?null:n[0].children;var y=M._L();if(U=="paintlayer"){var F=H(Y,"x"),a=H(Y,"y"),V=T.Ec[T.LJ+"/layers/"+t+".defaultpixel"],D=T.Ec[T.LJ+"/layers/"+t],l=C(D);
y.rect=l[0];y.rect.offset(F,a);y.buffer=l[1];if(y.rect.Mw()&&V.join()!="0,0,0,0"){y.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:V[0],H:V[1],b:V[2]})}};
y.qX(M)}}else if(U=="grouplayer"){y.add.lsct=jS.KC;y.gS="pass";y.Yo|=24;M.R.push(M.VY());var Q=T.oF;
T.oF=y;P(n,M,T);T.oF=Q}else if(U=="shapelayer"){var D=T.Ec[T.LJ+"/layers/"+t+".shapelayer/content.svg"],m=L.bR(D),R=M.to(D,y.getName(),0,0);
y=R;var $=new fA(0,0,M.q,M._),p=e.a.R2($).i;y.add.SoLd.Trnf=N.DH.Co(p);y.add.SoLd.nonAffineTransform=N.DH.Co(p);
y.w2(M,!1)}else if(U=="clonelayer"){var I=-1;for(var c=0;c<i.length;c++)if(i[c].getAttribute("name")==Y.getAttribute("clonefrom"))I=c;
if(I!=-1){P([i[I]],M,T);y=M.R.pop()}}else console.log(U,Y);y.bx(Y.getAttribute("name"));if(H(Y,"locked")==1)y.add.lspf=1<<31;
y.Kt(H(Y,"visible")==1);var B={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[W];if(B)y.gS=B;
else console.log(W);y.opacity=H(Y,"opacity");if(_=="1110")y.gH=!0;var Z=n?n[0]:null;if(Z&&Z.tagName=="mask")y.u=b(Z,T);
M.R.push(y)}}function w(i,M){var T=0,O=0,Y=i.length,U,W,t;while(T<Y){U=i[T++];if(U>31){W=U>>>5;if(W==7)W=7+i[T++];
t=(U&31)<<8|i[T++];var _=O-t-1,n=W>>>1;M[O++]=M[_++];M[O++]=M[_++];for(var I=0;I<n;I++){M[O++]=M[_++];
M[O++]=M[_++]}if((W&1)==1)M[O++]=M[_++]}else{for(var I=0;I<=U;I++){M[O++]=i[T++]}}}}function x(i,M){var T=0;
while(i[M+T]!=10)T++;return L.AW(i,M,T)}var z=new fA(0,0,64,64),S=new Uint8Array(64*64*4),k=new Uint8Array(64*64*4);
function f(){for(var I=0;I<4096;I++){var i=I<<2;S[i+0]=k[I+8192];S[i+1]=k[I+4096];S[i+2]=k[I];S[i+3]=k[I+12288]}}function C(i){var M=0,T={};
for(var I=0;I<5;I++){var O=x(i,M);M+=O.length+1;O=O.split(" ");T[O[0]]=parseInt(O[1])}var Y=T.PIXELSIZE,U=[],W=new fA;
while(M<i.length){var O=x(i,M),t=O.split(",");M+=O.length+1;if(t[2]!="LZF")throw t[2];z.x=parseInt(t[0]);
z.y=parseInt(t[1]);W=W.It(z);var _=parseInt(t[3]);U.push([z.clone(),new Uint8Array(i.buffer,M+1,_-1)]);
M+=_}var n=e.U(W.c()*Y);for(var I=0;I<U.length;I++){var y=U[I];w(y[1],k);if(Y==4){f();e.sR(S,y[0],n,W)}else e.d0(k,y[0],n,W)}return[W,n]}function H(i,M){return parseInt(i.getAttribute(M))}function b(i,M){var T=i.getAttribute("filename"),O=M.Ec[M.LJ+"/layers/"+T+".pixelselection"],Y=C(O),U=new X.wy;
U.EJ=H(i,"visible")==1;U.rect=Y[0];U.channel=Y[1];return U}return{M3:o}}();eu.WG={};eu.WG.VV=!0;eu.WG.mJ=function(o,P){bZ.M3(o,P)};
eu.MJ={};eu.MJ.mJ=function(o){var P=new Uint8Array(o),w=eu.MJ.az(P,0,0),x=w.sub[2],z=eu.MJ.atq(P,x),S=w.sub[3],k=eu.MJ.atq(P,S);
return[z,k]};eu.MJ.atq=function(o,P){var w=P.sub[P.sub.length-1],x=w.sub[0].f,z=w.sub[1].f,S=o.slice(x,x+16),k=o.slice(z,z+w.sub[1].size),f=L.Dn,C=o[x],H=f(o,x+1),b=f(o,x+5),i=o[x+13],M=new fA(0,0,H,b),T=e.U(H*b*4);
if(i){new Uint32Array(T.buffer).fill(4278190080)}else{UTEX.readBC1(o,z,T,H,b)}return{pv:M,data:T}};eu.MJ.az=function(o,P,w){var x=L.AW,z=L.Dn,S=x(o,P,4);
S=S.split("").reverse().join("");var k=z(o,P+4);if(k!=0){console.log(o.slice(P-8));throw k}var f=z(o,P+8);
while((f&3)!=0)f++;var C={QQ:S,f:P+12,size:f};if(S=="CARF"||S=="CTEX"||S=="CREW"||S=="BMAP"){C.sub=[];
P+=12;if(S=="CTEX"||S=="CREW")P+=32;var H=C.f+C.size;while(P<H){var b=eu.MJ.az(o,P,w+1);C.sub.push(b);
P+=12+b.size+(b.size&1)}}return C};eu.yZ={};eu.yZ.VV=!0;eu.yZ.mJ=function(o,P){dA.M3(o,P)};eu.MD={};
eu.MD.VV=!0;eu.MD.mJ=function(o,P){ep.M3(o,P)};eu.EG={};eu.EG.VV=!0;eu.EG.mJ=function(o,P){aU.M3(o,P)};
eu.jA={};eu.jA.VV=!0;eu.jA.mJ=function(o,P){fk.M3(o,P)};eu.nk={};eu.nk.VV=!0;eu.nk.mJ=function(o,P){kh.M3(o,P)};
eu.wt={};eu.wt.VV=!0;eu.wt.D7=function(o,P,w,x,z,S){if(x==null)x=[!0,!1,!1,!1,!0];var k=cU.q0(o,{FR:x[0],hidden:x[1],anq:x[2],aoA:x[3],mE:x[4],afZ:P,avO:w},z.v7,S);
return k};eu.wt.mJ=function(o,P,w){cU.M3(o,P,w)};eu.Qh={};eu.Qh.VV=!0;eu.Qh.mJ=function(o,P){var w=150,x=new ar(1,0,0,-1,0,0);
x.scale(w/72,w/72);P.vz=w;var z=new jG(P,x,!0);FromPS.Parse(o,z)};eu.H9={};eu.H9.VV=!0;eu.H9.D7=function(o,P,w,x,z){if(x==null)x=["",100,!1,!1,!1,0,!1];
x[7]=["jpg"];var S=new ToPDF;c8.q0(o,x,S,z.v7,P,w);return S.buffer};eu.H9.mJ=function(o,P,w){var x=2;
while(!0){var z=x*72,S=new ar(1,0,0,-1,0,0);S.scale(z/72,z/72);P.vz=z;var k=new jG(P,S,!0);FromPDF.Parse(o,k);
var f=Math.max(P.q,P._);if(w&&f<Math.max(w[0],w[1])){P.R=[];var C=x;while(f*(x/C)<Math.max(w[0],w[1]))x++}else break}};
eu.ON={};eu.ON.VV=!0;eu.ON.mJ=function(o,P){var w=72,x=new ar(1,0,0,1,0,0);x.scale(w/72,w/72);P.vz=w;
var z=new jG(P,x,!1);FromWMF.Parse(o,z)};eu.eG={};eu.eG.zn=!0;eu.eG.VV=!0;eu.eG.D7=function(o,P,w,x,z){if(x==null)x=["",100,!1,!1,!1,0,!1];
x[7]=[];var S=new ToEMF;c8.q0(o,x,S,z.v7);return S.buffer};eu.eG.mJ=function(o,P){var w=72,x=new ar(1,0,0,1,0,0);
x.scale(w/72,w/72);P.vz=w;var z=new jG(P,x,!1);FromEMF.Parse(o,z)};eu.yo={};eu.yo.VV=!0;eu.yo.mJ=function(o,P){return iC.M3(o,P)};
eu.ayp={};eu.ayp.mJ=function(){var o,P,w,x,z,S,k=0,f=0,C=0,H=0,b=0,t="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",_=null;
function i(n){var y=h0.M3(n),F=y.Fs,m=0,R,$;console.log(y);var a=new Uint8Array(n);if(F=="ILBM")return M(y,a);
if(F=="CIMG")return Y(y,a);if(F=="ANIM"&&y.sub[0].QQ=="ADAT")return W(y,a);if(F!="ANIM")throw F;var V=L.Vp,D=L.RS,l=y.sub,Q=M(l[0],a);
for(var p=1;p<l.length-2;p++){var c=Q[Math.max(0,p-2)].aib.slice(0),B=l[p];for(var Z=0;Z<B.sub.length;
Z++){var v=B.sub[Z],E=v.f;if(v.QQ=="ANHD"){var g=a[E++];if(g!=5)throw g;var x=a[E++],u=V(a,E),j=V(a,E+2);
if(u!=0&&u!=o)throw u;if(j!=0&&j!=P)throw j;var A=V(a,E+4),K=V(a,E+6);if(A!=0||K!=0)throw A;E+=8;var s=V(a,E);
E+=2;R=V(a,E);E+=2;if(a[E++]!=0)throw"e";if(a[E++]!=0)throw"e";$=V(a,E);E+=2}else if(v.QQ=="DLTA"){var r=[],h=E;
for(var I=0;I<16;I++)r.push(D(a,E+I*4));E+=64;var q=S;for(var hc=0;hc<z;hc++){if(r[hc]==0)continue;E=h+r[hc];
for(var dk=0;dk<q;dk++){var c6=a[E++],e3=0;if(c6==0)continue;for(var I=0;I<c6;I++){var ks=a[E++];if(ks==0){var cH=a[E++],bI=a[E++];
for(var aR=0;aR<cH;aR++){c[(e3*z+hc)*q+dk]=bI;e3++}}else if(ks<128){e3+=ks}else{ks-=128;for(var aR=0;
aR<ks;aR++){c[(e3*z+hc)*q+dk]=a[E+aR];e3++}E+=ks}}}}}else console.log(v.QQ)}if(p==1&&R>100)R=0;var ak=R==0?17:Math.round((R-m)*1e3/60);
Q.push({data:O(a,c).buffer,pv:new fA(0,0,o,P),aib:c,v8:"_a_frm"+p+","+ak});m=R}if(C!=0&&o>P*2){var gC=new Uint32Array(o*P*2);
gC.fill(4294967295);for(var p=0;p<Q.length;p++){var bD=Q[p],hn=new Uint32Array(bD.data);for(var e3=0;
e3<P;e3++){var aK=e3*2;for(var dk=0;dk<o;dk++)gC[aK*o+dk]=hn[e3*o+dk];aK++;for(var dk=0;dk<o;dk++)gC[aK*o+dk]=hn[e3*o+dk]}bD.pv._*=2;
bD.data=gC.slice(0).buffer}}return Q}function M(n,y){var F,a,V;k=0;f=0;H=0;b=0;C=0;for(var D=0;D<n.sub.length;
D++){var l=n.sub[D],Q=l.f;if(l.QQ=="BMHD"){var m=[];for(var I=0;I<4;I++)m[I]=L.Vp(y,Q+2*I);Q+=8;var R=m[2],$=m[3];
o=m[0];P=m[1];w=y[Q++];x=y[Q++];V=y[Q++];if(V!=0&&V!=1)throw V;S=o+15>>>4<<1;z=w+x}else if(l.QQ=="CMAP")k=Q;
else if(l.QQ=="CAMG"){var p=L.RS(y,Q);f=p&32768,C=p&4,H=p&2048;b=p&128}else if(l.QQ=="BODY"){a=e.U(S*P*z);
if(V==0)a=y.slice(Q,Q+a.length);if(V==1)a$.fl(y,Q,l.size,a,0,a.length)}else if(l.QQ=="PLTP"){console.log(y.slice(Q,Q+l.size))}}F=O(y,a);
return[{pv:new fA(0,0,o,P),data:F.buffer,aib:a}]}function T(n,eK){return n[eK>>>3]>>>7-(eK&7)&1}function O(n,y){var F=w-2,a=(1<<F)-1,V=Math.round(255/a),D,l,Q,m=S*8;
if(k!=0){var R=1<<w,$=!0;for(var I=1;I<R;I++){var p=k+I*3;if(n[p]!=n[p-3]||n[p+1]!=n[p-2]||n[p+2]!=n[p-1]&&n[p+2]!=n[p-1]+1)$=!1}if($){for(var I=0;
I<R;I++){var p=k+I*3,c=Math.round(I*255/(R-1));n[p]=n[p+1]=n[p+2]=c}}}var B=e.U(o*P*4);for(var Z=0;Z<P;
Z++)for(var v=0;v<o;v++){var E=0;for(var g=0;g<z;g++){var u=(Z*z+g)*m+v,j=T(y,u);E|=j<<g}E=E&(1<<w)-1;
var I=Z*o+v,A=I<<2;if(k!=0){if(H!=0&&E>>>F!=0){var K=E>>>F,s=(E&a)*V;if(K==1)Q=s;else if(K==2)D=s;else if(K==3)l=s}else{var s=k+E*3;
D=n[s+0];l=n[s+1];Q=n[s+2]}}else{if(w==24){D=E>>>0&255;l=E>>>8&255;Q=E>>>16&255}else if(w==16){var r=0,h=1,d=4;
for(var g=0;g<16;g++)r+=(E>>>g&1)<<15-g;var jC=(1<<h)-1,q=(1<<d)-1;D=(r>>>7&jC)*(255/jC);l=Q=D}else throw w}B[A+0]=D;
B[A+1]=l;B[A+2]=Q;B[A+3]=255}return B}function Y(n,y){var F=1,a=2,V=4,D=L.RS,l=L.Vp,o=200,P=200,Q,m,R,$;
for(var p=0;p<n.sub.length;p++){var c=n.sub[p],B=c.f;if(c.QQ=="TBHD"){o=D(y,B);B+=4;P=D(y,B);B+=4;$=e.U(o*P*4);
R=new fA(0,0,o,P);B+=4;var Z=D(y,B);B+=4;var v=l(y,B);B+=2;if(v!=0)throw"e";m=l(y,B);B+=2;var E=D(y,B);
B+=4;if(E!=1)throw E;Q=0;if(Z&F)Q+=3;if(Z&a)Q+=1}if(c.Fs=="TBMP"){var g=c.sub;for(var u=0;u<g.length;
u++){var j=g[u].f,A=g[u].size,K=l(y,j),s=l(y,j+2),r=l(y,j+4)-K+1,h=l(y,j+6)-s+1;j+=8;var jC=e.U(r*h*4),d=e.U(r*h);
jC.fill(255);for(var I=0;I<4;I++){j=U(y,j,A-8,d,0);e.lI(d,jC,3-I)}if(j!=g[u].f+A)throw"e";e.sR(jC,new fA(K,s,r,h),$,R)}}}return[{pv:R,data:$.buffer}]}function U(n,y,F,a,V){var D=y;
while(V<a.length){var l=n[y++],gx=(l&127)+1;if(l&128){l=n[y++];for(var I=0;I<gx;++I)a[V++]=l}else{for(var I=0;
I<gx;++I)a[V++]=n[y++]}}return y}function W(n,y){if(_==null){var F=eu.bs(t);_=new Uint32Array(pako.inflate(new Uint8Array(F)).buffer)}var a=L.RS,V=L.Vp,D=n.sub[0],l=n.sub[1],o=V(y,D.f),P=V(y,D.f+2),Q=V(y,D.f+4),c,I,B,Z,v,E;
if(Q!=3)throw Q;var m=new fA(0,0,o,P),R=e.U(o*P*4),$=e.U(o*P);R.fill(255);var p=new Uint32Array(R.buffer),g=l.f;
for(Z=0;Z<2;Z++){E=Z;v=0;c=Math.floor((o*P+2-Z-1)/2);while(c>0){I=y[g++];if(I&128){I=257-I;c-=I;B=y[g++];
v=v&_[B]|_[B+256];do{p[E]=v;E+=2}while(--I)}else{I++;c-=I;do{B=y[g++];p[E]=v=v&_[B]|_[B+256];E+=2}while(--I)}}}for(var I=0;
I<R.length;I+=4){var u=R[I+3],j=R[I+2],A=R[I+1];R[I]=u;R[I+1]=j;R[I+2]=A;R[I+3]=255}for(var K=0;K<P>>>1;
K++){for(var s=0;s<o;s++){var I=K*o+s,B=(P-1-K)*o+s,r=p[I];p[I]=p[B];p[B]=r}}return[{pv:m,data:R.buffer}]}return i}();
eu.cD={};eu.cD.VV=!1;eu.cD.D7=function(o,P,w,x){var z=o[0][4],S=new Uint8Array(o[0][0]),k=2,f=z?!0:!1,C=f?4:3,H=new Uint8Array(P*w*C);
for(var b=0;b<w;b++)for(var i=0;i<P;i++){var M=b*P+i<<2,T=((w-b-1)*P+i)*C;H[T]=S[M+2];H[T+1]=S[M+1];
H[T+2]=S[M+0];if(f)H[T+3]=z[0][b*P+i]}if(!0){var O=H.length,Y=0,U=new Uint8Array(O*2),W=0,t=0,_=P*C;
while(t<O){var n=t,y=0,F=_*(Math.floor(t/_)+1);while(n<F&&y<128){var a=!0;for(var I=0;I<C;I++)a=a&H[t+I]==H[n+I];
if(!a)break;n+=C;y++}if(y==1){var V=1;while(V<128&&t+(V+1)*C<F){var a=!0,D=t+V*C;for(var I=0;I<C;I++)a=a&H[D+I]==H[D+C+I];
if(a)break;V++}U[W++]=V-1;for(var l=0;l<V;l++)for(var I=0;I<C;I++)U[W++]=H[t++]}else{U[W++]=127+y;for(var I=0;
I<C;I++)U[W+I]=H[t+I];W+=C;t+=C*y;Y+=y}}H=U.slice(0,W);k+=8}var Q=new Uint8Array(18+H.length+26);Q[2]=k;
L.NW(Q,12,P);L.NW(Q,14,w);Q[16]=C*8;Q[17]=C==4?8:0;Q.set(H,18);L.Xi(Q,18+H.length+8,"TRUEVISION-XFILE.");
return Q.buffer};eu.cD.mJ=function(o){var P=new Uint8Array(o),w=0,x=P[0],z=P[1],S=P[2],k=P[4]*256+P[3],f=P[6]*256+P[5],C=P[7],H=P[9]*256+P[8],b=P[11]*256+P[10],i=P[13]*256+P[12],M=P[15]*256+P[14],T=P[16],O=P[17],Y=O>>>4,U=L.AW(P,18,x),W=e.U(i*M*4),w=18+x+(f*C>>>3),t=new Uint8Array(P.buffer,w);
if(S>3){var _=0,n=P,y=new Uint8Array(i*M*T>>>3),F=w,a=0,V=P.length,D=T>>>3;while(a<y.length){var eK=n[F];
F++;if(eK<128)for(var I=0;I<eK+1;I++){for(var l=0;l<D;l++){y[a]=n[F];a++;F++}}else{for(var I=0;I<eK-127;
I++){for(var l=0;l<D;l++){y[a]=n[F+l];a++}}F+=D}}S-=8;t=y;w=F}else w+=i*M*T>>>3;var Q=new Uint8Array(4),m=eu.cD.aow;
for(var R=0;R<M;R++)for(var $=0;$<i;$++){var p=(Y&2)==0?(M-R-1)*i+$:R*i+$,c=R*i+$,B,Z,v,E=255,g=p*T>>>3;
if(S==1){var u=0;if(T==8)u=t[g];else throw"e";m(P,18+x+k+(u*C>>>3),C,Q);B=Q[0];Z=Q[1];v=Q[2];E=Q[3]}else if(S==2){m(t,g,T,Q);
B=Q[0];Z=Q[1];v=Q[2];E=Q[3]}else if(S==3){if(T==8)B=Z=v=t[g];else throw"e"}var j=c*4;W[j]=B;W[j+1]=Z;
W[j+2]=v;W[j+3]=E}var Q={pv:new fA(0,0,i,M),data:W.buffer,v8:U};if(e.Y9(W)){var A=e.U(i*M);e.JX(W,A,3);
e.ZT(W,4278190080,16777215);Q.Cg=[A]}return[Q]};eu.cD.aow=function(o,P,w,x){var z,S,k,f=255;if(w==24||w==32){k=o[P];
S=o[P+1];z=o[P+2];if(w==32)f=o[P+3]}else if(w==16){var C=o[P+1]<<8|o[P+0];z=C>>>10&31;S=C>>>5&31;k=C>>>0&31;
z=Math.round(z*(255/31));S=Math.round(S*(255/31));k=Math.round(k*(255/31))}else throw"e";x[0]=z;x[1]=S;
x[2]=k;x[3]=f};eu.a5c=function(){var o,P=[],w=!1;function x(k,f,C,H){o=C;P.push(k,H);z()}function z(){if(w||P.length==0)return;
w=!0;eu.asy(P.shift(),"image/avif",S)}function S(k){o(null,[k],P.shift());w=!1;z()}return{VV:!1,X0:!0,mJ:x}}();
eu.aF5=function(){var o,P=[],w=!1,x,z,S,k=10,f,C,H,b=0,M;async function i(_,n,y,F,a){o=y;P.push(_,F);
var V=await e9.M3(new Blob([_])),D=e9.getTracks(V,"vide")[0],l=D.tkhd,Q=D.mdia.minf.stbl,m=l.duration/V.moov.mvhd.JO,R=Q.stsz.length,$=Math.round(R/m);
x=l.V;z=l.Y;var p=x+" \xD7 "+z+" px, "+R+" frames, "+aN.yP(x*z*4*R)+" decoded<br/>";p+=m.toFixed(2)+" seconds, "+$+" FPS";
var c=new bO(G.E.X,!0);c.data={Q:G.l.y7,hq:"setFPS",Lz:k,eA:Y,ahc:p};a.j(c)}async function T(){if(w||P.length==0)return;
w=!0;var _=P.shift(),n=await e9.M3(new Blob([_])),y=e9.getTracks(n,"vide")[0],F=y.tkhd,a=y.mdia.minf.stbl,V=a.stsd.y6.avcC,D=F.duration/n.moov.mvhd.JO,l=a.stsz.length,Q=Math.round(l/D),m=Math.max(1,Math.round(Q/k)),R=a.stsd.q$,c=0;
console.log(R);if(["hvc1","hev1","apcn"].indexOf(R)!=-1)alert(R.toUpperCase()+" codec not supported");
M=Date.now();x=F.V;z=F.Y;S=[];f=document.createElement("canvas");C=f.getContext("2d");f.width=x;f.height=z;
var $=new Uint8Array(_),p=[];if(R=="raw "||R=="rle "){for(var B=0;B<l;B++){var Z=x*z;if(c%m==0){var v=e9.yV(n,"vide",B),E=new Uint8Array(_,v[0],v[1]),g=e.U(x*z*4);
g.fill(255);if(R=="rle "){var u=new Int8Array(_,v[0],v[1]),j=6,A=0;while(j<E.length){var K=u[j];j++;
A+=(K-1)*4;while(j<E.length){var s=u[j];j++;if(s==0){K=u[j];A+=(K-1)*4}else if(s==-1)break;else if(s>0){for(var I=0;
I<s*4;I++){g[A]=E[j];A++;j++}}else if(s<-1){for(var I=0;I<-s;I++){g[A]=E[j];g[A+1]=E[j+1];g[A+2]=E[j+2];
g[A+3]=E[j+3];A+=4}j+=4}}}}else for(var I=0;I<Z;I++){var r=I*4,h=I*3;g[r]=E[h];g[r+1]=E[h+1];g[r+2]=E[h+2]}var jC=S.length;
S[jC]={v8:"_a_"+jC+","+Math.round(m*1e3/Q),pv:new fA(0,0,x,z),data:g}}c++}O();return}var q=new VideoDecoder({output:function(e3){if(c%m==0){C.drawImage(e3,0,0);
e3.close();var g=C.getImageData(0,0,x,z).data.buffer,jC=S.length;S[jC]={v8:"_a_"+jC+","+Math.round(m*1e3/Q),pv:new fA(0,0,x,z),data:g}}else e3.close();
clearTimeout(b);b=setTimeout(O,100);c++},error:function(e3){console.log(e3.message)}}),hc={codec:"vp09.00.10.08",codedWidth:x,codedHeight:z};
if(V){hc.codec="avc1.640034";hc.description=$.slice(V.f,V.f+V.PD)}q.configure(hc);for(var I=0;I<l;I++){var dk=e9.getTracks(n,"vide")[0],v=e9.yV(dk,I),E=new Uint8Array(_,v[0],v[1]),c6=new EncodedVideoChunk({timestamp:I,duration:1e3,type:I==0?"key":"delta",data:E});
q.decode(c6)}await q.flush()}function O(){o(null,S,P.shift());w=!1;console.log(Date.now()-M);T()}function Y(_){k=Math.max(1,Math.min(60,_));
if(window.VideoDecoder)T();else U()}function U(){if(w||P.length==0)return;w=!0;f=document.createElement("canvas");
C=f.getContext("2d");H=document.createElement("video");var _="data:"+"video/mp4"+";base64,"+eu.i_(P.shift());
H.src=_;H.muted=!0;H.currentTime=0;H.addEventListener("canplay",W,!1);H.addEventListener("timeupdate",t,!1)}function W(_){H.removeEventListener("canplay",W);
x=f.width=H.videoWidth;z=f.height=H.videoHeight;S=[];H.play()}function t(_){clearTimeout(b);C.drawImage(H,0,0);
S.push({v8:"_a_"+S.length+","+Math.round(1e3/k),pv:new fA(0,0,x,z),data:C.getImageData(0,0,x,z).data.buffer});
var n=H.currentTime+1/k;if(n<H.duration&&_){H.currentTime=n;b=setTimeout(t,1e3)}else{o(null,S,P.shift());
H.removeEventListener("timeupdate",t);w=!1;U();S=null}}return{VV:!1,X0:!0,mJ:i}}();eu.aF5.D7=function(){var o,P,w,x,z,S,k=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],f=40,C,H,b,i,M,T;
function O(m,R){if(!z&&R){if(R.description){z=R.description}if(R.decoderConfig&&R.decoderConfig.description){z=R.decoderConfig.description}}var $=new ArrayBuffer(m.byteLength);
m.copyTo($);Y($);w.push({duration:m.duration,timestamp:m.timestamp,type:m.type,byteLength:m.byteLength});
if(m.type=="key"){x.push(w.length)}}function Y(m){var R=new Uint8Array(S.byteLength+m.byteLength);R.set(new Uint8Array(S));
R.set(new Uint8Array(m),S.byteLength);S=R.buffer}function U(m){return new Uint8Array([m.charCodeAt(0),m.charCodeAt(1),m.charCodeAt(2),m.charCodeAt(3)]).buffer}function W(m){var R=new Uint32Array([m]),$=new Uint8Array(R.buffer);
return new Uint8Array([$[3],$[2],$[1],$[0]])}function t(m){M[i]=m;++i}function _(m){M[i]=m>>8&255;M[i+1]=m&255;
i+=2}function n(m){M[i]=m>>16&255;M[i+1]=m>>8&255;M[i+2]=m&255;i+=3}function y(m){M[i]=m>>24&255;M[i+1]=m>>16&255;
M[i+2]=m>>8&255;M[i+3]=m&255;i+=4}function F(m){b.push(i);i+=4;a(m)}function a(m){for(var I=0;I<m.length;
++I){M[i]=m.charCodeAt(I);++i}}function V(m){M.set(new Uint8Array(m),i);i+=m.byteLength}function D(){var m=i;
i=b.pop();y(m-i);i=m}function l(){b=[];var m=[],R={},$=9e4,p=w.length,c=x.length,B=-1;for(var I=0;I<w.length;
++I){C+=w[I].duration/1e3;H+=w[I].byteLength;if(w[I].duration!=B){if(I!=0){m.push(R)}B=w[I].duration;
R={duration:9e4*w[I].duration/1e6,sampleCount:1}}else{R.sampleCount=R.sampleCount+1}}H+=8;m.push(R);
var Z=m.length,v=579+z.byteLength+4*p+4*p+4*c+8*Z;M=new Uint8Array(v);i=0;F("moov");F("mvhd");y(0);y(0);
y(0);y(1e3);y(C);y(65536);_(256);_(0);y(0);y(0);y(65536);y(0);y(0);y(0);y(65536);y(0);y(0);y(0);y(1073741824);
y(0);y(0);y(0);y(0);y(0);y(0);y(2);D();F("trak");F("tkhd");y(7);y(0);y(0);y(1);y(0);y(C);y(0);y(0);_(0);
_(0);_(256);_(0);y(65536);y(0);y(0);y(0);y(65536);y(0);y(0);y(0);y(1073741824);y(o*65536);y(P*65536);
D();F("mdia");F("mdhd");y(0);y(0);y(0);y($);y(C/1e3*$);t(85);t(196);_(0);D();F("hdlr");y(0);y(0);a("vide");
y(0);y(0);y(0);a("VideoHandler");t(0);D();F("minf");F("vmhd");y(1);_(0);_(0);_(0);_(0);D();F("dinf");
F("dref");y(0);y(1);F("url ");y(1);D();D();D();F("stbl");F("stsd");y(0);y(1);F("avc1");_(0);_(0);_(0);
_(1);_(0);_(0);y(0);y(0);y(0);_(o);_(P);y(4718592);y(4718592);y(0);_(1);for(var I=0;I<8;++I){y(0)}_(24);
_(-1);F("avcC");V(z);D();D();D();F("stts");y(0);y(Z);for(var I=0;I<Z;++I){y(m[I].sampleCount);y(m[I].duration)}D();
F("stsc");y(0);y(1);y(1);y(1);y(1);D();F("stsz");y(0);y(0);y(p);for(var I=0;I<p;++I){y(w[I].byteLength)}D();
F("stco");y(0);y(p);var E=f;for(var I=0;I<p;++I){y(E);E+=w[I].byteLength}D();F("stss");y(0);y(c);for(var I=0;
I<c;++I){y(x[I])}D();D();D();D();D();D();return}function is(m,R,$){var p=new Uint8Array(o*P*4),c=new Uint8Array(m),B=R?o-1:o,Z=$?P-1:P;
if(R){for(var I=0;I<Z;++I){p.set(c.slice(4*I*B,4*I*B+4*B),4*I*o);p[4*(I+1)*o-4]=c[4*(I+1)*B-4];p[4*(I+1)*o-3]=c[4*(I+1)*B-3];
p[4*(I+1)*o-2]=c[4*(I+1)*B-2];p[4*(I+1)*o-1]=c[4*(I+1)*B-1]}if($){p.set(p.slice(4*o*Z-4*o,4*o*Z),4*o*Z)}}else if($){p.set(c);
p.set(c.slice(4*B*Z-4*B),4*B*Z)}return p.buffer}async function Q(m,R,$,p){var c=Date.now(),B=!1,Z=!1,s=0;
if(R%2!=0){B=!0;o=R+1}else{o=R}if($%2!=0){Z=!0;P=$+1}else{P=$}z=null;x=[];w=[];C=0;H=0;S=new Uint8Array;
Y(new Uint8Array(k));Y(W(0).buffer);Y(U("mdat"));var v=new VideoEncoder({output:(chunk,opts)=>O(chunk,opts),error:bF=>{console.log(bF)}}),E=.02*(1+Math.pow(3.2*p[0]/100,2.3)),g=E*o*P,u=g*m.length,j=Math.round(g*24),A={width:o,height:P,codec:"avc1.420034",bitrate:j},K=await VideoEncoder.isConfigSupported(A);
console.log(K);if(K.supported==!1){console.log("Encoding not supported. Config: ",K.config);return new Uint8Array(0).buffer}v.configure(A);
for(var I=0;I<m.length;++I){var r=m[I][1]*1e3,h=m[I][0];if(Z||B){h=is(m[I][0],B,Z)}var jC=new VideoFrame(h,{timestamp:s,duration:r,format:"RGBA",codedWidth:o,codedHeight:P});
v.encode(jC);jC.close();s+=r}await v.flush();l();T=new Uint8Array(S.byteLength+M.byteLength);T.set(new Uint8Array(S),0);
T.set(W(H),f-8);T.set(M,S.byteLength);var d=Date.now();console.log(d-c);return T.buffer}return Q}();
eu.x6={};eu.x6.mJ=function(o){var P=new Uint8Array(o),w=0,x=112,z=42,S=L.Dn,b;w+=8;var k=P[w];w++;if(k!=z)throw"e";
var f=S(P,w);w+=4;var C=L.NF(P,w,f);w+=f*2;var H=[];while(w<P.length){b=S(P,w);w+=4;if(b!=x)throw b;
w+=4;b=P[w];w++;if(b!=z)throw b;var i=S(P,w);w+=4;var M=P[w];w++;if(M!=z){w-=5;i=S(P,w);w+=8;b=P[w];
w++;if(b!=z)throw b}var T=S(P,w)*2;w+=4;if(i>0)H.push(w+T);w+=T+i}var O=new DOMParser,Y=O.parseFromString(C,"image/svg+xml").firstChild.firstChild,U=[];
eu.x6.ajR(Y,P,H,U);return U};eu.x6.ajR=function(o,P,w,x){var z=o.firstChild.firstChild;if(z.tagName=="Image"){var S=z.getElementsByTagName("ImageDescription")[0],k=S.children[0].children,f=S.children[1].children,C=w.shift(),H=[];
for(var I=0;I<f.length;I++)H.push(parseInt(f[I].getAttribute("NumberOfElements")));while(H.length>3)H[2]*=H.pop();
var b=k.length,i=H[0],M=H[1],T=H[2],O=parseInt(f[0].getAttribute("BytesInc"));for(var Y=0;Y<T;Y++){var U=e.U(i*M*4);
e.ZT(U,4278190080);for(var W=0;W<b;W++){var t=e.U(i*M);if(O==1)for(var _=0;_<t.length;_++)t[_]=P[C+_];
else if(O==2)for(var _=0;_<t.length;_++)t[_]=Math.min(255,(P[C+_*2+1]<<8|P[C+_*2])>>>2);else throw O;
if(W!=3)e.lI(t,U,W);if(b==1){e.lI(t,U,1);e.lI(t,U,2)}C+=i*M*O}x.push({pv:new fA(0,0,i,M),data:U.buffer})}}else{var n=o.children,y=0;
while(y<n.length&&n[y].tagName!="Children")y++;if(y==n.length)throw"e";n=n[y].children;for(var F=0;F<n.length;
F++)eu.x6.ajR(n[F],P,w,x)}};eu.aGM=function(){function o(k,f,C,H,b){var i=new Int8Array(k.buffer),M=new Int8Array(H.buffer),T=f+C;
while(f<T){var eK=i[f];f++;if(eK>=0&&eK<128)for(var I=0;I<eK+1;I++){M[b]=i[f];b++;f++}if(eK>=-127&&eK<0){for(var I=0;
I<-eK+1;I++){M[b]=i[f];b++}f++}}return b}function P(k,f,C,H,b,i){var M=f*C*H>>>3,T=e.U(M*b),O=x(k,0,0,0)[0];
for(var Y=0;Y<b;Y++){var U=O[Y+1];if(i){var W=eu.oi("jpg").mJ(U.buffer),t=e.U(M);e.KN(new Uint8Array(W[0].data),t);
T.set(t,M*Y)}else if(U[0]==255&&U[1]==216&&U[2]==255){var _=UTIF.LosslessJpegDecode(U);T.set(new Uint8Array(_.buffer),M*Y)}else o(U,64,U.length,T,M*Y)}return T}function w(k){var f=new Uint8Array(k),C=0,H=L.AW(f,0,128);
C+=128;var b=L.AW(f,C,4);C+=4;var i=z(f,C,0)[0],M=i.g28;if(M==null){alert("No image.");return[]}var T=M.cols,O=M.rows,Y=T*O,U=M.photoInterpret,W=M.bitsAlloc,t=M.bitsStored,_=M.lossyCompr;
if(_==null)_=i.g8.lossyCompr;var n=i.g7fe0.pixelData,y=M.numOfFrames;y=y?parseInt(y):1;var F=new Uint8Array(n.buffer),a=Y*W>>>3;
if(F.length!=a*y){n=P(n,T,O,W,y,_)}else{}if(W==16)n=new Uint16Array(n.buffer);console.log(M);console.log(i);
var V=[];for(var D=0;D<y;D++){var l=D*a,k=e.U(T*O*4);k.fill(255);if(U=="MONOCHROME2"){var Q=0,m=255,R=M.largestValue,$=M.smallestValue;
if(R!=null){m=R;Q=$}else if(t!=8){m=0;Q=1e9;for(var I=0;I<Y;I++){var p=n[l+I];if(p>1<<t-8){if(p>m)m=p;
if(p<Q)Q=p}}}var c=255/(m-Q);for(var I=0;I<Y;I++){var p=Math.max(0,Math.min(255,(n[l+I]-Q)*c)),B=I*4;
k[B]=k[B+1]=k[B+2]=p}}else if(U=="PALETTE COLOR"){var Z=M.pltRed,v=M.pltGreen,E=M.pltBlue;for(var I=0;
I<Y;I++){var g=n[l+I],B=I*4;k[B]=Z[g]>>>8;k[B+1]=v[g]>>>8;k[B+2]=E[g]>>>8}}else throw U;V.push({pv:new fA(0,0,T,O),data:k.buffer})}return V}function x(k,f,C,H){if(C==0)C=k.length;
var b=L.Bh,i=L.rg,M=L.Dn,T=[],O=f;while(f<C){var Y=b(k,f);f+=2;var U=b(k,f);f+=2;var W=M(k,f);f+=4;if(Y==65534&&U==57344){if(W==4294967295){var t=z(k,f,H+1);
T.push(t[0]);f=t[1]}else{T.push(k.slice(f,f+W));f+=W}}else if(Y==65534&&U==57357){}else if(Y==65534&&U==57565)break;
else throw"e"}return[T,f]}function z(k,f,C){var H=L.Bh,b=L.rg,i=L.Dn,M={},T="\t".repeat(C);while(f<k.length){var O=H(k,f),t="",_=0,y=null;
f+=2;var Y=H(k,f);f+=2;var U=O.toString(16),W=Y.toString(16);if(O==65532)break;if(O==65534&&Y==57357){f-=4;
break}if(O==65534&&Y==57565)throw"e";if(Y==0){f+=8;continue}if(65<=k[f+1]){t=L.AW(k,f,2);f+=2;if(t=="OB"||t=="SQ"||t=="OW"){_=i(k,f+2);
f+=6}else{_=H(k,f);f+=2}}else{t=S[U][W].split(",")[1];_=i(k,f);f+=4}console.log(U,W,t,_);var n=S[U][W];
if(n)n=n.split(",")[0];if(n==null){n="t"+W}if(t=="SQ"){var F=x(k,f,f+_,C);y=F[0];f=F[1];_=0}else if(t=="US")y=H(k,f);
else if(t=="SS")y=b(k,f);else if(t=="UL")y=i(k,f);else if(t=="FL")y=L.mp(k,f);else if(t=="AT")y=[H(k,f),H(k,f+2)];
else if(t=="OB")y=k.slice(f,f+_);else if(t=="OW")y=new Uint16Array(k.slice(f,f+_).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(t)!=-1){var a=f+_;
while(k[a-1]==0)a--;y=L.AW(k,f,a-f).trim()}else{console.log(T,JSON.stringify(L.AW(k,f,Math.min(_,32))));
throw t}if(M["g"+U]==null)M["g"+U]={};M["g"+U][n]=y;f+=_}return[M,f]}var S={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{mJ:w}}();eu.a5G={};eu.a5G.mJ=function(o){var P=new Uint8Array(o),w=0,x={},b=1e9;for(var I=0;I<306;
I++){var z=L.AW(P,w,8).trim(),S=L.AW(P,w+9,71).split("/")[0].trim();x[z]=S;w+=80;if(z=="END"){w=Math.ceil(w/2880)*2880;
break}}var k=parseInt(x.NAXIS1),f=parseInt(x.NAXIS2),C=k*f,H=parseInt(x.BITPIX),i=-1e9,M=new Float32Array(C),T=new Float32Array(o,w,o.byteLength-w>>>2);
for(var I=0;I<C;I++){var O=I<<2,Y=I<<1;if(H==-32){var U=P[w+O+0];P[w+O+0]=P[w+O+3];P[w+O+3]=U;var U=P[w+O+1];
P[w+O+1]=P[w+O+2];P[w+O+2]=U;M[I]=T[I]}else if(H==16){M[I]=L.Bh(P,w+Y)}else throw H;var W=M[I];if(W<b)b=W;
if(W>i)i=W}var t=e.U(C*4),_=1/i;for(var n=0;n<f;n++)for(var y=0;y<k;y++){var I=n*k+y,F=(f-n-1)*k+y,O=F<<2,W=M[I]*_;
t[O]=t[O+1]=t[O+2]=255*W;t[O+3]=255}return[{pv:new fA(0,0,k,f),data:t,v8:x.OBJECT}]};eu.Td={};eu.Td.mJ=function(o){var P=new Uint8Array(o),w=16,x=L.AW(P,w,4),S=32,W=0,t=0,_=!1,Z;
w+=4;var z=L.AW(P,w,8);w+=8;while(P[w+S-1]==0)S--;var k=L.AW(P,w,S);w+=32;var f=L.AW(P,w,4);w+=4;w+=20;
var C=L.RS(P,w);w+=4;var H=L.RS(P,w);w+=4;var b=L.RS(P,w);w+=4;var i=L.RS(P,w);w+=4;var M=L.RS(P,w);
w+=4;var T=L.RS(P,w);w+=4;var O="FujiFilm "+k,Y=[0,1,1,2];if(O=="FujiFilm X10"){O="FujiFilm FinePix X10";
Y=[2,1,1,0]}var U={t271:["FujiFilm"],t272:[O],t277:[1],t33421:[2,2],t33422:Y,Xl:1};w=b;var n=[],y=L.Vp,F=L.RS(P,w);
w+=4;for(var I=0;I<F;I++){var a=y(P,w);w+=2;var V=y(P,w);w+=2;if(a==256){t=y(P,w);W=y(P,w+2)}else if(a==272){n=[y(P,w),y(P,w+2)]}else if(a==273){n.push(y(P,w),y(P,w+2))}else if(a==304){_=!(P[w]>>>7)}else if(a==305){var D=Math.round(Math.sqrt(V)),l=[];
for(var Q=0;Q<V;Q++)l.push(P[w+Q]);l.reverse();U.t33421=[D,D];U.t33422=l}else if(a==12272){var m=y(P,w),R=y(P,w+2),$=y(P,w+6);
U.t50728=[m/R,1,m/$]}w+=V}var p=W<t,c=P.slice(M,M+T),B=Math.round(T*8/(W*t));if(c[0]==73&&c[1]==73&&c[2]==42){Z=UTIF.decode(c.buffer)[0].fujiIFD;
B=Z.t61443[0];var v=Z.t61454,E=Z.t61450;if(E)U.t50714=E;if(v)U.t50728=[v[0]/v[1],1,v[0]/v[2]];var g=Z.t61447[0];
c=c.slice(g,g+Z.t61448[0])}var T=c.length,u=T*8<W*t*B;if(u){console.log("compressed");var j=U.t33422,A=~~Math.sqrt(j.length),K=[];
for(var I=0;I<A;I++)K[I]=j.slice(I*A,I*A+A);c=new Uint8Array(UTIF._decompressRAF(c,K).buffer);T=c.length}function s(q,hc,dk){dk=dk<<8-(hc&7);
var c6=hc>>>3;q[c6]|=dk>>>16;q[c6+1]|=dk>>>8;q[c6+2]|=dk}var r=T*8/(W*t);if(r==16)for(var I=0;I<T;I+=2){var h=c[I];
c[I]=c[I+1];c[I+1]=h}else if(r==14){for(var I=0;I<T;I+=4){var h=c[I];c[I]=c[I+3];c[I+3]=h;h=c[I+1];c[I+1]=c[I+2];
c[I+2]=h}}else if(r==12)for(var I=0;I<T;I+=3){var jC=c[I+2]<<16|c[I+1]<<8|c[I+0];jC=jC>>>12|(jC&4095)<<12;
c[I]=jC>>>16&255;c[I+1]=jC>>>8&255;c[I+2]=jC&255}if(p)c=eu.Td.aH2(c,W,t);var d=p?2:1;W*=d;U.t256=[W];
U.t257=[t];U.t258=[B];U.t50719=[n[1],n[0]*d];U.t50720=[n[3],n[2]*d];U.width=W;U.height=t;U.data=new Uint8Array(c.buffer);
return[U]};eu.Td.aH2=function(o,P,w){o=new Uint16Array(o.buffer);var x=new Uint16Array(P*w*2);for(var z=0;
z<w;z+=2)for(var S=0;S<P;S++){var k=z*P+S,f=k*2,C=o[k],H=o[k+P];x[f+1]=x[f+2*P]=H;if(((z>>>1)+S&1)==0){x[f]=C;
x[f+2*P+1]=o[k+1]}else{x[f]=o[k-1];x[f+2*P+1]=C}}return x};eu.k6={};eu.k6.a4E=function(o,P,w){w=w<<8-(P&7);
var x=P>>>3;o[x]|=w>>>16;o[x+1]|=w>>>8;o[x+2]|=w};eu.k6.X0=!0;eu.k6.mJ=async function(o,P,w,x){var z=new Uint8Array(o),S=0,k=Date.now(),f=await e9.M3(new Blob([o])),C=f.moov.uuid[0],H=new CR3Parser(o),b=H.getTrack().meta,i=C.CMT1[0],M=i.t256[0]=b.width,T=i.t257[0]=b.height,O=M*T,Y=i.exifIFD=C.CMT2[0],U=Y.makerNote=C.CMT3[0],W=f.moov.trak[3].mdia.minf.stbl,t=W.co64[0],_=z.slice(t,t+W.stsz[0]),n=0;
while(n<_.length){var y=L.Dn(_,n);n+=4;var F=L.Bh(_,n);n+=2;var a=_[n]==1;n+=2;n+=4;if(F==8||F==9){var V=UTIF.decode(_.slice(n+8,n+y-12).buffer)[0];
for(var D in V)U[D]=V[D]}n+=y-12}i.t277=[1];i.t33421=[2,2];i.t33422=[0,1,1,2];i.Xl=1;if(i.t274)i.Xl=i.t274[0];
var l=H.extractCFA(),Q=b.bitDepth;if(Q!=14)throw"e";i.t258=[Q];var m=new Uint8Array(Math.ceil(O*Q/8)),R=16-Q;
for(var I=0;I<O;I++)eu.k6.a4E(m,I*14,l[I]<<R);i.width=M;i.height=T;i.data=m;w(null,[i],x)};eu.ui={};
eu.ui.zn=!0;eu.ui.D7=function(o,P,w,x){var z=new Uint8Array(o[0][0]),S=P*w,k=[1,3,4][x[0]],f=8+8*x[1],C=x[2];
if(k==1){var H=new Uint8Array(P*w);e.JX(z,H,0);z=H}if(k==3){var H=new Uint8Array(P*w*3);for(var I=0;
I<S;I++){var b=I*4,i=I*3;H[i]=z[b];H[i+1]=z[b+1];H[i+2]=z[b+2]}z=H}if(f==16){var M=z.length,H=new Uint8Array(M*2);
for(var I=0;I<M;I++){var T=Math.round(z[I]*(65535/255));H[I*2+C]=T>>>8;H[I*2+1-C]=T&255}z=H}return z.buffer};
eu.Ab={};eu.Ab.mJ=function(o,P){function w(K){return~~(.5+e.Yd(Math.max(0,Math.min(1,K)))*255)}var x=new Uint8Array(o),z=4,S=L.Dn(x,z);
z+=4;var k={};z=eu.Ab.Fl(x,z,k);var f=k.compression,C=k.channels,H=C.length,b=Date.now();if(f==3&&H>4){var i=k.dataWindow,M=i[2]+1,T=i[3]+1,O=[];
while(!0){var Y=L.Dn(x,z+O.length*8);if(Y==0)break;O.push(Y)}z+=O.length*8;function U(d,K,A,q,R,v){var hc=d[A*(H*M)+q*M+K];
return w(hc)}function W(d,c){for(var B=0,eK=Math.floor((d.length+1)/2),q=0,I=d.length-1;!(q>I||(c[q++]=d[B++],q>I));
)c[q++]=d[eK++]}var t=[],_={},n=[];for(var I=0;I<C.length;I++){var y=C[I],F=y[0];if(F.indexOf(".")==-1)F="main."+F;
var a=F.split(".");while(a.length>2)a[0]=a.shift()+"_"+a[0];var V=a[0],D=a[1];if(_[V]==null){_[V]=t.length;
var l=e.U(M*T*4);t.push(l);l.fill(255)}n.push([_[V],{R:0,G:1,B:2,A:3}[D]])}for(var I=0;I<O.length;I++){var Q=O[I],m=L.Dn(x,Q),p;
Q+=4;var R=I==O.length-1?T-m:16,$=L.Dn(x,Q);Q+=4;if(f==3){var p=new Uint8Array(R*M*H*4);UZIP.inflateRaw(x.slice(Q+2,Q+$),p);
for(var c=1;c<p.length;c++){var B=p[c-1]+p[c]-128;p[c]=B}var Z=new Uint8Array(p.length);W(p,Z);p=new Float32Array(Z.buffer)}var v=e.U(p.length);
for(var E=0;E<H;E++){var g=n[E],u=t[g[0]],j=g[1];for(var A=0;A<R;A++){for(var K=0;K<M;K++){var s=((A+m)*M+K)*4;
u[s+j]=U(p,K,A,E,R,v)}}}}var r=[];for(var F in _){r.push({pv:new fA(0,0,M,T),data:t[_[F]].buffer,v8:F})}console.log(Date.now()-b);
return r.reverse()}else{var h=EXRLoader.parse(o),M=h.width,T=h.height,u=e.U(M*T*4);for(var A=0;A<T;A++)for(var K=0;
K<M;K++){var I=(A*M+K)*4,jC=((T-A-1)*M+K)*4;u[I]=w(h.data[jC+0]);u[I+1]=w(h.data[jC+1]);u[I+2]=w(h.data[jC+2]);
u[I+3]=w(h.data[jC+3])}return[{pv:new fA(0,0,M,T),data:u.buffer}]}};function ag(o){var P=(o&31744)>>10,w=o&1023;
return(o>>15?-1:1)*(P?P===31?w?NaN:Infinity:Math.pow(2,P-15)*(1+w/1024):6103515625e-14*(w/1024))}eu.Ab.Fl=function(o,P,w){function x(O,Y){var U=Y;
while(O[U]!=0)U++;return U-Y}while(o[P]!=0){var z=L.AW(o,P,x(o,P));P+=z.length+1;var S=L.AW(o,P,x(o,P));
P+=S.length+1;var k=L.Dn(o,P);P+=4;var f=o.slice(P,P+k);if(k==1)f=o[P];else if(S=="box2i"){f=[];for(var I=0;
I<4;I++)f.push(L.Be(o,P+4*I))}else if(S=="float")f=L.mp(o,P);else if(S=="v2f"){f=[];for(var I=0;I<2;
I++)f.push(L.mp(o,P+4*I))}else if(S=="chlist"){var C=P;f=[];while(o[C]!=0){var H=L.AW(o,C,x(o,C));C+=H.length+1;
var b=L.Dn(o,C);C+=4;var i=o[C];C++;C+=3;var M=L.Dn(o,C);C+=4;var T=L.Dn(o,C);C+=4;f.push([H,b,i,M,T])}}else console.log("-----",S);
w[z]=f;P+=k}return P+1};eu.on={};eu.on.zn=!0;eu.on.VV=!0;eu.on.D7=function(o,P,w,x,z){x=["",100,!1,!1,!1,0,!1];
x[7]=["jpg"];var S=new ToDXF;c8.q0(o,x,S,z.v7);return S.buffer};eu.on.mJ=function(o,P){var w=72,x=new ar(1,0,0,1,0,0);
x.scale(w/72,w/72);P.vz=w;var z=new jG(P,x,!1);FromDXF.Parse(o,z)};eu.aEW={};eu.aEW.mJ=function(){var o=L.Bh,P=L.Dn,w=L.AW,x;
function z(k,f,C,H,b){var i=P(k,C),M=P(k,C+4),T=P(k,C+8),O=o(k,C+12),Y=o(k,C+14);C+=16;var U={};for(var I=0;
I<O+Y;I++){var W=P(k,C),t=P(k,C+4),_,n;if(W>>>31==1){W=W&16777215}if(I<O)_=L.NF(k,f+W+2,o(k,f+W));else _="id"+W;
var y=H.slice(0);y.push(_);if(t>>>31==1){t=t&268435455;n=z(k,f,f+t,y,b)}else{var F=P(k,f+t),a=P(k,f+t+4),V=P(k,f+t+8),D=P(k,f+t+12);
if(D!=0)throw"e";if(F<b[0]||F>b[0]+b[1])throw"e";var l=b[2]+F-b[0];n=k.slice(l,l+a);var Q=eu.IL(n.buffer);
if(Q&&["bmp","png","ico"].indexOf(Q)!=-1){var m=eu.oi(Q);if(!m.VV){var R=null;try{R=m.mJ(n.buffer)}catch(bF){}if(R){R[0].v8=y[1];
x.push(R[0])}}}else if(Q)console.log(Q)}U[_]=n;C+=8}return U}function S(k){x=[];var f=new Uint8Array(k),C=0,H=o(f,C);
C+=2;C+=58;var b=P(f,C);C+=4;C=b;var i=w(f,C,4);C+=4;var M=o(f,C);C+=2;var T=o(f,C);C+=2;var O=P(f,C);
C+=4;var Y=P(f,C);C+=4;var U=P(f,C);C+=4;var W=o(f,C);C+=2;var t=o(f,C);C+=2;C+=W;var _={};for(var I=0;
I<T;I++){var n=C;while(f[n]!=0)n++;var y=w(f,C,n-C),F=P(f,C+8),a=P(f,C+12),V=P(f,C+16),D=P(f,C+20),l=P(f,C+24),Q=P(f,C+28),m=o(f,C+32),R=o(f,C+34),t=P(f,C+36);
_[y]=[a,F,D,V,t];if(l+Q!=0)throw"e";C+=40}for(var $ in _){var p=_[$];C=p[2];if($==".rsrc"){var c=z(f,C,C,[],p),B="id134"}}return x}return S}();
eu.DW={};eu.DW.VV=!0;eu.DW.mJ=function(o,P,w){gn.M3(o,P,w)};eu.DW.D7=function(o,P,w){return gn.q0(o)};
(function(){var o=eu.hP.get("wasm/zstd").buffer;WebAssembly.instantiate(o).then(function(P){var w=P.instance.exports;
eu.DW.a8f=w})}());eu.DW.Xn=function(o,P){var w=eu.DW.a8f,x=o.length,z=w.memory,S=2*x+1e6,C=4;eu.gi(w,S);
var k=new Uint8Array(z.buffer),f=w.malloc(x);k.set(o,f);while(!0){var H=P==null?x*C:P;eu.gi(w,S+H);var b=w.malloc(H),i=w.ZSTD_decompress(b,H,f,x);
if(i==-70){w.free(b);C+=C>>>1;if(P!=null)throw"error"}else{k=new Uint8Array(z.buffer);o=k.slice(b,b+i);
w.free(b);break}}w.free(f);return o};eu.vj={};eu.vj.VV=!0;eu.vj.mJ=function(){var o=0,P=1,w=2,x=3,z=4,S=5,k=6,f=7,C=1,H=2,b=7,i=8,M=9,T,O,Y,U,W;
function t(){var eK=L.Be(T,O);O+=4;return eK}function _(){var Z=0,v=0;for(var I=0;I<5;I++){var E=T[O++];
Z+=(E&127)<<v;v+=7;if((E&128)==0)break}return Z}function n(){var Z=_(),v=L.bR(T,O,Z);O+=Z;return v}function y(){return{typeName:n(),azu:t()}}function F(){var Z=t(),v=n(),E=[],g=t();
for(var I=0;I<g;I++)E.push([n()]);return{id:Z,uD:v,amh:E}}function a(Z){var v=Z.amh,E=[];for(var I=0;
I<v.length;I++)v[I].push(T[O++]);for(var I=0;I<v.length;I++){var g=v[I][1],u;v[I].push(V(g))}}function V(Z){var v;
if(Z==o)v=T[O++];else if(Z==x)v=n();else if(Z==z)v=y();else if(Z==P||Z==w||Z==k||Z==S){}else throw Z;
return v}function D(Z,v,E){var g;if(Z==o){if(v==C)g=T[O++]==1;else if(v==H){g=T[O++]}else if(v==i)g=t();
else if(v==M){g=t();t()}else throw v}else if(Z==x){g=R(E+1)}else if(Z==z){g=R(E+1)}else if(Z==S){g=R(E+1)}else if(Z==P){g=R(E+1)}else if(Z==k){g=R(E+1)}else if(Z==w){g=R(E+1)}else throw Z;
return g}function l(Z,v){var E=Y["c"+Z],g=E.amh,u={_class:E.uD};for(var I=0;I<g.length;I++){var j=g[I],A=j[1],K=j[2],s=D(A,K,v),r=j[0];
u[r]=s}return u}function Q(Z,v,E,g){var u=[];for(var I=0;I<Z;I++){var j=D(v,E,g);if(j.S$&&j.S$=="null_count"){var A=j.IN;
for(var K=0;K<A;K++)u.push(null);I+=A-1}else u.push(j)}return u}function m(){return[t(),t()]}function R(Z){if(Z==null)throw"e";
var v=null,E=T[O],g=null;O++;if(E==0){var u=t(),j=t(),A=t(),K=t();v=[u,j,A,K]}else if(E==1){g=t();var s=t();
v=l(s,Z)}else if(E==4){var r=F();g=r.id;a(r);Y["c"+r.id]=r;v=l(r.id,Z)}else if(E==5){var r=F();g=r.id;
a(r);var h=t();Y["c"+r.id]=r;v=l(r.id,Z)}else if(E==6){g=t();var jC=n();v=jC}else if(E==7){g=t();var d=T[O++];
if(d!=0)throw d;var q=t();if(q!=1)throw q;var hc=t(),dk=T[O++],c6=V(dk);v=Q(hc,dk,c6,Z)}else if(E==9){var e3=t();
v={S$:"ref",IN:e3};W["o"+e3]=!0}else if(E==10){v={S$:"null_count",IN:1}}else if(E==11){v={S$:"end"}}else if(E==12){var h=t(),ks=n()}else if(E==13){var cH=T[O++];
v={S$:"null_count",IN:cH}}else if(E==16){var bI=m();g=bI[0];v=Q(bI[1],z,null,Z)}else if(E==17){var bI=m();
g=bI[0];v=Q(bI[1],P,null,Z)}else throw"e";if(g!=null&&g>0){if(U["o"+g]!=null)throw"e";U["o"+g]=v}return v}function $(Z,U){if(Z instanceof Array){for(var I=0;
I<Z.length;I++)Z[I]=p(Z[I],U)}else if(Z instanceof Object){for(var v in Z)Z[v]=p(Z[v],U)}}function p(Z,U){if(Z&&Z.S$&&Z.S$=="ref")return U["o"+Z.IN];
else return Z}function c(Z,v,E){var g=Date.now();T=new Uint8Array(Z);O=0;Y={};U={};W={};var u=L.AW(T,0,4);
if(u!="PDN3")throw u;O+=4;var j=L.Bh(T,O)+T[O+2]*256*256;O+=3;var A=L.AW(T,O,j);O+=j;O+=2;while(!0){var K=R(0);
if(K&&K.S$&&K.S$=="end")break}for(var s in W)if(U[s]==null)throw s;for(var s in U)$(U[s],U);var r=U.o1;
console.log(r);v.q=r.width;v._=r.height;v.buffer=e.U(v.q*v._*4);var h=r.layers["ArrayList+_items"];for(var I=0;
I<h.length;I++){var jC=h[I];if(jC==null)continue;var d=jC["Layer+width"],q=jC["Layer+height"],hc=jC["Layer+properties"],dk=jC.properties,c6=dk.blendOp._class.split("+").pop();
c6=c6.slice(0,c6.length-7);var e3={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[c6],ks=v._L();
ks.bx(hc.name);ks.opacity=hc.opacity;ks.Kt(hc.visible);ks.gS=e3;if(T[O]!=0)throw"e";O++;var cH=L.RS(T,O);
O+=4;var bI=Math.ceil(d*q*4/cH);ks.rect=new fA(0,0,d,q);var aR=ks.buffer=e.U(d*q*4);for(var ak=0;ak<bI&&O<T.length;
ak++){var cN=B();aR.set(cN[1],cN[0]*cH)}for(var gC=0;gC<aR.length;gC+=4){var bD=aR[gC+0];aR[gC+0]=aR[gC+2];
aR[gC+2]=bD}v.R.push(ks)}}function B(){var Z=L.RS(T,O);O+=4;var v=L.RS(T,O);O+=4;O+=10;v-=10;var E=pako.inflateRaw(T.slice(O,O+v));
O+=v;return[Z,E]}return c}();eu.nQ={};eu.nQ.VV=!0;eu.nQ.mJ=function(o,P){iN.M3(o,P)};eu.kp={};eu.kp.VV=!0;
eu.kp.mJ=function(){var o,P,U=null,a,V;function w(){var c=o[P];P+=1;return c}function x(){var c=L.Vp(o,P);
P+=2;return c}function z(){var c=L.RS(o,P);P+=4;return c}function S(){var c=L.jS(o,P);P+=4;return c}function k(){var c=L.dw(o,P);
P+=8;return c}function f(){var c=z();if(c>200)throw c;var B=L.qG(o,P,c);P+=c*2;return B}function C(){var c=L.Xv(o,P);
P+=8;return c}function H(){var c=L.Ki(o,P);P+=4;return c}function b(){var c=z();if(z()!=4)throw"e";var B=[];
for(var I=0;I<c;I++)B.push(z());return B}function i(c,B,Z){for(var I=0;I<c.length;I++)if(c[I][B]==Z)return c[I]}function M(c,B){var Z=Date.now();
o=new Uint8Array(c);P=L.mG(o,"CH"+"NK"+"SQ"+"Li")+8;var v=k(),E=gB.parse(o.buffer.slice(P,P+v)),g=gB.a5k(E,!0);
console.log(g);var u=g.Canvas[0],j=u.Width,A=u.Height,K=u.Unit,s=B.vz=u.Resolution;if(K==0){}else if(K==1){j=Math.round(j*s/2.54);
A=Math.round(A*s/2.54)}else if(K==2){j=Math.round(j*s/25.4);A=Math.round(A*s/25.4)}else if(K==3){j=Math.round(j*s);
A=Math.round(A*s)}else if(K==5){j=Math.round(j*s/72);A=Math.round(A*s/72)}else{console.log(u);throw K}B.q=j;
B._=A;B.buffer=e.U(j*A*4);console.log(Date.now()-Z);var r=i(g.Layer,"MainId",u.RootFolder);m(g,o,B,r.FirstChildIndex,0);
console.log(Date.now()-Z)}function T(){var c=L.Bh(o,P);P+=2;return c}function O(){var c=L.Dn(o,P);P+=4;
return c}function Y(){var c=L.Be(o,P);P+=4;return c}function W(c){var B={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},v=0;
o=c;P=0;var Z={};while(P<o.length){var E=O(),g=O(),u=P+g;if(g==0)continue;var j=[];if(E==11){var A=O();
for(var K=0;K<A;K++){var s=[O(),O()];j.push(s);v+=s[1];var r=P+O()-4;s.push(T(),T(),T(),T());s.push(L.EC(o,P));
P+=8;var h=T();s.push(L.NF(o,P,h));P+=h*2;if(P!=r)throw"e"}}else if(E==31){j=L.bR(o,P,g);P+=g}else if(E==34)for(var I=0;
I<3;I++)j.push(O()>>>16);else if(E==42)for(var I=0;I<4;I++)j.push(Y());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(E)!=-1){if(g!=4)throw"e";
j=O();if([37,45,46,51,53,55,61,62].indexOf(E)!=-1){if(j!=0&&j!=1&&j!=2&&j!=360)throw E+":"+j;P=u;continue}}else if(E==47){var jC=T();
if(O()!=50)throw"e";if(O()!=0)throw"e";var d=T();j=L.AW(o,P,d);P+=d}else if(E==57){var A=T();for(var I=0;
I<A;I++){var q=T(),hc=L.AW(o,P,q);P+=q;var c6=T(),e3=L.AW(o,P,c6);P+=c6;j.push([hc,e3])}var ks=O();for(var I=0;
I<A;I++)j[I].push(ks)}else if(E==39||E==63)j.push(O(),O());else if(E==64){for(var I=0;I<8;I++)j.push(L.Be(o,P+I*4)/100);
P+=32}else{j=o.slice(P,u);P+=g}var cH=B[E];if(cH==null)cH="t"+E;if(Z[cH])throw"e";Z[cH]=j;if(P!=u)throw E}if(U){}U=Z;
return Z}function t(c){o=c;P=0;var B=z();if(B!=c.length)throw"e";var Z=z(),v=f(),E=z(),g=C(),u=[z()/4294967295,z()/4294967295,z()/4294967295];
return[E,g,u]}function _(c,B){function Z(){var aC=[];for(var I=0;I<4;I++)aC.push(L.jS(o,P+I*4));P+=16;
return aC}function v(eK){var aC=[];for(var I=0;I<eK;I++)aC.push(H());return aC}function E(aC){var gU="";
for(var I=P;I<aC;I+=4)gU+=o.slice(I,I+4).join(", ")+"\n";return gU}o=c;P=B+8;var g=k(),u=P+g;P+=56;if(P==u)return;
var j=[],A=[],K=[],s=[],r=[];while(P<u){var h=z(),aR=1;if(h!=88&&h!=96)throw h;var jC=z();if(jC!=72)throw jC;
var d=z();if(d!=88&&d!=104&&d!=120)throw d;var q=z();if(q!=88)throw q;var hc=z(),dk=z(),c6=Z(),e3=[];
K.push(e3);for(var I=0;I<6;I++){e3.push(n(z()))}var ks=C(),cH=z();if(cH==1040||cH==304||cH==288){z();
cH=z()}var bI=C();s.push(bI);var ak=z(),cN=(dk&256)!=0,gC=[],bD=[],cu={88:1,104:2,120:3}[d];for(var I=0;
I<hc;I++){var du=I==0?1:cu;for(var bq=0;bq<du;bq++)gC.push(C(),C());bD.push(du==1?I==0?"M":"L":du==2?"Q":"C");
var hn=Z(),aK=z();aR=H();var cQ=v(10),jR=z(),ch=z()}r.push(aR);if(d==104){var bx=C(),jf=C();if(cN){bD.push("Q");
gC.push(bx,jf,gC[0],gC[1])}}if(d==120){var bx=C(),jf=C(),dW=C(),bf=C();if(cN){bD.push("C");gC.push(bx,jf,dW,bf,gC[0],gC[1])}}if(dk&128){var iu=["M"],dV=[gC[0],gC[1]],gb=gC.length>>>1,gP=e.a.a8o(gC);
for(var I=0;I<gb;I++){var eJ=gC[2*I],c1=gC[2*I+1],ku=.7;for(var bq=0;bq<2;bq++){gP[I*4+bq*2]=ku*gP[I*4+bq*2]+(1-ku)*eJ;
gP[I*4+bq*2+1]=ku*gP[I*4+bq*2+1]+(1-ku)*c1}}for(var I=1;I<gb;I++){iu.push("C");dV.push(gP[I*4-2],gP[I*4-1],gP[I*4],gP[I*4+1],gC[I*2],gC[I*2+1])}if(cN){iu.push("C");
dV.push(gP[gb*4-2],gP[gb*4-1],gP[0],gP[1],gC[0],gC[1])}gC=dV;bD=iu}if(cN)bD.push("Z");A=A.concat(gC);
j=j.concat(bD)}if(P!=u)throw"e";return[{i:A,LG:j},K,s,r]}function n(c){return Math.min(255,Math.round(c/16777216))}function y(c){o=c;
P=0;var B=z();if(B!=16)throw B;var Z=z();if(Z!=102)throw Z;var v=z();if(v!=42&&v!=58)throw v;var E=z();
if(c.length-E!=118+v)throw c.length-E;var g=f();if(g!="Parameter")throw g;var u=z(),j=z(),A=z(),K=z(),s=[];
for(var I=0;I<16;I++)s.push(z());var g=f();if(g!="InitColor")throw g;if(z()!=20)throw"e";var r=z(),h=z(),jC=z();
if(z()!=4)throw"e";if(v==58){var d=[];s.push(d);for(var I=0;I<4;I++)d.push(n(z()))}var g=f();if(g!="BlockSize")throw g;
var q=z();if(q!=12)throw q;var hc=b();if(P!=o.length)throw"e";return[u,j,A,K,r*255,s]}function F(c,B){var Z=L.AW(B,0,40),v=i(c["ExternalC"+"hunk"],"Exte"+"rnalID",Z);
if(v==null){console.log("chnk not found",Z)}return v?v.Offset:-1}function D(c,B,Z,v){if(a==null){a=e.U(256*256*4);
V=e.U(256*256)}var E=c.Mipmap,g=c.MipmapInfo,u=c.Offscreen,j=i(E,"MainId",Z),A=i(g,"MainId",j.BaseMipmapInfo),K=i(u,"MainId",A.Offscreen),s=F(c,K.BlockData),M=null;
if(s==-1)return null;var r=eu.kp.akl(B,s),h=y(K.Attribute),jC=h[0],d=h[1],q=h[2],hc=h[3],dk=h[4],c6=h[5],e3=c6[16],ks=c6[1],cH=c6[2],bI=ks+cH;
if(cH!=c6[5])throw"e";if(ks!=c6[7])throw"e";var aR=e.U(256*(c6[6]+c6[8])),ak=new fA;if(e3)ak=new fA(0,0,jC,d);
else{for(var cN=0;cN<hc;cN++)for(var gC=0;gC<q;gC++){var bD=r[cN*q+gC];if(bD.length==0)continue;ak=ak.It(new fA(gC<<8,cN<<8,256,256))}}var cu=ak.SN(new fA(0,0,jC,d)),du=e.U(cu.c()*(bI==1?1:4));
if(e3)new Uint32Array(du.buffer).fill(255<<24|e3[0]<<16|e3[1]<<8|e3[2]);if(bI==1)du.fill(dk);var bq=new Uint32Array(a.buffer),hn={};
for(var cN=0;cN<hc;cN++)for(var gC=0;gC<q;gC++){var bD=r[cN*q+gC];if(bD.length==0)continue;var aK=new Uint8Array(bD.buffer,bD.byteOffset+2,bD.length-6),cQ=new fA(gC<<8,cN<<8,256,256),jR=aR;
if(aK.length<2e3){var Z=aK.length+","+aR.length+","+aK.slice(0,16).join(":");if(hn[Z]==null){UZIP.inflateRaw(aK,aR);
hn[Z]=aR.slice(0)}jR=hn[Z]}else UZIP.inflateRaw(aK,aR);if(bI==1){if(c6[8]==32){l(jR,0,V);e.d0(V,cQ,du,cu)}else e.d0(jR,cQ,du,cu)}else if(bI==2){if(c6[8]==32){new Uint32Array(a.buffer).fill(4278190335);
l(jR,0,V);e.lI(V,a,3);l(jR,256*32,V);e.K0(V,a)}else for(var I=0;I<262144;I+=4){var e3=jR[65536+(I>>>2)];
a[I]=e3;a[I+1]=e3;a[I+2]=e3;a[I+3]=jR[I>>>2]}e.sR(a,cQ,du,cu)}else if(bI==5){for(var I=0;I<262144;I+=4){bq[I>>>2]=jR[I>>>2]<<24|jR[65536+I+0]<<16|jR[65536+I+1]<<8|jR[65536+I+2]}e.sR(a,cQ,du,cu)}else throw bI}if(v&&bI==1){var ch=e.U(jC*d*4);
e.lI(du,ch,3);du=ch}return[cu,du,dk]}function l(c,P,B){for(var I=0;I<B.length;I++){B[I]=(c[P+(I>>>3)]>>>7-(I&7)&1)*255}}var Q=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function m(c,B,Z,v,E){var g=c.Layer,u=c.Canvas[0];while(v!=0){var j=i(g,"MainId",v),A=j.Type,q=!1;console.log(j);
var K=Z._L();K.bx(j.Name);K.opacity=Math.min(255,j.Opacity);K.Kt((j.Visibility&1)!=0);K.gS=Q[j.Composite];
if(K.gS==null){alert("Unknown blend mode "+j.Composite);K.gS="norm"}K.gH=j.Clip==1;Z.R.push(K);var s=j.LayerMaskMipmap;
if(s!=0){var r=D(c,B,s,!1);if(r){K.u=new X.wy;K.u.rect=r[0];K.u.channel=r[1];K.u.color=r[2];R(K.u.rect,j,"Mask","Mask");
K.u.wW()}}var h=[];for(var I=0;I<3;I++)h.push(n(j["DrawColorMain"+["Red","Green","Blue"][I]]));var jC={t:"Objc",v:e.G.e1({$:h[0],H:h[1],b:h[2]})},d=JSON.parse(iR.default);
for(var I=0;I<iR.order.length;I++)d[iR._7[I]]={t:"VlLs",v:[]};if(j.DrawColorEnable==1&&A!=1584){q=!0;
var hc=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);hc.Clr=jC;d.solidFillMulti.v.push({t:"Objc",v:hc})}if(j.EffectInfo){var dk=t(j.EffectInfo),h=dk[2];
if(dk[0]==1){q=!0;var hc=JSON.parse(iR.lC[iR.order.indexOf("FrFX")]);hc.Clr.v=e.G.e1({$:h[0]*255,H:h[1]*255,b:h[2]*255});
hc.Sz.v.val=Math.round(dk[1]);d.frameFXMulti.v.push({t:"Objc",v:hc})}}if(j.FilterLayerInfo){o=j.FilterLayerInfo;
P=0;var c6=z(),e3=z();if(e3!=o.length-P)throw"e";var ks={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[c6];
if(ks!=null){var cH=cM.bS(ks);K.add[ks]=cH?cH:{};if(ks=="brit")cM.wb["g"+ks](cH,[S(),S(),!0]);if(ks=="hue2")gw.I$(cH,0,[S(),S(),S()]);
if(ks=="curv"){var bI=[],aR=P;for(var I=0;I<32;I++){P=aR+I*130;var ak=x(),gC=[];bI.push(gC);for(var cu=0;
cu<ak;cu++)gC.push(x()/65535,x()/65535)}for(var I=0;I<4;I++){var gC=bI[I],bq=jP.mc(cH,I),hn=bq[0];for(var cu=0;
cu<gC.length;cu+=2){var aK=bq[cu>>>1]=JSON.parse(JSON.stringify(hn));aK.v.Hrzn.v=Math.round(gC[cu]*255);
aK.v.Vrtc.v=Math.round(gC[cu+1]*255)}jP.I$(cH,I,bq)}}if(ks=="grdm"){var cQ=cH.Grad.v,jR=[],ch=z();if(ch!=e3-4)throw ch;
var bx=z();if(bx!=16&&bx!=24)throw bx;var jf=z();if(jf!=28)throw jf;var dW=z();for(var I=0;I<dW;I++){var bf=0,iu=[];
for(var cu=0;cu<7;cu++)iu.push(z());jR.push([iu[6]/32768,[iu[1]/4294967295,iu[2]/4294967295,iu[3]/4294967295],iu[4]/4294967295])}e.G.U_(jR,cQ)}if(ks=="blnc"){cH.PrsL.v=z()==1;
for(var I=0;I<3;I++){var dV=cH[["ShdL","MdtL","HghL"][I]].v;for(var cu=0;cu<3;cu++)dV[cu].v=S()}}}else console.log("Unknown adjustment",c6,e3,K.getName())}if(A==1584){K.Yo|=16;
K.add.SoCo={classID:"null",Clr:jC};K.qX(Z)}else if(A==800){Z.R.pop()}else if(j.Folder!=0){K.add.lsct=(j.Folder&16)!=0?jS.v_:jS.KC;
K.gS="pass";Z.R.pop();Z.R.push(Z.VY());m(c,B,Z,j.FirstChildIndex,E+1);Z.R.push(K)}else if(A==0||A==1||A==2||A==3){var r=D(c,B,j.RenderMipmap,!0);
if(r){K.rect=r[0];K.buffer=r[1];R(K.rect,j,"Render","");if(K.rect.c()<2e6)K.wW()}if(j.TextLayerType!=null){var gb="TextLayerString",gP="TextLayerAttributes",eJ=[j[gb]],c1=[j[gP]];
if(j[gb+"Array"]){o=j[gb+"Array"];P=0;while(P<o.length){var e3=O();eJ.push(o.slice(P,P+e3));P+=e3}o=j[gP+"Array"];
P=0;while(P<o.length){var e3=O();c1.push(o.slice(P,P+e3));P+=e3}}var ku=K;Z.R.pop();for(var aC=0;aC<eJ.length;
aC++){var K=ku.clone();Z.R.push(K);var gU=W(c1[aC]),hR=gU.runs,a7=gU.fnts,dh=gU.bplg,eS=gU.bbox,d0=eS[2]-eS[0],cJ=eS[3]-eS[1],aO=dh[2]-dh[0],a9=dh[3]-dh[1],ac=new ar;
ac.translate(-d0/2,-cJ/2);ac.rotate(Math.atan2(-a9,aO));ac.translate(d0/2,cJ/2);var e7=eS[0]+j.OffsetX,b2=eS[1]+j.OffsetY;
ac.translate(e7,b2);K.add.lnsr="rend";K.add.TySh=fe.AH(0,0);K.add.TySh.Fy=new fA(0,0,500,500);K.add.TySh.h=ac;
var jQ=K.add.TySh.OY,g9=L.bR(eJ[aC]);K.bx(g9);fe.EF(jQ,0,g9);fe.mn(jQ,1);fe.SP(jQ,[0,0,d0,cJ]);if(hR)for(var I=0;
I<hR.length;I++){var cx=hR[I],i8=cx[0],fw=i8+cx[1],hi=cx[2],dU=fe.Zv(jQ,i8,fw),dv=Z.vz/72*gU.size/100;
if((hi&512)!=0)dv*=cx[6]/100;dU.OR.FontSize=Math.round(dv);var jC=(hi&256)!=0?cx.slice(3):gU.colr;dU.OR.FillColor={Type:1,Values:[1,jC[0]/65535,jC[1]/65535,jC[2]/65535]};
var bo=cx[7]==""?gU.font:cx[7];if(a7){if(a7[I])bo=a7[I][1];else for(var cu=0;cu<a7.length;cu++)if(a7[cu][0]==bo)bo=a7[cu][1]}fe.bB(dU,bo);
fe.Bi(jQ,i8,fw,dU)}if(K.rect.c()==0)Z._0=!0;else{K.rect=new fA(e7,b2,d0,cJ);K.buffer=e.U(K.rect.c()*4);
e.sR(ku.buffer,ku.rect,K.buffer,K.rect)}}}}var fV=c.VectorObjectList;if(j.VectorNormalType!=null&&fV&&i(fV,"LayerId",v)){var ck=i(fV,"LayerId",v).VectorData,h8=F(c,ck),fS=_(B,h8);
if(fS){var iS=null;if(K.add.TySh){var iS=K.clone();Z.R.push(iS);delete K.add.TySh}$(K,j,fS[0]);if(K.Pe()){K.Yo|=24;
var fh=Z._L();fh.bx(K.getName());fh.opacity=K.opacity;Z.R.push(fh);$(fh,j,fS[0]);p(fh,fS);fh.qX(Z)}else{p(K,fS,iS!=null)}K.qX(Z);
if(iS){iS.add.TySh.h.concat(new ar(1,0,0,1,K.rect.x+K.rect.q/2,K.rect.y+K.rect._/2))}}}if(q)K.add.lmfx=d;
if(v==u.CurrentLayer)Z.T=[Z.R.indexOf(K)];v=j.NextIndex}}function R(c,B,Z,v){c.x+=B[Z+"OffscrOffsetX"]+B[v+"OffsetX"];
c.y+=B[Z+"OffscrOffsetY"]+B[v+"OffsetY"]}function $(c,B,Z){c.add.vmsk=new X.tc;e.a.h(Z.i,new ar(1,0,0,1,B.OffsetX,B.OffsetY),Z.i);
c.add.vmsk.g=e.a.B6(Z);c.h6()}function p(c,B,Z){var v=B[1][0],E=B[2][0];c.Yo|=16;var g=c.add.vstk=iR.Vq.bS(!0,!0);
g.fillEnabled.v=Z==!0;c.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:255,H:255,b:255})}};g.strokeStyleContent.v.Clr.v=e.G.e1({$:v[0],H:v[1],b:v[2]});
g.strokeStyleLineWidth.v.val=E*2;g.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return M}();
eu.kp.akl=function(o,P){var w=o,x=P+8,H=0;function z(){var D=L.RS(w,x);x+=4;return D}function S(){var D=z();
if(D>200)throw D;var l=L.qG(w,x,D);x+=D*2;return l}function k(){var D=z();if(z()!=4)throw"e";var b=[];
for(var I=0;I<D;I++)b.push(z());return b}var f=L.dw(w,x);x+=8;var C=x+f;x+=56;var b=[];while(x<C){var i=z(),M=x+i-4;
if(M>C)throw"e";if(i==11){x-=4;var T=S(),O=z();if(O!=12)throw"e";var Y=k(),U=S(),O=z();if(O!=12)throw"e";
var W=k();if(x!=C)throw"e"}else{var t=S(),_=z();if(_!=H)throw _;H++;var n=L.Vp(w,x);x+=2;if(n!=0&&n!=1&&n!=2&&n!=5)throw n;
var y=w[x++];if(y!=0&&y!=32&&y!=64)throw y;if(z()!=1)throw"e";if(z()!=1)throw"e";if(w[x++]!=0)throw"e";
if(z()==1){var F=z(),a=L.Dn(w,x);if(F!=a+4)throw"e";b.push(new Uint8Array(w.buffer,x+4,a));x+=F}else b.push(new Uint8Array(0));
var V=S();if(x!=M)throw x}}return b};eu.QX={};eu.QX.VV=!0;eu.QX.mJ=function(o,P){var w=Date.now(),x=gf.parse(o),z=L.Be,S=L.rg,k=x.LtfHeader,f=0,C=z(k,f);
f+=4;if(C!=k.length)throw"e";var H=z(k,f);f+=4;if(H!=4609100)throw"e";var b=z(k,f);f+=4;if(b!=600)throw b;
var i=S(k,f);f+=2;if(i!=2&&i!=4)throw i;var M=S(k,f);f+=2;var T=z(k,f),O=z(k,f+4);f+=8;var Y=z(k,f)/1e4;
f+=8;var b=z(k,f),i=z(k,f+4);f+=8;if(b!=0&&b!=1&&b!=2)throw b;for(var I=0;I<20;I++)if(k[f+I]!=0)throw I;
f+=20;var b=z(k,f);f+=4;if(b!=0&&b!=1)throw b;var U=z(k,f);f+=4;if(U!=0&&U!=1)throw U;for(var I=0;I<476;
I++)if(k[f+I]!=0)throw I;f+=476;var W=f+104;P.q=T;P._=O;P.buffer=e.U(T*O*4);var t=x.LtfMainPalette,_=x.LtfObjectList;
f=0;if(_){var eK=z(_,0);if(z(_,4)!=eK)throw"e";for(var n=0;n<eK;n++){f=8+n*192;var y=f+128;while(_[y]!=0)y+=2;
var F=L.NF(_,f+128,y-(f+128)>>>1);eu.QX.C8(x[F],P,t)}}var a=P._L();P.R.push(a);a.bx("Background");if(x.LtfMainImage){var V=eu.QX.u3(x.LtfMainImage,null,t);
a.buffer=V[0];a.rect=V[1]}else{a.rect=new fA(0,0,T,O);var D=z(k,W);eu.QX.apI(a,t?z(t,2+D*4):D)}P.R.reverse()};
eu.QX.adN=function(o){var P="";for(var I=0;I<o.length;I++){var w=""+o[I];while(w.length<3)w=" "+w;P+=w+", "}return P};
eu.QX.C8=function(o,P,w){var x=L.Be,z=P._L(),k=0;P.R.push(z);var S=o.ObjectData;if(x(S,0)!=S.length)throw"e";
k+=4;var f=k;while(S[f]!=0)f++;z.bx(L.AW(S,k,f-k));k=f+1;if(f==5){if(S[k]!=0)throw"e";k++}var C=o.ObjectMask0,H=o.PathStream;
if(H&&C==null){var b=z.add.vmsk=new X.tc;b.g=eu.QX.zq(H);z.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:S[232],H:S[233],b:S[234]})}};
z.add.vstk=iR.Vq.bS(!0);z.qX(P)}if(C==null)return;z.rect=new fA(x(C,0),x(C,4),x(C,8),x(C,12));if(o.ObjectImage){var i=eu.QX.u3(o.ObjectImage,null,w);
z.buffer=i[0]}else eu.QX.apI(z,x(S,188));eu.QX.u3(new Uint8Array(C.buffer,16),z.buffer)};eu.QX.apI=function(o,P){o.buffer=e.U(o.rect.c()*4);
new Uint32Array(o.buffer.buffer).fill(255<<24|P)};eu.QX.zq=function(o){var P=L.rg,w=L.Be,x=L.mp,k=0;
function z(U,W){var t=P(U,W),_=P(U,W+2);return _}var S=pako.inflate(o.slice(12));k=128;for(var I=0;I<260;
I++)if(S[k+I]!=0)throw I;k+=260;if(w(S,k)!=50)throw"e";k+=4;if(w(S,k)!=0)throw"e";k+=4;if(w(S,k)!=0)throw"e";
k+=4;var f=w(S,k);k+=4;var f=w(S,k);if(f!=106&&f!=186&&f!=196&&f!=236)throw w(S,k);k+=4;if(w(S,k)!=0)throw"e";
k+=4;if(w(S,k)!=24)throw"e";k+=4;if(w(S,k)!=0)throw"e";k+=4;var f=w(S,k);k+=4;var C=w(S,k);k+=4;if(w(S,k)!=0)throw"e";
k+=4;if(w(S,k)!=0)throw"e";k+=4;if(w(S,k)!=1280)throw"e";k+=4;for(var I=0;I<24;I++)if(S[k+I]!=0)throw I;
k+=24;var H=w(S,k);k+=4;if(42+H*10!=C)throw"e";var b=w(S,k);k+=4;var i=w(S,k);k+=4;var M=[{type:6},{type:8,all:0}];
M.push({type:0,length:H,Hv:0,cI:2,p_:0,xd:0});for(var I=0;I<H;I++){var T=z(S,k+2),O=z(S,k+6),Y=new eD(T,O);
M.push({type:2,Fm:Y.clone(),v:Y,AK:Y.clone()});k+=10}return M};eu.QX.u3=function(o,P,w){var x=L.Be,z=L.Bh,S=eu.QX.adN,k=0,f=x(o,k),T,O=0,$;
k+=4;var C=x(o,k);k+=4;var H=x(o,k);k+=4;var b=x(o,k);k+=4;var i=x(o,k);k+=4;var M=f*C,Y=o.length;if(M==Y-20)T=new Uint8Array(o.buffer,20+o.byteOffset);
else if(H==64*64*3||P&&H==64*64){var U=eu.oi("jpg"),W=0,t=0;T=e.U(f*C);while(k<o.length){var _=x(o,k);
k+=4;var n=U.mJ(o.slice(k,k+_))[0],b=n.pv,y=new Uint8Array(n.data),F=P?f:f/3;for(var a=0;a<b._;a++)for(var V=0;
V<b.q;V++){var D=a*b.q+V,l=(a+t)*F+(V+W);if(P)T[l]=y[D*4];else{T[l*3+0]=y[D*4+2];T[l*3+1]=y[D*4+1];T[l*3+2]=y[D*4+0]}}W+=64;
if(W>F){t+=64;W=0}k+=_}}else{T=e.U(M);for(var D=0;D<M;D+=H){var Q=D+H,m=x(o,k);k+=4;while(O<Q&&k<Y){var R=o[k];
k++;if(R<128)for(var I=0;I<R+1;I++){T[O++]=o[k++];if(P)continue;T[O++]=o[k++];T[O++]=o[k++]}else{R-=127;
for(var I=0;I<R;I++){T[O++]=o[k+0];if(P)continue;T[O++]=o[k+1];T[O++]=o[k+2]}k+=P?1:3}}}}if(P){for(var I=0;
I<M;I++)P[I*4+3]=T[I];return[T,new fA(0,0,f,C)]}if(w){$=e.U(M*4);for(var I=0;I<M;I++){var p=I<<2,H=2+T[I]*4;
$[p]=w[H];$[p+1]=w[H+1];$[p+2]=w[H+2];$[p+3]=255}}else{f=Math.round(f/3);M=f*C;$=e.U(M*4);for(var I=0;
I<M;I++){var l=I*3,p=I<<2;$[p]=T[l];$[p+1]=T[l+1];$[p+2]=T[l+2];$[p+3]=255}}return[$,new fA(0,0,f,C)]};
eu.asF={};eu.asF.mJ=function(o){var P=new Uint8Array(o),w=L.Dn,k=16;if(L.AW(P,0,4)!="chlv")throw"e";
var x=w(P,4),z=w(P,8),S=w(P,12),f=[];while(k<P.length){var C=w(P,k),H=w(P,k+48),b=w(P,k+52),i=H*b,M=H*4,T=e.U(H*b*4);
T.fill(255);for(var O=0;O<b;O++)for(var Y=0;Y<H;Y+=4){var I=O*H+Y,U=I*4,W=k+108+(I>>>2)*6;T[U]=P[W+1];
T[U+4]=P[W+3];T[U+8]=P[W+4];T[U+12]=P[W+5];for(var t=0;t<16;t+=4){T[U+t+1]=P[W+0];T[U+t+2]=P[W+2]}}var _=new Int8Array(T.buffer),n=new Uint8ClampedArray(T.buffer);
for(var O=0;O<b;O++)for(var Y=0;Y<H;Y++){var I=(O*H+Y)*4,y=T[I],F=_[I+1],a=_[I+2],V=y+(45*a>>5),D=y-(11*F+23*a>>5),l=y+(113*F>>6);
n[I]=V;n[I+1]=D;n[I+2]=l}k+=C+4;f.push({pv:new fA(0,0,H,b),data:T.buffer,v8:"_a_"+f.length})}return f};
var fj={};fj.Dx=!1;fj.ah5=!1;fj.WW=!1;fj.hj=document.createElement("canvas");fj.QA=null;fj.sq=null;fj.St=0;
(function(){var o={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},P;if(!P)P=fj.hj.getContext("webgl",o);
if(!P)P=fj.hj.getContext("experimental-webgl",o);if(P){fj.Dx=!0;fj.ah5=!0;fj.QA=P;fj.sq=P.createFramebuffer();
P.bindFramebuffer(P.FRAMEBUFFER,fj.sq);P.disable(P.BLEND);P.disable(P.DEPTH_TEST);var w=P.createBuffer();
P.bindBuffer(P.ARRAY_BUFFER,w);P.bufferData(P.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),P.STATIC_DRAW);
P.enableVertexAttribArray(0);P.vertexAttribPointer(0,2,P.FLOAT,!1,0,0)}}());fj.a1B=function(o){o=o.replace(/\s\s+/g," ");
o=o.replace(/; /g,";");o=o.replace(/} /g,"}");o=o.replace(/ }/g,"}");o=o.replace(/{ /g,"{");o=o.replace(/ {/g,"{");
o=o.replace(/= /g,"=");o=o.replace(/ =/g,"=");o=o.replace(/\| /g,"|");o=o.replace(/ \|/g,"|");return o};
fj.gy=function(o){var P=fj.QA;if(o>P.getParameter(P.MAX_TEXTURE_SIZE)){fj.Dx=!1;alert("Disabling WebGL")}};
fj.Au=function(o,P){return new Float32Array([(o.x-P.x)/P.q,(o.y-P.y)/P._,o.q/P.q,o._/P._])};fj.Um=function(){return this.hj};
fj.kU=function(o,P){var w=fj.QA;w.bindFramebuffer(w.FRAMEBUFFER,fj.sq);w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,o.wH,0);
w.viewport(0,0,o.q,o._);if(P){w.enable(w.SCISSOR_TEST);w.scissor(P.x,P.y,P.q,P._)}else w.disable(w.SCISSOR_TEST)};
fj.a5P=function(o,P,w){if(w)throw"error";var x=fj.QA;x.disable(x.SCISSOR_TEST);x.bindFramebuffer(x.FRAMEBUFFER,null);
x.viewport(0,0,o,P);if(w){x.enable(x.SCISSOR_TEST);x.scissor(w.x,w.y,Math.round(w.q),Math.round(w._))}else x.disable(x.SCISSOR_TEST)};
fj.clear=function(){var o=fj.QA;o.clearColor(0,0,0,0);o.clear(o.COLOR_BUFFER_BIT)};fj.cG=function(o,P){if(P==null)P=0;
var w=(P>>>0&255)==0,x=(P>>>8&255)==0,z=(P>>>16&255)==0,S=(P>>>24&255)==0,k=(o>>>0&255)*(1/255),f=(o>>>8&255)*(1/255),C=(o>>>16&255)*(1/255),H=(o>>>24&255)*(1/255),b=fj.QA;
b.colorMask(w,x,z,S);b.clearColor(k,f,C,H);b.clear(b.COLOR_BUFFER_BIT);b.colorMask(!0,!0,!0,!0)};fj.qz=function(o,P,w,x,z){var S=P.SN(x);
if(z)S=S.SN(z);if(S.Mw())return;var k=fj.QA;fj.kU(o);k.bindTexture(k.TEXTURE_2D,w.wH);k.copyTexSubImage2D(k.TEXTURE_2D,0,S.x-x.x,S.y-x.y,S.x-P.x,S.y-P.y,S.q,S._)};
fj.nR=function(I,o,P){var w=fj.agX[I];if(w==null||w.q!=o||w._!=P){if(w)w.delete();w=new fj.fC(o,P)}fj.agX[I]=w;
return w};fj.agX=[];fj.kF=function(){this.sz=null;this.Jj=null};fj.kF.gK=null;fj.kF.prototype.gx=function(o){if(this.Jj)return;
this.Jj={};var P=fj.QA,w=this.sz,x=this.Jj;for(var I=0;I<o.length;I++){var z=o[I];x[z]=P.getUniformLocation(w,z)}};
fj.kF.prototype.uS=function(){};fj.kF.prototype.fU=function(o){var P=fj.QA;for(var I=0;I<o.length;I+=2){P.uniform1i(o[I],I>>>1);
P.activeTexture(P["TEXTURE"+(I>>>1)]);P.bindTexture(P.TEXTURE_2D,o[I+1])}P.activeTexture(P.TEXTURE0)};
fj.kF.prototype.Ir=function(o,P){var w=fj.QA,x=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(x,o);
w.compileShader(x);if(!w.getShaderParameter(x,w.COMPILE_STATUS))console.log(w.getShaderInfoLog(x));var z=w.createShader(w.VERTEX_SHADER);
w.shaderSource(z,P);w.compileShader(z);if(!w.getShaderParameter(z,w.COMPILE_STATUS))console.log(w.getShaderInfoLog(z));
var S=w.createProgram();w.attachShader(S,z);w.attachShader(S,x);w.linkProgram(S);if(!w.getProgramParameter(S,w.LINK_STATUS))console.log("Could not initialise shaders");
this.sz=S};fj.kF.prototype.$T=function(){if(fj.kF.gK!=this){fj.QA.useProgram(this.sz);fj.kF.gK=this}};
fj.qK=function(o,P){fj.ms++;fj.St+=o*P;if(fj.WW)console.log("GL.Channels instances: "+fj.ms+", memory: "+fj.St);
var w=fj.QA;this.q=o;this._=P;this.wH=w.createTexture();this.dA=null;this.qZ(this.wH,o,P)};fj.qK.prototype.qZ=function(o,P,w){var x=fj.QA;
x.bindTexture(x.TEXTURE_2D,o);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);
x.texImage2D(x.TEXTURE_2D,0,x.ALPHA,P,w,0,x.ALPHA,x.UNSIGNED_BYTE,null)};fj.qK.prototype.set=function(o,P){var w=fj.QA;
w.bindTexture(w.TEXTURE_2D,this.wH);w.pixelStorei(w.UNPACK_ALIGNMENT,1);var x=this.q*this._;if(P==null||P.c()*10>x)w.texImage2D(w.TEXTURE_2D,0,w.ALPHA,this.q,this._,0,w.ALPHA,w.UNSIGNED_BYTE,o);
else{var z=new fA(0,0,this.q,this._),S=e.U(P.c());e.d0(o,z,S,P);w.texSubImage2D(w.TEXTURE_2D,0,P.x,P.y,P.q,P._,w.ALPHA,w.UNSIGNED_BYTE,S)}w.pixelStorei(w.UNPACK_ALIGNMENT,4)};
fj.qK.prototype.delete=function(){var o=fj.QA;if(this.wH){o.deleteTexture(this.wH);fj.ms--;fj.St-=this.q*this._}if(fj.WW)if(fj.WW)console.log("GL.Channels instances: "+fj.ms+", memory: "+fj.St*4)};
fj.ms=0;fj.fC=function(o,P,w){if(w==null)w=!1;fj.ms++;fj.St+=o*P*4;if(fj.WW)console.log("GL.Channels instances: "+fj.ms+", memory: "+fj.St);
var x=fj.QA;this.aFj=w;this.q=o;this._=P;this.wH=x.createTexture();this.dA=null;this.qZ(this.wH,o,P)};
fj.fC.prototype.set=function(o,P){var w=fj.QA;w.disable(w.SCISSOR_TEST);w.bindTexture(w.TEXTURE_2D,this.wH);
if(o==null||o instanceof Uint8Array){var x=this.q*this._;if((P==null||P.c()*10>x)&&(o==null||o.length>=x*4))w.texImage2D(w.TEXTURE_2D,0,w.RGBA,this.q,this._,0,w.RGBA,w.UNSIGNED_BYTE,o);
else{var z=o;if(o.length==x*4){var z=e.U(P.c()*4);e.sR(o,new fA(0,0,this.q,this._),z,P)}w.texSubImage2D(w.TEXTURE_2D,0,P.x,P.y,P.q,P._,w.RGBA,w.UNSIGNED_BYTE,z)}}else w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,o)};
fj.fC.prototype.get=function(o){var P=fj.QA;fj.kU(this);P.readPixels(0,0,this.q,this._,P.RGBA,P.UNSIGNED_BYTE,o)};
fj.fC.prototype.ty=function(o){if(o.Mw())return;var P=fj.QA;if(this.dA==null){this.dA=P.createTexture();
this.qZ(this.dA,this.q,this._);fj.ms++;fj.St+=this.q*this._*4}P.bindFramebuffer(P.FRAMEBUFFER,fj.sq);
P.bindTexture(P.TEXTURE_2D,this.dA);if(o){var w=Math.max(o.x,0),x=Math.max(o.y,0);P.copyTexSubImage2D(P.TEXTURE_2D,0,w,x,w,x,o.q,o._)}else P.copyTexImage2D(P.TEXTURE_2D,0,P.RGBA,0,0,this.q,this._,0)};
fj.fC.prototype.qZ=function(o,P,w){var x=fj.QA;x.bindTexture(x.TEXTURE_2D,o);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,this.aFj?x.LINEAR:x.NEAREST);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texImage2D(x.TEXTURE_2D,0,x.RGBA,P,w,0,x.RGBA,x.UNSIGNED_BYTE,null)};
fj.fC.prototype.delete=function(){var o=fj.QA;if(this.wH){o.deleteTexture(this.wH);fj.ms--;fj.St-=this.q*this._*4}if(this.dA){o.deleteTexture(this.dA);
fj.ms--;fj.St-=this.q*this._*4}if(fj.WW)if(fj.WW)console.log("GL.Channels instances: "+fj.ms+", memory: "+fj.St)};
fj.fC.prototype.clone=function(){var o=fj.QA,P=new fj.fC(this.q,this._);fj.kU(this);o.bindTexture(o.TEXTURE_2D,P.wH);
o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.q,this._,0);return P};fj.Mk={ahJ:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",anC:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",si:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",_U:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",asD:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",xC:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",GQ:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",ie:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aHq:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Ij:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ayN:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",DY:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",agI:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Rs:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",yN:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Sy:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",j1:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",MR:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Us:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aw6:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aF0:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",f1:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",avB:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
fj.C={};fj.C.NT={};fj.C.vZ=null;fj.C.vx=null;fj.C.YZ=null;fj.C.akB=function(o,P,w,x,z,S,k,f){if(f==null)f=iO.ax();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(o)==-1){k=k*f.fill;f.fill=1;f.style=!1}var C=o+(f.qq?"1":"");
if(fj.C.NT[C]==null)fj.C.NT[C]=new fj.C.aF(o,f.qq!=null);var H=fj.C.NT[C],b=w.SN(z).SN(S);b.offset(-z.x,-z.y);
if(b.Mw())return;var i=fj.QA;fj.kU(x,b);x.ty(b);H.$T();H.uS(P.wH,x.dA,fj.Au(w,z),k,f.fill,f.style?1:0,f.hH?1:0,f.qq?new Float32Array(f.qq):null);
i.drawArrays(i.TRIANGLES,0,6)};fj.C.$t=function(o,P,w,x,z,S,k,f,C,H,b){if(fj.C.vZ==null)fj.C.vZ=new fj.C.bP(!0,!0);
if(fj.C.vx==null)fj.C.vx=new fj.C.bP(!0,!1);if(fj.C.YZ==null)fj.C.YZ=new fj.C.bP(!1,!0);var i=H?1:0,M=o?z?fj.C.vZ:fj.C.vx:fj.C.YZ,T=new Float32Array(b?[b[0],b[1],b[2],1]:[1,1,1,1]),O=P?P.SN(x).SN(f):x.SN(f);
if(O.Mw())return;O.offset(-x.x,-x.y);var Y=fj.QA;fj.kU(w,O);w.ty(O);M.$T();if(o==null)M.uS(null,w.dA,z.wH,fj.Au(x,x),fj.Au(S,x),k/255,C,i,T);
else if(z)M.uS(o.wH,w.dA,z.wH,fj.Au(P,x),fj.Au(S,x),k/255,C,i,T);else M.uS(o.wH,w.dA,null,fj.Au(P,x),null,k/255,C,i,T);
Y.drawArrays(Y.TRIANGLES,0,6)};fj.C.atT=function(o,P,w){if(fj.C.alc==null)fj.C.alc=new fj.C.MZ;var x=fj.C.alc,z=new fA(0,0,o.q,o._),S=fj.QA;
fj.kU(P);P.ty(z);x.$T();x.uS(z,o.wH,P.dA,w.wH);S.drawArrays(S.TRIANGLES,0,6)};fj.C.iI={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
fj.C.aF=function(o,P){fj.kF.call(this);var w="\t\t\tprecision highp float;\t\t\t"+fj.Mk.si+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(P?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+fj.Mk.xC+"\t\t\t"+fj.Mk.GQ+"\t\t\t"+fj.Mk.ie+"\t\t\t"+fj.Mk.ahJ+"\t\t\t"+fj.Mk.anC+"\t\t\t"+fj.Mk.aHq+"\t\t\t"+fj.Mk.Ij+"\t\t\t"+fj.Mk.ayN+"\t\t\t"+fj.Mk.DY+"\t\t\t"+fj.Mk.hash+"\t\t\t"+(P?fj.Mk.f1:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+fj.C.iI[o]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",x="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(o=="diss")w+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else w+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(P?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Ir(w,x)};fj.C.aF.prototype=new fj.kF;fj.C.aF.prototype.uS=function(o,P,w,x,z,S,k,f){this.gx("srct alpha source target fill style keepBGA blIf".split(" "));
var C=fj.QA,H=this.Jj;C.uniform4fv(H.srct,w);C.uniform1f(H.alpha,x);C.uniform1f(H.fill,z);C.uniform1f(H.style,S);
C.uniform1f(H.keepBGA,k);if(f)C.uniform4fv(H.blIf,f);this.fU([H.source,o,H.target,P])};fj.C.bP=function(o,P){fj.kF.call(this);
this.aCn=o;this.l0=P;var w="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+fj.Mk.agI+"\t\t\t"+fj.Mk.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(o?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(P?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(o?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(P?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",x="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ir(w,x)};fj.C.bP.prototype=new fj.kF;fj.C.bP.prototype.uS=function(o,P,w,x,z,S,k,f,C){if(this.l0)this.gx("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.gx("srct awg dissv source target cswitch".split(" "));var H=fj.QA,b=this.Jj;H.uniform4fv(b.srct,x);
if(this.l0){H.uniform4fv(b.wrct,z);H.uniform1f(b.wcolor,S)}else{H.uniform4fv(b.cswitch,C)}H.uniform1f(b.awg,k);
H.uniform1f(b.dissv,f);var i=[b.source,o,b.target,P];if(this.l0)i.push(b.weight,w);this.fU(i)};fj.C.MZ=function(){fj.kF.call(this);
var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",P="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ir(o,P)};fj.C.MZ.prototype=new fj.kF;fj.C.MZ.prototype.uS=function(o,P,w,x){this.gx(["rct","prev","next","alpha"]);
var z=fj.QA,S=this.Jj;z.uniform4fv(S.rct,[0,0,1,1]);this.fU([S.prev,P,S.next,w,S.alpha,x])};fj._X={fF:{},uk:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
fj._X.xS=function(o,P){var w=ft.Ek,x=[w.DZ,w.SM,w.Ne,w.Ia,w.La,w._2,w.Rm,w.iU].indexOf(o.type),z=fj._X.fF[o.type];
if(z==null)z=fj._X.fF[o.type]=new fj.fF[x];z.$T();z.uS(P,o);fj.QA.drawArrays(fj.QA.TRIANGLES,0,6)};fj.fF=[];
fj.fF[0]=function(){fj.kF.call(this);this.Vs={};var o="\t\t\tprecision mediump float;\t\t\t"+fj.Mk.GQ+"\t\t\t"+fj.Mk.si+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[0].prototype=new fj.kF;fj.fF[0].prototype.uS=function(o,P){var w={$:P.Ky,H:P.OQ,b:P.Hl,F:e.U(P.Ky.length)},x=w.$.length;
if(this.Vs["m"+x]==null){this.Vs["m"+x]={a5A:new fj.fC(x,1),eD:e.U(x*4)}}var z=this.Vs["m"+x];e.Vo(w,z.eD,0);
var S=z.a5A;S.set(z.eD);this.gx(["source","map","toGray","presLum"]);var k=fj.QA,f=this.Jj;k.uniform1f(f.toGray,P.xq?1:0);
k.uniform1f(f.presLum,P.oP?1:0);this.fU([f.source,o,f.map,S.wH])};fj.fF[1]=function(){fj.kF.call(this);
this.EX=new fj.fC(256,1);this.a4X=e.U(256*4);var o="\t\t\t\tprecision mediump float;\t\t\t\t"+fj.Mk.Sy+"\t\t\t\t"+fj.Mk.Rs+"\t\t\t\t"+fj.Mk.yN+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[1].prototype=new fj.kF;fj.fF[1].prototype.uS=function(o,P){e.Vo({$:P.aFg,H:P.gm,b:P.ab7,F:e.U(256)},this.a4X);
this.EX.set(this.a4X);this.gx(["source","map","cfa","cfb","colorize"]);var w=fj.QA,x=this.Jj;w.uniform1f(x.cfa,P.asr);
w.uniform1f(x.cfb,P.Hw);w.uniform1i(x.colorize,P.akK);this.fU([x.source,o,x.map,this.EX.wH])};fj.fF[2]=function(){fj.kF.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+fj.Mk.Sy+"\t\t\t"+fj.Mk.j1+"\t\t\t"+fj.Mk.MR+"\t\t\t"+fj.Mk.Rs+"\t\t\t"+fj.Mk.yN+"\t\t\t"+fj.Mk.aw6+"\t\t\t"+fj.Mk.aF0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[2].prototype=new fj.kF;fj.fF[2].prototype.uS=function(o,P){this.gx(["source","vib","sat","yF"]);
var w=fj.QA,x=this.Jj;w.uniform1f(x.vib,P.JL[0]);w.uniform1f(x.sat,P.JL[1]);w.uniform3fv(x.yF,new Float32Array([P.JL[2],P.JL[3],P.JL[3]]));
this.fU([x.source,o])};fj.fF[3]=function(){fj.kF.call(this);var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[3].prototype=new fj.kF;fj.fF[3].prototype.uS=function(o,P){this.gx(["source","trf"]);
var w=fj.QA,x=this.Jj;w.uniformMatrix4fv(x.trf,!1,new Float32Array(e.ww.VI(P.zr)));this.fU([x.source,o])};
fj.fF[4]=function(){fj.kF.call(this);var o="\t\t\tprecision mediump float; \t\t\t"+fj.Mk.Us+"\t\t\t"+fj.Mk.Sy+"\t\t\t"+fj.Mk.yN+"\t\t\t"+fj.Mk.Rs+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[4].prototype=new fj.kF;fj.fF[4].prototype.uS=function(o,P){this.gx(["source","mnm","mxm","shift","lim"]);
var w=fj.QA,x=this.Jj;w.uniform3fv(x.mnm,new Float32Array(P.cT));w.uniform3fv(x.mxm,new Float32Array(P.G8));
w.uniform3fv(x.shift,new Float32Array(P.shift));w.uniform1f(x.lim,P.ym);this.fU([x.source,o])};fj.fF[5]=function(){fj.kF.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+fj.Mk.si+"\t\t\t"+fj.Mk._U+"\t\t\t"+fj.Mk.asD+"\t\t\t"+fj.Mk.Rs+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[5].prototype=new fj.kF;fj.fF[5].prototype.uS=function(o,P){this.gx(["source","cfs"]);
var w=fj.QA,x=this.Jj;w.uniform3fv(x.cfs,P.auz);this.fU([x.source,o])};fj.fF[6]=function(){fj.kF.call(this);
var o="\t\t\tprecision mediump float;\t\t\t"+fj.Mk.Sy+"\t\t\t"+fj.Mk._U+"\t\t\t"+fj.Mk.asD+"\t\t\t"+fj.Mk.Rs+"\t\t\t"+fj.Mk.yN+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[6].prototype=new fj.kF;fj.fF[6].prototype.uS=function(o,P){this.gx(["source","wght","prms"]);
var w=fj.QA,x=this.Jj,z=[P.r6,P.amQ,P.GQ,P.ap1,P.U3,P.a1w];w.uniform1fv(x.wght,new Float32Array(P.aBu));
w.uniform1fv(x.prms,new Float32Array(z));this.fU([x.source,o])};fj.fF[7]=function(){fj.kF.call(this);
this.cQ={};var o="\t\t\tprecision mediump float;\t\t\t"+fj.Mk.avB+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Ir(o,fj._X.uk)};fj.fF[7].prototype=new fj.kF;fj.fF[7].prototype.uS=function(o,P){this.gx(["source","lut","N"]);
var w=fj.QA,x=this.Jj,z=P.pN,S=P.Du;if(this.cQ["m"+z]==null)this.cQ["m"+z]=new fj.fC(z,z*z);var k=this.cQ["m"+z];
k.set(S);w.uniform1f(x.N,z);this.fU([x.source,o,x.lut,k.wH]);w.activeTexture(w.TEXTURE1);var f=w.LINEAR;
w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,f);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,f);
w.activeTexture(w.TEXTURE0)};fj.filter={W8:{},uk:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aFO:0,ady:1,qd:2,afl:8,a5a:3,aa_:4,a3H:5,C3:6,a9h:7};
fj.filter.xS=function(o,P){var w=fj.filter,x,z=o.type+":"+(o.J0?o.J0.join(","):""),x=fj.filter.W8[z];
if(x==null)x=fj.filter.W8[z]=new fj.W8[o.type](o.J0);x.$T();x.uS(P,o);fj.QA.drawArrays(fj.QA.TRIANGLES,0,6)};
fj.W8=[0,0,0,0,0,0,0,0,0,0,0,0];fj.W8[7]=function(){fj.kF.call(this);var o="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[7].prototype=new fj.kF;fj.W8[7].prototype.uS=function(o,P){this.gx(["source","iwh","kern"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1fv(x.kern,P.aaQ);this.fU([x.source,o])};fj.W8[6]=function(o){fj.kF.call(this);
var P=o[0],w=o[1],x=o[2],z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",S=ct.j4(z);
S=S.replaceAll("PRC",x+".0");S=S.replaceAll("DIR",["x,0","0,x"][w]);this.Ir(S,fj._X.uk)};fj.W8[6].prototype=new fj.kF;
fj.W8[6].prototype.uS=function(o,P){this.gx(["source","iwh","rad"]);var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);
w.uniform1f(x.rad,P.Tb);this.fU([x.source,o])};fj.W8[4]=function(o){fj.kF.call(this);var P=o[0],w=o[1],x="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+o[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][w]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][P]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][w]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(w==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Ir(x,fj._X.uk)};fj.W8[4].prototype=new fj.kF;fj.W8[4].prototype.uS=function(o,P){this.gx(["source","iwh","rrad","tr"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.rrad,P.VU);w.uniform1f(x.tr,P.ajl);this.fU([x.source,o]);
var z=w.LINEAR;z=w.NEAREST;w.activeTexture(w.TEXTURE0);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,z);
w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,z);w.activeTexture(w.TEXTURE0)};fj.W8[5]=function(){fj.kF.call(this);
var o="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[5].prototype=new fj.kF;fj.W8[5].prototype.uS=function(o,P){this.gx(["source","ssum","iwh","amnt","edgf"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.amnt,P.aGB);w.uniform1f(x.edgf,P.apC);this.fU([x.source,o,x.ssum,P.ag7])};
fj.W8[3]=function(){fj.kF.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[3].prototype=new fj.kF;fj.W8[3].prototype.uS=function(o,P){this.gx("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.tdep,P.a98);w.uniform1f(x.rrad,P.VU);w.uniform2fv(x.spec,P.aox);
w.uniform3fv(x.nois,P.aGj);w.uniformMatrix4fv(x.poly0,!1,P.as8);w.uniformMatrix4fv(x.poly1,!1,P.asf);
this.fU([x.source,o]);var z=w.LINEAR;w.activeTexture(w.TEXTURE0);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,z);
w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,z);w.activeTexture(w.TEXTURE0)};fj.W8[0]=function(){fj.kF.call(this);
var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[0].prototype=new fj.kF;fj.W8[0].prototype.uS=function(o,P){this.gx(["source","iwh","ld","shine"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform3fv(x.ld,P.aGJ);w.uniform1f(x.shine,P.aFo);this.fU([x.source,o,x.tang,P.qg])};
fj.W8[1]=function(){fj.kF.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[1].prototype=new fj.kF;fj.W8[1].prototype.uS=function(o,P){this.gx(["source","iwh","isc","bristle"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.isc,P.aj_);w.uniform1f(x.bristle,P.arG);
this.fU([x.source,o])};fj.W8[2]=function(){fj.kF.call(this);var o="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Ir(ct.j4(o),ct.j4(fj.filter.uk))};fj.W8[2].prototype=new fj.kF;fj.W8[2].prototype.uS=function(o,P){this.gx(["source","tang","iwh","sigma","expo"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.sigma,P.ej);w.uniform1f(x.expo,P.K4);this.fU([x.source,o,x.tang,P.qg]);
var z=w.LINEAR;w.activeTexture(w.TEXTURE0);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,z);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,z);
w.activeTexture(w.TEXTURE0)};fj.W8[8]=function(){fj.kF.call(this);var o="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.Ir(ct.GG(o),ct.j4(fj.filter.uk))};fj.W8[8].prototype=new fj.kF;fj.W8[8].prototype.uS=function(o,P){this.gx(["source","tang","iwh","sigma"]);
var w=fj.QA,x=this.Jj;w.uniform2fv(x.iwh,P.w5);w.uniform1f(x.sigma,P.ej);this.fU([x.source,o,x.tang,P.qg]);
var z=w.LINEAR;w.activeTexture(w.TEXTURE0);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,z);w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,z);
w.activeTexture(w.TEXTURE0)};function e(){}e.p={};e.aaI={};e.ags=function(){var o=[64,64,128,256,512,1024,2048],P=[];
for(var I=0;I<o.length;I++){var w=o[I],x=document.createElement("canvas");x.width=w;x.height=w;P.push(x.getContext("2d",{willReadFrequently:!0}))}return P}();
e.Um=function(o,P){var w,x=e.ags,I=1,z=Math.max(o,P);while(I<x.length&&z>x[I].canvas.width)I++;if(I==x.length){w=x[0];
var S=w.canvas;S.width=o;S.height=P}else{w=x[I];w.clearRect(0,0,o,P)}return w};e.NV=function(o,P,w,x){if(x==null)x=new Uint32Array(P*w);
x[0]=o[0];for(var z=1;z<P;z++)x[z]=x[z-1]+o[z];for(var S=1;S<w;S++){var I=S*P;x[I]=x[I-P]+o[I];for(var z=1;
z<P;z++)x[I+z]=o[I+z]+x[I+z-1]+x[I+z-P]-x[I+z-P-1]}return x};e.dL=function(o,P,w,x,z,S){var k=(z-1)*P,f=S*P;
return o[f+x]-o[f+w-1]-o[k+x]+o[k+w-1]};e.aEg=function(o,P,w,x){var z=P*4;if(x==null)x=new Uint32Array(P*w*4);
x[0]=o[0];x[1]=o[1];x[2]=o[2];x[3]=o[3];for(var S=1;S<P;S++)e.acs(o,x,4,S<<2);for(var k=1;k<w;k++){var I=k*P<<2;
e.acs(o,x,z,I);for(var S=4;S<z;S+=4){var f=I+S;x[f]=o[f]+x[f-4]+x[f-z]-x[f-z-4];x[f+1]=o[f+1]+x[f-3]+x[f-z+1]-x[f-z-3];
x[f+2]=o[f+2]+x[f-2]+x[f-z+2]-x[f-z-2];x[f+3]=o[f+3]+x[f-1]+x[f-z+3]-x[f-z-1]}}return x};e.acs=function(o,P,w,I){P[I]=P[I-w]+o[I];
P[I+1]=P[I-w+1]+o[I+1];P[I+2]=P[I-w+2]+o[I+2];P[I+3]=P[I-w+3]+o[I+3]};e.aru=function(o,P,w,x,z,S){var k=z+w<<2,f=z+P<<2,C=x+w<<2,H=x+P<<2;
S[0]+=o[k]-o[f]-o[C]+o[H];S[1]+=o[k+1]-o[f+1]-o[C+1]+o[H+1];S[2]+=o[k+2]-o[f+2]-o[C+2]+o[H+2];S[3]+=o[k+3]-o[f+3]-o[C+3]+o[H+3]};
e.Nm=function(o,P,w){var x={},z=0,S=0,k=new Uint32Array(o.buffer),f=k.length,C=Date.now();for(var H=1;
H<w-1;H++)for(var b=1;b<P-1;b++){var i=H*P+b,M=k[i];if(M>>>24<230)S++;if(x[M]==null){x[M]=!0;z++}}if(S!=0||z<20)return!1;
return!0};e.JM=function(o,P,w,x,z,S){if(z==null)z=S=0;x=Math.log(x)/Math.log(2);x=Math.round(x);var k=new Uint32Array(o.buffer);
for(var I=0;I<w;I++)for(var f=0;f<P;f++){k[I*P+f]=e.a8W(I+S,f+z,x)}};e.aqw=function(I,o,P){return 255-((I>>>P)+(o>>>P)&1)*51};
e.a8W=function(I,o,P){return 4294967295-((I>>>P)+(o>>>P)&1)*3355443};e.AE=function(o,P){var w=P==null?1:P/255;
return{$:(o>>>16&255)*w,H:(o>>>8&255)*w,b:(o&255)*w}};e.Oq=function(o,P){var w=P==null?1:255/P;return Math.round(o.$*w)<<16|Math.round(o.H*w)<<8|Math.round(o.b*w)};
e.UM=function(o){var P=o.toString(16);while(P.length<6)P="0"+P;return P};e.a8u=function(o){return parseInt(o,16)};
e.GQ=function(o){return.3*o.$+.59*o.H+.11*o.b};e.xC=function(o){return Math.max(o.$,o.H,o.b)-Math.min(o.$,o.H,o.b)};
e.Rb=function(o,P,w){return.3*o+.59*P+.11*w};e.arh=function(o,P,w){return Math.max(o,P,w)-Math.min(o,P,w)};
e._U=function(o,P){var w=P-o,x=Math.abs(w),z=w-1,S=w+1;if(Math.abs(z)<x)w=z;else if(Math.abs(S)<x)w=S;
return w};e.Yd=function(o){return o<.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055};e.LK=function(o){return o<.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)};
e.aGv=function(o,P){var w=Math.min(o.length,P.length);for(var I=0;I<w;I+=4){var x=o[I],z=o[I+1],S=o[I+2];
P[I]=16+Math.floor(65.481/255*x+128.553/255*z+24.966/255*S+.5);P[I+1]=128-Math.floor(37.797/255*x-74.203/255*z+112/255*S+.5);
P[I+2]=128+Math.floor(112/255*x-93.786/255*z-18.214/255*S+.5);P[I+3]=o[I+3]}};e.ahR=function(o,P,w){var x,z,S,k=Math.max(o,P,w),f=Math.min(o,P,w);
S=k;if(k!=0)z=(k-f)/k;else z=0;if(z==0)x=0;else{var C=k-f,H=(k-o)/C,b=(k-P)/C,i=(k-w)/C;if(o==k)x=i-b;
else if(P==k)x=2+H-i;else x=4+b-H;x*=1/6;if(x<0)x=x+1}return{Y:x,zp:z,b:S}};e.a6T=function(o,P,w){var x=0,z=0,S=0;
if(P==0)x=z=S=w;else{var k=(o-Math.floor(o))*6,f=Math.floor(k),C=k-Math.floor(k),H=w*(1-P),b=w*(1-P*C),i=w*(1-P*(1-C));
switch(f){case 0:x=w;z=i;S=H;break;case 1:x=b;z=w;S=H;break;case 2:x=H;z=w;S=i;break;case 3:x=H;z=b;
S=w;break;case 4:x=i;z=H;S=w;break;case 5:x=w;z=H;S=b;break}}return{$:x,H:z,b:S}};e.Rs=function(o,P,w){var x=Math.max(o,P,w),z=Math.min(o,P,w),S=0,k=0,f=(x+z)*.5;
if(x!=z){var C=x-z;k=f>.5?C/(2-(x+z)):C/(x+z);switch(x){case o:S=(P-w)/C+(P<w?6:0);break;case P:S=(w-o)/C+2;
break;case w:S=(o-P)/C+4;break}S*=1/6}return{Y:S,zp:k,h8:f}};e.yN=function(o,P,w){var x,z,S;if(P==0)x=z=S=w;
else{var k=w<.5?w*(1+P):w+P-w*P,f=2*w-k;x=e.Sy(f,k,o+1/3);z=e.Sy(f,k,o);S=e.Sy(f,k,o-1/3)}return{$:x,H:z,b:S}};
e.Sy=function(o,P,w){if(w<0)w+=1;if(w>1)w-=1;if(w<1/6)return o+(P-o)*6*w;if(w<1/2)return P;if(w<2/3)return o+(P-o)*(2/3-w)*6;
return o};e.j1=function(o,P,w){var x=Math.max(o,P,w),z=Math.min(o,P,w),S,k,f=x,C=x-z;k=x==0?0:C/x;if(x==z)S=0;
else{switch(x){case o:S=(P-w)/C+(P<w?6:0);break;case P:S=(w-o)/C+2;break;case w:S=(o-P)/C+4;break}S*=1/6}return{Y:S,zp:k,IN:f}};
e.MR=function(o,P,w){var x,z,S,I,k,f,C,H;I=Math.floor(o*6);k=o*6-I;f=w*(1-P);C=w*(1-k*P);H=w*(1-(1-k)*P);
switch(I%6){case 0:x=w,z=H,S=f;break;case 1:x=C,z=w,S=f;break;case 2:x=f,z=w,S=H;break;case 3:x=f,z=C,S=w;
break;case 4:x=H,z=f,S=w;break;case 5:x=w,z=f,S=C;break}return{$:x,H:z,b:S}};e.kK=function(){var o=[],P=[];
for(var I=0;I<8e3;I++){var w=I*(1/4e3);o[I]=e.LK(w);P[I]=w>.008856?Math.pow(w,1/3):(903.3*w+16)*(1/116)}return[o,P]}();
e.Us=function(o,P,w,x){if(x==null)x=[.9642,1,.8249];var z=e.kK[0],S=e.kK[1];o=z[~~(.5+o*(4e3/255))];
P=z[~~(.5+P*(4e3/255))];w=z[~~(.5+w*(4e3/255))];var k=e.ww.aCq,f=k[0]*o+k[1]*P+k[2]*w,C=k[4]*o+k[5]*P+k[6]*w,H=k[8]*o+k[9]*P+k[10]*w;
f=f*(1/x[0]);C=C*(1/x[1]);H=H*(1/x[2]);return e.ao$(f,C,H)};e.ao$=function(o,P,w){var x=e.kK[1],z=x[~~(.5+o*4e3)],S=x[~~(.5+P*4e3)],k=x[~~(.5+w*4e3)];
return{s$:116*S-16,F:500*(z-S),b:200*(S-k)}};e.Aj=function(o,P,w){var x=903.3,z=.008856,S=(o+16)/116,k=S*S*S,f=S-w/200,C=f*f*f,H=P/500+S,b=H*H*H,i=C>z?C:(116*f-16)/x,M=k>z?k:(116*S-16)/x,T=b>z?b:(116*H-16)/x,O=T*96.42,Y=M*100,U=i*82.49,W=e.ww.tM(e.ww.tr,[O/100,Y/100,U/100,0]);
for(var I=0;I<4;I++)W[I]=Math.max(0,Math.min(255,e.Yd(W[I])*255));return{$:W[0],H:W[1],b:W[2]}};e.ab4=function(o,P,w,x,z){var S=o.s$,k=o.F,f=o.b,C=(S<P.s$?P.s$-S:w.s$<S?w.s$-S:0)*(1/100),H=(k<P.F?P.F-k:w.F<k?w.F-k:0)*(1/116),b=(f<P.b?P.b-f:w.b<f?w.b-f:0)*(1/116),i=Math.sqrt(C*C+H*H+b*b)*1.35;
return i<=x?Math.min(1,1.17*(1-i*z)):0};e.Wu=function(o){var P=e.SA("cmykToRgb"),w=P[2],x=P[3],z=[0,0,0,0];
ICC.U.applyLUT4Float(x,w,o,z);return z};e.anz=function(){var o=function(eK){return Math.round(eK*255)},P="",w=3;
for(var I=0;I<tab.length;I++){var x=o(tab[I]);if(w<=I)x=x-o(tab[I-w])+256&255;P+=x.toString(16).padStart(2,"0")}return P};
e.SA=function(o){var P=LUTS["_"+o];if(P==null){var w=LUTS[o],x=w[0],eK=w[1],z=w[2],S=w[3],k=[];for(var I=0;
I<S.length;I+=2)k.push(parseInt(S.slice(I,I+2),16));for(var I=eK;I<k.length;I++)k[I]=k[I]+k[I-eK]&255;
for(var I=0;I<k.length;I++)k[I]*=1/255;P=LUTS["_"+o]=[x,eK,z,k]}return P};e.TI=function(o){var P=e.SA("rgbToCmyk"),w=P[2],x=P[3],z=[0,0,0,0];
ICC.U.applyLUT3to4Float(x,w,o,z);return z};e.a3L=function(o){for(var I=0;I<o.length;I+=4){var P=[o[I+0]*(1/255),o[I+1]*(1/255),o[I+2]*(1/255)],w=e.TI(P);
o[I+0]=255-Math.floor(.5+w[0]*255);o[I+1]=255-Math.floor(.5+w[1]*255);o[I+2]=255-Math.floor(.5+w[2]*255);
o[I+3]=255-Math.floor(.5+w[3]*255)}};e.KN=function(o,P,w){var x=o.length,z=.3,S=.59,k=.11;if(w){z=w[0];
S=w[1];k=w[2]}for(var I=0;I<x;I+=4)P[I>>2]=~~(o[I+0]*z+o[I+1]*S+o[I+2]*k+.5)};e.K0=function(o,P){var w=P.length;
for(var I=0;I<w;I+=4){var x=o[I>>>2];P[I]=x;P[I+1]=x;P[I+2]=x}};e.Vo=function(o,P){var w=o.F,x=o.$,z=o.H,S=o.b,k=Math.min(o.F.length,P.buffer.byteLength>>>2),f=4*Math.floor(k/4),C=new Uint32Array(P.buffer),H=new Uint32Array(w.buffer),b=new Uint32Array(x.buffer),i=new Uint32Array(z.buffer),M=new Uint32Array(S.buffer);
for(var I=0;I<f;I+=4){var T=H[I>>2],O=M[I>>2],Y=i[I>>2],U=b[I>>2];C[I]=T<<24|(O&255)<<16|(Y&255)<<8|U&255;
C[I+1]=(T&65280)<<16|(O&65280)<<8|Y&65280|(U&65280)>>>8;C[I+2]=(T&16711680)<<8|O&16711680|(Y&16711680)>>>8|(U&16711680)>>>16;
C[I+3]=T&4278190080|(O&4278190080)>>>8|(Y&4278190080)>>>16|(U&4278190080)>>>24}for(var I=f;I<k;I++)C[I]=w[I]<<24|S[I]<<16|z[I]<<8|x[I]};
e.X1=function(o,P){var w=P.F,x=P.$,z=P.H,S=P.b,k=Math.min(P.F.length,o.buffer.byteLength>>>2),f=4*Math.floor(k/4),C=new Uint32Array(o.buffer),H=new Uint32Array(w.buffer),b=new Uint32Array(x.buffer),i=new Uint32Array(z.buffer),M=new Uint32Array(S.buffer);
for(var I=0;I<f;I+=4){var T=C[I],O=C[I+1],Y=C[I+2],U=C[I+3];b[I>>2]=T&255|(O&255)<<8|(Y&255)<<16|U<<24;
i[I>>2]=(T&65280)>>8|O&65280|(Y&65280)<<8|(U&65280)<<16;M[I>>2]=(T&16711680)>>16|(O&16711680)>>8|Y&16711680|(U&16711680)<<8;
H[I>>2]=T>>>24|O>>>24<<8|Y>>>24<<16|U&4278190080}for(var I=f;I<k;I++){var W=C[I];x[I]=W>>0&255;z[I]=W>>8&255;
S[I]=W>>16&255;w[I]=W>>24&255}};e.JX=function(o,P,w){var x=new Uint8Array(o.buffer),z=Math.min(x.length/4,P.length);
for(var I=0;I<z;I++){P[I]=x[(I<<2)+w]}};e.lI=function(o,P,w){var x=new Uint8Array(P.buffer),z=new Uint32Array(o.buffer),S=Math.min(x.length/4,o.length),I=0;
while(I+4<S){var k=z[I>>>2];x[(I<<2)+w]=k&255;x[(I<<2)+w+4]=k>>>8&255;x[(I<<2)+w+8]=k>>>16&255;x[(I<<2)+w+12]=k>>>24;
I+=4}while(I<S){x[(I<<2)+w]=o[I];I++}};e.ZT=function(o,P,w){if(w==null)w=0;var x=new Uint32Array(o.buffer),z=x.length;
for(var I=0;I<z;I++)x[I]=x[I]&w|P};e.ag4=function(o,P,w,x,z){if(z==null)z=0;var S=new Uint32Array(o.buffer);
w=w.SN(P);var k=w.x-P.x,f=w.y-P.y,C=w.q,H=w._,b=P.q;for(var i=0;i<H;i++){var I=(f+i)*b+k;for(var M=0;
M<C;M++){S[I]=S[I]&z|x;I++}}};e.L9=function(o,P){var w=Math.min(o.buffer.byteLength,P.buffer.byteLength),x=w>>>2,o=new Uint32Array(o.buffer,0,x),P=new Uint32Array(P.buffer,0,x);
P.set(o)};e.w6=function(o,P){var w=o.buffer.byteLength,x=P.buffer.byteLength,z=new Uint32Array(o.buffer,0,w>>2),S=new Uint32Array(P.buffer,0,x>>2);
if(w!=x)return!1;var k=z.length;for(var I=0;I<k;I++)if(S[I]!=z[I])return!1;return!0};e.Sd=function(o){var P=new Uint32Array(o.buffer),w=P.length;
for(var I=0;I<w;I++)P[I]=~P[I]};e.auv=function(o){var P=o.length;for(var I=0;I<P;I+=4){o[I]=~o[I];o[I+1]=~o[I+1];
o[I+2]=~o[I+2]}};e.asa=function(o){var P=o.length;for(var I=3;I<P;I+=4)o[I]=~o[I]};e.aug=function(o){return o+(o%4==0?0:4-o%4)};
e.U=function(o,P){if(P==null)P=!1;if(!P)o=e.aug(o);try{var w=new Uint8Array(o)}catch(bF){alert("Not enough RAM! (need "+Math.round(o/(1<<20))+" MB)",7e3);
throw"low_ram"}return w};e.aC3=function(o){var P=o.pv.q,w=o.pv._,x=P*4,z=P*w,S=new Uint8Array(o.data),k=0,f=0;
for(var C=1;C<w;C++)for(var H=1;H<P;H++){var I=(C*P+H)*4;if(S[I-1]==0&&S[I+3]==0&&S[I-x+3]==0){f++;var b=S[I],i=S[I+1],M=S[I+2],T=b-S[I-4],O=b-S[I-x],Y=i-S[I-3],U=i-S[I-x+1],W=M-S[I-2],t=M-S[I-x+2];
if(T*T+Y*Y+W*W!=0&&O*O+U*U+t*t!=0)k++}}if(f/z>.01&&k/f>.05){var _=e.U(P*w);e.JX(S,_,3);o.Cg=[_];for(var I=0;
I<S.length;I+=4)S[I+3]=255}};e.a9a=function(o,P,w,x){if(x==null)x=0;var z=0;while(z+3<o.length&&o[z+3].c()>=x&&P.gz()*(1<<(z>>>1))<w)z+=2;
var S=o[1],k=o[z+1],f=new ar;f.translate(-k.x,-k.y);f.scale(S.q/k.q,S._/k._);f.translate(S.x,S.y);f.concat(P);
return[z,f]};e.nJ=function(o){var P=o.length,w=o[P-2],x=o[P-1];while(x.q>=2&&x._>=2){var z=e.EA(w,x);
o.push(z.eD,z.rect);w=z.eD;x=z.rect}};e._I=function(o){var P=o.length,w=o[P-2],x=o[P-1];while(x.q>=2&&x._>=2){var z=e.be(w,x);
o.push(z.eD,z.rect);w=z.eD;x=z.rect}};e.EA=function(o,P,w){var x=P.q,z=P._,S=x>>1,k=z>>1,f=new fA(P.x>>>1,P.y>>>1,S,k),C=w&&w.length==S*k*4?w:e.U(S*k*4),H=new Uint32Array(o.buffer),b=new Uint32Array(C.buffer);
for(var i=0;i<k;i++)for(var M=0;M<S;M++){var T=i*S+M,O=(i<<1)*x+(M<<1),Y=H[O],U=H[O+1],W=H[O+x],t=H[O+x+1],_=Y>>>24,n=U>>>24,y=W>>>24,F=t>>>24,a=_+n+y+F;
if(a==1020){var V=(Y>>>0&255)+(U>>>0&255)+(W>>>0&255)+(t>>>0&255)+2>>>2,D=(Y>>>8&255)+(U>>>8&255)+(W>>>8&255)+(t>>>8&255)+2>>>2,l=(Y>>>16&255)+(U>>>16&255)+(W>>>16&255)+(t>>>16&255)+2>>>2;
b[T]=255<<24|l<<16|D<<8|V}else if(a==0)b[T]=0;else{var V=(Y>>>0&255)*_+(U>>>0&255)*n+(W>>>0&255)*y+(t>>>0&255)*F,D=(Y>>>8&255)*_+(U>>>8&255)*n+(W>>>8&255)*y+(t>>>8&255)*F,l=(Y>>>16&255)*_+(U>>>16&255)*n+(W>>>16&255)*y+(t>>>16&255)*F,Q=1/a;
V=~~(V*Q+.5);D=~~(D*Q+.5);l=~~(l*Q+.5);b[T]=a+2>>>2<<24|l<<16|D<<8|V}}return{rect:f,eD:C}};e.a50=function(o,P,w){var x=P.q,z=P._,S=x>>1,k=z>>1,f=new fA(P.x,P.y,S,k),C=w&&w.length==S*k*4?w:e.U(S*k*4),H=new Uint32Array(o.buffer),b=new Uint32Array(C.buffer);
for(var i=0;i<k;i++)for(var M=0;M<S;M++){var T=i*S+M,O=(i<<1)*x+(M<<1),Y=H[O],U=H[O+1],W=H[O+x],t=H[O+x+1],_=2+(Y>>>0&255)+(U>>>0&255)+(W>>>0&255)+(t>>>0&255)>>>2,n=2+(Y>>>8&255)+(U>>>8&255)+(W>>>8&255)+(t>>>8&255)>>>2,y=2+(Y>>>16&255)+(U>>>16&255)+(W>>>16&255)+(t>>>16&255)>>>2,F=2+(Y>>>24&255)+(U>>>24&255)+(W>>>24&255)+(t>>>24&255)>>>2;
b[T]=F<<24|y<<16|n<<8|_}return{rect:f,eD:C}};e.aju=function(o,P,w){var x=P.q,z=P._,S=2*Math.floor(x/3),k=2*Math.floor(z/3),f=new fA(P.x,P.y,S,k),C=w&&w.length==S*k*4?w:e.U(S*k*4),H=new Uint32Array(o.buffer),b=new Uint32Array(C.buffer);
for(var i=0;i<k;i+=2)for(var M=0;M<S;M+=2){var T=i*S+M,O=(i*3>>>1)*x+(M*3>>>1),Y=H[O],U=H[O+1],W=H[O+2],t=H[O+x],_=H[O+1+x],n=H[O+2+x],y=H[O+x+x],F=H[O+1+x+x],a=H[O+2+x+x],V=Y>>>24<<2,D=(Y>>>16&255)*V,l=(Y>>>8&255)*V,Q=(Y&255)*V,m=U>>>24<<1,R=(U>>>16&255)*m,$=(U>>>8&255)*m,p=(U&255)*m,c=W>>>24<<2,B=(W>>>16&255)*c,Z=(W>>>8&255)*c,v=(W&255)*c,E=t>>>24<<1,g=(t>>>16&255)*E,u=(t>>>8&255)*E,j=(t&255)*E,A=_>>>24,K=(_>>>16&255)*A,s=(_>>>8&255)*A,r=(_&255)*A,h=n>>>24<<1,jC=(n>>>16&255)*h,d=(n>>>8&255)*h,q=(n&255)*h,hc=y>>>24<<2,dk=(y>>>16&255)*hc,c6=(y>>>8&255)*hc,e3=(y&255)*hc,ks=F>>>24<<1,cH=(F>>>16&255)*ks,bI=(F>>>8&255)*ks,aR=(F&255)*ks,ak=a>>>24<<2,cN=(a>>>16&255)*ak,gC=(a>>>8&255)*ak,bD=(a&255)*ak,cu=V+m+E+A,du=c+m+h+A,bq=hc+ks+E+A,hn=ak+ks+h+A,aK=cu==0?0:1/cu,cQ=du==0?0:1/du,jR=bq==0?0:1/bq,ch=hn==0?0:1/hn,bx=0,jf=0,dW=0,bf=0;
bx=~~(.5+(Q+p+j+r)*aK);jf=~~(.5+(l+$+u+s)*aK);dW=~~(.5+(D+R+g+K)*aK);bf=~~(.5+cu*(1/9));b[T]=bf<<24|dW<<16|jf<<8|bx;
bx=~~(.5+(v+p+q+r)*cQ);jf=~~(.5+(Z+$+d+s)*cQ);dW=~~(.5+(B+R+jC+K)*cQ);bf=~~(.5+du*(1/9));b[T+1]=bf<<24|dW<<16|jf<<8|bx;
bx=~~(.5+(e3+aR+j+r)*jR);jf=~~(.5+(c6+bI+u+s)*jR);dW=~~(.5+(dk+cH+g+K)*jR);bf=~~(.5+bq*(1/9));b[T+S]=bf<<24|dW<<16|jf<<8|bx;
bx=~~(.5+(bD+aR+q+r)*ch);jf=~~(.5+(gC+bI+d+s)*ch);dW=~~(.5+(cN+cH+jC+K)*ch);bf=~~(.5+hn*(1/9));b[T+S+1]=bf<<24|dW<<16|jf<<8|bx}return{rect:f,eD:C}};
e.adY=function(o,P,w){var x=P.q,z=P._,S=2*Math.floor(x/3),k=2*Math.floor(z/3),f=new fA(P.x,P.y,S,k),C=w&&w.length==S*k*4?w:e.U(S*k*4),H=new Uint32Array(o.buffer),b=new Uint32Array(C.buffer);
for(var i=0;i<k;i+=2)for(var M=0;M<S;M+=2){var T=i*S+M,O=(i*3>>>1)*x+(M*3>>>1),Y=H[O],U=H[O+1],W=H[O+2],t=H[O+x],_=H[O+1+x],n=H[O+2+x],y=H[O+x+x],F=H[O+1+x+x],a=H[O+2+x+x],V=(Y>>>16&255)<<2,D=(Y>>>8&255)<<2,l=(Y&255)<<2,Q=(U>>>16&255)<<1,m=(U>>>8&255)<<1,R=(U&255)<<1,$=(W>>>16&255)<<2,p=(W>>>8&255)<<2,c=(W&255)<<2,B=(t>>>16&255)<<1,Z=(t>>>8&255)<<1,v=(t&255)<<1,E=_>>>16&255,g=_>>>8&255,u=_&255,j=(n>>>16&255)<<1,A=(n>>>8&255)<<1,K=(n&255)<<1,s=(y>>>16&255)<<2,r=(y>>>8&255)<<2,h=(y&255)<<2,jC=(F>>>16&255)<<1,d=(F>>>8&255)<<1,q=(F&255)<<1,hc=(a>>>16&255)<<2,dk=(a>>>8&255)<<2,c6=(a&255)<<2,e3=0,ks=0,cH=0;
e3=~~(.5+(l+R+v+u)*(1/9));ks=~~(.5+(D+m+Z+g)*(1/9));cH=~~(.5+(V+Q+B+E)*(1/9));b[T]=255<<24|cH<<16|ks<<8|e3;
e3=~~(.5+(c+R+K+u)*(1/9));ks=~~(.5+(p+m+A+g)*(1/9));cH=~~(.5+($+Q+j+E)*(1/9));b[T+1]=255<<24|cH<<16|ks<<8|e3;
e3=~~(.5+(h+q+v+u)*(1/9));ks=~~(.5+(r+d+Z+g)*(1/9));cH=~~(.5+(s+jC+B+E)*(1/9));b[T+S]=255<<24|cH<<16|ks<<8|e3;
e3=~~(.5+(c6+q+K+u)*(1/9));ks=~~(.5+(dk+d+A+g)*(1/9));cH=~~(.5+(hc+jC+j+E)*(1/9));b[T+S+1]=255<<24|cH<<16|ks<<8|e3}return{rect:f,eD:C}};
e.Y9=function(o){var P=255,w=o.length;w-=w&31;for(var I=3;I<w;I+=32)P=P&o[I]&o[I+4]&o[I+8]&o[I+12]&o[I+16]&o[I+20]&o[I+24]&o[I+28];
return P!=255};e.Oz=function(o,P,w,x){var z=e.EA,S=e.aju;if(!e.Y9(o)){z=e.a50;S=e.adY}var k={eD:o,rect:P},f=e.IX(w);
for(var I=0;I<f.length;I++){if(f[I]==2)k=z(k.eD,k.rect,x);else k=S(k.eD,k.rect,x)}return k};e.aBU=function(o,P,w,x){var z=e.be,S=e.auN,k={eD:o,rect:P},f=e.IX(w);
for(var I=0;I<f.length;I++){if(f[I]==2)k=z(k.eD,k.rect,x);else k=S(k.eD,k.rect,x)}return k};e.IX=function(o){var P=[],w=o;
while(w<.499){P.push(2);w*=2}P.push(w<.5001?2:3);return P};e.be=function(o,P,w){var x=P.q,z=P._,S=x>>1,k=z>>1,f=new fA(P.x,P.y,S,k);
if(o==null)return{rect:f};var C=w&&w.length>=S*k?w:e.U(S*k);for(var H=0;H<k;H++){var b=H*S;for(var i=0;
i<S;i++){var M=(H<<1)*x+(i<<1);C[b+i]=2+o[M]+o[M+1]+o[M+x]+o[M+x+1]>>>2}}return{rect:f,eD:C}};e.auN=function(o,P,w){var x=P.q,z=P._,S=2*Math.floor(x/3),k=2*Math.floor(z/3),f=new fA(P.x,P.y,S,k);
if(o==null)return{rect:f};var C=w&&w.length>=S*k?w:e.U(S*k);for(var H=0;H<k;H+=2)for(var b=0;b<S;b+=2){var i=H*S+b,M=(H*3>>>1)*x+(b*3>>>1),T=o[M]<<2,O=o[M+1]<<1,Y=o[M+2]<<2,U=o[M+x]<<1,W=o[M+1+x],t=o[M+2+x]<<1,_=o[M+x+x]<<2,n=o[M+1+x+x]<<1,y=o[M+2+x+x]<<2;
C[i]=~~(.5+(T+O+U+W)*(1/9));C[i+1]=~~(.5+(Y+O+t+W)*(1/9));C[i+S]=~~(.5+(_+n+U+W)*(1/9));C[i+S+1]=~~(.5+(y+n+t+W)*(1/9))}return{rect:f,eD:C}};
e.ad7=function(o,P,w,x,z){var S=P.SN(x);if(z)S=S.SN(z);var k=Math.max(0,S.x-P.x),f=Math.max(0,S.x-x.x),C=Math.max(0,S.y-P.y),H=Math.max(0,S.y-x.y),b=S.q,i=S._;
for(var I=0;I<i;I++){var M=(C+I)*P.q+k,T=(H+I)*x.q+f;for(var O=0;O<b;O++){w[T+O]=Math.max(w[T+O],o[M+O])}}};
e.d0=function(o,P,w,x,z){var S=P.SN(x);if(z)S=S.SN(z);var k=Math.max(0,S.x-P.x),f=Math.max(0,S.x-x.x),C=Math.max(0,S.y-P.y),H=Math.max(0,S.y-x.y),b=S.q,i=S._;
for(var I=0;I<i;I++){var M=(C+I)*P.q+k,T=(H+I)*x.q+f;w.set(new Uint8Array(o.buffer,M,b),T)}};e.aEE=function(o,P,w,x){if(P.w6(x)){e.lI(o,w,3);
return}var z=P.SN(x),S=Math.max(0,z.x-P.x),k=Math.max(0,z.x-x.x),f=Math.max(0,z.y-P.y),C=Math.max(0,z.y-x.y),H=z.q,b=z._;
for(var I=0;I<b;I++){var i=(f+I)*P.q+S,M=(C+I)*x.q+k;for(var T=0;T<H;T++)w[(M+T<<2)+3]=o[i+T]}};e.zt=function(o,P,w,x){var z=P.SN(x),S=Math.max(0,z.x-P.x),k=Math.max(0,z.x-x.x),f=Math.max(0,z.y-P.y),C=Math.max(0,z.y-x.y),H=z.q,b=z._;
for(var I=0;I<b;I++){var i=(f+I)*P.q+S,M=(C+I)*x.q+k;for(var T=0;T<H;T++)w[M+T]=o[(i+T<<2)+3]}};e.sR=function(o,P,w,x,z){if(P.w6(x)&&(z==null||z.w6(x))){e.L9(o,w);
return}o=new Uint32Array(o.buffer),w=new Uint32Array(w.buffer);var S=P.SN(x);if(z)S=S.SN(z);var k=Math.max(0,S.x-P.x),f=Math.max(0,S.x-x.x),C=Math.max(0,S.y-P.y),H=Math.max(0,S.y-x.y),b=S.q,i=S._,M=b&3,T=M==0?b:b-M;
for(var I=0;I<i;I++){var O=(C+I)*P.q+k,Y=(H+I)*x.q+f;w.set(new Uint32Array(o.buffer,O*4,b),Y)}};e.qz=function(o,P,w,x){var z=P.SN(x),S=Math.max(0,z.x-P.x),k=Math.max(0,z.x-x.x),f=Math.max(0,z.y-P.y),C=Math.max(0,z.y-x.y),H=z.q,b=z._,i=o.F,M=o.$,T=o.H,O=o.b,Y=w.F,U=w.$,W=w.H,t=w.b;
for(var I=0;I<b;I++){var _=(f+I)*P.q+S,n=(C+I)*x.q+k;for(var y=0;y<H;y++){Y[n+y]=i[_+y];U[n+y]=M[_+y];
W[n+y]=T[_+y];t[n+y]=O[_+y]}}};e.i8=function(o){var P=o.length;for(var I=0;I<P;I+=4){var w=o[I+3];if(w==255)continue;
o[I]=~~(o[I]*w*(1/255)+.5);o[I+1]=~~(o[I+1]*w*(1/255)+.5);o[I+2]=~~(o[I+2]*w*(1/255)+.5)}};e.m$=function(o){var P=o.length;
for(var I=0;I<P;I+=4){var w=o[I+3];if(w==0||w==255)continue;var x=255/w;o[I]=~~(o[I]*x+.5);o[I+1]=~~(o[I+1]*x+.5);
o[I+2]=~~(o[I+2]*x+.5)}};e.p8=function(o,P){for(var I=0;I<o.length;I++)if(o[I]!=P)return!1;return!0};
e.DQ=function(o){return o+1+(o>>>8)>>>8};e.round=function(o,P){if(P==null)P=128;var w=o.length;for(var I=0;
I<w;I++)o[I]=o[I]<P?0:255};e.l5=function(o,P){var w=o.length;for(var I=0;I<w;I++)o[I]=Math.round(o[I]*P)};
e.mV=function(o,P){var w=new Uint32Array(o.buffer),x=new Uint32Array(P.buffer),z=w.length;for(var I=0;
I<z;I++){var S=w[I],k=x[I];x[I]=e.DQ((S>>>24)*(k>>>24))<<24|e.DQ((S>>>16&255)*(k>>>16&255))<<16|e.DQ((S>>>8&255)*(k>>>8&255))<<8|e.DQ((S&255)*(k&255))}};
e.aS=function(o,P){var w=o.length;for(var I=0;I<w;I++)P[(I<<2)+3]=e.DQ(P[(I<<2)+3]*o[I])};e.aoK=function(o,P,w,x){var z=Math.max(0,x.x-P.x),S=Math.max(0,P.x-x.x),k=Math.max(0,x.y-P.y),f=Math.max(0,P.y-x.y),C=Math.min(P.x+P.q,x.x+x.q)-Math.max(P.x,x.x),H=Math.min(P.y+P._,x.y+x._)-Math.max(P.y,x.y);
for(var I=0;I<H;I++){var b=(k+I)*P.q+z,i=(f+I)*x.q+S;for(var M=0;M<C;M++){w[i]=e.DQ(w[i]*o[b]);b++;i++}}};
e.Cn=function(o,P,w,x){var z=Math.max(0,x.x-P.x),S=Math.max(0,P.x-x.x),k=Math.max(0,x.y-P.y),f=Math.max(0,P.y-x.y),C=Math.min(P.x+P.q,x.x+x.q)-Math.max(P.x,x.x),H=Math.min(P.y+P._,x.y+x._)-Math.max(P.y,x.y);
for(var I=0;I<H;I++){var b=(k+I)*P.q+z,i=((f+I)*x.q+S<<2)+3;for(var M=0;M<C;M++){w[i]=e.DQ(w[i]*o[b]);
b++;i+=4}}};e.VS=function(o,P,w,x){var z=Math.max(0,x.x-P.x),S=Math.max(0,P.x-x.x),k=Math.max(0,x.y-P.y),f=Math.max(0,P.y-x.y),C=Math.min(P.x+P.q,x.x+x.q)-Math.max(P.x,x.x),H=Math.min(P.y+P._,x.y+x._)-Math.max(P.y,x.y);
for(var I=0;I<H;I++){var b=((k+I)*P.q+z<<2)+3,i=((f+I)*x.q+S<<2)+3;for(var M=0;M<C;M++){w[i]=e.DQ(w[i]*o[b]);
b+=4;i+=4}}};e.DM=function(o,P){if(P==null)P=1;var w=4*P,x=o.length>>>2,z=new Float64Array(256),S=new Float64Array(256),k=new Float64Array(256),f=new Float64Array(256),C=4*Math.floor(x/P)*P,H=0;
for(var I=0;I<C;I+=w){var b=o[I+0],i=o[I+1],M=o[I+2],T=o[I+3]*P,O=T*(1/255);S[b]+=O;k[i]+=O;f[M]+=O;
H+=T}for(var I=0;I<256;I++)z[I]=S[I]+k[I]+f[I];return[z,S,k,f,x,H/255]};e.amt=function(o,P){function w(F,a){var V=-1,D=0;
while(D<=a){V++;D+=F[V]}return V}function x(F,a){var V=256,D=0;while(D<=a){V--;D+=F[V]}return V}function z(F){var a=0,V=0;
for(var I=0;I<256;I++){V+=F[I];a+=F[I]*I*(1/255)}return a/V}var S=o[0],k=o[1]/100,f=o[2]/100,C=[],H=[];
for(var I=0;I<4;I++){var b=I==0?3:1;C[I]=w(P[I],b*k*P[5]);H[I]=x(P[I],b*f*P[5])}var i=[z(P[1]),z(P[2]),z(P[3])],M=i.slice(0);
M.sort(function(F,a){return F-a});var T=i.indexOf(M[1]),O=(i[0]+i[1]+i[2])/3,Y=[];for(var I=0;I<4;I++){var U=0,W=255,t=C[I],_=H[I];
if(S==0&&I==0){U=t;W=_}if(S==1&&I!=0){U=t;W=_}if(S==2&&I!=0){var b=i[I-1]/O;W=Math.max(0,Math.min(255,H[T]*b))}var n=[U,W];
Y.push(n);if(S==3&&I==0){var y=255*(1-O);n.push(y)}}return Y};e.a7W=function(o,P){var w=new Uint32Array(o.buffer),x=w.length;
for(var I=0;I<x;I++){var z=w[I],S=z&255,k=z>>8&255,f=z>>16&255,C=z>>24&255;w[I]=P[S]|P[k]<<8|P[f]<<16|P[C]<<24}};
e.a1c=function(o,P,w,x,z,S,k){var f=new Uint32Array(o.buffer),C=new Uint32Array(P.buffer),H=f.length,b=0;
while(256<<b<w.length)b++;if(!k&&!S){for(var I=0;I!=H;I++){var i=f[I],M=(i&255)<<b,T=(i>>>8&255)<<b,O=(i>>>16&255)<<b,Y=w[M],U=x[T],W=z[O];
C[I]=Y|U<<8|W<<16|i&4278190080}return}for(var I=0;I<H;I++){var i=f[I],M=(i&255)<<b,T=(i>>>8&255)<<b,O=(i>>>16&255)<<b;
if(S)M=T=O=Math.round(M*.3+T*.59+O*.11);var Y=w[M],U=x[T],W=z[O];if(k){var t=e.Rb(M,T,O),_=e.Rb(Y,U,W);
if(t>_){var n=(t-_)/(255-_);Y+=n*(255-Y);U+=n*(255-U);W+=n*(255-W)}else if(_==0)Y=U=W=0;else{var n=t/_;
Y=n*Y;U=n*U;W=n*W}}C[I]=Y|U<<8|W<<16|i&4278190080}};e.zG=function(o,P){var w=P.q,x=P._,top=0,z=0,S=0,k=0,f=0;
f=0;for(var C=0;C<x;C++){var H=C*w;for(var I=0;I<w;I++)f|=o[H+I];if(f!=0)break;top++}if(top==x)return new fA(0,0,0,0);
f=0;for(var C=x-1;C>=0;C--){var H=C*w;for(var I=0;I<w;I++)f|=o[H+I];if(f!=0)break;S++}var b=x-S;f=0;
for(var I=0;I<w;I++){for(var C=top;C<b;C++)f|=o[C*w+I];if(f!=0)break;z++}f=0;for(var I=w-1;I>=0;I--){for(var C=top;
C<b;C++)f|=o[C*w+I];if(f!=0)break;k++}var i=new fA(P.x+z,P.y+top,w-z-k,x-top-S);return i};e.rR=function(o,P,w,x,z){if(x==null)x=[!0,!0,!0,!0];
if(w==null)w=0;if(z==null)z=4294967295;var S=new Uint32Array(o.buffer),k=P.q,f=P._,top=0,C=0,H=0,b=0,i=!1,M=[S[0],S[S.length-1],0][w];
i=!1;if(x[0])for(var T=0;T<f;T++){var O=T*k;for(var I=0;I<k;I++)if(S[O+I]&z^M)i=!0;if(i)break;top++}i=!1;
if(x[2])for(var T=f-1;T>=0;T--){var O=T*k;for(var I=0;I<k;I++)if(S[O+I]&z^M)i=!0;if(i)break;H++}i=!1;
if(x[1])for(var I=0;I<k;I++){for(var T=0;T<f;T++)if(S[T*k+I]&z^M)i=!0;if(i)break;C++}i=!1;if(x[3])for(var I=k-1;
I>=0;I--){for(var T=0;T<f;T++)if(S[T*k+I]&z^M)i=!0;if(i)break;b++}var Y=new fA(P.x+C,P.y+top,k-C-b,f-top-H);
return Y.Mw()?new fA(0,0,0,0):Y};e.wW=function(o){var P=e.zG(o.channel,o.rect);if(P.w6(o.rect))return;
var w=e.U(P.c());e.d0(o.channel,o.rect,w,P);o.channel=w;o.rect=P};e.fM=function(o,P){var w=e.rR(o.buffer,o.rect,2,null,P?null:4278190080);
if(w.w6(o.rect))return;var x=new e.U(w.c()*4);e.sR(o.buffer,o.rect,x,w);o.buffer=x;o.rect=w};e.extend=function(o,P,w){if(o.rect.rf(P))return;
var x=o.rect.It(P),z=e.U(x.c());if(w!=null)z.fill(w);e.d0(o.channel,o.rect,z,x);o.rect=x;o.channel=z};
e.aBq=function(o,P){if(P.Mw()||o.rect.rf(P))return;var w=o.rect.It(P),x=e.U(w.c()*4);e.sR(o.buffer,o.rect,x,w);
o.rect=w;o.buffer=x};e.Vz=function(o,P,w){if(!w.ga(o))return!1;var x=Math.floor(o.x)-w.x,z=Math.floor(o.y)-w.y,I=z*w.q+x;
return P[I]>128};e.ace=function(o,P,w){if(!w.ga(o))return!1;var x=Math.floor(o.x)-w.x,z=Math.floor(o.y)-w.y,I=z*w.q+x;
return P[4*I+3]>128};e.am=function(o){if(e.jw.length<o){e.jw=e.U(o);e.jw.fill(255)}return e.jw};e.jw=e.U(0);
e.mM=function(o){if(e.or.length<o)e.or=e.U(o);return e.or};e.or=e.U(0);e.fC=function(o){this.F=e.U(o);
this.$=e.U(o);this.H=e.U(o);this.b=e.U(o)};e.fC.prototype.clone=function(){var o=this.F.length,P=new e.fC(1);
P.F=this.F.slice(0);P.$=this.$.slice(0);P.H=this.H.slice(0);P.b=this.b.slice(0);return P};e.p.aDK=function(o,P,w,x,z){var S=z[0]+1,k=z[1],f=Math.abs(k-25)/4,C=z[2],H=C%2+C*C>>1,b=e.p.L;
b.Ir(P,w);var i=b.Jv(1),M=b.Jv(1),T=b.Jv(1);b._o(o,x,C,C,H);b.LF(x);b.r0(x,i);b.Mr(i,M,S,S,1);b.Mr(i,T,S,S,S*S);
b.sub(T,M);b.mV(M,f);(k<25?b.sub:b.add)(i,M);b.WH(M,x);b.FH(x)};e.p.aaF=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=z[0]*2.55,f=z[1],C=f>>1,H=z[2]*.25,b=S.Jv(4),i=S.Jv(1),M=S.Jv(1);S.cm(o,b,f,1,!0,C);
S.cm(o,x,f,1,!1,C);S.nS(o,i);S.tl(i,k);S.pC(i,M,3);S.Q0(x,M,b);S.Y2(b,x,H)};e.p.aay=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[3]);var k=z[0]*-3+80,f=z[1]*-3+80,C=z[2]/2+.5,H=z[4],b=z[5],i=S.Jv(1),M=S.Jv(1),T=S.Jv(1),O=S.Jv(1),Y=S.Jv(4),U=S.Jv(4);
S.nS(o,i);S.L9(i,M);S.SB(i,f,5);S.ayl(i,.4,0);S.pC(i,T,3);S.W$(T,i,9,3,!0,27);S.L9(M,T);S.Sd(T);var W=S.nl(k,5,T);
for(var I=0;I<S.Za;I++){M[I]=W[255-M[I]]}S.ayl(M,.4,0);S.L9(M,T);S.pC(T,O,2);S.W$(O,T,5,3,!1,15);S.mV(i,C);
S.mV(T,C);S.eR(x,2155905279);S.eR(U,H);S.eR(Y,b);S.Q0(U,i,x);S.Q0(Y,T,x)};e.p.asX=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=new Uint8Array(256),f=5+10*z[1];f+=z[1]>3?(z[1]-3)*10:0;var C=~~(z[2]*.73)+50,H=Math.min(C+f,128),b=H-C,i=-255*C;
for(var I=0;I<256;I++){var M=I*65;k[I]=S.vB(i/b);i+=255}var T=S.Jv(1),O=S.Jv(1),Y=S.Jv(1);S.nS(o,T);
S.L9(T,Y);S.pC(T,O,2*z[0]+1);S.sub(O,T);S.mV(T,65);S.W$(T,O,9,3,!0,20);for(var I=0;I<S.Za;I++){var U=Y[I],W=O[I];
T[I]=W>0?~~((W*U+(255-W)*128)/255):128}S.pC(T,O,3);S.W$(O,T,15,2,!0,16);S.W$(O,Y,15,2,!1,15);S.lT(T,Y);
S.g9(Y,O,2);S.cq(O,k);S.pC(O,T,2);S.YX(T,x)};e.p.a17=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=2*z[0]+1,f=S.a7P[z[1]],C=z[2]*5.1,H=z[3],b=S.Jv(1),i=S.Jv(1),M=S.Jv(4),T=S.Jv(4);
S.eR(M,H);S.LF(M,x);S.aEy(b,C);S.WH(b,x);S.FH(x,M);S.nS(o,i);S.pC(i,b,k);S.sub(b,i);S.mV(i,f);S.W$(i,b,9,3,!0,20);
S.Q0(o,b,M);S.UB(M,x,3);S.cm(x,M,15,2,!0,16);S.cm(x,T,15,2,!1,16);S.lT(M,T);S.Y2(T,x,2)};e.p.aAs=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=(15-z[0])/4+1,f=(15-z[1])/4+1,C=z[2],H=z[3],b=S.qN(z[4]),i=z[5]+1,M=z[6],T=z[7],O=z[8],Y=S.Jv(1),U=S.Jv(1),W=S.Jv(1),t=S.Jv(1),_=S.Jv(4),n=S.Jv(4);
S.qa(W,C,H,M);S.nS(o,U);S.pC(U,Y,5);S.U9(W,Y,t,i,b);S.mV(t,k);S.nx(t,2);S.Sd(Y);S.U9(W,Y,U,i,b);S.mV(U,f);
S.nx(U,2);S.eR(_,2155905279);S.eR(n,T);S.eR(x,O);S.Q0(_,U,n);S.Q0(n,t,x)};e.p.aBg=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[3]);var k=z[0],f=z[1]/10,C=z[2]/10,H=S.Jv(1),b=S.Jv(1),i=S.Jv(1),M=S.ew(),T=S.ew(),O=S.ew();
S.fu(H);S.pC(H,b,11);S.pC(b,H,11);S._B(H,M);S.CL(o,H);S.L9(H,i);S.pC(H,b,9);S.pC(b,H,9);S._B(H,T);S.Re(T,O,5);
S.Re(O,T,5);S.ajG(M,.8);S.awo(M,T,.8,.9);S.a4N(T,H,k);S.Mr(H,b,2,2,1);S.Mr(b,H,2,2,3);S.Mr(H,b,2,2,3);
S.Mr(i,H,5,5,13);S.mv(b,H,b,f);S.Jp(H,b,b,C);S.U9(b,b,H,5,1);S.LF(o,x);S.WH(H,x);S.FH(x)};e.p.aHl=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=z[0],f=z[1]/2,C=z[2],H=k/2,b=S.Jv(4),i=S.Jv(4);S.L9(o,x);for(var M=0;M<C;M++){S.cm(x,b,k,1,!0,H);
S.cm(x,i,k,1,!1,H);S.lT(i,b);S.UB(b,i,2);S.Y2(i,x,f)}};e.p.ata=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);
var k=z[0]*10,f=z[1]*4.9,C=z[2]*4.9,H=S.Jv(1),b=S.Jv(1),i=S.Jv(4),M=S.Jv(4);S.nS(o,H);S.tl(H,S.aAI(H,k));
S.pC(H,b,3);S.cm(o,i,5,1,!1,1);S.cm(o,x,15,2,!0,16);S.Q0(x,b,i);S.LF(i,x);S.r0(x,H);S.SB(H,f,C);S.WH(H,x);
S.FH(x)};e.p.axv=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[4]);var k=z[0]/20,f=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][z[1]],C=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][z[2]],H=z[3],b=new Int16Array(256);
for(var I=0;I<256;I++){b[I]=~~((I-128)*k)}var i=S.Jv(1),M=S.Jv(1),T=S.Jv(4);S.nS(o,i);S.pC(i,M,25);S.mV(M,f);
S.nx(M,C);S.pC(M,i,25);S.fu(M);S.ab$(i,M,b);S.L9(o,x);S.eR(T,H);S.Q0(T,i,x)};e.p.a8$=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=z[0]+5,f=15-z[1],C=k*k/2,H=1-(3-z[2])/10,b=~~(f*f*H-1),i=~~(f*f*(1-H));if(i==0)i=1;var M=S.Jv(1),T=S.Jv(1),O=S.Jv(1),Y=S.Jv(4);
S.nS(o,O);S.Mr(O,M,k,k,C);S.pC(O,T,k);S.sub(M,T);S.tl(T,1);S._o(o,Y,f,f,b);S._o(o,x,f,f,i);S.Q0(Y,T,x)};
e.p.aFM=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[3]);var k=(20-z[0])*.05,f=z[1]*-2.75+60,C=65-f,H=z[2]/10,b=S.Jv(1),i=S.Jv(1);
S.CL(o,i);var M=S.nl(f,C,i);S.LF(o,x);S.r0(x,i);S.fu(b);S.X4(i,b,k);S.cq(i,M);S.mV(i,z[2]/10);S.add(b,i);
S.WH(i,x);S.FH(x)};e.p.ahI=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=5+z[0],f=15-z[1],C=z[2],H=k*k/2+k*k%2*1,b=1-(3-z[2])/10,i=~~(f*f*b-1),M=~~(f*f*(1-b));
if(M==0)M=1;var T=S.Jv(1),O=S.Jv(1),Y=S.Jv(1),U=S.Jv(1),W=S.Jv(1);S.CL(o,O);S.g9(O,T,3);S.Mr(T,O,2,2,1);
var t=S.nl(20,20,O);S.cq(O,t);S.pC(O,W,5);S.Mr(W,T,k,k,H);S.Mr(W,O,f,f,i);S.Mr(W,Y,f,f,M);S.pC(W,U,k);
S.sub(T,U);S.tl(U,1);S.a8Q(O,U,Y);S.LF(o,x);S.WH(Y,x);S.FH(x)};e.p.a9U=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[5]);var k=S.Za,f=S.Ib,C=z[0],H=z[1],b=z[2],i=z[3],M=z[4],T=.05*C+1,O=C/100,Y=C>>1,U=2*C-100,W=+(H==9),t=+(H==7),_=[4,1][W],n=[3,2][W],y=[1,2][t],F=[2,1][t],a=[50,75][W],V=H<4?b:(b>>1)+50,D=S.alT(a,V),l=S.iF(i),Q=S.iF(M),m=S.Jv(4),R=S.Jv(4),$=S.Jv(1),p=S.Jv(1);
function c(x,D){if(V!=50){S.aoh(x,D)}}function B(o,d){for(var I=0;I<k;I++){o[I]=S.vB(o[I]+(d[I]-128)*O)}}function Z(o,d){for(var I=0,q=0;
I<k;I++){o[q]=S.vB(o[q]+(d[q]-128)*O);o[q+1]=S.vB(o[q+1]+(d[q+1]-128)*O);o[q+2]=S.vB(o[q+2]+(d[q+2]-128)*O);
q+=4}}function v(o,x){S.fu(R);S.L9(o,x);Z(x,R);c(x,D)}function E(d){var q=0;for(var hc=0;hc<12;hc++)q+=S.random();
return S.vB(Y*(q-6)+d)}function g(o,x){S.L9(o,x);for(var I=0;I<f;I+=4){x[I]=E(x[I]);x[I+1]=E(x[I+1]);
x[I+2]=E(x[I+2])}c(x,D)}function u(o,x){S.L9(o,x);for(var I=0;I<f;I+=4){if(S.random()<O){x[I]=l[0];x[I+1]=l[1];
x[I+2]=l[2]}}c(x,D)}function j(o,x){S.fu(m);S._o(m,R,n,n,_);S.L9(o,m);Z(m,R);S._o(m,x,5,5,13);c(x,D)}function A(o,x){S.fu(R);
S.L9(o,m);Z(m,R);c(x,D);S._o(m,x,n,n,_)}function K(o,x){S.L9(o,m);c(x,D);S.nS(m,$);for(var I=0,d=0;I<k;
I++){var q=((U-$[I]+255)*128.5+.5)/32767;if(S.random()<=q){x[d++]=Q[0];x[d++]=Q[1];x[d++]=Q[2]}else{x[d++]=l[0];
x[d++]=l[1];x[d++]=l[2]}x[d]=o[d];d++}}function s(o,x){S.LF(o,x);S.r0(x,$);S.g9($,p,T);S.Mr(p,$,n,n,_);
S.cq($,D);S.WH($,x);S.FH(x)}function r(o){var d=0;if(H==8){for(var q=0;q<P;q++){o[d++]=~~(S.random()*255)}for(var I=1;
I<w;I++){for(var q=0;q<P;q++){o[d++]=o[q]}}}else{for(var I=0;I<w;I++){var hc=~~(S.random()*255);for(var q=0;
q<P;q++){o[d++]=hc}}}}function jC(o,x){S.nS(o,$);S.fu(p);B($,p);r(p);B($,p);S.UB(o,m,9);S.UB(m,R,9);
S.pC($,p,2);S.cq(p,D);S.pC(p,$,2);S.LF(R,x);S.WH($,x);S.FH(x)}[v,g,u,j,j,A,K,jC,jC,s][H](o,x)};e.p.apr=function(o,P,w,x,z){var S=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],k=e.p.L,Y=0,U,I,y,F,a,V=0,D=1,l=255;
k.Ir(P,w);k.Zs(z[3]);var f=k.Jv(1),C=k.Jv(1);k.nS(o,f);var H=z[0],b=z[1],i=b<=50?S[b]/255:1+(255-S[101-b])/255,M=z[2],T=f.length,O=new Float32Array(T),W=1+1/10*H,t=(1-1/W)/2,_=16/256,n=P-1;
for(I=0;I<k.Za;I++){O[I]=f[I]/255;C[I]=H==1?k.random()<1/255?l:D:D}function Q(m,R){var $=m*P+R;if(C[$]!=D||m>=w||R>=P){return}var F=O[$],p=i-F,c=k.random(),B=c/W+t;
if(Y==0||Math.abs(a-F)>_){U=B<=p?V:l;Y=~~(k.random()*H)}else if(.1<c){Y--}else{Y=0}C[$]=U;a=F}if(M==0){for(I=0;
I<P;I++){for(y=0;y<P;y++){F=I+y;if(F>=P)break;Q(y,n-F)}Y=0}for(I=1;I<w;I++){for(y=0;y<w;y++){F=I+y;if(F>=w||y>=P)break;
Q(F,n-y)}Y=0}}else if(M==1){for(I=0;I<w;I++){for(y=0;y<P;y++){Q(I,y)}Y=0}}else if(M==2){for(I=0;I<P;
I++){for(y=0;y<P;y++){F=I+y;if(F>=P)break;Q(y,F)}Y=0}for(I=1;I<w;I++){for(y=0;y<w;y++){F=I+y;if(F>=w||y>=P)break;
Q(F,y)}Y=0}}else{for(I=0;I<P;I++){for(y=0;y<w;y++){Q(y,I)}Y=0}}k.YX(C,x)};e.p.a26=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=z[0],f=z[1],C=z[2],H=S.Jv(1),b=S.Jv(1),i=S.Jv(1),M=S.Jv(1),T=S.Jv(4),O=S.Jv(4);S.r0(o,M,3,4);
S.nS(o,H);S.Mr(H,b,3,3,1);S.Mr(H,i,3,3,9);S.sub(i,b);S.pC(b,H,3);S.SB(H,40,10,M);S.cm(o,x,k,2,!1,k);
S.cm(o,T,k,2,!0,k);S.eR(O,255);S.Q0(x,H,O);S.Q0(O,H,T);S.Y2(T,x,1);S.LF(x);S.r0(x,H);S.SB(H,f,C,M);S.WH(H,x);
S.FH(x)};e.p.a5M=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[3]);var k=z[0],f=z[1],C=z[2]/10;k=k+f;
var H=S.Jv(1),b=S.Jv(1),i=S.ew(),M=S.ew();S.fu(H);S.pC(H,b,11);S.pC(b,H,11);S._B(H,i);S.Re(i,M,5);S.Re(M,i,5);
S.ajG(M,.97);S.a4N(M,H,k);S.Mr(H,b,f,f,1);S.CL(o,H);S.mv(b,H,b,.6);S.Jp(H,b,b,C);S.U9(b,b,H,5,1);S.LF(o,x);
S.WH(H,x);S.FH(x)};e.p.aDO=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=Math.abs(z[0]),f=k+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][k],C=2*k+1,H=z[1]/10,b=H*13/15,i=S.Jv(1),M=S.Jv(1),T=S.Jv(1),O=S.Jv(1),Y=S.Jv(4),U=S.Jv(4),W=S.Jv(4),t=S.Jv(4),_=S.Jv(4);
S.nS(o,i);if(z[0]>=0){S.Sd(i)}S.L9(i,T);S.pC(i,O,f);S.pC(O,i,f);S.mV(i,H);S.L9(i,M);S.pC(i,O,C);S.pC(O,i,C);
S.mV(i,b);S.eR(W,z[2]);S.eR(t,z[3]);S.eR(_,z[4]);S.Q0(W,i,t,Y);S.Q0(_,M,Y,U);S.Q0(t,T,U,x);S.r0(o,T,3);
S.WH(T,x,3)};e.p.a6f=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[5]);var k=z[0]*5.1,f=z[1]/100,C=S.a27[z[2]],H=S.Jv(1),b=S.Jv(1),i=S.Jv(1);
S.nS(o,H);S.aEy(b,255);S.fu(i);S.tl(H,k);S.X4(b,H,.7);S.X4(i,H,f);S.U9(H,H,b,5,C);S.L9(o,x);S.adz(x,k,z[4],z[3]);
S.LF(x);S.WH(b,x);S.FH(x)};e.p.aAZ=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=z[0],f=4-z[1],C=11-z[2],H=S.Jv(1),b=S.Jv(1),i=S.Jv(4);
S.CL(o,b);for(var I=0;I<f;I++){S.L9(b,H);S.aoq(H,b,k,k)}S.UB(o,i,k);S.LF(i,i);S.WH(b,i);S.FH(i,i);(C<11?S.age:S.L9)(i,x,C)};
e.p.a4g=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[2]);var k=z[0]+5,f=~~(k/5+1),C=~~(k/2)+1,H=C*C,b=~~(k/3),i=S.a27[z[1]],M=new Array(256);
for(var I=0;I<256;I++){M[I]=~~(.2*(I-128))}var T=S.Jv(1),O=S.Jv(1);S.aoR(o,x,k);S.LF(x);S.r0(x,T);S.fu(O);
S.ab$(T,O,M);S.aly(O,k,k,f,f);S.mv(T,O,T,1);S.pC(T,O,b);S.pC(O,T,b);S.Mr(T,O,C,C,H);S.U9(O,O,T,5,i);
S.WH(T,x);S.FH(x)};e.p.a0O=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=S.Jv(1),f=S.Jv(1),C=S.Jv(1),H=S.ew(),b=S.ew();
S.nS(o,k);S.pC(k,f,z[2]);S.tl(f,z[0]*5.1);S.Mr(f,k,2,2,4);S.pC(k,f,3);S.pC(f,k,3);S.L9(k,C);S.pC(k,f,5);
S.pC(f,k,5);S._B(k,H);S.Re(H,b,5);S.Re(b,H,5);S.ar_(H,f,z[1]);S.Sd(f);S.mv(C,f,C,1);S.YX(C,x)};e.p.ajc=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=1<<7-z[2],f=S.Jv(1),C=S.Jv(1),H=S.Jv(1);S.CL(o,C);S.pC(C,f,3);S.L9(f,C);S.pC(f,H,z[0]+5);
S.sub(H,C);S.SB(C,1,z[1]);S.mV(f,1/k);S.mV(f,k);S.sub(f,C);S.LF(o,x);S.WH(C,x);S.FH(x)};e.p.aik=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[3]);var k=S.Jv(1),f=S.Jv(1),C=S.Jv(1);S.nS(o,k);S.ant(f,z[0]/50);S.pC(f,C,3);S.Mr(k,f,9,9,41);
S.SB(f,z[1],z[2]);S.mv(f,C,C,.75);S.Jp(f,C,f,.5);S.L9(f,k);S.Mr(k,C,3,3,8);S.mv(C,f,C,.75);S.mV(C,1.2);
S.g9(C,k,1);S.pC(k,C,2);S.g9(C,k,2);S.mV(k,1.2);S.pC(k,C,2);S.YX(C,x)};e.p.atE=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=z[0]+9,f=z[1]/2,C=z[2],H=z[3],b=S.qN(z[4]),i=z[5]+1,M=z[6],T=S.Jv(1),O=S.Jv(1),Y=S.Jv(4),U=S.Jv(4);
S.qa(O,C,H,M);S.abo(o,x,k,1,1);S.abo(x,Y,k,1,1);S.a3C(Y,Y,U,7,f);S.mV(U,1.2);S.nx(U,1.2);S.U9(O,T,T,i,b);
S.mV(T,3);S.L9(o,x);S.Q0(U,T,x)};e.p.acD=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[3]);var k=z[0]+4,f=k*2/5+(k%5|0);
k--;var C=z[1]*-2.75+60,H=65-C,b=z[2]/10,i=S.Jv(1),M=S.Jv(1);S.fu(i);S.CL(o,M);var T=S.nl(C,H,M);S.LF(o,x);
S.r0(x,M);S.X4(M,i,.8);S.cq(M,T);S.mV(M,b);S.add(i,M);S.W$(M,i,k,3,!1,f);S.WH(i,x);S.FH(x)};e.p.ai6=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[3]);var k=z[0]+5,f=(k*k>>1)+k%2,C=z[1]/10,H=z[2],b=(H*H>>1)+H%2,i=S.Jv(1),M=S.Jv(1),T=S.Jv(1),O=S.Jv(4),Y=S.Jv(4),U=S.Jv(4);
S.fu(T);S.LF(o,U);S.r0(U,i);S.X4(i,T,.8);S.pC(T,i,3);S.g9(i,T,C);S.WH(T,U);S.FH(U,U);S.nS(U,T);S.Mr(T,i,k,k,f);
S.pC(T,M,k);S.sub(i,M);S.tl(M,1);S._o(U,O,7,7,40);S._o(U,Y,7,7,10);S.Q0(O,M,Y);S._o(Y,x,H,H,b)};e.p.a7U=function(o,P,w,x,z){var S=e.p.L,f=255,I,H;
S.Ir(P,w);var k=z[0];if(k<2)f=k;else if(k<12)f=5*k-5;else if(k<47)f=2*k+28;else if(k<50){I=k-47;f=125+12.5*I+12.5*I*I}var C=new Uint8Array(256);
for(I=75,H=15;I<256;I++,H+=24)C[I]=Math.min(255,H);var b=S.Jv(1),i=S.Jv(1),M=S.Jv(1);S.nS(o,b);S.pC(b,i,11);
S.pC(i,M,11);S.sub(M,b);S.mV(b,8);S.sub(M,b);S.tl(b,f);S.Sd(b);S.pC(b,i,5);S.tl(i,51);S.pC(i,b,z[1]);
S.pC(b,i,z[1]);S.Sd(i);S.cq(i,C);S.YX(i,x)};e.p.anJ=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=S.a7P[z[1]],f=z[2],C=f*1.5,H=S.Jv(1),b=S.Jv(1),i=S.Jv(1);
S.CL(o,H);S.W$(H,b,15,2,!0,15);S.L9(b,i);S.SB(i,f,C);S.pC(i,H,3);S.pC(b,i,z[0]);S.sub(i,b);S.mV(b,k);
S.sub(H,b);S.pC(b,H,3);S.W$(H,b,3,1,!1,1);S.UB(o,x,15);S.LF(x);S.WH(b,x);S.FH(x)};e.p.aac=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);S.Zs(z[3]);var k=z[0]*5.1,f=16-z[1],C=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][z[2]],H=S.Jv(1),b=S.Jv(1),i=S.Jv(1);
S.nS(o,H);S.tl(H,k);S.pC(H,b,f);S.pC(b,H,f);S.fu(i);S.Jp(H,i,i,1);S.mv(H,i,H,.75);S.mV(H,C);S.nx(H,C);
S.Mr(H,b,2,2,2);S.YX(b,x)};e.p.ah6=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);var k=z[0]+9,f=z[1]+9,C=z[2],H=z[3],b=S.qN(z[4]),i=z[5]+1,M=z[6],T=S.Jv(1),O=S.Jv(1),Y=S.Jv(1),U=S.Jv(1),W=S.Jv(1),t=S.Jv(4);
S.CL(o,T);S.aoq(T,Y,k,k);S.pC(Y,T,f);S.L9(Y,W);S.L9(T,U);S.sub(W,U);S.sub(T,W);S.add(W,U);S.mV(U,10);
S.qa(O,C,H,M);S.U9(O,T,W,i,b);S.a8Q(W,U,Y,.8);S.UB(o,t,9);S.UB(t,x,9);S.LF(x);S.WH(Y,x);S.FH(x)};e.p.adu=function(o,P,w,x,z){var S=e.p.L;
S.Ir(P,w);var k=16-z[0],f=z[1]*8,C=1-(3-z[2])/10,H=~~(k*k*C-1),b=~~(k*k*(1-C));if(b==0)b=1;var i=S.Jv(1),M=S.Jv(1),T=S.Jv(1),O=S.Jv(4);
S.nS(o,T);S.Mr(T,i,7,7,25);S.pC(T,M,7);S.sub(i,M);S.tl(M,1);S._o(o,O,k,k,H);S._o(o,x,k,k,b);S.Q0(O,M,x);
S.LF(x);S.r0(x,i);S.Mr(i,T,3,3,1);S.Mr(i,M,3,3,9);S.sub(M,T);S.L9(T,M);S.sub(i,T);S.sub(T,M);S.Mr(M,i,3,3,8);
S.SB(i,f,1);S.WH(i,x);S.FH(x)};e.p.alv=function(o,P,w,x,z){var S=e.p.L;S.Ir(P,w);S.Zs(z[3]);var k=z[0],f=z[1],C=z[2],H=k>>1,b=Math.max(~~(k/5),1),i=Math.max(~~(k*2/3),1),M=S.alT(f,C),T=S.Jv(1),O=S.Jv(1),Y=S.Jv(1),U=S.Jv(1),W=S.Jv(4);
S.CL(o,T);S.asO(2147483647,4,2,2,0,255,O);S.asO(4,2147483647,2,2,0,255,U);S.fu(Y);S.Jp(O,Y,O,1);S.Jp(U,Y,U,1);
S.Jp(O,T,O,1);S.Jp(U,T,U,1);S.UB(o,W,H);S.UB(W,x,H);S.Mr(O,T,1,k,b);S.Mr(T,O,3,k,i);S.Mr(U,T,k,1,b);
S.Mr(T,U,k,3,i);S.lT(O,U);S.LF(x);S.WH(U,x);S.FH(x);S.aoh(x,M)};e.p.cX=function(o,P,w){var x=w.az0,z=w.Za,S=w.Jv(1),top=w.Jv(1),k=w.Jv(1),f=w.Jv(1),C=w.Jv(1),H=w.Jv(1),b=w.Jv(1),i=w.Jv(1),M=w.Jv(1),T=w.V,O=w.Y,Y=e.qY.Ld,U=e.qY.na;
Y(o,S,T,O,U([8,5,2,5,2,-1,2,-1,-4]));Y(o,top,T,O,U([5,5,5,2,2,2,-1,-1,-1]));Y(o,k,T,O,U([2,5,8,-1,2,5,-4,-1,2]));
Y(o,f,T,O,U([5,2,-1,5,2,-1,5,2,-1]));Y(o,C,T,O,U([2,2,2,2,2,2,2,2,2]));Y(o,H,T,O,U([-1,2,5,-1,2,5,-1,2,5]));
Y(o,b,T,O,U([2,-1,-4,5,2,-1,8,5,2]));Y(o,i,T,O,U([-1,-1,-1,2,2,2,5,5,5]));Y(o,M,T,O,U([-4,-1,2,-1,2,5,2,5,8]));
var W=[S,top,k,f,C,H,b,i,M];for(var t=0;t<O;t++){for(var _=0;_<T;_++){var n=t*T+_,y=o[n],F=null,a=0;
for(var V=-1;V<2;V++){for(var D=-1;D<2;D++){var l=W[(V+1)*3+D+1],Q=Math.max(0,Math.min(t+V,O-1)),m=Math.max(0,Math.min(_+D,T-1)),R=l[Q*T+m],$=Math.abs(R-y);
if(F==null||$<F){F=$;a=R}}}P[n]=a}}};e.p.axM=function(o,P,w,x,z){var self=e.p.L;self.Ir(P,w);var S=self.Jv(1),k=self.Jv(1);
for(var I=0;I<4;I++){self.r0(o,S,I);if(I<3){e.p.cX(S,k,self);e.p.cX(k,S,self);e.p.cX(S,k,self);e.p.cX(k,S,self);
e.p.cX(S,k,self);e.p.cX(k,S,self);e.p.cX(S,k,self);e.p.cX(k,S,self);e.p.cX(S,k,self)}else k=S;self.WH(k,x,I)}};
e.p.L={};e.p.L.V=0;e.p.L.Y=0;e.p.L.Za=0;e.p.L.Pg=0;e.p.L.Ib=0;e.p.L.Ir=function(o,P){var w=o*P,self=e.p.L;
self.V=o;self.Y=P;self.Za=w;self.Pg=w<<1;self.Ib=w<<2};e.p.L.Zs=function(o){e.p.L.random=function(){var P=o+=1831565813;
P=Math.imul(P^P>>>15,P|1);P^=P+Math.imul(P^P>>>7,P|61);return((P^P>>>14)>>>0)/4294967296}};e.p.L.Jv=function(o){var P=e.p.L;
return new Uint8Array([-1,P.Za,P.Pg,-1,P.Ib][o])};e.p.L.ew=function(){return new Int32Array(e.p.L.Pg)};
e.p.L.pC=function(o,P,w,x){if(x==null)x=w;var self=e.p.L,z=self.V,S=self.Y,k=x,f=x>>1,C=w,H=w>>1,b=w*x,i=0;
for(var I=0;I<S;I++){var M=0;for(var T=0;T<k;T++){for(var O=0;O<C;O++){var Y=0-H+O,U=I-f+T;if(Y<0)Y=0;
else if(Y>=z)Y=z-1;if(U<0)U=0;else if(U>=S)U=S-1;M+=o[U*z+Y]}}P[i++]=~~(M/b);for(var W=1;W<z;W++){for(var T=0;
T<k;T++){var t=W-H-1,_=t+C,U=I-f+T;if(t<0)t=0;if(_>=z)_=z-1;if(U<0)U=0;else if(U>=S)U=S-1;M+=o[U*z+_]-o[U*z+t]}P[i++]=~~(M/b)}}};
e.p.L.Re=function(o,P,w,x){var self=e.p.L,z=new Int32Array(self.Za),S=new Int32Array(self.Za);for(var I=0;
I<2;I++){self.r0(o,z,I,2);self.pC(z,S,w,x);self.WH(S,P,I,2)}};e.p.L.UB=function(o,P,w,x){var self=e.p.L,z=self.Jv(1),S=self.Jv(1);
for(var I=0;I<4;I++){self.r0(o,z,I);if(I<3)self.pC(z,S,w,x);else S=z;self.WH(S,P,I)}};e.p.L.abo=function(o,P,w,x,z){var self=e.p.L,S=self.V,k=self.Y,f=w+x-1,C=w>>1,H=f>>1,b=0,i=w*x,M=new Int32Array(w);
for(var I=0;I<k;I++){var T=0,O=0,Y=0;for(var U=0;U<w;U++){var W=z?f-U-x:U;for(var t=W,_=x+W;t<_;t++){var n=0-H+t,y=I-C+U;
if(t==W){M[U]=n}if(n<0)n=0;else if(n>=S)n=S-1;if(y<0)y=0;else if(y>=k)y=k-1;var F=S*y+n<<2;T+=o[F];O+=o[F+1];
Y+=o[F+2]}}P[b++]=~~(T/i);P[b++]=~~(O/i);P[b++]=~~(Y/i);P[b]=o[b];b++;for(var a=1;a<S;a++){for(var U=0;
U<w;U++){var y=I-C+U,W=M[U]+1;M[U]=W;var V=W-1,D=W+x-1;if(y<0)y=0;else if(y>=k)y=k-1;if(V<0)V=0;else if(V>=S)V=S-1;
if(D<0)D=0;else if(D>=S)D=S-1;var l=y*S+V<<2,Q=y*S+D<<2;T=T+o[Q]-o[l];O=O+o[Q+1]-o[l+1];Y=Y+o[Q+2]-o[l+2]}P[b++]=~~(T/i);
P[b++]=~~(O/i);P[b++]=~~(Y/i);P[b]=o[b];b++}}};e.p.L.W$=function(o,P,w,x,z,S){var self=e.p.L,k=self.V,f=self.Y,C=w+x-1,H=w>>1,b=C>>1,i=0,M=new Int32Array(w),T=new Int32Array(256),O=new Int32Array(16);
for(var I=0;I<f;I++){for(var Y=0;Y<256;Y++){T[Y]=0}for(var Y=0;Y<16;Y++){O[Y]=0}for(var U=0;U<w;U++){var W=z?C-U-x:U;
for(var t=W,_=x+W;t<_;t++){var n=0-b+t,y=I-H+U;if(t==W){M[U]=n}if(n<0)n=0;else if(n>=k)n=k-1;if(y<0)y=0;
else if(y>=f)y=f-1;T[o[y*k+n]]++;O[o[y*k+n]>>>4]++}}var F=0,a=0;while(F+O[a>>>4]<S){F+=O[a>>>4];a+=16}for(;
a<256;a++){F+=T[a];if(F>=S)break}P[i++]=a;for(var Y=1;Y<k;Y++){for(var U=0;U<w;U++){var y=I-H+U,W=M[U]+1;
M[U]=W;var V=W-1,D=W+x-1;if(y<0)y=0;else if(y>=f)y=f-1;if(V<0)V=0;else if(V>=k)V=k-1;if(D<0)D=0;else if(D>=k)D=k-1;
T[o[y*k+V]]--;T[o[y*k+D]]++;O[o[y*k+V]>>>4]--;O[o[y*k+D]>>>4]++}F=0;a=0;while(F+O[a>>>4]<S){F+=O[a>>>4];
a+=16}for(;a<256;a++){F+=T[a];if(F>=S)break}P[i++]=a}}};e.p.L.cm=function(o,P,w,x,z,S){var self=e.p.L,k=self.Jv(1),f=self.Jv(1);
for(var I=0;I<4;I++){self.r0(o,k,I);if(I<3)self.W$(k,f,w,x,z,S);else f=k;self.WH(f,P,I)}};e.p.L.Mr=function(o,P,w,x,z){z=Math.min(x*w,z);
var self=e.p.L,S=self.V,k=self.Y,f=x>>1,C=w>>1,H=0,b=new Int32Array(x),i=new Int32Array(256),M=new Int32Array(16);
for(var I=0;I<k;I++){for(var T=0;T<256;T++){i[T]=0}for(var T=0;T<16;T++){M[T]=0}for(var O=0;O<x;O++){for(var Y=0,U=w;
Y<U;Y++){var W=0-C+Y,t=I-f+O;if(Y==0){b[O]=W}if(W<0)W=0;else if(W>=S)W=S-1;if(t<0)t=0;else if(t>=k)t=k-1;
i[o[t*S+W]]++;M[o[t*S+W]>>>4]++}}var _=0,n=0;while(_+M[n>>>4]<z){_+=M[n>>>4];n+=16}for(;n<256;n++){_+=i[n];
if(_>=z)break}P[H++]=n;for(var T=1;T<S;T++){for(var O=0;O<x;O++){var t=I-f+O,y=b[O]+1;b[O]=y;var F=y-1,a=y+w-1;
if(t<0)t=0;else if(t>=k)t=k-1;if(F<0)F=0;else if(F>=S)F=S-1;if(a<0)a=0;else if(a>=S)a=S-1;i[o[t*S+F]]--;
i[o[t*S+a]]++;M[o[t*S+F]>>>4]--;M[o[t*S+a]>>>4]++}_=0;for(n=0;n<256;n++){_+=i[n];if(_>=z)break}P[H++]=n}}};
e.p.L._o=function(o,P,w,x,z){var self=e.p.L,S=self.Jv(1),k=self.Jv(1);for(var I=0;I<4;I++){self.r0(o,S,I);
if(I<3)self.Mr(S,k,w,x,z);else k=S;self.WH(k,P,I)}};e.p.L.g9=function(o,P,w){var self=e.p.L,x=self.V,z=self.Y,S=0;
for(var I=0;I<z;I++){var k=I*x,f=(I-1)*x,C=(I+1)*x;if(f<0)f=k;if(C>=z)C=k;for(var H=0;H<x;H++){var b=H-1,i=H+1;
if(b<0)b=H;if(i>=x)i=H;var M=k+b,T=k+i,O=f+H,Y=C+H,U=k+H,W=o[M],t=o[T],_=o[O],n=o[Y],y=o[U],F=y+(y*4*w+.5);
F=F-((W+t+n+_)*w+.5);P[S++]=self.vB(F)}}};e.p.L.Y2=function(o,P,w){var self=e.p.L,x=self.Jv(1),z=self.Jv(1);
for(var I=0;I<4;I++){self.r0(o,x,I);if(I<3)self.g9(x,z,w);else z=x;self.WH(z,P,I)}};e.p.L.age=function(o,P,w){var self=e.p.L,x=self.V,z=self.Y,S=0,k=w+4;
for(var I=0;I<z;I++){var f=I*x,C=(I-1)*x,H=(I+1)*x;if(C<0)C=f;if(H>=z)H=f;for(var b=0;b<x;b++){var i=b-1,M=b+1;
if(i<0)i=b;if(M>=x)M=b;var T=f+i<<2,O=f+M<<2,Y=C+b<<2,U=H+b<<2,W=f+b<<2;for(var t=0;t<3;t++){var _=o[T+t],n=o[O+t],y=o[Y+t],F=o[U+t],a=o[W+t];
P[S++]=(a*w+_+n+F+y)/k}P[S]=o[S];S++}}};e.p.L.aoq=function(o,P,w,x){var self=e.p.L,z=self.V,S=self.Y,k=w>>1,f=x>>1,C=0,H=new Int32Array(w),b=new Int32Array(256);
for(var I=0;I<S;I++){for(var i=0;i<256;i++){b[i]=0}for(var M=0;M<w;M++){for(var T=0,O=x;T<O;T++){var Y=0-f+T,U=I-k+M;
if(T==0){H[M]=Y}if(Y<0)Y=0;else if(Y>=z)Y=z-1;if(U<0)U=0;else if(U>=S)U=S-1;b[o[U*z+Y]]++}}var W=0,t=0;
for(var _=0;_<256;_++){if(W<b[_]){t=_;W=b[_]}}P[C++]=t;for(var i=1;i<z;i++){for(var M=0;M<w;M++){var U=I-k+M,n=H[M]+1;
H[M]=n;var y=n-1,F=n+x-1;if(U<0)U=0;else if(U>=S)U=S-1;if(y<0)y=0;else if(y>=z)y=z-1;if(F<0)F=0;else if(F>=z)F=z-1;
b[o[U*z+y]]--;b[o[U*z+F]]++}W=0;t=0;for(var _=0;_<256;_++){if(W<b[_]){t=_;W=b[_]}}P[C++]=t}}};e.p.L.a14=[function(o,P,w,x,z,S,k,f,C,H){return z+(o+P+w)*H-(C+f+k)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(P+w+S)*H-(f+k+x)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(w+S+C)*H-(k+x+o)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(S+C+f)*H-(x+o+P)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(C+f+k)*H-(o+P+w)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(f+k+x)*H-(P+w+S)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(k+x+o)*H-(w+S+C)*H},function(o,P,w,x,z,S,k,f,C,H){return z+(x+o+P)*H-(S+C+f)*H}];
e.p.L.U9=function(o,P,w,x,z){var self=e.p.L,S=self.V,k=self.Y,f=S,C=self.a14[x-1];for(var I=0;I<k;I++){var H=(I>0?I-1:0)*f,b=I*f,i=(I<k?I+1:I)*f;
for(var M=0;M<S;M++){var T=M>0?M-1:0,O=M<S?M+1:M,Y=b+M,U=o[H+T],W=o[H+M],t=o[H+O],_=o[b+T],n=P[Y],y=o[b+O],F=o[i+T],a=o[i+M],V=o[i+O];
w[Y]=self.vB(C(U,W,t,_,n,y,F,a,V,z))}}};e.p.L.a3C=function(o,P,w,x,z){var self=e.p.L,S=self.Jv(1),k=self.Jv(1),f=self.Jv(1);
for(var I=0;I<3;I++){self.r0(o,S,I);self.r0(P,k,I);self.U9(S,k,f,x,z);self.WH(f,w,I)}self.r0(P,S,3);
self.WH(S,w,3)};e.p.L.nS=function(o,P){var w=o.length,x=0;for(var I=0;I<w;I++){P[x++]=~~((o[I++]+o[I++]+o[I++]+2)/3)}};
e.p.L.YX=function(o,P){var w=P.length,x=0;for(var I=0;I<w;I++){var z=o[I];P[x++]=z;P[x++]=z;P[x++]=z;
P[x++]=255}if(P[0]==255)P[0]--;else P[0]++};e.p.L.CL=function(o,P){var w=P.length,x=0;for(var I=0;I<w;
I++){var z=o[x++],S=o[x++],k=o[x++];x++;if(S>z)z=S;if(k>z)z=k;P[I]=z}};e.p.L.LF=function(o,P){if(P==null)P=o;
var w=o.length;for(var x=0;x<w;x+=4){var z=o[x],S=o[x+1],k=o[x+2],f=z,C=0,H=z,i;if(S<=z){z=S}else{C=1;
H=S}if(k<=H){if(z>k){z=k}}else{C=2;H=k}var b=H-z;if(b!=0){if(C==0){i=~~(43*(S-k)/b)}else if(C==1){i=~~(43*(k+2*b-f)/b)}else{i=43*(f+4*b-S)/b}if(i<0){i=255&i-1}P[x]=i;
P[x+1]=~~(255*b/H)}else{P[x]=b;P[x+1]=b}P[x+2]=H;P[x+3]=o[x+3]}};e.p.L.FH=function(o,P){if(P==null)P=o;
var w=o.length;for(var x=0;x<w;x+=4){var z=o[x],S=o[x+1],k=o[x+2];if(S){if(z==255)z=0;var f=~~(6*z/255),C=~~(-255*f+6*z);
if(f==0){P[x]=k;P[x+1]=~~(k*(255-S*(255-C)/255)/255);P[x+2]=~~(k*(255-S)/255)}else if(f==1){P[x]=~~(k*(255-S*C/255)/255);
P[x+1]=k;P[x+2]=~~(k*(255-S)/255)}else if(f==2){P[x]=~~(k*(255-S)/255);P[x+1]=k;P[x+2]=~~(k*(255-S*(255-C)/255)/255)}else if(f==3){P[x]=~~(k*(255-S)/255);
P[x+1]=~~(k*(255-S*C/255)/255);P[x+2]=k}else if(f==4){P[x]=~~(k*(255-S*(255-C)/255)/255);P[x+1]=~~(k*(255-S)/255);
P[x+2]=k}else{P[x]=k;P[x+1]=~~(k*(255-S)/255);P[x+2]=~~(k*(255-S*C/255)/255)}}else{P[x]=k;P[x+1]=k;P[x+2]=k}P[x+3]=o[x+3]}};
e.p.L.WH=function(o,P,w,x){if(w==null)w=2;if(x==null)x=4;var z=o.length;for(var I=0;I<z;I++){P[w]=o[I];
w+=x}};e.p.L.r0=function(o,P,w,x){if(w==null)w=2;if(x==null)x=4;var z=P.length;for(var I=0;I<z;I++){P[I]=o[w];
w+=x}};e.p.L.a8Q=function(o,P,w,x){if(x==null)x=1;var z=P.length,S=0,k;for(var S=0;S<z;S++){k=P[S];if(k){k*=x;
w[S]=~~((k*o[S]+(255-k)*w[S])/255)}}};e.p.L.Q0=function(o,P,w,x){if(x==null)x=w;var z=P.length,S=0,k,f;
for(var I=0;I<z;I++){k=P[I];if(k){f=255-k;x[S]=~~((k*o[S]+f*w[S])/255);x[S+1]=~~((k*o[S+1]+f*w[S+1])/255);
x[S+2]=~~((k*o[S+2]+f*w[S+2])/255)}x[S+3]=o[S+3];S+=4}};e.p.L.mv=function(o,P,w,x){var z=~~(x*255),S=w.length;
for(var I=0;I<S;I++){w[I]=((255-z*(255-o[I])/255)*P[I]+o[I]*(z*(255-o[I])/255))/255}};e.p.L.Jp=function(o,P,w,x){var z=~~(x*255),S=w.length;
for(var I=0;I<S;I++){w[I]=((255-z*o[I]/255)*P[I]+o[I]*(z*o[I]/255))/255}};e.p.L.X4=function(o,P,w){var x=P.length;
for(var I=0;I<x;I++){P[I]=~~(o[I]*w+.5)+(P[I]-~~(P[I]*w+.5))}};e.p.L.sub=function(o,P){var w=o.length;
for(var I=0;I<w;I++){P[I]=Math.max(o[I]-P[I],0)}};e.p.L.add=function(o,P){var w=o.length;for(var I=0;
I<w;I++){P[I]=Math.min(o[I]+P[I],255)}};e.p.L.az0=function(o,P){var w=o.length;for(var I=0;I<w;I++){P[I]=o[I]+P[I]}};
e.p.L.lT=function(o,P){var w=o.length;for(var I=0;I<w;I++){P[I]=o[I]+P[I]>>1}};e.p.L.L9=function(o,P){var w=o.length;
for(var I=0;I<w;I++){P[I]=o[I]}};e.p.L.cq=function(o,P){var w=o.length;for(var I=0;I<w;I++){o[I]=P[o[I]]}};
e.p.L.aoh=function(o,P){var w=e.p.L.Ib;for(var I=0;I<w;I+=4){var x=o[I],z=o[I+1],S=o[I+2],k=x;if(z>x)k=z;
if(S>x)k=S;var f=P[k];if(f){o[I]=~~(f*x/k);o[I+1]=~~(f*z/k);o[I+2]=~~(f*S/k)}else{o[I]=f;o[I+1]=f;o[I+2]=f}}};
e.p.L.mV=function(o,P){for(var I=0,w=o.length;I<w;I++){o[I]=Math.min(255,~~(.5+o[I]*P))}};e.p.L.nx=function(o,P){for(var I=0,w=o.length;
I<w;I++){o[I]=255-Math.min(255,~~(.5+(255-o[I])*P))}};e.p.L.Sd=function(o){var P=o.length;for(var I=0;
I<P;I++){o[I]=255-o[I]}};e.p.L.tl=function(o,P,w,x){if(w==null)w=0;if(x==null)x=255;for(var I=0,z=o.length;
I<z;I++){o[I]=o[I]>=P?x:w}};e.p.L.iF=function(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]};e.p.L.adz=function(o,P,w,x){if(w==null)w=255;
if(x==null)x=4278190335;var z=e.p.L,S=z.Ib,k=z.iF(w),f=z.iF(x);for(var I=0;I<S;I+=4){var C=~~((o[I]+o[I+1]+o[I+2]+2)/3);
if(C>=P){o[I]=k[0];o[I+1]=k[1];o[I+2]=k[2]}else{o[I]=f[0];o[I+1]=f[1];o[I+2]=f[2]}}};e.p.L.eR=function(o,P){var w=e.p.L,x=w.Ib,z=w.iF(P);
for(var I=0;I<x;){o[I++]=z[0];o[I++]=z[1];o[I++]=z[2];o[I++]=z[3]}};e.p.L.aEy=function(o,P){var w=o.length;
for(var I=0;I<w;){o[I++]=P}};e.p.L.alT=function(o,P){o=o>5?(100-Math.max(4,o))/100:.95;P=P!=100?Math.max(4,P)/100:.9995;
var w=new Uint8Array(256),x=P>.5?.5/(1-P):P*2,z=~~(x*256),S=~~((.5-o*x)*256)<<8;for(var I=0;I<256;I++){w[I]=e.p.L.vB(S>>8);
S+=z}return w};e.p.L.fu=function(o){for(var I=0,P=e.p.L,w=o.length;I<w;I++){o[I]=~~(P.random()*256)}};
e.p.L.ant=function(o,P){for(var I=0,w=e.p.L,x=o.length;I<x;I++){o[I]=w.random()<P?255:0}};e.p.L.ayl=function(o,P,w){for(var I=0,x=e.p.L,z=o.length;
I<z;I++){if(x.random()<P)o[I]=w}};e.p.L.ab$=function(o,P,w){var x=o.length;for(var I=0;I<x;I++){o[I]=e.p.L.vB(o[I]+w[P[I]])}};
e.p.L.Ep=function(o){var P=new Uint32Array(256);for(var I=0,w=o.length;I<w;I++)P[o[I]]++;return P};e.p.L.aii=function(o,P){var w=0,x=0,z=new Uint32Array(256),S=new Float32Array(256);
for(var I=0,k=o.length;I<k;I++){var f=o[I],C=P[I];if(C==255){z[f]++;w++}else if(C>0){C/=255;x+=C;S[f]+=C;
if(x>=1){x--;w++}if(S[f]>=1){S[f]--;z[f]++}}}return[w,z]};e.p.L.nl=function(o,P,w,x){var self=e.p.L,z,S,b=0,M=256;
if(x){var k=self.aii(w,x);z=k[1];S=k[0]/100}else{z=self.Ep(w);S=self.Za/100}var f=new Uint8Array(256),C=S*o,H=S*P,i=-1;
do{b+=z[++i]}while(b<=C);b=0;do{b+=z[--M]}while(b<=H);if(M-i<=0)M=i+1;if(M>255){M=255;i=254}var T=255/(M-i),O=-i;
for(var I=0;I<256;I++){f[I]=self.vB(T*O+.5);O++}return f};e.p.L.SB=function(o,P,w,x){var z=e.p.L;z.cq(o,z.nl(P,w,o,x))};
e.p.L.aAI=function(o,P){var self=e.p.L,w=self.Ep(o),x=self.Za*P/100,z=0,S=-1;do{z+=w[++S]}while(z<=x);
return S};e.p.L._B=function(o,P){var w=0,self=e.p.L,x=self.V,z=self.Y,S=1/Math.PI,k=S*255;for(var I=0;
I<z;I++){var f=I+1;if(f==z)f--;var C=I*x,H=~~((1-(I+1)/z)*255);for(var b=0;b<x;b++){var i=b+1;if(i==x)i--;
var M=o[C+b],T=o[C+i],O=o[f*x+b];if(M-O==0){P[w++]=H}else{var Y=M-O+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*k+.5);
if(Y<0)Y+=255}P[w++]=Y}if(M-T==0){P[w++]=~~((1-(b+1)/x)*255)}else{var Y=M-T+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*k+.5);
if(Y<0)Y+=255}P[w++]=Y}}}};e.p.L.ajG=function(o,P){var self=e.p.L,w=self.V,x=self.Y,z=0;for(var I=0;
I<x;I++){for(var S=0;S<w;S++){o[z]=~~(I*P+.5)+~~(o[z]*(1-P)+.5);z++;o[z]=~~(S*P+.5)+~~(o[z]*(1-P)+.5);
z++}}};e.p.L.awo=function(o,P,w,x){var self=e.p.L,z=self.V,S=self.Y,k=0;for(var I=0;I<S;I++){for(var f=0;
f<z;f++){P[k]=~~(P[k]*(1-w)+.5)+~~(o[k]*x+.5);k++;P[k]=~~(P[k]*(1-w)+.5)+~~(o[k]*x+.5);k++}}};e.p.L.a4N=function(o,P,w){var self=e.p.L,x=self.V,z=self.Y,S=0,k=0;
for(var I=0;I<z;I++){for(var f=0;f<x;f++){var C=o[S++],H=o[S++];P[k++]=H%w>=2&&C%w>=2?255:0}}};e.p.L.asO=function(o,P,w,x,z,S,k){var self=e.p.L,f=self.V,C=self.Y,H=0,b=0,i=0;
for(var I=0;I<C;I++){var M=I%o<w||C-w<=I;for(var T=0;T<f;T++){k[H++]=M||T%P<x||f-x<=T?z:S}}};e.p.L.qa=function(o,P,w,x){var self=e.p.L,z=self.V,S=self.Y,k=cF.qa(P),f=k[1],C=k[0].q,H=k[0]._,b=100/w;
for(var i=0;i<S;i++)for(var M=0;M<z;M++){var T=e.W.cC(M*b,i*b,f,C,H);o[i*z+M]=x?255-T:T}};e.p.L.vB=function(o){return~~Math.min(255,Math.max(0,o))};
e.p.L.a7P=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];e.p.L.a27=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
e.p.L.qN=function(o){return o>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][o-41]:o/40};e.p.L.aoR=function(o,P,w){var self=e.p.L,x=self.V,z=self.Y,S=w,k=w>>1,f=k-1,C=S*S,H=0;
for(var I=0;I<z;I++){var b=0,i=0,M=0,T=~~(I/w)*w,O=0;for(var Y=0;Y<S;Y++){for(var U=0;U<S;U++){var W=O+U,t=T+Y;
if(W>=x)W=x-1;if(t>=z)t=z-1;b+=o[t*x+W<<2];i+=o[(t*x+W<<2)+1];M+=o[(t*x+W<<2)+2]}}var _=~~(b/C),n=~~(i/C),y=~~(M/C);
P[H]=_;P[H+1]=n;P[H+2]=y;P[H+3]=o[H+3];H+=4;for(var F=1;F<x;F++){for(var Y=0;Y<S;Y++){var a=F-1,V=a+S,t=T+Y;
if(V>=x)V=x-1;if(t>=z)t=z-1;var D=t*x,l=D+V<<2,Q=D+a<<2;b+=o[l]-o[Q];i+=o[l+1]-o[Q+1];M+=o[l+2]-o[Q+2]}if(F%w==0){_=~~(b/C);
n=~~(i/C);y=~~(M/C)}P[H]=_;P[H+1]=n;P[H+2]=y;P[H+3]=o[H+3];H+=4}}};e.p.L.aly=function(o,P,w,x,z){var self=e.p.L,S=self.V,k=self.Y,f=0,C=0,H=0,b=0;
for(var I=b;I<k+b;I++){var i=I%P>=x||I<x||k+b-x<=I;for(var M=0;M<S;M++){o[f++]=i&&(M%w>=z||M<z||S-z<=M)?255:0}}};
e.p.L.ar_=function(o,P,w){var x=function(H,b){return b<=H?H/b&1?b-H%b:H%b:H},z=[function(f,C){return x(f,255)/255},function(f,C){return(255+x(f,255)-x(C,255))/510},function(f,C){return(255-x(C,255))/255},function(f,C){return(510-x(f,255)-x(C,255))/510},function(f,C){return(255-x(f,255))/255},function(f,C){return(255-x(f,255)+x(C,255))/510},function(f,C){return x(C,255)/255},function(f,C){return(x(f,255)+x(C,255))/510}][w],S=0,k=0;
for(var I=0;I<e.p.L.Za;I++){var f=o[S++],C=o[S++];P[k++]=~~(255*z(f,C))}};e.p.aBE=function(){var o=[],P=new Uint8Array(512),w=new Float32Array(512),x=new Float32Array(512),z=[1,-1,1,-1,1,-1,0,0],S=[1,1,-1,-1,0,0,1,-1],k=0,f,O=0;
for(;k<256;k++)o[k]=k;while(k!=0){k--;f=Math.floor(Math.random()*k);o[f]^=o[k]^(o[k]=o[f])}function C(C){C=Math.floor(C*65536);
if(C<256){C|=C<<8}for(var I=0;I<256;I++){var W=I+256,t=o[I]^(I&1?C:C>>8)&255;P[I]=P[W]=t;t=t%8;w[I]=w[W]=z[t];
x[I]=x[W]=S[t]}}function H(W){return W*W*W*(W*(W*6-15)+10)}function b(W,t,_){return(1-_)*W+_*t}function i(W,t){return W&t}function M(W,t){return W%t}function T(W,t,_,n,y){var F=Math.floor(W),a=Math.floor(t),k,V,D,l,Q,m;
W=W-F;t=t-a;F=F&255;a=a&255;k=F+P[a];l=w[k]*W+x[k]*t;k=F+P[y(a+1,n)];D=w[k]*W+x[k]*(t-1);k=y(F+1,_)+P[a];
Q=w[k]*(W-1)+x[k]*t;k=y(F+1,_)+P[y(a+1,n)];m=w[k]*(W-1)+x[k]*(t-1);V=H(W);return b(b(l,Q,V),b(D,m,V),H(t))}function Y(W,k,t){W[k]=t}function U(W,t,_,n,y){var F=Math.min(Math.min(t,256),Math.min(256,_)),a=F==256||F<8,V=8,D=new Uint32Array(V),l=new Uint32Array(V),Q=new Float32Array(V),m=new Float32Array(V),R=1,$=1,p=a?i:M,c=Y,B;
for(var I=0;I<V;I++){B=$*1/F;if(a){l[I]=(1<<Math.ceil(Math.log2(_*B)))-1;D[I]=(1<<Math.ceil(Math.log2(t*B)))-1}else{l[I]=B*_;
D[I]=B*t}Q[I]=R;m[I]=B;R*=.5;$=$<<1}C(Math.random());for(var Z=0,k=0;Z<_;Z++){for(var v=0;v<t;v++){var E=0;
for(var g=0;g<V;g++){B=m[g];E+=T(v*B,Z*B,D[g],l[g],p)*Q[g]}c(n,k++,Math.round(Math.max(0,255*Math.min(1,.5+E*.5))))}}}return U}();
e.p.a0r=function(){function o(P,w,x,z){var S=new Uint8Array(P.length>>>2),k=new Uint8Array(P.length>>>2),f=new Uint8Array(P.length);
for(var I=0;I<P.length;I+=4){var C=P[I+0]*.3+P[I+1]*.59+P[I+2]*.11;k[I>>>2]=C;f[I]=P[I];f[I+1]=P[I+1];
f[I+2]=P[I+2]}e.qY.axu(k,S,w,x);e.qY.jn(P,z,w,x,e.qY.we[1],0,!0);for(var I=0;I<P.length;I+=4){f[I+3]=255-S[I>>>2]}for(var I=0,H=P.length;
I<H;I+=4){var b=f[I+3]/255;z[I]=f[I]*b+z[I]*(1-b);z[I+1]=f[I+1]*b+z[I+1]*(1-b);z[I+2]=f[I+2]*b+z[I+2]*(1-b)}}return o}();
e.p.aho=function(){function o(S,k,f,C,H){var b=new Uint32Array(S.buffer),i=0;for(var I=0;I<f;I++){for(var M=0;
M<k;M++,i+=4){var T=b[I*k+M],O=T&255,Y=T>>>8&255,U=T>>>16&255,W=T>>>24&255,t=~~(Math.random()*8),_=t%3,n=0,y=0;
if(t<3){y--}else if(t>4){y++}if(_==0){n--}else if(_==2){n++}var F=M+n,a=I+y;if(F<0)F=0;else if(F>k-1)F=k-1;
if(a<0)a=0;else if(a>f-1)a=f-1;var T=b[a*k+F],V=T&255,D=T>>>8&255,l=T>>>16&255,Q=T>>>24&255;C[i]=H(O,V);
C[i+1]=H(Y,D);C[i+2]=H(U,l);C[i+3]=H(W,Q)}}}function P(S,k){return k}function w(S,k){return S>k?k:S}function x(S,k){return S<k?k:S}function z(S,k,f,C,H){var b=H[0];
if(b==0)o(S,k,f,C,P);else if(b==1)o(S,k,f,C,w);else if(b==2)o(S,k,f,C,x);else if(b==3){console.error("Not implemented")}else console.error("Mew mew")}return z}();
e.p.a9W=function(){function o(P,w,x,z,S){var k=S&&S[0]?S[0]:4,f,C,H,b,i,M,T;for(var I=0;I<x;I++){var O=Math.max(I-k,0),Y=Math.min(I+k,x-1);
for(var U=0;U<w;U++){var W=Math.max(U-k,0),t=Math.min(U+k,w-1);f=O*w+W<<2;b=P[f];i=P[f+1];M=P[f+2];T=P[f+3];
f=O*w+t<<2;b+=P[f];i+=P[f+1];M+=P[f+2];T+=P[f+3];f=Y*w+W<<2;b+=P[f];i+=P[f+1];M+=P[f+2];T+=P[f+3];f=Y*w+t<<2;
b+=P[f];i+=P[f+1];M+=P[f+2];T+=P[f+3];f=I*w+U<<2;z[f]=b+2>>>2;z[f+1]=i+2>>>2;z[f+2]=M+2>>>2;z[f+3]=T+2>>>2}}}return o}();
e.p.a9o=function(){function o(P,w,x,z){var S=new Uint8Array(P.length),k=new Uint8Array(P.length>>>2),f=new Uint8Array(P.length>>>2);
e.qY.jn(P,S,w,x,e.qY.we[2],0,!0);for(var I=0;I<P.length;I+=4){var C=S[I+0]*.3+S[I+1]*.59+S[I+2]*.11;
k[I>>>2]=C;z[I+0]=P[I+0];z[I+1]=P[I+1];z[I+2]=P[I+2];z[I+3]=P[I+3]}e.qY.axu(k,f,w,x);for(var I=0;I<P.length;
I+=4){S[I+3]=~~(Math.max(0,255-f[I>>>2]-50)*(255/205))}for(var I=0,H=P.length;I<H;I+=4){var b=S[I+3]/255;
z[I]=S[I]*b+z[I]*(1-b);z[I+1]=S[I+1]*b+z[I+1]*(1-b);z[I+2]=S[I+2]*b+z[I+2]*(1-b)}}return o}();e.p.hq=function(){function o(t,_){return t[_]+t[_+1]+t[_+2]+t[_+3]}function P(t,_){return t[_]+t[_+1]+t[_+2]+2*t[_+3]}function w(t,_,n,y){t[_]=n[y];
t[_+1]=n[y+1];t[_+2]=n[y+2];t[_+3]=n[y+3]}function x(t,_,n){t[_]=t[n];t[_+1]=t[n+1];t[_+2]=t[n+2];t[_+3]=t[n+3]}function z(t,_,n){t[n]=_[n];
t[n+1]=_[n+1];t[n+2]=_[n+2];t[n+3]=255-_[n+3]}function S(t){for(var I=0,_=t.length;I<_;I+=4){t[I+3]=255-t[I+3]}}function k(){var t=Math.random();
if(t>.5)return 0;if(t>.25)return 1;if(t>.1)return 2;if(t>.02143)return 3;if(t>.00445)return 4;if(t>65e-5)return 5;
if(t>415e-6)return 6;if(t>55e-6)return 7;return 8}function f(t,_,n,y,F,a){t[_]=n[y]+(F[a]-n[y]>>1);t[_+1]=n[y+1]+(F[a+1]-n[y+1]>>1);
t[_+2]=n[y+2]+(F[a+2]-n[y+2]>>1);t[_+3]=n[y+3]+(F[a+3]-n[y+3]>>1)}function C(t,_,n,y,F,a){t[_]=F[a]+n[y]>>1;
t[_+1]=F[a+1]+n[y+1]>>1;t[_+2]=F[a+2]+n[y+2]>>1;t[_+3]=F[a+3]+n[y+3]>>1}function H(t,_,n,y,F,a,V,D,l){var Q=0,m=0,R=0,I,$=F[a],p;
f(D,0,t,_,t,n);for(I=0;I<$;I++){f(D,(I+1)*4,D,I*4,t,n)}m=($+1)*4;R+=$;a--;w(t,_,D,m-4);y[a]=o(t,_);_-=l;
while(a>0&&y[a-1]<y[a]){p=D;D=V;V=p;Q=m;C(D,0,t,_-l,V,0);for(I=4;I<Q;I+=4){C(D,I,D,I-4,V,I)}$=F[a];for(I=R;
I<$;I++){f(D,m,D,m-4,V,Q-4);m+=4;R++}a--;w(t,_,D,m-4);y[a]=o(t,_);_-=l}}function b(t,_,n,y,F){var a=_*4,V=0,D,l,Q=new Uint8Array(_+1),m=new Uint8Array(10*4),R=new Uint8Array(10*4);
for(var I=0;I<n;I++){z(y,t,V);F[0]=o(y,V);Q[0]=k();D=V;V+=4;for(var $=1;$<_;$++){z(y,t,V);F[$]=o(y,V);
l=k();Q[$]=l;if(F[$-1]<F[$]&&l>0){H(y,V-4,V,F,Q,$,m,R,4)}V+=4}F[_]=F[0];Q[_]=Q[0];if(F[_-1]<F[_]&&l>0){H(y,V,D,F,Q,_,m,R,4)}}S(y)}function i(){var t=Math.random();
if(t>.659755)return 0;if(t>.1625)return 10;if(t>.06)return 20;if(t>.01)return 30;if(t>.0035)return 40;
if(t>65e-5)return 50;if(t>415e-6)return 60;if(t>55e-6)return 70;return 80}function M(t,_,n,y,F,a){var V=i()+1,D=y[F];
for(var I=1;I<V;I++){if(0>F)break;if(y[F-I]<D){x(t,_,n)}else{break}_+=a}}function T(t,_,n,y,F){var a=_*4,V=0;
for(var I=0;I<n;I++){z(y,t,V);F[0]=o(y,V);V+=4;for(var D=1;D<_;D++){z(y,t,V);F[D]=o(t,V);if(F[D-1]<F[D]){M(y,V-4,V,F,D,-4)}V+=4}F[_]=F[0];
if(F[D-1]<F[D]){M(y,V-4,V-a,F,D,-4)}}S(y)}function O(t,_,n,y,F,a){var V=1,D,l,Q=new Uint8Array(4),m,R=_;
while(Math.random()<1/V){R=_;if(y<=1)break;D=n[y];l=n[y-1];if(D<=l)break;w(Q,0,t,R-a);m=!0;for(var I=y;
I<F;I++){if(l>n[I]){w(t,R-a,Q,0);n[I-1]=l;m=!1;break}w(t,R-a,t,R);n[I-1]=n[I];R+=a}if(m){w(t,R-a,Q,0);
n[F-1]=l}V++;y--;_-=a}}function Y(t,_,n,y,F){var a=0,V=0,D=_*4;for(var I=0;I<n;I++){V=a;for(var l=0;
l<_;l++){z(y,t,a);F[l]=P(y,a);a+=4}a=V;for(var l=1;l<_;l++){if(F[l-1]<F[l]&&Math.random()<.66){O(y,a+4,F,l,_,4)}a+=4}a+=4}S(y)}function U(t,_,n,y,F){var a=F[0],V=F[1],D=new Uint16Array(_+1),l=t,Q=y,m;
if(V){m=y.slice(0);W(t,y,_,n);l=y;Q=m}if(a==0)b(l,_,n,Q,D);else if(a==1)T(l,_,n,Q,D);else if(a==2)Y(l,_,n,Q,D);
if(V){W(m,y,_,n)}}function W(t,_,n,y){for(var F=0;F<y;F++)for(var a=0;a<n;a++){var V=F*n+a<<2,D=F*n+(n-1-a)<<2;
_[D]=t[V];_[D+1]=t[V+1];_[D+2]=t[V+2];_[D+3]=t[V+3]}}return U}();e.p.ahM=function(o,P,w,x,z){var S=e.p.L,k=1,U=0,_=0;
S.Ir(P,w);S.Zs(z[2]);var f=3<<13,C=Math.PI/2.43,H=C/256,b=Math.PI*2/256;function i(){var a=S.random()*256,V=S.random()*256;
return k*~~(Math.tan(C-a*H)*325*Math.cos(V*b)*256)+f>>16}k=z[0];var M=z[1],T=(M+2)/2,O=S.random()*255,Y=S.Jv(1);
for(var I=0;I<w;I++){var W=S.vB(i()+O);for(var t=0;t<P;t++){W=S.vB(i()+W);Y[U++]=W}}U=P;for(var I=1;
I<w;I++){var n=S.vB(i()+Y[_++]);Y[U++]=n;for(var t=1;t<P;t++){var y=_+1;if(t+1==P){y--}var F=(T+n+Y[y]+Y[_]*M)/(M+2);
n=S.vB(i()+F);Y[U++]=n;_++}}S.YX(Y,x)};var a6=function(){function o(A){A=A^61^A>>>16;A=A+(A<<3);A=A^A>>>4;
A=A*668265261;A=A^A>>>15;return A}var P=function(){var P=function(A){if(A){this.F=A}this.F=o(this.F);
return(this.F&16777215)*(1/16777215)};return P};function w(A,K){if(K==null){K=[0,0]}return Math.sqrt((K[0]-A[0])*(K[0]-A[0])+(K[1]-A[1])*(K[1]-A[1]))}function x(A,K){if(K==null){K=[0,0]}return[-(K[1]-A[1])/w(A,K),(K[0]-A[0])/w(A,K)]}function z(A){return[Math.cos(A),Math.sin(A)]}function S(A){var K=w(A,[0,0]),s=[A[0]/K,A[1]/K],r=Math.atan(s[1]/s[0]);
if(s[0]>0&&s[1]<0){r+=2*Math.PI}else if(s[0]<0&&s[1]<0){r+=Math.PI}else if(s[0]<0&&s[1]>0){r+=Math.PI}return r}function k(A){var k=0;
for(var I=1;I<A.length/2;++I){k+=w([A[2*I],A[2*I+1]],[A[2*(I-1)],A[2*(I-1)+1]])}return k}function f(A,K,s){var r=new Float32Array(A.length),h=1/(A.length/2),jC=y(s);
for(var I=0;I<A.length/2;++I){var d=I*h,q=d/2+.5,hc=1,dk=0;if(s.shape==2){hc=1/(2*q)}if(s.shape==3){q=(1-d)/2+.5;
hc=1/(2*q)+.5}if(s.shape==4){q=d;hc=Math.sin(3/2*Math.PI*q)/4+1}if(s.shape==5){q=(d-.5)*6;hc=(-Math.atan(q)/1.25+1)/5+.6-.2*d}var c6=[null,null];
if(I==0){c6=x([A[2*I],A[2*I+1]],[A[2*(I+1)],A[2*(I+1)+1]])}else if(I==A.length/2-1){c6=x([A[2*(I-1)],A[2*(I-1)+1]],[A[2*I],A[2*I+1]])}else{c6=x([A[2*(I-1)],A[2*(I-1)+1]],[A[2*(I+1)],A[2*(I+1)+1]])}r[2*I]=A[2*I]+(hc*K+dk)*c6[0];
r[2*I+1]=A[2*I+1]+(hc*K+dk)*c6[1];if(s.style==2){r[2*I]+=F(2*I/r.length,jC,s)}}return r}function C(A,K,s){var r=new Float32Array(A.length),h=1/(A.length/2);
for(var I=0;I<A.length/2;++I){var jC=I*h,d=[null,null],q=.6*s.Ru*D(jC,K.agr)*s.CI/100,hc=.6*s.Ru*D(jC,K.anZ)*s.CI/100,dk=K.afs*q+(1-K.afs)*hc;
if(I==0){d=x([A[2*I],A[2*I+1]],[A[2*(I+1)],A[2*(I+1)+1]])}else if(I==A.length/2-1){d=x([A[2*(I-1)],A[2*(I-1)+1]],[A[2*I],A[2*I+1]])}else{d=x([A[2*(I-1)],A[2*(I-1)+1]],[A[2*(I+1)],A[2*(I+1)+1]])}r[2*I]=A[2*I]+dk*d[0];
r[2*I+1]=A[2*I+1]+dk*d[1]}return r}function H(A){if(A.i4==1){return[.150684932,.205479452,.465753425,.178082192]}else if(A.i4==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var K=[],s=1/(R(A)-1);
for(var I=0;I<R(A)-1;++I){K.push(s)}return K}}function b(A,K,s){var r=[],h=K-A,jC=A;for(var I=0;I<s.length-1;
++I){r.push(jC+s[I]*h);jC=r[I]}return r}function i(A,K,s,r){var h=new Float32Array(s.length),jC=0,d={shape:Math.floor(r.random()*2.99),a8P:r.random()*.1+.15};
for(var I=0;I<s.length-1;++I){var q=jC+s[I];h[I]=((1-q)*A+q*K)*W(r,q,d);jC=q}return h}function M(A,K,s,r){var h=Q(r),jC=r.random(),d=jC*20+(1-jC)*26,q=new Float32Array(s.length),hc=0;
for(var I=0;I<s.length-1;++I){var dk=hc+s[I];q[I]=(1-dk)*A+dk*K+h/d*(2/3*Math.sin(Math.PI*dk)+1/3*Math.sqrt(Math.sin(Math.PI*dk)));
hc=dk}return q}function T(A,K,s){var r=[];for(var I=0;I<K.length-1;++I){r.push(K[I].slice());var h=I*(R(s)-1),jC=(I+1)*(R(s)-1),d=A[jC]-A[h];
for(var q=h+1;q<jC;++q){var hc=y(s),dk=new Float32Array(K[0].length),c6=(A[q]-A[h])/d;for(var e3=0;e3<K[0].length/2;
++e3){dk[2*e3]=(1-c6)*K[I][2*e3]+c6*K[I+1][2*e3];dk[2*e3+1]=(1-c6)*K[I][2*e3+1]+c6*K[I+1][2*e3+1];if(s.style==2){dk[2*e3]+=F(2*e3/K[0].length,hc,s)}}r.push(dk)}}r.push(K[K.length-1]);
return r}function O(A,K,s){var r=new Array(K.length),h=E(A),d=null;for(var I=0;I<K.length;++I){r[I]=f(h,(K[I]-.5)*s.CI,s)}var jC=1+.05*s.apY*Q(s)/Q({i4:1});
for(var I=0;I<K.length;++I){if(K[I]==0){d=I}}for(var I=0;I<K.length;++I){var q=(s.random()-.5)*2,hc=Math.round(s.random()*9+1),dk=new Float32Array(hc*2+2);
for(var c6=0;c6<=hc;++c6){dk[2*c6]=r[I][0]-(r[I][2*c6]-r[I][0]);dk[2*c6+1]=r[I][1]-(r[I][2*c6+1]-r[I][1])}if(I==d){q*=.1}for(var c6=(r[I].length-1)/2;
c6>hc;--c6){r[I][2*c6]=(1-q)*r[I][2*c6]+q*(r[I][2*(c6-hc)]+jC*(r[I][2*c6]-r[I][2*(c6-hc)]));r[I][2*c6+1]=(1-q)*r[I][2*c6+1]+q*(r[I][2*(c6-hc)+1]+jC*(r[I][2*c6+1]-r[I][2*(c6-hc)+1]))}for(var c6=hc-1;
c6>=0;--c6){r[I][2*c6]=(1-q)*r[I][2*c6]+q*(dk[2*(hc-c6)]+jC*(r[I][2*c6]-dk[2*(hc-c6)]));r[I][2*c6+1]=(1-q)*r[I][2*c6+1]+q*(dk[2*(hc-c6)+1]+jC*(r[I][2*c6+1]-dk[2*(hc-c6)+1]))}}var e3=V(K,s);
if(s.Ru>0){var ks=0;for(var I=0;I<K.length;++I){if(I==0){ks+=K[I]}else{ks+=Math.abs(K[I]-K[I-1])}var cH=ks-Math.floor(ks),bI=1;
if(cH==0){bI=0}r[I]=C(r[I],{agr:e3[Math.floor(ks)],anZ:e3[Math.floor(ks)+bI],afs:cH},s)}}return r}function Y(A,K){var s=c(K,A),r=B(K,A),h=[],jC=[],d=[],q=H(A);
for(var I=0;I<K.length-1;++I){h.push(K[I]);jC.push(s[I]);d.push(r[I]);var hc=b(K[I],K[I+1],q),dk=i(s[I],s[I+1],q,A),c6=M(r[I],r[I+1],q,A);
for(var e3=0;e3<hc.length;++e3){h.push(hc[e3]);jC.push(dk[e3]);d.push(c6[e3])}}h.push(K[K.length-1]);
jC.push(s[s.length-1]);d.push(r[r.length-1]);return{ab3:h,a6r:jC,Zm:d}}function U(A,K,s,r){var h=new Float32Array(2*r),jC=A.length/2,d=jC-K,q=s*d,hc=q/r;
for(var I=0;I<r;++I){var dk=Math.floor(K+I*hc),c6=Math.ceil(K+I*hc),s=K+I*hc,e3=c6-dk,ks=1,cH=0;if(e3!=0){ks=(c6-s)/e3;
cH=(s-dk)/e3}h[2*I]=ks*A[2*dk]+cH*A[2*c6];h[2*I+1]=ks*A[2*dk+1]+cH*A[2*c6+1]}return h}function W(A,K,s){var r=s.a8P,h=K*2*Math.PI,jC=h,d=0;
if(s.shape==0){d=(Math.sin(2*jC+Math.PI/2)+1)/2}else if(s.shape==1){d=(Math.sin(jC+Math.PI/2)+1)/2}else{d=(4*Math.sin(3/4*jC+Math.PI)+Math.sin(Math.PI/2+2*jC)-2*jC/Math.PI+6)/7}return Math.min(1,1-r+r*d)}function t(A,K,s,r){var h=[];
for(var I=0;I<A.length;++I){h.push(U(A[I],K[I],s[I],r))}return h}function _(A,K,s){var r=[];for(var I=0;
I<A.length;++I){var h=z(2*Math.PI*s.random()),jC=z(2*Math.PI*s.random()),d=s.C5*.5*$({i4:1})/$(s),q=d*s.CI/200,hc=d*K/500,dk=new Float32Array(A[0].length);
for(var c6=0;c6<A[0].length/2;++c6){var e3=z(2*Math.PI*s.random()),ks=2*c6/A[0].length;dk[2*c6]=A[I][2*c6]+q*(e3[0]+((1-ks)*h[0]+ks*jC[0]));
dk[2*c6+1]=A[I][2*c6+1]+hc*(e3[1]+((1-ks)*h[1]+ks*jC[1]))}r.push(dk)}return r}function n(A,K,s){var r=s.QN,h=2/r,jC=[1/10,1/30,1/40,1/45,1/100],d=jC[s.i4-1],q=4*(s.opacity/25*h*d)*(1-s.C5/150),e3=0,cH=0;
if(s.style==3){return q*.09}var hc=2.2*(A-.5),dk=hc*hc*hc*hc+.27+Math.max(0,(s.opacity-50)/15),c6=2*(Math.sin(3*Math.PI*K)/(Math.PI*K+2)+1.1)-K/2;
K=2*K;if(K<.41){var ks=2*Math.PI*K/.41;e3=(Math.sin(ks-Math.PI/2)+1)/4+.5}else if(K<.77){var ks=2*Math.PI*(K-.41)/.36;
e3=(Math.sin(ks-Math.PI/2)+1)/4+.5-ks/2/Math.PI*.5}else{var ks=2*Math.PI*(K-.77)/.23;e3=(Math.sin(ks-Math.PI/2)+1)/2*.12}e3*=3;
e3+=Math.max(0,(s.opacity-50)/15);if(s.type==6){cH=c6}else{cH=e3}return q*dk*cH}function y(A){return{l:A.random()*7/2+.5,yA:A.random()*2*Math.PI}}function F(A,K,s){return s.CI/300*R({i4:1})/R(s)*10*(Math.sin(K.l*2*Math.PI*A+K.yA)+10*(s.random()-.5))}function a(A){var K=Math.exp(-A.Ru/25);
return{l:A.random()*3/2+.5,yA:A.random()*2*Math.PI,cK:(A.random()-.5)*10*K}}function V(A,K){var s=Math.ceil(Z(A)),r=[];
for(var I=0;I<=s;++I){r.push(a(K))}return r}function D(A,K){var s=K.l*4*Math.PI*A+K.yA;return Math.exp(-1/2*Math.PI*A)*Math.cos(s)*Math.cos(s)*Math.cos(s)*Math.cos(s)*Math.cos(s)+A*K.cK-K.cK/4}function l(A,K,s,r,h){var jC=0,d=$(K)-1;
for(var I=0;I<d;++I){for(var q=0;q<A.length-1;q+=R(K)-1){for(var hc=I;hc<A[0].length/2-d;hc+=d){for(var dk=q;
dk<q+(R(K)-1);++dk){s[h+jC]=n(dk*(K.QN-1)/(A.length-1)%1,hc/A[0].length,K);var c6=0,e3=0;if(K.type==6&&dk!=0&&dk!=A.length-1){e3=(A[dk][2*(hc+1)+1]-A[dk][2*hc+1])/2;
c6=(A[dk][2*(hc+1)]-A[dk][2*hc])/2}r[8*h+8*jC]=A[dk][2*hc]+c6;r[8*h+8*jC+1]=A[dk][2*hc+1]+e3;r[8*h+8*jC+2]=A[dk][2*(hc+d)]+c6;
r[8*h+8*jC+3]=A[dk][2*(hc+d)+1]+e3;r[8*h+8*jC+4]=A[dk+1][2*(hc+d)];r[8*h+8*jC+5]=A[dk+1][2*(hc+d)+1];
r[8*h+8*jC+6]=A[dk+1][2*hc];r[8*h+8*jC+7]=A[dk+1][2*hc+1];++jC}}}}}function Q(A){var K=[100,300,500,700,1e3];
return K[A.i4-1]}function m(A){var K=[30,70,100,140,300];return K[A.i4-1]}function R(A){var K=[5,7,26,40,100];
return K[A.i4-1]}function $(A){if(A.i4==1){return 4}else if(A.i4==2){return 8}else{return Math.floor(m(A)/9)}}function p(A){var K=A.QN,s=new Float32Array(K),r=null;
for(var I=0;I<K;++I){s[I]=A.random()}if(A.QN<=3){s[0]=0;s[A.QN-1]=1}else{for(var I=0;I<2;++I){var h=Math.floor(A.random()*K);
if(r==null||r!=h){s[h]=I;r=h}else{s[h+1]=I}}}return s}function c(A,K){var s=[],r=.2,jC=0;for(var I=0;
I<A.length;++I){var h=K.random()*(1-r)+r;s.push(h)}var d=Math.min(3,K.QN);for(var I=0;I<A.length;++I){if(s[I]>.9){++jC}}while(jC<d){var q=Math.floor(K.random()*A.length);
if(s[q]<=.9){s[q]=.9+.1*K.random();++jC}}return s}function B(A,K){var s=Q(K),r=Q({i4:1}),h=[];for(var I=0;
I<A.length;++I){h.push(Math.max(1,(K.random()*10+2)*s/r))}return h}function Z(A){var K=0;for(var I=0;
I<A.length;++I){if(I==0){K+=A[I]}else{K+=Math.abs(A[I]-A[I-1])}}return K}function v(A,K){if(A.length/2-1==Q(K)){return A}var s=new Float32Array(2*(Q(K)+1)),r=(A.length-2)/(s.length-2);
for(var I=0;I<s.length/2;++I){var h=I*r,jC=Math.floor(h),d=Math.ceil(h),q=d-jC,hc=1,dk=0;if(q!=0){hc=(d-h)/q;
dk=(h-jC)/q}s[2*I]=hc*A[2*jC]+dk*A[2*d];s[2*I+1]=hc*A[2*jC+1]+dk*A[2*d+1]}return s}function E(A,K){var s=A.length/2,r=k(A),h=r/s,jC=!1,hc=0,dk=0,c6=1;
if(K){var d=Math.floor(r/K.avr),q=K.avr;if(K.adT&&A[0]==A[A.length-2]&&A[1]==A[A.length-1]){jC=!0;q=r/(d+1)}if(K.type==2&&!jC&&q*d+K.length>r){s=d+1}else{s=d+2}h=q}var e3=new Float32Array(s*2);
e3[0]=A[0];e3[1]=A[1];for(var I=1;I<s;++I){while(hc<=I*h){dk=hc;hc+=w([A[2*c6],A[2*c6+1]],[A[2*(c6-1)],A[2*(c6-1)+1]]);
++c6}var ks=1-(I*h-dk)/(hc-dk);e3[2*I]=(1-ks)*A[2*c6]+ks*A[2*(c6-1)];e3[2*I+1]=(1-ks)*A[2*c6+1]+ks*A[2*(c6-1)+1]}e3[e3.length-2]=A[A.length-2];
e3[e3.length-1]=A[A.length-1];return e3}function g(A,K){var s=E(A,K),r=[];for(var I=0;I<(s.length-2)/2;
++I){var h=[];h.push(s[2*I]);h.push(s[2*I+1]);var jC=w([s[2*(I+1)],s[2*(I+1)+1]],[s[2*I],s[2*I+1]]),d=[(s[2*(I+1)]-s[2*I])/jC,(s[2*(I+1)+1]-s[2*I+1])/jC],q=z((K.a6t-90)/360*2*Math.PI),hc=d;
if(K.type==3){hc=q}else if(K.type==4){hc=z(S(d)+S(q))}else if(K.type==5){hc=z(((K.random()-.5)*K.a6t-90)/360*2*Math.PI)}var dk=K.length;
if(K.avS){dk=2*K.random()*K.length}h.push(s[2*I]+hc[0]*dk);h.push(s[2*I+1]+hc[1]*dk);r.push(h)}return r}function u(A){if(A.aeE){A.M$=100*Math.random()}else{A.M$=A.alO}A.random=new P;
A.random(A.M$);if(A.type==6){A.QN=2;A.shape=5;A.apY=0}}function j(A,K){A=v(A,K);var s=[A],dk=0;if(K.type>=2&&K.type<6){s=g(A,K)}var r=$(K)-1,h=m(K)-r,jC=(K.QN-1)*(R(K)-1),d=s.length*h*jC,q=new Float32Array(d),hc=new Float32Array(8*d);
for(var I=0;I<s.length;++I){for(var c6=0;c6<1e4;++c6){K.M$=o(K.M$)}K.random(K.M$);var A=v(s[I],K),e3=p(K),ks=Z(e3),cH=O(A,e3,K),bI=Y(K,e3),aR=T(bI.ab3,cH,K);
aR=t(aR,bI.Zm,bI.a6r,m(K));if(K.C5>0){aR=_(aR,k(s[I]),K)}l(aR,K,q,hc,dk);dk+=h*jC}return[q,hc]}var a6=function(A){var K=performance.now(),s=A[0],r=A[1];
u(r);var h=[new Float32Array(0),new Float32Array(0)];for(var I=0;I<s.length;++I){r.M$=o(r.M$);var jC=j(s[I],r),d=new Float32Array(h[0].length+jC[0].length),q=new Float32Array(h[1].length+jC[1].length);
d.set(h[0]);d.set(jC[0],h[0].length);h[0]=d;q.set(h[1]);q.set(jC[1],h[1].length);h[1]=q}var hc=performance.now();
if(r.a5g){console.kG("Geometry: "+String(hc-K)+"ms")}return h};return a6}(),iy=function(){function o(z,S){var k=[],f=0,C=S.length,H=0,b=0,i=new fA,M=0,T=1e9;
for(b=0;b<C;b++){var O=b*8,Y=S[b];if(Y<T)T=Y;var U=z[O+0],W=z[O+1],t=z[O+2],_=z[O+3],n=z[O+4],y=z[O+5],F=z[O+6],a=z[O+7],V=Math.min(U,t,n,F),D=Math.max(U,t,n,F),l=Math.min(W,_,y,a),Q=Math.max(W,_,y,a),m=new fA(V,l,D-V,Q-l),R=m.It(i),$=M+Y;
if(b-H<10&&(b==H||R.c()*.8<m.c()+i.c())){i=R;M=$}else{k.push(b-H);H=b;i=m;M=Y;T=Y}}if(b!=H)k.push(b-H);
return k}function P(z,S,k,f,C,H){var b=document.createElement("canvas"),W=0,d=.8;b.width=S;b.height=k;
var i=b.getContext("2d"),M=C[0],T=C[1],O=new Float64Array(S*k),Y=Date.now(),U=o(T,M);for(var t=0;t<U.length;
t++){var _=W,n=W+U[t],a=1e9,D=1e9,c=0;W=n;var y=_*8,F=n*8,V=-a,l=-D;for(var Q=y;Q<F;Q+=2){var m=T[Q],R=T[Q+1];
if(m<a)a=m;if(m>V)V=m;if(R<D)D=R;if(R>l)l=R}a=Math.floor(a);V=Math.ceil(V);D=Math.floor(D);l=Math.ceil(l);
var $=V-a,p=l-D;for(var B=_;B<n;B++)c+=M[B];for(var Q=y;Q<F;Q+=8){var Z=M[Q>>>3],v=T[Q+0],E=T[Q+1],g=T[Q+2],u=T[Q+3],j=T[Q+4],A=T[Q+5],K=T[Q+6],s=T[Q+7];
i.fillStyle="rgba(0,0,0,"+Z/c+")";i.beginPath();i.moveTo(v,E);i.lineTo(g,u);i.lineTo(j,A);i.lineTo(K,s);
i.closePath();i.fill()}var r=i.getImageData(a,D,$,p).data;for(var R=0;R<p;R++)for(var m=0;m<$;m++){var I=R*$+m,h=r[I*4+3],jC=(D+R)*S+a+m;
if(h!=0)O[jC]+=h*c}i.clearRect(a,D,$,p)}var q=H[1].color,hc=Math.pow(q.$/255,d),dk=Math.pow(q.H/255,d),c6=Math.pow(q.b/255,d),e3=new fA(0,0,S,k),ks=e.U(S*k*4);
for(var R=0;R<k;R++)for(var m=0;m<S;m++){var I=R*S+m,B=I*4,M=O[I]*(1/255);ks[B]=x(hc,M);ks[B+1]=x(dk,M);
ks[B+2]=x(c6,M);ks[B+3]=Math.min(255,M*255)}e.C.Iv("norm",ks,e3,f,e3,e3,1)}var w=new Uint8Array(2e3);
for(var I=0;I<2e3;I++)w[I]=255*Math.min(1,Math.log(I/700+1));function x(z,S){return w[Math.min(1500,~~(z*S*1e3))]}return P}(),aj=function(){var o=new Float32Array(3e3),P=new Float32Array(3e3),w=new Float32Array(256),x=new Float32Array(3e3);
function z(){var T=o.length;o[0]=Math.log10(157647e-9);for(var I=1;I<T;++I)o[I]=Math.log10(I/T)}function S(){var T=P.length;
for(var I=0;I<T;++I)P[I]=Math.pow(10,20*(I-T/2)/T)}function k(){var T=w.length;for(var I=0;I<T;++I)w[I]=e.LK(I/255)}function f(){var T=x.length;
for(var I=0;I<T;++I)x[I]=255*e.Yd(I/(T-1))}function C(T,O){var Y=T.length>>>2;for(var I=0;I<Y;++I){var U=w[T[4*I]],W=w[T[4*I+1]],t=w[T[4*I+2]],_=.3811*U+.5783*W+.0402*t,n=.1967*U+.7244*W+.0782*t,y=.0241*U+.1288*W+.8444*t;
_=o[~~(_*o.length)];n=o[~~(n*o.length)];y=o[~~(y*o.length)];O[3*I]=(_+n+y)*.5773502692;O[3*I+1]=(_+n-2*y)*.4082482905;
O[3*I+2]=(_-n)*.7071067812}}function H(T,O){var Y=O.length>>>2,U=x.length-1;for(var I=0;I<Y;++I){var W=.5773502692*T[3*I],t=.4082482905*T[3*I+1],_=.7071067812*T[3*I+2],n=P[~~((W+t+_+10)*(3e3/20))],y=P[~~((W+t-_+10)*(3e3/20))],F=P[~~((W-2*t+10)*(3e3/20))],a=4.4679*n-3.5873*y+.1193*F,V=-1.2186*n+2.3809*y-.1624*F,D=.0497*n-.2439*y+1.2045*F;
O[4*I]=x[~~(U*Math.max(0,Math.min(1,a)))];O[4*I+1]=x[~~(U*Math.max(0,Math.min(1,V)))];O[4*I+2]=x[~~(U*Math.max(0,Math.min(1,D)))]}}function b(T){var O=0,Y=0,U=0;
for(var I=0;I<T.length;I+=3){O+=T[I];Y+=T[I+1];U+=T[I+2]}return[O/(T.length/3),Y/(T.length/3),U/(T.length/3)]}function i(T,b){var O=0,Y=0,U=0;
for(var I=0;I<T.length;I+=3){var W=T[I]-b[0],t=T[I+1]-b[1],_=T[I+2]-b[2];O+=W*W;Y+=t*t;U+=_*_}return[Math.sqrt(O/(T.length/3)),Math.sqrt(Y/(T.length/3)),Math.sqrt(U/(T.length/3))]}function M(T,O,Y,U,W,t){z();
S();k();f();var _=0,E,g;if(t[0]>100)_=-(t[0]-100)/100*.13;else if(t[0]>=75)_=(100-t[0])/25*.04;else if(t[0]>=50)_=.04+(75-t[0])/25*.04;
else if(t[0]>=25)_=.08+(50-t[0])/25*.08;else _=.16+(25-t[0])/25*.24;var n=(t[1]-100+100)/100,y=t[2]/100,F=t[3],a=new Float32Array(T.length*3/4),V=new Float32Array(U.length*3/4),D=Date.now();
C(T,a);C(U,V);var l=Date.now(),Q=b(a),m=b(V),R=Date.now(),$=i(a,Q),p=i(V,m),c=Date.now();m[0]*=Math.pow(10,_);
var B=[p[0]/$[0],p[1]/$[1],p[2]/$[2]],Z=a.length,v=1/-1.1546978950500488;for(var I=0;I<Z;I+=3){if(F){var u=Math.max(0,Math.min(1,a[I]*v));
u=1-Math.sqrt(u);E=u*m[1];g=u*m[2]}else{E=m[1];g=m[2]}a[I]=(a[I]-Q[0])*B[0]+m[0];a[I+1]=(a[I+1]-Q[1])*B[1]*n+E;
a[I+2]=(a[I+2]-Q[2])*B[2]*n+g}var j=Date.now();H(a,W);var A=W.length>>>2;for(var I=0;I<A;++I){W[4*I]=(1-y)*W[4*I]+y*T[4*I];
W[4*I+1]=(1-y)*W[4*I+1]+y*T[4*I+1];W[4*I+2]=(1-y)*W[4*I+2]+y*T[4*I+2];W[4*I+3]=255}}return M}(),b7=function(){function o(P,w,x,z,S){var k=[-1,-1,-1,-1],f=255,C=160,H,b=!1,i=new Array(4);
i[0]=new Array(w);i[1]=new Array(x);i[2]=new Array(w);i[3]=new Array(x);var M=new Array(2);M[0]=new Array(x);
M[1]=new Array(x);function T(p,c,B,Z,v){this.start=Z;this.axis=v;this.dir=p;this.end=-1;this.source=c;
this.c=B}function O(p,c,B,Z,v){if(B%2==0){if(!i[B][p])i[B][p]=new Array;i[B][p].push(new T(B,Z,v,c,p))}else{if(!i[B][c])i[B][c]=new Array;
i[B][c].push(new T(B,Z,v,p,c))}var E=Date.now()}function Y(I){var p=!1,c=0;if(P[4*I+3]<f)return p;var B=I%w,Z=Math.floor(I/w);
U(B,Z);if(I+w<w*x&&P[4*(I+w)+3]<f&&P[4*(I-w)+3]>=f&&P[4*(I-2*w)+3]>=f){var v=2;if(P[4*(I+w)+3]<=C)c=-1;
if(P[4*(I+2*w-1)+3]<f&&P[4*(I+2*w+1)+3]<f)p=!0;else if(P[4*(I+2*w-1)+3]>=f&&P[4*(I+1)+3]>=f)p=!0;else if(P[4*(I+2*w+1)+3]>=f&&P[4*(I-1)+3]>=f)p=!0;
O(B,Z,v,c,p)}else if(I-w>=0&&P[4*(I-w)+3]<f&&P[4*(I+w)+3]>=f&&P[4*(I+2*w)+3]>=f){var v=0;if(P[4*(I-w)+3]<=C)c=-1;
if(P[4*(I-2*w-1)+3]<f&&P[4*(I-2*w+1)+3]<f)p=!0;else if(P[4*(I-2*w-1)+3]>=f&&P[4*(I+1)+3]>=f)p=!0;else if(P[4*(I-2*w+1)+3]>=f&&P[4*(I-1)+3]>=f)p=!0;
O(B,Z,v,c,p)}c=0;if(I+1<w*x&&P[4*(I+1)+3]<f&&P[4*(I-1)+3]>=f&&P[4*(I-2)+3]>=f){var v=3;if(P[4*(I+1)+3]<=C)c=-1;
if(!p&&P[4*(I+w+2)+3]<f&&P[4*(I-w+2)+3]<f){p=!0;O(B,Z,v,c,!0)}else O(B,Z,v,c,!1)}else if(I>=1&&P[4*(I-1)+3]<f&&P[4*(I+1)+3]>=f&&P[4*(I+2)+3]>=f){var v=1;
if(P[4*(I-1)+3]<=C)c=-1;if(!p&&P[4*(I+w-2)+3]<f&&P[4*(I-w-2)+3]<f){p=!0;O(B,Z,v,c,!0)}else O(B,Z,v,c,!1)}return p}function U(I,p){if(k[0]==-1){k[0]=I;
k[1]=p;k[2]=1;k[3]=1}if(I<k[0]){k[2]+=k[0]-I;k[0]=I}if(I>k[0]+k[2])k[2]=I-k[0];if(p<k[1]){k[3]+=k[1]-p;
k[1]=p}if(p>k[1]+k[3])k[3]=p-k[1]}function W(p,I,c,B){if(!c.c)return;var Z=(p+2)%4,v=c.start,E=k[1];
if(p==2)E+=k[3];else if(p==1)E=k[0];else if(p==3)E=k[0]+k[2];var g=c.source;if(i[Z][I])for(var u=0;u<i[Z][I].length;
++u){if(p>1){var j=v+Math.floor((i[Z][I][u].start-v)/2);if(i[Z][I][u].start>v&&j<E)E=j}else{var j=v-Math.floor((v-i[Z][I][u].start)/2);
if(i[Z][I][u].start<v&&j>E)E=j}}for(var A=1;A<Math.abs(E-v);++A){var u=v+A;if(p==1||p==0)u=v-A;for(var K=0;
K<2;++K){var s=2*K,r=!1;if(p%2==0)s+=1;if(i[s][u]){for(var h=0;h<i[s][u].length;++h){if(i[s][u][h].c){var jC=i[s][u][h].start,d=I-jC,q=u-v;
if(s==0||s==1)d=-d;if(d<=0)continue;if(p==0||p==1)q=-q;if(q>d){E=u;r=!0;break}}}if(r)break}}}c.end=E;
n(p,I,v,E,g)}function t(p){for(var I=0;I<i[p].length;++I){if(i[p][I])for(var c=0;c<i[p][I].length;++c){W(p,I,i[p][I][c])}}}function _(){var p=[2,0,3,1];
for(var I=0;I<p.length;++I)t(p[I])}function n(p,I,c,B,Z){if(p==2)for(var v=c;v<=B;++v){if(!y(v*w+I,(c+Z)*w+I))return!1}else if(p==0)for(var v=c;
v>=B;--v){if(!y(v*w+I,(c-Z)*w+I))return!1}else if(p==1)for(var v=c;v>=B;--v){if(!y(I*w+v,I*w+c-Z))return!1}else if(p==3)for(var v=c;
v<=B;++v){if(!y(I*w+v,I*w+c+Z))return!1}}function y(p,c){if(!H[p]){z[4*p]=z[4*c];z[4*p+1]=z[4*c+1];z[4*p+2]=z[4*c+2];
if(b)z[4*p+3]=255;H[p]=!0;return!0}return!1}function F(){for(var I=0;I<4;I+=1){for(var p=0;p<i[I].length;
++p){if(i[I][p])for(var c=0;c<i[I][p].length;++c){var B=i[I][p][c];for(var Z=1;Z<3;Z+=2){var v=(I+Z)%4;
if(i[v][B.start])for(var E=0;E<i[v][B.start].length;++E){if(i[v][B.start][E].start==B.axis){var eK=w*B.start+B.axis;
if(I%2==1){eK=B.start+w*B.axis;a(i[v][B.start][E])}else a(B)}}}}}}}function a(p){if(p.dir%2==0){var eK=w*p.start+p.axis,c=p.start,B=1;
if(!H[eK+1])B=3;else if(H[eK-1])return;var Z=z[4*eK],v=z[4*eK+1],E=z[4*eK+2];while(z[4*eK]==Z&&z[4*eK+1]==v&&z[4*eK+2]==E){if(B==1){if(!M[0][c])M[0][c]=new Array;
M[0][c].push(new T(B,0,!1,p.axis,c))}else{if(!M[1][c])M[1][c]=new Array;M[1][c].push(new T(B,0,!1,p.axis,c))}if(p.dir==2){eK+=w;
c++}else{eK-=w;c--}}}}function V(){for(var p=0;p<2;++p){var c=(p+1)%2;for(var I=0;I<M[p].length;++I){if(M[p][I])for(var B=0;
B<M[p][I].length;++B){var Z=k[0];if(p==1)Z+=k[2];var v=M[p][I][B].start;if(M[c][I])for(var E=0;E<M[c][I].length;
++E){var g=M[c][I][E].zp;if(p==0){if(g>Z&&g<v){Z=v-Math.floor((v-g)/2)}}else{if(g<Z&&g>v){Z=v+Math.ceil((g-v)/2)}}}if(p==0)n(M[p][I][B].dir,I,v-1,Z,-1);
else n(M[p][I][B].dir,I,v+1,Z,-1)}}}for(var I=0;I<H.length;++I){if(!H[I]&&I%w>=k[0]&&I%w<=k[0]+k[2]&&Math.floor(I/w)>=k[1]&&Math.floor(I/w)<=k[1]+k[3]){var v=w;
if(I<v||!H[I-v])v=1;z[4*I]=z[4*(I-v)];z[4*I+1]=z[4*(I-v)+1];z[4*I+2]=z[4*(I-v)+2];H[I]=!0;if(b)z[4*I+3]=255}}}function D(){H=new Array(P.length/4);
for(var I=0;I<z.length/4;++I){H[I]=!1;z[4*I]=P[4*I];z[4*I+1]=P[4*I+1];z[4*I+2]=P[4*I+2];z[4*I+3]=P[4*I+3];
if(z[4*I+3]==255)H[I]=!0;if(Y(I))H[I]=!1}if(k[0]>0){k[0]--;k[2]++}if(k[1]>0){k[1]--;k[3]++}if(k[0]+k[2]<w){k[2]++}if(k[1]+k[3]<x){k[3]++}}var l=Date.now();
D();var Q=Date.now();_();var m=Date.now();F();var R=Date.now();V();var $=Date.now();console.log("Init: "+String(Q-l));
console.log("Filling: "+String(m-Q));console.log("Check areas: "+String(R-m));console.log("Fill areas: "+String($-R))}return o}();
function im(){}im.aa$=function(o){var P=[e.LK(o[0]),e.LK(o[1]),e.LK(o[2]),0];return e.ww.tM(e.ww.aCq,P)};
im.atK=function(o){var P=e.ww.tM(e.ww.tr,o);return[e.Yd(P[0]),e.Yd(P[1]),e.Yd(P[2])]};im.tV=function(o,P){var w={},x=5003,z=1667,S=25e3,k=57.4,f=16.1,C=1.8,H=0,b=1.54,i=.75,O=0;
if(P>0){o-=P/100*4}if(o<0){f=22.54;k=80.36;b=.756}if(P>0){C=1.3;i=.2}var M=Math.min(x+k*o,S),T=Math.max(x-f*o,z);
if(o<0){M=Math.max(x+f*o,z);T=Math.min(x-k*o,S)}if(o>0){if(o<=14){O=(o-1)/13*.075+.025}else if(o<=29){O=.1}else if(o<=60){O=.1-.1*(o-29)/(60-29)}else{var Y=o-60;
H=-20*(Y/40);O=-.3*(Y/40)}}else{if(o<-60){var Y=o+60;H=-20*(Y/40)}}var U=Math.abs(o)/100*b+Math.abs(P)/100*i+O,W=-(P*C+H),t=cO.BF(M,-W),_=cO.Gp(t),n=cO.BF(T,0),y=cO.Gp(n),F=cO.aiL(_,y);
w.a4m=U;w.a1F=F;if(o==0&&P==0)w.aaU=!0;else w.aaU=!1;return w};im.aya=function(o,P,w,x){if(x.aaU){return[o,P,w]}var z=this.aa$([o,P,w]),S=z[0],k=z[1],f=z[2],C=k+1e-12,H=[S/C,k/C,f/C,0],b=e.ww.tM(x.a1F,H),i=0,M=.4;
b[0]*=C;b[1]*=C;b[2]*=C;if(C>M)i=1/(1-M)*(C-M);z[0]=(1-i)*b[0]+i*S;z[1]=(1-i)*b[1]+i*k;z[2]=(1-i)*b[2]+i*f;
return this.atK(z)};e.a6D={s8:function(o,P){var I=o.length;o.push(P);var w=I>>>1;while(w!=0&&o[I][0]<o[w][0]){var x=o[I];
o[I]=o[w];o[w]=x;I=w;w=I>>>1}},SH:function(o){if(o.length==2)return o.pop();var top=o[1],I=1;o[1]=o.pop();
var P=o.length;while(!0){var w=I<<1,x=w+1,z=I;if(w<P&&o[w][0]<o[z][0])z=w;if(x<P&&o[x][0]<o[z][0])z=x;
if(z==I)break;var S=o[I];o[I]=o[z];o[z]=S;I=z}return top},aqE:function(o){for(var I=1;I<o.length;I++){var P=I,w=1e9;
while(P!=0){var x=o[P][0];if(x>w){console.log(I);throw"e"}w=x;P=P>>>1}}}};e.C={};e.C.kE=new Float64Array(256);
e.C.s6=new Uint8Array(256*256);e.C.zN=new Uint8Array(256*256);(function(){for(var I=0;I<256;I++)e.C.kE[I]=255/I;
for(var I=0;I<256;I++)for(var o=0;o<256;o++)e.C.s6[I*256+o]=I==0?0:Math.round(o*255/I);for(var I=0;I<256;
I++)for(var o=0;o<256;o++)e.C.zN[I*256+o]=Math.round(I*(255-o)/255)}());e.C.Iv=function(o,P,w,x,z,S,k,f){if(f==null)f=iO.ax();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(o)==-1){k=k*f.fill;f.fill=1;f.style=!1}var C="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),H="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),b=e.C[o+"F"];
if(f.qq==null&&o=="norm")e.C.az2(P,w,x,z,S,k,b,f.hH?1:0);else if(o=="diss")e.C.aAl(P,w,x,z,S,k,b,f.hH?1:0);
else if(C.indexOf(o)!=-1)e.C.a7b(P,w,x,z,S,k,b,f);else if(H.indexOf(o)!=-1)e.C.ahw(P,w,x,z,S,k,b,f)};
e.C.a5X=function(o,P,w){var x=o*w+1-w;return x<.001?0:1-Math.min(1,(1-P)/x)};e.C.a2P=function(o,P,w){return o*w==1?1:Math.min(1,P/(1-o*w))};
e.C.ie=function(o){return o<=.25?((16*o-12)*o+4)*o:Math.sqrt(o)};e.C.normF=function(o,P,w){return o};
e.C.darkF=function(o,P,w){return Math.min(o,P)};e.C["mul F"]=function(o,P,w){return o*P};e.C.idivF=function(o,P,w){var x=o*w+1-w;
return P==1?1:1-P>=x?0:1-(1-P)/x};e.C.lbrnF=function(o,P,w){return Math.max(0,o*w+P-w)};e.C.dkClF=function(o,P,w){var x=e.GQ(o)<e.GQ(P)?o:P;
w.$=x.$;w.H=x.H;w.b=x.b;return w};e.C.liteF=function(o,P,w){return Math.max(o,P)};e.C.scrnF=function(o,P,w){return P+o-P*o};
e.C["div F"]=function(o,P,w){o*=w;return P==0?0:P>=1-o?1:P/(1-o)};e.C.lddgF=function(o,P,w){o*=w;return Math.min(1,o+P)};
e.C.lgClF=function(o,P,w){var x=e.GQ(o)>e.GQ(P)?o:P;w.$=x.$;w.H=x.H;w.b=x.b;return w};e.C.overF=function(o,P,w){return e.C.hLitF(P,o,w)};
e.C.sLitF=function(o,P,w){return o<=.5?P-(1-2*o)*P*(1-P):P+(2*o-1)*(e.C.ie(P)-P)};e.C.hLitF=function(o,P,w){return o<=.5?e.C["mul F"](2*o,P,w):e.C.scrnF(2*o-1,P,w)};
e.C.vLitF=function(o,P,w){return o<=.5?e.C.a5X(2*o,P,w):e.C.a2P(2*o-1,P,w)};e.C.lLitF=function(o,P,w){return o<=.5?e.C.lbrnF(2*o,P,w):e.C.lddgF(2*o-1,P,w)};
e.C.pLitF=function(o,P,w){return o<=.5?e.C.darkF(2*o,P,w):e.C.liteF(2*o-1,P,w)};e.C.hMixF=function(o,P,w){if(w>.99)return o+P<1?0:1;
return Math.min(1,Math.max(0,(P+o*w-w)/(1-w+1e-6)))};e.C.diffF=function(o,P,w){o*=w;return Math.abs(o-P)};
e.C.smudF=function(o,P,w){return o+P-2*o*P};e.C.fsubF=function(o,P,w){return Math.max(P-o,0)};e.C.fdivF=function(o,P,w){return Math.min(P/o,1)};
e.C["hue F"]=function(o,P,w){e.C.Ij(o,e.xC(P),w);e.C.DY(w,e.GQ(P),w)};e.C["sat F"]=function(o,P,w){e.C.Ij(P,e.xC(o),w);
e.C.DY(w,e.GQ(P),w)};e.C.colrF=function(o,P,w){e.C.DY(o,e.GQ(P),w)};e.C["lum F"]=function(o,P,w){e.C.DY(P,e.GQ(o),w)};
e.C.DY=function(o,P,w){var x=P-e.GQ(o);w.$=o.$+x;w.H=o.H+x;w.b=o.b+x;e.C.a02(w)};e.C.a02=function(o){var P=o.$,w=o.H,x=o.b,z=e.Rb(P,w,x),eK=Math.min(P,w,x),S=Math.max(P,w,x);
if(eK<0){var k=z/(z-eK);P=z+(P-z)*k;w=z+(w-z)*k;x=z+(x-z)*k}if(S>1){var k=(1-z)/(S-z);P=z+(P-z)*k;w=z+(w-z)*k;
x=z+(x-z)*k}o.$=P;o.H=w;o.b=x};e.C.Ij=function(o,P,w){var x=e.C.aAk,z=o.$,S=o.H,k=o.b;if(z==S&&S==k){w.$=w.H=w.b=0}else if(z>S){if(z>k){if(S>k){w.$=P;
w.H=x(z,S,k,P);w.b=0}else{w.$=P;w.b=x(z,k,S,P);w.H=0}}else{w.b=P;w.$=x(k,z,S,P);w.H=0}}else{if(z<k){if(S>k){w.H=P;
w.b=x(S,k,z,P);w.$=0}else{w.b=P;w.H=x(k,S,z,P);w.$=0}}else{w.H=P;w.$=x(S,z,k,P);w.b=0}}};e.C.aAk=function(o,P,w,x){return(P-w)*x/(o-w)};
e.C.az2=function(o,P,w,x,z,S,k,f){var C=P.SN(x).SN(z),H=Math.max(0,C.x-P.x),b=Math.max(0,C.x-x.x),i=Math.max(0,C.y-P.y),M=Math.max(0,C.y-x.y),T=C.q,O=C._,Y=P.q,U=x.q,W=e.C.s6,t=e.C.zN,_=new Uint32Array(o.buffer),n=new Uint32Array(w.buffer);
for(var I=0;I<O;I++){var y=(i+I)*Y+H,F=(M+I)*U+b;for(var a=0;a<T;a++){var V=_[y+a],B=1;if(V>>>24==0)continue;
if(V>>>24==255&&S==1&&f==0){n[F+a]=_[y+a];continue}var D=n[F+a],l=V&255,Q=V>>>8&255,m=V>>>16&255,R=D&255,$=D>>>8&255,p=D>>>16&255,c=S,Z=(D>>>24)*(1/255);
if(f==0){c=(V>>>24)*S*(1/255);B=Z}var v=B*(1-c),E=c+v,g=1/E;n[F+a]=~~(.5+(f*Z+(1-f)*E)*255)<<24|~~(.5+(m*c+p*v)*g)<<16|~~(.5+(Q*c+$*v)*g)<<8|~~(.5+(l*c+R*v)*g)}}};
e.C.asl=function(o,P,w,x,z,S){var k=P.SN(x).SN(z),f=Math.max(0,k.x-P.x),C=Math.max(0,k.x-x.x),H=Math.max(0,k.y-P.y),b=Math.max(0,k.y-x.y),i=k.q,M=k._,T=P.q,O=x.q,Y=e.C.s6,U=e.C.zN,W=new Uint32Array(o.buffer),t=new Uint32Array(w.buffer),_=Math.floor(Math.random()*16777215),n=0;
for(var I=0;I<M;I++){var y=(H+I)*T+f,F=(b+I)*O+C;for(var a=0;a<i;a++){var V=W[y+a];if(V>>>24==0)continue;
if(V>>24==255&&S==1){t[F+a]=V;continue}var D=t[F+a],l=(V>>>24)*S*(1/255),Q=(D>>>24)*(1/255),m=Q*(1-l),R=l+m,$=V&255,p=V>>>8&255,c=V>>>16&255,B=D&255,Z=D>>>8&255,v=D>>>16&255;
n>>>=8;if((a&3)==0)n=e.C.NS(F+a+_);var E=R==0?0:1/R,g=Math.floor(R*(256*255))+(n&255)>>>8,u=Math.floor((c*l+v*m)*E+.5),j=Math.floor((p*l+Z*m)*E+.5),A=Math.floor(($*l+B*m)*E+.5);
t[F+a]=g<<24|u<<16|j<<8|A}}};e.C.f1=function(o,P,w,x,z,S,k,f){var C=e.Rb(o,P,w),H=e.Rb(x,z,S),b=Math.min,i=e.C.awB,M=i(C,f,0);
M=b(M,i(o,f,8));M=b(M,i(P,f,16));M=b(M,i(w,f,24));var T=i(H,f,4);T=b(T,i(x,f,12));T=b(T,i(z,f,20));T=b(T,i(S,f,28));
T=Math.max(T,1-k);var O=Math.min(M,T);return O<0?0:O>1?1:O};e.C.awB=function(o,P,I){return Math.min((o-P[I])*P[I+1],(o-P[I+3])*P[I+2])};
e.C.a7b=function(o,P,w,x,z,S,k,f){var C=1/255,H=C*S,b=f.hH?1:0,i=f.fill,M=f.style,T=P.SN(x).SN(z),O=Math.max(0,T.x-P.x),Y=Math.max(0,T.x-x.x),U=Math.max(0,T.y-P.y),W=Math.max(0,T.y-x.y),t=T.q,_=T._,n=P.q,y=x.q,F=new Uint32Array(o.buffer),a=new Uint32Array(w.buffer);
for(var I=0;I<_;I++){var V=(U+I)*n+O,D=(W+I)*y+Y;for(var l=0;l<t;l++,V++,D++){var Q=F[V],E=1;if(Q>>>24==0)continue;
var m=a[D],R=(Q&255)*C,$=(Q>>>8&255)*C,p=(Q>>>16&255)*C,c=(m&255)*C,B=(m>>>8&255)*C,Z=(m>>>16&255)*C,v=S;
if(b==0){v=(Q>>>24)*H;E=(m>>>24)*C}if(f.qq)v*=e.C.f1(R,$,p,c,B,Z,E,f.qq);var g=E*(1-v),u=v+g,j=u==0?0:255/u,A=M?1:v,K=((1-E)*v*R+(1-A)*E*c+A*E*k(R,c,(1+v-A)*i))*j,s=((1-E)*v*$+(1-A)*E*B+A*E*k($,B,(1+v-A)*i))*j,r=((1-E)*v*p+(1-A)*E*Z+A*E*k(p,Z,(1+v-A)*i))*j;
u=v*i+E*(1-v*i);var h=~~(u*255+.5);a[D]=b*(m>>>24)+(1-b)*h<<24|r<<16|s<<8|K}}};e.C.ahw=function(o,P,w,x,z,S,k,f){var C=1/255,H=C*S,b=f.hH?1:0,i=P.SN(x).SN(z),M=Math.max(0,i.x-P.x),T=Math.max(0,i.x-x.x),O=Math.max(0,i.y-P.y),Y=Math.max(0,i.y-x.y),U=i.q,W=i._,t=new Uint32Array(o.buffer),_=new Uint32Array(w.buffer),n={$:0,H:0,b:0},y={$:0,H:0,b:0},F={$:0,H:0,b:0};
for(var I=0;I<W;I++){var a=(O+I)*P.q+M,V=(Y+I)*x.q+T;for(var D=0;D<U;D++,a++,V++){var l=t[a],Q=_[V],m=(l&255)*C,R=(l>>>8&255)*C,$=(l>>>16&255)*C,p=(Q&255)*C,c=(Q>>>8&255)*C,B=(Q>>>16&255)*C,Z=S,v=1;
if(b==0){Z=(l>>>24)*H;v=(Q>>>24)*C}if(f.qq)Z*=e.C.f1(m,R,$,p,c,B,v,f.qq);var E=v*(1-Z),g=Z+E,u=255/g;
n.$=m;n.H=R;n.b=$;y.$=p;y.H=c;y.b=B;k(n,y,F);var j=(((1-v)*m+v*F.$)*Z+p*E)*u,A=(((1-v)*R+v*F.H)*Z+c*E)*u,K=(((1-v)*$+v*F.b)*Z+B*E)*u,s=b*(Q>>>24)+(1-b)*Math.round(g*255);
_[V]=s<<24|K<<16|A<<8|j}}};e.C.GI=function(o){o=o^61^o>>>16;o=o+(o<<3);o=o^o>>>4;o=o*668265261;o=o^o>>15;
return(o&16777215)*(1/16777215)};e.C.NS=function(o){o=o^61^o>>>16;o=o+(o<<3);o=o^o>>>4;o=o*668265261;
o=o^o>>>15;return o};e.C.hh=function(o){this.Zs=o};e.C.hh.prototype.get=function(){var o=this.Zs=e.C.NS(this.Zs);
return(o&16777215)*(1/16777215)};e.C.aAl=function(o,P,w,x,z,S,k,f){var C=1/255,H=C*S,b=Math.round(S*(256*256*256/255)),i=P.SN(x).SN(z),M=Math.max(0,i.x-P.x),T=Math.max(0,i.x-x.x),O=Math.max(0,i.y-P.y),Y=Math.max(0,i.y-x.y),U=i.q,W=i._,t=new Uint32Array(o.buffer),_=new Uint32Array(w.buffer);
for(var I=0;I<W;I++){var n=(O+I)*P.q+M,y=(Y+I)*x.q+T;for(var F=0;F<U;F++,n++,y++){var a=t[n],V=_[y],D=f*255+(1-f)*(a>>>24);
if((e.C.NS(n)&16777215)>=D*b)continue;_[y]=a&16777215|f*(V>>>24)+(1-f)*255<<24}}};e.C.awG=function(o,P,w){for(var I=0;
I<o.length;I+=4){var x=w[I>>>2];if(x==0)continue;var z=x*(1/255),S=1/z,k=P[I],f=P[I+1],C=P[I+2],H=o[I],b=o[I+1],i=o[I+2];
P[I]=Math.min(255,Math.max(0,Math.round((k-(1-z)*H)*S)));P[I+1]=Math.min(255,Math.max(0,Math.round((f-(1-z)*b)*S)));
P[I+2]=Math.min(255,Math.max(0,Math.round((C-(1-z)*i)*S)));P[I+3]=255}};e.C.RH=function(o,P,w,x,z,S,k,f,C,H,b){if(H==null)H=!1;
if(b==null)b=[1,1,1];var i=255<<24|b[2]*16711680|b[1]*65280|b[0]*255,M=~i;if(z&&!P.w6(S)){var T=e.U(P.c()*4);
T.fill(k);e.d0(z,S,T,P);z=T;S=P}if(H){if(z==null)e.C.ap_(o,P,w,x,z,f,C,i,M);else e.C.aim(o,P,w,x,z,f,C)}else{if(z==null)e.C.aa7(o,P,w,x,z,f,C,i,M);
else e.C.a2X(o,P,w,x,z,f,C)}};e.C.aa7=function(o,P,w,x,z,S,k,f,C){var H=1/255,b=P.SN(x).SN(S),i=Math.max(0,b.x-P.x),M=Math.max(0,b.x-x.x),T=Math.max(0,b.y-P.y),O=Math.max(0,b.y-x.y),Y=b.q,U=b._,W=new Uint32Array(o.buffer),t=new Uint32Array(w.buffer),_=e.C.s6,n=k*255&255;
for(var I=0;I<U;I++){var y=(T+I)*P.q+i,F=(O+I)*x.q+M;for(var a=0;a<Y;a++,y++,F++){var V=W[y],D=t[F],l=V>>>24,Q=D>>>24,m=e.DQ(n*l+(255-n)*Q),R=e.DQ(l*n),$=e.DQ(Q*(255-n)),p=V&255,c=V>>>8&255,B=V>>>16&255,Z=D&255,v=D>>>8&255,E=D>>>16&255,g=R*p+Z*$,u=R*c+v*$,j=R*B+E*$;
g=_[m<<8|e.DQ(g)];u=_[m<<8|e.DQ(u)];j=_[m<<8|e.DQ(j)];var A=m<<24|j<<16|u<<8|g;t[F]=C&D|f&A}}};e.C.ap_=function(o,P,w,x,z,S,k,f,C){var H=1/255,b=P.SN(x).SN(S),i=Math.max(0,b.x-P.x),M=Math.max(0,b.x-x.x),T=Math.max(0,b.y-P.y),O=Math.max(0,b.y-x.y),Y=b.q,U=b._,W=new Uint32Array(o.buffer),t=new Uint32Array(w.buffer),_=e.C.s6,n=k*16777215&16777215;
for(var I=0;I<U;I++){var y=(T+I)*P.q+i,F=(O+I)*x.q+M;for(var a=0;a<Y;a++,y++,F++){if((e.C.NS(y)&16777215)<n){t[F]=C&t[F]|f&W[y]}}}};
e.C.a2X=function(o,P,w,x,z,S,k){var f=1/255,C=P.SN(x).SN(S),H=Math.max(0,C.x-P.x),b=Math.max(0,C.x-x.x),i=Math.max(0,C.y-P.y),M=Math.max(0,C.y-x.y),T=C.q,O=C._,Y=new Uint32Array(o.buffer),U=new Uint32Array(w.buffer),W=e.C.s6;
for(var I=0;I<O;I++){var t=(i+I)*P.q+H,_=(M+I)*x.q+b;for(var n=0;n<T;n++,t++,_++){var y=z[t]*k&255;if(y==0)continue;
if(y==255){U[_]=Y[t];continue}var F=Y[t],a=U[_],V=F>>>24,D=a>>>24,l=e.DQ(y*V+(255-y)*D),Q=e.DQ(V*y),m=e.DQ(D*(255-y)),R=F&255,$=F>>>8&255,p=F>>>16&255,c=a&255,B=a>>>8&255,Z=a>>>16&255,v=W[l<<8|e.DQ(Q*R+c*m)],E=W[l<<8|e.DQ(Q*$+B*m)],g=W[l<<8|e.DQ(Q*p+Z*m)];
U[_]=l<<24|g<<16|E<<8|v}}};e.C.aim=function(o,P,w,x,z,S,k){var f=1/255,C=P.SN(x).SN(S),H=Math.max(0,C.x-P.x),b=Math.max(0,C.x-x.x),i=Math.max(0,C.y-P.y),M=Math.max(0,C.y-x.y),T=C.q,O=C._,Y=new Uint32Array(o.buffer),U=new Uint32Array(w.buffer),W=e.C.s6,t=Math.round(k*257);
for(var I=0;I<O;I++){var _=(i+I)*P.q+H,n=(M+I)*x.q+b;for(var y=0;y<T;y++,_++,n++){var F=z[_]*t;if((e.C.NS(_)&65535)<F)U[n]=Y[_]}}};
e.C.aCC=function(o,P,w,x,z,S,k){var f=1/255,C=P.SN(x).SN(S),H=Math.max(0,C.x-P.x),b=Math.max(0,C.x-x.x),i=Math.max(0,C.y-P.y),M=Math.max(0,C.y-x.y),T=C.q,O=C._,Y=new Uint32Array(o.buffer),U=new Uint32Array(w.buffer),W=Math.floor(Math.random()*x.c()),t=e.C.ayC;
for(var I=0;I<O;I++){var _=(i+I)*P.q+H,n=(M+I)*x.q+b;for(var y=0;y<T;y++){var F=z[_+y]*k;if(F==0)continue;
if(F==255){U[n+y]=Y[_+y];continue}var a=Y[_+y],V=U[n+y],D=a>>>24,l=V>>>24,Q=D*F*(1/255),m=l*(255-F)*(1/255),R=a&255,$=a>>>8&255,p=a>>>16&255,c=V&255,B=V>>>8&255,Z=V>>>16&255,v=e.C.NS(n+y+W),E=Math.floor((Q+m)*256+.5)+(v>>>0&255)>>>8,g=E==0?0:256/(Q+m),u=R*Q+c*m,j=$*Q+B*m,A=p*Q+Z*m,K=Math.floor(u*g+.5)+(v>>>8&255)>>>8,s=Math.floor(j*g+.5)+(v>>>16&255)>>>8,r=Math.floor(A*g+.5)+(v>>>24&255)>>>8;
U[n+y]=E<<24|r<<16|s<<8|K}}};e.C.ayC=function(o){return Math.floor(o+Math.random())};e.C.I7=function(o,P,w,x,z,S,k){var f=1/255,C=P.SN(x).SN(S),H=Math.max(0,C.x-P.x),b=Math.max(0,C.x-x.x),i=Math.max(0,C.y-P.y),M=Math.max(0,C.y-x.y),T=C.q,O=C._;
for(var I=0;I<O;I++){var Y=(i+I)*P.q+H,U=(M+I)*x.q+b;for(var W=0;W<T;W++,Y++,U++){var t=k*z[Y]*f;if(t==0)continue;
if(t==1){w[U]=o[Y];continue}w[U]=o[Y]*t+w[U]*(1-t)}}};e.ah4=function(){function o(S){var k=S*.85;return Math.exp(-(k*k)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function P(S,k){var f=S<k?1:o((S-k)/Math.pow(1.001-k,.86));
return f}var w=[];function x(S){if(w[S])return w[S];var k=Math.pow(S,.55),f=new Float64Array(8e3),C=0,H=8e3;
for(var I=0;I<8e3;I++){var b=P(I*(1.55/4e3),k);if(b>=1)C=I;else if(b<=0&&H==8e3)H=I;f[I]=b}var i=[f,C,H];
w[S]=i;return i}function z(S,k,f){if(S<4)k=1;var C=1+.55*(1-k),H=Math.round(f*S*C)+2,b=new fA(0,0,H,H),i=e.U(H*H),M=[i,b],T=H/2,O=C/(T-1);
if(S==2)O*=2;if(S==3)O*=1.6;var Y=Date.now(),U=x(k),W=Math.round(8e3/T),t=U[0],_=U[1]-W,n=U[2]+W,y=Math.min(H,H+1>>>1),F=O*.4*(4e3/1.55),a=e.U(8e3);
for(var I=0;I<8e3;I++){var V=I,D=I,l=~~Math.max(0,V-F-F),Q=~~Math.max(0,V-F),m=~~Math.min(7999,V+F),R=~~Math.min(7999,V+F+F),$=~~(.5+255*(1/5)*(t[D]+t[l]+t[Q]+t[m]+t[R]));
a[I]=$;if($==0)break}for(var I=0;I<y;I++){var p=O*(I-T+.5),c=p*p,B=I*H,Z=(H-1-I)*H;for(var v=0;v<y;v++){var E=O*(v-T+.5),D=~~(Math.sqrt(E*E+c)*(4e3/1.55));
if(n<D)continue;else if(D<_){var $=255;while(v<y){var g=H-1-v;i[B+v]=$;i[B+g]=$;i[Z+v]=$;i[Z+g]=$;v++}break}else{var $=a[D],g=H-1-v;
i[B+v]=$;i[B+g]=$;i[Z+v]=$;i[Z+g]=$}}}return M}return{asB:z}}();e.Ly={};e.Ly.adK=function(o,P,w,x,z,S){e.Ly.qv(o,P,w,x,z,S,null,0)};
e.Ly.a6C=function(o,P,w,x,z){e.Ly.qv(o,P,w,x,z,null,null,0)};e.Ly.a9J=function(o,P,w,x,z,S,k){e.Ly.qv(o,P,w,x,z,null,S,k*.5)};
e.Ly.qv=function(o,P,w,x,z,S,k,f){var C=0,m=0,R=1e9,$=0,p=1e9,c=0,B=1e9,Z=0,v=0,E=0,g=0;if(S){C=z*.5;
z=3+Math.round((z-3)*.75)}if(k){z=Math.round(z*2.2)}var H=1/z,b=Math.floor(P*H)+1,i=Math.floor(w*H)+1,M=[],T=new Uint8Array(b*i*4),O=k?.5:1,Y=S?64:0;
for(var U=0;U<i;U++){var W=k?.5*(U&1):0;for(var t=0;t<b;t++){var _=(t+Math.random()*O+W)*z,n=(U+Math.random()*O)*z;
M.push(_,n);var y=Math.min(P-1,Math.floor(_)),F=Math.min(w-1,Math.floor(n)),a=(F*P+y)*4,V=(U*b+t)*4;
for(var I=0;I<4;I++)T[V+I]=Math.max(0,Math.min(255,Math.floor(o[a+I]+(Math.random()-.5)*Y)))}}var D=S?S:k?k:[0,0,0],l=b*i*2,Q=[-b-1,-b,-b+1,-1,0,1,b-1,b,b+1];
for(var U=0;U<w;U++){E=0;for(var t=0;t<P;t++){var u=t+.5,j=U+.5,A=Math.floor(j*H),K=Math.floor(u*H),s=A*b+K,jC=0,d=0;
if(E>1+f){R=e.Ly.aG3(M,m,u,j);Z=Math.sqrt(R);E--;g++}else{R=p=B=1e9;for(var I=0;I<Q.length;I++){var r=(s+Q[I])*2;
if(r<0||r>=l)continue;var h=e.Ly.aG3(M,r,u,j);if(h<B){if(h<p){if(h<R){c=$;B=p;$=m;p=R;m=r;R=h}else{c=$;
B=p;$=r;p=h}}else{c=r;B=h}}}Z=Math.sqrt(R);v=Math.sqrt(p);E=v-(Z+v)*.5}if(k==null){var q=(Z+v)*.5,hc=S?Math.max(0,q-C):0;
jC=Math.max(0,Math.min(1,.5+q-Z-hc));d=Math.max(0,Math.min(1,1-(.5+q-Z)-hc))}else{var dk=Math.min(e.Ly.aCh(M,m,$,u,j),e.Ly.aCh(M,m,c,u,j));
jC=Math.max(0,Math.min(1,dk-f*.5));if(u<f||P-f<u||j<f||w-f<j)jC=0;d=0}var c6=1-d-jC,V=U*P+t<<2,e3=m<<1,ks=$<<1;
x[V+0]=Math.floor(.5+jC*T[e3+0]+d*T[ks+0]+c6*D[0]);x[V+1]=Math.floor(.5+jC*T[e3+1]+d*T[ks+1]+c6*D[1]);
x[V+2]=Math.floor(.5+jC*T[e3+2]+d*T[ks+2]+c6*D[2]);x[V+3]=o[V+3]}}};e.Ly.aG3=function(o,P,w,x){var z=w-o[P],S=x-o[P+1];
return z*z+S*S};e.Ly.aCh=function(o,P,w,x,z){var S=o[P],k=o[P+1],f=o[w],C=o[w+1],H=(S+f)*.5,b=(k+C)*.5,i=H+(C-k),M=b-(f-S),T=M-b,O=i-H;
return Math.abs(T*x-O*z+i*b-M*H)/Math.sqrt(O*O+T*T)};e.uY={};e.uY.PO=function(o){if(e.uY.a0.length<o)e.uY.a0=e.U(o);
return e.uY.a0};e.uY.a0=e.U(0);e.uY.amd=function(o){if(e.uY.lA.length<o)e.uY.lA=new Float32Array(o);
return e.uY.lA};e.uY.lA=new Float32Array(0);e.uY.xf=function(o,P,w,x){var z=w.q,S=w._;e.uY.aFU(o,P,z,S,x)};
e.uY.K6=function(o,P,w,x){var z=w.q,S=w._;e.uY.aoV(o,P,z,S,x)};e.uY.yX=function(o,P,w){var x=P.q,z=P._;
e.uY.als(o,x,z,w)};e.uY.P1=function(o,P,w,x){var z=P.q,S=P._;e.uY.auS(o,z,S,w,x)};e.uY.a18=function(o,P,w,x){var z=w.q,S=w._;
x=Math.round(x);var k=e.uY.PO(z*S);e.L9(o,P);e.uY.QY(P,k,z,S,x)};e.uY.pJ=function(o,P,w){var x=P.q,z=P._;
w=Math.round(w);var S=e.uY.PO(x*z*4);e.uY.GK(o,S,x,z,w)};e.uY.aF_=function(o,P,w){var x=P.q,z=P._;w=Math.round(w);
e.uY.a0G(o,e.uY.amd(x*z),x,z,w)};e.uY.ah3=function(o,P,w){var x=P.q,z=P._;w=Math.round(w);var S=e.uY.PO(x*z*4);
e.uY.az$(o,S,x,z,w);e.L9(S,o)};e.uY.TO=function(o,eK){var P=Math.sqrt(12*o*o/eK+1),w=Math.floor(P);if(w%2==0)w--;
var x=w+2,z=(12*o*o-eK*w*w-4*eK*w-3*eK)/(-4*w-4),S=Math.round(z),k=[];for(var I=0;I<eK;I++)k.push(I<S?w:x);
return k};e.uY.aFU=function(o,P,w,x,z){var S=e.uY.TO(z,3),k=e.uY.PO(w*x);e.L9(o,P);e.uY.QY(P,k,w,x,S[0]-1>>1);
e.uY.QY(P,k,w,x,S[1]-1>>1);e.uY.QY(P,k,w,x,S[2]-1>>1)};e.uY.aoV=function(o,P,w,x,z){var S=e.uY.TO(z,2),k=e.uY.PO(w*x);
e.L9(o,P);e.uY.QY(P,k,w,x,S[0]-1>>1);e.uY.QY(P,k,w,x,S[1]-1>>1)};e.uY.als=function(o,P,w,x){var z=e.uY.TO(x,3),S=e.uY.PO(P*w*4);
e.uY.GK(o,S,P,w,z[0]-1>>1);e.uY.GK(o,S,P,w,z[1]-1>>1);e.uY.GK(o,S,P,w,z[2]-1>>1)};e.uY.auS=function(o,P,w,x,z){if(z==null)z=3;
var S=e.uY.TO(x,z),k=e.uY.amd(P*w);for(var I=0;I<z;I++)e.uY.a0G(o,k,P,w,(S[I]-1)/2)};e.uY.QY=function(o,P,w,x,z){e.uY.aGi(o,P,w,x,z);
e.uY.a0a(P,o,w,x,z)};e.uY.GK=function(o,P,w,x,z){e.uY.az$(o,P,w,x,z);e.uY.amu(P,o,w,x,z)};e.uY.a0G=function(o,P,w,x,z){e.uY.a9s(o,P,w,x,z);
e.uY.azG(P,o,w,x,z)};e.uY.f3=[];e.uY.y2=function(o){if(e.uY.f3[o])return e.uY.f3[o];var P=1/(o+o+1),w=(o+o+1)*256,x=e.U(w);
for(var I=0;I<w;I++)x[I]=Math.round(I*P);e.uY.f3[o]=x;return x};e.uY.aGi=function(o,P,w,x,z){var S=1/(z+z+1),k=w-z-z-1,f=e.uY.y2(z);
for(var I=0;I<x;I++){var C=I*w,H=C,b=C+z,i=o[C],M=o[C+w-1],T=(z+1)*i;for(var O=0;O<z;O++)T+=o[C+O];for(var O=0;
O<=z;O++){T+=o[b+O]-i;P[C+O]=f[T]}b+=z+1;C+=z+1;for(var O=0;O<k;O++){T+=o[b+O]-o[H+O];P[C+O]=f[T]}b+=k;
H+=k;C+=k;for(var O=w-z;O<w;O++){T+=M-o[H++];P[C++]=f[T]}}};e.uY.az$=function(o,P,w,x,z){var S=w<<2,k=z<<2,f=1/(z+z+1),C=w-z-z-1,H=C<<2,b=e.uY.y2(z);
for(var I=0;I<x;I++){var i=I*S,M=i,T=i+k,O=i+S,Y=o[i],U=o[i+1],W=o[i+2],t=o[i+3],_=(z+1)*Y,n=(z+1)*U,y=(z+1)*W,F=(z+1)*t;
for(var a=0;a<k;a+=4){_+=o[i+a];n+=o[i+a+1];y+=o[i+a+2];F+=o[i+a+3]}for(var a=0;a<=k;a+=4){_+=o[T]-Y;
P[i]=b[_];n+=o[T+1]-U;P[i+1]=b[n];y+=o[T+2]-W;P[i+2]=b[y];F+=o[T+3]-t;P[i+3]=b[F];T+=4;i+=4}for(var a=0;
a<H;a+=4){_+=o[T+a]-o[M+a];P[i+a]=b[_];n+=o[T+a+1]-o[M+a+1];P[i+a+1]=b[n];y+=o[T+a+2]-o[M+a+2];P[i+a+2]=b[y];
F+=o[T+a+3]-o[M+a+3];P[i+a+3]=b[F]}T+=H;M+=H;i+=H;Y=o[O-4];U=o[O-3];W=o[O-2];t=o[O-1];for(var a=w-z;
a<w;a++){_+=Y-o[M];P[i]=b[_];n+=U-o[M+1];P[i+1]=b[n];y+=W-o[M+2];P[i+2]=b[y];F+=t-o[M+3];P[i+3]=b[F];
M+=4;i+=4}}};e.uY.a9s=function(o,P,w,x,z){var S=1/(z+z+1),k=w-z-z-1;for(var I=0;I<x;I++){var f=I*w,C=f,H=f+z,b=o[f],i=o[f+w-1],M=(z+1)*b;
for(var T=0;T<z;T++)M+=o[f+T];for(var T=0;T<=z;T++){M+=o[H+T]-b;P[f+T]=M*S}H+=z+1;f+=z+1;for(var T=0;
T<k;T++){M+=o[H+T]-o[C+T];P[f+T]=M*S}H+=k;C+=k;f+=k;for(var T=w-z;T<w;T++){M+=i-o[C++];P[f++]=M*S}}};
e.uY.a0a=function(o,P,w,x,z){var S=1/(z+z+1),k=x-z-z-1,f=e.uY.y2(z);for(var I=0;I<w;I++){var C=I,H=C,b=C+z*w,i=o[C],M=o[C+w*(x-1)],T=(z+1)*i;
for(var O=0;O<z;O++)T+=o[C+O*w];for(var O=0;O<=z;O++){T+=o[b]-i;P[C]=f[T];b+=w;C+=w}for(var O=0;O<k;
O++){var Y=O*w;T+=o[b+Y]-o[H+Y];P[C+Y]=f[T]}H+=k*w;b+=k*w;C+=k*w;for(var O=x-z;O<x;O++){T+=M-o[H];P[C]=f[T];
H+=w;C+=w}}};e.uY.amu=function(o,P,w,x,z){var S=w<<2,k=z<<2,f=1/(z+z+1),C=x-z-z-1,H=C<<2,b=e.uY.y2(z);
for(var I=0;I<w;I++){var i=I<<2,M=i,T=i+z*S,O=i+S*(x-1),Y=o[i],U=o[i+1],W=o[i+2],t=o[i+3],_=(z+1)*Y,n=(z+1)*U,y=(z+1)*W,F=(z+1)*t;
for(var a=0;a<z;a++){var V=i+a*S;_+=o[V];n+=o[V+1];y+=o[V+2];F+=o[V+3]}for(var a=0;a<=z;a++){_+=o[T]-Y;
P[i]=b[_];n+=o[T+1]-U;P[i+1]=b[n];y+=o[T+2]-W;P[i+2]=b[y];F+=o[T+3]-t;P[i+3]=b[F];T+=S;i+=S}for(var a=0;
a<C;a++){var D=a*S;_+=o[T+D]-o[M+D];P[i+D]=b[_];n+=o[T+D+1]-o[M+D+1];P[i+D+1]=b[n];y+=o[T+D+2]-o[M+D+2];
P[i+D+2]=b[y];F+=o[T+D+3]-o[M+D+3];P[i+D+3]=b[F]}M+=C*S;T+=C*S;i+=C*S;Y=o[O];U=o[O+1];W=o[O+2];t=o[O+3];
for(var a=x-z;a<x;a++){_+=Y-o[M];P[i]=b[_];n+=U-o[M+1];P[i+1]=b[n];y+=W-o[M+2];P[i+2]=b[y];F+=t-o[M+3];
P[i+3]=b[F];M+=S;i+=S}}};e.uY.azG=function(o,P,w,x,z){var S=1/(z+z+1),k=x-z-z-1;for(var I=0;I<w;I++){var f=I,C=f,H=f+z*w,b=o[f],i=o[f+w*(x-1)],M=(z+1)*b;
for(var T=0;T<z;T++)M+=o[f+T*w];for(var T=0;T<=z;T++){M+=o[H]-b;P[f]=M*S;H+=w;f+=w}for(var T=0;T<k;T++){var O=T*w;
M+=o[H+O]-o[C+O];P[f+O]=M*S}C+=k*w;H+=k*w;f+=k*w;for(var T=x-z;T<x;T++){M+=i-o[C];P[f]=M*S;C+=w;f+=w}}};
e.Cm=function(){var o=[];function P(c,B,Z,v){var E=v.length,g=0,u=0,j=0;for(var I=0;I<E;I++){var A=v[I];
g=Math.max(g,A[2]);u=Math.max(u,A[0],B-A[0]);j=Math.max(j,A[1],Z-A[1])}if(E==1){c.fill(255);return}if(E==2){var K=v[0],r=v[1];
if(K[2]<r[2]){var h=K;K=r;r=h}var jC=K[0],d=K[1],q=r[0]-jC,hc=-(r[1]-d),dk=Math.sqrt(hc*hc+q*q),c6=1/dk;
hc/=dk;q/=dk;var e3=Math.round(255*Math.min(K[2],r[2])/g),ks=[];for(var I=0;I<1100;I++){var cH=Math.pow(I*.001,.82);
ks[I]=~~(.5+cH*e3+(1-cH)*255)}for(var bI=0;bI<Z;bI++)for(var aR=0;aR<B;aR++){var h=(aR-jC)*hc+(bI-d)*q,ak=jC+h*hc-aR,cN=d+h*q-bI,gC=Math.sqrt(ak*ak+cN*cN),bD=0;
if(ak*q-cN*hc>0)bD=255;else if(gC>dk)bD=e3;else bD=ks[~~(.5+1e3*gC*c6)];c[bI*B+aR]=bD}return}var cu=Math.round((u*u+j*j)*.021),du=o.length;
if(du<cu)for(var I=du;I<cu;I++)o[I]=1/(1e-6+Math.pow(.02*I,1.57));var bq=260/g;for(var bI=0;bI<Z;bI++)for(var aR=0;
aR<B;aR++){var hn=0,aK=0;for(var I=0;I<E;I++){var cQ=v[I],hc=aR-cQ[0],q=bI-cQ[1],gC=o[~~(.02*(hc*hc+q*q))];
aK+=gC*cQ[2];hn+=gC}c[bI*B+aR]=Math.min(~~(bq*aK/hn),255)}}var w=[];for(var I=0;I<1100;I++)w[I]=Math.pow(.5-.5*Math.cos(I/1e3*Math.PI),2);
function x(c,B,Z,v){var E=z(v),g=1-v[10];for(var u=0;u<Z;u++)for(var j=0;j<B;j++){var A=E.F*j+E.JJ*u+E.$X,K=E.b*j+E.RL*u+E.Ar,r=Math.sqrt(A*A+K*K),h=r<=g?0:r>1?1:(r-g)/(1-g);
c[u*B+j]=~~(.5+c[u*B+j]*w[~~(h*1e3)])}}function z(c){var B=c[0],Z=c[1],v=c[2]-B,E=c[3]-Z,g=c[6]-B,u=c[7]-Z,j=Math.sqrt(v*v+E*E),A=Math.sqrt(g*g+u*u),K=new ar;
K.scale(j,A);K.rotate(Math.atan2(-E,v));K.translate(B,Z);K.Sd();K.translate(-.5,-.5);K.scale(2,2);return K}var S=[];
for(var I=0;I<1100;I++)S[I]=Math.pow(.5-.5*Math.cos(I/1e3*Math.PI),.8);function k(c,I,B){var Z=c[I]-c[B],v=c[I+1]-c[B+1];
return Math.sqrt(Z*Z+v*v)}function f(c,B,Z,v){var E=v[0],g=v[1],u=v[2]-E,j=-(v[3]-g),A=Math.sqrt(j*j+u*u);
j/=A;u/=A;var K=k(v,0,2),r=k(v,0,4),h=k(v,0,6),jC=k(v,0,8);for(var d=0;d<Z;d++)for(var q=0;q<B;q++){var hc=(q-E)*j+(d-g)*u,dk=E+hc*j-q,c6=g+hc*u-d,e3=Math.sqrt(dk*dk+c6*c6),ks=0;
if(dk*u-c6*j<0)ks=e3<h?0:e3>K?1:S[~~(1e3*(e3-h)/(K-h))];else ks=e3<jC?0:e3>r?1:S[~~(1e3*(e3-jC)/(r-jC))];
c[d*B+q]=~~(.5+c[d*B+q]*ks)}}function C(c,B,Z){var v=c[0],E=c[1],g=E[0]+E[1]+E[2]+E[3],K=!1;if(g==0)return[e.U(B*Z),g];
var u=v[0],j=v[1],A=v[3];if(K)console.log(u,j,A);var r=Date.now(),h=e.U(B*Z);h.fill(255);if(E[0]!=0)P(h,B,Z,u);
if(K)console.log(Date.now()-r,"field done");r=Date.now();var jC=e.U(B*Z);jC.fill(255);if(E[1]!=0)for(var I=0;
I<j.length;I++)x(jC,B,Z,j[I]);if(K)console.log(Date.now()-r,"iris done");r=Date.now();var d=e.U(B*Z);
d.fill(255);if(E[3]!=0)for(var I=0;I<A.length;I++)f(d,B,Z,A[I]);if(K)console.log(Date.now()-r,"tilt done");
r=Date.now();var q=E[0]/g,hc=E[1]/g,dk=E[3]/g,c6=h,e3=B*Z;for(var I=0;I<e3;I++){c6[I]=q*h[I]+hc*jC[I]+dk*d[I]}return[c6,g]}function H(c,B,Z,v,E){var g=Date.now(),u=new Uint32Array(5),j=e.aEg(c,B,Z),A=E/255;
for(var K=0;K<Z;K++)for(var r=0;r<B;r++){var I=K*B+r,h=I<<2,jC=v[I]*A,d=~~(jC*.948);if(d==0){continue}u[0]=0;
u[1]=0;u[2]=0;u[3]=0;u[4]=0;var q=~~(jC*.612);if(1<=r-d&&r+d+1<=B&&1<=K-d&&K+d+1<=Z){var hc=r-d,dk=r-q,c6=r+q+1,e3=r+d+1,ks=K-d,cH=K-q,bI=K+q+1,aR=K+d+1;
b(j,B,dk,c6,ks,cH,u);b(j,B,hc,e3,cH,bI,u);b(j,B,dk,c6,bI,aR,u)}else{var hc=Math.max(1,r-d),dk=Math.max(1,r-q),c6=Math.min(B,r+q+1),e3=Math.min(B,r+d+1),ks=Math.max(1,K-d),cH=Math.max(1,K-q),bI=Math.min(Z,K+q+1),aR=Math.min(Z,K+d+1);
b(j,B,dk,c6,ks,cH,u);b(j,B,hc,e3,cH,bI,u);b(j,B,dk,c6,bI,aR,u)}if(u[4]!=0){var ak=1/u[4];c[h]=Math.min(255,~~(u[0]*ak));
c[h+1]=Math.min(255,~~(u[1]*ak));c[h+2]=Math.min(255,~~(u[2]*ak));c[h+3]=Math.min(255,~~(u[3]*ak))}}}function b(c,B,Z,v,E,g,u){var j=(v-Z)*(g-E);
if(0<j){e.aru(c,Z-1,v-1,(E-1)*B,(g-1)*B,u);u[4]+=j}}var i="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function M(c){var B=[!1,!1,!1,!1,!1,!1];for(var I=0;I<6;I++){var Z="blurb"+i[I]+"EffectApplied";if(c[Z]&&c[Z].v)B[I]=!0}return B}function T(c,B){for(var I=0;
I<6;I++){var Z="blurb"+i[I]+"EffectApplied";c[Z]={t:"bool",v:B[I]}}}var O=[];for(var Y=0;Y<6;Y++){var U,W="blurbWidgetLocationX",t="blurbWidgetLocationY";
if(Y==0)U=[W,t,"blurbGeneralBlurAmount"];if(Y==1||Y==5){var _="blurb"+(Y==1?"IrisBlur":"WheelSpin"),n=_+"Corner",y=_+"Feather";
U=[n+"0x",n+"0y",n+"1x",n+"1y",n+"2x",n+"2y",n+"3x",n+"3y",W,t,y+"0",y+"1",y+"2",y+"3",Y==1?_+"Amount":_+"BlurAmount"]}if(Y==3){var _="blurbTiltShift",F=_+"InnerPoint",a=_+"OuterPoint";
U=[_+"CenterX",_+"CenterY",a+"1X",a+"1Y",a+"2X",a+"2Y",F+"1X",F+"1Y",F+"2X",F+"2Y",_+"BlurAmount"]}O.push(U)}function V(c,B){function Z(c6,u){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c6},Vrtc:{t:"doub",v:u}}}}var v=[];
for(var Y=0;Y<6;Y++){var E=c[Y],U=O[Y];for(var I=0;I<E.length;I++){var g=E[I],u={classID:Y==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:Y}};
v.push({t:"Objc",v:u});if(Y==4){B.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:E[0][4]*100}};var j=u.blurbPathPointList={t:"VlLs",v:[Z(g[0],g[1]),Z(g[5],g[6])]};
for(var A=0;A<2;A++){var K={classID:"blurbBezierKernel"};u["blurb"+(A==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:K};
var r=g[A*5],h=g[A*5+1],jC=g[A*5+2],d=g[A*5+3];K.blurbBezierKernelUIControlPoint=Z((r+jC)/2,(h+d)/2);
var q=jC-r,hc=d-h,dk=Math.atan2(-(g[6]-g[1]),g[5]-g[0]);K.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-hc,q)-dk+Math.PI)*180/Math.PI};
K.blurbBezierKernelLocation=Z(r,h);K.blurbBezierKernelOuterPoint=Z(jC,d);if(q==0&&hc==0)K.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var A=0;
A<U.length;A++)u[U[A]]={t:"doub",v:g[A]}}}B.blurbWidgetList2={t:"VlLs",v:v}}function D(c){var B=c.blurbWidgetList;
if(B==null||B.v.length==0)B=c.blurbWidgetList2;B=B.v;var Z=[[],[],[],[],[],[]],v=[0,0,0,0,0,0];for(var I=0;
I<B.length;I++){var E=B[I].v,Y=E.blurbWidgetType.v,o=[];Z[Y].push(o);if(Y<4||Y==5){var U=O[Y];for(var g=0;
g<U.length;g++){o[g]=E[U[g]].v}if(Y==5){var u=o[0]-o[4],j=o[1]-o[5],A=Math.sqrt(u*u+j*j),K=o[o.length-1]*A*.005;
v[Y]=Math.max(v[Y],K)}else v[Y]=Math.max(v[Y],o[o.length-1])}if(Y==4){var r=c.blurbPathBlurSpeed.v.val/100;
for(var g=0;g<2;g++){var h=E["blurb"+(g==0?"Start":"End")+"BezierKernel"].v,jC=h.blurbBezierKernelIsNull;
for(var q=0;q<2;q++){var hc=h["blurbBezierKernel"+(q==0?"Location":"OuterPoint")].v;o.push(hc.Hrzn.v,hc.Vrtc.v)}var dk=o.length-4,c6=o[dk],e3=o[dk+1],u=o[dk+2]-c6,j=o[dk+3]-e3,A=Math.sqrt(u*u+j*j);
if(jC&&jC.v)A=0;o.push(r);v[Y]=Math.max(v[Y],A*r)}}}return[Z,v]}function l(c,B,Z){var v=B.rect.q,E=B.rect._,g=v*E,u=D(c),j=M(c);
for(var I=0;I<6;I++)if(!j[I])u[1][I]=0;var A=Date.now(),K=C(u,v,E),r=K[0],h=K[1];Z.buffer.set(B.buffer);
var jC=e.Y9(Z.buffer);if(jC)e.i8(Z.buffer);if(h!=0)H(Z.buffer,v,E,r,h);var d=Math.max(u[1][4],u[1][5]);
if(d!=0&&fj.Dx){var A=Date.now(),q=e.U(v*E*4);for(var I=0;I<q.length;I+=4){q[I]=127;q[I+1]=127}if(u[1][4]!=0)m(q,u,v,E,d);
if(u[1][5]!=0)Q(q,u,v,E,d);var hc=d*.25,dk=new Float32Array([1/v,1/E]),c6=fj.nR(0,v,E);c6.set(Z.buffer);
var e3=fj.nR(1,v,E);e3.set(q);fj.kU(c6,B.rect);c6.ty(B.rect);fj.filter.xS({type:fj.filter.afl,qg:e3.wH,w5:dk,ej:hc,K4:2},c6.dA);
c6.get(Z.buffer)}if(jC)e.m$(Z.buffer)}function Q(c,B,Z,v,E){var g=B[0][5];if(g.length==0)return;var u=Date.now();
for(var I=0;I<g.length;I++){var j=g[I],A=z(j),K=A.clone();K.Sd();var r=1-j[10],h=j[14]*2.15/E;for(var jC=0;
jC<v;jC++)for(var d=0;d<Z;d++){var q=A.F*d+A.JJ*jC+A.$X,hc=A.b*d+A.RL*jC+A.Ar,dk=q*q+hc*hc;if(dk<1){var c6=q-hc*h,e3=hc+q*h,ks=K.Zc(new eD(c6,e3)),cH=4*(jC*Z+d),bI=Math.sqrt(dk),aR=bI<r?0:(bI-r)/(1-r);
c[cH]=Math.max(0,Math.min(255,aR*c[cH]+(1-aR)*(127+ks.x-d)));c[cH+1]=Math.max(0,Math.min(255,aR*c[cH+1]+(1-aR)*(127+ks.y-jC)))}}}console.log(Date.now()-u)}function m(c,B,Z,v,E){var g=B[0][4];
if(g.length==0)return;var u=g[0];for(var I=1;I<g.length;I++)u=u.concat(g[I]);var j=[];for(var I=0;I<u.length;
I+=5){var A=u[I],K=u[I+1],r=u[I+2]-A,h=u[I+3]-u[I+1],jC=Math.sqrt(r*r+h*h);if(jC!=0){r/=jC;h/=jC}j.push(A,K,r,h,jC,u[I+4])}u=j;
var d=Math.floor(u.length/6),q=127/E;for(var K=0;K<v;K++)for(var A=0;A<Z;A++){var hc=0,dk=0,c6=0,e3=0;
for(var I=0;I<d;I++){var ks=I*6,cH=u[ks],bI=u[ks+1],r=A-cH,h=K-bI,jC=1/Math.pow(r*r+h*h,.5);dk+=jC*u[ks+2];
c6+=jC*u[ks+3];e3+=jC*u[ks+4]*u[ks+5];hc+=jC}var aR=Math.sqrt(dk*dk+c6*c6),ak=q*e3/(aR*hc);c[4*(K*Z+A)]=Math.min(dk*ak+127,255);
c[4*(K*Z+A)+1]=Math.min(c6*ak+127,255)}}function R(c){var B=c.blurbOpenPanel;if(B)return B.v;else{var Z=c.blurbWidgetList2.v;
for(var I=0;I<Z.length;I++){var v=Z[I].v.blurbWidgetSelected;if(v&&v.v)return Z[I].v.blurbWidgetType.v}}return 0}function $(c,B){if(B<4)c.blurbOpenPanel={t:"long",v:B};
else{delete c.blurbOpenPanel;var Z=c.blurbWidgetList2.v;for(var I=0;I<Z.length;I++){Z[I].v.blurbWidgetSelected.v=Z[I].v.blurbWidgetType.v==B}}}function p(c,Y,B,Z){var v=D(c)[0],E=v[Y],g;
if(Y==0){g=E.length;E.push([B,Z,20])}if(Y==1||Y==5){g=E.length*6+1;var u=100;E.push([B-u,Z-u,B+u,Z-u,B+u,Z+u,B-u,Z+u,B,Z,.8,.8,.8,.8,20])}if(Y==3){g=E.length*5;
E.push([B,Z,B,Z-50,B,Z+50,B,Z-20,B,Z+20,20])}if(Y==4){g=E.length*4+2;E.push([B-100,Z,B-50,Z,1,B,Z,B+50,Z,1])}V(v,c);
$(c,Y);return g}return{apply:l,VK:D,jC:V,agL:p,ao5:M,ahK:T,auG:z,acW:R,ih:$}}();e.V0={};e.V0.U=function(o,P,w,x){var z=[];
for(var S=0;S<4;S++)for(var k=0;k<4;k++)z.push(o+w*k/3,P+x*S/3);return z};e.V0.a1x=function(o,P){var w=o.slice(0);
for(var I=0;I<4;I++)for(var x=0;x<4;x++){var z=2*(I*4+x),S=2*(x*4+(3-I));if(P){var k=z;z=S;S=k}w[S]=o[z];
w[S+1]=o[z+1]}return w};e.V0.kI=e.U(0);e.V0.drawImage=function(o,P,w,x,z,S,k){var f=!1,C=Date.now(),H=2;
if(!x.rf(w)){x.x=w.x;x.y=w.y}w.x-=x.x;w.y-=x.y;x.x=x.y=0;var b=x.clone();b.offset(H,H);var i=b.clone();
i.$b(H,H);var M=e.V0.kI;if(M.length!=i.c()*4)M=e.V0.kI=e.U(i.c()*4);else M.fill(0);var T=w.clone();w.offset(H,H);
e.sR(P,w,M,i);if(f)console.log(Date.now()-C,"copy rect");C=Date.now();e.i8(M);if(f)console.log(Date.now()-C,"multiply alpha");
C=Date.now();var O=i.q-2*H,Y=i._-2*H,U=Math.max(O,Y),W=Math.round(50*O/U),t=Math.round(Math.sqrt(3)*.5*50*Y/U),_=W-.5,n=O+2*H,y=Y+2*H,F=[],a=[],V=[];
for(var D=0;D<t+1;D++){var l=(D&1)==0;for(var Q=0;Q<W+1;Q++){var m=(Q-(l?.5:0))/_,R=D/t;if(Q==0)m=0;
if(Q==W)m=1;F.push(n*m,y*R);if(Q<W&&D<t){var $=D*(W+1)+Q,p=$+1,c=$+W+1,B=c+1;if(l)a.push($,p,c,c,p,B);
else a.push($,p,B,$,B,c)}var Z=e.V0.aFP(o,m,R);V.push(-Z)}}var v=F.slice(0);e.V0.h(o,v,b);e.a.h(v,new ar(1,0,0,1,-S.x,-S.y),v);
if(f)console.log(Date.now()-C,"mesh built");C=Date.now();var E=S.q,g=S._;e.nd.Ps(M,n,y,z,E,g,F,v,V,a,k);
if(f)console.log(Date.now()-C,"rendered");C=Date.now();e.m$(z);if(f)console.log(Date.now()-C,"divided");
C=Date.now()};e.V0._k=new Array(10);e.V0.mW=function(o,P){var w=200,x=0,z=0,S=1e9,k=e.V0._k;for(var f=0;
f<w+1;f++)for(var C=0;C<w+1;C++){var H=C/w,b=f/w;e.V0.a4M(o,H,b,k);var i=k[8]-P.x,M=k[9]-P.y,T=i*i+M*M;
if(T<S){S=T;x=H;z=b}}return[x,z]};e.V0.h=function(o,P,w){var x=w.x,z=w.y,S=1/w.q,k=1/w._,f=e.V0._k;for(var C=0;
C<P.length;C+=2){var H=(P[C]-x)*S,b=(P[C+1]-z)*k;e.V0.a4M(o,H,b,f);P[C]=f[8];P[C+1]=f[9]}};e.V0.aFP=function(o,P,w){var x,z,S,k,f=e.V0._k;
e.V0.a3r(o,P,w,f);x=f[8];z=f[9];e.V0.apQ(o,P,w,f);S=f[8];k=f[9];return x*k-z*S};e.V0.Lb=function(o,P,w){var x=0,z=0,S=o[2][0],k=o[2][1];
while(x+2<S.length&&S[x+1]<P)x++;P=(P-S[x])/(S[x+1]-S[x]);while(z+2<k.length&&k[z+1]<w)z++;w=(w-k[z])/(k[z+1]-k[z]);
return[x*3,z*3,P,w]};e.V0.a4M=function(o,P,w,x){var z=e.V0.Lb(o,P,w);e.V0.No(x,0,z[3]);e.V0.No(x,4,z[2]);
e.V0.fE(o[3],z[0],z[1],o[0],x)};e.V0.a3r=function(o,P,w,x){var z=e.V0.Lb(o,P,w);e.V0.No(x,0,z[3]);e.V0.a38(x,4,z[2]);
e.V0.fE(o[3],z[0],z[1],o[0],x)};e.V0.apQ=function(o,P,w,x){var z=e.V0.Lb(o,P,w);e.V0.a38(x,0,z[3]);e.V0.No(x,4,z[2]);
e.V0.fE(o[3],z[0],z[1],o[0],x)};e.V0.a38=function(o,I,P){var w=1-P;o[I]=-3*(w*w);o[I+1]=3*(w*w)-6*(P*w);
o[I+2]=6*(P*w)-3*(P*P);o[I+3]=3*(P*P)};e.V0.No=function(o,I,P){var w=1-P;o[I]=w*(w*w);o[I+1]=3*P*(w*w);
o[I+2]=3*(P*P)*w;o[I+3]=P*P*P};e.V0.aeJ=function(o,P,w,x,z){var S=e.V0.Lb(o,P,w),k=S[0],f=S[1],C=S[2],H=S[3],b=o[0],i=Math.floor(C*3),M=Math.floor(H*3),T=e.V0._k,O=16,a=0;
e.V0.No(T,0,H);e.V0.No(T,4,C);var Y=[],U=[],W=[];for(var t=0;t<4;t++){for(var _=0;_<4;_++){var I=t*4+_,n=T[t]*T[4+_];
Y.push(n);U.push((f+t)*b+k+_);if((t==M||t==M+1)&&(_==i||_==i+1)){var y=C*3-i;if(_==i)y=1-y;var F=H*3-M;
if(t==M)F=1-F;W[I]=y*F/n}else W[I]=0}}for(var I=0;I<O;I++)a+=Y[I]*W[I];for(var I=0;I<O;I++)W[I]/=a;for(var I=0;
I<O;I++){var n=Y[I],V=U[I];o[3][V*2]+=W[I]*x;o[3][V*2+1]+=W[I]*z}};e.V0.VI=function(o){var P=o[0],w=o[1],x=o[2],z=o[3],S=z.slice(0);
for(var k=0;k<w;k++)for(var f=0;f<P;f++){z[(f*w+k)*2]=S[(k*P+f)*2];z[(f*w+k)*2+1]=S[(k*P+f)*2+1]}o[0]=w;
o[1]=P;o[2]=[x[1],x[0]]};e.V0.split=function(o,P,w){if(P==1)e.V0.VI(o);var x=o[0],z=o[1],S=o[2][0],k=o[3],f=0;
while(S[f+1]&&S[f+1]<w)f++;var C=(w-S[f])/(S[f+1]-S[f]),H=1-C;for(var b=0;b<z;b++){var I=(b*(x+3)+f*3)*2,i=H*k[I]+C*k[I+2],M=H*k[I+1]+C*k[I+3],T=H*k[I+2]+C*k[I+4],O=H*k[I+3]+C*k[I+5],Y=H*k[I+4]+C*k[I+6],U=H*k[I+5]+C*k[I+7],W=H*i+C*T,t=H*M+C*O,_=H*T+C*Y,n=H*O+C*U,y=H*W+C*_,F=H*t+C*n;
k.splice(I+2,4,i,M,W,t,y,F,_,n,Y,U)}S.push(w);S.sort();o[0]+=3;if(P==1)e.V0.VI(o)};e.V0.fE=function(o,P,w,x,z){var S=0,k=0,f=0,C=z[0],H=z[1],b=z[2],i=z[3],M=z[4],T=z[5],O=z[6],Y=z[7],I=(w*x+P)*2;
f=C*M;S+=o[I+0]*f;k+=o[I+1]*f;f=C*T;S+=o[I+2]*f;k+=o[I+3]*f;f=C*O;S+=o[I+4]*f;k+=o[I+5]*f;f=C*Y;S+=o[I+6]*f;
k+=o[I+7]*f;I+=x+x;f=H*M;S+=o[I+0]*f;k+=o[I+1]*f;f=H*T;S+=o[I+2]*f;k+=o[I+3]*f;f=H*O;S+=o[I+4]*f;k+=o[I+5]*f;
f=H*Y;S+=o[I+6]*f;k+=o[I+7]*f;I+=x+x;f=b*M;S+=o[I+0]*f;k+=o[I+1]*f;f=b*T;S+=o[I+2]*f;k+=o[I+3]*f;f=b*O;
S+=o[I+4]*f;k+=o[I+5]*f;f=b*Y;S+=o[I+6]*f;k+=o[I+7]*f;I+=x+x;f=i*M;S+=o[I+0]*f;k+=o[I+1]*f;f=i*T;S+=o[I+2]*f;
k+=o[I+3]*f;f=i*O;S+=o[I+4]*f;k+=o[I+5]*f;f=i*Y;S+=o[I+6]*f;k+=o[I+7]*f;I+=x+x;z[8]=S;z[9]=k};e.$c={};
e.$c.a6U=function(o,P,w){var x=Date.now();return e.$c.ahE(o,P,w)};e.$c.az5=function(o,P,w,x){var z=w*x,S=new Uint32Array(z),k=new Uint8Array(z),f=new Int16Array(z);
S.fill(4294967295);S[P]=0;var C=new bG(z);C.push(P,S[P]);var H={h8:o,RN:S,Mh:k,dR:f,s$:C,and:P,AV:[-w-1,-w,-w+1,1,w+1,w,w-1,-1]};
return H};e.$c.gF=function(o,P){var w=o.h8,x=o.RN,z=o.Mh,S=o.dR,k=o.s$,f=o.AV;while(k.Ye!=0&&(P==null||z[P]==0)){var C=k.pop();
if(z[C]==1)continue;z[C]=1;for(var I=0;I<8;I++){var H=w[8*C+I],b=C+f[I];if(H==255||z[b]==1)continue;
var i=x[C]+H;if(i<x[b]){x[b]=i;S[b]=C-b;k.push(b,i)}}}};function bG(o){this.list=[];this.Ye=0;this.gp=4294967295}bG.prototype.push=function(o,P){var w=this.list;
if(w[P]==null)w[P]=[];w[P].push(o);this.Ye++;this.gp=Math.min(this.gp,P)};bG.prototype.pop=function(){this.Ye--;
var o=this.list,P=this.gp,w=o[P].pop();if(o[P].length==0){o[P]=null;if(this.Ye==0)this.gp=4294967295;
else{while(o[P]==null)P++;this.gp=P}}return w};e.$c.acj=function(o,P,w,x){var z=new Int16Array(x);for(var S=0;
S<w;S++)for(var k=0;k<P;k++){var I=S*P+k,f=0;if(1<k&&k<P-2&&1<S&&S<w-2){f+=o[I-P-P];f+=o[I-P-1]+2*o[I-P]+o[I-P+1];
f+=o[I-2]+2*o[I-1]-16*o[I]+2*o[I+1]+o[I+2];f+=o[I+P-1]+2*o[I+P]+o[I+P+1];f+=o[I+P+P]}else f=-16*o[I];
z[I]=f}return z};e.$c.as3=function(o,P,w,x){if(x==null)x=128;var z=new Uint8Array(P*w);for(var S=1;S<w;
S++)for(var k=1;k<P;k++){var I=S*P+k;e.$c.a1o(o,I,I-1,z,x);e.$c.a1o(o,I,I-P,z,x)}return z};e.$c.a1o=function(o,I,P,w,x){var z=o[I],S=o[P];
if(Math.abs(z-S)>x&&z*S<0){if(Math.abs(z)<Math.abs(S))w[I]=1;else w[P]=1}};e.$c.aeV=function(o,P,w,x){var z=new Float32Array(x),S=0;
new Uint32Array(x).fill(0);for(var k=0;k<w;k++)for(var f=0;f<P;f++){var C=0,H=0,I=k*P+f,b=I*3;if(0<f&&f<P-1)C=o[I+1]-o[I-1];
if(0<k&&k<w-1)H=o[I+P]-o[I-P];var i=C*C+H*H;if(i!=0){var M=z[b+2]=Math.sqrt(i),T=1/M;z[b]=C*T;z[b+1]=H*T;
if(M>S)S=M}}var O=3*P*w,Y=S==0?0:1/S;for(var I=0;I<O;I+=3)z[I+2]=1-z[I+2]*Y;return z};e.$c.ahE=function(){function o(f,C,H){var b=new ArrayBuffer(C*H*12),i=Date.now(),M=e.$c.acj(f,C,H,b),T=e.$c.as3(M,C,H),O=e.$c.aeV(f,C,H,b),Y=new Uint8Array(C*H*8);
new Uint32Array(Y.buffer).fill(4294967295);var U=[-C-1,-C,-C+1,1];for(var W=1;W<H-1;W++)for(var t=1;
t<C-1;t++){var _=W*C+t;for(var n=0;n<4;n++)k(_,_+U[n],n,Y,T,O)}return Y}var P=new Float64Array(256);
for(var I=0;I<256;I++)P[I]=Math.acos(-1+2*I/255)*(.95/Math.PI);var w=[-1,0,1,1,1,0,-1,-1],x=[-1,-1,-1,0,1,1,1,0];
for(var I=0;I<8;I++){var z=1/Math.sqrt(w[I]*w[I]+x[I]*x[I]);w[I]*=z;x[I]*=z}var S=[w[0],x[0],w[1],x[1],w[2],x[2],w[3],x[3]];
function k(f,C,H,b,i,M){var T=3*f,O=3*C,Y=1-i[C],U=1-i[f],W=(H&1)==0?1:Math.SQRT1_2,t=M[O+2]*W,_=M[T+2]*W,n=M[O+1],y=-M[O],F=M[T+1],a=-M[T],V=S[H+H],D=S[H+H+1],l=F*V+a*D,Q=n*V+y*D;
if(l+Q<0){l=-l;Q=-Q}var m=P[~~((.5+.5*l)*255)]+P[~~((.5+.5*Q)*255)];b[(f<<3)+H]=1+~~(.5+20*(.43*Y+.43*m+.14*t));
b[(C<<3)+H+4]=1+~~(.5+20*(.43*U+.43*m+.14*_))}return o}();e.qY={};e.qY.na=function(o){var P=o.slice(0),w=0;
for(var I=0;I<o.length;I++)w+=o[I];for(var I=0;I<o.length;I++)P[I]/=w;return P};e.qY.we=[e.qY.na([1,2,1,2,16,2,1,2,1]),e.qY.na([1,2,1,2,4,2,1,2,1]),e.qY.na([0,-1,0,-1,8,-1,0,-1,0]),e.qY.na([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
e.qY.jn=function(o,P,w,x,z,S,k,f){if(k==null)k=!1;if(f==null)f=!1;var C=Math.floor(Math.sqrt(z.length)),H=C-1>>>1,b=new Uint32Array(o.buffer),P=new Uint8ClampedArray(P.buffer);
for(var I=0;I<x;I++)for(var i=0;i<w;i++){var M=0,T=0,O=0,Y=0;for(var U=0;U<C;U++)for(var W=0;W<C;W++){var t=z[U*C+W];
if(t==0)continue;var _=i-H+W,n=I-H+U;if(_<0)_=0;else if(_>w-1)_=w-1;if(n<0)n=0;else if(n>x-1)n=x-1;if(f&&b[n*w+_]>>>24==0){n=I;
_=i}var y=b[n*w+_];M+=(y&255)*t;T+=(y>>>8&255)*t;O+=(y>>>16&255)*t;Y+=(y>>>24&255)*t}if(k){if(M<0)M=-M;
if(T<0)T=-T;if(O<0)O=-O;if(Y<0)Y=-Y}if(f){M=Math.max(0,Math.min(255,M));T=Math.max(0,Math.min(255,T));
O=Math.max(0,Math.min(255,O));Y=Math.max(0,Math.min(255,Y))}var F=I*w+i<<2;P[F]=~~(.5+M);P[F+1]=~~(.5+T);
P[F+2]=~~(.5+O);P[F+3]=255-S&P[F+3]|S&~~(.5+Y)}};e.qY.azk=function(o,P,w,x){var z=o.length,S=new Uint8Array(z);
e.qY.jn(o,P,w,x,e.qY.we[4],0,!0);e.qY.jn(o,S,w,x,e.qY.we[5],0,!0);for(var I=0;I<z;I+=4){var k=P[I],f=P[I+1],C=P[I+2],H=P[I+3],b=S[I],i=S[I+1],M=S[I+2],T=S[I+3];
P[I]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+b*b)));P[I+1]=255-Math.max(0,Math.min(255,Math.sqrt(f*f+i*i)));
P[I+2]=255-Math.max(0,Math.min(255,Math.sqrt(C*C+M*M)))}};e.qY.axu=function(o,P,w,x){var z=o.length,S=new Uint8Array(z);
e.qY.Ld(o,P,w,x,e.qY.we[4],!0);e.qY.Ld(o,S,w,x,e.qY.we[5],!0);for(var I=0;I<z;I++){var k=P[I],f=S[I];
P[I]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+f*f)))}};e.qY.Ld=function(o,P,w,x,z,S){P=new Uint8ClampedArray(P.buffer);
var k=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],f=x-1,C=w-1;for(var I=1;I<f;I++)for(var H=1;H<C;H++){var b=I*w+H,i=e.qY.Tf(o,b,w,z);
if(S){if(i<0)i=-i}P[b]=~~(i+.5)}};e.qY.Tf=function(o,P,w,x){return o[P-w-1]*x[0]+o[P-w]*x[1]+o[P-w+1]*x[2]+o[P-1]*x[3]+o[P]*x[4]+o[P+1]*x[5]+o[P+w-1]*x[6]+o[P+w]*x[7]+o[P+w+1]*x[8]};
e.qY.a7s=function(o,P,w,x,z){var S=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],k=x-1,f=w-1;for(var I=1;I<k;I++)for(var C=1;
C<f;C++){var H=I*w+C;P[H]=e.qY.att(o,H,w,z)}};e.qY.att=function(o,P,w,x){return o[P-w-1]*x[0]+o[P-w]*x[1]+o[P-w+1]*x[2]+o[P-1]*x[3]+o[P]*x[4]+o[P+1]*x[5]+o[P+w-1]*x[6]+o[P+w]*x[7]+o[P+w+1]*x[8]};
e.t6={};e.t6.aq=function(){function o(k,f,C,H,b,i){if(b==0){f.set(k);return}var M=e.U(C*H),T=e.U(C*H);
if(e.Y9(k)){P(k,f,C,H,b,i);e.JX(k,M,3);e.t6.avE(M,T,C,H,b,i);e.lI(T,f,3)}else{for(var I=0;I<3;I++){e.JX(k,M,I);
e.t6.avE(M,T,C,H,b,i);e.lI(T,f,I)}}}function P(k,f,C,H,b,i){var M=0,T=new ArrayBuffer(512*4*3),O=[new Int32Array(T,0),new Int32Array(T,2048),new Int32Array(T,2*2048)],Y=1+2*Math.round(Math.sqrt(b)),U=Y>>>1,W=new Array(Y),t=new Array(Y);
for(var I=0;I<Y;I++){var T=new ArrayBuffer(512*4*3);W[I]=[new Int32Array(T,0),new Int32Array(T,2048),new Int32Array(T,2*2048)];
t[I]=W[I][0]}var _=[e.t6.o_,e.t6.y1][i],n=_[0],y=_[1],F=O[0];for(var a=0;a<C;a++)if(a<b||a>C-b-Y-1){F.fill(0);
var V=Math.max(a-b,0),D=Math.min(C,a+b+1),l=D-V;for(var Q=0;Q<b;Q++)x(F,k,Q*C+V,Q*C+D,1);for(var Q=0;
Q<H;Q++){var $=Q-b-1,p=Q+b;if(p<H)x(F,k,p*C+V,p*C+D,1);if($>=0)x(F,k,$*C+V,$*C+D,-1);var c=Q*C+a<<2;
M=F[300];if(M!=0)for(var I=0;I<3;I++)f[c+I]=n(O[I],k[c+I],M)}}else{for(var I=0;I<Y;I++)t[I].fill(0);
var V=a-b+U,D=a+b+1+U;for(var Q=0;Q<b;Q++)w(t,k,Q*C+V,Q*C+D,1,U);for(var Q=0;Q<H;Q++){var $=Q-b-1,p=Q+b;
if($>=0)w(t,k,$*C+V,$*C+D,-1,U);if(p<H)w(t,k,p*C+V,p*C+D,1,U);var B=W[U];M=B[0][300];for(var I=0;I<U;
I++){var Z=U-1-I,v=U+1+I,E=W[Z],g=W[v],u=M+E[0][300],j=M+g[0][300],A=Q*C+a+Z<<2,K=Q*C+a+v<<2;if(u!=0)for(var s=0;
s<3;s++)f[A+s]=y(B[s],E[s],k[A+s],u);if(j!=0)for(var s=0;s<3;s++)f[K+s]=y(B[s],g[s],k[K+s],j)}var c=Q*C+a+U<<2;
if(M!=0)for(var s=0;s<3;s++)f[c+s]=n(B[s],k[c+s],M)}a+=Y-1}}function w(k,f,C,H,b,i){var M=z,T=C<<2,O=H<<2;
M(k[i-1],f,C-1<<2,b);M(k[i-1],f,H-1<<2,-b);M(k[i+1],f,H<<2,b);M(k[i+1],f,C<<2,-b);for(var I=1;I<i;I++){var Y=k[i-I-1],U=k[i+I+1];
for(var W=0;W<=I;W++){var t=W<<2;M(Y,f,C-1-W<<2,b);M(Y,f,H-1-W<<2,-b);M(U,f,H+W<<2,b);M(U,f,C+W<<2,-b)}}x(k[i],f,C,H,b)}function x(k,f,I,C,H){var b=I<<2,i=C<<2;
while(b<i){z(k,f,b,H);b+=4}}function z(k,f,C,H){var b=H*f[C+3];k[300]+=b;S(k,f[C],0,b);S(k,f[C+1],512,b);
S(k,f[C+2],1024,b)}function S(k,f,C,H){k[C|f]+=H;k[C|256|f>>>4]+=H}return o}();e.t6.avE=function(){function o(i,M,T,O,Y,U){if(Y==0){M.set(i);
return}if(Y<=200)P(i,M,T,O,Y,U);else S(i,M,T,O,Y,U)}function P(i,M,T,O,Y,U){var W=0,t=new Int32Array(512),_=1+2*Math.round(Math.sqrt(Y)),n=_>>>1,y=new Array(_);
for(var I=0;I<_;I++)y[I]=new Int32Array(512);var F=[e.t6.o_,e.t6.y1][U],a=F[0],V=F[1];for(var D=0;D<T;
D++)if(D<Y||D>T-Y-_-1){t.fill(0);W=0;var l=Math.max(D-Y,0),Q=Math.min(T,D+Y+1),$=Q-l;for(var p=0;p<Y;
p++){W+=$;x(t,i,p*T+l,p*T+Q,1)}for(var p=0;p<O;p++){var c=p-Y-1,B=p+Y;if(c>=0){W-=$;x(t,i,c*T+l,c*T+Q,-1)}if(B<O){W+=$;
x(t,i,B*T+l,B*T+Q,1)}var Z=a(t,i[p*T+D],W);M[p*T+D]=Z}}else{for(var I=0;I<_;I++)y[I].fill(0);W=0;var l=D-Y+n,Q=D+Y+1+n,$=Q-l;
for(var p=0;p<Y;p++){W+=$;w(y,i,p*T+l,p*T+Q,1,n)}for(var p=0;p<O;p++){var c=p-Y-1,B=p+Y;if(c>=0){W-=$;
w(y,i,c*T+l,c*T+Q,-1,n)}if(B<O){W+=$;w(y,i,B*T+l,B*T+Q,1,n)}for(var I=0;I<n;I++){var v=n-1-I,E=n+1+I;
M[p*T+D+v]=V(y[n],y[v],i[p*T+D+v],W);M[p*T+D+E]=V(y[n],y[E],i[p*T+D+E],W)}M[p*T+D+n]=a(y[n],i[p*T+D+n],W)}D+=_-1}}function w(i,M,T,O,Y,U){var W=z;
W(i[U-1],M[T-1],0,Y);W(i[U-1],M[O-1],0,-Y);W(i[U+1],M[O],0,Y);W(i[U+1],M[T],0,-Y);for(var I=1;I<U;I++){var t=i[U-I-1],_=i[U+I+1];
for(var n=0;n<=I;n++){W(t,M[T-1-n],0,Y);W(t,M[O-1-n],0,-Y);W(_,M[O+n],0,Y);W(_,M[T+n],0,-Y)}}x(i[U],M,T,O,Y)}function x(i,M,I,T,O){while(I<T)z(i,M[I++],0,O)}function z(i,M,T,O){i[T|M]+=O;
i[T|256|M>>>4]+=O}function S(i,M,T,O,Y,U){var W=0,t=new Int32Array(512),_=new Int32Array(1*T),n=new Int32Array(512*T),y=Math.min(Y,T),F=Math.min(Y,O),a=[e.t6.o_,e.t6.y1][U],V=a[0];
for(var D=0;D<F;D++)k(n,_,i,T,D,1);for(var D=0;D<O;D++){if(D+Y<O)k(n,_,i,T,D+Y,1);if(D-Y-1>=0)k(n,_,i,T,D-Y-1,-1);
t.fill(0);W=0;for(var l=0;l<y;l++){W+=_[l];f(t,n,l)}for(var l=0;l<T;l++){var Q=l-Y-1,m=l+Y;if(Q>=0&&_[Q]!=0){W-=_[Q];
C(t,n,Q)}if(m<T&&_[m]!=0){W+=_[m];f(t,n,m)}var R=W==0?0:V(t,i[D*T+l],W);M[D*T+l]=R}}}function k(i,M,T,O,Y,U){var I=Y*O;
for(var W=0;W<O;W++){z(i,T[I+W],W<<9,U);M[W]+=U}}function f(i,M,T){for(var I=0;I<16;I++){var O=M[T<<9|256|I];
if(O==0)continue;i[256|I]+=O;var Y=I<<4,U=T<<9|Y;H(i,M,Y,U);H(i,M,Y+4,U+4);H(i,M,Y+8,U+8);H(i,M,Y+12,U+12)}}function C(i,M,T){for(var I=0;
I<16;I++){var O=M[T<<9|256|I];if(O==0)continue;i[256|I]-=O;var Y=I<<4,U=T<<9|Y;b(i,M,Y,U);b(i,M,Y+4,U+4);
b(i,M,Y+8,U+8);b(i,M,Y+12,U+12)}}function H(i,M,T,O){i[T]+=M[O];i[T+1]+=M[O+1];i[T+2]+=M[O+2];i[T+3]+=M[O+3]}function b(i,M,T,O){i[T]-=M[O];
i[T+1]-=M[O+1];i[T+2]-=M[O+2];i[T+3]-=M[O+3]}return o}();e.t6.L2=.5;e.t6.o_=[function(o,P,w){var x=~~(.5+e.t6.L2*w),z=0,I=256;
while(z+o[I]<x)z+=o[I++];I=I-256<<4;while(z<x)z+=o[I++];return I-1},function(o,P,w,x){var z=~~(.5+e.t6.L2*x),S=0,I=256;
while(S+o[I]+P[I]<z){S+=o[I]+P[I];I++}I=I-256<<4;while(S<z){S+=o[I]+P[I];I++}return I-1}];e.t6.Po=100;
e.t6.y1=[function(o,P,w){var x=e.t6.Po,z=0,S=0,I=Math.max(0,P-x),k=Math.min(256,P+x+1);while(I<k){var f=o[I];
z+=I*f;S+=f;I++}return S==0?0:z/S},function(o,P,w,x){var z=e.t6.Po,S=0,k=0,I=Math.max(0,w-z),f=Math.min(256,w+z+1);
while(I<f){var C=o[I]+P[I];S+=I*C;k+=C;I++}return k==0?0:S/k}];e.W={};e.W.dn=function(o){var P=N.DH.PU(o.Trnf),w=o.Sz.v,x=e.W.tV(P,new fA(0,0,w.Wdth.v,w.Hght.v));
return e.W.L1(x)};e.W.tV=function(o,P){var w=o[0],x=o[1],z=o[2],S=o[3],k=o[6],f=o[7],C=o[4],H=o[5],b=0,i=0,M=1,T=0,O=0,Y=1,U=1,W=1;
if(P){b=P.x;i=P.y;M=P.x+P.q;T=P.y;O=P.x;Y=P.y+P._;U=P.x+P.q;W=P.y+P._}return e.W.a7q(o,[b,i,M,T,U,W,O,Y])};
e.W.arK=function(o){function P(z,S){for(var I=0;I<S.length;I+=2)if(!w(z,S[I],S[I+1]))return!1;return!0}function w(z,S,k){return z[2*S]==z[2*k]&&z[2*S+1]==z[2*k+1]}var x=0;
if(P(o,[0,1,2,3]))x+=1;if(P(o,[0,3,1,2]))x+=2;return x};e.W.a7q=function(o,P){function w(c,I,B){var R=c[I*2]-c[B*2],$=c[I*2+1]-c[B*2+1];
return Math.sqrt(R*R+$*$)}var x=o[0],z=o[1],S=o[2],k=o[3],f=o[6],C=o[7],H=o[4],b=o[5],i=P[0],M=P[1],T=P[2],O=P[3],Y=P[6],U=P[7],W=P[4],t=P[5],_=[[i,M,1,0,0,0,-i*x,-M*x,x],[0,0,0,i,M,1,-i*z,-M*z,z],[T,O,1,0,0,0,-T*S,-O*S,S],[0,0,0,T,O,1,-T*k,-O*k,k],[Y,U,1,0,0,0,-Y*f,-U*f,f],[0,0,0,Y,U,1,-Y*C,-U*C,C],[W,t,1,0,0,0,-W*H,-t*H,H],[0,0,0,W,t,1,-W*b,-t*b,b]],n=[0,0,0,0,0,0,0,0],y=e.zr.lX(_,n);
if(y!=0){n=[0,0,0,0,0,0,0,0];var F=e.W.arK(o),a=e.W.arK(P);if(F==a&&F!=0){var V=F==1,D=V?3:1,l=w(o,0,D),Q=w(P,0,D),m=Q/l,R=o[2*D]-o[0],$=o[2*D+1]-o[1],p=new ar;
p.translate(-x,-z);p.rotate(Math.atan2($,R)-(V?Math.PI/2:0));if(V)p.scale(1,m);else p.scale(m,1);p.translate(i,M);
p.Sd();n=e.W.G5(p)}}return n};e.W.U=function(o,P){if(o==null)o=P=0;return[1,0,o,0,1,P,0,0]};e.W.vY=function(o){return Math.abs(o[6])<1e-10&&Math.abs(o[7])<1e-10};
e.W.L1=function(o){return new ar(o[0],o[3],o[1],o[4],o[2],o[5])};e.W.G5=function(o){return[o.F,o.JJ,o.$X,o.b,o.RL,o.Ar,0,0]};
e.W.h=function(o,P){var w=new Float64Array(2);for(var x=0;x<P.length;x+=2){var z=P[x],S=P[x+1];e.W.P5(z,S,o,w);
P[x]=w[0];P[x+1]=w[1]}};e.W.P5=function(o,P,w,x){var z=1/(w[6]*o+w[7]*P+1);x[0]=(w[0]*o+w[1]*P+w[2])*z;
x[1]=(w[3]*o+w[4]*P+w[5])*z};e.W.apj=function(o,P){var w=new Float64Array(2);e.W.P5(P.x,P.y,o,w);return new eD(w[0],w[1])};
e.W.VI=function(o,P,w,x){o=new Uint32Array(o.buffer);P=new Uint32Array(P.buffer);for(var z=0;z<x;z++){for(var S=0;
S<w;S++){P[S*x+z]=o[z*w+S]}}};e.W.ug=function(o,P,w,x){o=new Uint32Array(o.buffer);P=new Uint32Array(P.buffer);
for(var z=0;z<x;z++){for(var S=0;S<w;S++){P[z*w+S]=o[z*w+w-1-S]}}};e.W.aA4=function(o,P,w,x){o=new Uint32Array(o.buffer);
P=new Uint32Array(P.buffer);for(var z=0;z<x;z++){for(var S=0;S<w;S++){P[z*w+S]=o[(x-1-z)*w+S]}}};e.W.azN=function(o){return Math.abs(o[6])<1e-9&&Math.abs(o[7])<1e-9};
e.W.aEV=function(o){return Math.abs(o[0])<1e-9&&Math.abs(o[4])<1e-9||Math.abs(o[1])<1e-9&&Math.abs(o[3])<1e-9};
e.W.drawImage=function(o,P,w,x,z,S,k,f,C){if(k==null)k=!1;if(f==null)f=!1;var H=e.W.Sd(o),b=!0,i=0;for(var I=0;
I<8;I++){var M=Math.round(o[I]);if(I!=2&&I!=5)i+=Math.abs(M);if(Math.abs(M-o[I])>1e-9)b=!1}var T=e.W.azN(o),O=e.W.aEV(o)&&T,Y=O?1:0;
if(k||b&&i==w+x&&T){e.W.av_(H,P,w,x,z,S,f,T,C);return}var U=S.q,W=S._,t=new Float64Array(2);z=new Uint32Array(z.buffer);
P=new Uint32Array(P.buffer);for(var _=0;_<W;_++)for(var n=0;n<U;n++){var y=_*U+n,F,a,V,D,E=0,g=0,u=0,j=0;
z[y]=0;var l=n+S.x+.5,Q=_+S.y+.5;F=l;a=Q;V=H;var m=V[0]*F+V[1]*a+V[2],R=V[3]*F+V[4]*a+V[5];if(!T){D=1/(V[6]*F+V[7]*a+1);
m*=D;R*=D}var $=m*w,p=R*x,c=$<-1||$>w+1||p<-1||p>x+1;if(f){$=Math.max(.001,Math.min(w-1,$));p=Math.max(.001,Math.min(x-1,p))}else if(c)continue;
var B=e.W.apF(o,w,x,l,Q,m,R),Z=Math.round(B*2.3);if(B<1.1){e.W.Xd($,p,P,w,x,z,y,Y);continue}if(!f&&($<.6||$>w-.6||p<.6||p>x-.6)){Z=Math.max(Z,5)}if(f&&c)Z=1;
var v=1/Z,A=S.x+n,K=S.y+_;V=H;for(var I=0;I<Z;I++)for(var s=0;s<Z;s++){F=A+(I+.5)*v;a=K+(s+.5)*v;var $=V[0]*F+V[1]*a+V[2],p=V[3]*F+V[4]*a+V[5];
if(!T){D=1/(V[6]*F+V[7]*a+1);$*=D;p*=D}if(f){$=Math.max(.001,Math.min(.999,$));p=Math.max(.001,Math.min(.999,p))}else if($<0||$>=1||p<0||p>=1)continue;
$=Math.floor($*w);p=Math.floor(p*x);var r=p*w+$,h=P[r],jC=h>>>24;E+=(h&255)*jC;g+=(h>>>8&255)*jC;u+=(h>>>16&255)*jC;
j+=jC}if(j!=0){var d=1/j;E=~~(E*d+.5);g=~~(g*d+.5);u=~~(u*d+.5);j=~~(j*v*v+.5);z[y]=j<<24|u<<16|g<<8|E}}};
e.W.apF=function(o,P,w,x,z,S,k){var f=e.W.auT(o,x,z,S+1/P,k),C=e.W.auT(o,x,z,S,k+1/w);return 1/Math.sqrt(Math.max(f,C))};
e.W.auT=function(o,P,w,x,z){var S=1/(o[6]*x+o[7]*z+1),k=(o[0]*x+o[1]*z+o[2])*S-P,f=(o[3]*x+o[4]*z+o[5])*S-w;
return k*k+f*f};e.W.av_=function(o,P,w,x,z,S,k,f,C){if(f&&!k&&S.c()>4e6&&C){e.W.aAS(o,P,w,x,z,S,k,f,C);
return}var H=S.x+S.q,b=S.y+S._,i=0,M=new Uint32Array(z.buffer),T=new Uint32Array(P.buffer),O=o[0]*w,Y=o[1]*w,U=o[2]*w,W=o[3]*x,t=o[4]*x,_=o[5]*x,n=o[6],y=o[7];
if(f&&!k)for(var F=S.y+.5;F<b;F++)for(var a=S.x+.5;a<H;a++){var V=O*a+Y*F+U,D=W*a+t*F+_;if(0<V&&V<w&&0<D&&D<x){var l=~~D*w+~~V;
M[i]=T[l]}else M[i]=0;i++}else for(var F=S.y+.5;F<b;F++)for(var a=S.x+.5;a<H;a++){var Q=1/(n*a+y*F+1),V=(O*a+Y*F+U)*Q,D=(W*a+t*F+_)*Q;
if(k){V=Math.max(.001,Math.min(w-1,V));D=Math.max(.001,Math.min(x-1,D))}if(0<V&&V<w&&0<D&&D<x){var l=Math.floor(D)*w+Math.floor(V);
M[i]=T[l]}else M[i]=0;i++}};e.W.aAS=function(o,P,w,x,z,S,k,f,C){var H=new Uint32Array(z.buffer),b=new Uint32Array(P.buffer),y=0;
if(C&&(S.q&3)!=0)throw"e";var i=o[0]*w,M=o[1]*w,T=o[2]*w,O=o[3]*x,Y=o[4]*x,U=o[5]*x,W=o[6],t=o[7],_=S.q,n=S._,F=S.x+.5,a=S.y+.5,V=(_>>>2<<2)-1e-9,D=-.1+(n>>>1<<1)-1e-9,l=~~w,Q=i==0?0:1/i,m=O==0?0:1/O;
for(var R=0;R<n;R++){var $=F*i+M*(R+a)+T,p=F*O+Y*(R+a)+U,c=0,B=_;if(i==0){}else if(Q>0){c=Math.max(c,-$*Q);
B=Math.min(B,(w-$)*Q)}else{B=Math.min(B,-$*Q);c=Math.max(c,(w-$)*Q)}if(O==0){}else if(m>0){c=Math.max(c,-p*m);
B=Math.min(B,(x-p)*m)}else{B=Math.min(B,-p*m);c=Math.max(c,(x-p)*m)}if(B<0)B=0;if(c>B)c=B;c=~~Math.ceil(c);
B=~~B;y=~~(R*_);H.fill(0,y,y+c);y+=c;for(var Z=c;Z<B;Z+=4){var v=i*Z+$,E=O*Z+p,g=~~E*l+~~v,u=b[g];H[y]=u;
H[y+1]=u;H[y+2]=u;H[y+3]=u;y+=4}H.fill(0,y,y+_-B)}};e.W.Sd=function(o){var P=o[4]-o[5]*o[7],w=o[2]*o[7]-o[1],x=o[1]*o[5]-o[2]*o[4],z=o[5]*o[6]-o[3],S=o[0]-o[2]*o[6],k=o[3]*o[2]-o[0]*o[5],f=o[3]*o[7]-o[4]*o[6],C=o[1]*o[6]-o[0]*o[7],H=1/(o[0]*o[4]-o[1]*o[3]);
return[P*H,w*H,x*H,z*H,S*H,k*H,f*H,C*H]};e.W.j$=function(o,P){var w=o[0],x=o[1],z=o[2],S=o[3],k=o[4],f=o[5],C=o[6],H=o[7],b=P[0],i=P[1],M=P[2],T=P[3],O=P[4],Y=P[5],U=P[6],W=P[7],t=[w*b+x*T+z*U,w*i+x*O+z*W,w*M+x*Y+z,S*b+k*T+f*U,S*i+k*O+f*W,S*M+k*Y+f,C*b+H*T+U,C*i+H*O+W],_=1/(C*M+H*Y+1);
for(var I=0;I<8;I++)t[I]*=_;return t};e.W.Xd=function(o,P,w,x,z,S,k,f){var C=o,H=P,M=0,T=0,O=0,Y=0;o-=.499999;
P-=.499999;var b=Math.floor(o),i=Math.floor(P);if(f==0){var I=i*x+b,U=b>=0&&b<x,W=b+1>=0&&b+1<x,t=i>=0&&i<z,_=i+1>=0&&i+1<z;
if(U&&t)M=w[I];if(W&&t)T=w[I+1];if(U&&_)O=w[I+x];if(W&&_)Y=w[I+x+1]}else if(f==1){var n=b<0?0:b>x-1?x-1:b,y=b<-1?0:b>x-2?x-1:b+1,F=i<0?0:i>z-1?z-1:i,a=i<-1?0:i>z-2?z-1:i+1;
M=w[F*x+n];T=w[F*x+y];O=w[a*x+n];Y=w[a*x+y]}else{var n=(b+50*x)%x,y=(b+50*x+1)%x,F=(i+50*z)%z,a=(i+50*z+1)%z;
M=w[F*x+n];T=w[F*x+y];O=w[a*x+n];Y=w[a*x+y]}var V=o-b,D=P-i,l=(1-D)*(1-V)*(M>>>24),Q=(1-D)*V*(T>>>24),m=D*(1-V)*(O>>>24),R=D*V*(Y>>>24),$=l+Q+m+R,p=l*(M&255)+Q*(T&255)+m*(O&255)+R*(Y&255),c=l*(M>>>8&255)+Q*(T>>>8&255)+m*(O>>>8&255)+R*(Y>>>8&255),B=l*(M>>>16&255)+Q*(T>>>16&255)+m*(O>>>16&255)+R*(Y>>>16&255);
if($==0)S[k]=0;else{var Z=1/$;p=~~(p*Z+.5);c=~~(c*Z+.5);B=~~(B*Z+.5);$=~~($+.5);S[k]=$<<24|B<<16|c<<8|p}};
e.W.ap4=function(o,P,w,x,z,S){var k=o-.499999,f=P-.499999,C=~~k,H=~~f,b=k-C,i=f-H,M=(1-i)*(1-b),T=(1-i)*b,O=i*(1-b),Y=i*b,U=H*x+C<<2,W=(H+1)*x+C<<2,t=M*w[U]+T*w[U+4]+O*w[W]+Y*w[W+4],_=M*w[U+1]+T*w[U+5]+O*w[W+1]+Y*w[W+5],n=M*w[U+2]+T*w[U+6]+O*w[W+2]+Y*w[W+6],y=M*w[U+3]+T*w[U+7]+O*w[W+3]+Y*w[W+7];
S[0]=t;S[1]=_;S[2]=n;S[3]=y};e.W.cC=function(o,P,w,x,z){o-=.499999;P-=.499999;var S=Math.floor(o),k=Math.floor(P),f=o-S,C=P-k,H=(1-C)*(1-f),b=(1-C)*f,i=C*(1-f),M=C*f,T=(S+50*x)%x,O=(S+1+50*x)%x,Y=(k+50*z)%z,U=(k+1+50*z)%z,W=w[Y*x+T],t=w[Y*x+O],_=w[U*x+T],n=w[U*x+O];
if(W==null||n==null)throw"e";return H*W+b*t+i*_+M*n};e.W.aby=function(o,P,w,x,z){o-=.499999;P-=.499999;
var S=Math.floor(o),k=Math.floor(P),f=o-S,C=P-k,H=(1-C)*(1-f),b=(1-C)*f,i=C*(1-f),M=C*f,T=0,O=k*x+S,Y=O+x;
if(0<=k&&k<z&&0<=S&&S<x)T+=H*w[O];if(0<=k&&k<z&&0<=S+1&&S+1<x)T+=b*w[O+1];if(0<=k+1&&k+1<z&&0<=S&&S<x)T+=i*w[Y];
if(0<=k+1&&k+1<z&&0<=S+1&&S+1<x)T+=M*w[Y+1];return T};e.W.aAy=function(o,P,w,x,z,S,k,f,C,H,b,i){var M=new Uint32Array(o.buffer),T=new Uint32Array(x.buffer),O=(1+2*H)/z,Y=[],U=[];
for(var W=0;W<z;W++){var t=-.25+H-W*O;Y.push(Math.cos(2*Math.PI*t)*i/b);Y.push(Math.sin(2*Math.PI*t)/b)}k*=P;
f*=w;for(var _=0;_<S;_++){var n=Math.pow(_/S,C)*S;for(var W=0;W<z;W++){var y=k+Y[W<<1]*n,F=f+Y[(W<<1)+1]*n,a=~~(.5+(y<0?0:y>P-1?P-1:y)),V=~~(.5+(F<0?0:F>w-1?w-1:F));
T[_*z+W]=M[V*P+a]}}};e.W.a3z=function(o,P,w,x,z,S,k,f,C,H,b,i){var M=new Uint32Array(o.buffer),T=new Uint32Array(x.buffer),O=1/i,Y=[],U=w*4,W=1/U;
for(var t=0;t<U+10;t++)Y.push(Math.pow(t*W,1/C)*w*b);k*=z;f*=S;for(var t=0;t<S;t++)for(var _=0;_<z;_++){var n=O*(_-k),y=t-f,F=1.75-Math.atan2(y,n)*(1/(2*Math.PI));
F=F-~~F;F=(F+H)*(1/(1+2*H));var a=Math.sqrt(n*n+y*y);a=Y[~~(a*4)];e.W.Xd(F*P+.5,a+.5,M,P,w,T,t*z+_,1)}};
e.W.od=function(o,P,w,x,z){var S=z[0],k=z[1];for(var f=0;f<k;f++)for(var C=0;C<S;C++){var H=z[2]*C+z[3]*f+z[4],b=z[5]*C+z[6]*f+z[7],i=f*S+C<<2,M=b*P+H<<2;
x[i]=o[M+0];x[i+1]=o[M+1];x[i+2]=o[M+2];x[i+3]=o[M+3]}};e.G={m5:function(o,P){var w=~~(.499+o*P);return w<0?0:w>P?P:w},asS:function(o,P,w,x,z,S,k,f){var C=w[0],H=w[1],b=w[2],i=w[3],M=x.q,T=x._,O=new Uint32Array(1),Y=new Uint8Array(O.buffer),U=Math.round(Math.random()*x.c()*100);
for(var W=0,I=0;W<T;W++){for(var t=0;t<M;t++,I++){var _=t+z,n=W+S,y=C*_+H*n,F=b*_+i*n,a=0,l=0;if(f==0)a=y+.5;
else if(f==1)a=2*Math.sqrt(y*y+F*F);else if(f==2)a=(Math.PI+Math.atan2(-F,-y))/(2*Math.PI);else if(f==3)a=Math.abs(y*2);
else if(f==4)a=2*(Math.abs(y)+Math.abs(F));var V=e.G.m5(a,k)*4,D=t*4;O[0]=e.C.NS(I+U);for(var Q=0;Q<4;
Q++){var m=P[V+Q],R=Math.floor(m);if(Y[Q]<(m-R)*255)R++;l|=R<<Q*8}o[I]=l}}},Mn:[function(o,P,w,x,z,S,k){var f=w[0],C=w[1],H=w[2],b=w[3],i=x.q,M=x._;
for(var T=0,I=0;T<M;T++)for(var O=0;O<i;O++,I++){var Y=O+z,U=T+S,W=f*Y+C*U,t=H*Y+b*U,_=W+.5;o[I]=P[e.G.m5(_,k)]}},function(o,P,w,x,z,S,k){var f=w[0],C=w[1],H=w[2],b=w[3],i=x.q,M=x._;
for(var T=0,I=0;T<M;T++)for(var O=0;O<i;O++,I++){var Y=O+z,U=T+S,W=f*Y+C*U,t=H*Y+b*U,_=2*Math.sqrt(W*W+t*t);
o[I]=P[e.G.m5(_,k)]}},function(o,P,w,x,z,S,k){var f=w[0],C=w[1],H=w[2],b=w[3],i=x.q,M=x._;for(var T=0,I=0;
T<M;T++)for(var O=0;O<i;O++,I++){var Y=O+z,U=T+S,W=f*Y+C*U,t=H*Y+b*U,_=(Math.PI+Math.atan2(-t,-W))/(2*Math.PI);
o[I]=P[e.G.m5(_,k)]}},function(o,P,w,x,z,S,k){var f=w[0],C=w[1],H=w[2],b=w[3],i=x.q,M=x._;for(var T=0,I=0;
T<M;T++)for(var O=0;O<i;O++,I++){var Y=O+z,U=T+S,W=f*Y+C*U,t=H*Y+b*U,_=Math.abs(W*2);o[I]=P[e.G.m5(_,k)]}},function(o,P,w,x,z,S,k){var f=w[0],C=w[1],H=w[2],b=w[3],i=x.q,M=x._;
for(var T=0,I=0;T<M;T++)for(var O=0;O<i;O++,I++){var Y=O+z,U=T+S,W=f*Y+C*U,t=H*Y+b*U,_=2*(Math.abs(W)+Math.abs(t));
o[I]=P[e.G.m5(_,k)]}}]};e.G.asm=function(o,P){return o+.5};e.G.aiT=function(o,P){return 2*Math.sqrt(o*o+P*P)};
e.G.aiB=function(o,P){return(Math.PI+Math.atan2(-P,-o))/(2*Math.PI)};e.G.aAE=function(o,P){return Math.abs(o*2)};
e.G.atx=function(o,P){return 2*(Math.abs(o)+Math.abs(P))};e.G.i6=function(o,P,w,x,z,S,k,f,C,H,b,i){var M=o.Clrs,T=new Uint32Array(P.buffer),O=1023,Y=M?e.G.IF(o,C,H):null;
if(i&&M){var U=e.G.afu(o,Y,O+1,k);e.G.asS(T,U,x,w,w.x-z,w.y-S,O,f)}else{var W=M?e.G.ahL(o,Y,O+1,k):e.G.akS(o,O+1,k);
if(f<5){e.G.Mn[f](T,W,x,w,w.x-z,w.y-S,O)}else{var t=new Uint8Array(W.buffer),_=w.q,n=w._,y=b.HI-b.Vv,F=1/y,a=b.p$.q-w.q>>1,V=b.p$._-w._>>1,D=b.p$.q,l=-.6*F,Q=(-.6+.4)*F,m=(-.6+2*.4)*F,R=(-.6+3*.4)*F;
for(var $=0,I=0;$<n;$++)for(var p=0;p<_;p++,I+=4){var c=0,B=0,Z=0,v=0,E=($+V)*D+p+a,g=(b.nw[E]-b.Vv)*F,u=0;
if(g<=0||g>=1){u=(g<=0?0:O)<<2;P[I]=t[u];P[I+1]=t[u+1];P[I+2]=t[u+2];P[I+3]=t[u+3];continue}u=Math.max(0,Math.min(O-1,Math.round((g+l)*O)))<<2;
B+=t[u];Z+=t[u+1];v+=t[u+2];c+=t[u+3];u=Math.max(0,Math.min(O-1,Math.round((g+Q)*O)))<<2;B+=t[u];Z+=t[u+1];
v+=t[u+2];c+=t[u+3];u=Math.max(0,Math.min(O-1,Math.round((g+m)*O)))<<2;B+=t[u];Z+=t[u+1];v+=t[u+2];c+=t[u+3];
u=Math.max(0,Math.min(O-1,Math.round((g+R)*O)))<<2;B+=t[u];Z+=t[u+1];v+=t[u+2];c+=t[u+3];P[I]=B>>>2;
P[I+1]=Z>>>2;P[I+2]=v>>>2;P[I+3]=c>>>2}}}};e.G.IF=function(o,P,w){var x=[o.Clrs.v,o.Trns.v],z=[[],[]],S=255;
for(var k=0;k<2;k++)for(var I=0;I<x[k].length;I++){var f,C=x[k][I].v;if(k==0){var H=C.Type.v.Clry;if(H=="FrgC")f={$:P>>16&255,H:P>>8&255,b:P&255};
else if(H=="BckC")f={$:w>>16&255,H:w>>8&255,b:w&255};else f=e.G.dQ(C.Clr.v)}else{f=C.Opct.v.val*(255/100);
if(f<S)S=f}z[k].push([f,C.Lctn.v/4096,C.Mdpn.v/100])}z.push(S>254);return z};e.G.dQ=function(o){var P,w=o.classID;
if(w=="RGBC"){if(o.Rd)P={$:o.Rd.v,H:o.Grn.v,b:o.Bl.v};else P={$:o.redFloat.v*255,H:o.greenFloat.v*255,b:o.blueFloat.v*255}}else if(w=="HSBC"){P=e.MR(o.H.v.val/360,o.Strt.v/100,o.Brgh.v/100);
P.$*=255;P.H*=255;P.b*=255}else if(w=="CMYC"){var x=o.Cyn.v,z=o.Mgnt.v,S=o.Ylw.v,k=o.Blck.v,f=[x/100,z/100,S/100,k/100],C=e.Wu(f);
P={$:C[0]*255,H:C[1]*255,b:C[2]*255}}else if(w=="Grsc")P={$:255-o.Gry.v,H:255-o.Gry.v,b:255-o.Gry.v};
else if(w=="LbCl"){P=e.Aj(o.Lmnc.v,o.A.v,o.B.v)}else if(w=="BkCl")P={$:0,H:0,b:0};else console.log(o);
if(isNaN(P.$))P.$=P.H=P.b=0;return P};e.G.akS=function(o,P,w){var x=new Uint32Array(P),z=new Uint8Array(x.buffer);
x.fill(4278190080);var S=[],k=[],f=o.RndS.v,C=o.Smth.v/4096;for(var I=0;I<4;I++){S[I]=~~(o.Mnm.v[I].v*255/100);
k[I]=~~(o.Mxm.v[I].v*255/100)}var H=e.U(P*4),b=e.U(P);for(var i=0;i<3;i++){e.p.ahM(null,P,1,H,[1+Math.round(C*C*C*60),22,f*(2+i)]);
e.JX(H,b,0);e.lI(b,z,i);var M=S[i],T=k[i];for(var I=0;I<P;I++)z[4*I+i]=Math.max(M,Math.min(T,z[4*I+i]))}if(w)for(var I=0;
I<P/2;I++){var O=x[I];x[I]=x[P-1-I];x[P-1-I]=O}return x};e.G.e1=function(o){return{classID:"RGBC",Rd:{t:"doub",v:o.$},Grn:{t:"doub",v:o.H},Bl:{t:"doub",v:o.b}}};
e.G.afu=function(o,P,w,x){var z=[],S=1/(w-0);for(var I=0;I<w;I++){var k=I*4,f=e.G.Rw(o,P,(x?w-1-I:I)*S);
z[k]=f[0];z[k+1]=f[1];z[k+2]=f[2];z[k+3]=f[3]}return z};e.G.ahL=function(o,P,w,x){var z=new Uint32Array(w),S=1/(w-0);
for(var I=0;I<w;I++)z[I]=e.G.sr(o,P,(x?w-1-I:I)*S);return z};e.G.Rw=function(o,P,w){var x=o.Intr.v*(1/4096),z=P[0],S=P[1],k=z.length-1,f=S.length-1,I=-1,C=0,H=0,b=0,i=0;
if(P[2])C=255;else{while(I<f&&S[I+1][1]<=w)I++;if(I==-1){C=S[0][0]}else if(I==f){C=S[I][0]}else{var M=e.G.ajw(S,I,w,x);
C=M*S[I][0]+(1-M)*S[I+1][0]}}I=-1;while(I<k&&z[I+1][1]<=w)I++;if(I==-1){var T=z[0][0];H=T.$;b=T.H;i=T.b}else if(I==k){var T=z[I][0];
H=T.$;b=T.H;i=T.b}else{var O=z[I][0],Y=z[I+1][0],U=e.G.ajw(z,I,w,x);H=Math.min(255,U*O.$+(1-U)*Y.$);
b=Math.min(255,U*O.H+(1-U)*Y.H);i=Math.min(255,U*O.b+(1-U)*Y.b)}return[H,b,i,C]};e.G.sr=function(o,P,w){var x=e.G.Rw(o,P,w),z=~~(.5+x[0]),S=~~(.5+x[1]),k=~~(.5+x[2]),f=~~(.5+x[3]);
return f<<24|k<<16|S<<8|z};e.G.ajw=function(o,I,P,w){if(o.length==2)w*=.5;var x=o[I][1],z=o[I+1][1],S=x+o[I+1][2]*(z-x),k;
if(P<S)k=.5*(P-x)/(S-x);else k=.5+.5*(P-S)/(z-S);k=.5+.5*(w*Math.cos(Math.PI*k)+(1-w)*(1-2*k));return k};
e.G.a1g=function(o,P,w){var x=.5*w._,z=x*(o/P),S=Math.sqrt(x*x+z*z),k=.5*w.q,f=k*(P/o),C=Math.sqrt(k*k+f*f);
return Math.min(S,C)};e.G.am4=function(o,P){var w=Math.PI*o.Angl.v.val/180,x=o.Scl.v.val/100,z=o.Ofst.v,S=z.Hrzn.v.val/100,k=z.Vrtc.v.val/100,f=Math.cos(w),C=-Math.sin(w),H=e.G.a1g(f,C,P),b=H*x,i=P.x+P.q/2+S*P.q,M=P.y+P._/2+k*P._;
return[new eD(i,M),new eD(i+f*b,M+C*b)]};e.G.jh=function(o,P,w,x){var z=P.x-o.x,S=-(P.y-o.y),k=Math.sqrt(z*z+S*S),f=Math.atan2(S,z),C=Math.cos(f),H=-Math.sin(f),b=e.G.a1g(C,H,w),i=k/b,M=(o.x-w.x-w.q/2)/w.q,T=(o.y-w.y-w._/2)/w._;
x.Angl.v.val=180*f/Math.PI;x.Scl.v.val=i*100;var O=x.Ofst.v;O.Hrzn.v.val=M*100;O.Vrtc.v.val=T*100};e.G.U_=function(o,P){for(var I=0;
I<o.length;I++){var w=o[I],x=Math.round(w[0]*4096),z=w[1],S=w[2],k=o[Math.max(0,I-1)][3];if(S==null)S=1;
if(k==null)k=.5;var f=e.G.e1({$:z[0]*255,H:z[1]*255,b:z[2]*255});P.Clrs.v[I]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:x},Mdpn:{t:"long",v:Math.round(k*100)},Clr:{t:"Objc",v:f},Type:{t:"enum",v:{Clry:"UsrS"}}}};
P.Trns.v[I]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:x},Mdpn:{t:"long",v:Math.round(k*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(S*100)}}}}}};
e.G.al9=function(o,P,w){if(P){o=JSON.parse(JSON.stringify(o));for(var I=0;I<2;I++){var x=o[I==0?"Clrs":"Trns"].v;
for(var z=0;z<x.length;z++)x[z].v.Lctn.v=4096-x[z].v.Lctn.v;x.reverse()}}var S=[],k=1/255,f=o.Clrs.v,C=o.Trns.v,x=f;
if(bn==0||f.length!=C.length){if(bn!=0)console.log("strange gradient");if(w!=!0)x=f.concat(C);var H=e.G.IF(o,0,0);
for(var I=0;I<x.length;I++){var b=x[I].v,i=b.Lctn.v/4096,M=e.G.Rw(o,H,i);S.push([i,[M[0]*k,M[1]*k,M[2]*k],M[3]*k,b.Mdpn.v/100])}S.sort(function(O,Y){return O[0]-Y[0]});
for(var I=1;I<S.length;I++)if(S[I][0]-S[I-1][0]<.001){S.splice(I,1);I--}}else{for(var I=0;I<x.length;
I++){var b=f[I].v,T=b.Clr.v,i=b.Lctn.v/4096;S.push([i,[T.Rd.v*k,T.Grn.v*k,T.Bl.v*k],C[I].v.Opct.v.val/100,f[Math.min(I+1,f.length-1)].v.Mdpn.v/100])}}return S};
e.G.fS=function(o,P){function w(o,k){o.addColorStop(k[0],CSS.abg(k[1],k[2]))}function x(k,f,C,H){var b=Math.log(.5)/Math.log(H),i=Math.log(.5)/Math.log(1-H),M=H>.5?Math.pow(C,b):1-Math.pow(1-C,i),T=1-M,O=k[0],Y=k[1],U=f[1],W=[O+(f[0]-O)*C,[Y[0]*T+U[0]*M,Y[1]*T+U[1]*M,Y[2]*T+U[2]*M],k[2]*T+f[2]*M];
return W}w(o,P[0]);for(var I=1;I<P.length;I++){var z=P[I-1][3];if(z!=.5)for(var S=1;S<20;S++)w(o,x(P[I-1],P[I],S/20,z));
w(o,P[I])}};e.ait={};e.ait.m3=function(o,P,w,x,z,S,k,f,C,H,b,i){var M,T,O,Y=Date.now(),U=!1,W=k,t=H,_,n,y,F,a=S*255,V=255-C*255,D=1+z*6,l=1+f*6,Q=1+i*4,m=(Q-1)/7,R=0,$=255-0,p,c,B,Z,v,E,g,u,j,A,K,s,r,h=0,jC=1,d,q,hc,dk,c6,e3,ks,cH,bI,aR,ak=1+b,cN,gC=e.U(w*x),bD=e.U(w*x),cu=e.U(w*x),du=e.U(w*x),bq=255/a,hn=255/(255-V);
for(T=0;T<x;T++){for(M=0;M<w;M++){var I=T*w+M,aK=I<<2;d=e.Rb(o[aK],o[aK+1],o[aK+2]);du[I]=d;if(d<a)gC[I]=255-d*bq;
if(d>V)bD[I]=255-(255-d)*hn}}if(U)console.log("init",Date.now()-Y);Y=Date.now();if(z*W>0){cu.set(gC);
e.uY.K6(cu,gC,new fA(0,0,w,x),W)}if(f*t>0){cu.set(bD);e.uY.K6(cu,bD,new fA(0,0,w,x),t)}if(U)console.log("blur",Date.now()-Y);
Y=Date.now();var cQ=e.U(256),jR=e.U(256);for(var I=0;I<256;I++){var ch=I*(1/255),bx=0;bx=(1-Math.pow(1-ch,D))*255;
cQ[I]=Math.max(0,Math.min(255,~~(bx+.5)));bx=Math.pow(ch,l)*255;jR[I]=Math.max(0,Math.min(255,~~(bx+.5)))}var jf=new Uint8ClampedArray(P.buffer),dW=new Float32Array(32768);
for(var I=0;I<32768;I++){cN=Math.sqrt(I)*(1/128);if(ak>1)cN=(1-cN)*(ak-1)+1;else cN=cN*(ak-1)+1;dW[I]=cN}for(T=0;
T<x;T++){for(M=0;M<w;M++){var I=T*w+M,aK=I<<2,bx=du[I],bf=gC[I]*(1/255),iu=bD[I]*(1/255);bx=(1-bf)*bx+bf*cQ[~~bx];
bx=(1-iu)*bx+iu*jR[~~bx];d=bx;var dV=o[aK],gb=o[aK+1],gP=o[aK+2];q=-dV*.168736-gb*.331264+gP*.5;hc=dV*.5-gb*.418688-gP*.081312;
cN=dW[~~(.5+q*q+hc*hc)];dk=q*cN;e3=hc*cN;jC=1-Math.min(2-(bf+iu),1);q=jC*q+(1-jC)*dk;hc=jC*hc+(1-jC)*e3;
cH=d+1.402*hc;bI=d-.34414*q-.71414*hc;aR=d+1.772*q;jf[aK]=~~(.5+cH);jf[aK+1]=~~(.5+bI);jf[aK+2]=~~(.5+aR)}}if(U)console.log("apply masks",Date.now()-Y);
Y=Date.now()};e.zk={};e.zk.Tx=function(o,P,w,x,z){var S=Date.now(),k=!1,Y=1,$=0,j=0;if(!P.rf(z)){var f=P.It(z),C=e.U(f.c()*4);
e.sR(o,P,C,f);o=C;P=f}var H=e.U(P.c());e.d0(w,z,H,P);e.round(H);z=z.SN(P);var b=z.q,i=z._,M=b*3<i?2:1,T=i*3<b?2:1;
if(z.c()*(M*2+1)*(T*2+1)<P.c()){var f=new fA(z.x-b*M,z.y-i*M,b*(M*2+1),i*(T*2+1)).SN(P),C=e.U(f.c()*4);
e.sR(o,P,C,f);var O=e.U(f.c());e.d0(H,P,O,f);P=f;o=C;H=O}while((P.q+P._)/2/Y>400)Y++;var U=o,W=P,t=H,_=Math.floor(W.q/Y),n=Math.floor(W._/Y);
o=e.U(_*n*4);e.scale.KM(U,W.q,W._,o,_,n,1/Y);H=e.U(_*n);e.scale.od(t,W.q,W._,H,_,n,1/Y);e.round(H,1);
if(k)console.log("scale down:",Y,_,n);var y=e.zG(H,new fA(0,0,_,n));if(y.Mw())return 1;var F=Math.round((y.q+y._)/2/15);
if(k)console.log(Date.now()-S,"preprocess");S=Date.now();var a=e.U(_*n*4);e.aGv(o,a);var V=Int16Array,D=new V(_*n*24),l=new V(64),Q=new V(64),m=new V(64),R=new V(64);
for(var p=3;p<n-4;p++)for(var c=3;c<_-4;c++){var B=p*_+c;if(H[B]==255)continue;if(e.zk.atn(a,H,c,p,_,n,l,Q,m)!=0)continue;
e.zk.vP(l,R);var Z=$*24;D[Z]=c;D[Z+1]=p;e.zk.L9(l,D,Z+4,12);e.zk.vP(Q,R);e.zk.L9(Q,D,Z+16,4);e.zk.vP(m,R);
e.zk.L9(m,D,Z+20,4);var v=D[Z+5],E=D[Z+6];D[Z+5]=D[Z+16];D[Z+6]=D[Z+20];D[Z+16]=v;D[Z+20]=E;$++}if($==0)return 2;
if(k)console.log(Date.now()-S,"FWHT computed");S=Date.now();var g=[];e.zk.fq(0,$-1,g,D,new V(2*24));
if(k)console.log(Date.now()-S,"KD tree computed");S=Date.now();var u=new Uint32Array(_*n*4);for(var I=0;
I<$;I++){var A=I,K=e.zk.ale(A,D,g,F);if(K==-1)continue;var s=A*24,r=K*24,h=D[s],jC=D[s+1],d=D[r],q=D[r+1];
j+=e.zk.getError(r,s,D,1e99);var hc=d-h,dk=q-jC;u[(n+dk)*2*_+(_+hc)]+=1}if(k)console.log(Date.now()-S,"NN found");
S=Date.now();var c6=[],e3=1/(2*_);for(var I=0;I<u.length;I++){if(u[I]>0){var p=Math.floor(I*e3),c=I-p*2*_;
c6.push({x:c-_,y:p-n,P:u[I],jo:-1})}}c6.sort(function(jf,dW){return dW.P-jf.P});var ks=new Int32Array(_*n),cH=[];
for(var I=0;I<_*n;I++){if(H[I]==255){ks[I]=cH.length>>>1;cH.push(I%_,Math.floor(I/_))}else if(o[(I<<2)+3]<200){ks[I]=-2}else{ks[I]=-1}}var bI=e.zk.ae$(_,n,c6,ks,cH);
if(bI==null){if(k)console.log("no appropriate labeling");return 3}var aR=bI.pj,top=bI.top;aR=e.zk.av9(aR,o,_,n,top,ks,cH);
if(k)console.log(Date.now()-S,"optimal labeling found");S=Date.now();var f=z.clone();f.$b(1,1);f=f.SN(W);
var ak=e.U(f.c()*4),cN=e.U(f.c());e.sR(U,W,ak,f);var gC=W.q,bD=W._;for(var p=0;p<bD;p++)for(var c=0;
c<gC;c++){if(t[p*gC+c]==0)continue;var cu=Math.min(Math.floor(c/Y),_-1),du=Math.min(Math.floor(p/Y),n-1),bq=ks[du*_+cu];
if(bq==-1)continue;var hn=aR[bq],aK=top[hn],cQ=c+aK.x*Y,jR=p+aK.y*Y,ch=jR*gC+cQ<<2,bx=(p-f.y+W.y)*f.q+(c-f.x+W.x)<<2;
ak[bx]=U[ch];ak[bx+1]=U[ch+1];ak[bx+2]=U[ch+2];ak[bx+3]=U[ch+3];ak[bx+3]=U[ch+3];cN[bx>>2]=hn+1}if(k)console.log(Date.now()-S,"copied back");
S=Date.now();e.Pa.Tx(ak,cN,f,null,1e3);if(k)console.log(Date.now()-S,"poisson smooth");S=Date.now();
e.sR(ak,f,x,z);return 0};e.zk.aBK=function(o,P,w,x,z,S){return e.zk.v9(o+z.x,P+z.y,w,x,S)?0:1e9};e.zk.av9=function(o,P,w,x,top,z,S){var k=Date.now(),f=S.length>>>1,C=[-1,0,0,-1,1,0,0,1],H=1e99,b=[],i=[],M=2*(f*2*3+f*2),T=null,O=0,Y=0,U=0,W=1e99;
while(!0&&Date.now()<k+12e3){U++;var t=null,_=H;for(var n=0;n<top.length;n++){var y=top[n],F=0,a=f+2,V=0;
for(var I=0;I<f;I++){var D=S[I*2],l=S[I*2+1],Q=top[o[I]],m=e.zk.aBK(D,l,w,x,y,z),R=o[I]==n?1e9:e.zk.aBK(D,l,w,x,Q,z);
for(var eK=0;eK<4;eK++){if(eK==0&&D==0||eK==1&&l==0||eK==2&&D==w-1||eK==3&&l==x-1)continue;var $=C[2*eK],p=C[2*eK+1],c=D+$,B=l+p,Z=z[B*w+c];
if(Z==-2){}else if(Z==-1){m+=3*e.zk.WU(c+y.x,B+y.y,c,B,w,x,P,z);m+=2*e.zk.WU(c+y.x+$,B+y.y+p,c+$,B+p,w,x,P,z);
R+=3*e.zk.WU(c+Q.x,B+Q.y,c,B,w,x,P,z);R+=2*e.zk.WU(c+Q.x+$,B+Q.y+p,c+$,B+p,w,x,P,z)}else if(eK>1){if(o[I]==o[Z]){var v=0;
v+=e.zk.WU(D+Q.x,l+Q.y,D+y.x,l+y.y,w,x,P,z);v+=e.zk.WU(c+Q.x,B+Q.y,c+y.x,B+y.y,w,x,P,z);b[F]=I;b[F+1]=Z;
i[F]=v;i[F+1]=v;F+=2}else{var E=top[o[Z]],g=a,u=0,j=0,A=0;a++;u+=e.zk.WU(D+Q.x,l+Q.y,D+y.x,l+y.y,w,x,P,z);
u+=e.zk.WU(c+Q.x,B+Q.y,c+y.x,B+y.y,w,x,P,z);j+=e.zk.WU(D+E.x,l+E.y,D+y.x,l+y.y,w,x,P,z);j+=e.zk.WU(c+E.x,B+E.y,c+y.x,B+y.y,w,x,P,z);
A+=e.zk.WU(D+E.x,l+E.y,D+Q.x,l+Q.y,w,x,P,z);A+=e.zk.WU(c+E.x,B+E.y,c+Q.x,B+Q.y,w,x,P,z);b[F]=I;b[F+1]=g;
i[F]=u;i[F+1]=u;F+=2;b[F]=Z;b[F+1]=g;i[F]=j;i[F+1]=j;F+=2;b[F]=g;b[F+1]=f+1;i[F]=A;i[F+1]=0;F+=2}}}b[F]=f;
b[F+1]=I;i[F]=m;i[F+1]=0;F+=2;b[F]=I;b[F+1]=f+1;i[F]=R;i[F+1]=0;F+=2;V+=Math.min(m,R)}if(V>_)continue;
var K=e.wl.lX(a,F,f,f+1,b,i,_);if(K.RN<_){_=K.RN;var s=o.slice(0);e.zk.ah0(s,F,b,K.qj,n,f);t=s}}if(_*1>=H){break}H=_;
o=t;if((U&3)==0){if(_*1.03>=W)break;W=_}if((U&3)==0){var r=0*top.length;for(var I=0;I<top.length&&top.length>r;
I++){if(o.indexOf(I)!=-1)continue;top.splice(I,1);for(var Z=0;Z<o.length;Z++)if(o[Z]>I)o[Z]--;I--}}}return o};
e.zk.ah0=function(o,P,w,x,z,S){for(var I=0;I<x.length;I++){var k=x[I]<<1,f=0,C=0;if(k<P){f=w[k];C=w[k+1]}else{C=w[k];
f=w[k+1]}if(f==S&&o[C]!=z)o[C]=z}};e.zk.aC9=function(top,o,P,w,x,z,S,k,f){for(var I=0;I<P.length;I++){var C=P[I],H=!0;
if(k!=null&&!e.zk.v9(k+C.x,f+C.y,z,S,w))continue;if(C.jo==-1)C.jo=e.zk.al3(C,w,x,z,S);if(C.jo<=0)continue;
for(var b=0;b<top.length;b++){var i=top[b],M=C.x-i.x,T=C.y-i.y;if(M*M+T*T<o){H=!1;break}}if(H)return C}return null};
e.zk.al3=function(o,P,w,x,z){var S=0;for(var I=0;I<w.length;I+=2){var k=w[I]+o.x,f=w[I+1]+o.y;if(e.zk.v9(k,f,x,z,P))S++}return S/(w.length>>1)};
e.zk.ae$=function(o,P,w,x,z){var S=z.length>>>1,top=[];for(var I=0;I<60;I++){var k=e.zk.aC9(top,25,w,x,z,o,P);
if(k==null)break;else top.push(k)}if(top.length==0)return null;var f=[];for(var I=0;I<S;I++){var C=z[I*2],H=z[I*2+1],b=-1,i=0;
while(!0){i++;var M=Math.random();b=Math.floor(M*.99999*top.length);var T=top[b],O=C+T.x,Y=H+T.y;if(e.zk.v9(O,Y,o,P,x))break;
if(i>1e3){var k;k=e.zk.aC9(top,0,w,x,z,o,P,C,H);if(k==null)for(var U=0;U<4;U++){var W,t,_=0;while(!0){W=~~(Math.random()*o);
t=~~(Math.random()*P);if(e.zk.v9(W,t,o,P,x))break;_++;if(_>500)throw"e"}k={x:W-C,y:t-H,P:1,jo:-1};w.push(k);
top.push(k)}else top.push(k);i=0}}f.push(b)}return{top:top,pj:f}};e.zk.WU=function(o,P,w,x,z,S,k,f){if(o==w&&P==x)return 0;
if(o<0||P<0||o>=z||P>=S||w<0||x<0||w>=z||x>=S||f[P*z+o]!=-1||f[x*z+w]!=-1)return 1e7;var C=P*z+o<<2,H=x*z+w<<2,b=k[C]-k[H],i=k[C+1]-k[H+1],M=k[C+2]-k[H+2];
return 1+(b*b+i*i+M*M)};e.zk.v9=function(o,P,w,x,z){return o>=0&&o<w&&P>=0&&P<x&&z[P*w+o]==-1};e.zk.ale=function(o,P,w,x){var z=24*o,S=P[z],k=P[z+1],f=x*x,C=0,M=1e9;
while(w[C]!=99)if(P[z+w[C]]<w[C+1])C=w[C+2];else C=w[C+3];var H=w[C+1],b=w[C+2],i=-1;for(var I=H;I<=b;
I++){var C=I,T=C*24,O=P[T],Y=P[T+1];if((O-S)*(O-S)+(Y-k)*(Y-k)<f)continue;var U=e.zk.getError(T,z,P,M);
if(U<M){M=U;i=C}}return i};e.zk.getError=function(o,P,w,x){var z=0;for(var S=4;S<24;S+=4){var k=w[P+S]-w[o+S],f=w[P+S+1]-w[o+S+1],C=w[P+S+2]-w[o+S+2],H=w[P+S+3]-w[o+S+3];
z+=k*k+f*f+C*C+H*H;if(z>=x)return z+1}return z};e.zk.fq=function(o,P,w,x,z){var S=16,M=0;if(P-o<=S){w.push(99,o,P);
return}e.zk.w4(o,P,x,z);var k=-1,f=-1;for(var I=4;I<24;I++){var C=z[2*I+1]-z[2*I];if(C>f){f=C;k=I}}var H=o+P>>1,b=e.zk.aoU(H,o,P,x,k),i=-1;
for(var I=o;I<=P;I++)if(x[24*I+k]==b){if(i==-1)i=I;M=I}if(o+8<i&&i-o>P-M)H=i;else if(M+1<P-8)H=M+1;else if(P-o<64){w.push(99,o,P);
return}else H=H;var T=w.length;w.push(k,b,0,0);w[T+2]=T+4;e.zk.fq(o,H-1,w,x,z);w[T+3]=w.length;e.zk.fq(H,P,w,x,z)};
e.zk.w4=function(o,P,w,x){for(var I=0;I<48;I+=4){x[I]=3e4;x[I+1]=-3e4;x[I+2]=3e4;x[I+3]=-3e4}for(var I=o;
I<=P;I++){var z=I*24;for(var S=0;S<24;S++){var k=w[z+S],f=x[S<<1],C=x[(S<<1)+1];if(k<f)x[S<<1]=k;if(k>C)x[(S<<1)+1]=k}}};
e.zk.vI=function(o,P,w){var x=0,I=0;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;
I++;x=w[o+I];w[o+I]=w[P+I];w[P+I]=x;I++};e.zk.M4=function(o,P,w,x){var z=w+x>>>1,S=o[24*z+P];while(w<=x){while(o[24*w+P]<S)w++;
while(o[24*x+P]>S)x--;if(w<=x){if(o[24*w+P]!=o[24*x+P])e.zk.vI(w*24,x*24,o);w++;x--}}return w};e.zk.aoU=function(o,P,w,x,z){var S=0;
while(P!=w){S=e.zk.M4(x,z,P,w);if(o<S)w=S-1;else P=S}return x[o*24+z]};e.zk.L9=function(o,P,w,x){for(var I=0;
I<x;I++)P[w+I]=o[I]};e.zk.atn=function(o,P,w,x,z,S,k,f,C){var H=(x-3)*z+(w-3),b=H<<2;for(var i=0;i<8;
i++){if(P[H]+P[H+1]+P[H+2]+P[H+3]+P[H+4]+P[H+5]+P[H+6]+P[H+7]!=0||o[b+3]<200||o[b+7]<200||o[b+11]<200||o[b+15]<200||o[b+19]<200||o[b+23]<200||o[b+27]<200||o[b+31]<200)return 1;
var I=i<<3;k[I+0]=o[b+0];f[I+0]=o[b+1];C[I+0]=o[b+2];k[I+1]=o[b+4];f[I+1]=o[b+5];C[I+1]=o[b+6];k[I+2]=o[b+8];
f[I+2]=o[b+9];C[I+2]=o[b+10];k[I+3]=o[b+12];f[I+3]=o[b+13];C[I+3]=o[b+14];k[I+4]=o[b+16];f[I+4]=o[b+17];
C[I+4]=o[b+18];k[I+5]=o[b+20];f[I+5]=o[b+21];C[I+5]=o[b+22];k[I+6]=o[b+24];f[I+6]=o[b+25];C[I+6]=o[b+26];
k[I+7]=o[b+28];f[I+7]=o[b+29];C[I+7]=o[b+30];b+=z<<2;H+=z}return 0};e.zk.vP=function(o,P){P[0]=o[32]+o[0];
P[1]=o[33]+o[1];P[2]=o[34]+o[2];P[3]=o[35]+o[3];P[4]=o[36]+o[4];P[5]=o[37]+o[5];P[6]=o[38]+o[6];P[7]=o[39]+o[7];
P[8]=o[40]+o[8];P[9]=o[41]+o[9];P[10]=o[42]+o[10];P[11]=o[43]+o[11];P[12]=o[44]+o[12];P[13]=o[45]+o[13];
P[14]=o[46]+o[14];P[15]=o[47]+o[15];P[16]=o[48]+o[16];P[17]=o[49]+o[17];P[18]=o[50]+o[18];P[19]=o[51]+o[19];
P[20]=o[52]+o[20];P[21]=o[53]+o[21];P[22]=o[54]+o[22];P[23]=o[55]+o[23];P[24]=o[56]+o[24];P[25]=o[57]+o[25];
P[26]=o[58]+o[26];P[27]=o[59]+o[27];P[28]=o[60]+o[28];P[29]=o[61]+o[29];P[30]=o[62]+o[30];P[31]=o[63]+o[31];
P[32]=o[0]-o[32];P[33]=o[1]-o[33];P[34]=o[2]-o[34];P[35]=o[3]-o[35];P[36]=o[4]-o[36];P[37]=o[5]-o[37];
P[38]=o[6]-o[38];P[39]=o[7]-o[39];P[40]=o[8]-o[40];P[41]=o[9]-o[41];P[42]=o[10]-o[42];P[43]=o[11]-o[43];
P[44]=o[12]-o[44];P[45]=o[13]-o[45];P[46]=o[14]-o[46];P[47]=o[15]-o[47];P[48]=o[16]-o[48];P[49]=o[17]-o[49];
P[50]=o[18]-o[50];P[51]=o[19]-o[51];P[52]=o[20]-o[52];P[53]=o[21]-o[53];P[54]=o[22]-o[54];P[55]=o[23]-o[55];
P[56]=o[24]-o[56];P[57]=o[25]-o[57];P[58]=o[26]-o[58];P[59]=o[27]-o[59];P[60]=o[28]-o[60];P[61]=o[29]-o[61];
P[62]=o[30]-o[62];P[63]=o[31]-o[63];o[0]=P[16]+P[0];o[1]=P[17]+P[1];o[2]=P[18]+P[2];o[3]=P[19]+P[3];
o[4]=P[20]+P[4];o[5]=P[21]+P[5];o[6]=P[22]+P[6];o[7]=P[23]+P[7];o[8]=P[24]+P[8];o[9]=P[25]+P[9];o[10]=P[26]+P[10];
o[11]=P[27]+P[11];o[12]=P[28]+P[12];o[13]=P[29]+P[13];o[14]=P[30]+P[14];o[15]=P[31]+P[15];o[16]=P[0]-P[16];
o[17]=P[1]-P[17];o[18]=P[2]-P[18];o[19]=P[3]-P[19];o[20]=P[4]-P[20];o[21]=P[5]-P[21];o[22]=P[6]-P[22];
o[23]=P[7]-P[23];o[24]=P[8]-P[24];o[25]=P[9]-P[25];o[26]=P[10]-P[26];o[27]=P[11]-P[27];o[28]=P[12]-P[28];
o[29]=P[13]-P[29];o[30]=P[14]-P[30];o[31]=P[15]-P[31];P[0]=o[8]+o[0];P[1]=o[9]+o[1];P[2]=o[10]+o[2];
P[3]=o[11]+o[3];P[4]=o[12]+o[4];P[5]=o[13]+o[5];P[6]=o[14]+o[6];P[7]=o[15]+o[7];P[8]=o[0]-o[8];P[9]=o[1]-o[9];
P[10]=o[2]-o[10];P[11]=o[3]-o[11];P[12]=o[4]-o[12];P[13]=o[5]-o[13];P[14]=o[6]-o[14];P[15]=o[7]-o[15];
o[0]=P[4]+P[0];o[1]=P[5]+P[1];o[2]=P[6]+P[2];o[3]=P[7]+P[3];o[4]=P[0]-P[4];o[5]=P[1]-P[5];o[6]=P[2]-P[6];
o[7]=P[3]-P[7];o[8]=P[12]+P[8];o[9]=P[13]+P[9];o[10]=P[14]+P[10];o[11]=P[15]+P[11];o[12]=P[8]-P[12];
o[13]=P[9]-P[13];o[14]=P[10]-P[14];o[15]=P[11]-P[15];P[0]=o[2]+o[0];P[1]=o[3]+o[1];P[2]=o[0]-o[2];P[3]=o[1]-o[3];
P[4]=o[6]+o[4];P[5]=o[7]+o[5];P[6]=o[4]-o[6];P[7]=o[5]-o[7];P[8]=o[10]+o[8];P[9]=o[11]+o[9];P[10]=o[8]-o[10];
P[11]=o[9]-o[11];P[12]=o[14]+o[12];P[13]=o[15]+o[13];P[14]=o[12]-o[14];P[15]=o[13]-o[15];o[0]=P[1]+P[0];
o[1]=P[0]-P[1];o[2]=P[3]+P[2];o[3]=P[2]-P[3];o[4]=P[5]+P[4];o[5]=P[4]-P[5];o[6]=P[7]+P[6];o[7]=P[6]-P[7];
o[8]=P[9]+P[8];o[9]=P[8]-P[9];o[10]=P[11]+P[10];o[11]=P[10]-P[11];o[12]=P[13]+P[12];o[13]=P[12]-P[13];
o[14]=P[15]+P[14];o[15]=P[14]-P[15]};e.zk.asZ=function(){var o="",eK=64,P="v",w="t",x="a",z=5,I,S,k;
for(I=eK>>1;I>0;I>>=1,z--){for(S=0;S<eK;S++){k=(S>>z&1)!=0;if(k){o+=w+"["+S+"] = "+P+"["+(-I+S)+"] - "+P+"["+S+"];  "}else{o+=w+"["+S+"] = "+P+"["+(I+S)+"] + "+P+"["+S+"];  "}}x=P;
P=w;w=x;o+="\n"}console.log(o)};e.zk.ajS=function(eK,o,P){var w=o,x=P,z=w,S=0,I,f,C;while(eK>>S!=2)S++;
var k=S;for(I=eK>>1;I>0;I>>=1,S--){for(f=0;f<eK;f++){C=(f>>S&1)!=0;if(C)x[f]=w[-I+f]-w[f];else x[f]=w[I+f]+w[f]}z=w;
w=x;x=z}if((k&1)==1)for(I=0;I<eK;I++)P[I]=w[I]};e.zo={};e.zo.EV=function(o,P,w,x,z,S,k,f,C){var H=Date.now(),b=new Uint32Array(o.buffer),i=new Uint32Array(P.buffer),M=k/w,T=f/x,O=1/M,Y=1/T,U=new Float64Array(2),W=3,t=1/W,_=1/(W*W),n=0,y=0,F=w,a=x;
if(z){n=z.x;y=z.y;F=z.q;a=z._}for(var V=0;V<a;V++)for(var D=0;D<F;D++){var l=n+D,Q=y+V,I=Q*w+l,m=I<<1,R=I<<2;
e.zo.aBa(S,k,f,(l+.5)*M,(Q+.5)*T,U);var $=U[0]*O,p=U[1]*Y;if($==0&&p==0)i[I]=b[I];else{e.W.Xd(l+$+.5,Q+p+.5,b,w,x,i,I,C)}}};
e.zo.aBa=function(o,P,w,x,z,S){x-=.499999;z-=.499999;var k=~~x,f=~~z,C=x-k,H=z-f,b=(1-H)*(1-C),i=(1-H)*C,M=H*(1-C),T=H*C,O=k<P-1?k+1:k,Y=f<w-1?f+1:f,U=f*P+k<<1,W=f*P+O<<1,t=Y*P+k<<1,_=Y*P+O<<1;
S[0]=b*o[U]+i*o[W]+M*o[t]+T*o[_];S[1]=b*o[U+1]+i*o[W+1]+M*o[t+1]+T*o[_+1]};e.zo.auy=function(o,P,w,x,z){var S=1/o,k=[-1,1,-o,o],f=x.length;
for(var C=0;C<f;C++){var I=x[C],H=I<<1,b=C<<1,i=~~(I*S),M=I-o*i,T=w[H],O=w[H+1],Y=0,U=0;if(M!=0&&M!=o-1){var W=I-1<<1,t=I+1<<1,_=w[W],n=w[t],y=w[W+1],F=w[t+1],a=T-(_+n)*.5,V=O-(y+F)*.5;
Y-=a*z;U-=V*z}if(i!=0&&i!=P-1){var W=I-o<<1,t=I+o<<1,_=w[W],n=w[t],y=w[W+1],F=w[t+1],a=T-(_+n)*.5,V=O-(y+F)*.5;
Y-=a*z;U-=V*z}w[H]=T+Y;w[H+1]=O+U}};e.zo.a2W=function(o,P){var w=o+","+P;if(e.zo.auV==w)return e.zo.a9i;
var x=e.zo.a9i=[];e.zo.auV=w;for(var I=0;I<=1e3;I++){var z=I*.001,S=Math.sqrt(z),k=Math.exp(-4*S),f=.96*(1-S*S),C=P*((1-o)*k+o*f);
x[I]=C}return x};e.zo.auV="";e.zo.a9i=[];e.zo.aEU=function(o,P,w,x,z,S,k,f,C,H,b,i,M){var T=Math.max(0,Math.floor(z-k-1)),O=Math.min(P,Math.ceil(z+k+1)),Y=Math.max(0,Math.floor(S-k-1)),U=Math.min(w,Math.ceil(S+k+1)),W=2*P,t=k*k,_=1/k,n=0;
if(M&&(x==3||x==6))C=-C;var y=e.zo.a2W(f,C);for(var F=Y;F<U;F++)for(var a=T;a<O;a++){var I=F*P+a,V=I<<1,D=(z-a)*_,l=(S-F)*_,Q=D*D+l*l;
if(Q<1){i[n]=I;var m=y[~~(Q*1e3)];if(x==1){o[V]=o[V]*(1-m*.05);o[V+1]=o[V+1]*(1-m*.05)}else{var R=0,$=0,B,Z,v,E;
if(x==0){R=H*m;$=b*m}else if(x==2){}else if(x==3){R=m*l;$=-m*D}else if(x==4){R=m*D;$=m*l}else if(x==5){R=-m*D;
$=-m*l}else if(x==6){R=b*m;$=-H*m}var p=o[V],c=o[V+1];if(a==0||a!=P-1&&R<0){B=1+o[V+2]-p;v=o[V+3]-c}else{B=p-o[V-2]+1;
v=c-o[V-1]}if(F==0||F!=w-1&&$<0){Z=o[V+W]-p;E=1+o[V+W+1]-c}else{Z=p-o[V-W];E=c-o[V-W+1]+1}o[V]=-(B*R+Z*$-p);
o[V+1]=-(v*R+E*$-c)}n++}}};e.zo.ag8=function(o){var P=o[0],w=o[0],x=o[1],z=o[1];for(var I=0;I<o.length;
I+=2){var S=o[I],k=o[I+1];if(S<P)P=S;else if(S>w)w=S;if(k<x)x=k;else if(k>z)z=k}return[P,x,w,z]};e.agV=function(o,P,w,x,z){function S(d,q,hc,dk){return Math.sqrt((d-hc)*(d-hc)+(q-dk)*(q-dk))}function k(d,q){return d>=0&&d<P&&q>=0&&q<w}function f(d){if(d<0)return 0;
if(d>=P)return P-1;return d}function C(d){if(d<0)return 0;if(d>=w)return w-1;return d}function H(I,d){var q=d[3]*(1/255),hc=x[I]+d[0]*q;
if(hc>255)hc=255;x[I]=hc;hc=x[I+1]+d[1]*q;if(hc>255)hc=255;x[I+1]=hc;hc=x[I+2]+d[2]*q;if(hc>255)hc=255;
x[I+2]=hc}function b(d,q,hc){if(!g(d,q))return;if(hc[3]<0)hc[3]=0;H((q*P+d)*4,hc)}function i(d){var q=d.slice(0,3);
q[3]=0;return q}var M=P/800;function T(d){return Math.round(d*M)}function O(){for(var I=0;I<=300;I++){j[I]=Y(I)}}function Y(w){var d=.8,q=.2,hc=d*q,dk=w/60%2-1,c6=hc*(1-dk*dk),e3=q-hc,ks;
if(w<60){ks=[hc+e3,c6,0]}else if(w<120){ks=[c6,hc,0]}else if(w<180){ks=[0,hc,c6]}else if(w<240){ks=[0,c6,hc]}else if(w<300){ks=[c6,0,hc]}else{ks=[hc,0,c6]}return[(ks[0]+e3)*255,(ks[1]+e3)*255,(ks[2]+e3)*255]}function U(w){return j[~~w]}function W(d){return 1-t(d)}function t(d){return d-~~d}function _(d,q,hc,dk){v(d,q,hc,0,q+1,1,dk)}function n(d,q,hc,dk,c6,e3){v(d,q,hc,0,dk,1,c6,e3)}function y(d){for(var I=0;
I<x.length;I+=4){H(I,d)}}function F(d,q,hc,dk,c6,e3,ks,cH){a(d,q,hc,dk,c6,1,e3,ks,cH)}function a(d,q,hc,dk,c6,e3,ks,cH,bI){if(e3==null)e3=.5;
if(ks==null)ks=0;if(cH==null)cH=0;if(bI==null)bI=!1;var aR=d.x,ak=d.y,cN=hc.slice(0),gC=~~(hc[3]*K);
dk=dk*K;if(!bI){q=E(q);c6=E(c6);ks=E(ks);cH=E(cH)}var bD=f(aR-q),cu=f(aR+q);for(var du=bD;du<=cu;du++){var bq=du-aR,hn=Math.floor(Math.sqrt(q*q-bq*bq)),aK=C(ak-hn),cQ=C(ak);
for(var jR=aK;jR<=cQ;jR++){var ch=S(du,jR,aR,ak);if(ch>q||ch<=q-c6)break;var bx=(ch-q+c6)/c6;cN[3]=gC-dk*(e3==1?bx:Math.pow(bx,e3));
H((jR*P+du)*4,cN)}aK=C(ak+hn);for(var jR=aK;jR>cQ;jR--){var ch=S(du,jR,aR,ak);if(ch>q||ch<=q-c6)break;
var bx=(ch-q+c6)/c6;cN[3]=gC-dk*(e3==1?bx:Math.pow(bx,e3));H((jR*P+du)*4,cN)}}if(ks>0){v(d,q+ks,cN,cN[3],ks,1,0,0,!0)}if(cH>0){v(d,q-c6,u(hc),-hc[3],cH,1,0,0,!0)}}function V(d,q,hc,dk,c6,e3){v(d,q,hc,hc[3],q+1,1,dk,c6,e3)}function D(d,q,hc,dk,c6){if(c6==null)c6=!1;
var e3=d.x,ks=d.y;dk*=K;if(!c6){q=E(q);hc=E(hc)}var cH=f(e3-q),bI=f(e3+q);for(var aR=cH;aR<bI;aR++){var ak=aR-e3,cN=~~Math.sqrt(q*q-ak*ak),gC=C(ks-cN),bD=C(ks);
for(var cu=gC;cu<=bD;cu++){var du=S(aR,cu,e3,ks);if(du>q||du<=q-hc)break;var bq=(q-du)/hc,hn=U(300*bq);
hn[3]=dk;H((cu*P+aR)*4,hn)}gC=C(ks+cN);for(var cu=gC;cu>bD;cu--){var du=S(aR,cu,e3,ks);if(du>q||du<=q-hc)break;
var bq=(q-du)/hc,hn=U(300*bq);hn[3]=dk;H((cu*P+aR)*4,hn)}}}function l(A,d){var q=A.Gt,hc=A.$V,dk=d.slice(0),c6=d[3]*K,e3=Math.abs(hc.y-q.y)>Math.abs(hc.x-q.x);
if(e3){var ks=q.x;q.x=q.y;q.y=ks;ks=hc.x;hc.x=hc.y;hc.y=ks}if(q.x>hc.x){var ks=q;q=hc;hc=ks}var cH=hc.x-q.x,bI=hc.y-q.y,aR=cH==0?1:bI/cH,ak=Math.round(q.x),cN=q.y+aR*(ak-q.x),gC=W(q.x+.5),bD=ak,cu=~~cN;
if(e3){dk[3]=c6*W(cN)*gC;b(cu,bD,dk);dk[3]=c6*t(cN)*gC;b(cu+1,bD,dk)}else{dk[3]=c6*W(cN)*gC;b(bD,cu,dk);
dk[3]=c6*t(cN)*gC;b(bD,cu+1,dk)}var du=cN-aR;ak=Math.round(hc.x);cN=hc.y+aR*(ak-hc.x);gC=t(hc.x+.5);
var bq=ak,hn=~~cN;if(e3){dk[3]=c6*W(cN)*gC;b(hn,bq,dk);dk[3]=c6*t(cN)*gC;b(hn+1,bq,dk)}else{dk[3]=c6*W(cN)*gC;
b(bq,hn,dk);dk[3]=c6*t(cN)*gC;b(bq,hn+1,dk)}if(e3){for(var aK=bD+1;aK<=bq-1;aK++){dk[3]=c6*W(du);b(~~du,aK,dk);
dk[3]=c6*t(du);b(~~du+1,aK,dk);du+=aR}}else{for(var aK=bD+1;aK<=bq-1;aK++){dk[3]=c6*W(du);b(aK,~~du,dk);
dk[3]=c6*t(du);b(aK,~~du+1,dk);du+=aR}}}function Q(d,q,hc,dk){for(var I=0;I<4;I++){var c6=d._y(q+1.3*I,hc);
l(c6,dk,1)}}function eD(d,q){this.x=Math.round(d);this.y=Math.round(q)}var m=Math.PI/180;eD.prototype._y=function(d,q){d=d*m;
var hc=this.x+q*Math.cos(d),dk=this.y+q*Math.sin(d);return new R(this.x,this.y,hc,dk)};eD.prototype.ayu=function(d,q){d=d*m;
var hc=this.DN+q*Math.cos(d),dk=this.z9+q*Math.sin(d);return new eD(hc,dk)};function R(d,q,hc,dk){this.Gt=new eD(d,q);
this.$V=new eD(hc,dk)}R.prototype.Dk=function(d){var q=d*this.Gt.x+(1-d)*this.$V.x,hc=d*this.Gt.y+(1-d)*this.$V.y;
return new eD(q,hc)};var $=F,p=V,c=_,B=n,Z=D,v=a,E=T,g=k,u=i,j=[];O();for(var I=0;I<o.length;I++){x[I]=o[I]}var A=new R(P*z[2],w*z[3],P/2,w/2),K=z[1],s=[];
s[0]=function r(){var d=[80,40,15,60],hc=0,dk=0;c(A.Dk(1.4),260,d,10);c(A.Dk(1),100,[240,50,50,30],30);
p(A.Dk(1),60,[255,40,0,40]);var q=[255,255,255,255];v(A.Dk(1),70,q,q[3],58,.5);c(A.Dk(1),12,q);q[3]=40;
$(A.Dk(1),150,q,q[3],150);for(var I=0;I<40;I++){hc+=Math.random()*25;dk=Math.random()*E(300)+E(100);
var c6=A.Dk(1)._y(hc,dk);l(A.Dk(1)._y(hc,dk),[110,110,110,30])}p(A.Dk(1),130,[255,255,255,8]);var e3=[170,30,23,70];
B(A.Dk(1),70,e3,1,3,3);var ks=[60,60,130,40];c(A.Dk(.47),44,ks,5);c(A.Dk(.43),22,ks,3);ks[3]=16;c(A.Dk(.53),15,ks,2);
var cH=[138,94,42,100];c(A.Dk(.2),16,cH,2);var bI=[130,255,170,180];p(A.Dk(0),4,bI);p(A.Dk(-.25),5,bI);
cH=[150,90,0,50];$(A.Dk(-.45),55,u(cH),-cH[3],40,2);c(A.Dk(-.42),35,cH,2);c(A.Dk(-.5),15,cH,2);Z(A.Dk(-1.28),145,11,70);
var aR=U(0);aR[3]=50;$(A.Dk(-1.28),149,aR,aR[3],4);aR=U(300);aR[3]=50;$(A.Dk(-1.28),155-1,u(aR),-aR[3],3);
var ak=[130,130,10,50];B(A.Dk(-1),73,ak,3,2);var cN=[40,130,70,40];$(A.Dk(-1),70,u(cN),-cN[3],35);cN=[40,170,60,50];
c(A.Dk(-.7),25,cN,4);var cN=[70,110,50,60];$(A.Dk(1.3),30,u(cN),-cN[3],11,3);ks=[0,50,210,80];p(A.Dk(-.72),20,ks)};
s[1]=function h(){p(A.Dk(1),150,[240,70,70,60]);c(A.Dk(1),100,[200,60,60,40],30);var d=[255,255,255,255],q=0,hc=0;
v(A.Dk(1),75,d,d[3],63);c(A.Dk(1),12,d);p(A.Dk(1),270,[200,200,200,20],10);for(var I=0;I<10;I++){q+=10+Math.random()*40;
hc=Math.random()*E(250)+E(80);var dk=A.Dk(1)._y(q,hc);l(dk,[110,110,110,35])}q=5;hc=100;for(var I=0;
I<12;I++){q+=30;Q(A.Dk(1),q,hc,[90,90,90,40])}var c6=[150,40,23,100];B(A.Dk(1),70,c6,1,3,3);var e3=[30,100,60,40];
p(A.Dk(-.9),180,[255,255,255,20]);c(A.Dk(-.9),140,e3,15);var ks=[170,80,25,15];B(A.Dk(-.9),120,ks,1,4,4);
var cH=[110,240,190,200];p(A.Dk(-.6),3,cH);cH[3]=100;p(A.Dk(-.6),7,cH);var bI=[230,120,40,85];p(A.Dk(-.73),9,bI);
var aR=[60,60,190,50];c(A.Dk(.3),28,aR,6);aR[3]=25;c(A.Dk(.34),20,aR,3)};s[2]=function jC(){var d=[255,255,255,255],hc=0,dk=0;
c(A.Dk(1),13,d);v(A.Dk(1),150,d,d[3],137);var q=[120,80,35,20];c(A.Dk(1.4),260,q,10);for(var I=0;I<40;
I++){hc+=5+Math.random()*30;dk=Math.random()*E(300);l(A.Dk(1)._y(hc,dk),[110,110,110,20])}var c6=[10,30,255,30];
c(A.Dk(1),70,c6,50);var e3=[15,90,170,15];c(A.Dk(1.5),60,e3);var ks=[220,220,20,50];c(A.Dk(-1.15),8,ks,2);
var d=[255,255,255,40];p(A.Dk(-1.18),6,d);p(A.Dk(-1.18),4,d);ks=[110,110,10,8];$(A.Dk(-1.2),32,u(ks),-ks[3],20,3);
var cH=[5,0,16,255];for(var I=0;I<4;I++){c(A.Dk(-1.36),10,cH,3)}var bI=[90,200,150,20],aR=bI.slice(0);
aR[3]*=2;c(A.Dk(-1.32),7,aR,3);c(A.Dk(-1.36),7,aR,3);c(A.Dk(-1.4),7,aR,3);var d=[230,230,230,100];p(A.Dk(-1.36),2,d);
d[3]=3;c(A.Dk(-.55),10,d);ks=[120,100,10,18];c(A.Dk(-.55),160,ks,8);c(A.Dk(-.55),80,ks,4);bI[3]=3;aR[3]=6;
$(A.Dk(-.49),13,u(aR),-aR[3],13,2);$(A.Dk(-.55),13,u(aR),-aR[3],13,2);bI[3]=20;c(A.Dk(.15),25,bI,3);
ks[3]=100;p(A.Dk(-.52),3,ks);ks=[200,200,50,40];c(A.Dk(.27),1,ks,4);var ak=[150,40,23,30];$(A.Dk(1),80,u(ak),-ak[3],2,1)};
return s[z[0]]()};e.zr={};e.zr.VI=function(o){var P=o.length,eK=o[0].length,w=new Array(eK);for(var I=0;
I<eK;I++)w[I]=new Array(P);for(var I=0;I<eK;I++)for(var x=0;x<P;x++)w[I][x]=o[x][I];return w};e.zr.WJ=function(o,P){var w=o.length,eK=o[0].length,x=new Array(w);
for(var I=0;I<w;I++)x[I]=new Array(eK);for(var I=0;I<w;I++)for(var z=0;z<eK;z++)x[I][z]=o[I][z]-P[I][z];
return x};e.zr.add=function(o,P){var w=o.length,eK=o[0].length,x=new Array(w);for(var I=0;I<w;I++)x[I]=new Array(eK);
for(var I=0;I<w;I++)for(var z=0;z<eK;z++)x[I][z]=o[I][z]+P[I][z];return x};e.zr.multiply=function(o,P){var w=o.length,x=o[0].length,eK=P[0].length;
if(x!=P.length)throw"e";var z=new Array(w);for(var I=0;I<w;I++)z[I]=new Array(eK);if((x&1)!=0)for(var I=0;
I<w;I++){var S=o[I],k=z[I];for(var f=0;f<eK;f++){var C=0;for(var H=0;H<x;H++)C+=S[H]*P[H][f];k[f]=C}}else for(var I=0;
I<w;I++){var S=o[I],k=z[I];for(var f=0;f<eK;f++){var C=0;for(var H=0;H<x;H+=2)C+=S[H]*P[H][f]+S[H+1]*P[H+1][f];
k[f]=C}}return z};e.zr.Gl=function(o,P){var w=o.length,eK=o[0].length,x=new Array(w);for(var I=0;I<w;
I++){var z=0;for(var S=0;S<eK;S++)z+=o[I][S]*P[S];x[I]=z}return x};e.zr.Zm=function(o,P){var w=[];for(var I=0;
I<o;I++){w.push([]);for(var x=0;x<P;x++)w[I].push(0)}return w};e.zr.auf=function(o){for(var I=0;I<o.length;
I++)console.log(JSON.stringify(o[I]))};e.zr.aul=function(o){var P=[];for(var I=0;I<o.length;I++)P.push(o[I].join(","));
return"["+P.join(";")+"]"};e.zr.lX=function(o,P){var w=o.length;for(var x=0;x<w;x++){var z=0,S=Number.NEGATIVE_INFINITY;
for(var I=x;I<w;I++)if(Math.abs(o[I][x])>S){z=I;S=Math.abs(o[I][x])}e.zr.aB8(o,x,z);for(var I=x+1;I<w;
I++){if(o[x][x]==0)return 1;var k=o[I][x]/o[x][x];for(var f=x;f<w+1;f++)o[I][f]-=o[x][f]*k}}for(var I=w-1;
I>=0;I--){if(o[I][I]==0)return 1;var C=o[I][w]/o[I][I];P[I]=C;for(var f=I-1;f>=0;f--){o[f][w]-=o[f][I]*C;
o[f][I]=0}}return 0};e.zr.aB8=function(o,P,w){var x=o[P];o[P]=o[w];o[w]=x};e.zr.a0X=function(o){var P=o.length,w=e.zr.Zm(P,P);
for(var I=0;I<P;I++)w[I][I]=o[I];return w};e.zr.al4=function(o){var P=o.length,w=o[0].length,x=new Array(P);
for(var I=0;I<P;I++){x[I]=0;for(var z=0;z<w;z++)x[I]+=o[I][z];x[I]/=w}return x};e.zr.ha=function(o){var P=0;
for(var I=0;I<o.length;I++)P+=o[I]*o[I];return Math.sqrt(P)};e.ww={};e.ww.mN=function(o){var P=~~(o+.5);
return P<0?0:P>255?255:P};e.ww.transform=function(o,P,w){var x=e.ww.mN,z=o.$.length;for(var I=0;I<z;
I++){var S=o.$[I],k=o.H[I],f=o.b[I];P.$[I]=x(w[0]*S+w[1]*k+w[2]*f+w[3]*255);P.H[I]=x(w[4]*S+w[5]*k+w[6]*f+w[7]*255);
P.b[I]=x(w[8]*S+w[9]*k+w[10]*f+w[11]*255)}};e.ww.abR=function(o,P,w){var x=e.ww.mN,z=o.length;for(var I=0;
I<z;I+=4){var S=o[I],k=o[I+1],f=o[I+2];P[I]=x(w[0]*S+w[1]*k+w[2]*f+w[3]*255);P[I+1]=x(w[4]*S+w[5]*k+w[6]*f+w[7]*255);
P[I+2]=x(w[8]*S+w[9]*k+w[10]*f+w[11]*255)}};e.ww.auE=function(o){var P=o[0]+o[1]+o[2],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(P==1){var x=o.indexOf(1);w[x]=w[x+4]=w[x+8]=1}else{w[0]=o[0];w[5]=o[1];w[10]=o[2]}return w};e.ww.AM=function(o,P,w){return[1,0,0,o,0,1,0,P,0,0,1,w,0,0,0,1]};
e.ww.Bj=function(o,P,w){return[o,0,0,0,0,P,0,0,0,0,w,0,0,0,0,1]};e.ww.alp=function(o){return[o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]]};
e.ww.Jg=function(o){return[o[0],o[1],o[2],0,o[3],o[4],o[5],0,o[6],o[7],o[8],0,0,0,0,1]};e.ww.tM=function(o,P){return[o[0]*P[0]+o[1]*P[1]+o[2]*P[2]+o[3]*P[3],o[4]*P[0]+o[5]*P[1]+o[6]*P[2]+o[7]*P[3],o[8]*P[0]+o[9]*P[1]+o[10]*P[2]+o[11]*P[3],o[12]*P[0]+o[13]*P[1]+o[14]*P[2]+o[15]*P[3]]};
e.ww.VI=function(o){var P=[];P[0]=o[0];P[1]=o[4];P[2]=o[8];P[3]=o[12];P[4]=o[1];P[5]=o[5];P[6]=o[9];
P[7]=o[13];P[8]=o[2];P[9]=o[6];P[10]=o[10];P[11]=o[14];P[12]=o[3];P[13]=o[7];P[14]=o[11];P[15]=o[15];
return P};e.ww.add=function(o,P){var w=o.slice(0);for(var I=0;I<16;I++)w[I]+=P[I];return w};e.ww.multiply=function(o,P){var w=[];
w[0]=o[0]*P[0]+o[1]*P[4]+o[2]*P[8]+o[3]*P[12];w[1]=o[0]*P[1]+o[1]*P[5]+o[2]*P[9]+o[3]*P[13];w[2]=o[0]*P[2]+o[1]*P[6]+o[2]*P[10]+o[3]*P[14];
w[3]=o[0]*P[3]+o[1]*P[7]+o[2]*P[11]+o[3]*P[15];w[4]=o[4]*P[0]+o[5]*P[4]+o[6]*P[8]+o[7]*P[12];w[5]=o[4]*P[1]+o[5]*P[5]+o[6]*P[9]+o[7]*P[13];
w[6]=o[4]*P[2]+o[5]*P[6]+o[6]*P[10]+o[7]*P[14];w[7]=o[4]*P[3]+o[5]*P[7]+o[6]*P[11]+o[7]*P[15];w[8]=o[8]*P[0]+o[9]*P[4]+o[10]*P[8]+o[11]*P[12];
w[9]=o[8]*P[1]+o[9]*P[5]+o[10]*P[9]+o[11]*P[13];w[10]=o[8]*P[2]+o[9]*P[6]+o[10]*P[10]+o[11]*P[14];w[11]=o[8]*P[3]+o[9]*P[7]+o[10]*P[11]+o[11]*P[15];
w[12]=o[12]*P[0]+o[13]*P[4]+o[14]*P[8]+o[15]*P[12];w[13]=o[12]*P[1]+o[13]*P[5]+o[14]*P[9]+o[15]*P[13];
w[14]=o[12]*P[2]+o[13]*P[6]+o[14]*P[10]+o[15]*P[14];w[15]=o[12]*P[3]+o[13]*P[7]+o[14]*P[11]+o[15]*P[15];
return w};e.ww.Sd=function(o){var P=[];P[0]=o[5]*o[10]*o[15]-o[5]*o[14]*o[11]-o[6]*o[9]*o[15]+o[6]*o[13]*o[11]+o[7]*o[9]*o[14]-o[7]*o[13]*o[10];
P[1]=-o[1]*o[10]*o[15]+o[1]*o[14]*o[11]+o[2]*o[9]*o[15]-o[2]*o[13]*o[11]-o[3]*o[9]*o[14]+o[3]*o[13]*o[10];
P[2]=o[1]*o[6]*o[15]-o[1]*o[14]*o[7]-o[2]*o[5]*o[15]+o[2]*o[13]*o[7]+o[3]*o[5]*o[14]-o[3]*o[13]*o[6];
P[3]=-o[1]*o[6]*o[11]+o[1]*o[10]*o[7]+o[2]*o[5]*o[11]-o[2]*o[9]*o[7]-o[3]*o[5]*o[10]+o[3]*o[9]*o[6];
P[4]=-o[4]*o[10]*o[15]+o[4]*o[14]*o[11]+o[6]*o[8]*o[15]-o[6]*o[12]*o[11]-o[7]*o[8]*o[14]+o[7]*o[12]*o[10];
P[5]=o[0]*o[10]*o[15]-o[0]*o[14]*o[11]-o[2]*o[8]*o[15]+o[2]*o[12]*o[11]+o[3]*o[8]*o[14]-o[3]*o[12]*o[10];
P[6]=-o[0]*o[6]*o[15]+o[0]*o[14]*o[7]+o[2]*o[4]*o[15]-o[2]*o[12]*o[7]-o[3]*o[4]*o[14]+o[3]*o[12]*o[6];
P[7]=o[0]*o[6]*o[11]-o[0]*o[10]*o[7]-o[2]*o[4]*o[11]+o[2]*o[8]*o[7]+o[3]*o[4]*o[10]-o[3]*o[8]*o[6];P[8]=o[4]*o[9]*o[15]-o[4]*o[13]*o[11]-o[5]*o[8]*o[15]+o[5]*o[12]*o[11]+o[7]*o[8]*o[13]-o[7]*o[12]*o[9];
P[9]=-o[0]*o[9]*o[15]+o[0]*o[13]*o[11]+o[1]*o[8]*o[15]-o[1]*o[12]*o[11]-o[3]*o[8]*o[13]+o[3]*o[12]*o[9];
P[10]=o[0]*o[5]*o[15]-o[0]*o[13]*o[7]-o[1]*o[4]*o[15]+o[1]*o[12]*o[7]+o[3]*o[4]*o[13]-o[3]*o[12]*o[5];
P[11]=-o[0]*o[5]*o[11]+o[0]*o[9]*o[7]+o[1]*o[4]*o[11]-o[1]*o[8]*o[7]-o[3]*o[4]*o[9]+o[3]*o[8]*o[5];P[12]=-o[4]*o[9]*o[14]+o[4]*o[13]*o[10]+o[5]*o[8]*o[14]-o[5]*o[12]*o[10]-o[6]*o[8]*o[13]+o[6]*o[12]*o[9];
P[13]=o[0]*o[9]*o[14]-o[0]*o[13]*o[10]-o[1]*o[8]*o[14]+o[1]*o[12]*o[10]+o[2]*o[8]*o[13]-o[2]*o[12]*o[9];
P[14]=-o[0]*o[5]*o[14]+o[0]*o[13]*o[6]+o[1]*o[4]*o[14]-o[1]*o[12]*o[6]-o[2]*o[4]*o[13]+o[2]*o[12]*o[5];
P[15]=o[0]*o[5]*o[10]-o[0]*o[9]*o[6]-o[1]*o[4]*o[10]+o[1]*o[8]*o[6]+o[2]*o[4]*o[9]-o[2]*o[8]*o[5];var w=o[0]*P[0]+o[1]*P[4]+o[2]*P[8]+o[3]*P[12];
for(var I=0;I<16;I++)P[I]/=w;return P};e.ww.aw2=function(o){var P=[],w=o[5]*o[10]*o[15]-o[5]*o[14]*o[11]-o[6]*o[9]*o[15]+o[6]*o[13]*o[11]+o[7]*o[9]*o[14]-o[7]*o[13]*o[10],x=-o[4]*o[10]*o[15]+o[4]*o[14]*o[11]+o[6]*o[8]*o[15]-o[6]*o[12]*o[11]-o[7]*o[8]*o[14]+o[7]*o[12]*o[10],z=o[4]*o[9]*o[15]-o[4]*o[13]*o[11]-o[5]*o[8]*o[15]+o[5]*o[12]*o[11]+o[7]*o[8]*o[13]-o[7]*o[12]*o[9],S=-o[4]*o[9]*o[14]+o[4]*o[13]*o[10]+o[5]*o[8]*o[14]-o[5]*o[12]*o[10]-o[6]*o[8]*o[13]+o[6]*o[12]*o[9];
return o[0]*w+o[1]*x+o[2]*z+o[3]*S};e.ww.qm=function(o,P,w,x){var z=Math.sin(x),S=Math.cos(x),k=1/Math.sqrt(o*o+P*P+w*w);
o*=k;P*=k;w*=k;return e.ww.Jg([o*o*(1-S)+S,o*P*(1-S)-w*z,o*w*(1-S)+P*z,o*P*(1-S)+w*z,P*P*(1-S)+S,P*w*(1-S)-o*z,o*w*(1-S)-P*z,P*w*(1-S)+o*z,w*w*(1-S)+S])};
e.ww.tr=e.ww.Jg([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
e.ww.awN=e.ww.Jg([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
e.ww.aCq=e.ww.Sd(e.ww.tr);e.wl={};e.wl.mT=new Uint32Array(1);e.wl.a3G=function(o,P,w,x,z,S){var k=new Uint32Array(o),f=0,C=e.wl.mT;
if(C.length<P*4)e.wl.mT=C=new Uint32Array(P*4);var H=new Float64Array(C.buffer);for(var I=0;I<P;I+=2){var b=z[I],i=z[I+1],M=S[I],T=S[I+1];
C[f]=i;H[f+2>>1]=M;C[f+1]=k[b];k[b]=f+1;f+=4;C[f]=b;H[f+2>>1]=T;C[f+1]=k[i];k[i]=f+1;f+=4}return{Mh:C,asz:H,arM:k}};
e.wl.lX=function(o,P,w,x,z,S,k){var f=1,C=e.wl.a3G(o,P,w,x,z,S),H=C.Mh,b=C.asz,i=C.arM,M=new Uint32Array(o),T=new e.wl.FD(o),Y=1,n=0;
T.push(w);T.push(x);var O=new e.wl.FD(o),U=new Uint8Array(o),W=new Uint32Array(o);U[w]=1;U[x]=2;var t=new Uint32Array(o),_=new Uint32Array(o);
_[w]=_[x]=0;t[w]=t[x]=1;while(!0){var y=-1,m=0,c=1e30;while(!T.kj()&&y==-1){var F=T.top(),a=U[F],V=i[F]-1;
while(V!=-1){var D=H[V],l=U[D],Q=V^a-1<<2;if(b[Q+2>>1]!=0){if(l==0){e.wl.WQ(F,V,D,U,W,_,t);T.push(D)}else if(l==a&&t[D]<=t[F]&&_[D]>_[F])e.wl.WQ(F,V,D,U,W,_,t);
else if(l!=a){y=Q}}V=H[V+1]-1}if(y!=-1)break;T.pop()}if(y==-1){break}Y++;var R=y;while(R!=-1){M[m]=R;
m++;R=W[H[R^4]]-1}var $=m>>1;for(var I=0;I<$;I++){var p=M[I];M[I]=M[m-I-1];M[m-I-1]=p}R=W[H[y]]-1;while(R!=-1){M[m]=R^4;
m++;R=W[H[R^4]]-1}for(var I=0;I<m;I++)c=Math.min(c,b[M[I]+2>>1]);n+=c;if(n>=k)return{qj:null,RN:n};for(var I=0;
I<m;I++){var B=M[I],Z=B^4,F=H[Z],D=H[B];b[B+2>>1]-=c;b[Z+2>>1]+=c;if(b[B+2>>1]==0&&U[F]==U[D]){if(U[F]==1){W[D]=0;
O.push(D)}if(U[F]==2){W[F]=0;O.push(F)}}}while(!O.kj()){var F=O.pop(),a=U[F],V=i[F]-1,v=a==1?4:0,E=0,g=0,u=1e9;
while(V!=-1){var D=H[V],j=V^4,Q=V^v;if(U[D]==a&&b[Q+2>>1]>0&&e.wl.aC8(D,w,x,W,H,Y,t,_)+1<u){E=D;g=j;
u=_[D]+1}V=H[V+1]-1}if(g!=0){e.wl.WQ(E,g,F,U,W,_,t);continue}V=i[F]-1;while(V!=-1){var D=H[V],Q=V^v;
if(U[D]==a){if(b[Q+2>>1]>0){T.push(D)}if(W[D]==V+1){W[D]=0;O.push(D)}}V=H[V+1]-1}U[F]=0;T.remove(F)}}var A=[];
for(var I=0;I<P;I+=2){var F=z[I],D=z[I+1];if(U[F]==1&&U[D]!=1){A.push(I>>1)}if(U[D]==1&&U[F]!=1){A.push(P+I>>1)}}return{qj:A,RN:n}};
e.wl.WQ=function(o,P,w,x,z,S,k){x[w]=x[o];z[w]=P+1;S[w]=S[o]+1;k[w]=k[o]};e.wl.aC8=function(o,P,w,x,z,S,k,f){var C=o,H=x[o]-1,b=0;
while(H!=-1&&k[o]!=S){o=z[H^4];H=x[o]-1;b++}if(H==-1&&o!=P&&o!=w)return 1e9;var i=f[o]+b;b=0;H=x[C]-1;
while(C!=o){f[C]=i-b;b++;k[C]=S;C=z[H^4];H=x[C]-1}return i};e.wl.arO=function(o,P,w,x,z,S){var k=e.wl.a3G(o,P,w,x,z,S),f=k.Mh,C=k.asz,H=k.arM,b=0,i=0,M=new Uint32Array(o*2),T=new e.wl.aqq(o),O=0;
while(!0){T.reset();T.push(w);for(var I=0;I<o;I++)M[I<<1]=0;while(!T.kj()){var Y=T.pop(),U=H[Y]-1;while(U!=-1){O=f[U];
if(M[O<<1]==0&&C[U+2>>1]>0&&O!=w){M[O<<1]=Y+1;M[(O<<1)+1]=U;T.push(O)}U=f[U+1]-1}if(M[x<<1]!=0){break}}if(M[x<<1]==0){break}var W=1e30;
O=x;while(!0){var t=M[O<<1]-1;if(t==-1)break;var _=M[(O<<1)+1];W=Math.min(W,C[_+2>>1]);O=t}O=x;while(!0){var t=M[O<<1]-1;
if(t==-1)break;var _=M[(O<<1)+1],n=_^4;C[_+2>>1]-=W;C[n+2>>1]+=W;O=t}b+=W}var y=[];for(var I=0;I<P;I+=2){var t=z[I],O=z[I+1];
if((M[t<<1]!=0||t==w)&&M[O<<1]==0&&O!=w){y.push(I>>1)}if((M[O<<1]!=0||O==w)&&M[t<<1]==0&&t!=w){y.push(P+I>>1)}}return{qj:y,RN:b}};
e.wl.aqq=function(o){o|=o>>1;o|=o>>2;o|=o>>4;o|=o>>8;o|=o>>16;this.w0=new Uint32Array(o+1);this.fj=o;
this.mQ=0;this.c2=0};e.wl.aqq.prototype={push:function(o){var P=this.c2;this.w0[P]=o;this.c2=P+1&this.fj},pop:function(){var o=this.mQ,P=this.w0[o];
this.mQ=o+1&this.fj;return P},kj:function(){return this.mQ==this.c2},reset:function(){this.mQ=0;this.c2=0}};
e.wl.FD=function(o){o|=o>>1;o|=o>>2;o|=o>>4;o|=o>>8;o|=o>>16;this.w0=new Uint32Array(o+1);this.Vd=new Uint32Array(o+1);
this.fj=o;this.mQ=0;this.c2=0};e.wl.FD.prototype={top:function(){return this.w0[this.mQ]},awJ:function(){return this.w0[this.c2]},push:function(o){if(this.Vd[o]!=0)return;
this.Vd[o]=this.c2+1;var P=this.c2;this.w0[P]=o;this.c2=P+1&this.fj},pop:function(){var o=this.mQ,P=this.w0[o];
this.Vd[P]=0;this.mQ=o+1&this.fj;return P},kj:function(){return this.mQ==this.c2},remove:function(o){var P=this.Vd[o]-1;
if(P==-1)return;this.Vd[o]=0;if(P==this.mQ){this.pop();return}var w=this.pop();this.w0[P]=w;this.Vd[w]=P+1},QB:function(I){return I+this.fj+1&this.fj}};
e.wl.aui=function(o,P,w){var x=e.wl.M4(o,P,w);if(P<x-1)e.wl.aui(o,P,x-1);if(x<w)e.wl.aui(o,x,w)};e.wl.M4=function(o,P,w){var x=o[P+w>>>1];
while(P<=w){while(o[P]<x)P++;while(o[w]>x)w--;if(P<=w){e.wl.vI(o,P,w);P++;w--}}return P};e.wl.vI=function(o,P,w){var x=o[P];
o[P]=o[w];o[w]=x};e.lm=function(){var o,P;function w(k,f,eK){var C=eK-1,H=f+eK;o[eK-2]=k[H-2];P[0]=k[H-1];
var b=Math.max;for(var I=1;I<C;I++){o[eK-2-I]=b(o[eK-1-I],k[H-2-I]);P[I]=b(P[I-1],k[H-1+I])}for(var I=0;
I<C;I++)k[f+I]=b(o[I],P[I])}function x(k,f,eK){var C=eK-1,H=Math.ceil(f/C)*C;for(var b=0;b<H;b+=C)w(k,b,eK)}function z(k,f,C,H,eK,b){f.set(k);
if(eK==1)return;o=e.U(eK-1);P=e.U(eK-1);var i=eK>>>1,M=e.U(Math.ceil(Math.max(C,H)/(eK-1))*(eK-1)+(eK-2)),T=new Uint8Array(M.buffer,0,C);
if(!b)e.Sd(f);for(var O=0;O<H;O++){M.fill(0);M.set(new Uint8Array(f.buffer,O*C,C),i);x(M,C,eK);f.set(T,O*C)}for(var Y=0;
Y<C;Y++){M.fill(0);for(var O=0;O<H;O++)M[O+i]=f[O*C+Y];x(M,H,eK);for(var O=0;O<H;O++)f[O*C+Y]=M[O]}if(!b)e.Sd(f)}function S(k,f,C,H,eK,b){var i=e.U(C*H);
for(var M=0;M<4;M++){e.JX(k,i,M);if(M==3)e.Sd(i);z(i,i,C,H,eK,b);if(M==3)e.Sd(i);e.lI(i,f,M)}}return{m3:z,aqQ:S}}();
e.KH={};e.KH.alA=function(o){for(var I=0;I<o.length;I++)e.KH.rI(o,I)};e.KH.rI=function(o,I){o[I].v.keyShapeInvalidated={t:"bool",v:!0}};
e.KH.a79=function(o){for(var I=0;I<o.length;I++)o[I].v.keyOriginIndex.v=I};e.KH.mM=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
e.KH.dN=function(o,P,w){o=o.v;var x={Rctn:2,Ln:4,Elps:5},z=x[o.classID],S=o.topLeft?e.KH.aFn(o):null,k=null,f=0,C=[!1,!1,0,0,0];
if(z==4){var H=o.Strt.v,b=o.End.v;k=[H.Hrzn.v.val,H.Vrtc.v.val,b.Hrzn.v.val,b.Vrtc.v.val];f=o.Wdth.v.val;
for(var I=0;I<2;I++){var i=o[I==0?"StrA":"EndA"];if(i==null)continue;i=i.v;C[I]=i.On.v;C[2]=i.Wdth.v;
C[3]=i.Lngt.v;C[4]=i.Cncv.v.val}}if(z==null)return null;return e.KH.zA(z,z==4?null:e.KH.JU(o,P,w),S,k,f,C)};
e.KH.dC=function(o,P,w,x,z,S,k){var f={classID:o,unitValueQuadVersion:{t:"long",v:1}};if(P)e.KH.cb(f,["Left","Top","Rght","Btom"],P);
if(w)e.KH.cb(f,["topLeft","topRight","bottomRight","bottomLeft"],w);if(o=="Ln"){f.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x[1]}}}},f.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x[3]}}}},f.Wdth={t:"UntF",v:{type:"#Pxl",val:z}};
for(var I=0;I<2;I++){var C=I==0?"StrA":"EndA";f[C]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:k[I]},Wdth:{t:"doub",v:k[2]},Lngt:{t:"doub",v:k[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:k[4]}}}}}}if(S)f.Nm={t:"TEXT",v:S};
return{t:"Objc",v:f}};e.KH.aih=function(o,P){var w=e.KH.HH(o),x=o[2]-o[0],z=o[3]-o[1],S=Math.sqrt(x*x+z*z),k=[0,0,S,0,S,P,0,P],f=new ar;
f.rotate(-w);f.translate(o[0],o[1]);e.a.h(k,f,k);return k};e.KH.zA=function(o,P,w,x,z,S){var k=e.KH.mM(),f=k.v,C;
delete f.keyShapeInvalidated;f.keyOriginType={t:"long",v:o};f.keyOriginResolution={t:"doub",v:75};if(o==4){f.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:x[0]},Vrtc:{t:"doub",v:x[1]}}};
f.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:x[2]},Vrtc:{t:"doub",v:x[3]}}};C=e.KH.aih(x,z);
var H=e.a.w4(C);P=[H.x,H.y,H.x+H.q,H.y+H._];f.keyOriginLineWeight={t:"doub",v:z};if(S)e.KH.a1R(f,S)}else C=[P[0],P[1],P[2],P[1],P[2],P[3],P[0],P[3]];
f.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};e.KH.ql(f,"keyOriginBoxCorners",C);var b={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
f.keyOriginShapeBBox={t:"Objc",v:b};e.KH.asi(f,P);if(w!=null){var i={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
f.keyOriginRRectRadii={t:"Objc",v:i};e.KH.Uy(f,w)}return k};e.KH.h=function(o,P,w,x){var z=e.W.aEV(P),S=e.W.azN(P),k=e.W.L1(P),f=k.F*k.RL-k.b*k.JJ;
for(var I=0;I<o.length;I++){var C=o[I].v;if(!e.KH.b6(C))continue;if(w.length!=0&&w.indexOf(I)==-1)continue;
var H=C.keyOriginType.v,b=P;if(f<0&&H==2){var i=e.KH.LY(C),M=0;M=i[0];i[0]=i[1];i[1]=M;M=i[2];i[2]=i[3];
i[3]=M;e.KH.Uy(C,i);var T=e.KH.oX(C,"keyOriginBoxCorners"),O=e.a.w4(T),Y=O.x+O.q/2,U=new ar;U.translate(-Y,0);
U.scale(-1,1);U.translate(Y,0);b=e.W.j$(b,e.W.G5(U))}var W=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var t=0;t<W.length;t++){var T=e.KH.oX(C,W[t]);if(T==null)continue;e.W.h(b,T);e.KH.ql(C,W[t],T);var O=e.a.w4(T);
e.KH.asi(C,[O.x,O.y,O.x+O.q,O.y+O._]);var _=new ar;_.rotate(-e.KH.HH(T));var n={classID:"Trnf"};C.Trnf={t:"Objc",v:n};
var y="xx xy yx yy tx ty".split(" "),F=[_.F,_.b,_.JJ,_.RL,_.$X,_.Ar];for(var a=0;a<6;a++)n[y[a]]={t:"doub",v:F[a]}}if(H==2&&x){var i=e.KH.LY(C);
for(var t=0;t<4;t++)i[t]=Math.round(i[t]*P[0]);e.KH.Uy(C,i)}var T=e.KH.oX(C,"keyOriginBoxCorners"),V=T[2]-T[0],D=T[3]-T[1],l=Math.sqrt(V*V+D*D);
V/=l;D/=l;var Q=T[6]-T[0],m=T[7]-T[1],R=Math.sqrt(Q*Q+m*m);Q/=R;m/=R;if(H==4){C.keyOriginLineWeight.v=R;
var $=e.KH.ot(C);e.W.h(P,$);e.KH.a73(C,$)}var p=V*Q+D*m;if(Math.abs(p)>.001){e.KH.rI(o,I)}}};e.KH.b6=function(o){var P=o.keyShapeInvalidated,w=o.keyOriginType;
return(P==null||!P.v)&&w!=null&&w.v!=9};e.KH.ast=function(o){var P=o.keyOriginType.v,w=e.KH.dj(o),x=w[0],z=w[1],S=w[2],k=w[3],f=new ar,C=o.keyOriginPolyCornerRadius,T;
C=C?C.v:0;var H=e.KH.oX(o,P==7||P==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),b=e.KH.aft(H),i=b[2],M=b[3];
x=-i/2;S=i/2;z=-M/2;k=M/2;f.rotate(-e.KH.HH(H));f.$X=b[0];f.Ar=b[1];if(P==1||P==2){var O=P==1?0:e.KH.LY(o);
T=e.n.fg.Rect(x,z,S-x,k-z,O)}else if(P==4){var Y=e.KH.ot(o),U=e.KH.a0l(o);f=new ar;if(U==null)T=e.n.fg.sP(Y[0],Y[1],Y[2],Y[3],o.keyOriginLineWeight.v);
else T=e.n.fg.Jk(Y[0],Y[1],Y[2],Y[3],o.keyOriginLineWeight.v,U)}else if(P==5){T=e.n.fg.nT(x,z,S-x,k-z)}else if(P==7||P==8){var W=P==7?3:o.keyOriginPolySides.v;
T=e.n.fg.ff(0,0,100,Math.PI/W-Math.PI/2,W,C,S,k)}e.n.G9(T,f);return T};e.KH.w3=function(o,P){var w=P.g;
for(var I=0;I<o.length;I++){var x=o[I].v;if(!e.KH.b6(x))continue;var z=e.KH.ast(x),S=e.n.iE(w,I),k=e.n.Pu(w,I);
z[2].Hv=w[S].Hv;var f=w;w=w.slice(0,S);for(var C=2;C<z.length;C++)w.push(z[C]);for(var C=S+k;C<f.length;
C++)w.push(f[C])}P.g=w;P.RC=!0};e.KH.tV=function(o){var P=1e9,w=-P,x=1e9,z=-x,S=[],k=o.m0(),f=k[0],C=k[1];
for(var H=0;H<C.length;H++){var b=f[C[H]],i=b.add.vogk;if(i==null)continue;var M=b.add.vmsk.T;for(var T=0;
T<i.length;T++){var O=i[T].v,W=0;if(!e.KH.b6(O))continue;if(C.length==1&&M.length!=0&&M.indexOf(T)==-1)continue;
var Y=O.keyOriginType.v;if(Y==9)continue;var U=e.KH.dj(O);P=Math.min(P,U[0]);x=Math.min(x,U[1]);w=Math.max(w,U[2]);
z=Math.max(z,U[3]);var t=e.KH.oX(O,"keyOriginBoxCorners");if(t){var _=e.KH.aft(t),n=_[2],y=_[3];U[2]=U[0]+n;
U[3]=U[1]+y;W=e.KH.HH(t)}var F=[Y,U,W];S.push(F);var a=O.keyOriginPolyCornerRadius;if(Y==2)F.push(e.KH.LY(O));
if(Y==7||Y==8)F.push(a?a.v:0);if(Y==8)F.push(O.keyOriginPolySides.v)}}return S.length==1?S[0]:[0,P<w?[P,x,w,z]:null,0]};
e.KH.HH=function(o){var P=o[2]-o[0],w=o[3]-o[1];return-Math.atan2(-w,P)};e.KH.a65=function(o){var P=e.KH.dj(o);
return e.KH.HH(P)};e.KH.axQ=function(o,P,w){var x=e.KH.tV(o),z=-1;for(var I=0;I<P.length;I++)if(JSON.stringify(P[I])!=JSON.stringify(x[I]))z=I;
if(z==1||z==2){}var S=o.m0(),k=S[0],f=S[1];for(var C=0;C<f.length;C++){var H=k[f[C]],b=H.add.vogk;if(b==null)continue;
var i=H.add.vmsk.T;for(var M=0;M<b.length;M++){var T=b[M].v;if(!e.KH.b6(T))continue;if(f.length==1&&i.length!=0&&i.indexOf(M)==-1)continue;
var O=T.keyOriginType.v;if(z==1||z==2){e.KH.h(b,e.KH.abp(z,T,x,P),i,!1);break}if(z==3)if(O==2)e.KH.Uy(T,P[3]);
else T.keyOriginPolyCornerRadius={t:"doub",v:P[3]};if(z==4)T.keyOriginPolySides.v=P[4];if(w)e.KH.rI(b,M)}}};
e.KH.abp=function(o,P,w,x){var z=x[1],S=w[1],k=(z[2]-z[0])/(S[2]-S[0]),f=(z[3]-z[1])/(S[3]-S[1]),C=new ar;
if(o==1){if(Math.max(Math.abs(k-1),Math.abs(f-1))>1e-8){var H=z[0],b=z[1];if(x[0]!=0){var i=e.KH.oX(P,"keyOriginBoxCorners");
H=i[0];b=i[1]}C.translate(-H,-b);C.rotate(x[2]);C.scale(k,f);C.rotate(-x[2]);C.translate(H,b)}else{C.translate(-S[0],-S[1]);
C.translate(z[0],z[1])}}else{if(x[0]!=0)z=e.KH.dj(P);var H=(z[0]+z[2])/2,b=(z[1]+z[3])/2;C.translate(-H,-b);
if(w[0]!=0)C.rotate(w[2]);C.rotate(-x[2]);C.translate(H,b)}return e.W.G5(C)};e.KH.aft=function(o){var P=o[0],w=o[1],x=o[2],z=o[3],S=o[4],k=o[5],f=o[6],C=o[7],H=x-P,b=z-w,i=Math.sqrt(H*H+b*b),H=S-x,b=k-z,M=Math.sqrt(H*H+b*b);
return[(P+S)/2,(w+k)/2,i,M]};e.KH.oX=function(o,P){var w=o[P];if(w==null)return null;var x=[];w=w.v;
for(var z=0;z<4;z++){var S=w["rectangleCorner"+["A","B","C","D"][z]].v;x.push(S.Hrzn.v,S.Vrtc.v)}return x};
e.KH.ql=function(o,P,w){var x=o[P];if(x==null)return null;x=x.v;for(var z=0;z<4;z++){var S="rectangleCorner"+["A","B","C","D"][z];
x[S]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:w[2*z]},Vrtc:{t:"doub",v:w[2*z+1]}}}}};e.KH.dj=function(o){return e.KH.JU(o.keyOriginShapeBBox.v)};
e.KH.JU=function(o,P,w){var x=o.classID,z=o.Left.v,S=o.Rght.v,k=o.Top.v,f=o.Btom.v,C=z.type;if(z.val!=null){z=z.val;
S=S.val;k=k.val;f=f.val}if(C=="#Prc"&&P){z*=P/100;S*=P/100;k*=w/100;f*=w/100}return[z,k,S,f]};e.KH.q_=function(o,P,w){var x=e.KH.JU(o,P,w);
return new fA(x[0],x[1],x[2]-x[0],x[3]-x[1])};e.KH.asi=function(o,P){e.KH.cb(o.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],P)};
e.KH.LY=function(o){var P=o.keyOriginRRectRadii;if(P==null)return[0,0,0,0];return e.KH.aFn(P.v)};e.KH.aFn=function(o){var P=[],w=["topLeft","topRight","bottomRight","bottomLeft"];
for(var x=0;x<4;x++)P.push(o[w[x]].v.val);return P};e.KH.Uy=function(o,P){e.KH.cb(o.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],P)};
e.KH.cb=function(o,P,w){var x=o.classID;if(x=="unitRect"||x=="radii"||x=="Rctn"){for(var I=0;I<4;I++)if(w[I]!=null)o[P[I]]={t:"UntF",v:{type:"#Pxl",val:w[I]}}}else{for(var I=0;
I<4;I++)if(w[I]!=null)o[P[I]]={t:"doub",v:w[I]}}};e.KH.ot=function(o){var P=o.keyOriginLineStart.v,w=o.keyOriginLineEnd.v;
return[P.Hrzn.v,P.Vrtc.v,w.Hrzn.v,w.Vrtc.v]};e.KH.a73=function(o,P){var w=o.keyOriginLineStart.v,x=o.keyOriginLineEnd.v;
w.Hrzn.v=P[0];w.Vrtc.v=P[1];x.Hrzn.v=P[2];x.Vrtc.v=P[3]};e.KH.a0l=function(o){var P=[],w=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var I=0;I<5;I++){var x=o["keyOriginLineArr"+w[I]];if(x==null)return null;P[I]=x.v}return P};e.KH.a1R=function(o,P){o.keyOriginLineArrowSt={t:"bool",v:P[0]};
o.keyOriginLineArrowEnd={t:"bool",v:P[1]};o.keyOriginLineArrWdth={t:"doub",v:P[2]};o.keyOriginLineArrLngth={t:"doub",v:P[3]};
o.keyOriginLineArrConc={t:"long",v:P[4]}};e.KH.afS=function(o){function P(n,y){return Math.abs(n-y)<.5}function w(n,y){return P(n.x,y.x)&&P(n.y,y.y)}function x(n,y,F,a,V,D,l){for(var I=0;
I<l;I++){var Q=n[y+(F+I)%l],m=a[V+(D+I)%l];if(!(w(Q.v,m.v)&&w(Q.Fm,m.Fm)&&w(Q.AK,m.AK)))return!1}return!0}var z=[];
for(var S=0;S<o.length;S++){var k=o[S],C=null;if(k.type!=0&&k.type!=3||k.Hv==-1)continue;var f=S;if(k.length==4||k.length==8){var H=e.n.a3X(o.slice(0,2).concat(o.slice(f,f+k.length+1)));
f=2;if(k.length==4){var b=e.n.KW(H,f+1,4),i=b.x,M=b.y,T=i+b.q,O=M+b._;if(b.c()>4){if(e.n.ZV(H.slice(f-2,f+5)))C=e.KH.zA(2,[i,M,T,O],[0,0,0,0]);
else{var Y=-1;for(var I=0;I<4;I++)if(P(H[f+1+I].v.y,O))Y=I;if(Y!=-1){var U=e.n.fg.nT(i,M,T-i,O-M),W=x(H,f+1,Y,U,3,0,4);
if(W)C=e.KH.zA(5,[i,M,T,O])}}}}if(k.length==8){var b=e.n.KW(H,f+1,8),i=b.x,M=b.y,T=i+b.q,O=M+b._;if(b.c()>4){var Y=-1;
for(var I=0;I<8;I++)if(P(H[f+1+(I+1&7)].v.y,M)&&P(H[f+1+(I+2&7)].v.y,M))Y=I;if(Y!=-1){var t=Math.abs(H[f+1+Y].v.y-M),_=[t,t,t,t];
if(t>.5){var U=e.n.fg.Rect(i,M,T-i,O-M,_),W=x(H,f+1,Y,U,3,0,8);if(W)C=e.KH.zA(2,[i,M,T,O],_)}}}}}z.push(C?C:e.KH.mM())}return z};
e.a={};e.a.clone=function(o){return{LG:o.LG.slice(0),i:o.i.slice(0)}};e.a.aAR=function(o){if(o.length<6)return!0;
var P=o.length-4;for(var I=0;I<P;I+=2)if(!e.a.yC(o[I],o[I+1],o[I+2],o[I+3],o[I+4],o[I+5]))return!1;if(!e.a.yC(o[P],o[P+1],o[P+2],o[P+3],o[0],o[1]))return!1;
if(!e.a.yC(o[P+2],o[P+3],o[0],o[1],o[2],o[3]))return!1;return!0};e.a.yC=function(o,P,w,x,z,S){return(P-x)*(z-w)+(w-o)*(S-x)>=0};
e.a.ayI=function(o,P){function w(u,j,V){var F=j[0]-u[0],a=j[1]-u[1],A=e.a.LA(V[0],V[1],-a,F,u[0],u[1],F,a);
return[V[0]-a*A,V[1]+F*A]}function x(u,j){var F=u[0]-j[0],a=u[1]-j[1];return Math.sqrt(F*F+a*a)}o=e.a.az6(o);
var z=[0,0,0,0],S=o.length,k=[0,0,0,0],f=Math.PI/2,C=Math.atan2(-1,0),T=1e9,O,Y=0;function H(){for(var I=0;
I<4;I++){var W=z[I],t=(W+2)%S,u=o[t]-o[W],j=o[t+1]-o[W+1],A=Math.atan2(j,u),K=C+I*f;if(A<K)K-=2*Math.PI;
k[I]=A-K}}for(var I=0;I<S;I+=2){var b=o[I],i=o[I+1];if(b<o[z[0]])z[0]=I;if(i<o[z[1]+1])z[1]=I;if(b>o[z[2]])z[2]=I;
if(i>o[z[3]+1])z[3]=I}H();var M=e.a.w4(o).c();while(Y<S/2){var U=0;for(var I=0;I<4;I++)if(k[I]<k[U])U=I;
var W=z[U],t=(W+2)%S,_=z[U+2&3],n=z[U+3&3],y=z[U+1&3],b=o[W],F=o[t]-b,i=o[W+1],a=o[t+1]-i,V=o.slice(W,W+2),D=o.slice(t,t+2),l=o.slice(_,_+2),Q=o.slice(n,n+2),m=o.slice(y,y+2),R=w(V,D,l),$=w(Q,[Q[0]-a,Q[1]+F],m),p=x(R,l),c=x($,m);
if(c*p<T){T=c*p;var B=w(V,D,Q);O=[B[0],B[1],F,a,c,p]}C+=k[U];z[U]=t;H();Y++}var b=O[0],i=O[1],F=O[2],a=O[3],c=O[4],p=O[5],Z=Math.sqrt(F*F+a*a);
F/=Z;a/=Z;var v=b+F*c,E=i+a*c,g=[b,i,v,E,v-a*p,E+F*p,b-a*p,i+F*p];while(g[0]>g[2]||Math.abs((g[3]-g[1])/(g[2]-g[0]))>1){g.push(g.shift(),g.shift())}return g};
e.a.az6=function(o){var P=0;for(var I=0;I<o.length;I+=2)if(o[I]<o[P])P=I;var w=[P];while(!0){var x=w[w.length-1],z=o[x],S=o[x+1],k=w.length==1?w[0]:w[w.length-2],f=o[k],C=o[k+1],M=0,T=1e9,O=0;
if(w.length==1)C+=20;var H=f-z,b=C-S,i=Math.sqrt(H*H+b*b);H/=i;b/=i;for(var I=0;I<o.length;I+=2){if(I==k||I==x)continue;
var Y=o[I],U=o[I+1],W=Y-z,t=U-S,_=Math.sqrt(W*W+t*t);W/=_;t/=_;var n=H*W+b*t;if(n<T||n==T&&_>O){T=n;
M=I;O=_}}if(M==w[0])break;w.push(M)}var y=[];for(var I=0;I<w.length;I++)y.push(o[w[I]],o[w[I]+1]);return y};
e.a.e_=function(o){var P={},w=0,x={M:2,L:2,Q:4,C:6},z="",S="",k={i:[],LG:[]};for(var I=0;I<o.LG.length;
I++){var f=o.LG[I];if(f[0]=="#")z=f;else if(f[0]=="X"){var C=z+S;if(P[C]==null)P[C]={i:[],LG:[]};e.a.concat(P[C],k);
z="";S="";k={i:[],LG:[]}}else if(f[0]=="O"&&f[1]=="-")S=f;else if(f=="OX"){if(S!="")S+="-1"}else{k.LG.push(f);
var H=x[f];if(H==null)H=0;for(var b=0;b<H;b++)k.i.push(o.i[w+b]);w+=H}}return P};e.a.a0D=function(o,P,w){var x=o[P]-o[w-2],z=o[P+1]-o[w-1];
return x*x+z*z<1e-4};e.a.B6=function(o,P,w){o=e.a.fG(o);var x=o.i,z=o.LG,S=0,k="",f=0,C=0,S=0,i=null;
for(var I=0;I<z.length;I++){var H=z[I];if(H=="M"){f=x[S];C=x[S+1];S+=2;k=H}if(H=="C"){if(k=="Z"){z.splice(I,0,"M");
x.splice(S,0,f,C);I--;continue}S+=6;k=H}if(H=="Z"){k=H}}var b=[];S=0;for(var I=0;I<z.length;I++){var H=z[I];
if(H=="M"){i={IQ:S,Za:0,re:!1};b.push(i);S+=2}if(H=="C"){i.Za++;S+=6}if(H=="Z"&&i!=null){i.re=!0}}var M=[];
for(var I=0;I<b.length;I++)if(b[I].Za!=0)M.push(b[I]);b=M;for(var I=0;I<b.length;I++){var T=b[I],O=T.IQ,Y=O+2+T.Za*6,W=0;
T.aR=e.a.w4(x,O,Y);var U=e.a.a0D(x,O,Y);for(var t=0;t<T.Za;t++){var _=O+t*6,n=_+6;W+=(x[n]-x[_])*(x[n+1]+x[_+1])}if(T.Za==2){var y=function(h,jC,d){var q=1-d;
return q*q*q*h[jC]+3*q*q*d*h[jC+2]+3*q*d*d*h[jC+4]+d*d*d*h[jC+6]},F=x[O],a=x[O+1],V=x[O+6],D=x[O+7],l=x[O+6],Q=x[O+7],m=y(x,O,.5),R=y(x,O+1,.5),$=y(x,O+6,.5),p=y(x,O+7,.5);
W=(m-F)*(R-a)+(V-m)*(D-R)+($-V)*(p-D)+(l-$)*(Q-p)}if(!U)W+=(x[O]-x[Y-2])*(x[O+1]+x[Y-1]);T.uv=W<=0}for(var I=0;
I<b.length-1;I++)for(var _=I+1;_<b.length;_++){var c=b[I],B=b[_];if(B.aR.rf(c.aR)){b[I]=B;b[_]=c}}var Z=b.length==0?!0:b[0].uv,v=[{type:6},{type:8,all:0}];
for(var I=0;I<b.length;I++){var T=b[I],O=T.IQ,Y=O+2+T.Za*6,U=e.a.a0D(x,O,Y);if(T.Za==1)U=!1;var E=T.re||U?0:3,g=T.uv==Z&&!P?1:0;
if(!P&&I!=0){if(b[I-1].aR.rf(T.aR)&&b[I-1].uv!=T.uv)g=0;for(var _=0;_<b.length;_++)if(_!=I&&b[_].aR.rf(T.aR))g=0}v.push({type:E,length:T.Za+(U?0:1),Hv:w?0:g,cI:2});
for(var _=0;_<T.Za;_++){var S=O+_*6,u=new eD(x[S],x[S+1]),j=new eD(x[S+2],x[S+3]),A;if(_==0){if(U){A=new eD(x[Y-4],x[Y-3]);
if(eD.a_(A,u)<1e-5)A=u.clone()}else A=u.clone()}else A=new eD(x[S-2],x[S-1]);v.push({type:E+2,Fm:A,v:u,AK:j})}if(!U){var K=new eD(x[Y-2],x[Y-1]);
v.push({type:E+2,Fm:new eD(x[Y-4],x[Y-3]),v:K,AK:K.clone()})}}for(var _=0;_<v.length;_++){var s=v[_];
if(s.type>5||s.type==0||s.type==3)continue;var r=s.Fm.w6(s.v)||s.AK.w6(s.AK);if(!r){var c=s.Fm.x*(s.v.y-s.AK.y)+s.v.x*(s.AK.y-s.Fm.y)+s.AK.x*(s.Fm.y-s.v.y);
if(Math.abs(c)<1e-6)r=!0}if(r)s.type--}return v};e.a.tC=function(o,P){var w=e.n.f8(o),x=[];for(var I=2;
I<o.length;I++){var z=o[I].Hv;if(z!=null){if(z==2||z==0||z==3||z==-1)x.push(z)}}var S=x.length!=0;if((S||P)&&o.length<5e3&&1<w&&w<200)o=e.n.y3(o);
var k=e.a.IY(o);return{OE:k,Yz:S?1:0}};e.a.IY=function(){function o(x,z,S,k){if(k!=2&&x.AK.w6(x.v)&&z.Fm.w6(z.v)){S.i.push(z.v.x,z.v.y);
S.LG.push("L")}else{var f=x.v,C=x.AK,H=z.Fm,b=z.v,i=3/2*C.x-1/2*f.x,M=3/2*C.y-1/2*f.y,T=3/2*H.x-1/2*b.x,O=3/2*H.y-1/2*b.y,Y=T-i,U=O-M;
if(k==0&&Y*Y+U*U<.001){S.i.push((i+T)*.5,(M+O)*.5,b.x,b.y);S.LG.push("Q")}else{S.i.push(C.x,C.y,H.x,H.y,b.x,b.y);
S.LG.push("C")}}}function P(x,z,I,S,k,f){var C=z[I];x.i.push(C.v.x,C.v.y);x.LG.push("M");for(var H=I;
H<I+S-1;H++)o(z[H],z[H+1],x,f);if(!k)o(z[H],z[I],x,f)}function w(x,z){if(z==null)z=0;var S={i:[],LG:[]};
for(var I=0;I<x.length;I++){if(x[I].type>5)continue;var k=x[I].length;if(k==0)continue;if(I==x.length-1)break;
var f=x[I].type==3;P(S,x,I+1,k,f,z);if(!f)S.LG.push("Z");I+=k}return S}return w}();e.a.ayU=function(o){var P=o.i,w=[],x,z=0;
for(var I=0;I<o.LG.length;I++){var S=o.LG[I];if(S=="C"){x.push(P[z++],P[z++],P[z++],P[z++],P[z++],P[z++])}else if(S=="Z"){}else{x=[];
if(S!="M"){x.push(S);I++}x.push(P[z++],P[z++]);w.push(x)}}return w};e.a.Rf=function(o,P,w,x){if(x==null)x=1e9;
var z=1e9,S=0;for(var I=0;I<o.length;I+=2){var k=P-o[I],f=w-o[I+1],C=k*k+f*f;if(C<z){z=C;S=I>>>1}}return z<x*x?S:-1};
e.a.acQ=function(o,P,w,x){for(var I=0;I<o.length;I+=2){var z=o[I],S=o[I+1],k=P[I],f=P[I+1];w[I]=z+(k-z)*x;
w[I+1]=S+(f-S)*x}};e.a.h=function(o,P,w){for(var I=0;I<o.length;I+=2){var x=o[I],z=o[I+1];w[I]=x*P.F+z*P.JJ+P.$X;
w[I+1]=x*P.b+z*P.RL+P.Ar}};e.a.w4=function(o,P,w){if(P==null)P=0;if(w==null)w=o.length;var x=99999999999,z=-x,S=99999999999,k=-S;
for(var I=P;I<w;I+=2){var f=o[I],C=o[I+1];x=Math.min(x,f);S=Math.min(S,C);z=Math.max(z,f);k=Math.max(k,C)}return new fA(x,S,z-x,k-S)};
e.a.a5s=function(o,P){var w=Math.max(P.x,Math.min(P.x+P.q,o.x)),x=Math.max(P.y,Math.min(P.y+P._,o.y)),z=o.x-w,S=o.y-x;
return Math.sqrt(z*z+S*S)};e.a.lY=function(o,P){var w=Math.floor,x=Math.ceil;if(P){w=Math.ceil;x=Math.floor}var z=w(o.x),S=x(o.x+o.q),k=w(o.y),f=x(o.y+o._);
return new fA(z,k,S-z,f-k)};e.a.RR=function(o,P){return e.a.lY(e.a.w4(o),P)};e.a.R2=function(o,P){var w=o.x,x=o.y,z=o.x+o.q,S=o.y+o._,k=[w,x,z,x,z,S,w,S];
if(P){var f=P.clone();f.Sd();e.a.h(k,f,k)}return{LG:["M","L","L","L","Z"],i:k}};e.a.concat=function(o,P,w){if(w==null)w=new ar;
for(var I=0;I<P.i.length;I+=2){var x=P.i[I],z=P.i[I+1];o.i.push(x*w.F+z*w.JJ+w.$X);o.i.push(x*w.b+z*w.RL+w.Ar)}for(var I=0;
I<P.LG.length;I++)o.LG.push(P.LG[I])};e.a.reverse=function(o){var P=o.LG.slice(1),w=P.pop();if(w!="Z")P.push(w);
P.reverse();P=["M"].concat(P);if(w=="Z")P.push("Z");var x=[],z=o.i.length;for(var S=0;S<z;S+=2){x[S]=o.i[z-2-S];
x[S+1]=o.i[z-2-S+1]}return{i:x,LG:P}};e.a.a3j=function(o,P,w,x,z){function S(M,T,O){return new eD(M.x*(1-O)+T.x*O,M.y*(1-O)+T.y*O)}var k=S(o,P,z),f=S(w,x,z),C=S(P,w,z),H=S(k,C,z),b=S(C,f,z),i=S(H,b,z);
return[k,H,i,b,f]};e.a.fG=function(o){var P=o.i,w=[],x=[],z=0,S=0,k=0,f=0,C=0,H=0,b=0,i=0,M=0,T=0,O=0;
for(var I=0;I<o.LG.length;I++){var Y=o.LG[I];if(Y=="M"){S=P[z];k=P[z+1];z+=2;x.push(Y);w.push(S,k);T=S;
O=k}else if(Y=="C"){f=P[z];C=P[z+1];H=P[z+2];b=P[z+3];i=P[z+4];M=P[z+5];z+=6;x.push(Y);w.push(f,C,H,b,i,M);
S=i;k=M}else if(Y=="Q"){f=P[z];C=P[z+1];H=P[z+2];b=P[z+3];z+=4;var U=f-S,W=C-k,t=H-f,_=b-C;x.push("C");
w.push(S+2/3*U,k+2/3*W,f+1/3*t,C+1/3*_,H,b);S=H;k=b}else if(Y=="L"){f=P[z];C=P[z+1];z+=2;if(f!=S||C!=k){x.push("C");
w.push(S,k,f,C,f,C);S=f;k=C}}else{if(Y=="Z"){S=T;k=O}x.push(Y)}}return{LG:x,i:w}};e.a.ano=function(o){var P=o.i,w=[],x=[],z=0;
for(var I=0;I<o.LG.length;I++){var S=o.LG[I];if(S=="Q"){var k=P[z-2],f=P[z-1],C=P[z],H=P[z+1],b=P[z+2],i=P[z+3];
z+=4;var M=C-k,T=H-f,O=b-C,Y=i-H;x.push("C");w.push(k+2/3*M,f+2/3*T,C+1/3*O,H+1/3*Y,b,i)}else{var U=0;
if(S=="M"||S=="L")U=2;else if(S=="C")U=6;for(var W=0;W<U;W++)w.push(P[z+W]);z+=U;x.push(S)}}return{LG:x,i:w}};
e.a.K1=function(o,P){var w=o.i,x=[],z=[],S=0,k=0,f=0,C=0,H=0,b=0,i=0,M=0,T=0;for(var I=0;I<o.LG.length;
I++){var O=o.LG[I];if(O=="M"){k=w[S];f=w[S+1];S+=2;z.push(O);x.push(k,f)}else if(O=="C"){C=w[S];H=w[S+1];
b=w[S+2];i=w[S+3];M=w[S+4];T=w[S+5];S+=6;e.a.TA(k,f,C,H,b,i,M,T,P,z,x,0);k=M;f=T}else z.push(O)}return{LG:z,i:x}};
e.a.TA=function(o,P,w,x,z,S,k,f,C,H,b,i){var M=Math.sqrt((k-o)*(k-o)+(f-P)*(f-P)),T=Math.sqrt((k-z)*(k-z)+(f-S)*(f-S))+Math.sqrt((z-w)*(z-w)+(S-x)*(S-x))+Math.sqrt((w-o)*(w-o)+(x-P)*(x-P)),O=(M+T)/2;
if(O<=C){H.push("C");b.push(w,x,z,S,k,f)}else{var Y=0,U=0,W=0,t=0,_=0,n=0,y=0,F=0,a=0,V=0,D=0,l=0,Q=0;
U=(o+w)/2;W=(P+x)/2;t=(w+z)/2;_=(x+S)/2;n=(z+k)/2;y=(S+f)/2;F=(U+t)/2;a=(W+_)/2;V=(t+n)/2;D=(_+y)/2;
l=(F+V)/2;Q=(a+D)/2;e.a.TA(o,P,U,W,F,a,l,Q,C,H,b,i+1);e.a.TA(l,Q,V,D,n,y,k,f,C,H,b,i+1)}};e.a.hz=function(o,P,w,x,z){var S=Date.now(),k=e.a.axa(o,P,w);
if(z){console.log("trace polygons",Date.now()-S);S=Date.now()}var f=[];for(var I=0;I<k.length;I++){var C=k[I],H=C[0],b=["M"],i=o[H[1]*P+H[0]];
if(H.length>8)H=e.a.at2(H,x,C[1]);if(H.length<=4)continue;for(var M=2;M<H.length;M+=2)b.push("L");b.push("Z");
f.push({path:{i:H,LG:b},color:i,parent:-1,aR:e.a.w4(H)})}if(z){console.log("simplify polygons",Date.now()-S);
S=Date.now()}for(var I=1;I<f.length;I++){var T=f[I],O=T.path.i,Y=O[0],U=O[1],W=O[2],t=O[3],_=W-Y,n=t-U,y=Y+.5*_-.001*n,F=U+.5*n+.001*_;
for(var M=I-1;M>=0;M--){var a=f[M];if(!a.aR.rf(T.aR))continue;if(!h1.J9(a.path.i,y,F))continue;T.parent=M;
break}}if(z){console.log("checking parents",Date.now()-S);S=Date.now()}return f};e.a.axa=function(o,P,w){var x=P*w,z=new Uint16Array(P*w),k=0;
for(var I=0;I<x;I++)z[I]=o[I];var S=new Uint8Array(P*w);S[1*P+1]=S[(w-1)*P+1]=S[1*P+P-1]=S[(w-1)*P+P-1]=1;
for(var f=1;f<w;f++)for(var C=1;C<P;C++){var I=f*P+C,H=z[I-P-1],b=z[I-P],i=z[I-1],M=z[I],T=H==M&&b==i&&H!=b,O=0;
if(M<i){k=M;M=i;i=k}if(i<b){k=i;i=b;b=k}if(b<H){k=b;b=H;H=k}if(M<i){k=M;M=i;i=k}if(i<b){k=i;i=b;b=k}if(M<i){k=M;
M=i;i=k}if(H!=b)O++;if(b!=i)O++;if(i!=M)O++;if(M!=H)O++;if(O>=3||T)S[I]=1}var Y=[];for(var f=1;f<w;f++)for(var C=1;
C<P;C++){var I=f*P+C;if(z[I]!=z[I-1]){var U=e.a.aGz(z,P,w,C,f),W=[];for(var t=0;t<U.length;t+=2)if(S[U[t+1]*P+U[t]]==1)W.push(t>>>1);
Y.push([U,W]);e.a.Ea(z,P,w,C,f)}}return Y};e.a.Ea=function(o,P,w,x,z){var S=[z*P+x],k=o[z*P+x];o[z*P+x]=65535;
while(S.length!=0){var I=S.pop();o[I]=0;if(o[I+P]==k){S.push(I+P);o[I+P]=65535}if(o[I-P]==k){S.push(I-P);
o[I-P]=65535}if(o[I-1]==k){S.push(I-1);o[I-1]=65535}if(o[I+1]==k){S.push(I+1);o[I+1]=65535}}};e.a.aGz=function(o,P,w,x,z){var S=[0,-1,1,0,0,1,-1,0],b=1;
function k(M,T,b){var I=H*P+C,O=0;if(b==0)O=I-P;else if(b==1)O=I;else if(b==2)O=I-1;else if(b==3)O=I-P-1;
return o[O]}var f=[],C=x,H=z,i=k(C,H,b);do{f.push(C,H);C+=S[b*2];H+=S[b*2+1];if(k(C,H,b)!=i)b=b+1&3;
else if(k(C,H,b+3&3)!=i)b=b;else if(k(C,H,b+2&3)!=i)b=b+3&3}while(C!=x||H!=z);return f};e.a.at2=function(o,P,w){if(P==null||P==0)return o;
var x=o.length-2;if(w&&w.length!=0){var z=w[0]*2,S=w[w.length-1]*2,k=z==0?x:z-2,f=o.slice(S);for(var I=0;
I<z;I++)f.push(o[I]);if(z==S)f.push(.9*o[z]+.1*o[k],.9*o[z+1]+.1*o[k+1]);else f.push(o[z],o[z+1]);f=e.a.Fu(f,P);
f.pop();f.pop();for(var I=0;I<w.length-1;I++){var C=o.slice(w[I]*2,w[I+1]*2+2);C=e.a.Fu(C,P);for(var H=0;
H<C.length-2;H++)f.push(C[H])}return f}var b=o.slice(0);b.push(.9*o[0]+.1*o[x],.9*o[1]+.1*o[x+1]);b=e.a.Fu(b,P);
b.pop();b.pop();return b};e.a.Fu=function(o,P){var w=o.length-2,x=o[0],z=o[1],S=o[w],k=o[w+1],f=S-x,C=k-z,H=1/Math.sqrt(f*f+C*C),b=S*z-k*x,i=-1,M=-1,T=0;
for(var I=2;I<w;I+=2){var O=o[I],Y=o[I+1],U=Y*Y*1e6+O*O,W=Math.abs(C*O-f*Y+b)*H;if(W>M||W==M&&U>T){M=W;
i=I;T=U}}if(M<P)return[x,z,S,k];var t=e.a.Fu(o.slice(0,i+2),P),_=e.a.Fu(o.slice(i),P);for(var I=2;I<_.length;
I++)t.push(_[I]);return t};e.a.atR=function(){var o=function(x,z,S,k,f,C){return(z-k)*(f-S)+(S-x)*(C-k)>=0},P=function(x,z,S,k,f,C,H,b){var i=H-S,M=b-k,T=f-S,O=C-k,Y=x-S,U=z-k,W=i*i+M*M,t=i*T+M*O,_=i*Y+M*U,n=T*T+O*O,y=T*Y+O*U,F=1/(W*n-t*t),a=(n*_-t*y)*F,V=(W*y-t*_)*F;
return a>=0&&V>=0&&a+V<1},w=function(x){var eK=x.length>>>1,I=0;if(eK<3)return[];var z=[],S=[];for(var I=0;
I<eK;I++)S.push(I);var k=eK;while(k>3){var f=S[(I+0)%k],C=S[(I+1)%k],H=S[(I+2)%k],b=x[2*f],i=x[2*f+1],M=x[2*C],T=x[2*C+1],O=x[2*H],Y=x[2*H+1],U=!1;
if(o(b,i,M,T,O,Y)){U=!0;for(var W=0;W<k;W++){var t=S[W];if(t==f||t==C||t==H)continue;if(P(x[2*t],x[2*t+1],b,i,M,T,O,Y)){U=!1;
break}}}if(U){z.push(f,C,H);S.splice((I+1)%k,1);k--;I=0}else if(I++>3*k)break}z.push(S[0],S[1],S[2]);
return z};return w}();e.a.akG=function(o,P){var w={},x={LG:[],i:[]};for(var I=0;I<P.length;I+=3){var z=P[I]*2,S=P[I+1]*2,k=P[I+2]*2;
e.a.A4(o,z,S,x,w);e.a.A4(o,z,k,x,w);e.a.A4(o,S,k,x,w)}return x};e.a.A4=function(o,P,w,x,z){if(P>w){var S=w;
w=P;P=S}if(z[P+","+w])return;z[P+","+w]=!0;x.LG.push("M","L");x.i.push(o[P],o[P+1],o[w],o[w+1])};e.a.a1U=function(o,P){var w=[],x=o.length;
for(var I=0;I<x;I+=2){var z=o[I],S=o[I+1],k=o[(I+2)%x],f=o[(I+3)%x];if(f<S){var C=S;S=f;f=C}if(S<P&&P<f){var H=(P-S)/(f-S);
w.push(z+H*(k-z))}}w.sort(function(b,i){return b-i});return w};e.a.acJ=function(o,P,w,x,z,S,k){var f=o-w,C=P-x,H=z-w,b=S-x,i=1/Math.sqrt(f*f+C*C),M=1/Math.sqrt(H*H+b*b),T=f*i,O=C*i,Y=H*M,U=b*M,W=O*k,t=-T*k,_=-U*k,n=Y*k,y=e.a.LA(W,t,T,O,_,n,Y,U),F=W+T*y,a=t+O*y,y=e.a.LA(0,0,T,O,F,a,-O,T),V=T*y,D=O*y;
return[Math.sqrt(V*V+D*D),T,O,Y,U]};e.a.auo=function(o,P,w,x,z,S,k){var f=e.a.acJ(o,P,w,x,z,S,k),C=f[0],H=f[1],b=f[2],i=f[3],M=f[4],T=Math.atan2(H*M-b*i,H*i+b*M);
if(T<0){T=T*-1}var O=Math.PI-T,Y=4/3*Math.tan(O/4),U=w+C*H,W=x+C*b,t=w+C*i,_=x+C*M,n=U+Y*k*-H,y=W+Y*k*-b,F=t+Y*k*-i,a=_+Y*k*-M;
return[0,0,U,W,n,y,F,a,t,_]};e.a.LA=function(o,P,w,x,z,S,k,f){var C=k*(P-S)-f*(o-z),H=f*w-k*x;if(H==0)return 0;
return C/H};e.a.uO=function(o,P,w,x,z,S){return o*(x-S)+w*(S-P)+z*(P-x)};e.a.a8o=function(o){function P($,p,c,B,Z,v,E,g,u){var j=e.a.LA($,p,c,B,Z,v,E,g);
u.push($+c*j,p+B*j)}var w=[],x=o.length,z=[];for(var I=0;I<x;I+=2){var S=I==0?x-2:I-2,k=I==x-2?0:I+2,f=o[I],C=o[I+1],H=f-o[S],b=C-o[S+1],i=o[k]-f,M=o[k+1]-C,T=Math.sqrt(H*H+b*b),O=Math.sqrt(i*i+M*M);
z.push(O);var Y=T/(T+O),U=f-H*.5,W=C-b*.5,t=f+i*.5,_=C+M*.5,n=(o[k]+o[S])*.5,y=(o[k+1]+o[S+1])*.5,F=U+Y*(t-U),a=W+Y*(_-W),V=f-F,D=C-a,l=(i*-H+M*-b)/(T*O),Q=(Y-.5)*7,m=1+Q*Y,R=1-Q*(1-Y);
w.push(U+V*m,W+D*m,t+V*R,_+D*R)}return w};e.Pa=function(){};e.Pa.Tx=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=new Int32Array(f),eK=0;
for(var I=0;I<f;I++)if(P[I]!=0){C[I]=eK;eK++}else if(o[(I<<2)+3]<200){C[I]=-2}else C[I]=-1;if(eK==0)return;
var H=new e.H$(eK,eK),b=new Array(3*eK),i=new Array(3*eK);for(var I=0;I<i.length;I++)i[I]=b[I]=0;var M=1/255,T=[-S,-1,1,S],O=[],Y=[];
for(var U=0;U<k;U++)for(var W=0;W<S;W++){var t=U*S+W,_=t<<2,I=C[t],n=I*3,y=0,F=0,a=0;if(I==-1||I==-2)continue;
for(var V=0;V<4;V++){if(V==2){F=a;O[a]=0;Y[a]=I;a++}var D=t+T[V],l=D<<2,Q=C[D];if(V==0&&U==0||V==1&&W==0||V==2&&W==S-1||V==3&&U==k-1||Q==-2)continue;
y++;if(Q==-1){b[n+0]+=o[l+0];b[n+1]+=o[l+1];b[n+2]+=o[l+2]}else{O[a]=-1;Y[a]=Q;a++;if(P[t]==P[D]){b[n+0]+=o[_+0]-o[l+0];
b[n+1]+=o[_+1]-o[l+1];b[n+2]+=o[_+2]-o[l+2]}}}O[F]=y;H.Jz(O,Y,a)}for(var I=0;I<f;I++)if(C[I]!=-1){var m=I<<2,R=C[I],$=R*3;
i[$]=o[m+0];i[$+1]=o[m+1];i[$+2]=o[m+2]}var p=Date.now();H.avD(i,b,x,z);console.log(Date.now()-p);for(var I=0;
I<f;I++){var R=C[I],c=R*3,m=I<<2;if(R==-1||o[m+3]!=255)continue;o[m+0]=~~(.5+Math.max(0,Math.min(255,i[c+0])));
o[m+1]=~~(.5+Math.max(0,Math.min(255,i[c+1])));o[m+2]=~~(.5+Math.max(0,Math.min(255,i[c+2])))}};e.rect={};
e.rect.aoa=function(o,P){var w=[o],x=[];for(var I=0;I<P.length;I++){var z=P[I],S=!1;for(var k=I+1;k<P.length;
k++){var f=P[k];if(f[0]<=z[0]&&f[1]<=z[1]&&z[2]<=f[2]&&z[3]<=f[3]){S=!0;break}}if(!S)x.push(z)}P=x;for(var I=0;
I<P.length;I++){var z=P[I];for(var k=0;k<w.length;k++){var f=w[k],C=Math.max(z[0],f[0]),H=Math.min(z[2],f[2]),b=Math.max(z[1],f[1]),i=Math.min(z[3],f[3]);
if(C<H&&b<i){var M=[];if(f[1]<z[1]){var T=f.slice(0);T[3]=z[1];M.push(T)}if(f[0]<z[0]){var O=f.slice(0);
O[1]=b;O[2]=z[0];M.push(O)}if(z[2]<f[2]){var Y=f.slice(0);Y[1]=b;Y[0]=z[2];M.push(Y)}if(z[3]<f[3]){var U=[C,i,H,f[3]];
M.push(U)}if(M.length!=0){w[k]=M[0];for(var W=1;W<M.length;W++)w.push(M[W])}}}w.push(z);w=e.rect.a06(w)}w.sort(function(z,f){return z[1]!=f[1]?z[1]-f[1]:z[0]-f[0]});
for(var I=1;I<w.length;I++){var z=w[I-1],f=w[I];if(z[0]==f[0]&&z[1]==f[1]&&z[2]==f[2]&&z[3]==f[3]){w.splice(z[4]==null?I-1:I,1);
I--}}return w};e.rect.a06=function(o){o=o.slice(0);for(var I=0;I<o.length;I++){var P=o[I],w=null;if(P[4]!=null)continue;
for(var x=0;x<o.length;x++){var z=o[x];if(I==x||z[4]!=null)continue;var S=P[0]==z[0],k=P[1]==z[1],f=P[2]==z[2],C=P[3]==z[3];
if(k&&C&&(P[2]==z[0]||P[0]==z[2])){w=[Math.min(P[0],z[0]),P[1],Math.max(P[2],z[2]),P[3]]}if(S&&f&&(P[3]==z[1]||P[1]==z[3])){w=[P[0],Math.min(P[1],z[1]),P[2],Math.max(P[3],z[3])]}if(w){o[I]=w;
o.splice(x,1);break}}if(w){I--}}return o};e.rect.bX=function(o){var P=new fA;for(var I=0;I<o.length;
I++)P=P.It(o[I]);return P};e.rect.aiv=function(o,P){var w=e.rect.bX,x=new UnionFind(o.length),F=1e3,a=1e3;
for(var I=0;I<o.length;I++)for(var z=I+1;z<o.length;z++){if(!P)continue;var S=o[I],k=o[z],i=1e9,M=1e9;
if(S.EI(k)){x.link(I,z);continue}var f=S.x+S.q,C=S.y+S._,H=k.x+k.q,b=k.y+k._;if((f<k.x||H<S.x)&&(C<k.y||b<S.y))continue;
if(!(C<k.y||b<S.y))i=Math.min(Math.abs(f-k.x),Math.abs(S.x-H));if(!(f<k.x||H<S.x))M=Math.min(Math.abs(C-k.y),Math.abs(S.y-b));
var T=Math.min(i,M),O=Math.min(S.q,S._,k.q,k._);if(T<.3*O)x.link(I,z)}var Y=[],U={};for(var I=0;I<o.length;
I++){var W=x.find(I),t=o[I];if(U[W]==null){U[W]=Y.length;Y.push([])}Y[U[W]].push(t)}var _=[],n=[];for(var I=0;
I<Y.length;I++){_.push(w(Y[I]));var y=w(Y[I]);y.QB=I;n.push(y)}n.sort(function(B,Z){return Math.max(Z._,Z.q)-Math.max(B._,B.q)});
var V=new NETXUS.RectanglePacker(F,a);while(!0){var D=!1;V.reset(F,a);for(var I=0;I<n.length;I++){var l=V.findCoords(n[I].q,n[I]._);
if(l){n[I].x=l.x;n[I].y=l.y}else{F=Math.floor(F*1.1);a=Math.floor(a*1.1);D=!0;break}}if(D)continue;break}for(var I=0;
I<Y.length;I++){var Q=n[I],m=Q.QB,R=_[m],$=Y[m],p=Q.x-R.x,c=Q.y-R.y;for(var z=0;z<$.length;z++)$[z].offset(p,c)}};
e.rect.ay7=function(o){var P=[],w=[],x=function(y,F){return y-F};for(var I=0;I<o.length;I++){var z=o[I];
if(P.indexOf(z[0])==-1)P.push(z[0]);if(P.indexOf(z[2])==-1)P.push(z[2]);if(w.indexOf(z[1])==-1)w.push(z[1]);
if(w.indexOf(z[3])==-1)w.push(z[3])}P.sort(x);w.sort(x);P.push(P[P.length-1]+1);w.push(w[w.length-1]+1);
var S=[],k=P.length-1,f=w.length-1;for(var C=0;C<f;C++){var H=[];S.push(H);for(var b=0;b<k;b++){var i=P[b],M=P[b+1],T=w[C],O=w[C+1],Y=(i+M)/2,U=(T+O)/2,W=-1,t=-1;
for(var I=0;I<o.length;I++){var z=o[I];if(z[0]==i&&z[1]==T)W=I;if(z[0]<Y&&Y<z[2]&&z[1]<U&&U<z[3])t=I}if(W!=-1){var z=o[W],_=1,n=1;
while(P[b+_]<z[2])_++;while(w[C+n]<z[3])n++;H.push([W,z[2]-z[0],z[3]-z[1],_,n])}else if(t!=-1)continue;
else H.push([-1,M-i,O-T,1,1])}}return[P.pop(),w.pop(),S]};e.rect.aCy=function(o,P,w,x){var z=e.rect.ay7(o),S=["<table id=\"Table_01\" width=\""+z[0]+"\" height=\""+z[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],k=z[2];
for(var I=0;I<k.length;I++){var f=k[I];S.push("\t<tr>");for(var C=0;C<f.length;C++){var H=f[C],b=null,i="",M="",T=H[3],O=H[4],W="";
if(H[0]!=-1){var Y=H[0],U=o[Y];if(U.length==5){b=w[U[4]].v;i=b.url.v}M="src=\""+P[Y]+"\"";if(U[4]==null&&x==2)M=""}if(T!=1)W+=" colspan=\""+T+"\"";
if(O!=1)W+=" rowspan=\""+O+"\"";S.push("\t\t<td"+W+">");if(i!="")S.push("\t\t\t<a href=\""+i+"\" target=\""+b.null.v+"\">");
S.push((i==""?"":"\t")+"\t\t\t<img "+M+" width=\""+H[1]+"\" height=\""+H[2]+"\" alt=\""+(b?b.altTag.v:"")+"\"></td>"+(i==""?"":"</a>"))}if(I==k.length-1){S.pop();
S.pop();S.push("\t\t<td></td>")}S.push("\t</tr>")}S.push("</table>");return S.join("\n")};e.PX=function(){};
e.PX.Xo=Math.floor(16*window.devicePixelRatio);e.PX.lq={};e.PX.BQ=0;e.PX.WK=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
e.PX.adm=["px","in","cm","mm","%"];e.PX.X9=function(o,P,w,x){var z=[1,P,P/2.54,P/25.4,w/100][x];return o*z};
e.PX.Y4=function(o,P,w,x){var z=[1,P,P/2.54,P/25.4,w/100][x];return o/z};e.PX.MT=function(o,P,w,x,z){var S=w.Xp.Kc,k=[1,P,P/2.54,P/25.4,x/100][S],f=[2,3,2,1,2][S];
o=o/k;var C=Math.round(o),H=S==0&&Math.abs(o-C)<1e-6?C+"":o.toFixed(f);if(z)H+=" "+e.PX.adm[S];return H};
e.PX.ai9=function(o,P,w,x){var z=w.Xp.Kc,S=[1,P,P/2.54,P/25.4,x/100][z];o=parseFloat(o)*S;return o};
e.PX.a2S=function(o,P){var w=o+","+P;if(e.PX.lq.clr==w)return;var x=Math.round(e.PX.Xo*.5);e.PX.BQ=x;
var z=e.Um(x,x);z.save();z.font=x*1.5+"px monospace";var S="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var I=0;
I<S.length;I++){z.fillStyle="#"+e.UM(P);z.fillRect(0,0,x,x);z.fillStyle="#"+e.UM(o);z.fillText(S[I],0,x);
e.PX.lq[S[I]]=new Uint8Array(z.getImageData(0,0,x,x).data.buffer)}e.PX.lq.clr=w;z.restore()};e.PX.a5o=function(o,P,w,x){var z=0,S=0,k=4*e.PX.Xo;
for(var I=9;I>=0;I--){var f=Math.pow(10,I);if(5*f*o<=k){z=5*f;S=10;break}if(2*f*o<=k){z=2*f;S=4;break}if(1*f*o<=k){z=1*f;
S=x;break}}if(z==0){z=1;S=x}var C=Math.ceil(z*o),H=e.U(C*e.PX.Xo*4);e.ZT(H,4278190080|w);for(var I=0;
I<e.PX.Xo;I++)e.PX.hn(H,4*I*C,P);for(var I=0;I<C;I++)e.PX.hn(H,4*((e.PX.Xo-1)*C+I),P);if(z==2)S=2;if(z==5)S=5;
if(z>1||z==1&&C>20)for(var I=1;I<S;I++)e.PX.acX(H,I*(C/S),C,(I&1)==1?.8:.7,P);return{yp:H,step:z}};e.PX.acX=function(o,P,w,x,z){var P=Math.round(P);
for(var S=Math.round(e.PX.Xo*x);S<e.PX.Xo-1;S++)e.PX.hn(o,4*(S*w+P),z)};e.PX.hn=function(o,P,w){o[P+0]=w>>16&255;
o[P+1]=w>>8&255;o[P+2]=w&255};e.PX.anh=function(o,P,w,x,z,S,k,f){var C=o.Si.q,H=o.Si._,b=e.PX.Xo,i=P&255,M=P>>8&255,T=P>>16&255;
P=Math.round(i*.6)<<16|Math.round(M*.6)<<8|Math.round(T*.6);e.PX.a2S(Math.round(i*.8)<<16|Math.round(M*.8)<<8|Math.round(T*.8),w);
var O=o.D,Y=o.f,U=o.$N;for(var W=0;W<2;W++){var t=W==0?S:k;o.D=t[0];o.f=t[1];o.$N=0;var _=this.a5o(o.D,P,w,f),n=o.hI(0,0),y=o.hI(C,H),F=Math.floor(n.x/_.step)*_.step,a=Math.ceil(y.x/_.step)*_.step,V=Math.floor(n.y/_.step)*_.step,D=Math.ceil(y.y/_.step)*_.step,l=o.vd(F,V),Q=o.vd(a,V),m=_.step*o.D,R=Math.ceil(m);
if(W==1){var $=_.yp;_.yp=e.U($.length*4);e.W.VI($,_.yp,R,b)}var p=W==0?o.bi.data:o.Yl.data,c=new fA(0,0,[C,b][W],[b,H][W]),B=new fA(0,0,[R,b][W],[b,R][W]),Z=new fA([0,Math.round(b*.2)][W],[Math.round(b*.08),0][W],e.PX.BQ,e.PX.BQ),v=(W==0?a-F:D-V)/_.step;
for(var I=0;I<v;I++){if(W==0)B.x=Math.round(l.x+I*m);else B.y=Math.round(l.y+I*m);e.sR(_.yp,B,p,c,B);
var E=(W==0?F+I*_.step:Math.abs(V+I*_.step)).toString(10);for(var g=0;g<E.length;g++){if(W==0)Z.x=B.x+3+g*Math.round(e.PX.BQ*.8);
else Z.y=B.y+3+g*Math.round(e.PX.BQ*1.15);var u=e.PX.lq[E[g]];e.sR(u,Z,p,c,Z)}}}o.D=O;o.f=Y;o.$N=U;var j=Math.floor(b*.6),A=new Uint32Array(o.bi.data.buffer),K=new Uint32Array(o.Yl.data.buffer),s=i<128?4278190080:4294967295;
if(0<x&&x<C)for(var I=0;I<j;I++)A[I*C+x]=s;if(0<z&&z<H)for(var I=0;I<j;I++)K[z*b+I]=s};e.scale={};e.scale.hj=document.createElement("canvas");
e.scale.QA=e.scale.hj.getContext("2d");e.scale.UX=function(o,P,w){var x=e.scale.hj,z=e.scale.QA;x.width=P;
x.height=w;var S=new ImageData(new Uint8ClampedArray(o.buffer),P,w);z.putImageData(S,0,0);return z.createPattern(z.canvas,"repeat")};
e.scale.ach=function(o,P,w,x,z,S,k,f,C){var H=e.scale.ad4(o,w,x,z,S,k,f,C);if(P)P.set(H);return new Uint8Array(H.buffer)};
e.scale.ad4=function(o,P,w,x,z,S,k,f){var C=e.Um(P,w);C.save();C.rect(0,0,P,w);C.translate(S,k);C.scale(x,z);
if(f!=null)C.rotate(-f);C.fillStyle=o;C.fill();C.restore();return new Uint8Array(C.getImageData(0,0,P,w).data.buffer)};
e.scale.h=function(o,P,w,x,z){var S=w.b==0&&w.JJ==0,k=z.q,f=z._,C=e.a.R2(P,w).i,H=e.a.RR(C,S).SN(z),b=H.x,i=H.y,M=b+H.q,T=i+H._,O=~~P.x,Y=~~P.y,U=~~P.q,W=~~P._;
if(S)for(var t=i;t<T;t++){var _=w.RL*(t+.5)+w.Ar-Y,n=~~_*U;for(var y=b;y<M;y++){var F=w.F*(y+.5)+w.$X-O;
x[t*k+y]=o[n+~~F]}}else for(var t=i;t<T;t++)for(var y=b;y<M;y++){var a=y+.5,V=t+.5,F=w.F*a+w.JJ*V+w.$X-O,_=w.b*a+w.RL*V+w.Ar-Y;
if(0<=F&&0<=_&&F<U&&_<W)x[t*k+y]=o[~~_*U+~~F]}};e.scale.adZ=function(o,P,w,x,z,S){var k=new Uint32Array(o.buffer),f=new Uint32Array(x.buffer),C=z.q,H=z._,b=e.a.R2(P,w).i,i=S?z:e.a.RR(b).SN(z),M=i.x,T=i.y,O=M+i.q,Y=T+i._,U=~~P.x,W=~~P.y,t=~~P.q,_=~~P._;
for(var n=T;n<Y;n++)for(var y=M;y<O;y++){var F=y+.5,a=n+.5,V=w.F*F+w.JJ*a+w.$X-U,D=w.b*F+w.RL*a+w.Ar-W;
if(S){V=((t<<10)+V)%t;D=((_<<10)+D)%_}if(0<=V&&0<=D&&V<t&&D<_)f[n*C+y]=k[~~D*t+~~V]}};e.scale.od=function(o,P,w,x,z,S,k){if(k<1)e.scale.aFF(o,P,w,x,z,S,Math.round(1/k));
else e.scale.alj(o,P,w,x,z,S,k)};e.scale.KM=function(o,P,w,x,z,S,k,f){if(f)f=f.SN(new fA(0,0,P,w));o=new Uint32Array(o.buffer);
x=new Uint32Array(x.buffer);if(k<1)e.scale.arR(o,P,w,x,z,S,Math.round(1/k),f);else e.scale.atg(o,P,w,x,z,S,k)};
e.scale.alj=function(o,P,w,x,z,S,k){for(var f=0;f<w;f++)for(var C=0;C<P;C++){var H=o[f*P+C],b=Math.min(k,z-C*k),i=Math.min(k,S-f*k);
for(var I=0;I<i;I++)for(var M=0;M<b;M++)x[(k*f+I)*z+k*C+M]=H}};e.scale.aFF=function(o,P,w,x,z,S,k){for(var f=0;
f<S;f++)for(var C=0;C<z;C++){var H=0,b=Math.min(k,P-C*k),i=Math.min(k,w-f*k);for(var I=0;I<i;I++)for(var M=0;
M<b;M++)H+=o[(k*f+I)*P+(k*C+M)];x[f*z+C]=Math.round(H/(b*i))}};e.scale.atg=function(o,P,w,x,z,S,k){for(var f=0;
f<w;f++)for(var C=0;C<P;C++){var H=o[f*P+C],b=Math.min(k,z-C*k),i=Math.min(k,S-f*k);for(var I=0;I<i;
I++)for(var M=0;M<b;M++)x[(k*f+I)*z+k*C+M]=H}};e.scale.a0B=function(o,P,w){return(o>>>w&255)+(P>>>w&255)>>>1};
e.scale.Qp=function(o,P){var w=e.scale.a0B;return w(o,P,24)<<24|w(o,P,16)<<16|w(o,P,8)<<8|w(o,P,0)};
e.scale.au4=function(o,P,w,x,z,S){var k=new Uint32Array(o.buffer),f=new Uint32Array(x.buffer);for(var C=0;
C<w;C++){for(var H=0;H<P;H++){var b=C*P+H,i=k[b],M=i,T=i,O=i;if(H<P-1)M=e.scale.Qp(i,k[b+1]);if(C<w-1)T=e.scale.Qp(i,k[b+P]);
if(H<P-1&&C<w-1)O=e.scale.Qp(i,k[b+P+1]);var Y=(C*z+H)*2;f[Y]=i;f[Y+1]=M;f[Y+z]=T;f[Y+z+1]=O}}if((z&1)==1)for(var C=0;
C<S;C++)f[C*z+z-1]=f[C*z+z-2];var U=z*(S-1);if((S&1)==1)for(var H=0;H<z;H++)f[U+H]=f[U-z+H]};e.scale.arR=function(o,P,w,x,z,S,k,f){var C=0,H=z,b=0,i=S;
if(f){C=Math.floor(f.x/k);H=Math.ceil((f.x+f.q)/k);b=Math.floor(f.y/k);i=Math.ceil((f.y+f._)/k)}for(var M=b;
M<i;M++)for(var T=C;T<H;T++){var O=0,Y=0,U=0,W=0,t=Math.min(k,P-T*k),_=Math.min(k,w-M*k);for(var I=0;
I<_;I++)for(var n=0;n<t;n++){var y=o[(k*M+I)*P+k*T+n],F=y>>>24;O+=F;Y+=F*(y>>>16&255);U+=F*(y>>>8&255);
W+=F*(y&255)}if(O!=0){var a=1/O;x[M*z+T]=O/(t*_)<<24|Y*a<<16|U*a<<8|W*a}else x[M*z+T]=0}};e.e=function(){function o(f,C,I){return(128&f[I-C-1]&f[I-C]&f[I-2]&f[I-1]&f[I+1]&f[I+C-1]&f[I+C])==0}function P(f,C,I){return(128&f[I-C-C]&f[I-C+1]&f[I+2]&f[I+C+1]&f[I+C+C])==0}function w(f,C,I){return(f[I-C]&f[I-1]&f[I+1]&f[I+C]&128)==0}function x(f,I){return(f[I]&128)!=0}function z(f,C,H,b){var I=0,i=H.q,M=H._;
if(b)for(var T=0;T<M;T++)for(var O=0;O<i;O++){if(x(f,I)&&(O<2||T<2||O>i-3||T>M-3||((f[I-1]&128)==0||C[I-1]!=0)&&o(f,i,I)||P(f,i,I)))C[I]=255;
I++}else for(var T=0;T<M;T++)for(var O=0;O<i;O++){if(x(f,I)&&(O==0||T==0||O==i-1||T==M-1||w(f,i,I)))C[I]=255;
I++}}function S(f,C,H,b,i){var M=H.q,T=H._,O=new Uint8Array(C.buffer),Y=new Uint32Array(C.buffer);if(i)for(var U=2;
U<T-2;U++)for(var W=2;W<M-2;W++){var I=U*M+W;if(x(f,I)&&(((f[I-1]&128)==0||Y[I-1]!=0)&&o(f,M,I)||P(f,M,I)))Y[I]=b[(W+U&4)>>>2]}else for(var U=1;
U<T-1;U++)for(var W=1;W<M-1;W++){var I=U*M+W;if(x(f,I)&&w(f,M,I)){Y[I]=b[(W+U&4)>>>2]}}}function k(f,C,H,b,i){var M=H.q,T=H._,O=new Uint8Array(C.buffer),Y=new Uint32Array(C.buffer),I=0;
if(b==1)for(var U=0;U<T;U++)for(var W=0;W<M;W++,I++){var t=f[I];Y[I]=255-t>>>1<<24|255}else for(var U=0;
U<T;U++)for(var W=0;W<M;W++,I++){var t=f[I];Y[I]=255<<24|(t<<16|t<<8|t)}}return{as0:z,anv:S,aj1:k}}();
e.mH={};e.mH.N$=function(o,P,w){var x,z;if(w==0){x=o.rect.clone();z=e.mH.a0n}if(w==1){x=o.rect.It(P.rect);
z=e.mH.It}if(w==2){x=P.rect.clone();z=e.mH.agW}if(w==3){x=o.rect.SN(P.rect);z=e.mH.SN}if(w==4){x=o.rect.It(P.rect);
z=e.mH.a8J}if(x.Mw())return null;var S=e.U(x.c());e.d0(P.channel,P.rect,S,x);var k=e.U(x.c());e.d0(o.channel,o.rect,k,x);
z(k,S,S);var f=e.zG(S,x);if(f.Mw())return null;if(!f.w6(x)){var C=e.U(f.c());e.d0(S,x,C,f);S=C;x=f}return{channel:S,rect:x}};
e.mH.a0n=function(o,P,w){for(var I=0;I<o.length;I++)w[I]=o[I]};e.mH.It=function(o,P,w){for(var I=0;I<o.length;
I++)w[I]=Math.min(o[I]+P[I],255)};e.mH.agW=function(o,P,w){for(var I=0;I<o.length;I++)w[I]=Math.max(P[I]-o[I],0)};
e.mH.SN=function(o,P,w){var x=1/255;for(var I=0;I<o.length;I++)w[I]=o[I]*P[I]*x};e.mH.a8J=function(o,P,w){var x=1/255;
for(var I=0;I<o.length;I++)w[I]=Math.min(o[I]+P[I],255)-o[I]*P[I]*x};e.H$=function(o,P){this.l=[];this.X3=[0];
this.Wk=[];this.U1=[];this.Qz=[0];this.oH=[];this.O3=[];this.rows=o;this.cols=P};e.H$.prototype.clone=function(){var o=this,P=o.rows,w=o.cols,x=new e.H$(P,w);
x.l=o.l.slice(0);x.X3=o.X3.slice(0);x.Wk=o.Wk.slice(0);x.U1=o.U1.slice(0);x.Qz=o.Qz.slice(0);x.oH=o.oH.slice(0);
x.O3=o.O3.slice(0);return x};e.H$.prototype.Jz=function(o,P,w){var x=this.X3.length-1;for(var I=0;I<w;
I++){var z=o[I],S=P[I];this.l.push(z);this.Wk.push(S);if(S==x){this.O3.push(z==0?0:1/z)}else{this.U1.push(z);
this.oH.push(S)}}this.X3.push(this.l.length);this.Qz.push(this.U1.length)};e.H$.prototype.Gl=function(o,P){var w=this,x=w.rows,z=w.l,S=w.Wk;
if(P==null)P=new Array(x);for(var I=0;I<x;I++){var k=w.X3[I],f=w.X3[I+1],C=0;while((f-k&3)!=0){C+=z[k]*o[S[k]];
k++}for(var H=k;H<f;H+=4)C+=z[H]*o[S[H]]+z[H+1]*o[S[H+1]]+z[H+2]*o[S[H+2]]+z[H+3]*o[S[H+3]];P[I]=C}return P};
e.H$.prototype.multiply=function(o){return this.l8(o.VI())};e.H$.prototype.l8=function(o){var P=this,w=P.rows,x=P.cols,z=o.rows,S=new e.H$(w,z),k=P.Wk,f=o.Wk;
for(var I=0;I<w;I++){var C=[],H=[],b=P.X3[I],i=P.X3[I+1];for(var M=0;M<z;M++){var T=o.X3[M],O=o.X3[M+1],Y=0,U=b,W=T;
while(U<i&&W<O){var t=Math.max(k[U],f[W]);while(U<i&&k[U]<t)U++;while(W<O&&f[W]<t)W++;if(U<i&&W<O&&k[U]==f[W])Y+=P.l[U++]*o.l[W++]}if(Y!=0){C.push(Y);
H.push(M)}}S.Jz(C,H,C.length)}return S};e.H$.prototype.VI=function(){var o=this.rows,P=this.cols,w=[];
for(var I=0;I<P;I++)w.push([[],[]]);var x=this.l,z=this.X3,S=this.Wk;for(var I=0;I<o;I++){var k=z[I],f=z[I+1];
for(var C=k;C<f;C++){var H=w[S[C]];H[0].push(x[C]);H[1].push(I)}}var b=new e.H$(P,o);for(var I=0;I<P;
I++)b.Jz(w[I][0],w[I][1],w[I][1].length);return b};e.H$.prototype.am=function(){var o=this.rows,P=this.cols,w=new Array(o),x=this.l,z=this.X3,S=this.Wk;
for(var I=0;I<o;I++){var k=w[I]=new Array(P);for(var f=0;f<P;f++)k[f]=0;var C=z[I],H=z[I+1];for(var b=C;
b<H;b++)k[S[b]]=x[b]}return w};e.H$.prototype.NI=function(o,P,w,x,z){function S(a,P,V,D){var l=a.length;
for(var I=0;I<l;I++)D[I]=a[I]-P[I]*V}function k(a,P,V,D){var l=a.length,Q=0;while((l-Q&3)!=0){D[Q]=a[Q]+P[Q]*V;
Q++}for(var I=Q;I<l;I+=4){D[I]=a[I]+P[I]*V;D[I+1]=a[I+1]+P[I+1]*V;D[I+2]=a[I+2]+P[I+2]*V;D[I+3]=a[I+3]+P[I+3]*V}}function f(a,P,V){var D=a.length;
for(var I=0;I<D;I++)V[I]=a[I]*P[I]}function C(a,P){var V=a.length,D=0,l=0;while((V-D&3)!=0){l+=a[D]*P[D];
D++}for(var I=D;I<V;I+=4)l+=a[I]*P[I]+a[I+1]*P[I+1]+a[I+2]*P[I+2]+a[I+3]*P[I+3];return l}var H=x!=null?2:1,b=Date.now(),i=0,M=this,T=o.slice(0),O=o.slice(0);
M.Gl(o,O);S(P,O,1,T);var Y=this.O3;if(H==0){Y=T.slice(0);Y.fill(1)}var U=T.slice(0);f(Y,T,U);var W=U.slice(0),t=C(T,U);
while(!0){M.Gl(W,O);var _=t/C(W,O);k(o,W,_,o);S(T,O,_,T);if((i&7)==0&&Math.sqrt(C(T,T))<w)break;if(H<=1)f(Y,T,U);
else{var n=T.slice(0);x.afF(n,T);z.aCz(U,n)}var y=C(T,U),F=y/t;k(U,W,F,W);t=y;i++}};e.H$.prototype.aiQ=function(o,P,w,x){var z=Date.now(),S=1.96,f=0;
if(w==null)w=5e-6;if(x==null)x=1e9;var k=1-S,eK=this.rows,C=this.U1,H=this.Qz,b=this.oH,i=this.O3;while(!0){var M=0;
for(var I=0;I<eK;I++){var T=P[I],O=H[I],Y=H[I+1];if(Y-O==4)T-=C[O]*o[b[O]]+C[O+1]*o[b[O+1]]+C[O+2]*o[b[O+2]]+C[O+3]*o[b[O+3]];
else for(var U=O;U<Y;U++)T-=C[U]*o[b[U]];var W=o[I]*k+i[I]*T*S,t=W-o[I];M+=t*t;o[I]=W}if(M/eK<w||Date.now()>z+x)break}};
e.H$.prototype.avD=function(o,P,w,x){var z=Date.now(),S=1.96,f=0;if(w==null)w=5e-5;if(x==null)x=1e9;
var k=1-S,eK=this.rows,C=this.U1,H=this.Qz,b=this.oH,i=this.O3;while(!0){var M=0;for(var I=0;I<eK;I++){var T=I*3,O=P[T],Y=P[T+1],U=P[T+2],W=H[I],t=H[I+1];
for(var _=W;_<t;_++){var n=C[_],y=b[_]*3;O-=n*o[y+0];Y-=n*o[y+1];U-=n*o[y+2]}var F=i[I]*S,a=o[T+0]*k+O*F,V=o[T+1]*k+Y*F,D=o[T+2]*k+U*F,l=a-o[T+0],Q=V-o[T+1],m=D-o[T+2];
M+=.4*l*l+.5*Q*Q+.1*m*m;o[T+0]=a;o[T+1]=V;o[T+2]=D}if(M/eK<w||Date.now()>z+x)break}};e.Kh={};e.Kh.ts=function(o,P,w){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:o},Vrtc:{t:"doub",v:P},Cnty:{t:"bool",v:w}}}};
e.Kh.h=function(o,P){for(var I=0;I<o.length;I++){var w=o[I].v,x=P.Zc(new eD(w.Hrzn.v,w.Vrtc.v));w.Hrzn.v=Math.round(x.x);
w.Vrtc.v=Math.round(x.y)}};e.Kh.av3=function(o,P,w){var eK=o.length-1,x=e.zr.Zm(eK+1,eK+2);for(var I=1;
I<eK;I++){x[I][I-1]=1/(o[I]-o[I-1]);x[I][I]=2*(1/(o[I]-o[I-1])+1/(o[I+1]-o[I]));x[I][I+1]=1/(o[I+1]-o[I]);
x[I][eK+1]=3*((P[I]-P[I-1])/((o[I]-o[I-1])*(o[I]-o[I-1]))+(P[I+1]-P[I])/((o[I+1]-o[I])*(o[I+1]-o[I])))}x[0][0]=2/(o[1]-o[0]);
x[0][1]=1/(o[1]-o[0]);x[0][eK+1]=3*(P[1]-P[0])/((o[1]-o[0])*(o[1]-o[0]));x[eK][eK-1]=1/(o[eK]-o[eK-1]);
x[eK][eK]=2/(o[eK]-o[eK-1]);x[eK][eK+1]=3*(P[eK]-P[eK-1])/((o[eK]-o[eK-1])*(o[eK]-o[eK-1]));e.zr.lX(x,w)};
e.Kh.avT=function(o,P,w,x){if(o<=P[0])return w[0];if(o>=P[P.length-1])return w[P.length-1];var I=1;while(P[I]<o)I++;
var z=P[I],S=P[I-1],k=w[I],f=w[I-1],C=(o-S)/(z-S),H=x[I-1]*(z-S)-(k-f),b=-x[I]*(z-S)+(k-f),i=(1-C)*f+C*k+C*(1-C)*(H*(1-C)+b*C);
return i};e.Kh.afw=function(o,P,w,x){var z={HA:[o[0]],tX:[P[0]],z_:[]};x[0]=z;for(var I=1;I<o.length-1;
I++){z.HA.push(o[I]);z.tX.push(P[I]);if(w[I]==!1){e.Kh.av3(z.HA,z.tX,z.z_);z={HA:[o[I]],tX:[P[I]],z_:[]}}x[I]=z}z.HA.push(o[I]);
z.tX.push(P[I]);e.Kh.av3(z.HA,z.tX,z.z_);x[I]=z};e.Kh.aef=function(o,P,w,x){if(o<=P[0])return w[0];if(o>=P[P.length-1])return w[P.length-1];
var I=1;while(P[I]<o)I++;var z=x[I-1];return e.Kh.avT(o,z.HA,z.tX,z.z_)};e.Kh.aGo=function(o){var P={HA:[],tX:[],gm:[]};
for(var I=0;I<o.length;I++){P.HA[I]=o[I].v.Hrzn.v;P.tX[I]=o[I].v.Vrtc.v;P.gm[I]=o[I].v.Cnty?o[I].v.Cnty.v:!0}return P};
e.Kh.NX=function(o,eK,P){var w=0,x=255;if(P){w=-1e9;x=1e9}var z=e.Kh.aGo(o),S=[];e.Kh.afw(z.HA,z.tX,z.gm,S);
var k=[];for(var I=0;I<eK;I++)k[I]=1/255*Math.max(w,Math.min(x,e.Kh.aef(I*(255/(eK-1)),z.HA,z.tX,S)));
return k};e.Kh.aGI=function(o,eK,P){var w=Math.round(o.length/20),x=eK-o.length,z=P?(o[w]-o[0])/w:0,S=P?o[0]-x*z:o[o.length-1],k=[];
for(var I=0;I<x;I++)k.push(S+I*z);return P?k.concat(o):o.concat(k)};e.Kh.hM=function(o,eK,P){var w=e.Kh.aGo(o),x=[];
e.Kh.afw(w.HA,w.tX,w.gm,x);var z=new Uint8Array(eK),S=eK/256;for(var I=0;I<eK;I++)z[I]=Math.max(0,Math.min(eK-1,e.Kh.aef(I*S,w.HA,w.tX,x)));
if(P){z[0]=0;if(z[1]>100)z[1]=.4*z[1];if(z[2]>150)z[1]=.7*z[2]}return z};e.Kh.acb=function(o,P){var w=new Uint8Array(o.length);
for(var I=0;I<o.length;I++)w[I]=P[o[I]];return w};e.Kh.Tu=function(o,P,w){var x=document.createElement("canvas");
x.width=P;x.height=w;var z=x.getContext("2d"),S=e.Kh.hM(o,256);z.scale(P/255,w/255);z.fillStyle="#fff";
z.fillRect(0,0,255,255);z.fillStyle="#333";z.beginPath();z.moveTo(0,255);for(var I=0;I<S.length;I++)z.lineTo(I,255-S[I]);
z.lineTo(255,255);z.closePath();z.fill();return x.toDataURL()};e.style={};e.style.stroke=function(o,P,w,x){var z=w.q,S=w._,k=e.style.Vu(o,z,S);
e.style.yn(P,w,k,w,x)};e.style.yn=function(o,P,w,x,z){var S=P.SN(x),k=S.q,f=S._;z+=.5;var C=S.x-P.x,H=S.y-P.y,b=P.q,i=S.x-x.x,M=S.y-x.y,T=x.q;
for(var O=0;O<f;O++){var Y=(O+M)*T+i,U=(O+H)*b+C;for(var W=0;W<k;W++){var t=Math.max(0,Math.min(1,z-w[Y+W]));
o[U+W]=Math.round(t*255)}}};e.style.afP=function(o,P,w,x){for(var z=0;z<w;z++)for(var S=0;S<P;S++){var k=z*P+S,f=0,C=0,H=o[k];
if(S==0||z==0){f=o[k+1]-H;C=o[k+P]-H}else if(S==w-1||z==P-1){f=H-o[k-1];C=H-o[k-P]}else{f=o[k+1]-o[k-1];
C=o[k+P]-o[k-P]}if(f!=0||C!=0){var b=1/Math.sqrt(f*f+C*C);f*=b;C*=b}x[k+k]=f;x[k+k+1]=C}};e.style.Vu=function(o,P,w){var x=P*w,z=new ArrayBuffer((x+P*4)*4),S=new Float32Array(z,0,x),k=new Uint16Array(z,0,x<<1),f=new Int32Array(z,x*4,P),C=new Int32Array(z,(x+P)*4,P),H=new Int32Array(z,(x+P*2)*4,P),b=new Int32Array(z,(x+P*3)*4,P),i=1/255;
for(let I=0;I<P;++I){let M=-w-P,T=0,O=I,Y=0;for(;Y<w;++Y,O+=P){if(o[O]>128)M=Y,T=o[O];k[O<<1]=Y-M;k[(O<<1)+1]=T}M=k[O+=O-P-P],T=k[O+1];
for(;Y>1;--Y){if(k[O-=P+P]>M)k[O]=++M,k[O+1]=T;else M=k[O],T=k[O+1]}}for(let U=0;U<x;U+=P){var W=U+P,t=k[U<<1]*k[U<<1],_=0;
let n=f[0]=U,y=C[0]=U,F=t,a=F;for(let O=U+1;O<W;++O){var V=k[O<<1]*k[O<<1];while(_&&a>(y-O)*(y-O)+V){y=C[--_],n=f[_],F=k[n<<1]*k[n<<1],a=(y-n)*(y-n)+F}if(_||a<=(y-O)*(y-O)+V){var D=O-n,l=U+Math.floor((D*(O+n-U-U)+V-F)/(D<<1))+1;
if(l<W){y=C[++_]=l,n=f[_]=O,F=V,a=(y-n)*(y-n)+F}}else y=U,n=f[0]=O,F=V,a=(y-n)*(y-n)+F}for(let I=0;I<_;
++I){var Q=f[I]<<1;H[I]=k[Q]*k[Q];b[I]=k[Q+1]}let m=.5-k[(f[_]<<1)+1]*i;for(let O=W-1;O>=U;--O){S[O]=Math.max(0,Math.sqrt((O-n)*(O-n)+F)+m);
if(_&&O==y){y=C[--_],n=f[_],F=H[_],m=.5-b[_]*i}}}return S};e.style.aGy=function(o,P,w){var x=new Float64Array(P*w),z=0,S=P*w;
for(var I=0;I<S;I++)z|=o[I];if(z==0){x.fill(1e9);return}var k=e.style.Ss(o,P,w);for(var f=0;f<w;f++)for(var C=0;
C<P;C++){var I=f*P+C,H=k[I*2],b=k[I*2+1];if(H==0&&b==0){x[I]=0;continue}var i=Math.sqrt(H*H+b*b),M=o[(f+b)*P+C+H]*(1/255);
x[I]=i+.5-M}return x};e.style.ajo=function(o,P,w){return(.5-w)*o};e.style.Ss=function(o,P,w,x){var z=new Int16Array(P*w*2);
e.style.a0L(o,z,P,w,128);return z};e.style.a0L=function(o,P,w,x,z){var S=new Int32Array(w*x);e.style.aDo(o,S,w,x,z);
e.style.aHh(S,P,w,x)};e.style.aDo=function(o,P,w,x,z){var S=new Int32Array(x);for(var k=0;k<w;k++){var f=w+x;
for(var C=x-1;C>=0;C--){if(o[C*w+k]>z)f=0;else f++;S[C]=f}f=w+x;for(var C=0;C<x;C++){if(o[C*w+k]>z)f=0;
else f++;P[C*w+k]=f<S[C]?-f:S[C]}}};e.style.aHh=function(o,P,w,x){var z=(w+x)*(w+x),S=new Float64Array(w),k=new Uint16Array(w);
for(var f=0;f<x;f++){var C=f*w,H=0;k[0]=0;S[0]=-z;S[1]=+z;for(var b=1;b<w;b++){var i=o[b+C]*o[b+C]+b*b,M=(i-(o[k[H]+C]*o[k[H]+C]+k[H]*k[H]))/(2*b-2*k[H]);
while(M<=S[H]){H--;M=(i-(o[k[H]+C]*o[k[H]+C]+k[H]*k[H]))/(2*b-2*k[H])}H++;k[H]=b;S[H]=M;S[H+1]=z}H=0;
for(var b=0;b<w;b++){while(S[H+1]<b)H++;var T=k[H]-b,O=o[k[H]+C],I=f*w+b<<1;P[I]=T;P[I+1]=O}}};e.style.lz=function(o,P,w){if(w)for(var I=0;
I<o.length;I++){var x=o[I];if(x>0)o[I]=Math.max(0,Math.min(255,x+P*2*(e.style.GI(I)-128)))}else for(var I=0;
I<o.length;I++){var x=o[I];if(x>0)o[I]=Math.max(0,Math.min(255,x+Math.min(x*3,P*2*(e.style.GI(I)-128))))}};
e.style.GI=function(o){o=o^61^o>>16;o=o+(o<<3);o=o^o>>4;o=o*668265261;o=o^o>>15;return o&255};e.KJ={};
e.KJ.dv=function(o,P,w){var x=o.canvas;if(x.width!=P||x.height!=w){x.width=P;x.height=w}};e.KJ.P9=function(o,P,w,x,z,S){e.KJ.dv(o,P,w);
if(S==null)S=!1;var k=z.channel,f=z.rect,C=!z.isEnabled;if(P*w==0)return;var H=o.createImageData(P,w),b=H.data,i=1/P,M=1/w;
for(var I=0;I<w;I++)for(var T=0;T<P;T++){var O=I*P+T,Y=O*4,U=Math.round(x.x+T*i*x.q),W=Math.round(x.y+I*M*x._),t=0;
if(U<f.x||U>=f.x+f.q||W<f.y||W>=f.y+f._)t=z.color;else t=k[(W-f.y)*f.q+(U-f.x)];t=255*(255-z._F)+t*z._F>>>8;
if(S)t=170+Math.round(.4*(t-170));b[Y]=t;b[Y+1]=t;b[Y+2]=t;b[Y+3]=255}o.putImageData(H,0,0);if(C)e.KJ.aza(o,P,w)};
e.KJ.afD=[];e.KJ.ay6=function(o,P,w,x){var z,S,k;z=Math.ceil(Math.max(P,w)*.35);S=P-z;k=w-z;var f=e.KJ.afD[z];
if(f==null){var C=e.Um(z,z);C.fillStyle="#eeeeee";C.fillRect(0,0,z,z);var H=Math.round(z*.27),b=C.lineWidth=Math.max(1,Math.round(z*.12)),i=b/2;
C.strokeRect(1+i,1+i,z-b-2,z-b-2);C.strokeRect(H+i,H+i,z-H-H-b,z-H-H-b);f=e.KJ.afD[z]=C.getImageData(0,0,z,z)}o.putImageData(f,S,k)};
e.KJ.avQ=[];e.KJ.asQ=function(o,P,w){var x,z,S;x=Math.ceil(Math.max(P,w)*.35);z=P-x;S=w-x;var k=e.KJ.avQ[x];
if(k==null){var f=e.Um(x,x);f.fillStyle="#eeeeee";f.fillRect(0,0,x,x);f.lineWidth=1;f.strokeRect(2.5,2.5,x-5,x-5);
var C=f.createImageData(3,3);e.ZT(C.data,4278190080);C.data[4*4]=C.data[4*4+1]=C.data[4*4+2]=238;f.putImageData(C,1,1);
f.putImageData(C,x-4,1);f.putImageData(C,1,x-4);f.putImageData(C,x-4,x-4);k=e.KJ.avQ[x]=f.getImageData(0,0,x,x)}o.putImageData(k,z,S)};
e.KJ.a9p=function(o,P,w,x,z){e.KJ.dv(o,P,w);var S=P/x.q;if(P*w==0)return;o.fillStyle="#999999";o.setTransform(1,0,0,1,0,0);
o.clearRect(0,0,P,w);var k=e.KJ.asE;if(k==null)k=e.KJ.asE=iR.Vq.bS(!0,!0);k.strokeStyleLineWidth.v.val=1/S;
o.fillStyle="#ffffff";o.scale(S,S);e.n.S6(z.g,o,0,0);e.n.S6(z.g,o,0,0,k)};e.KJ.aDJ=function(o,P,w,x,z){e.KJ.dv(o,P,w);
if(P*w==0)return;o.setTransform(1,0,0,1,0,0);o.fillStyle="white";o.fillRect(0,0,P,w);var S=z.r,k;if(S.add.SoLd)k=N.DH.PU(S.add.SoLd.nonAffineTransform);
else if(S.add.vmsk)k=S.add.vmsk.Lc();else if(S.add.TySh){if(S.Mn.Ux==null)return;k=e.a.R2(S.Mn.Ux).i;
e.a.h(k,S.add.TySh.h,k)}var f=e.a.w4(k),C=Math.min(P/f.q,w/f._),H=f.q*C,b=f._*C;o.translate(-f.x*C+(P-H)*.5,-f.y*C+(w-b)*.5);
o.scale(C,C);z._h(x,o,null,null)};e.KJ.aDB=null;e.KJ.rm=function(o,P,w,x,z,S,k,f,C){e.KJ.dv(o,P,w);if(P*w==0)return;
var H=Math.max(P,w),b=e.KJ.aDB;if(b==null||b.width<H||b.height<H){e.KJ.aDB=b=o.createImageData(H,H)}H=b.width;
var i=b.data,M=x.q/P,T=x._/w,O=S.x,Y=S.x+S.q,U=S.y,W=S.y+S._;for(var I=0;I<w;I++)for(var t=0;t<P;t++){var _=I*H+t,n=_*4,y=~~(x.x+t*M),F=~~(x.y+I*T),a=e.aqw(I,t,2);
if(y<O||y>=Y||F<U||F>=W||C){i[n]=a;i[n+1]=a;i[n+2]=a;i[n+3]=255}else{var V=(F-S.y)*S.q+(y-S.x)<<2,D=z[V+3]*(1/255);
i[n]=z[V+0]*D+a*(1-D);i[n+1]=z[V+1]*D+a*(1-D);i[n+2]=z[V+2]*D+a*(1-D);i[n+3]=255}}if(f!=null)for(var I=0;
I<i.length;I+=4)i[I]=i[I+1]=i[I+2]=i[I+f];o.putImageData(b,0,0);if(k)e.KJ.aza(o,P,w)};e.KJ.avR=function(o,P,w,x){e.KJ.dv(o,P,w);
o.fillStyle=e.KJ.dQ(x.Clr.v);o.fillRect(0,0,P,w);e.KJ.tH(o,P,w)};e.KJ.ac2=null;e.KJ.ajZ=function(o,P,w,x){e.KJ.dv(o,P,w);
var z=o.canvas.width,S=o.canvas.height,k=e.KJ.ac2;if(k==null||k.width!=z||k.height!=S){o.fillStyle="#ffffff";
o.fillRect(0,0,P,w);o.fillStyle="#000000";o.font=""+w*.7+"px serif";o.fillText("T",(P-w*.43)/2,w*.75);
o.fillText("T",(P-w*.43)/2,w*.75);e.KJ.ac2=o.getImageData(0,0,z,S)}else o.putImageData(k,0,0)};e.KJ.a9m=function(o,P,w){e.KJ.dv(o,P,w);
o.clearRect(0,0,P,w);o.font=w*.7+"px serif";o.fillText(":(",(P-w*.43)/2,w*.7)};e.KJ.a4i=function(o,P,w,x){e.KJ.dv(o,P,w);
var z=ft.get(x),S=o.canvas.width,k=e.KJ.adp[S+z];if(k==null){var f=PIMG["adj/"+z],C=eu.ML(f),H=UPNG.decode(C.buffer),b=new Uint8Array(UPNG.toRGBA8(H)[0]),i=new fA(0,0,160,160),M=0,T=S-M*2,O=N.DH.x$([b,i],new ar(T/160,0,0,T/160,0,0)),Y=new fA(0,0,S,S),U=e.U(Y.c()*4);
e.C.Iv("norm",O.buffer,O.rect,U,Y,O.rect,1);k=e.KJ.adp[S+z]=new ImageData(new Uint8ClampedArray(U.buffer),S,S)}o.putImageData(k,0,0)};
e.KJ.adp={};e.KJ.aDp=function(o,P,w,x){e.KJ.dv(o,P,w);var z=o.canvas.width,S=o.canvas.height,k=o.getImageData(0,0,z,S);
e.G.i6(x.Grad.v,new Uint8Array(k.data.buffer),new fA(0,0,z,S),[1/z,0,0,1/S],z/2,S/2,!1,0,16711680,65280);
o.putImageData(k,0,0);e.KJ.tH(o,P,w)};e.KJ.a1d=function(o,P,w,x,z){e.KJ.dv(o,P,w);var S=o,k=iO.HE(x.Ptrn.v,z.add.Patt);
if(k==null)return;var f=k.kR[1];e.KJ.rm(o,P,w,f,k.kR[0],f,!1);e.KJ.tH(S,P,w)};e.KJ.aza=function(o,P,w){o.strokeStyle="#bb0000";
o.lineWidth=3;o.beginPath();o.moveTo(P*.15,w*.15);o.lineTo(P*.85,w*.85);o.moveTo(P*.85,w*.15);o.lineTo(P*.15,w*.85);
o.closePath();o.stroke()};e.KJ.tH=function(o,P,w){o.fillStyle="#eeeeee";o.fillRect(0,w*.75,P,w*.25);
o.beginPath();o.moveTo(0,w*.75);o.lineTo(P,w*.75);o.moveTo(P*.1,w*.875);o.lineTo(P*.9,w*.875);o.moveTo(P*.65,w*.825);
o.lineTo(P*.65,w*.95);o.closePath();o.stroke()};e.KJ.dQ=function(o){var P=e.G.dQ(o),w=Math.round(P.$)<<16|Math.round(P.H)<<8|Math.round(P.b);
return"#"+e.UM(w)};e.n={};e.n.Nl=function(o,P,w){var x=[],z=-1;for(var I=0;I<o.length;I++){var S=o[I];
if((S.type==0||S.type==3)&&S.Hv!=-1)z++;if(S.type>5||S.type==0||S.type==3)continue;if(P!=null&&P.indexOf(z)==-1)continue;
if(w!=null&&w.indexOf(I)==-1)continue;x.push(S.Fm.x);x.push(S.Fm.y);x.push(S.v.x);x.push(S.v.y);x.push(S.AK.x);
x.push(S.AK.y)}return x};e.n.Kg=function(o,P,w,x){var z=0,S=-1;for(var I=0;I<P.length;I++){var k=P[I];
if((k.type==0||k.type==3)&&k.Hv!=-1)S++;if(k.type>5||k.type==0||k.type==3)continue;if(w!=null&&w.indexOf(S)==-1)continue;
if(x!=null&&x.indexOf(I)==-1)continue;k.Fm.Mx(o[z],o[z+1]);k.v.Mx(o[z+2],o[z+3]);k.AK.Mx(o[z+4],o[z+5]);
z+=6}};e.n.G9=function(o,P,w,x){var z=e.n.Nl(o,w,x);e.a.h(z,P,z);e.n.Kg(z,o,w,x)};e.n.aiJ=function(o,P,w,x){var z=e.n.Nl(o,w,x);
e.W.h(P,z);e.n.Kg(z,o,w,x)};e.n.aAm=function(o,P,w,x){if(x==null){var z=e.n.anj(o,40,w);for(var I=0;
I<z.length;I++)o[I]=z[I]}var S=e.n.Nl(o,w,x);e.V0.h(P,S,e.a.w4(S));e.n.Kg(S,o,w,x)};e.n.anj=function(o,P,w){var x=[],z=-1;
for(var I=0;I<o.length;I++){var S=o[I],k=S.length;if(S.type>5){x.push(JSON.parse(JSON.stringify(S)));
continue}S=JSON.parse(JSON.stringify(S));x.push(S);if(S.Hv!=-1)z++;if(w&&w.indexOf(z)==-1){x=x.concat(o.slice(I+1,I+1+k))}else{var f=e.n.aaN(o,I+1,k);
f=e.a.K1(f,P);var C=e.n.axN(f);S.length=C.length;for(var H=0;H<C.length;H++)x.push(C[H])}I+=k}return x};
e.n.aaN=function(o,P,w){var x={LG:["M"],i:[]},z=o[P],S=o[P+w-1];x.i.push(z.v.x,z.v.y);for(var I=1;I<w;
I++){var k=o[P+I-1],f=o[P+I];x.LG.push("C");x.i.push(k.AK.x,k.AK.y,f.Fm.x,f.Fm.y,f.v.x,f.v.y)}x.LG.push("C");
x.i.push(S.AK.x,S.AK.y,z.Fm.x,z.Fm.y,z.v.x,z.v.y);return x};e.n.axN=function(o){var P=[],w=o.LG,x=o.i,z=0,eK=x.length;
P.push({type:2,Fm:new eD(x[eK-4],x[eK-3]),v:new eD(x[0],x[1]),AK:new eD(x[2],x[3])});for(var I=0;I<w.length-2;
I++){var S=I*6+4;P.push({type:2,Fm:new eD(x[S],x[S+1]),v:new eD(x[S+2],x[S+3]),AK:new eD(x[S+4],x[S+5])})}return P};
e.n.ajT=function(o){for(var I=0;I<o.length;I++){if(o[I].type>5)continue;var P=o[I].length;if(!(P==4||P==6||P==8)){I+=P;
continue}for(var w=0;w<P;w++){var x=o[I+1+w],z=o[I+1+(w+1)%P],S=Math.min(x.v.x,z.v.x),k=Math.min(x.v.y,z.v.y),f=0,C=0;
if(x.v.x<z.v.x){f=x.v.y-k;C=f-(z.v.x-S)}else{f=z.v.y-k;C=f-(x.v.x-S)}if(Math.abs(C)<.2*f)return f}}return-1};
e.n.$s=function(o,P,w){function x(M,T){var O=Math.min(M.x,T.x),Y=Math.min(M.y,T.y),U=Math.max(M.x+M.q,T.x+T.q),W=Math.max(M.y+M._,T.y+T._);
return new fA(O,Y,U-O,W-Y)}var z=null,S=-1,k=!e.n.eh(o);for(var I=0;I<o.length;I++){var f=o[I];if(f.type>5)continue;
if((f.type==0||f.type==3)&&f.Hv!=-1)S++;if(P!=null&&P.indexOf(S)==-1)continue;if(I==o.length-1)break;
var C=f.type==3,H=f.length,b=f.Hv,i=e.n.KW(o,I+1,H,C);if(z==null)z=i;else if(w)z=x(z,i);else if(k){if(P!=null||b==0||b==-1||b==2)z=x(z,i);
else if(b==1)z=z;else if(b==3){z=i;k=!1}}else{if(P!=null||b==0||b==-1||b==1)z=x(z,i);else if(b==2)z=z;
else if(b==3)z=z.SN(i)}I+=H}if(z==null||z.q<0||z._<0)z=new fA(0,0,0,0);return z};e.n.a6V=new Float64Array(4);
e.n.KW=function(o,I,P,w){var x=e.n.a6V;x[0]=1e30;x[1]=1e30;x[2]=-1e30;x[3]=-1e30;var z=o[I+P-1];if(!w)e.n.af4(z.v.x,z.v.y,z.AK.x,z.AK.y,o[I].Fm.x,o[I].Fm.y,o[I].v.x,o[I].v.y,x);
for(var S=I;S<I+P-1;S++){var k=o[S],f=o[S+1];e.n.af4(k.v.x,k.v.y,k.AK.x,k.AK.y,f.Fm.x,f.Fm.y,f.v.x,f.v.y,x)}return new fA(x[0],x[1],x[2]-x[0],x[3]-x[1])};
e.n.af4=function(o,P,w,x,z,S,k,f,C){if(o==w&&P==x&&z==k&&S==f){C[0]=Math.min(C[0],Math.min(o,k));C[1]=Math.min(C[1],Math.min(P,f));
C[2]=Math.max(C[2],Math.max(o,k));C[3]=Math.max(C[3],Math.max(P,f));return}var H=o,b=P,i=o,M=P,T=40,O=1/(T-1);
for(var Y=0;Y<T;Y++){var U=Y*O,W=1-U,t=W*W*W,_=3*W*W*U,n=3*W*U*U,y=U*U*U,F=t*o+_*w+n*z+y*k,a=t*P+_*x+n*S+y*f;
if(F<H)H=F;else if(F>i)i=F;if(a<b)b=a;else if(a>M)M=a}if(H<C[0])C[0]=H;if(b<C[1])C[1]=b;if(i>C[2])C[2]=i;
if(M>C[3])C[3]=M};e.n.aBs=function(o,P){var w=o.length-3,x=P%w,z=Math.floor(x);if(P<0||z>=w)return null;
var S=o[3+z],k=o[3+(z+1)%w],f=S.v,C=S.AK,H=k.Fm,b=k.v,i=x-z,M=1-i,T=M*M*M*f.x+3*M*M*i*C.x+3*M*i*i*H.x+i*i*i*b.x,O=M*M*M*f.y+3*M*M*i*C.y+3*M*i*i*H.y+i*i*i*b.y;
return new eD(T,O)};e.n.nW=function(o,P){var w=e.a.tC(o),x=w.OE;w.OE=Typr.U.pathToSVG({crds:x.i,cmds:x.LG},P==null?2:P);
return w};e.n.y3=function(o){e.n.Wd();var P,w=e.n.IZ(o),x=[];for(var I=0;I<w.length;I++){var z=w[I][0],S=w[I][1];
if(Math.abs(z.area)<1e-5)x.push(z);else if(P==null)P=z;else{if(!z.closed)z.closed=!0;P=P[S](z);P.remove()}}if(P==null)P=new paper.CompoundPath(x);
else{if(P.segments)P=new paper.CompoundPath(P);for(var I=0;I<x.length;I++){P.addChild(x[I])}}var k=o.slice(0,2);
k=k.concat(e.n.Da(P));e.n.pb(w);e.n.pb([[P]]);if(k[2])k[2].Hv=1;for(var I=3;I<k.length;I++)if(k[I].Hv!=null)k[I].Hv=-1;
return k};e.n.Wd=function(){if(e.n.agK==null){var o=document.createElement("canvas");paper.setup(o);
e.n.agK=!0}};e.n.a6q=function(o,P){e.n.Wd();var w=[],x=e.n.IZ(o),z=new paper.Path.Rectangle(new paper.Rectangle(P.x,P.y,P.q,P._));
z.remove();z.fillColor=new paper.Color(1,0,0);for(var I=0;I<x.length;I++){if(z.intersects(x[I][0])||z.contains(x[I][0].children[0].segments[0].point))w.push(I)}e.n.pb(x);
return w};e.n.Vz=function(o,P,w,x){e.n.Wd();var z=w?{curves:!0,tolerance:x}:null,S=new paper.Point(P.x,P.y),k=e.n.IZ(o);
e.n.pb(k);for(var I=k.length-1;I>=0;I--){var f=k[I][0],C=f.hitTest(S,z);if(C!=null)return{BG:I,YO:w?C.location.index:null,_C:w?C.location.time:0}}return{BG:-1}};
e.n.Mj=function(o,P,w,x){var z=[[],[],[]];for(var I=0;I<o.length;I++){var S=o[I];if(S.type>5||S.type==0||S.type==3)continue;
var k=P.ga(S.v),f=P.ga(S.Fm),C=P.ga(S.AK);if(w&&w.indexOf(I)==-1){if(x){if(w.indexOf(I-1)==-1)f=!1;if(w.indexOf(I+1)==-1)C=!1}else f=C=!1}if(k)z[0].push(I);
if(f)z[1].push(I);if(C)z[2].push(I)}z[3]=z[0].length+z[1].length+z[2].length;return z};e.n.avW=function(o,P,w){var x=o[P];
for(var z=P+1;z<w;z++)o[z-1]=o[z];o[w-1]=x};e.n.aCj=function(o,P,w,x){var I,z,S,k=0;o=o.slice(0);P.sort(function(O,Y){return O-Y});
S=-1;for(I=2;I<o.length;){var f=o[I],C=f.length;if(f.Hv!=-1)S++;var H=k;while(H<P.length&&P[H]<I+1+C)H++;
if(k!=H){var b=P.slice(k,H);k=H;for(z=0;z<C;z++)if(b.indexOf(I+1+z)!=-1)o[I+1+z]=null;if(f.type==0){var i=b[0]-(I+1);
while(i!=0){e.n.avW(o,I+1,I+1+C);i--}}var M=f;M.length=0;z=0;while(z<C&&o[I+1+z]==null)z++;while(z<C){var T=o[I+1+z];
if(T!=null)M.length++;else if(z<C+1&&o[I+1+z+1]&&x){M=o[I+1+z]={type:0,Hv:-1,length:0,p_:0,xd:0,cI:1}}z++}if(x)for(z=-1;
z<C;z++)if(o[I+1+z]&&o[I+1+z].type<3)o[I+1+z].type+=3;e.KH.rI(w,S)}I+=1+C}for(I=0;I<o.length;I++)if(o[I]==null){o.splice(I,1);
I--}S=0;for(I=2;I<o.length;I++){var f=o[I];if(f.length==0){if(o[I+1]&&o[I+1].Hv==-1)o[I+1].Hv=f.Hv;else if(f.Hv!=-1)w.splice(S,1);
o.splice(I,1);I--}else if(f.length!=null&&f.Hv!=-1)S++}return o};e.n.aAU=function(o,P){var w=o.slice(0,2),x=-1;
for(var I=2;I<o.length;I++){if((o[I].type==0||o[I].type==3)&&o[I].Hv!=-1)x++;if(P.indexOf(x)==-1)w.push(o[I])}return w};
e.n.aEd=function(o,P){var w=o.slice(0,2),x=-1;for(var I=2;I<o.length;I++){if((o[I].type==0||o[I].type==3)&&o[I].Hv!=-1)x++;
if(P.indexOf(x)!=-1)w.push(o[I])}return w};e.n.alZ=function(o){var P=0;for(var I=0;I<o.length;I++)if(o[I].type==0||o[I].type==3)P=I;
return o[P]};e.n.f8=function(o){var P=-1;for(var I=0;I<o.length;I++)if((o[I].type==0||o[I].type==3)&&o[I].Hv!=-1)P++;
return P+1};e.n.iE=function(o,P,w){var x=-1;for(var I=0;I<o.length;I++)if((o[I].type==0||o[I].type==3)&&(w||o[I].Hv!=-1)){x++;
if(x==P)return I}return-1};e.n.eN=function(o,P,w){var x=-1;for(var I=0;I<o.length;I++)if((o[I].type==0||o[I].type==3)&&(w||o[I].Hv!=-1)){if(I>=P)return x;
x++}return x};e.n.Pu=function(o,P){var w=-1,x=0;for(var I=0;I<o.length;I++){if((o[I].type==0||o[I].type==3)&&o[I].Hv!=-1)w++;
if(w==P)x++}return x};e.n.a5J=function(o){var P=180;for(var I=0;I<o.length;I++){if(o[I].type!=0&&o[I].type!=3)continue;
var w=o[I].length;if(w<3)continue;for(var x=0;x<w;x++){var z=o[I+1+(x-1+w)%w],S=o[I+1+x],k=o[I+1+(x+1)%w],f=S.v,C=S.Fm.w6(f)?z.AK:S.Fm,H=S.AK.w6(f)?k.Fm:S.AK;
if(f.w6(C)||f.w6(H))continue;var b=C.x-f.x,i=C.y-f.y,M=H.x-f.x,T=H.y-f.y,C=Math.atan2(C.y-f.y,C.x-f.x)*180/Math.PI,H=Math.atan2(H.y-f.y,H.x-f.x)*180/Math.PI,O=Math.abs(H-C)%360,Y=O>180?360-O:O;
if(Y<P)P=Y}}return P*Math.PI/180};e.n.Da=function(o){var P=o.segments?[o]:o.children,w=[];for(var I=0;
I<P.length;I++){var x=P[I],z=x.segments,S=x.closed?0:3,k=w.length,f=null;if(z.length<=1)continue;w.push({type:S,length:z.length,Hv:0,cI:2});
for(var C=0;C<z.length;C++){var H=z[C],b=new eD(H.handleIn.x,H.handleIn.y),i=new eD(H.handleOut.x,H.handleOut.y),M=new eD(H.point.x,H.point.y),T={type:S+1,Fm:M.add(b),v:M,AK:M.add(i)};
if(f==null)f=T;w.push(T);if(C+1==z.length&&eD.a_(f.v,T.v)<1e-5){w.pop();w[k].length--;f.Fm=T.Fm;if(S==3)for(var O=k;
O<w.length;O++)w[O].type-=3}}}return w};e.n.IZ=function(o){e.n.Wd();var P=[],w,x=new paper.Color(1,0,0);
function z(T,f){T.remove();T.closed=!f;T.fillRule="evenodd"}for(var I=0;I<o.length;I++){if(o[I].type>5)continue;
var S=o[I].length,k;if(I==o.length-1)break;var f=o[I].type==3;if(I==2){if(!e.n.mI(o))k="subtract";else k="unite"}else{if(o[I].Hv==0)k="exclude";
if(o[I].Hv==1)k="unite";if(o[I].Hv==2)k="subtract";if(o[I].Hv==3)k="intersect"}if(o[I].Hv!=-1){w=new paper.CompoundPath;
P.push([w,k]);w.fillRule="evenodd";w.fillColor=x}var C=[];for(var H=0;H<S;H++){var b=o[I+1+H],i=b.Fm.WJ(b.v),M=b.AK.WJ(b.v);
C.push([[b.v.x,b.v.y],[i.x,i.y],[M.x,M.y]])}var T=new paper.Path(C);z(T,f);w.addChild(T);I+=S}return P};
e.n.pb=function(o){for(var I=0;I<o.length;I++)o[I][0].remove()};e.n.Wl=function(o){for(var I=0;I<o.length;
I++){var P=o[I];if(P.v==null)continue;if(!P.v.w6(P.Fm)||!P.v.w6(P.AK))return!1}return!0};e.n.ayE=function(o){if(o.length<=5)return 0;
var P=0,w=o.length-3-1;for(var I=0;I<w;I++){var x=o[3+I],z=o[3+I+1];if(x.type==0||z.type==0)return 0;
P+=(z.v.x-x.v.x)*(x.v.y+z.v.y)}P+=(o[3].v.x-o[3+w].v.x)*(o[3+w].v.y+o[3+1].v.y);return-P*.5};e.n.eh=function(o){var P=o[2],w=!1;
if(o.length==2)w=o[1].all==0;else if(o[1].all==1){if(P.Hv==1||P.Hv==3)w=!0;else w=!1}else{if(P.Hv==1||P.Hv==3||P.Hv==0)w=!0;
else w=!1}return w};e.n.mI=function(o){var P=e.n.eh(o);for(var I=3;I<o.length;I++)if(o[I].Hv==3)P=!0;
return P};e.n.a4C=0;e.n.amp=0;e.n.a7N=0;e.n.aEf=function(o,P,w,x){if(w.Mw())return;var z=w.c(),W=16384;
e.n.a4C+=z;if(z>e.n.amp){e.n.amp=z}var S=w.q,k=w._;if(x==null&&e.n.Wl(o)&&o[2]&&o[2].Hv!=2){var f=!0;
for(var I=2;I<o.length;)if(o[I].length==2)I+=3;else{f=!1;break}if(f){return}if(e.n.ZV(o)){P.fill(255);
var C=e.n.$s(o);if(C.c()!=z){var H=1-(C.x-w.x),b=1-(C.y-w.y),i=1-(w.x+w.q-(C.x+C.q)),M=1-(w.y+w._-(C.y+C._)),T=~~(H*255),O=~~(i*255),Y=~~(b*255),U=~~(M*255);
P.fill(Y,0,S);P[0]=~~(H*b*255);P[S-1]=~~(i*b*255);for(var I=S;I<z;I+=S){P[I]=T;P[I+S-1]=O}P.fill(U,(k-1)*S,k*S);
P[z-S]=~~(H*M*255);P[z-1]=~~(i*M*255)}return}}var t=Math.ceil(S/W),_=Math.ceil(k/W),n=Math.ceil(S/t),y=Math.ceil(k/_),F=Date.now();
for(var a=0;a<_;a++)for(var V=0;V<t;V++){var D=V*n,l=a*y,Q=n,m=y,R=e.Um(Q,m);if(!e.n.eh(o))R.fillRect(0,0,Q,m);
e.n.S6(o,R,-w.x-D,-w.y-l,x);var $=new Uint8Array(R.getImageData(0,0,Q,m).data.buffer);if(Q==S&&m==k)e.JX($,P,3);
else e.zt($,new fA(D,l,Q,m),P,new fA(0,0,S,k))}};e.n.aAp=function(o){var P=!1,w=!1,x=0,z=!1;for(var I=0;
I<o.length;I++){var S=o[I].Hv;if(S!=null){x++;if(S==-1)P=!0;if(S==1||S==2||S==3)w=!0;if(o[I].type==0)z=!0}}if(!P&&x<20&&z&&w)o=e.n.y3(o);
return o};e.n.S6=function(o,P,w,x,z,S){if(z!=null){o=e.n.aAp(o)}for(var I=0;I<o.length;I++){if(o[I].type>5)continue;
var k=o[I].length;if(k==0)continue;if(I==o.length-1)break;var f=o[I].type==3,C=o[I].Hv;if(C!=-1&&z==null){var H=["xor","source-over","destination-out","source-in"][C];
P.globalCompositeOperation=H}if(o[I].Hv!=-1){P.beginPath();if(z)e.n.C4(iR.Vq.EO(z),P)}e.n.aED(P,o,I+1,k,w,x,f);
if(f){}else P.closePath();if(o[I+1+k]==null||o[I+1+k].Hv!=-1){if(z){if(S)P.clip();P.stroke()}else P.fill(C==-1?"nonzero":"evenodd")}I+=k}P.globalCompositeOperation="source-over";
P.setLineDash([])};e.n.C4=function(o,P){var w=o.dy;P.setLineDash(o.iW);P.lineCap=["butt","round","square"][o.UR];
P.lineJoin=["miter","round","bevel"][o.F0];P.lineWidth=o.pu==1?w:w*2;P.miterLimit=o.Pm};e.n.aED=function(o,P,I,w,x,z,S){var k=P[I],f=null;
o.moveTo(k.v.x+x,k.v.y+z);for(var C=I;C<I+w-1;C++){k=P[C];f=P[C+1];if(k.v.w6(k.AK)&&f.Fm.w6(f.v))o.lineTo(f.v.x+x,f.v.y+z);
else o.bezierCurveTo(k.AK.x+x,k.AK.y+z,f.Fm.x+x,f.Fm.y+z,f.v.x+x,f.v.y+z)}if(!S){k=P[C];f=P[I];if(k.v.w6(k.AK)&&f.Fm.w6(f.v))o.lineTo(f.v.x+x,f.v.y+z);
else o.bezierCurveTo(k.AK.x+x,k.AK.y+z,f.Fm.x+x,f.Fm.y+z,f.v.x+x,f.v.y+z)}};e.n.aHw=function(o,P){var w=[],x=P?4:1;
for(var I=0;I<o.length;I+=2){var z=new eD(o[I],o[I+1]);w.push({type:x,Fm:z.clone(),v:z.clone(),AK:z.clone()})}return w};
e.n.aHe=function(o,P,w){var x=(1-(w!=null?w:25)*.01)*10;if(x>0){for(var I=0;I<P.length;I++){var z=P[I],S=e.n.iE(o,z),k=e.n.Pu(o,z),f=o.slice(S,S+k);
e.n.Wd();var C=new paper.Path;C.remove();C.closed=!0;for(var H=1;H<f.length;H++)C.add(new paper.Point(f[H].v.x,f[H].v.y));
var b=C.simplify(x);if(b)o.splice(S,k,...e.n.Da(C))}}return o};e.n.Cv=function(o,P,w){var x=e.a.w4(o),z=Math.sqrt(Math.sqrt(x.c()))*.2,S=.2;
o=o.slice(0);var k=o.length,f=P?0:2;for(var C=0;C<5;C++)for(var I=f;I<o.length-f;I+=2){var H=(I-2+k)%k,b=(I+2)%k,i=o[I],M=o[I+1],T=(o[H]+o[b])*.5,O=(o[H+1]+o[b+1])*.5;
o[I]=i+(T-i)*S;o[I+1]=M+(O-M)*S}if(w)return e.n.fg.E2(o,null,!P);e.n.Wd();var Y=new paper.Path;Y.remove();
Y.closed=P;for(var I=0;I<o.length;I+=2)Y.add(new paper.Point(o[I],o[I+1]));Y.simplify(z);var U=[{type:6},{type:8,all:0}];
U=U.concat(e.n.Da(Y));return U};e.n.DG=function(o,P,w){var x=o[P].length,z=o[P].type,S=0,k=o.slice(P+1,P+1+x);
for(var I=0;I<x;I++){var f=w[(I-1+x)%x],C=w[(I+1+x)%x],H=w[I];if(H!=0){var b=k[(I-1+x)%x].v,i=k[(I+0+x)%x].v,M=k[(I+1+x)%x].v,T=eD.a_(i,b),O=eD.a_(i,M),Y=e.a.acJ(b.x,b.y,i.x,i.y,M.x,M.y,H)[0],U=Math.min(Y,f==0?T:T/2,C==0?O:O/2);
H*=U/Y;var W=e.a.auo(b.x,b.y,i.x,i.y,M.x,M.y,H),t={type:z+1,Fm:new eD(W[2],W[3]),v:new eD(W[2],W[3]),AK:new eD(W[4],W[5])},_={type:z+1,Fm:new eD(W[6],W[7]),v:new eD(W[8],W[9]),AK:new eD(W[8],W[9])};
o.splice(P+S+1,1,t,_);S++;o[P].length++}S++}};e.n.Wl=function(o){for(var I=0;I<o.length;I++){var P=o[I],w=P.type;
if(w==1||w==2||w==4||w==5)if(!P.v.w6(P.Fm)||!P.v.w6(P.AK))return!1}return!0};e.n.ZV=function(o){if(o.length!=7||o[2].length!=4||!e.n.Wl(o))return!1;
for(var I=0;I<4;I++){var P=!0;for(var w=0;w<4;w++){var x=o[3+(I+w&3)],z=o[3+(I+w+1&3)];if(x.v.x!=z.v.x&&x.v.y!=z.v.y)P=!1}if(P)return!0}return!1};
e.n.a2D=function(o){if(o.length<6)return 0;var P=o.length-2,w=0;for(var I=0;I<P;I+=2)w+=(o[I+2]-o[I])*(o[I+1]+o[I+3]);
w+=(o[0]-o[P])*(o[P+1]+o[1]);return-w*.5};e.n.a3X=function(o){o=X.tc.tz(o);var P=e.n.f8(o);for(var w=0;
w<P;w++){var x=e.n.iE(o,w)+1,z=o[x-1].length,S=[];for(var I=0;I<z;I++){var k=o[x+I].v;S.push(k.x,k.y)}var f=e.n.a2D(S);
if(f<0)e.n.apN(o,x-1)}return o};e.n.apN=function(o,P){var w=P+1,x=o[P].length,z=[];for(var I=0;I<x;I++){var S=o[w+I],k=S.Fm;
S.Fm=S.AK;S.AK=k;z.push(S)}for(var I=0;I<x;I++)o[w+I]=z[x-1-I]};e.n.fg={};e.n.fg.E2=function(o,P,w){var x=[{type:6},{type:8,all:0}],z=null;
x.push({type:w?3:0,Hv:1,length:0,p_:0,xd:0,cI:1});if(P==0||P==null)z=null;else if(P instanceof Array)z=P;
else{z=[];for(var I=0;I<o.length;I+=2)z.push(P)}x=x.concat(e.n.aHw(o,w));x[2].length=x.length-3;if(z)e.n.DG(x,2,z);
return x};e.n.fg.a4q=function(o,P,w,x,z){var S=[],k=[],f=.553,C=1,H=-1;S.push({type:1,Fm:new eD(0,f),v:new eD(0,0),AK:new eD(0,-f)});
z+=2;for(var I=0;I<z;I++){var b={type:1};if(I==0){b.v=new eD(1,-1);b.Fm=new eD(1-f,-1);b.AK=new eD(1+f,-1)}else{var i=-(I+2)*Math.PI/2,M=1+((I&1)==1?I-1:I),T=Math.sin(i),O=Math.cos(i);
C+=M*(T-O);H+=M*(O+T);b.v=new eD(C,H);b.Fm=new eD(C+M*O*f,H-M*T*f);if((I&1)==1)M+=2;b.AK=new eD(C-M*O*f,H+M*T*f)}var Y={type:1,Fm:new eD(-b.AK.x,-b.AK.y),v:new eD(-b.v.x,-b.v.y),AK:new eD(-b.Fm.x,-b.Fm.y)};
S.push(b);if(I<z-2)k.push(Y)}k.reverse();S=S.concat(k);var U=[{type:6},{type:8,all:0}];U.push({type:0,Hv:1,length:S.length,p_:0,xd:0,cI:1});
U=U.concat(S);var W=new ar(w/z,0,0,w/z,0,0);W.rotate(x);W.translate(o,P);e.n.G9(U,W);return U};e.n.fg.Rect=function(o,P,w,x,z){var S=[o,P,o+w,P,o+w,P+x,o,P+x];
return e.n.fg.E2(S,z)};e.n.fg.ff=function(o,P,w,x,z,S,k,f){var C=[],H=2*Math.PI/z;for(var I=0;I<z;I++)C.push(Math.cos(I*H-x),Math.sin(I*H-x));
if(k!=null){var b=e.a.w4(C),i=b.q,M=b._,T=k/(i/2),O=f/(M/2);for(var I=0;I<C.length;I+=2){C[I]=(C[I]-(b.x+i/2))*T;
C[I+1]=(C[I+1]-(b.y+M/2))*O}w=1}var Y=new ar(w,0,0,w,0,0);Y.translate(o,P);e.a.h(C,Y,C);return e.n.fg.E2(C,S)};
e.n.fg.a1X=function(o,P,w,x,z,S,k){var f=[],C=Math.PI/z;for(var I=0;I<z*2;I++){var H=(I&1)==0?1:k;f.push(H*Math.cos(I*C),H*Math.sin(I*C))}var b=new ar(w,0,0,w,0,0);
b.rotate(x);b.translate(o,P);e.a.h(f,b,f);return e.n.fg.E2(f,S)};e.n.fg.sP=function(o,P,w,x,z){return e.n.fg.b3(0,o,P,w,x,z)};
e.n.fg.asU=function(o,P,w,x,z,S){return e.n.fg.b3(1,o,P,w,x,z,S)};e.n.fg.Jk=function(o,P,w,x,z,S){return e.n.fg.b3(2,o,P,w,x,z,S)};
e.n.fg.b3=function(o,P,w,x,z,S,k){var f=Math.sqrt((x-P)*(x-P)+(z-w)*(z-w)),C;S/=2;if(o==0)C=[-S,0,S,0,S,f,-S,f];
if(o==1){var H=S*2*k*1.3/1.5,b=S*k;C=[-S,0,S,0,S,f-H,b,f-H,0,f,-b,f-H,-S,f-H]}if(o==2){var H=k[3],b=k[2]/2,i=H*(2/3)*k[4]/100,M=H-i,T=H;
C=[];if(k[0])C.push(-S,M,-b,T,0,0,b,T,S,M);else if(S==0)C.push(0,0);else C.push(-S,0,S,0);if(k[1])C.push(S,f-M,b,f-T,0,f,-b,f-T,-S,f-M);
else if(S==0)C.push(0,f);else C.push(S,f,-S,f)}var O=new ar(1,0,0,1,0,0);O.rotate(Math.atan2(-z+w,x-P)+Math.PI/2);
O.translate(P,w);e.a.h(C,O,C);return e.n.fg.E2(C,0)};e.n.fg.nT=function(o,P,w,x){var z=[{type:6},{type:8,all:0}],i=.553;
z.push({type:0,Hv:1,length:4,p_:0,xd:0,cI:1});var S=o,k=P,f=o+w,C=P+x,o=(S+f)/2,P=(k+C)/2,H=(S-f)/2,b=(k-C)/2;
z.push({type:1,Fm:new eD(o-i*H,P-b),v:new eD(o,P-b),AK:new eD(o+i*H,P-b)});z.push({type:1,Fm:new eD(o+H,P-i*b),v:new eD(o+H,P),AK:new eD(o+H,P+i*b)});
z.push({type:1,Fm:new eD(o+i*H,P+b),v:new eD(o,P+b),AK:new eD(o-i*H,P+b)});z.push({type:1,Fm:new eD(o-H,P+i*b),v:new eD(o-H,P),AK:new eD(o-H,P-i*b)});
return z};e.n.fg.atf=function(o,P,w,x,z){var S=[{type:6},{type:8,all:0}];S.push({type:3,Hv:1,length:5,p_:0,xd:0,cI:1});
var k=(z-x)/4;for(var I=0;I<5;I++){var f=I*k,C=Math.cos(f),H=Math.sin(f),b=.553*(k/(Math.PI/2)),i=H*b,M=-C*b,T=new eD(C,H);
S.push({type:4,Fm:I==0?T.clone():new eD(C+i,H+M),v:T,AK:I==4?T.clone():new eD(C-i,H-M)})}var O=new ar;
O.rotate(-x);O.scale(w,w);O.translate(o,P);e.n.G9(S,O);return S};e.lD={};e.lD.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
e.lD.ax0={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
e.lD.tN=function(o){var P=o.warpStyle.v.warpStyle;if(P=="warpNone")return!0;else if(P=="warpCylinder")return!1;
else if(P=="warpCustom"){var w=!1,x=e.lD.acY(o);for(var I=0;I<4;I++)for(var z=0;z<4;z++){var S=x[I*2]-x[(z*4+I)*2],k=x[I*4*2+1]-x[(I*4+z)*2+1];
if(S*S>1||k*k>1)w=!0}return!w}else return o.warpValue.v==0&&o.warpPerspective.v==0&&o.warpPerspectiveOther.v==0};
e.lD.aao=function(o){var P=JSON.parse(JSON.stringify(o));P.v.classID="quiltWarp";P.v.deformNumRows={t:"long",v:4};
P.v.deformNumCols={t:"long",v:4};if(P.v.customEnvelopeWarp)e.lD.a7G(P.v,[[0,1],[0,1]]);return P};e.lD.avY=function(o){var P;
if(e.lD.ft(o.v)==16)P=JSON.parse(JSON.stringify(o));else P={t:"Objc",v:e.lD.U(e.lD.q_(o.v))};P.v.classID="warp";
delete P.v.deformNumRows;delete P.v.deformNumCols;var w=P.v.customEnvelopeWarp;if(w){delete w.v.quiltSliceX;
delete w.v.quiltSliceY}return P};e.lD.ft=function(o){return o.deformNumRows.v*o.deformNumCols.v};e.lD.U=function(o){var P={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(o){P.classID="quiltWarp";P.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o._}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.q}}}};
P.uOrder={t:"long",v:4};P.vOrder={t:"long",v:4};P.deformNumRows={t:"long",v:4};P.deformNumCols={t:"long",v:4}}return P};
e.lD.ac9=function(o,P,w){for(var I=0;I<o.length;I+=2){var x=o[I],z=o[I+1],S=(1-P)/2,k=1-S,f=S+x*(k-S);
z=.5+(z-.5)*f*2;var C=(1-w)/2,H=1-C,b=C+z*(H-C);x=.5+(x-.5)*b*2;o[I]=x;o[I+1]=z}};e.lD.YD=function(o,P){return{id:o,type:"UnFl",uID:"#Pxl",arr:P}};
e.lD.a7G=function(o,P){var w=e.lD.q_(o);function x(S,k){S=S.slice(0);var f=S.length,I;for(I=0;I<f;I++)S[I]*=k;
S[0]-=.6;S[f-1]+=.6;return S}var z=o.customEnvelopeWarp.v;z.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[e.lD.YD("quiltSliceX",x(P[0],w.q))]}};
z.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[e.lD.YD("quiltSliceY",x(P[1],w._))]}}};e.lD.aE9=function(o){var P=e.lD.q_(o);
function w(k,f){k=k.slice(0);var S=k.length,I,C=1e9,H=-C;for(I=0;I<S;I++){if(k[I]<C)C=k[I];if(k[I]>H)H=k[I]}for(I=0;
I<S;I++)k[I]=(k[I]-C)/(H-C);k[0]=0;k[S-1]=1;return k}var x=o.customEnvelopeWarp.v,z=[],S=["X","Y"];for(var I=0;
I<2;I++)z.push(w(x["quiltSlice"+(I==0?"X":"Y")].v.arr[0].arr.slice(0),I==0?P.q:P._));return z};e.lD.arX=function(o,P){var w=[],x=[];
for(var I=0;I<P.length;I+=2){w.push(P[I]);x.push(P[I+1])}o.customEnvelopeWarp.v.meshPoints.v.arr=[e.lD.YD("Hrzn",w),e.lD.YD("Vrtc",x)]};
e.lD.acY=function(o){var P=[],w=o.customEnvelopeWarp.v.meshPoints.v.arr,x=w[0].arr,z=w[1].arr;for(var I=0;
I<x.length;I++)P.push(x[I],z[I]);return P};e.lD.Qc=function(o,P){var w,x=o.warpStyle.v.warpStyle;if(x=="warpCustom")w=[o.deformNumCols.v,o.deformNumRows.v,e.lD.aE9(o),e.lD.acY(o)];
else{if(P==null)P=e.lD.q_(o);if(P.Mw())P.q=P._=1;if(x=="warpCylinder"){var z=N.DH.PU(o.warpValues);w=e.lD.lD(x,z)}else{var S="warpPerspective";
w=e.lD.lD(x,o.warpValue.v/100,o.warpRotate.v.Ornt=="Hrzn",o[S].v/100,o[S+"Other"].v/100,P.q/P._)}e.lD.aFD(w[3],P)}return w};
e.lD.aFD=function(o,P){for(var I=0;I<o.length;I+=2){o[I]=P.x+o[I]*P.q;o[I+1]=P.y+o[I+1]*P._}};e.lD.ax3=function(o){var P=Math.sin(o*Math.PI/2),w=Math.pow(o,1/3.5),x=(1-o)*P+o*w;
x=Math.pow(x,1.045);var z=.1725+.0573*x,S=1-(.96*P+.04*w);S=Math.pow(S,1.27);var k=1/129+(.167684-1/129)*S;
return[z,k]};e.lD.Ng=function(o,P){o.warpStyle.v.warpStyle="warpCustom";o.deformNumCols.v=P[0];o.deformNumRows.v=P[1];
var w="customEnvelopeWarp";if(o[w]==null)o[w]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
e.lD.a7G(o,P[2]);e.lD.arX(o,P[3])};e.lD.q_=function(o){var P=o.bounds.v,w=P.Left.v.val,x=P.Rght.v.val,z=P.Top.v.val,S=P.Btom.v.val;
if(w==null){w=P.Left.v,x=P.Rght.v;z=P.Top.v,S=P.Btom.v}return new fA(w,z,x-w,S-z)};e.lD.lD=function(o,P,w,x,z,S){if(o=="warpCylinder"){var k=P,f=k[0],C=k[1],H=k[2],b=k[3],i=k[4],M=k[5],T=k[6],O=[];
for(var Y=0;Y<4;Y++)for(var U=0;U<13;U++)O.push(U/12,Y/3);var W=H-f,t=C-b,_=i*.5*(W/t),n=M*.5*(W/t),y=e.lD.ax3(T),F=[0,0,0,0,0,y[0],.5],a=[0,0,0,0,_*.42,_,_],V=[0,0,0,0,n*.42,n,n];
for(var Y=0;Y<4;Y++)for(var U=0;U<7;U++){var I=Y*13+U;O[I*2]=F[U];var D=a[U],l=1+V[U],Q=Y/3;O[I*2+1]=D*(1-Q)+l*Q}for(var Y=0;
Y<4;Y++)for(var U=0;U<6;U++){var I=Y*13+U,m=Y*13+12-U;O[m*2]=1-O[I*2];O[m*2+1]=O[I*2+1]}var Q=y[1];return[13,4,[[0,Q,.5,1-Q,1],[0,1]],O]}var R=e.V0.U(0,0,1,1);
if(o!="warpNone"){if(!w)S=1/S;e.lD.asC(R,o,P,x,z,S);var $=R.slice(0);if(!w)for(var Y=0;Y<4;Y++)for(var U=0;
U<4;U++){R[(Y*4+U)*2]=$[(U*4+Y)*2+1];R[(Y*4+U)*2+1]=$[(U*4+Y)*2]}if(P==0)e.lD.ac9(R,x,z);else{var p=new ar;
p.translate(-.5,-.5);e.a.h(R,p,R);e.lD.a2i(R,z,x);p.Sd();e.a.h(R,p,R)}}return[4,4,[[0,1],[0,1]],R]};
e.lD.asC=function(o,P,w,x,z,S){var k=new fA(0,0,S,1);for(var I=0;I<o.length;I+=2)o[I]*=S;for(var I=0;
I<4;I++){for(var f=0;f<4;f++){var C=2*(4*I+f),H=o[C]-k.x,b=o[C+1]-k.y,i=H,M=b;if(w!=0){var T=k.q/2,O=k._/2;
i-=T;M-=O;var Y=i,U=i,W=-O,t=O,_=Math.abs(w),n=Math.tan((1-_)*Math.PI/2),y=Math.sqrt(n*n+1),F=Math.atan2(1,n),a=i/T*F,V=T*y,D=T*y+k._,l=Math.cos(F),Q=Math.sin(F),m=e.lD.aHn(l,Q),R=e.lD.axe(l,Q),$=-n*T+m*V;
if(P=="warpArc"){Y=Math.sin(a)*D;W=n*T-Math.cos(F)*D+O;U=Math.sin(a)*V;t=n*T-Math.cos(F)*V+O;if(f==1||f==2){Y=f==1?-R*D:R*D;
U=f==1?-R*V:R*V;W=n*T+O-m*D;t=n*T+O-m*V}if(w<0){var p=Y;Y=U;U=p;p=W;W=-t;t=-p}}if(P=="warpArcLower"){if(f==1||f==2){U=f==1?-R*V:R*V;
t=w<0?O-$:O+$}}if(P=="warpArcUpper"||P=="warpArch"||P=="warpBulge"){if(f==1||f==2){Y=f==1?-R*V:R*V;W=w<0?-O+$:-O-$}if(P=="warpArch"){U=Y;
t=W+2*O}if(P=="warpBulge"){U=Y;t=-W}}if(P=="warpFish"||P=="warpFlag"||P=="warpWave"){var c=f;if(P=="warpFlag")c=3-f;
if(c==1){W-=w*4*O;t+=w*4*O}if(c==2){W+=w*4*O;t-=w*4*O}if(P=="warpFlag"||P=="warpWave")W=t-2*O}if(P=="warpRise"){if(f<2)W=-O+w*O*4;
t=W+2*O}var B=(M+O)/k._;i=Y+B*(U-Y);M=W+B*(t-W);if(P=="warpWave"){if(I==0)M=-O;if(I==3)M=O;if(I==1||I==2)M=2*O*(I/3-.5)*(1/3)+M*(2/3)}if(P=="warpFisheye"){if((I==1||I==2)&&(f==1||f==2)){i=i+4*i*w;
M=M+4*M*w}}if(P=="warpInflate"){var Z=2/3;if((I==1||I==2)&&(f==1||f==2)){i=i+.5*i*w;M=M+.5*M*w}else if(I==1||I==2)i=i+Z*i*w;
else if(f==1||f==2)M=M+Z*M*w}if(P=="warpSqueeze"){var Z=2/3;if((I==1||I==2)&&(f==1||f==2)){if(w>0)i=i-Z*i*w;
else M=M+Z*M*w}else if(I==1||I==2)i=i-Z*i*w;else if(f==1||f==2)M=M+Z*M*w}if(P=="warpTwist"){if((I==1||I==2)&&(f==1||f==2)){var v=w*Math.PI/2,y=1+Math.abs(w)*2,E=i*Math.cos(v)-M*Math.sin(v),g=i*Math.sin(v)+M*Math.cos(v);
i=E*y;M=g*y}}if(P=="warpShellLower"||P=="warpShellUpper"){if(P=="warpShellUpper"){I=3-I;M=-M}if(I>2||I==2&&(f==0||f==3)){if(w>0){var u=V+I/3*2*O;
i=Math.sin(a)*u;M=-n*T-O+Math.cos(a)*u;if(f==1||f==2){i=f==1?-R*u:R*u;M=-n*T-O+m*u}}else{if((f==1||f==2)&&I==3){i=f==1?-R*V:R*V;
M=n*T-m*V+O}else if(I==2){M=O-O*(2/3)*Math.cos(a);i=i+O*(2/3)*Math.sin(a)}}}if(P=="warpShellUpper"){I=3-I;
M=-M}}i+=T;M+=O}H=i,b=M;o[C]=H+k.x;o[C+1]=b+k.y}}for(var I=0;I<o.length;I+=2)o[I]/=S};e.lD.a2i=function(o,P,w){var x=[];
for(var z=0;z<4;z++)x.push(1-w+z/3*2*w);var S=[];for(var z=0;z<4;z++)S.push(1-P+z/3*2*P);var k=[0,0,0,0],f=[0,0,0,0];
for(var I=0;I<4;I++)for(var z=0;z<4;z++){var C=2*(4*I+z),H=o[C],b=o[C+1];k[z]+=H/4;f[z]+=b/4}for(var I=0;
I<4;I++)for(var z=0;z<4;z++){var i=x[z],C=2*(4*I+z),H=o[C],b=o[C+1],M=k[z],T=f[z];o[C]=M+i*(H-M);o[C+1]=T+i*(b-T)}var O=o.slice(0);
for(var I=0;I<4;I++)for(var z=1;z<3;z++){var C=2*(4*I+z),H=o[C],b=o[C+1],Y=C+(z==1?-2:2),U=o[Y],W=o[Y+1];
o[C]=H-U;o[C+1]=b-W}var t=o[0],_=o[1],n=o[8],y=o[9],F=o[16],a=o[17],V=o[24],D=o[25],l=o[6],Q=o[7],m=o[14],R=o[15],$=o[22],p=o[23],c=o[30],B=o[31],Z=l-t,v=Q-_,E=m-n,g=R-y,u=$-F,j=p-a,A=c-V,K=B-D;
for(var I=0;I<4;I++){var s=2*I*4,r=0,h=0,jC=I==1?.33:.66,d=1-jC;if(I==0){r=Z;h=v}if(I==1){r=d*Z+jC*-A;
h=d*v+jC*-K}if(I==2){r=d*Z+jC*-A;h=d*v+jC*-K}if(I==3){r=-A;h=-K}o[s]=o[s]+r/2;o[s+1]=o[s+1]+h/2;o[s+6]=o[s+6]-r/2;
o[s+7]=o[s+7]-h/2}for(var I=0;I<4;I++)for(var z=1;z<3;z++){var C=2*(4*I+z),H=o[C],b=o[C+1],Y=C+(z==1?-2:2),U=o[Y],W=o[Y+1],i=2*I/3;
o[C]=U+i*H;o[C+1]=W+i*b}for(var I=1;I<3;I++)for(var z=1;z<3;z++){var C=2*(4*I+z),H=o[C],b=o[C+1],q=I==1?-8:-16,hc=I==1?16:8,dk=o[C+q],c6=o[C+q+1],e3=o[C+hc],ks=o[C+hc+1],i=I/3;
H=(1-i)*dk+i*e3;b=(1-i)*c6+i*ks;o[C]=H;o[C+1]=b}e.a.acQ(O,o,o,P)};e.lD.aHn=function(o,P){return(4-o)*(1/3)};
e.lD.axe=function(o,P){return(1-o)*(3-o)/(3*P)};e.p4={};e.p4.amD=function(o,P,w,x,z,S,k,f,C,H){for(var b=0;
b<f;b++)for(var i=0;i<k;i++){var M=3*(b*k+i),T=b+S,O=i+z,Y=o[T*P+O];x[M]=Y;x[M+1]=Y;x[M+2]=Y}};e.p4.od=function(o,P,w,x,z,S,k,f,C,H){var b=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],i=1/C,M=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],T=new Uint32Array(6);
for(var O=0;O<f;O++){for(var Y=0;Y<k;Y++){var U=3*(O*k+Y),W=O+S,t=Y+z;T[0]=0;T[1]=0;T[2]=0;T[3]=0;T[4]=0;
T[5]=0;for(var I=0;I<16;I+=2){var _=t+M[I],n=W+M[I+1],y=_-C*~~(_*i),F=n-C*~~(n*i),a=H[F*C+y];T[a]+=o[n*P+_];
T[a+3]++}var _=t,n=W,y=_-C*~~(_*i),F=n-C*~~(n*i),a=H[F*C+y];T[a]=o[W*P+t];T[a+3]=1;x[U]=T[0]*b[T[3]];
x[U+1]=T[1]*b[T[4]];x[U+2]=T[2]*b[T[5]]}}};e.p4.a5_=function(o,P,w){for(var I=0;I<w;I+=2)o[P+I]=o[P+I+1];
P=P+w;for(var I=0;I<w;I+=2)o[P+I+1]=o[P+I]};e.p4.a4t=function(o,P,w,x){for(var I=0;I<x;I+=2){var z=P+I*w;
o[z]=o[z+w];o[z+w+1]=o[z+1]}};e.p4.a2T=function(o,P,w,x,z,S){var k=x[z],f=x[z+1],C=x[S],H=x[S+1],b=f+C>>>1;
o[P]=o[P+3]=o[w]=o[w+3]=k;o[P+1]=b;o[P+4]=f;o[w+1]=C;o[w+4]=b;o[P+2]=o[P+5]=o[w+2]=o[w+5]=H};e.p4.ayc=function(o,P,w,x,z,S){var k=S*3;
for(var I=0;I<S;I+=2){var f=P+I,C=z+I*3;e.p4.a2T(x,C,C+k,o,f,f+w)}};e.p4.adg=function(o,P,w,x,z,S,k){var f=S*3;
for(var I=0;I<k;I+=2){var C=P+I*w,H=z+I*S*3;e.p4.a2T(x,H,H+f,o,C,C+w)}};e.p4.ajQ=function(o,I,P){var w=o[I-P-P],x=o[I-P],z=o[I-2],S=o[I-1],k=o[I],f=o[I+1],C=o[I+2],H=o[I+P],b=o[I+P+P],i=Math.abs(x-H),M=Math.abs(S-f),T=Math.abs(k-w)*2+i,O=Math.abs(k-C)*2+M,Y=Math.abs(k-z)*2+M,U=Math.abs(k-b)*2+i,W=Math.min(T,Math.min(O,Math.min(Y,U)));
if(W==T)return x*3+H+k-w>>2;if(W==O)return f*3+S+k-C>>2;if(W==Y)return S*3+f+k-z>>2;return H*3+x+k-b>>2};
e.p4.J6=function(o,P,w,x,z){if(o<P&&P<w||o>P&&P>w)return~~(.5+x+(z-x)*(P-o)/(w-o));else return(x+z>>1)+(P+P-o-w>>2)};
e.p4.auY=function(o,P,I,w){var x=P[I-w-1],z=P[I-w+1],S=P[I],k=P[I+w-1],f=P[I+w+1],C=o[I-w-1],H=o[I-w+1],b=o[I],i=o[I+w-1],M=o[I+w+1],T=Math.abs(H-i)+Math.abs(o[I-w-w+2]-b)+Math.abs(b-o[I+w+w-2])+Math.abs(z-S)+Math.abs(S-k),O=Math.abs(C-M)+Math.abs(o[I-w-w-2]-b)+Math.abs(b-o[I+w+w+2])+Math.abs(x-S)+Math.abs(S-f);
if(T<O)return e.p4.J6(z,S,k,H,i);else return e.p4.J6(x,S,f,C,M)};e.p4.Al=function(o,P,w,x,z,S){o[P+0]=w[z];
o[P+1]=x[z];o[P+2]=e.p4.auY(w,x,z,S)};e.p4.kh=function(o,P,w,x,z,S){var k=x[z];o[P+0]=e.p4.J6(x[z-1],k,x[z+1],w[z-1],w[z+1]);
o[P+1]=k;o[P+2]=e.p4.J6(x[z-S],k,x[z+S],w[z-S],w[z+S])};e.p4.l$=function(o,P,w,x,z,S){var k=x[z];o[P+0]=e.p4.J6(x[z-S],k,x[z+S],w[z-S],w[z+S]);
o[P+1]=k;o[P+2]=e.p4.J6(x[z-1],k,x[z+1],w[z-1],w[z+1])};e.p4.Is=function(o,P,w,x,z,S){o[P+0]=e.p4.auY(w,x,z,S);
o[P+1]=x[z];o[P+2]=w[z]};e.p4.avA=function(o,P,w,x,z,S,k,f,C){var H=Date.now(),b=2,i=P-2,M=2;if((z&1)==1){b++;
i--}var T=w-2;if((S&1)==1){M++;T--}if(C==1||C==3){b++;i--}var O=o.slice(0);e.p4.a5_(O,0,P);e.p4.a4t(O,0,P,w);
e.p4.a4t(O,P-2,P,w);e.p4.a5_(O,(w-2)*P,P);for(var Y=M;Y<T;Y+=2)for(var U=b;U<i;U+=2){var I=Y*P+U,W=e.p4.ajQ(O,I,P),t=e.p4.ajQ(O,I+P+1,P);
O[I]=Math.max(0,W);O[I+P+1]=Math.max(0,t)}var _=k,n=f;if(S+f==w){n-=2;e.p4.ayc(o,(w-2)*P+z,P,x,(f-2)*k*3,k)}if(z+k==P){_-=2;
e.p4.adg(o,S*P+z+k-2,P,x,(k-2)*3,k,f)}if(C==0)for(var Y=0;Y<n;Y+=2)for(var U=0;U<_;U+=2){var y=(Y+S)*P+U+z,F=(Y*k+U)*3;
e.p4.Al(x,F,o,O,y,P);e.p4.kh(x,F+3,o,O,y+1,P);y+=P;F+=3*k;e.p4.l$(x,F,o,O,y,P);e.p4.Is(x,F+3,o,O,y+1,P)}else if(C==1)for(var Y=0;
Y<n;Y+=2)for(var U=0;U<_;U+=2){var y=(Y+S)*P+U+z,F=(Y*k+U)*3;e.p4.kh(x,F,o,O,y,P);e.p4.Al(x,F+3,o,O,y+1,P);
y+=P;F+=3*k;e.p4.Is(x,F,o,O,y,P);e.p4.l$(x,F+3,o,O,y+1,P)}else if(C==2)for(var Y=0;Y<n;Y+=2)for(var U=0;
U<_;U+=2){var y=(Y+S)*P+U+z,F=(Y*k+U)*3;e.p4.Is(x,F,o,O,y,P);e.p4.l$(x,F+3,o,O,y+1,P);y+=P;F+=3*k;e.p4.kh(x,F,o,O,y,P);
e.p4.Al(x,F+3,o,O,y+1,P)}else if(C==3)for(var Y=0;Y<n;Y+=2)for(var U=0;U<_;U+=2){var y=(Y+S)*P+U+z,F=(Y*k+U)*3;
e.p4.l$(x,F,o,O,y,P);e.p4.Is(x,F+3,o,O,y+1,P);y+=P;F+=3*k;e.p4.Al(x,F,o,O,y,P);e.p4.kh(x,F+3,o,O,y+1,P)}};
e.raw={};e.raw.ask=function(o){var P=Date.now(),w=o.width,x=o.height,z=0,S=0,k=w,f=x;if(o.t50829){var C=o.t50829;
z=C[1];S=C[0];k=C[3];f=C[2]}if(o.t50720&&o.t50720[0]*1.2>w){if(o.t50719){var H=o.t50719;z+=H[0]>>1<<1;
S+=H[1]>>1<<1}if(o.t50720){var b=o.t50720;k=z+b[0];f=S+b[1]}}var i=k-z,M=f-S,T=e.raw.aoL(o),O=o.t33422,Y=o.t33421;
if(Y){var b=Y[0],U=O.slice(0);for(var W=0;W<b;W++)for(var t=0;t<b;t++){var _=(t+(z&1))%b,n=(W+(S&1))%b;
U[W*b+t]=O[n*b+_]}O=U}if(o.t277[0]==1&&O)e.raw.apd(T,w,x,o,O);e.raw.FC(2,o,T,w,x);var y=new Float32Array(i*M*3);
if(o.t277[0]==1){if(Y==null){e.p4.amD(T,w,x,y,z,S,i,M)}else if(Y.length!=2||Y[0]!=2||Y[1]!=2){console.log("Unknown CFA pattern size",Y);
e.p4.od(T,w,x,y,z,S,i,M,Y[0],O)}else{var F=o.t33422.join(","),a=0;if(F=="0,1,1,2")a=0;else if(F=="1,0,2,1")a=1;
else if(F=="2,1,1,0")a=2;else if(F=="1,2,0,1")a=3;else throw"Unknown CFA pattern "+F;if((i&1)!=0||(M&1)!=0)throw"e";
e.p4.avA(T,w,x,y,z,S,i,M,a)}}else{for(var W=0;W<M;W++)for(var t=0;t<i;t++){var V=((W+S)*w+t+z)*3,D=(W*i+t)*3;
y[D+0]=T[V+0];y[D+1]=T[V+1];y[D+2]=T[V+2]}}var l=y,Q=y.length,m=e.raw.bI(o),R=1/m;for(var I=0;I<Q;I+=3){y[I]=l[I]*R;
y[I+1]=l[I+1]*R;y[I+2]=l[I+2]*R}e.raw.FC(3,o,y,i,M);var $=o.Xl,p=i,c=M;if($==1||$==9){}else{var B=e.raw.adf($,i,M),D=0;
p=B[0];c=B[1];var Z=y.slice(0);for(var W=0;W<c;W++)for(var t=0;t<p;t++){var v=B[2]*t+B[3]*W+B[4],E=B[5]*t+B[6]*W+B[7],V=(E*i+v)*3;
y[D]=Z[V];y[D+1]=Z[V+1];y[D+2]=Z[V+2];D+=3}}return{eD:y,Ts:p,ZP:c}};e.raw.adf=function(o,P,w){var x=P,z=w;
if(!1){}else if(o==2)return[P,w,-1,0,P-1,0,1,0];else if(o==3)return[P,w,-1,0,P-1,0,-1,w-1];else if(o==4)return[P,w,1,0,0,0,-1,w-1];
else if(o==5)return[w,P,0,1,0,1,0,0];else if(o==6)return[w,P,0,1,0,-1,0,w-1];else if(o==7)return[w,P,0,-1,P-1,-1,0,w-1];
else if(o==8)return[w,P,0,-1,P-1,1,0,0];else throw"unknown orientation "+o};e.raw.apd=function(o,P,w,x,z){var S=Date.now(),R=0,c=0;
if(e.raw.bI(x)>4e4){for(var I=0;I<o.length;I++)o[I]>>=1;var k=["t50714","t50715","t50712","t50717"];
for(var I=0;I<k.length;I++){var f=x[k[I]];if(f)for(var C=0;C<f.length;C++)f[C]>>>=1}console.log("remapping to lower bit depth")}var H=~~Math.sqrt(z.length),b=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],i=[];
for(var M=0;M<H;M++)for(var T=0;T<H;T++){var I=M*H+T,O=z[I],Y=4,U=4,W=8,t=0,_=0;for(var C=0;C<18;C+=2){var n=(H+T+b[C])%H,y=(H+M+b[C+1])%H,F=z[y*H+n];
if(F==O){}else if(Y==4){Y=F;t=C}else if(U==4&&F!=Y){U=F;_=C;break}}if(U<Y){var a=U;U=Y;Y=a;a=_;_=t;t=a}if(Y<O){var a=Y;
Y=O;O=a;a=t;t=W;W=a}if(U<Y){var a=U;U=Y;Y=a;a=_;_=t;t=a}i[I*3]=b[W+1]*P+b[W];i[I*3+1]=b[t+1]*P+b[t];
i[I*3+2]=b[_+1]*P+b[_]}var V=~~(.996*e.raw.bI(x)),D=~~(.992*e.raw.bI(x)),l=x.t50728;if(l==null||l[0]==0)l=[1,1,1];
var Q=[],m=[0,0,0];for(var M=1;M<w-1;M++)for(var T=1;T<P-1;T++){var I=M*P+T,$=M%H*H+T%H,O=o[I+i[$*3+0]],Y=o[I+i[$*3+1]],U=o[I+i[$*3+2]],p=Math.max(O,Y,U);
if(p>V)Q.push(I);else if(p>D){m[0]+=O;m[1]+=Y;m[2]+=U;R++}}if(Q.length==0)return;if(R/(P*w)<1e-5){console.log("not enough semi-saturated pixels",R);
m=l}if(m[1]<m[c])c=1;if(m[2]<m[c])c=2;var B=[m[0]/m[c],m[1]/m[c],m[2]/m[c]],Z=o.slice(0);for(var v=0;
v<Q.length;v++){var I=Q[v],M=~~(I/P),T=I-M*P,$=M%H*H+T%H,E=Math.min(65535,~~(o[I+i[$*3+c]]*B[z[$]]));
if(E>Z[I])Z[I]=E}o.set(Z)};e.raw.iJ=function(o,P,w,x){var z=Math.round(o.length/3),S=cO.BF(x[0],x[1]),k=e.raw.aiu(w,S),f=e.ww.multiply(e.ww.tr,k),C=Math.pow(2,w.t50730?w.t50730[0]:0);
f=e.ww.multiply(f,e.ww.Bj(C,C,C));var H=e.raw.iJ.adq;if(H==null){H=e.raw.iJ.adq=new Float64Array(8e3);
for(var I=0;I<8e3;I++)H[I]=e.Yd(I*(1/1e3))}for(var I=0;I<z;I++){var b=I<<2,i=b-I,M=o[i],T=o[i+1],O=o[i+2],Y=f[0]*M+f[1]*T+f[2]*O,U=f[4]*M+f[5]*T+f[6]*O,W=f[8]*M+f[9]*T+f[10]*O;
if(Y<0)Y=0;if(U<0)U=0;if(W<0)W=0;P[i]=H[~~(Y*1e3)];P[i+1]=H[~~(U*1e3)];P[i+2]=H[~~(W*1e3)]}};e.raw.aoL=function(o){var P=o.width,w=o.height,x=P*w*o.t277,z=new Uint16Array(x),S=null,k=0;
e.raw.aFb(o,z);e.raw.FC(1,o,z,P,w);if(o.t50712){S=o.t50712;k=S.length-1;if(S[k]>65535)throw"too big values"}var f=e.raw.a8S(o),C=e.raw.aqh(o);
if(S==null)for(var I=0;I<x;I++)z[I]=Math.max(0,z[I]-f);else for(var I=0;I<x;I++){var H=z[I];if(H>k)H=k;
H=S[H];z[I]=Math.max(0,H-f)}return z};e.raw.a8S=function(o){var P=o.t50714,w=P?P[0]:0,x=o.t50715,z=o.t50716;
if(x)w+=x[0][0]/x[0][1];if(z)w+=z[0][0]/z[0][1];return Math.round(w)};e.raw.aqh=function(o){var P=null,w=0;
if(o.t50712){P=o.t50712;w=P.length-1}var x=o.t50717?o.t50717[0]:(1<<o.t258[0])-1;if(P)x=Math.min(x,P[w]);
return x};e.raw.bI=function(o){var P=e.raw.a8S(o),w=e.raw.aqh(o);return w-P};e.raw.aFb=function(o,P){var w=P.length,x=o.data,z=o.t258[0];
if(z!=16&&z!=14&&z!=12&&z!=10&&z!=8)throw"Unsupported Bits Per Sample:"+z;z=Math.round(x.length*8/w);
if(z==16&&o.isLE){e.L9(x,P);return}for(var I=0;I<w;I+=2){var S=0,k=0,f=0;if(z==16){S=I<<1;k=x[S]<<8|x[S+1];
f=x[S+2]<<8|x[S+3]}else if(z==14){var C=I*14,H=C>>>3,b=x[H]<<24|x[H+1]<<16|x[H+2]<<8|x[H+3];if((C&7)==0){k=b>>>18;
f=b>>>4&16383}else{k=b>>>14&16383;f=b&16383}}else if(z==12){S=I+(I>>>1);k=x[S]<<4|x[S+1]>>4;f=(x[S+1]&15)<<8|x[S+2]}else if(z==10){var C=I*10,H=C>>>3;
if((C&7)==0){k=(x[H]<<2|x[H+1]>>6)&1023;f=(x[H+1]<<4|x[H+2]>>4)&1023}else{k=(x[H]<<6|x[H+1]>>2)&1023;
f=(x[H+1]<<8|x[H+2]>>0)&1023}}else if(z==8){S=I;k=x[S];f=x[S+1]}P[I]=k;P[I+1]=f}};e.raw.a2Y=function(o,P,w,x,z,S,k){var f=o-.499999,C=P-.499999,H=~~f,b=~~C,i=f-H,M=C-b,T=(1-M)*(1-i),O=(1-M)*i,Y=M*(1-i),U=M*i,W=(b*x+H)*3,t=((b+1)*x+H)*3,_=T*w[W]+O*w[W+3]+Y*w[t]+U*w[t+3],n=T*w[W+1]+O*w[W+4]+Y*w[t+1]+U*w[t+4],y=T*w[W+2]+O*w[W+5]+Y*w[t+2]+U*w[t+5];
S[k]=_;S[k+1]=n;S[k+2]=y};e.raw.FC=function(o,P,w,x,z){var S=P["t"+[51008,51009,51022][o-1]],b=0;if(S==null)return;
var k=x*z,f=L.RS,C=L.Xv,H=new Uint8Array(S),dY=L.RS(H,b);b+=4;for(var i=0;i<dY;i++){var M=f(H,b);b+=4;
var T=f(H,b);b+=4;var O=f(H,b);b+=4;var Y=f(H,b);b+=4;if(!1){}else if(M==1&&o==3){var U=b,W=f(H,U);U+=4;
var t=C(H,U);U+=8;var _=C(H,U);U+=8;var n=C(H,U);U+=8;var y=C(H,U);U+=8;var F=C(H,U);U+=8;var a=C(H,U);
U+=8;U+=(W-1)*8*6;var V=C(H,U);U+=8;var D=C(H,U);U+=8;var l=V*x,Q=D*z,m=Math.max(l,x-l),R=Math.max(Q,z-Q),$=Math.sqrt(m*m+R*R),p=1/$,c=w.slice(0);
for(var B=0;B<z;B++)for(var Z=0;Z<x;Z++){var v=(Z+.5-l)*p,E=(B+.5-Q)*p,g=v*v+E*E,u=t+_*g+n*(g*g)+y*(g*g)*g,j=F*(2*v*E)+a*(g+2*v*v),A=a*(2*v*E)+F*(g+2*E*E),K=Math.min(l+$*(u*v+j),x-1),s=Math.min(Q+$*(u*E+A),z-1),r=(B*x+Z)*3;
e.raw.a2Y(K,s,c,x,z,w,r)}}else if(M==3&&o==3){var U=b,h=C(H,U);U+=8;var jC=C(H,U);U+=8;var d=C(H,U);
U+=8;var q=C(H,U);U+=8;var hc=C(H,U);U+=8;var V=C(H,U);U+=8;var D=C(H,U);U+=8;var l=V*x,Q=D*z,m=Math.max(l,x-l),R=Math.max(Q,z-Q),$=Math.sqrt(m*m+R*R),p=1/$;
for(var B=0;B<z;B++)for(var Z=0;Z<x;Z++){var v=(Z+.5-l)*p,E=(B+.5-Q)*p,g=v*v+E*E,dk=1+(h+(jC+(d+(q+hc*g)*g)*g)*g)*g,r=(B*x+Z)*3;
w[r]=dk*w[r];w[r+1]=dk*w[r+1];w[r+2]=dk*w[r+2]}}else if(M==4&&o==1){var U=b,c6=f(H,U);U+=4;var e3=f(H,U);
U+=4;for(var I=0;I<k;I++)if(w[I]==c6)w[I]=w[I-2]+w[I+2]>>1}else if(M==5&&o==1){var U=b,ks=f(H,U);U+=4;
var cH=f(H,U);U+=4;var bI=f(H,U);U+=4;for(var I=0;I<cH;I++){var aR=f(H,U);U+=4;var ak=f(H,U);U+=4;var I=aR*x+ak;
w[I]=w[I-2]+w[I+2]>>1}}else if(M==7&&o==1){var U=b,cN=L.Wi(H,U);U+=16;var gC=f(H,U);U+=4;var bD=f(H,U);
U+=4;var cu=f(H,U),du=f(H,U+4);U+=8;var bq=f(H,U);U+=4;var hn=new Uint16Array(bq);for(var I=0;I<bq;I++)hn[I]=L.Vp(H,U+2*I);
var aK=cN.q,cQ=cN._;for(var B=0;B<cQ;B+=cu)for(var Z=0;Z<aK;Z+=du){var I=(cN.y+B)*x+(cN.x+Z);w[I]=hn[w[I]]}}else if(M==8&&o==2){var U=b,cN=L.Wi(H,U);
U+=16;var gC=f(H,U);U+=4;var bD=f(H,U);U+=4;var cu=f(H,U),du=f(H,U+4);U+=8;var jR=f(H,U);U+=4;var ch=[];
for(var I=0;I<=jR;I++)ch[I]=L.Xv(H,U+I*8);var bx=cN.x,jf=cN.x+cN.q,dW=cN.y,bf=cN.y+cN._,iu=P.t50717[0],dV=1/iu;
for(var gb=0;gb<bD;gb++)for(var B=dW;B<bf;B+=cu){var r=3*B*x+gC+gb;for(var Z=bx;Z<jf;Z+=du){var I=r+3*Z,gP=w[I]*dV,eJ=ch[jR];
for(var c1=jR;c1>0;c1--)eJ=eJ*gP+ch[c1-1];w[I]=Math.max(0,Math.min(65535,~~(eJ*iu)))}}}else if(M==9&&o==2){var U=b,cN=L.Wi(H,U),aO=!0;
U+=16;var gC=f(H,U);U+=4;var bD=f(H,U);U+=4;var cu=f(H,U),du=f(H,U+4);U+=8;var ku=f(H,U),aC=f(H,U+4);
U+=8;var gU=C(H,U),hR=C(H,U+8);U+=16;var a7=C(H,U),dh=C(H,U+8);U+=16;var eS=f(H,U);U+=4;if(eS!=1)throw"more than one map plane";
var d0=ku*aC,cJ=new Float32Array(d0);for(var c1=0;c1<d0;c1++)cJ[c1]=L.Ki(H,U+c1*4);for(var c1=0;c1<d0;
c1++)if(cJ[c1]!=1)aO=!1;if(!aO){var aK=cN.q,cQ=cN._,a9=.9999*(aC-1)/aK,ac=.9999*(ku-1)/cQ;for(var B=0;
B<cQ;B+=cu)for(var Z=0;Z<aK;Z+=du){var I=(cN.y+B)*x+(cN.x+Z),e7=Z*a9,b2=B*ac,jQ=Math.floor(e7),g9=Math.floor(b2),cx=e7-jQ,i8=b2-g9,r=g9*aC+jQ,fw=cJ[r]*(1-cx)+cJ[r+1]*cx,hi=cJ[r+aC]*(1-cx)+cJ[r+1+aC]*cx,dU=fw*(1-i8)+hi*i8;
w[I]=Math.max(0,Math.min(65535,~~(w[I]*dU+.5)))}}}else console.log("Unknown opcode "+M+" in OpcodeList"+o+". Length: "+Y);
b+=Y}};e.raw.aiu=function(o,P){var w=cO.Gp(P),x=e.raw.a9T(o,P),z=e.ww.Sd(x),S=cO.aiL(w,cO.Gp(cO.aaf)),k=e.ww.multiply(S,z);
return k};e.raw.a3J=function(o){var P=o.t50728,z=1;if(P==null||P[0]==0)P=[1,1,1];var w=P.slice(0);w.push(0);
var x={x:.34567,y:.3585};do{var S=e.ww.Sd(e.raw.a9T(o,x)),k=e.ww.tM(S,w),f=cO.aDE(k);z=Math.abs(x.x-f.x)+Math.abs(x.y-f.y);
x=f}while(z>1e-7);return x};e.raw.a9T=function(o,P){var w=cO.aBt(P),x=e.raw.akZ,z=o.t50778?o.t50778[0]:0,S=o.t50779?o.t50779[0]:0,k=o.t50723,f=o.t50724;
if(k&&k.length==3)k=null;if(f&&f.length==3)f=null;var C=x(o.t50721,o.t50722,z,S,w.Fk),H=x(k,f,z,S,w.Fk);
C=C||[1,0,0,0,1,0,0,0,1];H=H||[1,0,0,0,1,0,0,0,1];var b=o.t50727?[o.t50727[0],0,0,0,o.t50727[1],0,0,0,o.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return e.ww.multiply(e.ww.Jg(b),e.ww.multiply(e.ww.Jg(H),e.ww.Jg(C)))};e.raw.akZ=function(o,P,w,x,z){if(!o&&!P){return null}else if(o&&!P){return o}else if(z<w){return o}else if(z>x){return P}else{var S=(1/z-1/x)/(1/w-1/x),k=1-S,f=[];
for(var I=0;I<9;I++)f[I]=o[I]*S+P[I]*k;return f}};var cO={};cO.aaf={x:.34567,y:.3585};cO.a40=[{$:0,Zu:.18006,IN:.26352,S$:-.24341},{$:10,Zu:.18066,IN:.26589,S$:-.25479},{$:20,Zu:.18133,IN:.26846,S$:-.26876},{$:30,Zu:.18208,IN:.27119,S$:-.28539},{$:40,Zu:.18293,IN:.27407,S$:-.3047},{$:50,Zu:.18388,IN:.27709,S$:-.32675},{$:60,Zu:.18494,IN:.28021,S$:-.35156},{$:70,Zu:.18611,IN:.28342,S$:-.37915},{$:80,Zu:.1874,IN:.28668,S$:-.40955},{$:90,Zu:.1888,IN:.28997,S$:-.44278},{$:100,Zu:.19032,IN:.29326,S$:-.47888},{$:125,Zu:.19462,IN:.30141,S$:-.58204},{$:150,Zu:.19962,IN:.30921,S$:-.70471},{$:175,Zu:.20525,IN:.31647,S$:-.84901},{$:200,Zu:.21142,IN:.32312,S$:-1.0182},{$:225,Zu:.21807,IN:.32909,S$:-1.2168},{$:250,Zu:.22511,IN:.33439,S$:-1.4512},{$:275,Zu:.23247,IN:.33904,S$:-1.7298},{$:300,Zu:.2401,IN:.34308,S$:-2.0637},{$:325,Zu:.24792,IN:.34655,S$:-2.4681},{$:350,Zu:.25591,IN:.34951,S$:-2.9641},{$:375,Zu:.264,IN:.352,S$:-3.5814},{$:400,Zu:.27218,IN:.35407,S$:-4.3633},{$:425,Zu:.28039,IN:.35577,S$:-5.3762},{$:450,Zu:.28863,IN:.35714,S$:-6.7262},{$:475,Zu:.29685,IN:.35823,S$:-8.5955},{$:500,Zu:.30505,IN:.35907,S$:-11.324},{$:525,Zu:.3132,IN:.35968,S$:-15.628},{$:550,Zu:.32129,IN:.36011,S$:-23.325},{$:575,Zu:.32931,IN:.36038,S$:-40.77},{$:600,Zu:.33724,IN:.36051,S$:-116.45}];
cO.aBt=function(o){var P=cO.a40,w=2*o.x/(1.5-o.x+6*o.y),x=3*o.y/(1.5-o.x+6*o.y),z=0,S=0,k=0;for(;k<31;
k++){z=x-P[k].IN-P[k].S$*(w-P[k].Zu);if(k>0&&z<0){break}S=z}while(k>=P.length)k--;z/=Math.sqrt(1+P[k].S$*P[k].S$);
S/=Math.sqrt(1+P[k-1].S$*P[k-1].S$);var f=S/(S-z),C=1e6/((P[k].$-P[k-1].$)*f+P[k-1].$),H=w-((P[k].Zu-P[k-1].Zu)*f+P[k-1].Zu),b=x-((P[k].IN-P[k-1].IN)*f+P[k-1].IN),i=Math.sqrt(1+P[k].S$*P[k].S$),M=1/i,T=P[k].S$/i,O=Math.sqrt(1+P[k-1].S$*P[k-1].S$),Y=1/O,U=P[k-1].S$/O,W=(M-Y)*f+Y,t=(T-U)*f+U,_=Math.sqrt(W*W+t*t);
W/=_;t/=_;var n=(H*W+b*t)*-3e3;return{Fk:C,r6:n}};cO.BF=function(o,P){var w=cO.a40,x=1e6/o,z=1;for(;
z<31;z++){if(x<w[z].$){break}}var S=(w[z].$-x)/(w[z].$-w[z-1].$),k=(w[z-1].Zu-w[z].Zu)*S+w[z].Zu,f=(w[z-1].IN-w[z].IN)*S+w[z].IN,C=Math.sqrt(1+w[z].S$*w[z].S$),H=1/C,b=w[z].S$/C,i=Math.sqrt(1+w[z-1].S$*w[z-1].S$),M=1/i,T=w[z-1].S$/i,O=(M-H)*S+H,Y=(T-b)*S+b,U=Math.sqrt(O*O+Y*Y);
O/=U;Y/=U;k+=O*P/-3e3;f+=Y*P/-3e3;return{x:1.5*k/(k-4*f+2),y:f/(k-4*f+2)}};cO.aDE=function(o){var P=o[0]+o[1]+o[2];
return{x:o[0]/P,y:o[1]/P}};cO.Gp=function(o){return{x:o.x/o.y,y:1,af:(1-o.x-o.y)/o.y}};cO.aiL=function(o,P){var w=e.ww.Jg([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),x=[o.x,o.y,o.af,0],z=[P.x,P.y,P.af,0];
x=e.ww.tM(w,x);z=e.ww.tM(w,z);var S=z[0]/x[0],k=z[1]/x[1],f=z[2]/x[2],C=e.ww.Jg([S,0,0,0,k,0,0,0,f]),H=e.ww.Sd(w);
return e.ww.multiply(e.ww.multiply(H,C),w)};e.raw.ha={};e.raw.BM=function(o){o*=8;var P=[8,10,12,14,16];
for(var w in CAMS){var x=CAMS[w];if(x.length==4)continue;var z=x[4],S=x[5];for(var I=0;I<P.length;I++)if(z*S*P[I]==o)return[w,P[I]]}var k=[[4e3,3e3]];
for(var I=0;I<k.length;I++){var x=k[I],z=x[0],S=x[1];for(var I=0;I<P.length;I++)if(z*S*P[I]==o)return[x,P[I]]}return null};
e.raw.ac1=function(o){var o=new Uint8Array(o);for(var I=0;I<o.length;I+=2){var P=o[I];o[I]=o[I+1];o[I+1]=P}var w=e.raw.BM(o.length),x=CAMS[w[0]];
if(x==null)x=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,w[0][0],w[0][1]];var z=x[4],S=x[5],k=Math.max(x[2],116),f={data:o,Xl:1,width:z,height:S,t256:[z],t257:[S],t258:[w[1]],t277:[1],t33421:[2,2],t33422:e.raw.Xu[x[1]],t50706:[1,2,0,0],t50714:[k,k,k,k],t50717:[x[3]],t50721:x[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var I=0;I<9;I++)f.t50721[I]/=1e4;return f};e.raw.a5Z=function(o){if(o==null||o.length==0||typeof o[0]=="number")return o;
var P=[];for(var I=0;I<o.length;I++)P[I]=o[I][1]==0?0:o[I][0]/o[I][1];return P};e.raw.Xu=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
e.raw.normalize=function(o,P){if(o.t50706!=null||o.t271[0].startsWith("Hasselblad")){var w=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var I=0;I<w.length;I++)if(o["t"+w[I]]!=null)o["t"+w[I]]=e.raw.a5Z(o["t"+w[I]]);if(o.t271&&o.t271[0].startsWith("Hasselblad")){o.t50706=[1,2,0,0];
o.t33422=e.raw.Xu[1];o.t50723=[1,0,0,0,1,0,0,0,1];o.t50778=[17];if(!o.isLE)for(var I=0;I<o.data.length;
I+=2){var x=o.data[I];o.data[I]=o.data[I+1];o.data[I+1]=x}}if(o.t272&&o.t272[0]=="HERO10 Black"){o.t50728=[.469725,1,.739884];
if(!o.t305[0].startsWith("Adobe")){var z=new Uint16Array(o.data.buffer);for(var I=0;I<z.length;I++)z[I]>>>=2}}return}var S=o.t258[0],k=o.exifIFD,P=new Uint8Array(P);
o.t50706=[1,2,0,0];var f=o.t271[0].trim(),C=o.t272[0].trim();if(o.t50708==null)o.t50708=[f+" "+C];var H=(f+":"+C).toLowerCase().trim(),b=CAMS[H];
if(H=="panasonic:dmc-lx2")b[3]=1<<16;if(b==null){alert("Unknown camera:"+H);if(H.startsWith("canon"))b=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(b!=null){var i=b[2];
o.t50714=[i,i,i,i];if(o.t272=="Canon EOS REBEL T3")b[3]=13584;o.t50717=[b[3]];o.t50721=b[0].slice(0);
for(var I=0;I<9;I++)o.t50721[I]=o.t50721[I]*(1/1e4)}o.t50723=[1,0,0,0,1,0,0,0,1];if(o.t50728==null)o.t50728=[.35,1,.6];
o.t50778=[17];if(f.startsWith("OLYMPUS")||f.startsWith("OM Digital Solutions")){o.t33422=[2,1,1,0];var M=k.t41730,U;
if(M)o.t33422=[M[4],M[5],M[6],M[7]];var T=o.t50341;if(T==null)T=k.t36864;var O=e.raw.a9E(T.buffer,o);
o.data=new Uint8Array(O.buffer);if((o.height&1)==1)o.t50829=[0,0,o.height-1,o.width];var Y=k.makerNote,W=Y.t8256;
if(W)U=W.t256;else U=Y.t12288.t256;o.t50728=[256/U[0],1,256/U[1]]}else if(o.t271[0].startsWith("SONY")){var t=UTIF["_bin"+(o.isLE?"LE":"BE")],_=o.t28688,l;
if(JSON.stringify(_)!="[8000,10400,12900,14100]")console.log(_);if(_&&_.join("")!="0000"){var n=[0,0,0,0,0,4095],y=new Uint16Array(16385);
for(var I=0;I<4;I++){var F=_[I]>>>2;n[I+1]=F;if(F>4095)throw"e"}for(var I=0;I<16385;I++)y[I]=I;for(var I=0;
I<5;I++)for(var a=n[I]+1;a<=n[I+1];a++)y[a]=y[a-1]+(1<<I);var V=P.length*8<o.width*o.height*S;if(V)o.t50712=y}else console.log("no curve");
var D=o.dngPrvt;if(D){var Q=D.t29184[0],m=D.t29185[0],R=(o.isLE?L.Dn:L.RS)(D.t29217,0),$=new Uint32Array(P.slice(Q,Q+(m&4294967292)).buffer),p=new Uint32Array(m>>>2);
e.raw.a7Q($,p,m>>>2,R);var c=new Uint8Array(Q+m);c.set(new Uint8Array(p.buffer),Q);var B=[];UTIF._readIFD(t,c,Q,B,0,!1);
var Z=B.pop(),v=Z.t29458;o.t50728=[v[1]/v[0],1,v[1]/v[3]];o.t50730=[.5];var E=Z.t29891;o.t50829=[E[1],E[0],E[3],E[2]]}else if(k.makerNote&&k.makerNote.t8208){var l=k.makerNote,g=l.t8208,u=g.length,j=0,A=new Uint8Array(256);
for(var I=249;I<256;I++)A[I]=I;for(var I=0;I<249;I++)A[I*I*I%249]=I;for(var I=0;I<u;I++)g[I]=A[g[I]];
if(u==6604)j=612;else throw"e";var v=[];for(var I=0;I<3;I++)v.push(L.rg(g,j+I*2));console.log(v);o.t50728=[v[1]/v[0],1,v[1]/v[2]]}else console.log("no white balance");
if(o.width*o.height*1.5==o.t279[0]){i=i>>>2;o.t50714=[i,i,i,i];o.t50717=[b[3]>>>2]}}else if(o.t271[0].startsWith("Canon")){var P=o.data,K=P.slice(0),s=o.t50752,r=[],jC=0;
if(s==null||s[0]==0&&s[1]==0)r.push(o.width);else{for(var I=0;I<s[0];I++)r.push(s[1]);r.push(s[2])}var h=o.width*2,d=o.t50885&&o.t50885[0]==4;
if(!d)for(var q=0;q<r.length;q++){var hc=r[q],dk=2*jC,c6=2*hc;for(var e3=0;e3<o.height;e3+=2){var ks=e3*h+dk,cH=o.height*dk+e3*c6;
for(var I=0;I<c6;I++){P[ks+I]=K[cH+I];P[ks+I+h]=K[cH+I+c6]}}jC+=hc}else{var bI=new Uint16Array(K.buffer),aR=new Uint16Array(P.buffer);
function ak(gC,bD){aR[bD*3+0]=bI[gC*3+0];aR[bD*3+1]=bI[gC*3+1];aR[bD*3+2]=bI[gC*3+2]}var cN=(s[0]*s[1]+s[2])/o.width;
for(var q=0;q<r.length;q++){var hc=Math.round(r[q]/cN);for(var e3=0;e3<o.height;e3++){var gC=o.height*jC+(cN==3?(e3>>>3)*8+[0,4,1,5,2,6,3,7][e3&7]:e3)*hc,bD=e3*o.width+jC;
for(var cu=0;cu<hc;cu++)ak(gC+cu,bD+cu)}jC+=hc}var du=new Uint16Array(P.buffer),bq=new Uint16Array(1),hn=new Int16Array(bq.buffer);
for(var I=0;I<du.length;I+=3){var aK=du[I],cQ=du[I+1],jR=du[I+2];bq[0]=cQ<<2;cQ=hn[0]>>2;bq[0]=jR<<2;
jR=hn[0]>>2;du[I+0]=Math.max(0,jR+aK);du[I+1]=Math.max(0,(aK<<12)-cQ*778-(jR<<11)>>12);du[I+2]=Math.max(0,cQ+aK)}}var l=k.makerNote,gC=l.t224;
if(gC){var Q=o.t50719=[gC[5],gC[6]],ch=o.t50720=[gC[7]+1-gC[5],gC[8]+1-gC[6]],bx=l.t154;if(bx){Q[0]+=bx[3];
Q[1]+=bx[4];ch[0]=bx[1];ch[1]=bx[2]}}if(l.t16385){var jf=l.t16385,dW=jf.length,bf=0;if(jf instanceof Array)jf=new Uint16Array(jf);
if(dW==582)bf=1;else if(dW==653)bf=2;else if(dW==796)bf=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(dW)!=-1)bf=4;
else if([1816,1820,1824,5120].indexOf(dW)!=-1){bf=5;jf=new Int16Array(jf.slice(0).buffer)}else if(dW==1273||dW==1275)bf=6;
else if([1312,1313,1316,1506].indexOf(dW)!=-1)bf=7;else if([1560,1592,1353,1602].indexOf(dW)!=-1)bf=8;
else if(dW==3656)bf=9;else if(dW==3778||dW==3973)bf=10;else throw"e"+dW;var iu=jf[0],dV=[null,[25,166],[34,286],[63,196],[63],[71,iu==-4?333:iu==16||iu==17||iu==18||iu==19?329:264],[63,251],[63,iu==10?504:728],[63,326],[85,343],[105,363]],j=dV[bf][0],gb=dV[bf][1];
if(bf==4){if(jf[0]==2)gb=231;else if(jf[0]==3)gb=231;else if(jf[0]==4)gb=231;else if(jf[0]==5)gb=231;
else if(jf[0]==6)gb=231;else if(jf[0]==7)gb=231;else if(jf[0]==9)gb=231;else throw"e"}o.t50728=[jf[j+1]/jf[j],1,jf[j+1]/jf[j+3]];
var i=gb==null?1024:jf[gb];if(bf!=4)o.t50714=[i,i,i,i]}else{o.t50728=[.4,1,.6]}if(d){o.t277=[3];o.t50728=[1,1,1];
o.t50714=[0,0,0,0]}}else if(o.t271[0].startsWith("NIKON")){var l=k.makerNote,gP=o.isLE?L.rg:L.$w,hR=0,a7=0,aO,cx=0;
if(l.t61){var eJ=l.t61,c1=[];for(var I=0;I<4;I++)c1[I]=eJ[I]/Math.pow(2,14-S);o.t50714=c1}if(l.t3585){var ku=l.t3585,I=0,Q=22;
while(Q<ku.length&&I!=-4){var aC=L.Dn(ku,Q);Q+=4;Q+=14;I=L.Dn(ku,Q)-4;Q+=4;if(aC==1990472198){if(ku[Q]!=0)throw"Flip"}if(aC==1990472199){var gU=L.rg(ku,Q);
if(gU==0)o.Xl=1;else if(gU==270)o.Xl=8;else throw"e "+gU}Q+=I}}if(l.t183){var dh=l.t183,ch=[];for(var I=0;
I<6;I++)ch.push(gP(dh,16+I*2));hR=ch[0];a7=ch[1]}if(l.t3614){var eS=l.t3614;hR=L.Dn(eS,8);a7=L.Dn(eS,12)}if(hR!=0&&Math.max(hR,a7)<Math.max(o.width,o.height)){if(hR<a7){var x=hR;
hR=a7;a7=x}var cu=o.width-hR>>>1,e3=o.height-a7>>>1;o.t50829=[e3,cu,e3+a7,cu+hR]}else o.t50829=[8,8,o.height-8,o.width-56];
var d0=l.t69;if(d0){var cJ=d0[1];if((cJ&1)==1)cJ++;o.t50829=[cJ,d0[0],cJ+d0[3],d0[0]+d0[2]]}if(l.t12){var a9=e.raw.a5Z(l.t12);
aO=[1/a9[0],1,1/a9[1]]}else if(l.t151){var ac=e.raw.ax6(l,151),e7=ac[0],gx=ac[1],b2=ac[2];if(e7=="0100"&&gx>=80){var jQ=[];
for(var I=0;I<4;I++)jQ.push(gP(b2,68+I*2));aO=[jQ[3]/jQ[0],1,jQ[3]/jQ[1]]}else if(e7=="0102"){var jQ=[];
for(var I=0;I<4;I++)jQ.push(gP(b2,6+I*2));aO=[jQ[1]/jQ[0],1,jQ[1]/jQ[3]]}else if(e7=="0103"&&gx>=26){var jQ=[];
for(var I=0;I<4;I++)jQ.push(gP(b2,16+I*2));aO=[jQ[1]/jQ[0],1,jQ[3]/jQ[2]]}else if(e7=="0204"&&gx>=564||e7=="0205"&&gx>=284){var Q=e7=="0204"?6:14,jQ=[];
for(var I=0;I<4;I++)jQ.push(gP(b2,Q+I*2));aO=[jQ[1]/jQ[0],1,jQ[1]/jQ[3]]}else throw"e"}else console.log("no white balance info");
if(C=="NIKON D1")aO=[1,1,1];if(aO)o.t50728=aO;var g9=l.t150?l.t150:l.t140;if(g9){var i8=g9[cx++],fw=g9[cx++],dv;
if(i8==73||fw==88)cx+=2110;cx+=8;var hi=1<<S&32767,dU=gP(g9,cx);cx+=2;var y=[];if(dU>1)dv=Math.floor(hi/(dU-1));
if(i8==68&&fw==32&&dv>0){for(I=0;I<dU;I++){y[I*dv]=gP(g9,cx);cx+=2}for(I=0;I<hi;I++)y[I]=Math.floor((y[I-I%dv]*(dv-I%dv)+y[I-I%dv+dv]*(I%dv))/dv)}else if(i8!=70&&dU<=16385){hi=dU;
for(var I=0;I<dU;I++)y[I]=gP(g9,cx+2*I);cx+=2*dU}var C=o.t272[0];if(y.length!=0)o.t50712=new Uint16Array(y);
if(o.t258[0]==14&&o.t50717&&o.t50717[0]<1e4){console.log("fixing white");o.t50717[0]*=4}}}else if(f.startsWith("FujiFilm")){}else if(f.startsWith("Panasonic")){if(o.t277==null)o.t277=[1]}else alert("Unknown camera "+f)};
e.raw.a7Q=function(o,P,w,x){if(0==w)return;var z=new Uint32Array(128),S=new Uint8Array(z.buffer),k=127,f=0,C=0;
for(var k=0;k<4;k++)z[k]=x=(x*15625>>>0)*3125+1>>>0;z[3]=z[3]<<1|(z[0]^z[2])>>>31;for(var k=4;k<127;
k++)z[k]=(z[k-4]^z[k-2])<<1|(z[k-3]^z[k-1])>>>31;for(var k=0;k<127;k++)z[k]=L.RS(S,k*4);for(;w>0;w--){z[k&127]=z[k+1&127]^z[k+1+64&127];
var H=z[k&127],b=o[f];b^=H;P[C]=b;f++;C++;k++}};e.raw.anP=function(o,P){var w=L.AW(P,0,4),x=e.raw.aaM;
for(var I=0;I<x.length;I++)if(x[I][0]==o&&w.startsWith(x[I][1])&&(x[I][2]==0||x[I][2]==P.length))return x[I];
throw"e"};e.raw.adG=function(o){if(o.t29==null)return[];var P=e.raw.ag9,w=e.raw.a0_,x=o.t29[0],z=0,k=0;
for(var I=0;I<x.length;I++){var S=x.charCodeAt(I);z=z*10+(48<=S&&S<=57?S-48:S%10)}var gx=o.t167[0];for(var I=0;
I<4;I++)k^=gx>>>(I<<3)&255;var f=P[z&255],C=w[k&255];return[f,C,96]};e.raw.ax6=function(o,P){var w=o["t"+P],gx=w.length,x=e.raw.anP(P,w),z=L.AW(w,0,4),S,k=x[4];
if(k==null)S=w.slice(4);else{S=new Uint8Array(gx-k);var f=e.raw.adG(o),C=f[0],H=f[1],b=f[2];for(var I=0;
I<S.length;I++){H=H+C*b++&255;S[I]=w[k++]^H}}return[z,gx,S]};e.raw.a9E=function(o,P){var w=P.t271[0],x=P.t272[0],z=P.t256[0],S=P.t257[0],k=P.t258[0],f=P.t273[0],C=f,H=new Uint8Array(o),b,i=z-4,M=S,T=H.length-f,U=0,W=0;
function O(){var F=new Uint16Array(4096),eK=0;F[eK]=3084;for(var I=12;I--;)for(var a=0;a<2048>>I;a++)F[++eK]=I+1<<8|I;
return F}function Y(){return H[C++]}function t(F,a){var V;if(F>25)return 0;if(F==0||W<0)return 0;if(F<0){U=0;
W=0;return 0}while(W<F){V=Y();if(V==null)break;U=(U<<8)+(255&V);W+=8}V=W==0?0:U<<32-W>>>32-F;if(a){W-=a[V]>>8;
V=255&a[V]}else W-=F;return V}function _(){var F=O();C+=7;t(-1);for(var a=0;a<M;a++){var V=[new Int32Array(3),new Int32Array(3)];
for(var D=0;D<z;D++){var l=V[D&1],I=2*(l[2]<3),Q;for(Q=2+I;(65535&l[0])>>Q+I;Q++);var m=t(3),R=m&3;m=m<<29>>31;
var $=t(12,F);if($==12)$=t(16-Q)>>>1;var p=t(Q);l[0]=$<<Q|p;var c=(l[0]^m)+l[1];l[1]=c*3+l[1]>>5;l[2]=l[0]>16?0:l[2]+1;
if(D>=i)continue;var B=b[a*z+D-2],eK=b[(a-2)*z+D],Z=b[(a-2)*z+D-2];b[a*z+D]=(a<2&&D<2?0:a<2?B:D<2?eK:B<Z&&Z<eK||eK<Z&&Z<B?Math.abs(B-Z)>32||Math.abs(eK-Z)>32?B+eK-Z:B+eK>>1:Math.abs(B-Z)>Math.abs(eK-Z)?B:eK)+(c<<2|R)}}}function n(){var F=z*k/8,a=S+1>>1,D=0,l=0;
F+=F&6>>7;var V=F*8-z*k;for(var Q=0;Q<S;Q++){var m=Q%a*2+~~(Q/a);if(m==1){D=0;C=f-(-a*F&-2048)}for(var R=0;
R<z;R++){for(D-=k;D<0;D+=8){l<<=8;for(var I=0;I<8;I+=8)l|=Y()<<I}var $=l<<64-k-D>>>64-k;b[m*z+R]=$}D-=V}}function y(){var F=!w.startsWith("OLYMPUS")||!w.startsWith("OM Digi")||!w.toLowerCase().startsWith("clauss")&&!x.toLowerCase().startsWith("pix 5oo");
return F&&T<z*S}if(y()){b=new Uint16Array(i*M);_()}else if(z*S*2==P.data.length){b=new Uint16Array(P.data.buffer)}else{b=new Uint16Array(z*S);
n()}return b};e.raw.aaM=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
e.raw.ag9=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
e.raw.a0_=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
e.Y1={};e.Y1.Y1=function(o,P,w,x,z){if(x==null)x=3;if(z==null)z=!0;var S=o.q,k=o._,f=1/S,C=S*k,H=Date.now(),b=!1,i=e.Y1.av6(w,S,k,255,128),M=e.Y1.av6(w,S,k,0,128),jC=0;
if(b)console.log("extract contours",Date.now()-H);H=Date.now();var T=function(aC,gU){var hR=aC<<2,a7=gU<<2;
return P[hR]+P[hR+1]+P[hR+2]-(P[a7]+P[a7+1]+P[a7+2])};i.sort(T);M.sort(T);var O=e.U(C),Y=e.U(C),U=[],W=new Uint32Array(S*k);
W.fill(4294967295);for(var I=0;I<C;I++)if(w[I]==0)Y[I]=255;else if(w[I]==255)O[I]=255;else{W[I]=U.length;
U.push(I)}var t=i.length,_=M.length,n=U.length;function y(aC,gU,hR,a7){var dh=aC.length,eS=new Array(dh*2);
for(var I=0;I<dh;I++){var B=aC[I],Z=~~(B*a7),v=B-Z*hR,gP=B<<2;eS[I*2]=v<<16|Z;eS[I*2+1]=gU[gP]<<16|gU[gP+1]<<8|gU[gP+2]}return eS}var F=y(i,P,S,f),a=y(M,P,S,f),V=y(U,P,S,f);
if(b)console.log("Itemize",Date.now()-H,"Unknown:",n,t,_);H=Date.now();var D=e.style.Ss(O,S,k,!0),l=e.style.Ss(Y,S,k,!0),Q=new Array(n),m=new Array(n),R=new Array(n),$=new Array(n),p=new Array(n);
if(b)console.log("Dist transform",Date.now()-H);H=Date.now();var c=e.Y1.RN;for(var I=0;I<n;I++){var B=U[I],Z=~~(B*f),v=B-Z*S,E=D[B<<1],g=D[(B<<1)+1],u=Math.sqrt(E*E+g*g),j=l[B<<1],A=l[(B<<1)+1],K=Math.sqrt(j*j+A*A);
Q[I]=1/u;m[I]=1/K;var s=Math.floor(e.C.GI(B*17)*t),r=Math.floor(e.C.GI(B*19)*_);R[I]=s;$[I]=r;p[I]=c(V[I*2],V[I*2+1],F[s*2],F[s*2+1],a[r*2],a[r*2+1],Q[I],m[I],1e9)}var h=[-S-1,-S,-S+1,-1,1,S-1,S,S+1];
while(Math.floor(Math.max(t,_)*Math.pow(.5,jC))>1)jC++;for(var q=0;q<x;q++){var hc=0;for(var I=0;I<n;
I++){var B=U[I],Z=~~(B*f),v=B-Z*S,dk=Q[I],c6=m[I],e3=V[I*2],ks=V[I*2+1],cH=p[I],s=R[I],r=$[I],bD=1;if(Z!=0&&v!=0&&v!=S-1&&Z!=k-1)for(var bI=0;
bI<8;bI++){var aR=W[B+h[bI]];if(aR==4294967295)continue;var ak=R[aR],cN=$[aR];if(ak==s&&cN==r)continue;
var gC=c(e3,ks,F[ak*2],F[ak*2+1],a[cN*2],a[cN*2+1],dk,c6,cH);if(gC<cH){cH=gC;s=ak;r=cN}}for(var cu=0;
cu<jC;cu++){var hn=~~(t*bD),aK=~~(_*bD);bD*=.5;var cQ=e.C.GI(B+q*17+cu*31),jR=e.C.GI(B+q*29+cu*63),ch=Math.max(0,s-hn),bx=Math.min(s+hn,t-1),jf=Math.max(0,r-aK),dW=Math.min(r+aK,_-1),ak=ch+~~(cQ*(bx-ch)),cN=jf+~~(jR*(dW-jf)),gC=c(e3,ks,F[ak*2],F[ak*2+1],a[cN*2],a[cN*2+1],dk,c6,cH);
if(gC<cH){cH=gC;s=ak;r=cN}}p[I]=cH;R[I]=s;$[I]=r;hc+=cH}}if(b)console.log(hc);if(b)console.log("iterations",Date.now()-H);
H=Date.now();var bf=w.slice(0);for(var I=0;I<n;I++){var iu=e.Y1.alpha(V[I*2+1],F[R[I]*2+1],a[$[I]*2+1]);
bf[U[I]]=~~(.5+255*iu)}bf=e.VT.amN(bf,P,new fA(0,0,S,k),16,.01*.01);if(b)console.log("guided filter",Date.now()-H);
H=Date.now();if(z)for(var I=0;I<C;I++)if(w[I]==255||w[I]==0)bf[I]=w[I];var dV=P.slice(0);for(var I=0;
I<n;I++){var gb=U[I],s=i[R[I]],cH=p[I],gP=gb<<2,eJ=bf[gb],ku=(eJ>=250?gb:s)<<2;dV[gP]=P[ku];dV[gP+1]=P[ku+1];
dV[gP+2]=P[ku+2]}e.lI(bf,dV,3);if(b)console.log(Date.now()-H);H=Date.now();return dV};e.Y1.RN=function(o,P,w,x,z,S,k,f,C){var H=o>>>16,b=o&65535,i=H-(w>>>16),M=b-(w&65535),T=H-(z>>>16),O=b-(z&65535),Y=Math.sqrt(i*i+M*M)*k,U=Math.sqrt(T*T+O*O)*f;
if(Y+U>=C)return 1e9;var W=e.Y1.a3E(P,x,S);return W+Y+U};e.Y1.a3E=function(o,P,w){var x=o>>>16,z=o>>>8&255,S=o&255,k=P>>>16,f=P>>>8&255,C=P&255,H=w>>>16,b=w>>>8&255,i=w&255,M=e.Y1.alpha(o,P,w),T=x-(M*k+(1-M)*H),O=z-(M*f+(1-M)*b),Y=S-(M*C+(1-M)*i);
return Math.sqrt(T*T+O*O+Y*Y)};e.Y1.alpha=function(o,P,w){var x=o>>>16,z=o>>>8&255,S=o&255,k=P>>>16,f=P>>>8&255,C=P&255,H=w>>>16,b=w>>>8&255,i=w&255,M=k-H,T=f-b,O=C-i,Y=x-H,U=z-b,W=S-i,t=M*M+T*T+O*O,_=t==0?.5:(Y*M+U*T+W*O)/t;
return Math.max(0,Math.min(1,_))};e.Y1.apO=function(o){};e.Y1.av6=function(o,P,w,x,z){var S=[],k=P-1,f=w-1;
for(var C=1;C<f;C++)for(var H=1;H<k;H++){var I=C*P+H;if(o[I]==x&&(o[I-P-1]==z||o[I-P]==z||o[I-P+1]==z||(o[I-1]==z||o[I+1]==z)||(o[I+P-1]==z||o[I+P]==z||o[I+P+1]==z)))S.push(I)}return S};
e.VT={};e.VT.aor=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=e.VT.a5W,H=e.U(f*4),b;e.ZT(H,4294967295);
var i=w,M=o,T=P,O=x;e.lI(o,H,0);b=e.EA(H,w);b=e.EA(b.eD,b.rect);i=b.rect;O=x>>>2;console.log(i,O);M=e.U(i.c());
e.JX(b.eD,M,0);e.lI(P,H,0);b=e.EA(H,w);b=e.EA(b.eD,b.rect);T=e.U(i.c());e.JX(b.eD,T,0);var Y=e.VT.a2q(M,T,i,O,z),U=Y[0],W=Y[1],t=new fA(0,0,i.q*2,i._*2);
U=C(U,i,t,!0);U=C(U,t,w,!0);W=C(W,i,t,!0);W=C(W,t,w,!0);var _=e.U(f);for(var I=0;I<f;I++)_[I]=Math.max(0,Math.min(255,Math.floor(.5+(U[I]*P[I]+255*W[I]))));
return _};e.VT.uY=function(o,P,w,x){P.set(o);e.uY.aF_(P,w,x)};e.VT.a5W=function(o,P,w,x){var z=w.q,S=w._,k=P.q,f=P._,C=e.VT.Xd,H=new Float32Array(z*S);
for(var b=0;b<f;b++){var i=(b+b)*z;for(var M=0;M<k;M++){if(!0||M==0||b==0||M==k-1||b==f-1)H[i]=H[i+1]=H[i+z]=H[i+z+1]=o[b*k+M];
else{H[i]=C(M+.25,b+.25,o,k,f);H[i+1]=C(M+.75,b+.25,o,k,f);H[i+z]=C(M+.25,b+.75,o,k,f);H[i+z+1]=C(M+.75,b+.75,o,k,f)}i+=2}}return H};
e.VT.Xd=function(o,P,w,x,z){o-=.499999;P-=.499999;var S=Math.floor(o),k=Math.floor(P),f=k*x+S,C=o-S,H=P-k,b=(1-H)*(1-C),i=(1-H)*C,M=H*(1-C),T=H*C;
if(w[f]==null||w[f+x+1]==null){console.log(o,P,x,z);throw"e"}return b*w[f+0]+i*w[f+1]+M*w[f+x+0]+T*w[f+x+1]};
e.VT.a2q=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=e.VT.a2H,H=e.VT.U,b=e.VT.uY,i=e.VT.QD,P=C(P,f),o=C(o,f),M=H(f);
b(P,M,w,x);var T=H(f);b(o,T,w,x);var O=H(f);i(P,P,O);b(O,O,w,x);var Y=H(f);i(P,o,Y);b(Y,Y,w,x);var U=H(f),W=H(f);
for(var I=0;I<f;I++){var t=M[I],_=T[I],n=O[I]-t*t,y=Y[I]-t*_,F=y/(n+z),a=_-F*t;U[I]=F;W[I]=a}var V=H(f);
b(U,V,w,x);var D=H(f);b(W,D,w,x);return[V,D]};e.VT.amN=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=e.VT.a5W,H=Date.now(),b=!1,i=w,M=o,T=P,O=x;
i=new fA(0,0,S>>>2,k>>>2);O=x>>>2;M=e.VT.a9D(o,S,k);T=e.VT.a6l(P,S,k);if(b)console.log(Date.now()-H);
H=Date.now();var Y=e.VT.aic(M,T,i,O,z),U=Y[0],W=Y[1],t=Y[2],_=Y[3];if(b)console.log(Date.now()-H);H=Date.now();
var n=e.U(f);for(var y=0;y<k;y++)for(var F=0;F<S;F++){var I=y*S+F,a=(y>>>2)*(S>>>2)+(F>>>2),V=I<<2,D=U[a]*P[V]+W[a]*P[V+1]+t[a]*P[V+2]+_[a]*255;
n[I]=Math.max(0,Math.min(255,~~(.5+D)))}if(b)console.log(Date.now()-H);H=Date.now();return n};e.VT.a9D=function(o,P,w){var x=P>>>2,z=w>>>2,S=e.U(x*z);
for(var k=0;k<z;k++)for(var f=0;f<x;f++)S[k*x+f]=o[k*P+f<<2];return S};e.VT.a6l=function(o,P,w){var x=P>>>2,z=w>>>2,S=e.U(x*z*4);
for(var k=0;k<z;k++)for(var f=0;f<x;f++){var C=k*x+f<<2,H=k*P+f<<4;S[C]=o[H];S[C+1]=o[H+1];S[C+2]=o[H+2];
S[C+3]=o[H+3]}return S};e.VT.aic=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=e.VT.a2H,H=e.VT.U,b=e.VT.uY,i=e.VT.QD,o=C(o,f),M=new e.fC(S*k);
e.X1(P,M);var P=[C(M.$,f),C(M.H,f),C(M.b,f)],T=e.VT.auR(o,P,w,x,z),O=H(f);b(o,O,w,x);var Y=H(f);i(P[0],o,Y);
b(Y,Y,w,x);var U=H(f);i(P[1],o,U);b(U,U,w,x);var W=H(f);i(P[2],o,W);b(W,W,w,x);var t=H(f),_=H(f),n=H(f),y=H(f);
for(var I=0;I<f;I++){var F=O[I],a=T.ah[I],V=T.a1[I],D=T.Wm[I],l=Y[I]-a*F,Q=U[I]-V*F,m=W[I]-D*F;t[I]=T.a3y[I]*l+T.U$[I]*Q+T.N3[I]*m;
_[I]=T.U$[I]*l+T.aut[I]*Q+T.mb[I]*m;n[I]=T.N3[I]*l+T.mb[I]*Q+T.amr[I]*m;y[I]=F-t[I]*a-_[I]*V-n[I]*D}b(t,t,w,x);
b(_,_,w,x);b(n,n,w,x);b(y,y,w,x);return[t,_,n,y]};e.VT.auR=function(o,P,w,x,z){var S=w.q,k=w._,f=S*k,C=e.VT.U,H=e.VT.uY,b=e.VT.QD,i={};
i.ah=C(f);H(P[0],i.ah,w,x);i.a1=C(f);H(P[1],i.a1,w,x);i.Wm=C(f);H(P[2],i.Wm,w,x);var M=C(f);b(P[0],P[0],M);
H(M,M,w,x);var T=C(f);b(P[0],P[1],T);H(T,T,w,x);var O=C(f);b(P[0],P[2],O);H(O,O,w,x);var Y=C(f);b(P[1],P[1],Y);
H(Y,Y,w,x);var U=C(f);b(P[1],P[2],U);H(U,U,w,x);var W=C(f);b(P[2],P[2],W);H(W,W,w,x);i.a3y=M;i.U$=T;
i.N3=O;i.aut=Y;i.mb=U;i.amr=W;for(var I=0;I<f;I++){var t=i.ah[I],_=i.a1[I],n=i.Wm[I],y=M[I]-t*t+z,F=T[I]-t*_,a=O[I]-t*n,V=Y[I]-_*_+z,D=U[I]-_*n,l=W[I]-n*n+z,Q=V*l-D*D,m=D*a-F*l,R=F*D-V*a,$=y*l-a*a,p=a*F-y*D,c=y*V-F*F,B=Q*y+m*F+R*a,Z=1/B;
i.a3y[I]=Q*Z;i.U$[I]=m*Z;i.N3[I]=R*Z;i.aut[I]=$*Z;i.mb[I]=p*Z;i.amr[I]=c*Z}return i};e.VT.U=function(o){return new Float32Array(o)};
e.VT.a2H=function(o,P){var w=new Float32Array(P);for(var I=0;I<P;I++)w[I]=o[I]*(1/255);return w};e.VT.QD=function(o,P,w){for(var I=0;
I<o.length;I++)w[I]=o[I]*P[I]};e.EL={};e.EL.la=function(o,P,w,x){var z=o[P]-w[x],S=o[P+1]-w[x+1],k=o[P+2]-w[x+2];
return Math.sqrt(z*z+S*S+k*k)*(1/441.7)};e.EL.getSelection=function(o,P,w){var x=P*w,z=e.U(x),S=!1,k=Math.round(w*.7),f=1,C=new Uint32Array(12),H=e.U(12);
for(var b=0;b<k;b++)for(var i=0;i<P;i++){if(i<f||b<f||i>P-f-1||b>w-f-1){var I=b*P+i,M=I<<2,T=0;if(b<f)T=4;
else if(i>P-f-1)T=8;C[T]+=o[M];C[T+1]+=o[M+1];C[T+2]+=o[M+2];C[T+3]++;z[I]=255}}for(var I=0;I<12;I+=4)for(var O=0;
O<3;O++)H[I+O]=C[I+O]/C[I+3];var Y=new Float32Array(x);for(var I=0;I<x;I++){var M=I*4,U=e.EL.la(o,M,H,0),W=e.EL.la(o,M,H,4),t=e.EL.la(o,M,H,8),_=Math.max(U,Math.max(W,t));
Y[I]=U+W+t-_}e.EL.Sb(Y);var n=Date.now(),y=new Float32Array(x),F=[],a=e.U(x);for(var I=0;I<3;I++){e.JX(o,a,I);
var V=new Uint16Array(x);F.push(V);e.EL.a8I(a,z,P,w,V)}if(S)console.log("MBD",Date.now()-n);n=Date.now();
for(var I=0;I<x;I++)y[I]=F[0][I]+F[1][I]+F[2][I];e.EL.Sb(y);for(var I=0;I<x;I++)y[I]+=.4*Y[I];var D=P>>>1,k=w>>>1,l=1/Math.sqrt(D*D+k*k);
for(var b=0;b<w;b++)for(var i=0;i<P;i++){var Q=i-D,m=b-k,R=1-Math.sqrt(Q*Q+m*m)*l;y[b*P+i]*=R}if(S)console.log("Centeredness",Date.now()-n);
n=Date.now();for(var I=0;I<x;I++)z[I]=y[I]*255;var $=Math.round(P/120),p=Math.round($*.8);if(S)console.log($,p);
e.lm.m3(z,z,P,w,$+$+1,!1);if(S)console.log("erosion",Date.now()-n);n=Date.now();for(var I=0;I<x;I++)y[I]=z[I];
e.EL.Sb(y);var c=e.U(256);for(var I=0;I<256;I++)c[I]=256/(1+Math.exp(-20*(I/255-.5)));for(var I=0;I<x;
I++){var B=~~(y[I]*255+.5);z[I]=c[B]}if(S)console.log("Simoid",Date.now()-n);n=Date.now();return z};
e.EL.Sb=function(o){var P=o.length,w=0;for(var I=0;I<P;I++)w=Math.max(w,o[I]);var x=1/w;for(var I=0;
I<P;I++)o[I]=o[I]*x};e.EL.a8I=function(o,P,w,x,z){var S=w*x,k=o.slice(0),f=o.slice(0);for(var I=0;I<S;
I++)z[I]=P[I]==255?0:65535;e.EL.aj2(o,f,k,z,w,x);e.EL.atw(o,f,k,z,w,x);e.EL.aj2(o,f,k,z,w,x);e.EL.atw(o,f,k,z,w,x);
return z};e.EL.aj2=function(o,P,w,x,z,S){for(var k=1;k<z;k++)e.EL.AD(k,-1,o,P,w,x);for(var f=1;f<S;f++){e.EL.AD(f*z,-z,o,P,w,x);
for(var k=1;k<z;k++){var I=f*z+k;e.EL.AD(I,-1,o,P,w,x);e.EL.AD(I,-z,o,P,w,x)}}};e.EL.atw=function(o,P,w,x,z,S){for(var k=z-2;
k>=0;k--)e.EL.AD(z*S-z+k,1,o,P,w,x);for(var f=S-2;f>=0;f--){e.EL.AD(f*z+z-1,z,o,P,w,x);for(var k=z-2;
k>=0;k--){var I=f*z+k;e.EL.AD(I,1,o,P,w,x);e.EL.AD(I,z,o,P,w,x)}}};e.EL.AD=function(I,o,P,w,x,z){var S=I+o,k=P[I],f=w[S],C=x[S];
if(f<k)f=k;else if(k<C)C=k;var H=f-C;if(z[S]!=65535&&H<z[I]){z[I]=H;w[I]=f;x[I]=C}};e.yY={};e.yY.filter=function(o,P,w,x){var z=P.q,S=P._,k=z*S,f=x[0],C=x[1],H=x[2],b=x[3],i=x[4],M=x[5],T=x[6],O=Date.now(),Y=new Float32Array(z*S*4);
e.yY.at8(o,z,S,Y);var U=Math.ceil(f*Math.sqrt(-2*Math.log(.1))),W=new ArrayBuffer(k*4),t=new Float32Array(W),_=new Float32Array(k),n=new Float32Array(k);
for(var I=0;I<k;I++){var y=I*4;t[I]=Y[y];_[I]=Y[y+1];n[I]=Y[y+2]}e.uY.P1(t,P,U*1/2.4,2);e.uY.P1(_,P,U*1/2.4,2);
e.uY.P1(n,P,U*1/2.4,2);for(var I=0;I<k;I++){var y=I*4;Y[y]=t[I];Y[y+1]=_[I];Y[y+2]=n[I]}var F=new Uint8Array(W);
for(var I=0;I<k;I++){var y=I*4,a=I*4,t=Y[y],_=Y[y+1],n=Y[y+2],V=Math.sqrt((t-n)*(t-n)+4*_*_),D=(t+n+V)*.5,l=(t+n-V)*.5,Q=l-n,m=_,R=Q*Q+m*m;
if(R!=0){var $=Math.sqrt(R),p=1/$;Q*=p;m*=p}F[a]=128+127*Q;F[a+1]=128+127*m}var c=1.3*C+2,B=b*(2/10),Z=o.slice();
if(fj.Dx){var v=new Float32Array([1/z,1/S]),E=fj.nR(0,z,S);E.set(Z);var g=fj.nR(1,z,S);g.set(F);fj.kU(E,P);
if(i){E.ty(P);fj.filter.xS({type:fj.filter.ady,w5:v,aj_:1/H,arG:B},E.dA)}E.ty(P);fj.filter.xS({type:fj.filter.qd,qg:g.wH,w5:v,ej:c,K4:2},E.dA);
if(i){E.ty(P);fj.filter.xS({type:fj.filter.aFO,w5:v,aGJ:new Float32Array(T),aFo:M},E.dA)}E.get(w)}else{if(i)e.yY.lz(1/H,B,Z,z,S);
e.yY.qd(Z,w,F,z,S,c);if(i)e.yY.a7V(z,S,w,T,M)}var u=k*4;for(var I=3;I<u;I+=4)w[I]=o[I]};e.yY.qd=function(o,P,w,x,z,S){var k=Math.ceil(2*S),f=-1/(2*S*S),C=[],H=1;
for(var I=0;I<k+20;I++)C[I]=Math.exp(I*I*f);var b=[0,0,0,0];for(var i=0;i<z;i++){for(var M=0;M<x;M++){var T=i*x+M,O=T*4,Y=1,U=o[O],W=o[O+1],t=o[O+2],_=o[O+3],n=(w[O]-128)*(1/127),y=(w[O+1]-128)*(1/127),F=n,a=y,V=M==0?.51:.49,D=i==0?.51:.49;
for(var I=0;I<2;I++){var l=M+V,Q=i+D,m=0;while(m<k){if(l<.5||x-.5<l||Q<.5||z-.5<Q)break;var R=~~l,$=~~Q,p=$*x+R,c=p*4,B=(w[c]-128)*(1/127),Z=(w[c+1]-128)*(1/127);
if(B*F+Z*a<0){B=-B;Z=-Z}F=B;a=Z;l+=H*B;Q+=H*Z;if(l<.5||x-.5<l||Q<.5||z-.5<Q)break;var v=~~l,E=~~Q,g=E*x+v<<2;
m+=H;var u=C[~~m];e.W.ap4(l,Q,o,x,z,b);U+=b[0]*u;W+=b[1]*u;t+=b[2]*u;_+=b[3]*u;Y+=u}F=-n;a=-y}var j=1/Y;
P[O]=~~(.5+U*j);P[O+1]=~~(.5+W*j);P[O+2]=~~(.5+t*j);P[O+3]=~~(.5+_*j)}}};e.yY.a7V=function(o,P,w,x,z){for(var S=0;
S<P;S++)for(var k=0;k<o;k++){var f=S*o+k<<2,C=1+e.yY.aoy(k,S,w,o,P,x)*z;w[f]=Math.max(0,Math.min(255,w[f]*C));
w[f+1]=Math.max(0,Math.min(255,w[f+1]*C));w[f+2]=Math.max(0,Math.min(255,w[f+2]*C))}};e.yY.aoy=function(o,P,w,x,z,S){var k=w[(P*x+Math.max(0,o-1))*4+3],f=w[(P*x+Math.min(x-1,o+1))*4+3],C=w[(Math.max(0,P-1)*x+o)*4+3],H=w[(Math.min(z-1,P+1)*x+o)*4+3],b=.7,i=(f-k)*(1/255),M=.7,T=(H-C)*(1/255),O=-i*M,Y=-b*T,U=b*M,W=Math.sqrt(O*O+Y*Y+U*U),t=1/W,_=O*t,n=Y*t,y=U*t,F=S[0]*_+S[1]*n+S[2]*y;
return F};e.yY.lz=function(o,P,w,x,z){function S(f,H,b){return Math.max(H,Math.min(b,f))}for(var k=0;
k<z;k++)for(var f=0;f<x;f++){var C=e.yY.aqg(f+.5,k+.5,o,P);w[(k*x+f)*4+3]=Math.max(0,Math.min(255,C*255))}};
e.yY.aqg=function(o,P,w,x){function z(a,V,D){return(1-D)*a+D*V}var S=(o+613)*w,k=(P+117)*w,f=~~S,C=~~k,H=S-f,b=k-C,i=Math.sin(11),M=Math.cos(f)*i,T=Math.cos(f+1)*i,O=Math.cos(C)*i,Y=Math.cos(C+1)*i,eK=e.yY.hash(M,O),U=e.yY.hash(T,O),W=e.yY.hash(M,Y),t=e.yY.hash(T,Y),_=z(eK,U,H),n=z(W,t,H),y=z(_,n,b);
y=y<.5?0:1;var F=y+x*e.yY.hash(Math.cos(S)*i,Math.cos(k)*i);return F*(1/3)};e.yY.hash=function(o,P){var w=Math.sin(o*11.697096+P*73.32456)*12157.47691;
return w-Math.floor(w)};e.yY.at8=function(o,P,w,x){var z=[-1,0,1,-2,0,2,-1,0,1],S=[-1,-2,-1,0,0,0,1,2,1],k=P-1,f=w-1,C=P*4;
for(var H=1;H<f;H++)for(var b=1;b<k;b++){var I=H*P+b,i=I*4,M=e.yY.Tf(o,i,C,z),T=e.yY.Tf(o,i,C,S),O=e.yY.Tf(o,i+1,C,z),Y=e.yY.Tf(o,i+1,C,S),U=e.yY.Tf(o,i+2,C,z),W=e.yY.Tf(o,i+2,C,S);
x[i]=M*M+O*O+U*U;x[i+1]=M*T+O*Y+U*W;x[i+2]=T*T+Y*Y+W*W}e.yY.adC(x,P,w)};e.yY.Tf=function(o,P,w,x){return o[P-w-4]*x[0]+o[P-w]*x[1]+o[P-w+4]*x[2]+o[P-4]*x[3]+o[P]*x[4]+o[P+4]*x[5]+o[P+w-4]*x[6]+o[P+w]*x[7]+o[P+w+4]*x[8]};
e.yY.adC=function(o,P,w){function x(C,I,H){var b=I*4,i=H*4;C[i]=C[b];C[i+1]=C[b+1];C[i+2]=C[b+2]}var z=P-1,S=w-1;
x(o,P+1,0);x(o,2*P-2,P-1);for(var k=1;k<z;k++)x(o,P+k,k);for(var f=1;f<S;f++){x(o,f*P+1,f*P);x(o,f*P+P-2,f*P+P-1)}for(var k=1;
k<z;k++)x(o,(w-2)*P+k,(w-1)*P+k);x(o,(f-2)*P+1,(f-1)*P);x(o,(f-1)*P-2,f*P-1)};e.g$=function(){function o(H,b,i,M){var T=new Float32Array(H*H),O=H/2;
for(var Y=0;Y<H;Y++)for(var U=0;U<H;U++){var W=U+i-O,t=Y+M-O;T[Y*H+U]=Math.max(0,Math.min(1,b+.5-Math.sqrt(W*W+t*t)))}return T}var P=[],x=null;
function w(H,b,i,M){var T=Math.floor(b*10),O=P[T],Y=H*8,U=Y>>>1;if(O==null){O=P[T]=[];var W=new fA(0,0,Y,Y),t=H/2/(1+.2*b),_=Math.floor(H*T*.1);
for(var n=0;n<2;n++)for(var y=0;y<2;y++){var F=o(Y,t,.25+y*.5,.25+n*.5),a=0;e.uY.P1(F,W,_);while(F[Y*U+a]<.005)a++;
if(a!=0)a--;var V=2*(U-a),D=new fA(a,a,V,V),l=new Float32Array(V*V);for(var Q=0;Q<V;Q++)for(var m=0;
m<V;m++)l[Q*V+m]=F[(a+Q)*Y+a+m];O.push([l,D])}}var R=Math.floor(i),$=Math.floor(M),p=i-R,c=M-$,B=p<.5?1:0,Z=c<.5?1:0;
O=O[Z*2+B];var D=O[1].clone();D.x+=R-U;D.y+=$-U;return[O[0],D]}function z(H,b,i){if(x==null){x=new Uint8Array(4e4);
for(var I=0;I<4e4;I++)x[I]=Math.min(255,~~(.5+255*e.LK(I*(1/255))))}var M=H.length;for(var I=0;I<M;I++){var T=H[I],O=~~(255*T);
b[I]=x[O]<<24|i}}function S(H,b,i,M,T){var O=b.SN(M),Y=Math.max(0,O.x-b.x),U=Math.max(0,O.x-M.x),W=Math.max(0,O.y-b.y),t=Math.max(0,O.y-M.y),_=O.q,n=O._;
for(var I=0;I<n;I++){var y=(W+I)*b.q+Y,F=(t+I)*M.q+U;for(var a=0;a<_;a++){i[F+a]+=T*H[y+a]}}}var k=-1;
function f(H,b,i,M,T){var O=Math.round(M[1]*b*i*.01),Y=M[2],U=M[3],W=M[4],t=M[5],_=M[6],n=M[7],y=M[8],F=M[9],a=M[10]?M[10]:1,u=!1;
if(Y!=k){P=[];k=Y}var V=Date.now(),D=new fA(0,0,b,i),l=new C(M[0]);if(T)H.fill(0);var Q=new Float32Array(T?H.buffer:b*i);
for(var I=0;I<O;I++){var m=l.get()*b,R=l.get()*i,$=l.get()*U,p=l.get()*Y*4,c=(l.get()+_)*Math.PI*2,B=l.get()*Y*4,Z=(l.get()+2*_)*Math.PI*2;
m+=F*(p*Math.cos(c)+B*Math.cos(Z));R+=F*(p*Math.sin(c)+B*Math.sin(Z));if(y)R=R+_*i*a;var v=w(Y,$,m,R%i),E=W,g=l.get();
if(n)E=.5+.5*W*(.5+.5*Math.sin((2*_+g)*2*Math.PI));S(v[0],v[1],Q,D,E)}if(u)console.log(Date.now()-V,"add floats");
V=Date.now();var j=new Uint8Array(Q.buffer);z(Q,new Uint32Array(j.buffer),t.b<<16|t.H<<8|t.$);if(u)console.log(Date.now()-V,"toInt");
V=Date.now();if(!T){e.C.Iv("scrn",j,D,H,D,D,1);if(u)console.log(Date.now()-V,"blendOver")}}function C(H){this.A6=123456789;
this.uP=987654321;this.u=4294967295;this.Zs(H)}C.prototype.Zs=function(I){this.A6=123456789+I&this.u;
this.uP=987654321-I&this.u};C.prototype.get=function(){this.uP=36969*(this.uP&65535)+(this.uP>>16)&this.u;
this.A6=18e3*(this.A6&65535)+(this.A6>>16)&this.u;var H=(this.uP<<16)+(this.A6&65535)>>>0;H/=4294967296;
return H};return{np:f}}();e.QR={};e.QR.OH=function(o,P,w,x){var z=o[P*2],S=o[P*2+1],k=o[w*2],f=o[w*2+1],C=o[x*2],H=o[x*2+1];
return z*f+k*H+C*S-C*f-k*S-z*H};e.QR.aqZ=function(o,P){var w=[],x=[],z=[],S={};for(var I=0;I<P.length;
I+=3){var k=~~(I*(1/3)),f=P[I+0],C=P[I+1],H=P[I+2],b=e.QR.OH(o,f,C,H);if(b>0){var i=C;C=H;H=i}var M=S[H+"-"+C],T=S[C+"-"+f],O=S[f+"-"+H],Y=[H,M,k,null],U=[C,T,k,Y],W=[f,O,k,U];
Y[3]=W;if(M)M[1]=Y;if(T)T[1]=U;if(O)O[1]=W;S[H+"-"+f]=W;S[f+"-"+C]=U;S[C+"-"+H]=Y;w[f]=U;z[I]=U;w[C]=Y;
z[I+1]=Y;w[H]=W;z[I+2]=W;x[k]=U}return{GC:w,hO:x,Ww:z}};e.QR.aCe=function(o){var P=[],w=o.hO;for(var I=0;
I<w.length;I++){var x=w[I];P.push(x[0]);x=x[3];P.push(x[0]);x=x[3];P.push(x[0])}return P};e.QR.a7w=function(o,P,w,x){var z=o[P*2],S=o[P*2+1],k=o[w*2],f=o[w*2+1],C=o[x*2],H=o[x*2+1],b=k-z,i=f-S,M=C-z,T=H-S,O=b*(z+k)+i*(S+f),Y=M*(z+C)+T*(S+H),U=2*(b*(H-f)-i*(C-k));
if(Math.abs(U)<1e-5){var W=Math.min(z,k,C),t=Math.min(S,f,H),_=(Math.max(z,k,C)-W)*.5,n=(Math.max(S,f,H)-t)*.5;
return[W+_,t+n,_*_+n*n,1]}var y=(T*O-i*Y)/U,F=(b*Y-M*O)/U,_=y-z,n=F-S;return[y,F,_*_+n*n,0]};e.QR.a4K=function(o,P,w){var x=w[1],z=w[3],S=z[3],k=x[3],f=k[3],C=w[2],H=x[2],b=w[0],i=x[0],M=z[0],T=k[0],O=e.QR.a7w(o,i,T,M),Y=o[b*2]-O[0],U=o[b*2+1]-O[1],W=Y*Y+U*U>O[2]&&O[3]==0&&e.QR.OH(o,T,b,M)<0&&e.QR.OH(o,M,i,T)<0;
if(W){w[0]=M;x[0]=T;w[3]=S;S[3]=k;k[3]=w;x[3]=f;f[3]=z;z[3]=x;z[2]=H;k[2]=C;P.hO[H]=f;P.hO[C]=S;P.GC[i]=k;
P.GC[b]=z}return W};e.QR.a0Z=function(o,P,w){var x=o[P*2]-o[w*2],z=o[P*2+1]-o[w*2+1];return Math.sqrt(x*x+z*z)};
e.QR.apS=function(o,P,w){var x=w[1],z=w[3],S=z[3],k,f,C=w[2],H,b=w[0],i=S[0],M=z[0],T;if(x){k=x[3];f=k[3];
H=x[2];T=k[0]}var O=o.length>>>1;o[2*O]=(o[2*i]+o[2*b])*.5;o[2*O+1]=(o[2*i+1]+o[2*b+1])*.5;if(!0){var Y=C,U=w,W=P.hO.length,t=[O,null,Y,U],_=[M,t,W,S];
t[1]=_;var n=[O,null,W,_];z[3]=t;S[3]=n;S[2]=W;P.hO[Y]=z;P.hO[W]=n;P.GC[b]=z;P.GC[M]=S;P.Ww.push(t,_,n)}if(x){var y=H,F=x,a=W+1;
n[1]=F,F[1]=n;var V=[O,null,y,F],D=[T,V,a,f];V[1]=D;var l=[O,U,a,D];U[1]=l;k[3]=V;f[3]=l;f[2]=a;P.hO[y]=k;
P.hO[a]=f;P.GC[i]=k;P.GC[T]=f;P.Ww.push(V,D,l)}P.GC[O]=U};e.QR.aAD=function(o,P){var w=0;while(!0){var x=w;
for(var I=0;I<P.Ww.length;I++){var z=P.Ww[I];if(z[1]==null)continue;var S=e.QR.a4K(o,P,z);if(S){w++;
break}}if(x==w)break}return w!=0};e.QR.avI=function(o,P,w,x){var z=0;for(var I=0;I<x;I++){var S=null,k=0;
for(var f=0;f<P.Ww.length;f++){var C=P.Ww[f],H=e.QR.a0Z(o,C[0],C[3][3][0])*(C[1]?1:2);if(H>k){S=C;k=H}}if(k>w){e.QR.apS(o,P,S);
z++}}return z!=0};e.QR.alb=function(o,P){var w=[],M=0;for(var I=0;I<o.length;I++)w.push(0);for(var I=0;
I<P.Ww.length;I++){var x=P.Ww[I],z=x[0],S=x[3][3][0],k=o[z*2],f=o[z*2+1],C=o[S*2],H=o[S*2+1],b=k-C,i=f-H;
w[z*2]+=-b;w[z*2+1]+=-i;w[S*2]+=b;w[S*2+1]+=i}for(var I=0;I<o.length;I+=2){var T=I>>>1,O=P.GC[T],x=O,Y=!0;
do{if(x[1]==null){Y=!1;break}x=x[1][3]}while(x!=O);if(Y){var U=.02;o[I]+=U*w[I];o[I+1]+=U*w[I+1];M+=U*(w[I]*w[I]+w[I+1]*w[I+1])}}return M};
e.QR.apD=function(o,P,w){var x=e.a.w4(o),z=e.QR.aqZ(o,P);e.QR.aAD(o,z);for(var S=0;S<300;S++){var k=!1,f=!1;
k=e.QR.avI(o,z,w,5);if(k)f=e.QR.aAD(o,z);var C=e.QR.alb(o,z);if(!k&&!f&&C<1e-4){break}}return e.QR.aCe(z)};
e.nd={};e.nd.a8T=function(o){var P=o.rx,w=o.O7,x=o.Yg,z=o.pE,S=o.lt,k=o._Z,f=o.YU,C=e.zr.Gl,t,_,n=0;
function H(eK){var q=new Array(eK);for(var I=0;I<eK;I++)q[I]=0;return q}var b=w.length>>>1,i=H(P.br*2),M=H(P.br),T=H(P.br),O=Date.now();
for(var I=0;I<o.b5.length;I++){var Y=P.a5z+I,U=P.V*(k[I*2]+f[I*2]),W=P.V*(k[I*2+1]+f[I*2+1]);i[Y*2]=U;
i[Y*2+1]=W;M[Y]=U;T[Y]=W}P.axZ.NI(z,P.ajb.Gl(i),.01,t,_);for(var I=0;I<P.amT.Ww.length;I++){var y=P.amT.Ww[I],F=y[3][3][0],a=y[0],V=y[3][0],D=y[1]?y[1][3][0]:V;
if(y[1]&&F>a)continue;var l=w[F*2],Q=w[F*2+1],m=w[a*2],R=w[a*2+1],$=z[F*2],p=z[F*2+1],c=z[a*2],B=z[a*2+1],Z=z[V*2],v=z[V*2+1],E=z[D*2],g=z[D*2+1],u=[$,p,c,B,Z,v];
if(y[1])u.push(E,g);var j=C(P.aAB[n],u),A=j[0],K=j[1],s=1/Math.sqrt(A*A+K*K);A*=s;K*=s;var r=m-l,h=R-Q;
M[n]=A*r+K*h;T[n]=-K*r+A*h;n++}var jC=new Array(b),d=new Array(b);for(var I=0;I<b;I++){jC[I]=S[I*2];
d[I]=S[I*2+1]}P.aqI.NI(jC,P.ajd.Gl(M),.5);P.aqI.NI(d,P.ajd.Gl(T),.5);for(var I=0;I<b;I++){S[I*2]=jC[I];
S[I*2+1]=d[I]}};e.nd.a30=function(o){var P=o.O7,w=o.Yg,x=o.b5,z=e.zr.multiply,S=Date.now(),k=e.QR.aqZ(P,w),f=P.length>>>1,C=0,O=0,K=1e3;
for(var I=0;I<k.Ww.length;I++)C+=k.Ww[I][1]?.5:1;var H=C+x.length,b=[],i=new e.H$(H*2,f*2),M=new e.H$(H,f),T=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Y=[],U=[];
for(var I=0;I<k.Ww.length;I++){var W=k.Ww[I],t=W[3][3][0],_=W[0],n=W[3][0],y=W[1]?W[1][3][0]:n;if(W[1]&&t>_)continue;
var F=P[t*2],a=P[t*2+1],V=P[_*2],D=P[_*2+1],l=P[n*2],Q=P[n*2+1],m=P[y*2],R=P[y*2+1],$=[[F,a,1,0],[a,-F,0,1],[V,D,1,0],[D,-V,0,1],[l,Q,1,0],[Q,-l,0,1]];
if(W[1])$.push([m,R,1,0],[R,-m,0,1]);var p=e.zr.VI($),c=z(linear.invert(z(p,$)),p);c.pop();c.pop();b.push(c);
var B=V-F,Z=D-a,v=T[W[1]?1:0];v=e.zr.WJ(v,z([[B,Z],[Z,-B]],c));var E=[t*2,t*2+1,_*2,_*2+1,n*2,n*2+1,y*2,y*2+1],g=W[1]?8:6,u=[];
for(var j=0;j<g;j++)u.push([E[j],v[0][j],v[1][j]]);u.sort(function(q,hc){return q[0]-hc[0]});for(var A=0;
A<2;A++){for(var j=0;j<g;j++){Y[j]=u[j][0];U[j]=u[j][1+A]}i.Jz(U,Y,g)}if(t<_)M.Jz([-1,1],[t,_],2);else M.Jz([1,-1],[_,t],2);
O++}for(var I=0;I<x.length;I++){var s=x[I];i.Jz([K],[s*2],1);i.Jz([K],[s*2+1],1);M.Jz([K],[s],1)}var r=i.VI(),h=r.l8(r),jC=M.VI(),d=jC.l8(jC);
return{a5z:C,br:H,ajb:r,axZ:h,ajd:jC,aqI:d,amT:k,aAB:b,V:K}};e.nd.agO=function(o,P,w,x,z){var S=new fA(0,0,P,w),k=e.U(S.c());
e.JX(o,k,3);e.round(k,70);var f=e.zG(k,S),C=[.1,.065,.035][x]*Math.max(f.q,f._),H=z+1,b=P+H*2,i=w+H*2,M=new fA(-H,-H,b,i),T=e.U(M.c());
e.d0(k,S,T,M);var O=T.slice(0);for(var Y=0;Y<z;Y++){for(var U=1;U<i-1;U++){for(var W=1;W<b-1;W++){var I=U*b+W;
O[I]=T[I-b]|T[I-1]|T[I]|T[I+1]|T[I+b]}}var t=O;O=T;T=t}var _=h1.dd(T,b,i,Math.round(f.c()*5e-4)),n=h1.m0(_),y=new ar(1,0,0,1,-H,-H);
for(var I=0;I<n.length;I++){var F=n[I];e.a.h(F.path.i,y,F.path.i);F.O7=e.nd.akz(F.path);F.Yg=e.a.atR(F.O7);
F.Yg=e.QR.apD(F.O7,F.Yg,C)}return n};e.nd.akz=function(o){var P=[],w=o.i,x=o.LG.length-1,z=0,S=0;for(var k=0;
k<x;k++){var I=k*6,f=w[I+6]-w[I+0],C=w[I+7]-w[I+1],H=Math.ceil(Math.sqrt(f*f+C*C));for(var b=0;b<H;b++){var i=b/H,M=1-i,T=M*M*M*w[I+0]+3*M*M*i*w[I+2]+3*M*i*i*w[I+4]+i*i*i*w[I+6],O=M*M*M*w[I+1]+3*M*M*i*w[I+3]+3*M*i*i*w[I+5]+i*i*i*w[I+7];
P.push(T,O);z=T;S=O}}P=e.a.at2(P,1);var Y=[],U=P.length;for(var I=0;I<U;I+=2){var O=P.pop(),T=P.pop();
Y.push(T,O)}return Y};e.nd.avd=function(o,P,w,x){function z(V,D,l,Q,m){var R=m[V*2]-m[D*2],$=m[V*2+1]-m[D*2+1],p=Math.sqrt(R*R+$*$);
if(l[V].indexOf(D)==-1){l[V].push(D);Q[V].push(p)}if(l[D].indexOf(V)==-1){l[D].push(V);Q[D].push(p)}}var S=o.length>>>1,k=new Array(S);
if(w.length==0){k.fill(0);return k}var f=new Array(S),C=new Array(S);for(var I=0;I<S;I++){f[I]=[];C[I]=[]}for(var I=0;
I<P.length;I+=3){z(P[I],P[I+1],f,C,o);z(P[I],P[I+2],f,C,o);z(P[I+1],P[I+2],f,C,o)}var H=new Float64Array(S*2),b=new Uint32Array(S*2);
H.fill(1e9);var i=new Uint8Array(S);for(var M=0;M<w.length;M++){i.fill(0);var T=["---",[0,w[M]]];while(T.length!=1){var O=e.a6D.SH(T),Y=O[0],U=O[1];
if(i[U]==1)continue;var W=U<<1;if(Y<H[W]){H[W+1]=H[W];b[W+1]=b[W];H[W]=Y;b[W]=M}else if(Y<H[W+1]){H[W+1]=Y;
b[W+1]=M}i[U]=1;var t=f[U],_=C[U];for(var I=0;I<t.length;I++){var n=t[I];if(i[n]!=1){e.a6D.s8(T,[Y+_[I],n])}}}}for(var I=0;
I<S;I++){var W=I<<1,y=H[W],F=H[W+1],a=1/(y+F);k[I]=(1-y*a)*x[b[W]]+(1-F*a)*x[b[W+1]]}return k};e.nd.aiD=function(o){var P={LG:[],i:[]},w=[o];
while(w.length!=0){var x=w.pop(),z=x.aR;if(x.a4z instanceof Array||x.aEP instanceof Array){P.LG.push("M","L","L","L","Z");
P.i.push(z[0],z[1],z[2],z[1],z[2],z[3],z[0],z[3])}else w.push(x.a4z,x.aEP)}return P};e.nd.Ps=function(o,P,w,x,z,S,k,f,C,H,b){var i=Math.round(H.length/3),M=new Array(i);
for(var I=0;I<i;I++)M[I]=I;M.sort(function(O,Y){return C[H[O*3]]-C[H[Y*3]]});for(var I=0;I<i;I++){var T=M[I]*3;
e.nd.ay_(H[T]*2,H[T+1]*2,H[T+2]*2,k,f,o,P,w,x,z,S,b)}};e.nd.ay_=function(o,P,w,x,z,S,k,f,C,H,b,i){var M=[o,P,w,1.2,1.2,1.2,0],T=[0,0,0,0],O=z[o],Y=z[o+1],U=z[P],W=z[P+1],t=z[w],_=z[w+1],n=U-O,y=W-Y,F=t-O,a=_-Y,V=n*a-F*y+1e-9,D=1/V,l=Math.max(0,Math.min(k-1,x[o])),Q=Math.max(0,Math.min(k-1,x[P])),m=Math.max(0,Math.min(k-1,x[w])),R=Math.max(0,Math.min(f-1,x[o+1])),$=Math.max(0,Math.min(f-1,x[P+1])),p=Math.max(0,Math.min(f-1,x[w+1])),c=O<U?O<t?o:w:U<t?P:w,B=z[c+1]+.5,Z=Math.max(0,Math.floor(Math.min(O,U,t))),v=Math.min(H,Math.ceil(Math.max(O,U,t))),E=Math.max(0,Math.floor(Math.min(Y,W,_))),g=Math.min(b,Math.ceil(Math.max(Y,W,_))),u=1e9;
for(var j=E;j<g;j++){var A=j>B&&u!=1e9?u:Z;u=1e9;for(var K=A;K<v;K++){var s=K+.5-O,r=j+.5-Y,h=(s*a-F*r)*D,jC=(n*r-s*y)*D;
if(h>=0&&jC>=0&&h+jC<=1){if(u==1e9)u=K;var d=1-h-jC,q=l*d+Q*h+m*jC,hc=R*d+$*h+p*jC;if(i){var dk=Math.floor(.5+hc)*k+Math.floor(.5+q),c6=dk<<2,e3=j*H+K<<2;
C[e3]=S[c6];C[e3+1]=S[c6+1];C[e3+2]=S[c6+2];C[e3+3]=S[c6+3]}else{e.W.ap4(q,hc,S,k,f,T);e.nd.arn(T,C,j*H+K<<2)}}else if(u!=1e9)break}}};
e.nd.arn=function(o,P,w){if(o[3]>250){P[w]=~~(.5+o[0]);P[w+1]=~~(.5+o[1]);P[w+2]=~~(.5+o[2]);P[w+3]=~~(.5+o[3])}else{var x=P[w],z=P[w+1],S=P[w+2],k=P[w+3],f=1-o[3]*(1/255);
P[w]=~~(.5+o[0]+x*f);P[w+1]=~~(.5+o[1]+z*f);P[w+2]=~~(.5+o[2]+S*f);P[w+3]=~~(.5+o[3]+k*f)}};e.nd.aDf=function(){var o=function(w,x,z,S){var k=S[0],f=S[1],C=S[2],H=w[k+0],b=w[k+1],i=w[f+0],M=w[f+1],T=w[C+0],O=w[C+1],Y=i-H,U=M-b,W=T-H,t=O-b,_=x-H,n=z-b,y=Y*t-W*U,F=1/(y+1e-9),a=(_*t-W*n)*F,V=(Y*n-_*U)*F;
if(a>=0&&V>=0&&a+V<=1){S[3]=1-a-V;S[4]=a;S[5]=V;return 1}return 0},P=function(w,x,z,S){var k=[0,0,0,0,0,0];
for(var I=0;I<x.length;I+=3){k[0]=x[I]*2;k[1]=x[I+1]*2;k[2]=x[I+2]*2;if(o(w,z,S,k)==1)return!0}return!1};
return{azA:o,agd:P}}();e.XI={};e.XI.aCf=function(o,P,w,x){o=o.slice(0);if(x)e.lI(x,o,3);else for(var I=0;
I<o.length;I+=4)o[I+3]=0;var z=e.U(P*w*4),S=!1;e.W.od(o,P,w,z,[w,P,0,1,0,1,0,0]);return[e.XI.R9(o,P,w,S),e.XI.R9(z,w,P,S)]};
e.XI.h=function(o,P){var w=!1,x=o[0],z=o[1],S=x[1],k=x[2],f=x[3],C=P.q,H=P._;if(k==C&&f==H)S=S.slice(0);
else if(f!=H){var b=e.U(k*H*4);e.XI.mB(z,H,b,w);S=e.U(k*H*4);e.W.od(b,H,k,S,[k,H,0,1,0,1,0,0]);if(k!=C){x=e.XI.R9(S,k,H,w);
S=e.U(C*H*4);e.XI.mB(x,C,S,w)}}else if(k!=C){S=e.U(C*f*4);e.XI.mB(x,C,S,w)}for(var I=0;I<S.length;I+=4)S[I+3]=255;
return S};e.XI.R9=function(o,P,w,x){var z=Date.now(),S=new Uint16Array(P*w),H=1;e.XI.acZ(o,P,w,S);var k=e.U(P*w);
e.JX(o,k,3);for(var f=0;f<w;f++)for(var C=0;C<P;C++)S[f*P+C]+=Math.floor((65535-S[f*P+C])*k[f*P+C]*(1/255));
var b=Math.ceil(P/H),i=new Uint32Array(H),M=new Uint32Array(H),b=Math.floor(P/H);for(var T=0;T<H;T++)M[T]=T<H-1?b:P-(H-1)*b;
for(var f=0;f<w;f++){var I=f*P;for(var T=0;T<H;T++){var b=M[T];for(var C=0;C<b;C++)i[T]+=S[I+C];I+=b}}if(x){console.log(Date.now()-z,"cost");
z=Date.now()}var O=new Uint32Array(P),Y=new Uint32Array(P),U=new Uint32Array(P*w);for(var C=0;C<P;C++){U[(w-1)*P+C]=S[(w-1)*P+C]}for(var f=w-2;
f>=0;f--){var W=f*P;for(var T=0;T<H;T++){var b=M[T];U[W]=S[W]+Math.min(U[W+P],U[W+P+1]);for(var C=1;
C<b-1;C++){var I=W+C;U[I]=S[I]+Math.min(U[I+P-1],Math.min(U[I+P],U[I+P+1]))}W+=b-1;U[W]=S[W]+Math.min(U[W+P-1],U[W+P]);
W++}}if(x){console.log(Date.now()-z,"Building M");z=Date.now()}function t(m,R){return m<R?m:R}function _(I,m){var R=Y[I],$=U[m],p=~~(R*$*1e-4);
return p}var n=new Uint8Array(P*w),y=new Uint32Array(P);for(var I=0;I<P;I++){O[I]=I;Y[I]=S[I]}for(var f=1;
f<w;f++){var F=0,W=f*P;for(var T=0;T<H;T++){var b=M[T],I=W;y[F]=_(F,I);var a=y[F]+_(F+1,I+1),V=_(F,I+1)+_(F+1,I);
y[F+1]=t(a,V);for(var C=2;C<b;C++){var I=W+C,D=y[F+C-1]+_(F+C-1,I-1),l=y[F+C-2]+_(F+C-1,I-2)+_(F+C-2,I-1);
y[F+C]=t(D,l)}var C=b-1;while(C>=2){var I=W+C,D=y[F+C-1]+_(F+C-1,I-1),l=y[F+C-2]+_(F+C-1,I-2)+_(F+C-2,I-1);
if(y[F+C]==D){n[I-P]=1;C-=1}else{n[I-P]=0;n[I-P-1]=2;C-=2}}var I=W;if(C==0){n[I-P]=1}else{if(y[F+1]==a){n[I+1-P]=1;
n[I-P]=1}else{n[I+1-P]=0;n[I-P]=2}}W+=b;F+=b}e.XI.ajU(f,P,n,S,O,Y,!0,z)}if(x){console.log(Date.now()-z,"Matching");
z=Date.now()}var Q=S;return[UZIP.adler(o,0,o.length),o,P,w,H,M,i,O,Y,n,Q]};e.XI.mB=function(o,P,w,x){var z=o.slice(0),S=z.shift(),k=z.shift(),f=z.shift(),C=z.shift(),H=z.shift(),b=z.shift(),i=z.shift(),M=z.shift(),T=z.shift().slice(0),O=z.shift(),Y=z.shift(),U=Date.now(),W=Math.abs(f-P),t=Math.floor(W/H),_=new Uint32Array(H),y=0,F=1e9,V=0,D=0,l=0;
for(var n=0;n<H;n++)_[n]=n<H-1?t:W-(H-1)*t;Y.fill(0);for(var a=0;a<f;a++){y=Math.max(y,T[a]);F=Math.min(F,T[a])}for(var n=0;
n<H;n++){var Q=b[n],t=_[n];for(var m=0;m<t;m++){var R=0,$=1e9;for(var a=0;a<Q;a++)if(T[D+a]<$){$=T[D+a];
R=D+a}if(P<f)T[R]=1e9;else T[R]*=1.2;if(l<f/3)V+=$;var p=M[R],c=Y[p],B=c<65280?65280:c+1;if(B<65280)throw"e";
for(var Z=0;Z<C;Z++){var I=Z*f+p;Y[I]=B;p+=O[I]-1}l++}D+=Q}if(x){console.log(Date.now()-U,"Removing best seams");
U=Date.now()}function v(I,g){var u=I<<2,j=g<<2;w[u]=k[j];w[u+1]=k[j+1];w[u+2]=k[j+2];w[u+3]=k[j+3]}for(var Z=0;
Z<C;Z++){var E=0,I=Z*f;for(var a=0;a<P;a++,E++){if(P<f){while(Y[I+E]==65280)E++;v(Z*P+a,Z*f+E)}else{v(Z*P+a,Z*f+E);
while(Y[I+E]>=65280){Y[I+E]--;a++;v(Z*P+a,Z*f+E)}}}}if(x){console.log(Date.now()-U,"Shifting image pixels");
U=Date.now()}};e.XI.ajU=function(o,P,w,x,z,S){var k=0,I=o*P;while(k<P){if(w[I-P]==1){S[k]=S[k]+x[I];
k++;I++}else{var f=z[k];z[k]=z[k+1];z[k+1]=f;var C=S[k];S[k]=S[k+1]+x[I];S[k+1]=C+x[I+1];k+=2;I+=2}}};
e.XI.acZ=function(o,P,w,x){function z(o,I,C){var i=I<<2,M=C<<2,T=o[i]-o[M],O=o[i+1]-o[M+1],Y=o[i+2]-o[M+2];
return Math.abs(T)+Math.abs(O)+Math.abs(Y)}for(var S=1;S<P;S++){var k=z(o,S,S-1);x[S-1]+=k;x[S]+=k}for(var f=1;
f<w;f++){var C=f*P,k=z(o,C,C-P);x[C]+=k;x[C-P]+=k;for(var S=1;S<P;S++){var I=f*P+S,H=z(o,I,I-1),b=z(o,I,I-P);
x[I-P]+=b;x[I-1]+=H;x[I]+=b+H}}for(var f=0;f<w;f++){x[f*P]*=2;x[f*P+P-1]*=2}for(var I=0;I<x.length;I++)if(x[I]==0)x[I]=1};
e.Ef=function(){function o(){return 1953e6+Math.floor(Math.random()*999999)}function P($,p){var c=p[0]-$[0],B=p[1]-$[1];
return c*c+B*B}function w($,p,c,B,Z,v,E,g){var u=c-$,j=B-p,A=e.a.LA($,p,u,j,Z,v,E-Z,g-v),K=[$+A*u,p+A*j],s=A>0?[[[$,p],K,!1,0,1],[[Z,v],K,!1,0,5]]:[[[c,B],K,!1,0,1],[[E,g],K,!1,0,5]];
return s}function x($,p){var c=w($[0],$[1],$[2],$[3],$[6],$[7],$[4],$[5]),B=w($[0],$[1],$[6],$[7],$[2],$[3],$[4],$[5]),Z=[c,B],v=[c[0][1],B[0][1]];
for(var I=0;I<2;I++){var E=v[1-I],g=Z[I];if(P(g[0][0],E)<P(g[1][0],E)){var u=g[0];g[0]=g[1];g[1]=u}}var j=[o(),0,-1,0,[0,0],c[0],c[1],B[0],B[1]],A=y(j,p),K=A[1][0];
j[3]=K;j[4]=A[0][K];j[5][3]=j[6][3]=A[0].indexOf(j[5][1]);j[7][3]=j[8][3]=A[0].indexOf(j[7][1]);if((j[6][3]+1)%3!=j[7][3]){var u=j[5];
j[5]=j[7];j[7]=u;var u=j[6];j[6]=j[8];j[8]=u}for(var I=0;I<4;I++)j[5+I][4]=[1,5,7,3][I];return j}function z($){var p=$[5],c=$[8],B=$[6],Z=p[0],v=c[0],E=B[0],g=p[1],u=c[1],j=v[0],A=v[1],K=u[0]-j,s=u[1]-A,r=e.a.LA(j,A,K,s,E[0],E[1],g[0]-E[0],g[1]-E[1]);
return[Z[0],Z[1],j,A,j+r*K,A+r*s,E[0],E[1]]}function S($,p){return $[0]==p[0]&&$[1]==p[1]}function k($){return{1:0,5:1,7:2,3:3}[$]}function f($,p,c){var B=p[5+k($)],Z=B[1],v=B[0][0]-Z[0],E=B[0][1]-Z[1],g=Math.sqrt(v*v+E*E);
v/=g;E/=g;for(var u=0;u<c.length;u++){var j=c[u];if(j[0]!=p[1]&&j[1]!=p[0])continue;for(var I=0;I<4;
I++){var A=j[5+I],K=A[0];if(!S(Z,A[1]))continue;var s=K[0]-Z[0],r=K[1]-Z[1];g=Math.sqrt(s*s+r*r);s/=g;
r/=g;var h=s*v+r*E;if(Math.abs(h-1)<1e-7)return!0}}return!1}function C($,p){e.W.h($,p);return p}function H($,p){var c=[];
for(var B=0;B<$.length;B++){var Z=$[B],v=Z[1];for(var E=0;E<v.length;E++){if(p&&p[B].indexOf(E)==-1)continue;
var g=v[E],u=[],j=e.W.tV(z(g),new fA(0,0,1,1));for(var I=1;I<=7;I+=2){u[I]=f(I,g,v)}if(!u[1]){if(!u[7])c.push([C(j,[0,0]),B,E,0]);
c.push([C(j,[.5,0]),B,E,1])}if(!u[3]){if(!u[1])c.push([C(j,[1,0]),B,E,2]);c.push([C(j,[1,.5]),B,E,3])}if(!u[5]){if(!u[3])c.push([C(j,[1,1]),B,E,4]);
c.push([C(j,[.5,1]),B,E,5])}if(!u[7]){if(!u[5])c.push([C(j,[0,1]),B,E,6]);c.push([C(j,[0,.5]),B,E,7])}}}return c}function b($){var p=$.length-2,c=0;
for(var I=0;I<p;I+=2)c+=($[I+2]-$[I])*($[I+1]+$[I+3]);c+=($[0]-$[p])*($[p+1]+$[1]);return-c*.5}function i($,p,c,B){}function M($,I){var p=$[I+2&7]-$[I&7],c=$[I+3&7]-$[I+1&7],B=1/Math.sqrt(p*p+c*c);
return[p*B,c*B]}function T($){var p=$[2];$[2]=$[6];$[6]=p;var p=$[3];$[3]=$[7];$[7]=p}function O($,p,c,B){if(B==null)B=0;
var Z=p[1],v=z(p),r=null,h,hc,dk,jR,ch,s,bx;if(Z==0){if(b(v)<0)T(v);var E=6,g=v[7]+v[1];for(var I=0;
I<6;I+=2){var u=v[I+1]+v[I+3];if(u<g){g=u;E=I}}v=v.slice(E).concat(v.slice(0,E));var j=N.A0.tJ(v,c[0],c[1]),A=Math.sqrt(P(v,v.slice(2))),K=Math.sqrt(P(v.slice(4),v.slice(6))),s=(A+K)*.5;
return[v,new fA(0,0,s,s/j)]}for(var I=0;I<$.length&&r==null;I++){h=$[I][1];for(var jC=0;jC<h.length&&r==null;
jC++)if(h[jC][0]==Z)r=h[jC]}var d=O($,r,c,B+1),q=d[0];d=d[1];for(var I=0;I<8;I+=2){var c6=q[I&7],e3=q[I+1&7],ks=q[I+2&7],cH=q[I+3&7];
for(var jC=0;jC<8;jC+=2){var bI=v[jC],aR=v[jC+1],ak=v[jC+2&7],cN=v[jC+3&7],gC=Math.abs(e.a.uO(c6,e3,ks,cH,bI,aR))+Math.abs(e.a.uO(c6,e3,ks,cH,ak,cN));
if(gC<=30){hc=jC;dk=I}}}var bD=M(q,dk),cu=M(v,hc),du=bD[0]-cu[0],bq=bD[1]-cu[1],hn=du*du+bq*bq;if(hn<.001){T(v);
hc={0:6,2:4,4:2,6:0}[hc]}while(hc!=(dk+4&7)){v.unshift(v.pop());hc=hc+1&7}var j=N.A0.tJ(v,c[0],c[1]),aK=e.W.tV(q,d);
aK=e.W.Sd(aK);var cQ=[v[hc],v[hc+1],v[hc+2&7],v[hc+3&7]];e.W.h(aK,cQ);var jf=e.a.w4(cQ);if(dk==0||dk==4){s=jf.q;
bx=s/j;jR=jf.x;ch=jf.y+(dk==0?-bx:0)}else{bx=jf._;s=bx*j;ch=jf.y;jR=jf.x+(dk==6?-s:0)}return[v,new fA(jR,ch,s,bx)]}function Y($,p){function c(K,s,r,h){var jC=C(K,[s,r]);
jC.push(h);return jC}var B=[];for(var Z=0;Z<$.length;Z++){var v=$[Z],E=v[1];for(var g=0;g<E.length;g++){var u=E[g],j=O($,u,p),A=j[0],K=e.W.tV(A,new fA(0,0,1,1));
B.push(c(K,.5,0,1));B.push(c(K,1,.5,3));B.push(c(K,.5,1,5));B.push(c(K,0,.5,7));B.push(c(K,.5,.5,[j?(j[1].q/j[1]._).toFixed(2):""].join(", ")))}}return B}function U($,p,c,B){var Z=[p],v=[p];
while(!0){var E=[];for(var I=0;I<$.length;I++){var g=$[I],u=!1;for(var j=0;j<Z.length;j++){if(g[1]==$[Z[j]][0]||g[0]==$[Z[j]][1])E.push(I)}}var A=Z.length;
for(var I=0;I<E.length;I++){var K=E[I],g=$[K];if(v.indexOf(K)!=-1)continue;v.push(K);var s=O([[10,$]],g,B);
if(s[1].EI(c))Z.push(K)}if(A==Z.length)break}return Z}function W($,p,c){var B=c[0],Z=c[1],v=p.x-$[0],E=p.y-$[1],g=e.a.LA($[0],$[1],v,E,Z[0],Z[1],B[0]-Z[0],B[1]-Z[1]);
return[$[0]+g*v,$[1]+g*E]}function t($,p,c){$=JSON.parse(JSON.stringify($));var B=$[p[1]][1][p[2]],Z=p[3]>=8,v=p[3]&7;
if((v&1)==0)return $;var E=k(v);if(v==1||v==7){var g=B[5+E],u=B[5+2-E],j=B[5+(v==1?3:1)],A=B[5+(v==1?1:3)],K=g[1],s=W(K,c,u);
if(!Z&&P(s,u[1])<P(A[0],u[1]))return $;g[0]=u[0]=s;j[0]=W(K,c,j)}else{var j=B[5+E],K=j[1],g=B[5+(v==3?0:2)],s=W(K,c,g);
if(!Z&&P(s,g[1])>P(g[0],g[1]))return $;if(Math.sign(g[1][0]-g[0][0])!=Math.sign(g[1][0]-s[0]))return $;
j[0]=s}return $}function _($,p,c){var B=p[0]-$[0],Z=p[1]-$[1],v=e.a.LA(c[0],c[1],-Z,B,$[0],$[1],B,Z);
return[c[0]-Z*v,c[1]+B*v]}function n($,p,c){var B=c[0],Z=c[1],C=_($,p,c),v=C[0],E=C[1],g=_($,c,p),u=e.a.LA(v,E,B-v,Z-E,p[0],p[1],g[0]-p[0],g[1]-p[1]);
return[v+(B-v)*u,E+(Z-E)*u]}function y($,p){var c=$[5][1],B=$[7][1],Z=n(c,B,p),v=[c,B,Z];v.sort(function(u,j){return u[0]-j[0]});
if(b([v[0][0],v[0][1],v[1][0],v[1][1],v[2][0],v[2][1]])<0){var E=v[1];v[1]=v[2];v[2]=E}var g=[v.indexOf(c),v.indexOf(B),v.indexOf(Z)];
return[v,g]}function F($,p,c){$=JSON.parse(JSON.stringify($));var B=p[1],Z=$[B][1][p[2]],v=p[3];if((v&1)!=1)return $;
var E=y(Z,c),g=E[1][2],u=E[0][g],j=JSON.parse(JSON.stringify(Z));$[B][1].push(j);j[0]=o();j[1]=Z[0];
j[2]=-10+v;j[3]=g;j[4]=u;if(v==1||v==5){j[7][3]=j[8][3]=g;j[7][1]=j[8][1]=u;if(v==5){j[5][0]=j[7][0]=Z[6][0];
j[8][0]=z(Z).slice(4,6)}}else{j[5][3]=j[6][3]=g;j[5][1]=j[6][1]=u;if(v==3){j[5][0]=j[7][0]=Z[8][0];j[6][0]=z(Z).slice(4,6)}}return $}function a($,p,c){$=JSON.parse(JSON.stringify($));
var B=p[1],Z=$[B][1][p[2]],v=Z[2]+10,E=v+4&7,g=v==1||v==5,u=Z[5+k(g?7:1)][1],j=Z[5+k(E)][0],A=Z[5+k(v)][0];
Z[2]=(g?90:0)+(P(j,u)<P(A,u)?180:0);var K=x(z(Z),c);for(var I=5;I<9;I++)Z[I]=K[I];return $}function V($,p,c){var eK=$.length>>1,B,Z=$[2*eK-3]-c,v=$[2*eK-2]-p,E=$[2*eK-1]-c,g=!1,u=0;
for(var I=0;I<eK;I++){B=v;Z=E;v=$[2*I]-p;E=$[2*I+1]-c;if(Z==E)continue;g=E>Z}for(var I=0;I<eK;I++){B=v;
Z=E;v=$[2*I]-p;E=$[2*I+1]-c;if(Z<0&&E<0)continue;if(Z>0&&E>0)continue;if(B<0&&v<0)continue;if(Z==E&&Math.min(B,v)<=0)return!0;
if(Z==E)continue;var j=B+(v-B)*-Z/(E-Z);if(j==0)return!0;if(j>0)u++;if(Z==0&&g&&E>Z)u--;if(Z==0&&!g&&E<Z)u--;
g=E>Z}return(u&1)==1}function D($,p,c,B,Z){var v=null;for(var E=0;E<$.length;E++){var g=$[E][1];for(var u=0;
u<g.length;u++){var j=z(g[u]);if(V(j,p,c)||Z&&Z[0]==E&&Z[1]==u&&v==null){v=[E,u];if(B){var A=O($,g[u],B),K=e.W.tV(A[0],A[1]),s=[p,c];
K=e.W.Sd(K);e.W.h(K,s);v.push(s)}}}}return v}function l($,p){for(var c=0;c<$.length;c++){var B=$[c][1],Z=p[c];
if(Z.length==0)continue;var v=Q(B,Z);for(var E=0;E<B.length;E++){if(v.indexOf(B[E][0])!=-1){B.splice(E,1);
E--}}}for(var c=0;c<$.length;c++)if($[c][1].length==0){$.splice(c,1);c--}return $}function Q($,p){var c=[];
for(var I=0;I<10;I++)for(var B=0;B<$.length;B++){var Z=$[B];if(p.indexOf(B)!=-1||c.indexOf(Z[1])!=-1)if(c.indexOf(Z[0])==-1)c.push(Z[0])}return c}function m($){var p=L.AW($,0,$.length),c=p.split("\n").slice(1);
function B(){return parseFloat(c.shift())}function Z(){var bI=[B(),B()];v(1);return bI}function v(eK){for(var I=0;
I<eK;I++)c.shift()}var E=[],g=B();for(var u=0;u<g;u++){var j=B(),A=B(),K=[];E.push([j,K]);for(var s=0;
s<A;s++){var r=B(),h=B(),jC=B(),d=B(),q=Z(),hc=[r,h,jC,d,q];K.push(hc);for(var I=0;I<4;I++){var dk=Z(),c6=Z(),e3=B()==1,ks=B(),cH=B();
hc.push([dk,c6,e3,ks,cH])}}}return E}function R($){function p(A){c.push(A[0],A[1],"")}var c=["tNaF203"];
c.push($.length);for(var B=0;B<$.length;B++){c.push($[B][0]);var Z=$[B][1];c.push(Z.length);for(var v=0;
v<Z.length;v++){var E=Z[v];c.push(E[0],E[1],E[2],E[3]);p(E[4]);for(var I=0;I<4;I++){var g=E[5+I];p(g[0]);
p(g[1]);c.push(g[2]?1:0,g[3],g[4])}}}var u=c.join("\n"),j=new Uint8Array(u.length);L.Xi(j,0,u);return j}return{M3:m,Fv:R,a86:z,afM:x,eE:H,aBF:t,LZ:Y,aBl:function($,p){return p&&(p[3]&1)==0&&$[p[1]][1].length==1},Em:function($,p){return p&&(p[3]&1)==1},QI:O,ahp:F,a10:a,a9B:l,Of:Q,XQ:D,jk:U}}();
e.aiC=function(){var o=0,P=0,x=15,S=256;function w(b,i,M,T,O,Y){var U=(O-1)*i,W=Y*i;return b[W+T]-b[W+M-1]-b[U+T]+b[U+M-1]}var z=Math.round(x/8),k=[];
function f(b,i){for(var M=0;M<i.length;M++){var T=i[M],O=0,Y=0,U=b[T.SL],W=U.lh,t=U.V,_=U.Y;for(var n=-x;
n<=x;n++)for(var y=-x;y<=x;y++){var F=y+T.ani,a=n+T.aaZ;if(y*y+n*n>x*x||F<0||a<0||F>=t||a>=t)continue;
var V=W[a*t+F];O+=y*V;Y+=n*V}T.DI=Math.atan2(Y,O)}}function C(b,i,M,T,O){var Y=~~(b+.5),U=~~(i+.5);return w(M,T,Y-z,Y+z,U-z,U+z)}function H(b,i,M,T,O){o=T;
P=O;if(k.length==0){var Y=new e.C.hh(16200817),_=8,n=0;function U(q){var l=q[0]-q[2],Q=q[1]-q[3];return l*l+Q*Q}function W(){var q=0,hc=0;
while(q===0)q=Y.get();while(hc===0)hc=Y.get();return Math.sqrt(-2*Math.log(q))*Math.cos(2*Math.PI*hc)}var t=W,y=[];
while(n!=S){var F=Math.max(-x,Math.min(x,t()*_)),a=Math.max(-x,Math.min(x,t()*_)),V=Math.max(-x,Math.min(x,t()*_)),D=Math.max(-x,Math.min(x,t()*_)),l=F-V,Q=a-D,m=Math.sqrt(l*l+Q*Q);
if(m<3||m>12)continue;k.push(F,a,V,D);n++}}var R=20;for(var $=0;$<i.length;$++){var p=i[$],c=b[p.SL],B=c.SO,M=c.lh,T=c.V,O=c.Y,Z=p.ani,v=p.aaZ,E=p.DI,g=Math.cos(E),u=Math.sin(E),j=new Uint8Array(S>>>3);
p.WP=j;for(var I=0;I<S;I++){var A=I*4,F=k[A+0],a=k[A+1],V=k[A+2],D=k[A+3],K=g*F-u*a,s=u*F+g*a,r=g*V-u*D,h=u*V+g*D,jC=C(Z+K,v+s,B,T,O),d=C(Z+r,v+h,B,T,O);
j[I>>>3]|=(jC<d?0:1)<<(I&7)}}}return{aq9:f,a2M:H}}();e.auc=function(){function o(P,w){var x=[[9]],z=Date.now(),S=[];
for(var k=0;k<P.length;k++){var f=P[k],C=f.SO,H=f.V,b=f.Y,T=9,_=1,p=24;if(C==null)continue;var i=new Float32Array(H*b),M=new Uint8Array(H*b),O=T>>>1,Y=O>>>1,U=Math.round(T/3);
if(U!=T/3)throw"e";var W=1/(T*T),t=1.2*(T/9);for(var n=O+1;n<b-O;n+=_)for(var y=O+1;y<H-O;y+=_){var F=e.dL(C,H,y-Y,y+Y,n-O,n+O)-3*e.dL(C,H,y-Y,y+Y,n-O+U,n+O-U),a=e.dL(C,H,y-O,y+O,n-Y,n+Y)-3*e.dL(C,H,y-O+U,y+O-U,n-Y,n+Y),V=y-O+1,D=y+O-1,l=n-O+1,Q=n+O-1,m=e.dL(C,H,V,y-1,l,n-1)+e.dL(C,H,y+1,D,n+1,Q)-e.dL(C,H,y+1,D,l,n-1)-e.dL(C,H,V,y-1,n+1,Q),R=(a*F-.9*m*(.9*m))*(W*W);
i[n*H+y]=Math.abs(R);M[n*H+y]=R<0?0:1}var $=H*_;for(var n=p;n<b-p;n+=_)for(var y=p;y<H-p;y+=_){var I=n*H+y,c=i[I];
if(c<16)continue;if(i[I-_]>=c||i[I+_]>=c)continue;if(i[I-$-_]>=c||i[I-$]>=c||i[I-$+_]>=c)continue;if(i[I+$-_]>=c||i[I+$]>=c||i[I+$+_]>=c)continue;
S.push({x:~~(y*f.rr+.5),y:~~(n*f.rr+.5),ani:y,aaZ:n,SL:k,P:c,ah1:M[I],zp:t})}}if(w!=null){S.sort(function(A,K){return K.P-A.P});
S=S.slice(0,w)}return S;var B=[];for(var I=0;I<S.length;I++){var Z=!0,v=S[I];for(var E=0;E<S.length;
E++){var g=S[E];if(E!=I&&g.P>v.P&&(g.SL==v.SL+1||g.SL==v.SL-1)){var u=v.x-g.x,j=v.y-g.y;if(u*u+j*j<5){Z=!1;
break}}}if(Z)B.push(v)}console.log(S.length,B.length);return B}return{a2K:o}}();e.tF={};e.tF.ad9=function(o){var P=o.length,w=e.tF.a1e(o,!1),z=0,S=1;
throw"e";var x=[];for(var I=0;I<P;I++)x[I]=e.tF.aec(w[I]);var k=o[0][1],f=e.tF.match(w[z],w[S],x[S]);
console.log(f.length);var C=Math.max(Math.min(f.length,40),f.length*.54);C=Math.min(C,200);var H=f.slice(0,C),b=e.cL.a7Y(w[z],w[S],H,k.q,k._),i=e.cL.afG(b,[0,0,0],1),M=k.q/2,T=k._/2,O=1/Math.max(M,T);
for(var I=0;I<1;I++){var Y=H[I],U=w[z][Y[0]],W=w[S][Y[1]],t=e.cL.ajD(i,O*(U.x-M),O*(U.y-T),O*(W.x-M),O*(W.y-T))}var _=e.cL.awj(b,k),n=[];
for(var I=0;I<2;I++){var y=_[I],F=[y[0][0],y[0][1],y[0][2],y[1][0],y[1][1],y[1][2],y[2][0],y[2][1]],a=N.DH.lH(o[I],null,F);
n.push([a.buffer,a.rect])}return[e.tF.an5(n[0],n[1],w[z],w[S],H,b,_,k)]};e.tF.wV=function(o,P){var w=o.length,x=!1,z=Date.now(),S=e.tF.a1e(o,!1,1e4);
if(x)console.log("Descriptors ready",Date.now()-z);z=Date.now();for(var I=0;I<w;I++){var k=o[I][1];for(var f=0;
f<S[I].length;f++){S[I][f].x+=k.x;S[I][f].y+=k.y}}if(x)console.log("shifted",Date.now()-z);z=Date.now();
var C=[];for(var I=0;I<w;I++)C[I]=e.tF.aec(S[I]);if(x)console.log("trees built",Date.now()-z);z=Date.now();
var H=[];for(var I=0;I<w-1;I++)for(var f=I+1;f<w;f++){var b=e.tF.match(S[I],S[f],C[f]);if(x)console.log("Matches found",I,f,b.length);
b=b.slice(0,b.length>>>1);if(b.length<10)continue;var i=e.tF.a5e(S[I],S[f],b,2);H.push([I,f,b,i])}H.sort(function(D,l){return l[2].length-D[2].length});
if(x)console.log("Matches found",Date.now()-z);z=Date.now();var M=[],T=new UnionFind(w);for(var I=0;
I<H.length;I++){var O=H[I],Y=T.find(O[0]),U=T.find(O[1]);if(Y!=U){M.push(O);T.link(Y,U)}}var W=[];for(var I=0;
I<w;I++)W[I]=[1,0,0,0,1,0,0,0];var t=[0],_=new Uint8Array(w);_[t[0]]=1;while(t.length!=0){var U=t.pop(),i=W[U],n=[];
for(var I=0;I<M.length;I++){var O=M[I],y=O[0],F=O[1];if(y==U&&_[F]==0){W[F]=e.W.j$(i,O[3]);t.push(F);
_[F]=1}if(F==U&&_[y]==0){W[y]=e.W.j$(i,e.W.Sd(O[3]));t.push(y);_[y]=1}}}if(P==null){var a=[];for(var I=0;
I<w;I++)a.push([W[I][2],I]);a.sort(function(D,l){return D[0]-l[0]});P=a[a.length>>>1][1]}var V=e.W.Sd(W[P]);
for(var I=0;I<w;I++)W[I]=e.W.j$(W[I],V);if(x)console.log("Transforms reordered",Date.now()-z);z=Date.now();
return W};e.tF.a1e=function(o,P,w){var x=[],z=!1;for(var I=0;I<o.length;I++){var S=o[I][0],k=o[I][1],f=k.q,C=k._,H=e.U(k.c());
e.KN(S,H);var b=Date.now(),i=e.tF.a7O(H,k,!0);if(z)console.log("Pyramid built ---------------",Date.now()-b);
b=Date.now();var M=e.auc.a2K(i,w);if(z)console.log("SURF Generation",Date.now()-b);b=Date.now();if(!P){e.aiC.aq9(i,M);
if(z)console.log("ORB Orientations",Date.now()-b);b=Date.now();e.aiC.a2M(i,M,H,f,C);if(z)console.log("ORB Descriptors",Date.now()-b);
b=Date.now()}x.push(M)}return x};e.tF.a7O=function(o,P,w){var x=[],z=[o,P];e._I(z);if(w){var S=e.auN(o,P),k=S.rect,f=[S.eD,k];
e._I(f)}for(var I=0;I<z.length;I++){var C=z[2*I],H=z[2*I+1],b=H.q,i=H._,M=Math.min(b,i);if(M<30)break;
if(M<1600)x.push({lh:C,V:b,Y:i,rr:1<<I,SO:e.NV(C,b,i)});if(!w)continue;var C=f[2*I],H=f[2*I+1],b=H.q,i=H._,M=Math.min(b,i);
if(M<30)break;if(M<1600)x.push({lh:C,V:b,Y:i,rr:(1<<I)*3/2,SO:e.NV(C,b,i)})}return x};e.tF.a5e=function(o,P,w,x){var z=Date.now(),S,k=0,f=0,C=w.length,H=new Float64Array(2);
for(var b=0;b<3e3;b++){var i=~~(Math.random()*C),M=~~(Math.random()*C),T=~~(Math.random()*C),O=~~(Math.random()*C),$=0,p=0;
if(i==M||i==T||i==O||M==T||M==O||T==O)continue;var Y=w[i],U=w[M],W=w[T],t=w[O],_=o[Y[0]],n=P[Y[1]],y=o[U[0]],F=P[U[1]],a=o[W[0]],V=P[W[1]],D=o[t[0]],l=P[t[1]],Q=[_.x,_.y,y.x,y.y,a.x,a.y,D.x,D.y],m=[n.x,n.y,F.x,F.y,V.x,V.y,l.x,l.y],R=e.W.a7q(Q,m);
if(R[0]==0&&R[1]==0&&R[3]==0&&R[4]==0)continue;var c=C-k+2;for(var I=0;I<C&&I-$<c;I++){var B=o[w[I][0]],Z=P[w[I][1]];
e.W.P5(Z.x,Z.y,R,H);var v=H[0]-B.x,E=H[1]-B.y,g=v*v+E*E;if(g<x){$++;p+=g}}if($>k||$==k&&p<f){S=R;k=$;
f=p}}return S};var dY=new Uint8Array(256);for(var I=0;I<256;I++){var gx=0,eK=I;while(eK!=0){eK=eK&eK-1;
gx++}dY[I]=gx}e.tF.aB9=function(o,P,w){var x=0,z=o.length;for(var I=0;I<z&&x<w;I++)x+=dY[o[I]^P[I]];
return x};e.tF.a3A=function(o,P,w,top,x){if(x[w]==1)return;var z=e.tF.aB9(o.WP,P.WP,top[0]);if(z<top[0]){if(z<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=z;top[3]=w}else{top[0]=z;top[1]=w}}x[w]=1};e.tF.aec=function(o){var P=[],w=[],x=[[],[]],z=4;
for(var I=0;I<o.length;I++)(o[I].ah1==0?P:w).push(I);for(var S=0;S<2;S++){var k=new Array(z),f=[],C=S==0?P:w,H=C.length/256,b=[];
for(var i=0;i<32;i++){var M=new Array(256),Y=0;for(var T=0;T<256;T++)M[T]=[];for(var T=0;T<C.length;
T++){var O=C[T];M[o[O].WP[i]].push(O)}for(var T=0;T<256;T++)Y+=Math.abs(M[T].length-H);b.push([Y,i,M])}b.sort(function(U,W){return U[0]-W[0]});
var f=[],k=[];x[S]=[f,k];for(var I=0;I<z;I++){f.push(b[I][1]);k.push(b[I][2])}}return x};e.tF.match=function(o,P,w){var x=[],z=new Uint16Array(P.length);
z.fill(65535);var S=new Uint8Array(P.length),top=new Uint32Array(4),k=[];for(var f=0;f<o.length;f++){var C=o[f],H=C.WP;
top.fill(1e6);S.fill(0);var b=w[C.ah1];for(var i=0;i<b[1].length;i++){var M=b[1][i][H[b[0][i]]];for(var T=0;
T<M.length;T++){var O=M[T];e.tF.a3A(C,P[O],O,top,S)}}if(top[2]<50&&top[2]<top[0]*.5){var Y=z[top[3]];
if(Y==65535){z[top[3]]=x.length;x.push([f,top[3],top[2]])}else if(top[2]<x[Y][2]){x[Y]=[f,top[3],top[2]]}}}x.sort(function(U,W){return U[2]-W[2]});
return x};e.tF.a1a=function(o){var P=new fA;for(var I=0;I<o.length;I++)P=P.It(o[I][1]);var w=e.U(P.c()*4);
for(var I=0;I<o.length;I++)e.C.Iv("norm",o[I][0],o[I][1],w,P,P,1);return[w,P]};e.tF.an5=function(o,P,w,x,z,S,k,f){var C=o[1].clone(),H=C.clone();
C.x=C.y=0;var b=P[1].clone(),i=b.clone();b.x=b.y=0;b.x=C.q;var M=C.It(b),T=i.y-H.y,O=e.U(M.c()*4);e.sR(o[0],C,O,M);
e.sR(P[0],new fA(b.x,b.y+T,b.q,b._),O,M);var Y=document.createElement("canvas");Y.width=M.q;Y.height=M._;
var U=Y.getContext("2d");U.lineWidth=.5;U.putImageData(new ImageData(new Uint8ClampedArray(O.buffer),M.q,M._),0,0);
if(S){var W=S[0],t=e.zr.VI(W),_=C.q,n=f.q;for(var I=0;I<z.length;I++){var y=z[I],o=w[y[0]],P=x[y[1]];
U.strokeStyle="#"+"ff0000";U.beginPath();var F=e.cL.afB(t,k[0],P,0,n),a=e.cL.afB(W,k[1],o,0,n);U.moveTo(-H.x+F[0],-H.y+F[1]);
U.lineTo(-H.x+F[2],-H.y+F[3]);U.moveTo(_-i.x+a[0],-i.y+T+a[1]);U.lineTo(_-i.x+a[2],-i.y+T+a[3]);U.stroke()}}if(z){var V=z.length;
for(var I=0;I<V;I++){var y=z[I],o=w[y[0]],P=x[y[1]];U.strokeStyle="#"+"ffff00"}}var D=new Uint8Array(U.getImageData(0,0,M.q,M._).data.buffer);
if(!1){for(var l=0;l<2;l++){var Q=l==0?w:x,m=l*C.q;for(var I=0;I<Q.length;I++){var R=Q[I],$=~~R.x,p=~~R.y,c=(p*M.q+$+m)*4;
D[c+1]=D[c+2]=R.amU*60;D[c+0]=0;D[c+3]=255}}}return[D,M]};e.stack={};e.stack.stack=function(o,P,w){var x=o.length,z=P.length;
if(x==1){P.set(o[0]);return}if(w=="avrg"||w=="stdv"||w=="summ"||w=="vari"){var S=1/x;for(var I=0;I<z;
I++){var k=0;for(var f=0;f<x;f++)k+=o[f][I];var C=~~(k*S+.5);if(w=="avrg"||(I&3)==3)P[I]=C;else if(w=="summ")P[I]=255*Math.pow(Math.min(255,k)*(1/255),1/2.4);
else{var H=0;for(var f=0;f<x;f++){var b=o[f][I]-C;H+=b*b}var i=Math.sqrt(H*S)*(1/255);if(w=="stdv")P[I]=255*Math.pow(i,1/2.4);
else P[I]=255*Math.pow(i*i,1/2.4)}}}else if(w=="maxx"){for(var I=0;I<z;I++){var M=0;for(var f=0;f<x;
f++)M=Math.max(M,o[f][I]);P[I]=M}}else if(w=="minn"){for(var I=0;I<z;I++){var M=255;for(var f=0;f<x;
f++)M=Math.min(M,o[f][I]);P[I]=M}}else if(w=="medn"||w=="rang"){var T=function(W,t){return W-t},O=new Array(x),Y=0,U=0;
if((x&1)==0){U=x>>>1;Y=U-1}else{Y=U=x>>>1}for(var I=0;I<z;I++){for(var f=0;f<x;f++)O[f]=o[f][I];O.sort(T);
if(w=="medn")P[I]=O[Y]+O[U]>>>1;else P[I]=(I&3)==3?O[x-1]:O[x-1]-O[0]}}else console.log(w)};e.mZ={};
e.mZ.a3T=function(o,P,w,x){var z=Date.now(),S=new Uint32Array(P*w),k=new Uint8Array(P*w);while(!0){k.fill(0);
S.fill(0);var f=[],C=0;for(var H=0;H<w;H++){for(var b=0;b<P;b++){var I=H*P+b;if(k[I]==0){var i=f.length,M=e.mZ.Ea(o,P,w,b,H,k,S,i);
f.push([i,b,H,M[0],M[1],o[I]]);if(M[0]<x)C++}}}if(C==0)break;var T=f.length,O=new UnionFind(T),Y=[];
for(var I=0;I<T;I++)Y.push([]);for(var I=0;I<T;I++){var M=f[I],U=M[4],W=0,t=0;if(M[3]>=x)continue;var i=M[0];
for(var _=0;_<U.length;_+=2){var n=S[U[_+1]*P+U[_]],y=f[n];if(y[3]>t){t=y[3];W=n}}if(O.find(i)!=O.find(W)){O.link(i,W);
Y[i].push(W);Y[W].push(i)}}var F=new Uint32Array(T);F.fill(4294967295);var a=new Uint32Array(T);for(var I=0;
I<T;I++){if(F[I]!=4294967295||Y[I].length==0)continue;var V=[I],D=[I],l=I,Q=f[I][3];while(D.length!=0){var m=D.pop(),R=Y[m];
for(var _=0;_<R.length;_++){var $=R[_];if(V.indexOf($)==-1){V.push($);D.push($);var p=f[$];if(p[3]>Q){Q=p[3];
l=$}}}}for(var _=0;_<V.length;_++){F[V[_]]=l;var c=f[l];a[V[_]]=o[c[2]*P+c[1]]}}for(var H=0;H<w;H++)for(var b=0;
b<P;b++){var I=H*P+b,B=F[S[I]];if(B!=4294967295)o[I]=a[B]}}};e.mZ.Ea=function(o,P,w,x,z,S,k,f){var C=[x,z],H=o[z*P+x],b=0,i=[];
S[z*P+x]=1;while(C.length!=0){var M=C.pop(),T=C.pop(),I=M*P+T;k[I]=f;b++;if(M!=w-1)if(o[I+P]==H){if(S[I+P]==0){C.push(T,M+1);
S[I+P]=1}}else i.push(T,M+1);if(M!=0)if(o[I-P]==H){if(S[I-P]==0){C.push(T,M-1);S[I-P]=1}}else i.push(T,M-1);
if(T!=P-1)if(o[I+1]==H){if(S[I+1]==0){C.push(T+1,M);S[I+1]=1}}else i.push(T+1,M);if(T!=0)if(o[I-1]==H){if(S[I-1]==0){C.push(T-1,M);
S[I-1]=1}}else i.push(T-1,M)}return[b,i]};e.mZ.aud=function(o,P,w){var x=new Uint32Array(P*w);for(var I=0;
I<x.length;I++)x[I]=o[I];var z=[];for(var S=0;S<w;S++){for(var k=0;k<P;k++){var I=S*P+k,f=x[I];if(f<1e3){var C=e.mZ.aFZ(x,P,w,k,S,1e3+z.length);
z.push([k,S,f,C,0])}}}for(var I=0;I<x.length;I++)x[I]-=1e3;var H=new Float32Array(P*w);H.fill(P+w);for(var S=0;
S<w;S++)for(var k=0;k<P;k++){var I=S*P+k,f=x[I];if(k==0||S==0||x[I-1]!=f||x[I-P]!=f)H[I]=0;else{var b=Math.min(H[I],H[I-1]+1,H[I-P]+1);
if(x[I-P-1]==f)b=Math.min(b,H[I-P-1]+1.414);H[I]=b}}for(var S=w-1;S>=0;S--)for(var k=P-1;k>=0;k--){var I=S*P+k,f=x[I];
if(k==P-1||S==w-1||x[I+1]!=f||x[I+P]!=f)H[I]=0;else{var b=Math.min(H[I],H[I+1]+1,H[I+P]+1);if(x[I+P+1]==f)b=Math.min(b,H[I+P+1]+1.414);
H[I]=b}}for(var S=0;S<w;S++)for(var k=0;k<P;k++){var I=S*P+k,i=z[x[I]];if(H[I]>i[4]){i[4]=H[I];i[0]=k;
i[1]=S}}return z};e.mZ.aFZ=function(o,P,w,x,z,S){var k=[x,z],f=o[z*P+x],C=0;o[z*P+x]=4294967295;while(k.length!=0){var z=k.pop(),x=k.pop(),I=z*P+x;
C++;o[I]=S;if(z<w-1&&o[I+P]==f){k.push(x,z+1);o[I+P]=4294967295}if(z>0&&o[I-P]==f){k.push(x,z-1);o[I-P]=4294967295}if(x>0&&o[I-1]==f){k.push(x-1,z);
o[I-1]=4294967295}if(x<P-1&&o[I+1]==f){k.push(x+1,z);o[I+1]=4294967295}}return C};e.mZ.ao6=function(o,P,w,x,z){var S=e.mZ.anN(o.buffer,P,w).Yf,k=Date.now(),f=[];
for(var I=0;I<S.length;I++){var C=S[I],H=1;for(var b=0;b<H;b++)f.push(C.JJ)}var i=new Uint32Array(f),M=UPNG.quantize.getKDtree(new Uint8Array(i.buffer),x),T=[P,1,-P,-1,P+1,-P+1,-P-1,P-1,P+P,2,-P-P,-2,P+P-1,P+P+1,P+2,-P+2,-P-P+1,-P-P-1,-P-2,P-2,P+P+2,-P-P+2-P-P-2,P+P-2],O=new Uint8Array(P*w),Y=o;
for(var U=0;U<w;U++)for(var W=0;W<P;W++){var I=U*P+W<<2,t=Y[I]*(1/255),_=Y[I+1]*(1/255),n=Y[I+2]*(1/255),y=Y[I+3]*(1/255),F=e.mZ.mx(M,t,_,n,y,z);
if(F==null){var a=[],V=0;while(V<20){var D=U*P+W+T[V]<<2,l=Y[D]*(1/255),Q=Y[D+1]*(1/255),m=Y[D+2]*(1/255),R=Y[D+3]*(1/255),$=e.mZ.mx(M,l,Q,m,R,.005);
if($!=null){if(a.indexOf($)==-1){a.push($);$.Hr=1}else $.Hr++}V++}a.sort(function(y,n){return n.Hr-y.Hr});
while(a.length!=0&&a[a.length-1].Hr<3)a.pop();if(a.length==0)F=e.mZ.mx(M,t,_,n,y,100);else if(a.length==1)F=a[0];
else if(a.length==2){var p=a[0],c=a[1],B=p.est.q,Z=c.est.q,v=Z[0]-B[0],E=Z[1]-B[1],g=Z[2]-B[2],u=Z[3]-B[3],j=t-B[0],A=_-B[1],K=n-B[2],s=y-B[3],r=v*v+E*E+g*g+u*u,h=j*j+A*A+K*K+s*s,jC=(j*v+A*E+K*g+s*u)/r,d=h-jC*jC*r;
if(d<.5)F=jC<.5?p:c;else{F=e.mZ.mx(M,t,_,n,y,100)}}else{var p=a[0],c=a[1],q=a[2],B=p.est.q,Z=c.est.q,hc=q.est.q,dk=B[0]-hc[0],c6=B[1]-hc[1],e3=B[2]-hc[2],ks=B[3]-hc[3],cH=Z[0]-hc[0],bI=Z[1]-hc[1],aR=Z[2]-hc[2],ak=Z[3]-hc[3],cN=hc[0]-t,gC=hc[1]-_,bD=hc[2]-n,cu=hc[3]-y,du=dk*dk+c6*c6+e3*e3+ks*ks,bq=dk*cH+c6*bI+e3*aR+ks*ak,hn=cN*dk+gC*c6+bD*e3+cu*ks,aK=dk*cH+c6*bI+e3*aR+ks*ak,cQ=cH*cH+bI*bI+aR*aR+ak*ak,jR=cN*cH+gC*bI+bD*aR+cu*ak,ch=1/(bq*aK-du*cQ),jC=(cQ*hn-jR*bq)*ch,bx=(jR*du-hn*aK)*ch,jf=1-jC-bx,dW=Math.max(jC,bx,jf);
if(dW==jC)F=p;else if(dW==bx)F=c;else F=q}}O[I>>2]=F.ind}return{Yg:O,Yf:M[1]}};e.mZ.anN=function(o,P,w){var x=[],z={},S=P-1,k=w-1,f=0,C=new Uint32Array(o),H=[-P-1,-P,-P+1,-1,1,P-1,P,P+1,P+P,2,-P-P,-2,P+P-1,P+P+1,P+2,-P+2,-P-P+1,-P-P-1,-P-2,P-2,P+P+2,-P-P+2-P-P-2,P+P-2];
for(var b=1;b<k;b++)for(var i=1;i<S;i++){var M=b*P+i,T=C[M],O=!0;for(var I=0;I<8;I++)O=O&&C[M+H[I]]==T;
if(O){f++;var Y=z[T];if(Y==null){z[T]=x.length;x.push({JJ:T,pN:1})}else x[Y].pN++}}return{Yf:x,asb:f}};
e.mZ.mx=function(o,P,w,x,z,S){var k=UPNG.quantize.getNearest(o[0],P,w,x,z);return e.mZ.aDt(k,P,w,x,z)<S?k:null};
e.mZ.aDt=function(o,P,w,x,z){var S=o.est.q,k=P-S[0],f=w-S[1],C=x-S[2],H=z-S[3];return k*k+f*f+C*C+H*H};
(function(){e.mZ.Cv=function(f,C,H,b,i){var M=f.gM,T=C*H,O=f.CH,Y=f.Yg,U=x(b,Y,M,T),W=new UnionFind(M),a=0;
for(var t=1;t<H;t++)for(var _=1;_<C;_++){var I=t*C+_,n=Y[I],y=0;if((y=Y[I-1])!=n&&U[y]==U[n]&&o(O,0,n*6,y*6)<i)W.link(n,y);
if((y=Y[I-C])!=n&&U[y]==U[n]&&o(O,0,n*6,y*6)<i)W.link(n,y)}var F=new Uint16Array(M);F.fill(65535);var V=new Uint16Array(M);
for(var I=0;I<M;I++){var D=W.find(I);if(F[D]==65535)F[D]=a++;V[I]=F[D]}var l=new Uint16Array(T);for(var I=0;
I<T;I++)l[I]=V[Y[I]];return{Yg:l,gM:a}};e.mZ.q7=function(f,C,H){var b=e.U(C),i=f.length;for(var I=0;
I<i;I++){var M=H[I];if(M==0||M==255){var T=f[I],O=2-(M>>>7),Y=b[T]=b[T]|O;if(Y==3)return T}}return-1};
function o(f,C,H,b){var i=1/f[H+5],M=1/f[b+5],T=f[H]*i-f[b]*M,O=f[H+1]*i-f[b+1]*M,Y=f[H+2]*i-f[b+2]*M,U=f[H+3]*i-f[b+3]*M,W=f[H+4]*i-f[b+4]*M,t=Math.sqrt(T*T+O*O+Y*Y),_=Math.sqrt(U*U+W*W);
return~~(t+C*_+.5)}function P(f,C){var I=0,H=f.length;while(I!=H&&f[I]!=C)I+=2;return I==H?-1:I}function w(f,I){if(I==f.length-2){f.pop();
f.pop()}else{f[I+1]=f.pop();f[I]=f.pop()}}e.mZ.aal=function(f,C,H,b,i){var M=new Uint32Array(i*4400),T=[];
for(var I=0;I<i;I++)T.push([]);for(var O=0;O<H;O++)for(var Y=0;Y<C;Y++){var I=O*C+Y,U=I<<2,W=b[I],t=0,_=f[U]>>>4,n=f[U+1]>>>4,y=f[U+2]>>>4;
M[W*4400+(_<<8|n<<4|y)]++;M[W*4400+4096]++;M[W*4400+4100+(_<<4|n)]++;M[W*4400+4360+_]++;if(Y!=0&&(t=b[I-1])!=W&&P(T[W],t)==-1){T[W].push(t,0);
T[t].push(W,0)}if(O!=0&&(t=b[I-C])!=W&&P(T[W],t)==-1){T[W].push(t,0);T[t].push(W,0)}}for(var I=0;I<i;
I++){var y=T[I];for(var F=0;F<y.length;F+=2)y[F+1]=k(M,I,y[F])}return[M,T]};function x(f,C,H,b){var i=e.U(H);
for(var I=0;I<b;I++){var M=f[I];if(M==0||M==255)i[C[I]]=2-(M>>>7)}return i}e.mZ.ase=function(f,C,H,b,i,M,T){var O=C*H,Y=T[0],U=T[1],W=new UnionFind(b),t=x(i,f,b,O),_=-1,n=!0,y=0;
for(var I=0;I<b;I++)if(t[I]==1){if(_==-1)_=I;else W.link(I,_)}if(_==-1){for(var I=0;I<O;I++)M[I]=i[I]==255?255:0;
return}while(n){while(n){n=!1;for(var I=0;I<b;I++){if(t[I]==0){var F=z(U[I]);if(t[F]==1){t[I]=t[F];n=!0;
W.link(I,F)}}}}n=!0;y=0;while(n){n=!1;for(var I=0;I<b;I++){if(t[I]==0){var F=z(U[I]);if(t[F]==0){var a=I*4400,V=F*4400;
for(var D=0;D<4400;D+=2){Y[a+D]+=Y[V+D];Y[a+D+1]+=Y[V+D+1]}S(U,Y,I,F);y++;t[F]=3;n=!0;W.link(I,F)}}}}n=y!=0}var l=W.find(_);
for(var I=0;I<b;I++)t[I]=W.find(I)==l?255:0;for(var I=0;I<O;I++){M[I]=t[f[I]]}for(var I=0;I<O;I++){var F=i[I];
if(F==0||F==255)M[I]=F}};function z(f){var C=0,H=0,b=f.length;for(var i=0;i<b;i+=2){var M=f[i+1];if(M>H){H=M;
C=i}}return f[C]}function S(f,C,H,b){var i=f[H],M=f[b];w(i,P(i,b));w(M,P(M,H));for(var I=0;I<M.length;
I+=2){var T=M[I],O=f[T];w(O,P(O,b));if(P(O,H)==-1){O.push(H,0);i.push(T,0)}}for(var I=0;I<i.length;I+=2){var T=i[I],O=f[T],Y=k(C,H,T);
i[I+1]=Y;O[P(O,H)+1]=Y}}function k(f,C,H){var b=0,i=4096,M=C*4400,T=H*4400;for(var O=0;O<16;O++){if(f[M+4360+O]==0||f[T+4360+O]==0)continue;
for(var Y=0;Y<16;Y++){var U=O<<4|Y;if(f[M+4100+U]==0||f[T+4100+U]==0)continue;var W=M+(U<<4),t=T+(U<<4);
for(var I=0;I<16;I++)b+=Math.sqrt(f[W+I]*f[t+I])}}var _=b/Math.sqrt(f[M+i]*f[T+i]);return~~(999.99999*_)}}());
e.mZ.I8=function(){var o,P,w,k=0,f=0;function x(T,O,Y){var U=[],W=Y,t=Y,_=Y>>>2;for(var n=0;n<O;n++)for(var y=0;
y<T;y++){var F=~~((y+.5)*W),a=~~((n+.5)*t),V=1e9,D=Math.max(0,F-_),l=Math.min(P,F+_+1),Q=Math.max(0,a-_),m=Math.min(w,a+_+1);
for(var R=Q;R<m;R++)for(var $=D;$<l;$++){var p=z($,R);if(p<V){F=$;a=R;V=p}}U.push(F,a)}return U}function z(T,O){var Y=(O*P+T)*4,U=P*4,W=S(Y-4,Y)+S(Y,Y+4),t=S(Y-U,Y)+S(Y,Y+U);
return W+t}function S(T,O){var Y=o[T]-o[O],U=o[T+1]-o[O+1],W=o[T+2]-o[O+2];return Y*Y+U*U+W*W}function C(T,O,Y,U){f++;
if(U<k)k=U;T[U].push(O,Y)}function H(T){f--;while(T[k].length==0)k++}function b(T,O,Y,U,W){var t=(Y*P+O)*4,_=U[W+5],n=1/_,y=o[t]*_-U[W],F=o[t+1]*_-U[W+1],a=o[t+2]*_-U[W+2],V=O*_-U[W+3],D=Y*_-U[W+4],l=Math.sqrt(y*y+F*F+a*a),Q=Math.sqrt(V*V+D*D);
return~~((l+T*Q)*n+.5)}function i(T,O,Y,U,W){o=T;P=O;w=Y;k=0;f=0;var t=P*w,_=Math.round(Math.min(P,w)/(U?U:30));
if(_==0)_=1;var n=(W?W:30)/_,y=Math.floor(P/_),F=Math.floor(w/_),a=new Uint16Array(t);for(var I=0;I<t;
I++)a[I]=65535;var V=x(y,F,_),D=V.length>>>1;if(D>65535)throw D;var l=new Uint32Array(D*6),Q=[];for(var I=0;
I<1e3+w;I++)Q.push([]);var m=1e3*700/(P*w),R=Math.floor(F*m);R=Math.min(F,Math.max(4,R));R=F;var l=new Uint32Array(D*6);
for(var $=0;$<F;$+=R){var p=Math.min($+R,F);for(var c=$;c<p;c++)for(var B=0;B<y;B++){var I=c*y+B;C(Q,V[I*2+1]<<16|V[I*2],I,0)}var Z=Math.min(w,p*_);
if($+R>=F)Z=w;M(l,Q,a,n,Z)}o=null;return{Yg:a,gM:D,CH:l,a48:n}}function M(T,O,Y,U,W){while(f!=0){H(O);
var t=O[k].pop(),_=O[k].pop(),n=_>>>16,y=_&65535,I=n*P+y;if(Y[I]==null)throw"e";if(Y[I]==65535){var F=t*6,a=I<<2;
Y[I]=t;T[F]+=o[a];T[F+1]+=o[a+1];T[F+2]+=o[a+2];T[F+3]+=y;T[F+4]+=n;T[F+5]++;if(n!=W-1&&Y[I+P]==65535)C(O,n+1<<16|y,t,b(U,y,n+1,T,F));
if(n!=0&&Y[I-P]==65535)C(O,n-1<<16|y,t,b(U,y,n-1,T,F));if(y!=0&&Y[I-1]==65535)C(O,n<<16|y-1,t,b(U,y-1,n,T,F));
if(y!=P-1&&Y[I+1]==65535)C(O,n<<16|y+1,t,b(U,y+1,n,T,F))}}}i.K1=function(T,O,Y,U,W,t){o=T;P=O;w=Y;var _=U.gM=U.gM+1,n=U.Yg,y=U.CH,F=U.CH=new Uint32Array(_*6);
F.set(y,0);var a=n[W[1]*P+W[0]];for(var I=0;I<n.length;I++)if(n[I]==a)n[I]=65535;for(var I=0;I<6;I++)F[a*6+I]=0;
var V=[];for(var I=0;I<1e3+w;I++)V.push([]);for(var I=0;I<W.length;I+=2)C(V,W[I+1]<<16|W[I],a,0);for(var I=0;
I<t.length;I+=2)C(V,t[I+1]<<16|t[I],_-1,0);M(F,V,n,U.a48,w);o=null};return i}();e.ai5={};e.ai5.ah7=function(){var o=11,P=7,w=o>>>1,eK=P>>>1,x=2,z=2e3/x,S=[],f=null,C="";
function k(b,i,M){var T=(b[i+0]-b[M+0])*(1/255),O=(b[i+1]-b[M+1])*(1/255),Y=(b[i+2]-b[M+2])*(1/255),U=(b[i+3]-b[M+3])*(1/255),W=T*T*.125+O*O*.25+Y*Y*.5+U*U;
return S[~~(W*z)]}function H(b,i,M,T,O,Y){var U=Date.now(),W=e.U(i*M);e.KN(b,W);var t=UZIP.adler(W,0,i*M);
if(t!=C){var _=e.NV(W,i,M);f=e.U(i*M*4);C=t;var n=[1,1/9,1/25,1/49,1/81];for(var y=0;y<M;y++)for(var F=0;
F<i;F++)for(var I=0;I<4;I++){var a=Math.max(1,F-I),V=Math.min(i-1,F+I),D=Math.max(1,y-I),l=Math.min(M-1,y+I),Q=e.dL(_,i,a,V,D,l);
if(isNaN(Q))throw F+","+y+","+I+","+Q;f[(y*i+F)*4+I]=Q*n[I]}}if(fj.Dx){var m=fj.nR(0,i,M);m.set(b);var R=fj.nR(1,i,M);
R.set(f);var $=fj.nR(2,i,M);fj.kU($);fj.filter.xS({type:fj.filter.a3H,w5:new Float32Array([1/i,1/M]),ag7:R.wH,aGB:O,apC:Y},m.wH);
$.get(T)}else{for(var I=0;I<2e3;I++)S[I]=Math.exp(-(I/2e3)*x*(100+(1-O)*(1-O)*1e4));var p=eK+2;for(var y=p;
y<M-p;y++)for(var F=p;F<i-p;F++){var c=0,B=0,Z=0,v=0;for(var E=0;E<o;E++)for(var g=0;g<o;g++){var u=F+g-w,j=y+E-w;
if(u==F&&j==y||u<p||j<p||u>=i-p||j>=M-p)continue;var A=k(f,(y*i+F)*4,(j*i+u)*4),K=j*i+u<<2;c+=A*b[K+0];
B+=A*b[K+1];Z+=A*b[K+2];v+=A}if(v==0){continue}var s=1/v,r=(y*i+F)*4;T[r+0]=~~((1-Y)*s*c+Y*T[r+0]);T[r+1]=~~((1-Y)*s*B+Y*T[r+1]);
T[r+2]=~~((1-Y)*s*Z+Y*T[r+2])}}}return H}();e.aBH=function(){var o=6,P=o>>>1,w=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],x=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function z(Y,U){var W=!1,t=Y.length,_=U[0],a=5,D=0,l=0;for(var I=1;I<t;I++)_=_.It(U[I]);if((_.q&1)!=0)_.q++;
if((_._&1)!=0)_._++;var n=_.q,y=_._,F=Math.max(n,y);while(F>>>a>8&&a<10)a++;var V=1<<a;if(n%V!=0)D=V-n%V;
if(y%V!=0)l=V-y%V;_.$b(D>>>1,l>>>1);n=_.q;y=_._;if(n%V!=0||y%V!=0)throw"e";var Q=Date.now(),m=[],R=e.U(_.c()),$=[],p=n*y,c=new Float32Array(n*y*2);
for(var I=0;I<t;I++){var B=U[I],Z=e.U(B.c());e.KN(Y[I],Z);R.fill(0);e.d0(Z,B,R,_);m.push(R.slice(0));
var v=B.x-_.x,E=B.y-_.y,g=v+B.q-2,u=E+B._;for(var j=0;j<B._;j++){var A=(j+E)*n;for(var K=0;K<v;K++)R[A+K]=R[A+v];
for(var K=g;K<n;K++)R[A+K]=R[A+g-1]}for(var K=0;K<n;K++){for(var j=0;j<E;j++)R[j*n+K]=R[E*n+K];for(var j=u;
j<y;j++)R[j*n+K]=R[(u-1)*n+K]}var s=new Float32Array(n*y*2);$.push(s);for(var r=0;r<p;r++)s[r*2]=R[r]*(1/255);
C(s,c,n,y,a);S(s,n,y,a)}if(W)console.log("to gray, decompose",Date.now()-Q);Q=Date.now();var h=e.U(n*y);
for(var j=0;j<y;j++)for(var K=0;K<n;K++){var jC=0,d=0,q=j*n+K<<1;for(var I=0;I<t;I++){var hc=$[I],dk=hc[q],c6=hc[q+1],e3=dk*dk+c6*c6;
if(e3>d){d=e3;jC=I}}h[q>>>1]=jC}if(W)console.log("max abs value",Date.now()-Q);Q=Date.now();k(h,n,y,a);
f(h,n,y);if(W)console.log("denoise",Date.now()-Q);Q=Date.now();var ks=c.slice(0);for(var j=0;j<y;j++)for(var K=0;
K<n;K++){var I=j*n+K,q=I<<1,cH=$[h[I]];ks[q]=cH[q];ks[q+1]=cH[q+1]}H(ks,c,n,y,a);if(W)console.log("compose",Date.now()-Q);
Q=Date.now();for(var r=0;r<p;r++){var e3=ks[r*2]*255,jC=0,d=1e9;for(var I=0;I<t;I++){var bI=Math.abs(m[I][r]-e3);
if(bI<d){d=bI;jC=I}m[I][r]=0}m[jC][r]=255}if(W)console.log("toRGB",Date.now()-Q);Q=Date.now();return[m,_]}function S(Y,U,W,t){var _=U>>>t,n=W>>>t,y=1e-4;
for(var F=0;F<W;F++)for(var a=0;a<U;a++){if(a<_&&F<n)continue;var V=(F*U+a)*2,D=Y[V],l=Y[V+1],Q=D*D+l*l;
if(Q<y)D=l=0;else{var m=(Q-y)/Q;D*=m;l*=m}Y[V]=D;Y[V+1]=l}}function k(Y,U,W,t){for(var _=0;_<t;_++){var n=U>>>_,y=W>>>_,F=n>>>1,a=y>>>1;
for(var V=0;V<a;V++)for(var D=0;D<F;D++){var l=V*U+F+D,Q=(V+a)*U+F+D,m=(V+a)*U+D,R=Y[l],$=Y[Q],p=Y[m];
if(R==$==p){}else if(R==$)Y[m]=R;else if($==p)Y[l]=$;else if(R==p)Y[Q]=R}}}function f(Y,U,W){for(var t=1;
t<W-1;t++)for(var _=1;_<U-1;_++){var I=t*U+_,n=Y[I-U],y=Y[I-1],F=Y[I],a=Y[I+1],V=Y[I+U],D=n==y&&n==a||n==a&&a==V||a==V&&y==V||n==y&&V==y;
if(D)Y[I]=n==y?n:y==a?y:n;else if(F>n&&F>y&&F>a&&F>V)Y[I]=n+y+a+V>>>2;else if(F<n&&F<y&&F<a&&F<V)Y[I]=n+y+a+V>>>2}}function C(Y,U,W,t,_){for(var I=0;
I<_;I++){var n=W>>>I,y=t>>>I;b(Y,U,W,t,n,y)}}function H(Y,U,W,t,_){for(var I=_-1;I>=0;I--){var n=W>>I,y=t>>I;
i(Y,U,W,t,n,y)}}function b(Y,U,W,t,_,n){T(Y,U,W,t,_,n,!0);T(U,Y,W,t,_,n,!1)}function i(Y,U,W,t,_,n){O(Y,U,W,t,_,n,!0);
O(U,Y,W,t,_,n,!1)}function M(Y,U,W,t,_,n){var y=W*t+U<<1;Y[y]=_;Y[y+1]=n}function T(Y,U,W,t,_,n,y){var gx=y?_:n,F=y?n:_,a=F>>>1;
for(var V=0;V<gx;V++){for(var D=0;D<F;D+=2){var l=0,Q=0,m=0,R=0,$=D>>>1;for(var p=0;p<6;p++){var c=D+p-3;
if(c<0)c=F+c;if(c>=F)c=c-F;var B=(y?c*W+V:V*W+c)<<1,Z=Y[B],v=Y[B+1],E=w[p],g=x[p];l+=Z*E[0]-v*E[1];Q+=v*E[0]+Z*E[1];
m+=Z*g[0]-v*g[1];R+=v*g[0]+Z*g[1]}if(y){M(U,V,$,W,l,Q);M(U,V,$+a,W,m,R)}else{M(U,$,V,W,l,Q);M(U,$+a,V,W,m,R)}}}}function O(Y,U,W,t,_,n,y){var gx=y?_:n,F=y?n:_,a=F>>>1,V,D,l,Q;
for(var m=0;m<gx;m++){for(var R=0;R<F;R++){var $=0,p=0;for(var c=R+3&1;c<6;c+=2){var B=R-c+3>>1;if(B<0)B=a+B;
if(B>=a)B=B-a;if(y){V=m;D=B;l=m;Q=B+a}else{D=m;V=B;Q=m;l=B+a}var Z=D*W+V<<1,v=Q*W+l<<1,E=Y[Z],g=Y[Z+1],u=Y[v],j=Y[v+1],A=w[c],K=x[c];
$+=E*A[0]+u*K[0];$+=g*A[1]+j*K[1];p+=g*A[0]+j*K[0];p-=E*A[1]+u*K[1]}if(y)M(U,m,R,W,$,p);else M(U,R,m,W,$,p)}}}return{m3:z}}();
e.anc=function(){var o=Math.floor(12e3/8),P=UPNG.quantize.findNearest,w,x,z,S;function k(M,T,O,Y){var U=[M,new fA(0,0,T,O)],t;
e.nJ(U);var W=Date.now(),_=T+O>>>1;for(var I=_<1e3?2:4;I>=0;I-=2){var n=U[I+1],x=n.q,z=n._;if(t==null){t=new Uint8Array(x*z);
P(U[I],t,Y)}f(U[I],x,z,Y,t);if(I!=0){var y=U[I-1],F=y.q,a=y._,V=new Uint8Array(F*a);for(var D=0;D<a;
D++)for(var l=0;l<F;l++)V[D*F+l]=t[(D>>>1)*x+(l>>>1)];t=V}}return t}function f(M,T,O,Y,U){w=M;x=T;z=O;
S=Y;var W=S.length>>>2,t=[-1,-x,1,x],_=[-1,-x,-x+1,2,x+1,x],n=[-1,-x,1,x+1,x+x,x-1],y=8,F=x+z>>>1,a=1e9;
while(F>512){y>>=1;F>>=1}y=Math.max(1,Math.min(4,y));for(var V=0;V<y;V++){var D=0;for(var l=0;l<z;l++)for(var Q=0;
Q<x;Q++){if(b(U,Q,l)<2)continue;var m=l*x+Q,R=U[m],$=1e9,p=0,c=Q==0||l==0||Q>x-3||l>z-3;if(c){$=1e9;
for(var I=0;I<W;I++){U[m]=I;var B=i(U,Q,l,2);if(B<$){$=B;p=I}}U[m]=p;if(p==R&&Q+1<x&&U[m+1]==R){$=1e9;
for(var I=0;I<W;I++){U[m]=U[m+1]=I;var B=i(U,Q,l,2)+i(U,Q+1,l,2);if(B<$){$=B;p=I}}U[m]=U[m+1]=p}if(p==R&&l+1<z&&U[m+x]==R){$=1e9;
for(var I=0;I<W;I++){U[m]=U[m+x]=I;var B=i(U,Q,l,2)+i(U,Q,l+1,2);if(B<$){$=B;p=I}}U[m]=U[m+x]=p}}else{$=1e9;
p=-1;for(var I=0;I<4;I++){var Z=U[m+t[I]];if(Z==p)continue;U[m]=Z;var B=i(U,Q,l,2);if(B<$){$=B;p=Z}}U[m]=p;
if(p==R&&Q+1<x&&U[m+1]==R){$=1e9;p=-1;for(var I=0;I<6;I++){var Z=U[m+_[I]];if(Z==p)continue;U[m]=U[m+1]=Z;
var B=i(U,Q,l,2)+i(U,Q+1,l,2);if(B<$){$=B;p=Z}}U[m]=U[m+1]=p}if(p==R&&l+1<z&&U[m+x]==R){$=1e9;p=-1;for(var I=0;
I<6;I++){var Z=U[m+n[I]];if(Z==p)continue;U[m]=U[m+x]=Z;var B=i(U,Q,l,2)+i(U,Q,l+1,2);if(B<$){$=B;p=Z}}U[m]=U[m+x]=p}}D+=$}}}function C(M){var T=0;
for(var O=0;O<z;O++)for(var Y=0;Y<x;Y++)T+=i(M,Y,O,1);return T/(x*z)}function H(M,T,O){var I=O*x+T,Y=I*4,U=M[I]*4,W=w[Y]-S[U],t=w[Y+1]-S[U+1],_=w[Y+2]-S[U+2],n=w[Y+3]-S[U+3];
return W*W+t*t+_*_+n*n}function b(M,T,O){if(T<0||T>=x||O<0||O>=z)throw"e";var I=O*x+T,Y=M[I],U=0;if(O>0&&Y!=M[I-x])U+=2;
if(T>0&&Y!=M[I-1])U+=2;if(T<x-1&&Y!=M[I+1])U+=2;if(O<z-1&&Y!=M[I+x])U+=2;if(O>0&&T>0&&Y!=M[I-x-1])U++;
if(O<z-1&&T>0&&Y!=M[I+x-1])U++;if(O>0&&T<x-1&&Y!=M[I-x+1])U++;if(O<z-1&&T<x-1&&Y!=M[I+x+1])U++;return U}function i(M,T,O,Y){return H(M,T,O)+b(M,T,O)*Y*o}return k}();
var h1=function(){function o(){this.c=0;this.Za=0;this.RX={};this.oC=[];this.mD=1e5;this.jv=1e5;this.FN=-1;
this.rn=-1;this.color=0}function P(eK){this.vb=eK;this.Bs=new Array(eK);this.JJ=new Array(eK*6);this.aa3=0;
this.Qr=new Array(eK*2);this.alpha=new Array(eK);this.ev=new Array(eK);this.VJ=new Array(eK)}function w(z,S,k,f){function C(U,W,z,S){return z[S*W+U]}function H(I){var a=z.length;
while(I<a&&z[I]==0)I++;return I<a?I:-1}function b(U,W,a){for(var I=2;I<5;I++){var V=0;for(var D=-I+1;
D<=I-1;D++){V+=C(U+D,W+I-1,z,S)==a?1:-1;V+=C(U+I-1,W+D-1,z,S)==a?1:-1;V+=C(U+D-1,W-I,z,S)==a?1:-1;V+=C(U-I,W+D,z,S)==a?1:-1}if(V>0)return 1;
else if(V<0)return 0}return 0}function i(a,O){var Y=new o,U=a,W=O,V=0,D=1,l;Y.color=z[O*S+a];Y.sign=C(a,O,z,S)==Y.color?"+":"-";
while(1){Y.oC.push(U,W);if(U>Y.FN)Y.FN=U;if(U<Y.mD)Y.mD=U;if(W>Y.rn)Y.rn=W;if(W<Y.jv)Y.jv=W;Y.Za++;U+=V;
W+=D;Y.c-=U*D;if(U==a&&W==O)break;var Q=C(U+(V+D-1>>1),W+(D-V-1>>1),z,S)==Y.color,m=C(U+(V-D-1>>1),W+(D+V-1>>1),z,S)==Y.color;
if(m&&!Q){if(f.Hi=="right"||f.Hi=="black"&&Y.sign=="+"||f.Hi=="white"&&Y.sign=="-"||f.Hi=="majority"&&b(U,W,Y.color)||f.Hi=="minority"&&!b(U,W,Y.color)){l=V;
V=-D;D=l}else{l=V;V=D;D=-l}}else if(m){l=V;V=-D;D=l}else if(!Q){l=V;V=D;D=-l}}return Y}var M=0,T=[];
while(!0){var M=H(M);if(M==-1)break;var O=Math.floor(M/S),Y=i(M-O*S,O);for(var I=0;I<Y.oC.length-2;I+=2){var U=Y.oC[I],W=Y.oC[I+1],t=W*S+U;
if(U==Y.oC[I+2]&&W+1==Y.oC[I+3]&&z[t]!=0)h1.fill(t,z,S,0)}if(Y.c>f.a4P)T.push(Y)}for(var I=0;I<T.length;
I++)T[I].parent=-1;var _=Date.now();for(var I=1;I<T.length;I++){var n=T[I];for(var y=I-1;y>=0;y--){var F=T[y];
if(n.mD<F.mD||n.FN>F.FN||n.jv<F.jv||n.rn>F.rn)continue;if(!h1.J9(F.oC,n.oC[0]+.5,n.oC[1]+.5))continue;
n.parent=y;break}}return T}function x(z,S){function k(V,D,l,Q,m){this.x=V;this.y=D;this.Lk=l;this.y4=Q;
this.ss=m}function f(V,eK){return(eK+V)%eK}function C(V,D,l,Q){return V*Q-l*D}function H(V,D,l,Q){return V*l+D*Q}function b(V,D,l){if(V<=l)return V<=D&&D<l;
else return V<=D||D<l}function i(V,D,l){var Q=0;Q+=D*V[0]*D;Q+=D*V[1]*l;Q+=D*V[2];Q+=l*V[3]*D;Q+=l*V[4]*l;
Q+=l*V[5];Q+=V[6]*D;Q+=V[7]*l;Q+=V[8];return Q}function M(V,D,l){return D+V*(l-D)}function T(V,D,l,Q){var m=Math.sign(l-V),R=-Math.sign(Q-D);
return m*(l-V)-R*(Q-D)}function O(V,D){return Math.sqrt(V*V+D*D)}function Y(V,D,l,Q,m){var R=1-V;return R*R*R*D+3*(R*R*V)*l+3*(V*V*R)*Q+V*V*V*m}function U(V,D,l,Q,m,R,$,p){var c=C(V,D,$,p),B=C(l,Q,$,p),Z=C(m,R,$,p),v=c-2*B+Z,E=-2*c+2*B,g=c,u=E*E-4*v*g;
if(v==0||u<0)return-1;var j=Math.sqrt(u),A=(-E+j)/(2*v),K=(-E-j)/(2*v);if(A>=0&&A<=1)return A;else if(K>=0&&K<=1)return K;
else return-1}function W(a){var I,V,D;a.U3=a.oC[0];a.acg=a.oC[1];a.qE=[];var l=a.qE;l.push(new k(0,0,0,0,0));
for(I=0;I<a.Za;I++){V=a.oC[I<<1]-a.U3;D=a.oC[(I<<1)+1]-a.acg;l.push(new k(l[I].x+V,l[I].y+D,l[I].Lk+V*D,l[I].y4+V*V,l[I].ss+D*D))}}function t(a){var eK=a.Za,V=a.oC,D,l=new Array(eK),Q=new Array(eK),m=new Array(4),R,$,p,c,B,Z,v,E,g,u,j,I,A,K,s,r,h,jC,d=0;
a.mg=new Array(eK);for(I=eK-1;I>=0;I--){if(V[I<<1]!=V[d<<1]&&V[(I<<1)+1]!=V[(d<<1)+1])d=I+1;Q[I]=d}for(I=eK-1;
I>=0;I--){var q=f(I+1,eK)<<1;m[0]=m[1]=m[2]=m[3]=0;D=(3+3*(V[q]-V[I<<1])+(V[q+1]-V[(I<<1)+1]))/2;m[D]++;
R=0;$=0;p=0;c=0;d=Q[I];K=I;while(1){j=0;D=(3+3*Math.sign(V[d*2]-V[K*2])+Math.sign(V[d*2+1]-V[K*2+1]))/2;
m[D]++;if(m[0]&&m[1]&&m[2]&&m[3]){l[I]=K;j=1;break}g=V[d*2]-V[I*2];u=V[d*2+1]-V[I*2+1];if(C(R,$,g,u)<0||C(p,c,g,u)>0){break}if(Math.abs(g)<=1&&Math.abs(u)<=1){}else{B=g+(u>=0&&(u>0||g<0)?1:-1);
Z=u+(g<=0&&(g<0||u<0)?1:-1);if(C(R,$,B,Z)>=0){R=B;$=Z}B=g+(u<=0&&(u<0||g<0)?1:-1);Z=u+(g>=0&&(g>0||u<0)?1:-1);
if(C(p,c,B,Z)<=0){p=B;c=Z}}K=d;d=Q[K];if(!b(d,I,K)){break}}if(j==0){v=Math.sign(V[d*2]-V[K*2]);E=Math.sign(V[d*2+1]-V[K*2+1]);
g=V[K*2]-V[I*2];u=V[K*2+1]-V[I*2+1];s=C(R,$,g,u);r=C(R,$,v,E);h=C(p,c,g,u);jC=C(p,c,v,E);A=1e7;if(r<0){A=Math.floor(s/-r)}if(jC>0){A=Math.min(A,Math.floor(-h/jC))}l[I]=f(K+A,eK)}}A=l[eK-1];
a.mg[eK-1]=A;for(I=eK-2;I>=0;I--){if(b(I+1,l[I],A)){A=l[I]}a.mg[I]=A}for(I=eK-1;b(f(I+1,eK),A,a.mg[I]);
I--){a.mg[I]=A}}function _(a){function V(a,I,D){var eK=a.Za,g=a.oC,u=a.qE,j,A,K,s,r,Q,h,jC,E,d,q,hc,dk,c6,e3=0;
if(D>=eK){D-=eK;e3=1}if(e3==0){j=u[D+1].x-u[I].x;A=u[D+1].y-u[I].y;s=u[D+1].y4-u[I].y4;K=u[D+1].Lk-u[I].Lk;
r=u[D+1].ss-u[I].ss;Q=D+1-I}else{j=u[D+1].x-u[I].x+u[eK].x;A=u[D+1].y-u[I].y+u[eK].y;s=u[D+1].y4-u[I].y4+u[eK].y4;
K=u[D+1].Lk-u[I].Lk+u[eK].Lk;r=u[D+1].ss-u[I].ss+u[eK].ss;Q=D+1-I+eK}q=(g[I<<1]+g[D<<1])/2-g[0];hc=(g[(I<<1)+1]+g[(D<<1)+1])/2-g[1];
c6=g[D<<1]-g[I<<1];dk=-(g[(D<<1)+1]-g[(I<<1)+1]);h=(s-2*j*q)/Q+q*q;jC=(K-j*hc-A*q)/Q+q*hc;E=(r-2*A*hc)/Q+hc*hc;
d=dk*dk*h+2*dk*c6*jC+c6*c6*E;return Math.sqrt(d)}var I,D,l,Q,eK=a.Za,m=new Array(eK+1),R=new Array(eK+1),$=new Array(eK),p=new Array(eK+1),c=new Array(eK+1),B=new Array(eK+1),Z,v,E;
for(I=0;I<eK;I++){E=f(a.mg[f(I-1,eK)]-1,eK);if(E==I){E=f(I+1,eK)}if(E<I){$[I]=eK}else{$[I]=E}}D=1;for(I=0;
I<eK;I++){while(D<=$[I]){p[D]=I;D++}}I=0;for(D=0;I<eK;D++){c[D]=I;I=$[I]}c[D]=eK;l=D;I=eK;for(D=l;D>0;
D--){B[D]=I;I=p[I]}B[0]=0;m[0]=0;for(D=1;D<=l;D++){for(I=B[D];I<=c[D];I++){v=-1;for(Q=c[D-1];Q>=p[I];
Q--){Z=V(a,Q,I)+m[Q];if(v<0||Z<v){R[I]=Q;v=Z}}m[I]=v}}a.apZ=l;a.apv=new Array(l);for(I=eK,D=l-1;I>0;
D--){I=R[I];a.apv[D]=I}}function n(a){function V(a,I,Z,$,p,ks){var eK=a.Za,cH=a.qE,bI=0,E;while(Z>=eK){Z-=eK;
bI+=1}while(I>=eK){I-=eK;bI-=1}while(Z<0){Z+=eK;bI-=1}while(I<0){I+=eK;bI+=1}var aR=cH[Z+1].x-cH[I].x+bI*cH[eK].x,ak=cH[Z+1].y-cH[I].y+bI*cH[eK].y,cN=cH[Z+1].y4-cH[I].y4+bI*cH[eK].y4,gC=cH[Z+1].Lk-cH[I].Lk+bI*cH[eK].Lk,bD=cH[Z+1].ss-cH[I].ss+bI*cH[eK].ss,v=Z+1-I+bI*eK;
$[ks]=aR/v;$[ks+1]=ak/v;var cu=(cN-aR*aR/v)/v,du=(gC-aR*ak/v)/v,bq=(bD-ak*ak/v)/v,hn=(cu+bq+Math.sqrt((cu-bq)*(cu-bq)+4*du*du))/2;
cu-=hn;bq-=hn;if(Math.abs(cu)>=Math.abs(bq)){E=Math.sqrt(cu*cu+du*du);if(E!=0){p[ks]=-du/E;p[ks+1]=cu/E}}else{E=Math.sqrt(bq*bq+du*du);
if(E!=0){p[ks]=-bq/E;p[ks+1]=du/E}}if(E==0){p[ks]=p[ks+1]=0}}var D=a.apZ,l=a.apv,eK=a.Za,Q=a.oC,m=a.U3,R=a.acg,$=new Array(D*2),p=new Array(D*2),c=new Array(D),B=new Array(3),I,Z,v,E,A,K,s,r,h,jC,d;
a.RX=new P(D);for(I=0;I<D;I++){Z=l[f(I+1,D)];Z=f(Z-l[I],eK)+l[I];$[I<<1]=0;$[(I<<1)+1]=0;p[I<<1]=0;p[(I<<1)+1]=0;
V(a,l[I],Z,$,p,I<<1)}for(I=0;I<D;I++){c[I]=[0,0,0,0,0,0,0,0,0];var g=p[I<<1]*p[I<<1]+p[(I<<1)+1]*p[(I<<1)+1],u=1/g;
if(g!=0){B[0]=p[(I<<1)+1];B[1]=-p[I<<1];B[2]=-B[1]*$[(I<<1)+1]-B[0]*$[I<<1];for(E=0;E<3;E++){c[I][E*3+0]=B[E]*B[0]*u;
c[I][E*3+1]=B[E]*B[1]*u;c[I][E*3+2]=B[E]*B[2]*u}}}var j=[0,0,0,0,0,0,0,0,0];for(I=0;I<D;I++){j[0]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=0;
var q=Q[l[I]<<1]-m,hc=Q[(l[I]<<1)+1]-R,dk=0,c6=0;Z=f(I-1,D);for(E=0;E<9;E+=3){j[E+0]=c[Z][E+0]+c[I][E+0];
j[E+1]=c[Z][E+1]+c[I][E+1];j[E+2]=c[Z][E+2]+c[I][E+2]}while(1){var e3=j[0]*j[4]-j[1]*j[3];if(e3!=0){dk=(-j[2]*j[4]+j[5]*j[0])/e3;
c6=(j[2]*j[3]-j[5]*j[0])/e3;break}if(j[0]>j[4]){B[0]=-j[1];B[1]=j[0]}else if(j[4]){B[0]=-j[4];B[1]=j[3]}else{B[0]=1;
B[1]=0}var g=B[0]*B[0]+B[1]*B[1],u=1/g;B[2]=-B[1]*hc-B[0]*q;for(E=0;E<3;E++){j[E*3+0]+=B[E]*B[0]*u;j[E*3+1]+=B[E]*B[1]*u;
j[E*3+2]+=B[E]*B[2]*u}}A=Math.abs(dk-q);K=Math.abs(c6-hc);if(A<=.5&&K<=.5){a.RX.Qr[I<<1]=dk+m;a.RX.Qr[(I<<1)+1]=c6+R;
continue}s=i(j,q,hc);h=q;jC=hc;if(j[0]!=0){for(d=0;d<2;d++){c6=hc-.5+d;dk=-(j[1]*c6+j[2])/j[0];A=Math.abs(dk-q);
r=i(j,dk,c6);if(A<=.5&&r<s){s=r;h=dk;jC=c6}}}if(j[4]!=0){for(d=0;d<2;d++){dk=q-.5+d;c6=-(j[3]*dk+j[5])/j[4];
K=Math.abs(c6-hc);r=i(j,dk,c6);if(K<=.5&&r<s){s=r;h=dk;jC=c6}}}for(E=0;E<2;E++){for(v=0;v<2;v++){dk=q-.5+E;
c6=hc-.5+v;r=i(j,dk,c6);if(r<s){s=r;h=dk;jC=c6}}}a.RX.Qr[I<<1]=h+m;a.RX.Qr[(I<<1)+1]=jC+R}}function y(a){var V=a.RX.vb,D=a.RX,I,l,Q,m,R,$,p,c,B;
for(I=0;I<V;I++){l=f(I+1,V);Q=f(I+2,V);var Z=D.Qr[I<<1],v=D.Qr[(I<<1)+1],E=D.Qr[Q<<1],g=D.Qr[(Q<<1)+1],u=D.Qr[l<<1],j=D.Qr[(l<<1)+1],A=M(.5,E,u),K=M(.5,g,j);
R=T(Z,v,E,g);if(R!=0){m=C(u-Z,j-v,E-Z,g-v)/R;m=Math.abs(m);$=m>1?1-1/m:0;$=$*(1/.75)}else{$=4/3}D.ev[l]=$;
var s=3*l<<1;if($>=S.auX){D.Bs[l]=0;D.JJ[s+0]=D.JJ[s+1]=0;D.JJ[s+2]=u;D.JJ[s+3]=j;D.JJ[s+4]=A;D.JJ[s+5]=K}else{if($<.55){$=.55}else if($>1){$=1}var r=.5+.5*$;
D.Bs[l]=1;D.JJ[s]=M(r,Z,u);D.JJ[s+1]=M(r,v,j);D.JJ[s+2]=M(r,E,u);D.JJ[s+3]=M(r,g,j);D.JJ[s+4]=A;D.JJ[s+5]=K}D.alpha[l]=$;
D.VJ[l]=.5}D.arI=1}function F(a){function V(){this.U4=0;this.Nu=0;this.Vn=0;this.Fo=0;this.hl=0;this.S$=0;
this.zp=0;this.alpha=0}function D(a,I,Z,cQ,jR,h,jC){var Q=a.RX.vb,ch=a.RX.JJ,bx=a.RX.Qr;if(I==Z)return 1;
var jf=I,u=f(I+1,Q),dW=f(jf+1,Q),gC=bx[I<<1],bD=bx[(I<<1)+1],bf=bx[u<<1],iu=bx[(u<<1)+1],dV=h[dW];if(dV==0)return 1;
var gb=O(gC-bf,bD-iu);for(jf=dW;jf!=Z;jf=dW){var dW=f(jf+1,Q),gP=f(jf+2,Q),eJ=bx[dW<<1],c1=bx[(dW<<1)+1],ku=bx[gP<<1],aC=bx[(gP<<1)+1];
if(h[dW]!=dV)return 1;if(Math.sign(C(bf-gC,iu-bD,ku-eJ,aC-c1))!=dV)return 1;if(H(bf-gC,iu-bD,ku-eJ,aC-c1)<gb*O(eJ-ku,c1-aC)*-.999847695156)return 1}var gU=f(I,Q)*3+2<<1,hR=f(I+1,Q)<<1,a7=f(Z,Q)<<1,dh=f(Z,Q)*3+2<<1,ks=ch[gU],cH=ch[gU+1],eS=bx[hR],d0=bx[hR+1],cJ=bx[a7],aO=bx[a7+1],a9=ch[dh],ac=ch[dh+1],d=bx[0],q=bx[1];
gU=Z*3+2<<1;var e7=ch[gU],b2=ch[gU+1],j=jC[Z]-jC[I];j-=C(e7-d,b2-q,e7-d,b2-q)/2;if(I>=Z){j+=jC[Q]}var jQ=eS-ks,g9=d0-cH,cx=cJ-ks,i8=aO-cH,fw=a9-ks,hi=ac-cH,dU=C(jQ,g9,cx,i8),dv=C(jQ,g9,fw,hi),bo=C(cx,i8,fw,hi),fV=dU+bo-dv;
if(dv==dU)return 1;var r=bo/(bo-fV),s=dv/(dv-dU),ck=dv*r/2;if(ck==0)return 1;var h8=j/ck,A=2-Math.sqrt(4-h8/.3);
cQ.Nu=M(r*A,ks,eS);cQ.Vn=M(r*A,cH,d0);cQ.Fo=M(s*A,a9,cJ);cQ.hl=M(s*A,ac,aO);cQ.alpha=A;cQ.S$=r;cQ.zp=s;
eS=cQ.Nu;d0=cQ.Vn;cJ=cQ.Fo;aO=cQ.hl;cQ.U4=0;for(jf=f(I+1,Q);jf!=Z;jf=dW){dW=f(jf+1,Q);var fS=bx[jf<<1],iS=bx[(jf<<1)+1],eJ=bx[dW<<1],c1=bx[(dW<<1)+1];
r=U(eS-ks,d0-cH,cJ-eS,aO-d0,a9-cJ,ac-aO,eJ-fS,c1-iS);if(r<-.5)return 1;var fh=Y(r,ks,eS,cJ,a9),h9=Y(r,cH,d0,aO,ac),gb=O(eJ-fS,c1-iS);
if(gb==0)return 1;var gi=C(eJ-fS,c1-iS,fh-fS,h9-iS)/gb;if(Math.abs(gi)>jR)return 1;if(H(eJ-fS,c1-iS,fh-fS,h9-iS)<0||H(fS-eJ,iS-c1,fh-eJ,h9-c1)<0){return 1}cQ.U4+=gi*gi}for(jf=I;
jf!=Z;jf=dW){dW=f(jf+1,Q);var gU=jf*3+2<<1,hR=dW*3+2<<1,dX=ch[gU],f8=ch[gU+1],kS=ch[hR],jJ=ch[hR+1];
r=U(eS-ks,d0-cH,cJ-eS,aO-d0,a9-cJ,ac-aO,kS-dX,jJ-f8);if(r<-.5)return 1;var fh=Y(r,ks,eS,cJ,a9),h9=Y(r,cH,d0,aO,ac),gb=O(kS-dX,jJ-f8);
if(gb==0)return 1;var gi=C(kS-dX,jJ-f8,fh-dX,h9-f8)/gb,gj=C(kS-dX,jJ-f8,bx[dW<<1]-dX,bx[(dW<<1)+1]-f8)/gb;
gj*=.75*a.RX.alpha[dW];if(gj<0){gi=-gi;gj=-gj}if(gi<gj-jR)return 1;if(gi<gj){cQ.U4+=(gi-gj)*(gi-gj)}}return 0}var l=a.RX,Q=l.vb,m=l.Qr,R=new Array(Q+1),$=new Array(Q+1),p=new Array(Q+1),c=new Array(Q+1),B,I,Z,v,E=new V,g,u,j,A,K,s,r,h=new Array(Q),jC=new Array(Q+1);
for(I=0;I<Q;I++){if(l.Bs[I]=="CURVE"){var d=m[f(I-1,Q)<<1],q=m[(f(I-1,Q)<<1)+1],hc=m[I<<1],dk=m[(I<<1)+1],c6=m[f(I+1,Q)<<1],e3=m[(f(I+1,Q)<<1)+1];
h[I]=Math.sign(C(hc-d,dk-q,c6-hc,e3-dk))}else{h[I]=0}}j=0;jC[0]=0;var ks=l.Qr[0],cH=l.Qr[1];for(I=0;
I<Q;I++){u=f(I+1,Q);if(l.Bs[u]=="CURVE"){A=l.alpha[u];var bI=I*3+2<<1,aR=u*3+2<<1,ak=l.JJ[bI],cN=l.JJ[bI+1],gC=m[u<<1],bD=m[(u<<1)+1],cu=l.JJ[aR],du=l.JJ[aR+1];
j+=.3*A*(4-A)*C(gC-ak,bD-cN,cu-ak,du-cN)/2;j+=C(ak-ks,cN-cH,cu-ks,du-cH)/2}jC[I+1]=j}R[0]=-1;$[0]=0;
p[0]=0;for(Z=1;Z<=Q;Z++){R[Z]=Z-1;$[Z]=$[Z-1];p[Z]=p[Z-1]+1;for(I=Z-2;I>=0;I--){v=D(a,I,f(Z,Q),E,S.a7f,h,jC);
if(v){break}if(p[Z]>p[I]+1||p[Z]==p[I]+1&&$[Z]>$[I]+E.U4){R[Z]=I;$[Z]=$[I]+E.U4;p[Z]=p[I]+1;c[Z]=E;E=new V}}}B=p[Q];
K=new P(B);s=new Array(B);r=new Array(B);Z=Q;for(I=B-1;I>=0;I--){var bq=f(Z,Q),hn=I*3+0<<1,aK=bq*3+0<<1;
if(R[Z]==Z-1){K.Bs[I]=l.Bs[bq];K.JJ[hn]=l.JJ[aK];K.JJ[hn+1]=l.JJ[aK+1];K.JJ[hn+2]=l.JJ[aK+2];K.JJ[hn+3]=l.JJ[aK+3];
K.JJ[hn+4]=l.JJ[aK+4];K.JJ[hn+5]=l.JJ[aK+5];K.Qr[I<<1]=l.Qr[bq<<1];K.Qr[(I<<1)+1]=l.Qr[(bq<<1)+1];K.alpha[I]=l.alpha[bq];
K.ev[I]=l.ev[bq];K.VJ[I]=l.VJ[bq];s[I]=r[I]=1}else{K.Bs[I]="CURVE";K.JJ[hn]=c[Z].Nu;K.JJ[hn+1]=c[Z].Vn;
K.JJ[hn+2]=c[Z].Fo;K.JJ[hn+3]=c[Z].hl;K.JJ[hn+4]=l.JJ[aK+4];K.JJ[hn+5]=l.JJ[aK+5];K.Qr[I<<1]=M(c[Z].zp,l.JJ[aK+4],m[bq<<1]);
K.Qr[(I<<1)+1]=M(c[Z].zp,l.JJ[aK+5],m[(bq<<1)+1]);K.alpha[I]=c[Z].alpha;K.ev[I]=c[Z].alpha;s[I]=c[Z].zp;
r[I]=c[Z].S$}Z=R[Z]}for(I=0;I<B;I++){u=f(I+1,B);K.VJ[I]=s[I]/(s[I]+r[u])}K.arI=1;a.RX=K}for(var I=0;
I<z.length;I++){var a=z[I];W(a);t(a);_(a);n(a);y(a);if(S.ak_)F(a)}}return{ao9:w,ary:x}}();h1.dd=function(o,P,w,x){var z={Hi:"minority",a4P:x,ak_:!0,auX:1,a7f:.2},S=h1.ao9(o,P,w,z);
h1.ary(S,z);return S};h1.m0=function(o){var P=[];for(var I=0;I<o.length;I++){var w=o[I],x=w.RX,z=["M"],S=[x.JJ[(x.vb-1)*6+4],x.JJ[(x.vb-1)*6+5]];
for(var k=0;k<x.vb;k++){var f=k*6;if(x.Bs[k]==1){z.push("C");for(var C=0;C<6;C++)S.push(x.JJ[f+C])}else if(x.Bs[k]==0){z.push("L");
for(var C=2;C<4;C++)S.push(x.JJ[f+C])}}z.push("Z");P.push({parent:w.parent,color:w.color,path:{i:S,LG:z}})}return P};
h1.J9=function(o,P,w){var eK=o.length>>1,x,z=o[2*eK-3]-w,S=o[2*eK-2]-P,k=o[2*eK-1]-w,f=k>z,C=0;for(var I=0;
I<eK;I++){x=S;z=k;S=o[2*I]-P;k=o[2*I+1]-w;if(z==k)continue;f=k>z}for(var I=0;I<eK;I++){x=S;z=k;S=o[2*I]-P;
k=o[2*I+1]-w;if(z<0&&k<0)continue;if(z>0&&k>0)continue;if(x<0&&S<0)continue;if(z==k&&Math.min(x,S)<=0)return!0;
if(z==k)continue;var H=x+(S-x)*-z/(k-z);if(H==0)return!0;if(H>0)C++;if(z==0&&f&&k>z)C--;if(z==0&&!f&&k<z)C--;
f=k>z}return(C&1)==1};h1.fill=function(o,P,w,x){var z=P[o],S=[o],k=0;while(k<S.length){var f=S[k];k++;
P[f]=x;if(P[f-w]==z){S.push(f-w);P[f-w]=254}if(P[f-1]==z){S.push(f-1);P[f-1]=254}if(P[f+1]==z){S.push(f+1);
P[f+1]=254}if(P[f+w]==z){S.push(f+w);P[f+w]=254}}};var gc=function(){function o(f){return Math.max(0,Math.min(1,f))}function P(f,C){var H=C<0?-C:C;
if(f>1)f=.99;f=f*.99;var b=Math.pow(H/5,.16),i=Math.pow(2,H<1?H:1+(H-1)*.8);if(C<0)i=1/i;f=b*(1-Math.pow(1-f,i))+(1-b)*f;
return f}function w(f,C){var H=C/100;f=f*.99;f=H*(.5-.5*Math.cos(f*Math.PI))+(1-H)*f;return f}var x=e.ww.qm(1,1,1,-.3),z=e.ww.Sd(x);
function S(f,C,H,b,i,M,T){var O=f[H],Y=f[H+1],U=f[H+2],W=e.ww.tM(x,[O,Y,U,1]);O=W[0];Y=W[1];U=W[2];O=P(O,b);
Y=P(Y,b);U=P(U,b);var W=e.ww.tM(z,[O,Y,U,1]);O=W[0];Y=W[1];U=W[2];O=o(O);Y=o(Y);U=o(U);O=w(O,i);Y=w(Y,i);
U=w(U,i);var t=im.aya(O,Y,U,M);O=t[0];Y=t[1];U=t[2];O=o(O);Y=o(Y);U=o(U);if(T){var _=new Uint8Array(4);
_[0]=~~(.5+O*255);_[1]=~~(.5+Y*255);_[2]=~~(.5+U*255);ft.wM(T,_,_,new fA(0,0,1,1));O=_[0]/255;Y=_[1]/255;
U=_[2]/255}C[H]=O;C[H+1]=Y;C[H+2]=U}function k(f,C,H,b,i,M){var T=i.Temp?i.Temp.v:0,O=i.Tint?i.Tint.v:0,Y=i.Ex12?i.Ex12.v:0,U=i.Cr12?i.Cr12.v:0,W=i.Vibr?i.Vibr.v:0,t=i.Strt?i.Strt.v:0,_=im.tV(T,O),n=null;
Y+=_.a4m;if(W!=0||t!=0)n=ft.C1("vibA",{Strt:i.Strt,vibrance:i.Vibr});var y=Date.now();if(M){var F=Math.pow(2,Y),a=f.length;
Y=0;var V=new Float32Array(4e3);for(var I=0;I<4e3;I++){var D=I*(1/1e3);D=e.LK(D);D*=F;D=e.Yd(D);D=o(D);
V[I]=D}for(var I=0;I<a;I+=3){b[I]=V[~~(f[I]*1e3)];b[I+1]=V[~~(f[I+1]*1e3)];b[I+2]=V[~~(f[I+2]*1e3)]}console.log(Date.now()-y,"Exposure normalizing");
y=Date.now()}else b.set(f);if(Y!=0||U!=0||T!=0||O!=0||n){var l=17,Q=1/(l-1),m=l*l*l,R=new Array(m*3);
for(var $=0;$<l;$++)for(var p=0;p<l;p++)for(var c=0;c<l;c++){var I=$*l*l+p*l+c,B=I*3;R[B]=$*Q;R[B+1]=p*Q;
R[B+2]=c*Q}for(var I=0;I<m;I++)S(R,R,I*3,Y,U,_,n);console.log(Date.now()-y,"making LUT");y=Date.now();
ICC.U.applyLUTFloat(R,l,b,b);console.log(Date.now()-y,"applying LUT");y=Date.now()}}return k}();function cL(){}cL.M3=function(o,P){var w=new Uint8Array(o),x=0,z=P.split("/").pop().split(".")[0];
function S(U){for(var I=0;I<U.length;I++)U[I].v.Nm.v=z+"/"+U[I].v.Nm.v.split("/").pop()}var k={MH:[],Nc:[],list:[]},f=L.Vp(w,x);
x+=2;if(f<=2){k=cL.aEc(w);S(k.list);return k}var C=L.Vp(w,x);x+=2;var H=L.AW(w,x,8);x+=8;var b=L.RS(w,x);
x+=4;if(b>0)k.MH=cL.ai3(w,x,b,C,f);x+=b;var i=L.AW(w,x,8);x+=8;var M=L.RS(w,x);x+=4;if(M>0)k.Nc=jF.iQ(w,x,M);
x+=M;var T=L.AW(w,x,8);x+=8;var O=L.RS(w,x);x+=4;if(O>0){var Y={};jk.SD(w,Y,x+4);k.list=Y.Brsh.v}x+=O;
var U=k.list;for(var I=0;I<U.length;I++){bh.ha.check(U[I].v)}S(U);return k};cL.m6=function(o,P){o.v.Nm.v=P};
cL.aEc=function(o){var P={MH:[],Nc:[],list:[]},w=0,x=L.Vp(o,w);w+=2;var z=L.Vp(o,w);w+=2;for(var I=0;
I<z;I++){var S=L.Vp(o,w);w+=2;var k=L.RS(o,w);w+=4;var f=w;if(S==2){var C={};P.MH.push(C);var H=L.RS(o,f);
f+=4;var b=L.Vp(o,f);f+=2;if(x==2){var i=L.Wb(o,f);f+=4+i.length*2+2}C.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";
f++;f+=8;C.sn=L.Wi(o,f);f+=16;var M=L.Vp(o,f);f+=2;var T=o[f];f++;var O=a$.kt(!1,M,o,C.sn.q,C.sn._,f,T);
cL.a94(C,O);var Y=bh.ja(C.id),U=Y.Brsh.v;U.Dmtr.v.val=C.sn.q;U.Spcn.v.val=b;P.list.push({t:"Objc",v:Y})}w+=k}return P};
cL.q0=function(o){var P=new bA,w=0,x=0;L.In(P,w,6);w+=2;L.In(P,w,2);w+=2;var z={},S=[],k={},f=[];for(var I=0;
I<o.list.length;I++){var C=o.list[I].v,H=C.Brsh.v;if(H.classID=="sampledBrush")z[H.sampledData.v]=!0;
if(C.Txtr)k[C.Txtr.v.Idnt.v]=!0}for(var I=0;I<o.MH.length;I++)if(z[o.MH[I].id])S.push(o.MH[I]);for(var I=0;
I<o.Nc.length;I++)if(z[o.Nc[I].id])f.push(o.Nc[I]);L.x8(P,w,"8BIMsamp");w+=8;w+=4;x=w;w=cL.aEi(P,w,S);
L.dr(P,x-4,w-x);L.x8(P,w,"8BIMpatt");w+=8;w+=4;x=w;w=jF.Y6(P,w,f);L.dr(P,x-4,w-x);var b=JSON.parse(JSON.stringify(o.list));
for(var I=0;I<b.length;I++)b[I].v.Nm.v=b[I].v.Nm.v.split("/").pop();var i={classID:"null",Brsh:{t:"VlLs",v:b}};
L.x8(P,w,"8BIMdesc");w+=8;w+=4;x=w;L.dr(P,w,16);w+=4;w+=jk.IR(P,i,w);L.dr(P,x-4,w-x);return P.data.slice(0,w).buffer};
cL.ai3=function(o,P,w,x,z){var S=L.RS,k=L.Wi,f=P+w,C=[];while(P<f){var H={};C.push(H);var b=S(o,P);P+=4;
var i=P,M=L.V2(o,P);P+=M.length;H.id=M.MB;if(x==1){P+=9;H.sn=k(o,P);P+=16}else{P+=7;var T=S(o,P);P+=4;
H.sn=k(o,P);P+=16;var O=S(o,P);P+=4;P+=O*4;var Y=S(o,P);P+=4;var U=S(o,P);P+=4;var W=k(o,P);P+=16}var t=L.Vp(o,P);
P+=2;var _=o[P];P+=1;var n=a$.kt(!1,t,o,H.sn.q,H.sn._,P,_);cL.a94(H,n);if(b%4!=0)b+=4-b%4;P=i+b}return C};
cL.a94=function(o,P){var w=o.sn.clone();w.x=w.y=0;o.kR=[P,w]};cL.aEi=function(o,P,w){var x=L.dr,z=L.W6;
for(var I=0;I<w.length;I++){var S=w[I],k=P+4,C=56,b=1;P+=4;L.kM(o,P,S.id);P+=S.id.length+2;o.dZ(P,1);
o.data[P]=1;P+=3;x(o,P,3);P+=4;var f=P;P+=4;z(o,P,S.sn);P+=16;x(o,P,C);P+=4;P+=C*4;x(o,P-4,1);var H=P;
P+=4;x(o,P,8);P+=4;z(o,P,S.sn);P+=16;L.In(o,P,8);P+=2;o.dZ(P,1);o.data[P]=b;P++;var i=S.kR[0];o.dZ(P,S.sn.c()*2);
P=a$.oS(!1,i,o.data,S.sn.q,S.sn._,P,b);o.dZ(P,8);P+=8;var M=P-k;x(o,k-4,M);x(o,f,M-49);x(o,H,M-305);
if(M%4!=0)P+=4-M%4}return P};function jP(){}jP.M3=function(o,P){var w=new Uint8Array(o),x=[],z=0,S=L.Vp(w,z);
z+=2;if(S!=4){throw"Unknown version of curves: "+S}var k=L.Vp(w,z);z+=2;for(var I=0;I<k;I++){var f=jP.a0M(w,z);
z+=2+2*f.length;x.push(f)}if(z!=w.length){var C=L.AW(w,z,4);z+=4;var H=L.Vp(w,z);z+=2;var b=L.Vp(w,z);
z+=2;if(b!=0)throw"extra curves for channels"}var i=jP.ax5(x,0);i.presetKind={t:"long",v:3};i.presetFileName={t:"TEXT",v:P.split("/").pop().split(".")[0]};
return[i]};jP.eb=function(o,P,w,x){var z=x?L.Dn:L.RS,S=P,k=[],f=o[P];P+=3;var C=z(o,P);P+=4;for(var I=0;
I<4;I++){var H=C>>>I&1;if(H){if(f==0){var b=jP.a0M(o,P,x);P+=2+2*b.length}else{var b=jP.aux(o,P);P+=256}k.push(b)}else k.push(f==0?[0,0,255,255]:jP.a4J())}var i=jP.ax5(k,f);
return i};jP.ax5=function(o,P){var w=cM.bS("curv");for(var I=0;I<4;I++){if(P==0){var x=o[I],z=[];for(var S=0;
S<x.length;S+=2)z.push(e.Kh.ts(x[S],x[S+1],!0));jP.I$(w,I,z)}else jP.I$(w,I,o[I])}return w};jP.$J=function(o,P,w){var x=[];
for(var I=0;I<4;I++){var z=jP.mc(w,I);if(z.length==256)x.push(z);else{var S=[];for(var k=0;k<z.length;
k++)S.push(z[k].v.Hrzn.v,z[k].v.Vrtc.v);x.push(S)}}var f=P,C=x[0].length==256?1:0;o.dZ(P,3);o.data[P]=C;
o.data[P+1]=0;o.data[P+2]=1;P+=3;L.dr(o,P,15);P+=4;for(var I=0;I<4;I++){var H=x[I];if(C==0){jP.ag3(o,P,H);
P+=2+2*H.length}else{jP.axl(o,P,H);P+=256}}return P-f};jP.a4J=function(){var o=[];for(var I=0;I<256;
I++)o.push(I);return o};jP.I$=function(o,P,w){var x=cX.H6("CrvA",P);if(w.length<256)x.Crv={t:"VlLs",v:w};
else{x.Mpng={t:"VlLs",v:[]};for(var I=0;I<256;I++)x.Mpng.v[I]={t:"long",v:w[I]}}x={t:"Objc",v:x};var z=o.Adjs.v,S=cX.qk(z,P);
if(S==-1)z.push(x);else z[S]=x};jP.mc=function(o,P){var w=o.Adjs.v,x=cX.qk(w,P);if(x==-1){if(w.length==0||w[0].v.Crv)return[e.Kh.ts(0,0,!0),e.Kh.ts(255,255,!0)];
if(w[0].v.autoMachineLearning||w[0].v.AuCo)return[e.Kh.ts(0,0,!0),e.Kh.ts(128,160,!0),e.Kh.ts(255,255,!0)];
var z=[];for(var I=0;I<256;I++)z.push(I);return z}var S=w[x].v;if(S.Crv)return S.Crv.v;if(S.Mpng){var z=[];
for(var I=0;I<256;I++)z.push(S.Mpng.v[I].v);return z}return[e.Kh.ts(0,0,!0),e.Kh.ts(255,255,!0)]};jP.a0M=function(o,P,w){var x=w?L.Bh:L.Vp,z=[],S=x(o,P);
P+=2;for(var k=0;k<S;k++){var f=x(o,P);P+=2;var C=x(o,P);P+=2;z.push(C,f)}return z};jP.ag3=function(o,P,w){var x=w.length/2;
L.In(o,P,x);P+=2;for(var z=0;z<x;z++){L.In(o,P,w[z*2+1]);P+=2;L.In(o,P,w[z*2+0]);P+=2}};jP.aux=function(o,P){var w=[];
for(var I=0;I<256;I++)w.push(o[P+I]);return w};jP.axl=function(o,P,w){o.dZ(P,256);for(var I=0;I<256;
I++)o.data[P+I]=w[I]};function gw(){}gw.eb=function(o,P,w,x){var z={},S=x?L.Bh:L.Vp,k=x?L.rg:L.$w,f=S(o,P);
P+=2;z.KR=o[P]==1;P++;P++;z.vO=[k(o,P),k(o,P+2),k(o,P+4)];P+=6;z.Yy=[k(o,P),k(o,P+2),k(o,P+4)];P+=6;
z.vQ=[];for(var I=0;I<6;I++){var C={};C.QE=[k(o,P),k(o,P+2),k(o,P+4),k(o,P+6)];P+=8;C.pA=[k(o,P),k(o,P+2),k(o,P+4)];
P+=6;z.vQ.push(C)}var H=cM.bS("hue2"),b=z;if(H.Clrz==null)H.Clrz={t:"bool",v:!1};H.Clrz.v=b.KR;for(var I=0;
I<7;I++){var i=I==0?b.KR?b.vO:b.Yy:b.vQ[I-1];gw.I$(H,I,i)}return H};gw.agq=function(o){return{classID:"Hst2",H:{t:"long",v:o[0]},Strt:{t:"long",v:o[1]},Lght:{t:"long",v:o[2]}}};
gw.qk=function(o,P){for(var I=0;I<o.length;I++){var w=o[I].v.LclR;if(P==0&&w==null||w!=null&&w.v==P)return I}return-1};
gw.I$=function(o,P,w){var x=P==0?w:w.pA,z=gw.agq(x);if(P!=0){var S=w.QE;z.LclR={t:"long",v:P},z.BgnR={t:"long",v:S[0]};
z.BgnS={t:"long",v:S[1]};z.EndS={t:"long",v:S[2]};z.EndR={t:"long",v:S[3]}}z={t:"Objc",v:z};var k=o.Adjs.v,f=gw.qk(k,P);
if(f==-1)k.push(z);else k[f]=z};gw.mc=function(o,P){var w=o.Adjs.v,x=gw.qk(w,P);if(x==-1){if(P==0)return[0,0,0];
else return[{QE:[315,345,15,45],pA:[0,0,0]},{QE:[15,45,75,105],pA:[0,0,0]},{QE:[75,105,135,165],pA:[0,0,0]},{QE:[135,165,195,225],pA:[0,0,0]},{QE:[195,225,255,285],pA:[0,0,0]},{QE:[255,285,315,345],pA:[0,0,0]}][P-1]}var z=w[x].v,S=[z.H.v,z.Strt.v,z.Lght.v];
if(P==0)return S;return{pA:S,QE:[z.BgnR.v,z.BgnS.v,z.EndS.v,z.EndR.v]}};gw.$J=function(o,P,w){var x={KR:w.Clrz?w.Clrz.v:!1,vQ:[]};
x.vO=x.Yy=gw.mc(w,0);for(var I=1;I<7;I++)x.vQ.push(gw.mc(w,I));var z=2+2+12+6*14,S=o.data;o.dZ(P,z);
L.iV(S,P,2);P+=2;S[P]=x.KR?1:0;P++;P++;L.dc(S,P+0,x.vO[0]);L.dc(S,P+2,x.vO[1]);L.dc(S,P+4,x.vO[2]);P+=6;
L.dc(S,P+0,x.Yy[0]);L.dc(S,P+2,x.Yy[1]);L.dc(S,P+4,x.Yy[2]);P+=6;for(var I=0;I<6;I++){var k=x.vQ[I].QE,f=x.vQ[I].pA;
L.dc(S,P+0,k[0]);L.dc(S,P+2,k[1]);L.dc(S,P+4,k[2]);L.dc(S,P+6,k[3]);P+=8;L.dc(S,P+0,f[0]);L.dc(S,P+2,f[1]);
L.dc(S,P+4,f[2]);P+=6}return z};function cX(){}cX.M3=function(o,P){var w=new Uint8Array(o),x=2,z=P?L.Bh:L.Vp,S=[];
for(var I=0;I<29;I++){var k=[];S.push(k);for(var f=0;f<5;f++)k.push(z(w,x+I*10+f*2))}x+=29*10;if(x<w.length){var C=L.tO(w,x,P);
x+=4;var H=z(w,x);x+=2;var b=z(w,x);x+=2;var i=b-29;for(var I=0;I<i;I++){var k=[];S.push(k);for(var f=0;
f<5;f++)k.push(z(w,x+I*10+f*2))}}var M=cM.bS("levl");for(var I=0;I<4;I++)cX.I$(M,I,S[I]);return M};cX.H6=function(o,I){var P=["Cmps","Rd","Grn","Bl"],w={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:P[I]}}]};
return{classID:o,Chnl:w}};cX.qk=function(o,P){var w={Cmps:0,Rd:1,Grn:2,Bl:3};for(var I=0;I<o.length;
I++){var x=o[I].v,z=w[x.Chnl.v[0].v.enum];if(z==P)return I}return-1};cX.I$=function(o,P,w){var x=cX.H6("LvlA",P);
x.Inpt={t:"VlLs",v:[{t:"long",v:w[0]},{t:"long",v:w[1]}]};x.Otpt={t:"VlLs",v:[{t:"long",v:w[2]},{t:"long",v:w[3]}]};
x.Gmm={t:"doub",v:w[4]/100};x={t:"Objc",v:x};var z=o.Adjs.v,S=cX.qk(z,P);if(S==-1)z.push(x);else z[S]=x};
cX.mc=function(o,P){var w=[0,255,0,255,100],x=o.Adjs.v,z=cX.qk(x,P);if(z==-1)return w;var S=x[z].v;if(S.Inpt){w[0]=S.Inpt.v[0].v;
w[1]=S.Inpt.v[1].v}if(S.Otpt){w[2]=S.Otpt.v[0].v;w[3]=S.Otpt.v[1].v}if(S.Gmm){w[4]=Math.round(S.Gmm.v*100)}return w};
cX.q0=function(o,P){var w=[],x=0;for(var I=0;I<4;I++)w.push(cX.mc(P,I));while(w.length<29)w.push([0,255,0,255,100]);
o.dZ(0,2+10*29);L.iV(o.data,x,2);x+=2;for(var I=0;I<29;I++){var z=w[I];for(var S=0;S<5;S++)L.iV(o.data,x+I*10+S*2,z[S])}x+=29*10;
if(w.length==29)return x;o.dZ(x,8+10*(w.length-29));L.Xi(o.data,x,"Lvls");x+=4;L.iV(o.data,x,3);x+=2;
L.iV(o.data,x,w.length);x+=2;var k=w.length-29;for(var I=0;I<k;I++){var z=w[29+I];for(var S=0;S<5;S++)L.iV(o.data,x+I*10+S*2,z[S])}x+=10*k;
return x};function d2(){}d2.M3=function(o,P){var w=new Uint8Array(o),x=2,z=P.split("/").pop().split(".")[0],S={HR:[],qB:[]},k=L.AW(w,x,4);
x+=4;var f=L.Vp(w,x);x+=2;var C=L.RS(w,x);x+=4;S.HR=jF.iQ(w,x,C);x+=C;var H=L.RS(w,x);x+=4;for(var I=0;
I<H;I++){var b=L.RS(w,x);x+=4;var i=x,M={hb:{},M6:{}};S.qB.push(M);x+=4;x+=jk.SD(w,M.hb,x);M.hb.Nm.v=z+"/"+M.hb.Nm.v.split("=").pop();
x+=4;x+=jk.SD(w,M.M6,x);x=i+b;var T=M.M6.blendOptions,O=M.M6.Lefx;if(T&&Object.keys(T.v).length>1){}if(O){if(O.v.masterFXSwitch==null)O.v.masterFXSwitch={t:"bool",v:!0};
fy.oc(O.v)}}return S};d2.m6=function(o,P){o.hb.Nm.v=P};d2.q0=function(o){var P=new bA,w=0;L.In(P,w,2);
w+=2;L.x8(P,w,"8BSL");w+=4;L.In(P,w,3);w+=2;var x=w;w+=4;w=jF.Y6(P,w,o.HR);L.dr(P,x,w-x-4);var z=o.qB.length;
L.dr(P,w,z);w+=4;for(var I=0;I<z;I++){w+=4;var S=w,k=o.qB[I];L.dr(P,w,16);w+=4;var f=k.hb.Nm.v;k.hb.Nm.v=k.hb.Nm.v.split("/").pop();
w+=jk.IR(P,k.hb,w);k.hb.Nm.v=f;var C=k.M6.Lefx;if(C){k.M6.Lefx=JSON.parse(JSON.stringify(C));fy.sf(k.M6.Lefx.v)}L.dr(P,w,16);
w+=4;w+=jk.IR(P,k.M6,w);if(C)k.M6.Lefx=C;L.dr(P,S-4,w-S)}return P.data.slice(0,w).buffer};function bT(){}bT.eb=function(o,P,w,x){var z=x?L.Bh:L.Vp,S=x?L.rg:L.$w,k=z(o,P);
P+=2;var f={};f.Kq=z(o,P)==1;P+=2;f.Pl=[];for(var I=0;I<10;I++){var C=[];f.Pl.push(C);for(var H=0;H<4;
H++)C.push(S(o,P+H*2));P+=8}var b=cM.bS("selc");b.Mthd.v.CrcM=f.Kq?"Absl":"Rltv";for(var I=1;I<10;I++)bT.I$(b,I-1,f.Pl[I]);
return b};bT.Sv="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");bT.H6=function(o,I){var P=["Cmps","Rd","Grn","Bl"],w={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:P[I]}}]};
return{classID:o,Chnl:w}};bT.qk=function(o,P){var w=bT.Sv;for(var I=0;I<o.length;I++){var x=o[I].v,z=w.indexOf(x.Clrs.v.Clrs);
if(z==P)return I}return-1};bT.I$=function(o,P,w){var x=["Cyn","Mgnt","Ylw","Blck"],z={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:bT.Sv[P]}}};
for(var S=0;S<4;S++)z[x[S]]={t:"UntF",v:{type:"#Prc",val:w[S]}};z={t:"Objc",v:z};var k=o.ClrC.v,f=bT.qk(k,P);
if(f==-1)k.push(z);else k[f]=z};bT.mc=function(o,P){var w=[0,0,0,0],x=o.ClrC.v,z=bT.qk(x,P);if(z==-1)return w;
var S=["Cyn","Mgnt","Ylw","Blck"];for(var I=0;I<4;I++)if(x[z].v[S[I]])w[I]=x[z].v[S[I]].v.val;return w};
bT.$J=function(o,P,w){var x={Kq:w.Mthd.v.CrcM=="Absl",Pl:[[0,0,0,0]]};for(var I=0;I<9;I++)x.Pl.push(bT.mc(w,I));
o.dZ(P,84);L.iV(o.data,P,1);P+=2;L.iV(o.data,P,x.Kq?1:0);P+=2;for(var I=0;I<10;I++){var z=x.Pl[I];for(var S=0;
S<4;S++)L.dc(o.data,P+S*2,z[S]);P+=8}return 84};function eR(){}eR.bS=function(){return{aR:new fA(0,0,50,50),hb:"",HN:"play",g:e.n.fg.E2([.1,.1,.9,.5,.1,.9],0)}};
eR.M3=function(o,P){o=new Uint8Array(o);var w=0,x=[],z=P.split("/").pop().split(".")[0],S=Date.now(),k=L.AW(o,0,4);
w+=4;var f=L.RS(o,w);w+=4;var C=L.RS(o,w);w+=4;for(var I=0;I<C;I++){var H=L.Wb(o,w);w+=H.length*2+4+2;
if((H.length&1)==0)w+=2;w=eR.adx(o,w,H,x);x[I].HN=z+"/"+x[I].HN}return x};eR.adx=function(o,P,w,x){var z=L.RS(o,P);
P+=4;var S=L.RS(o,P);P+=4;var k=P,f=L.V2(o,k).MB;k+=f.length+1;var C=L.Wi(o,k);k+=16;var H=eR.y8(o,k,S-(k-P)),b=e.n.Nl(H),i=e.a.w4(b),M=1/i.q,T=1/i._;
e.n.G9(H,new ar(M,0,0,T,-i.x*M,-i.y*T));x.push({HN:w,hb:f,g:H,aR:C});P+=S;return P};eR.m6=function(o,P){o.HN=P};
eR.q0=function(o){var P=new bA,w=0;L.x8(P,w,"cush");w+=4;L.dr(P,w,2);w+=4;L.dr(P,w,o.length);w+=4;for(var I=0;
I<o.length;I++){var x=o[I],z=x.HN.split("/").pop()+"\0";L.Jf(P,w,z);w+=4+z.length*2;if((z.length&1)==1)w+=2;
L.dr(P,w,1);w+=4;w+=4;var S=w;L.kM(P,w,x.hb);w+=x.hb.length+1;L.W6(P,w,x.aR);w+=16;P.dZ(w,x.g.length*26);
eR.Ja(P.data,w,x.g,1,1);w+=x.g.length*26;var k=w-S;if((k&3)!=0)k+=4-(k&3);L.dr(P,S-4,k);w=S+k}return P.data.slice(0,w).buffer};
eR.ac6=function(o){var P=[];for(var I=0;I<o.length;I++){var w=o[I],x=w.type,z={type:x};P.push(z);if(x==6){}else if(x==8)z.all=w.all;
else if(x==0||x==3){z.length=w.length;z.frule=w.Hv;z.third=w.cI;z.prmA=w.p_;z.prmB=w.xd}else{z.c=[w.Fm.x,w.Fm.y,w.v.x,w.v.y,w.AK.x,w.AK.y]}}return P};
eR.aEA=function(o){var P=[];for(var I=0;I<o.length;I++){var w=o[I],x=w.type,z={type:x};P.push(z);if(x==6){}else if(x==8)z.all=w.all;
else if(x==0||x==3){z.length=w.length;z.Hv=w.frule;z.cI=w.third;z.p_=w.prmA;z.xd=w.prmB}else{var S=w.c;
z.Fm=new eD(S[0],S[1]);z.v=new eD(S[2],S[3]);z.AK=new eD(S[4],S[5])}}return P};eR.y8=function(o,P,w,x,z,S){if(x==null)x=1;
if(z==null)z=1;var k=S?L.ahG:L.aBw;function f(t,_,n){var y=k(t,_)*n,F=Math.round(y);return Math.abs(y-F)<1e-6?F:y}var C=S?L.rg:L.$w,H=S?L.Dn:L.RS,b=[],i=Math.floor(w/26);
for(var I=0;I<i;I++){var M=P+I*26,T={},O=0;b.push(T);T.type=C(o,M);M+=2;if(T.type==6){O=24}if(T.type==8){T.all=C(o,M);
M+=2;O=22}if(T.type==0||T.type==3){T.length=C(o,M);M+=2;T.Hv=C(o,M);M+=2;T.cI=C(o,M);M+=2;T.p_=H(o,M);
M+=4;T.xd=H(o,M);M+=4;O=10}if(T.type==1||T.type==2||T.type==4||T.type==5){var Y,U;U=f(o,M,z);M+=4;Y=f(o,M,x);
M+=4;T.Fm=new eD(Y,U);U=f(o,M,z);M+=4;Y=f(o,M,x);M+=4;T.v=new eD(Y,U);U=f(o,M,z);M+=4;Y=f(o,M,x);M+=4;
T.AK=new eD(Y,U);O=0}for(var W=0;W<O;W++)if(o[M+W]!=0){console.log("Unexpected non-zero byte!",T,W,o[M+W])}}return b};
eR.Ja=function(o,P,w,x,z){var S=L.dc,k=L.ahQ,f=w.length;for(var I=0;I<f;I++){var C=P+I*26,H=w[I];S(o,C,H.type);
C+=2;if(H.type==6){}if(H.type==8)S(o,C,H.all);if(H.type==0||H.type==3){S(o,C,H.length);C+=2;S(o,C,H.Hv);
C+=2;S(o,C,H.cI);C+=2}if(H.type==1||H.type==2||H.type==4||H.type==5){k(o,C,H.Fm.y/z);C+=4;k(o,C,H.Fm.x/x);
C+=4;k(o,C,H.v.y/z);C+=4;k(o,C,H.v.x/x);C+=4;k(o,C,H.AK.y/z);C+=4;k(o,C,H.AK.x/x);C+=4}}};function bz(){}bz.M3=function(o,P){var w=new Uint8Array(o),x=[],z=0;
if(L.AW(w,0,4)=="ASEF")x=bz.aGc(w);else{z=bz.aeM(w,z,x);if(z+3<w.length){x=[];z=bz.aeM(w,z,x)}}var S=P.split("/").pop().split(".")[0];
for(var I=0;I<x.length;I++){if(x[I].MU==null)x[I].MU="clr"+I;x[I].MU=S+"/"+x[I].MU.split("/").pop().split("=").pop()}return x};
bz.aGc=function(o){var P=[],w=8,x=L.RS(o,w),z,S=null,k,f,C,H;w+=4;for(var b=0;b<x;b++){var i=L.Vp(o,w);
w+=2;var M=L.RS(o,w);w+=4;var T=w+M;if(i==49153||i==1){var O=L.Vp(o,w);w+=2;var Y=L.qG(o,w,O-1);w+=O*2;
if(i==1)z=Y;else S=Y}if(i==1){var U=L.AW(o,w,4);w+=4;k=L.Ki(o,w);w+=4;f=L.Ki(o,w);w+=4;C=L.Ki(o,w);w+=4;
if(U=="RGB "){}else if(U=="CMYK"){H=L.Ki(o,w);w+=4;var W=UDOC.C.cmykToRgb([k,f,C,H]);k=W[0];f=W[1];C=W[2]}else alert("Unknown color space: "+U);
P.push({$:k*255,H:f*255,b:C*255,MU:(S?S+" : ":"")+z})}w=T}return P};bz.aeM=function(o,P,w){var x=L.Vp,z=L.$w,S=x(o,P);
P+=2;var k=x(o,P);P+=2;for(var I=0;I<k;I++){var f=bz.HQ(o,P);P+=10;if(S==2){f.MU=L.Wb(o,P);P+=4+f.MU.length*2+2}w.push(f)}return P};
bz.HQ=function(o,P,w){var x=w?L.Bh:L.Vp,z=w?L.rg:L.$w,S=x(o,P),O=null;P+=2;var k=x(o,P);P+=2;var f=x(o,P);
P+=2;var C=x(o,P);P+=2;var H=x(o,P);P+=2;var b=1/65535,i=255/65535,M=100/65535,T=255/1e4;if(S==0)O={$:k*i,H:f*i,b:C*i};
else if(S==1){O=e.MR(k*b,f*b,C*b);O.$*=255;O.H*=255;O.b*=255}else if(S==2)O=e.G.dQ({classID:"CMYC",Cyn:{t:"doub",v:100-k*M},Mgnt:{t:"doub",v:100-f*M},Ylw:{t:"doub",v:100-C*M},Blck:{t:"doub",v:100-H*M}});
else if(S==7){var Y=e.Aj(k/100,z(o,P-6)/100,z(o,P-4)/100);O=Y}else if(S==8){O={$:255-k*T,H:255-f*T,b:255-C*T}}else if(S==18){var U=255*k/16384;
O={$:U,H:U,b:U}}else{throw S}return O};bz.q0=function(o){var P=new bA,w=0,x=L.In;x(P,w,2);w+=2;x(P,w,o.length);
w+=2;for(var I=0;I<o.length;I++){var z=o[I];P.dZ(w,10);bz.A9(P.data,w,z);w+=10;var S=(z.MU?z.MU:"")+"\0";
L.Jf(P,w,S);w+=4+S.length*2}return P.data.slice(0,w).buffer};bz.m6=function(o,P){o.MU=P};bz.A9=function(o,P,w){var x=65535/255,z=L.iV;
z(o,P,0);z(o,P+2,Math.round(w.$*x));z(o,P+4,Math.round(w.H*x));z(o,P+6,Math.round(w.b*x));z(o,P+8,0)};
function b4(){}b4.M3=function(o){var P=new Uint8Array(o),w=4,x={};x.Ka=L.Wb(P,w);w+=4+x.Ka.length*2+2;
x.exp=P[w++]==1;x.Si=[];var z=L.RS(P,w);w+=4;for(var I=0;I<z;I++){var S={};x.Si.push(S);S.BG=L.Vp(P,w);
w+=2;S.shift=P[w++]==1;S.aa5=P[w++]==1;S.color=L.Vp(P,w);w+=2;S.Ka=L.Wb(P,w);w+=4+S.Ka.length*2+2;S.exp=P[w++]==1;
S.Si=[];var k=L.RS(P,w);w+=4;for(var f=0;f<k;f++){var C={};S.Si.push(C);C.exp=P[w++]==1;C.B=P[w++]==1;
C.azH=P[w++]==1;C.aoP=P[w++];var H=L.AW(P,w,4);w+=4;if(H=="TEXT"){C.wQ=b4.aGS(P,w);w+=4+C.wQ.length}else if(H=="long"){C.wQ=L.AW(P,w,4);
w+=4}else throw"e";C.oB=b4.aGS(P,w);w+=4+C.oB.length;var b=L.jS(P,w);w+=4;if(b==-1){C.WP={};var i=jk.SD(P,C.WP,w);
w+=i}}}console.log(x);var M=new Uint8Array(b4.q0(x));for(var I=0;I<M.length;I++)if(M[I]!=P[I]&&L.AW(P,I+1,4)!="None"){console.log(P.length,M.length);
var T=4*(I>>>2)-16;console.log(L.Y0(P,T,64));console.log(L.Y0(M,T,64));console.log(P.slice(T,T+64));
console.log(M.slice(T,T+64));throw"i"}return[x]};b4.aGS=function(o,P){var w=L.RS(o,P);return L.AW(o,P+4,w)};
b4.ak0=function(o,P,w){L.dr(o,P,w.length);L.x8(o,P+4,w)};b4.q0=function(o){var P=new bA,w=0;L.dr(P,w,16);
w+=4;L.Jf(P,w,o.Ka+"\0");w+=4+o.Ka.length*2+2;P.dZ(w,1);P.data[w++]=o.exp?1:0;var x=o.Si.length;L.dr(P,w,x);
w+=4;for(var I=0;I<x;I++){var z=o.Si[I];L.In(P,w,z.BG);w+=2;P.dZ(w,2);P.data[w++]=z.shift?1:0;P.data[w++]=z.aa5?1:0;
L.In(P,w,z.color);w+=2;L.Jf(P,w,z.Ka+"\0");w+=4+z.Ka.length*2+2;P.dZ(w,1);P.data[w++]=z.exp?1:0;var S=z.Si.length;
L.dr(P,w,S);w+=4;for(var k=0;k<S;k++){var f=z.Si[k];P.dZ(w,4);P.data[w++]=f.exp?1:0;P.data[w++]=f.B?1:0;
P.data[w++]=f.azH?1:0;P.data[w++]=f.aoP;var C="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(f.wQ)!=-1;
L.x8(P,w,C?"long":"TEXT");w+=4;if(!C){b4.ak0(P,w,f.wQ);w+=4+f.wQ.length}else{L.x8(P,w,f.wQ);w+=4}b4.ak0(P,w,f.oB);
w+=4+f.oB.length;L.ZX(P,w,f.WP?-1:0);w+=4;if(f.WP){var H=jk.IR(P,f.WP,w);w+=H}}}return P.data.slice(0,w).buffer};
function iE(){}iE.M3=function(o){var P=new Uint8Array(o),w=0,x=L.RS(P,w),C;w+=4;var z=L.AW(P,w,8);w+=8;
var S=L.Dn(P,w);w+=4;var k=L.Dn(P,w);w+=4;var f=L.Dn(P,w);w+=4;console.log(S,k,f);if(x==2){C=new Float32Array(o,32,o.byteLength-32>>>2)}else if(x==3||x==4){C=new Float32Array(k*f*2);
var H=0,b=0,i=!0;w=x==3?32:16+8+40;while(w<P.length){var M=L.Dn(P,w);w+=4;if(i)b+=M;else{for(var I=0;
I<M;I++){C[H+b+I<<1]=L.mp(P,w);C[(H+b+I<<1)+1]=L.mp(P,w+4);w+=8}b+=M}i=!i;if(M!=0&&b==k){H+=k;b=0;i=!0;
if(H==k*f)break}}}else throw"unknown Mesh version: "+x;return{V:k,Y:f,map:C}};iE.Fv=function(o){var P=o.V,w=o.Y,x=o.map,z=new Uint8Array(32+w*P*8+w*8),S=0,k=0;
L.Eu(z,S,3);S+=4;L.Xi(z,S,"yfqLhseM");S+=8;L.nY(z,S,2);S+=4;L.nY(z,S,P);S+=4;L.nY(z,S,w);S+=4;L.nY(z,S,0);
S+=4;L.nY(z,S,1);S+=4;for(var f=0;f<w;f++){L.nY(z,S,0);S+=4;L.nY(z,S,P);S+=4;for(var C=0;C<P;C++){L.dh(z,S,x[k]);
L.dh(z,S+4,x[k+1]);k+=2;S+=8}}return z.buffer};function d1(){}d1.M3=function(o){var P=new Uint8Array(o),w=0,x=L.AW(P,w,4);
w+=4;var z=L.Vp(P,w);w+=2;var S=L.RS(P,w);w+=4;var k=[];for(var I=0;I<S;I++){var f=L.RS(P,w);w+=4;var C={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
k.push(C);var H=L.Wb(P,w);C.Nm.v=H;w+=4+H.length*2+2;var b=L.Vp(P,w);w+=2;var i=L.Vp(P,w);w+=2;for(var M=0;
M<i;M++){var T=e.Kh.ts(0,0,!0);T.v.Vrtc.v=L.Vp(P,w);w+=2;T.v.Hrzn.v=L.Vp(P,w);w+=2;C.Crv.v.push(T)}if(f==1){}else if(f==2){for(var M=0;
M<i;M++){C.Crv.v[M].v.Cnty.v=P[w]==1;w+=1}}else throw"error";var O=L.RS(P,w);w+=4;var Y=L.RS(P,w);w+=4}return k};
d1.m6=function(o,P){o.Nm.v=P};d1.q0=function(o){var P=new bA,w=0;L.x8(P,w,"8BFS");w+=4;L.In(P,w,1);w+=2;
L.dr(P,w,o.length);w+=4;for(var I=0;I<o.length;I++){L.dr(P,w,2);w+=4;var x=o[I];L.Jf(P,w,x.Nm.v+"\0");
w+=4+x.Nm.v.length*2+2;L.In(P,w,2);w+=2;var z=x.Crv.v.length;L.In(P,w,z);w+=2;for(var S=0;S<z;S++){var k=x.Crv.v[S];
L.In(P,w,k.v.Vrtc.v);w+=2;L.In(P,w,k.v.Hrzn.v);w+=2}P.dZ(w,z);for(var S=0;S<z;S++){P.data[w]=x.Crv.v[S].v.Cnty.v;
w++}L.dr(P,w,0);w+=4;L.dr(P,w,0);w+=4}return P.data.slice(0,w).buffer};function jF(){}jF.M3=function(o,P){var w=new Uint8Array(o),x=4,z=P.split("/").pop().split(".")[0],S=L.Vp(w,x);
x+=2;var k=L.RS(w,x);x+=4;var f=[];for(var I=0;I<k;I++){var C={};f.push(C);x=jF.a5V(w,x,C);C.name=z+"/"+C.name.split("=").pop()}return f};
jF.m6=function(o,P){o.name=P};jF.q0=function(o){var P=new bA,w=0;L.x8(P,w,"8BPT");w+=4;L.In(P,w,1);w+=2;
L.dr(P,w,o.length);w+=4;for(var I=0;I<o.length;I++){var x=o[I],z=x.name;x.name=x.name.split("/").pop();
w=jF.aeP(P,w,x);x.name=z}return P.data.slice(0,w).buffer};jF.iQ=function(o,P,w,x){var z=x?L.Dn:L.RS,S=P+w,k=[];
while(P<S){var f={},C=z(o,P);P+=4;var H=P;P=jF.a5V(o,P,f,x);if(!f.kR[1].Mw())k.push(f);if(C%4!=0)C+=4-C%4;
P=H+C}return k};jF.Y6=function(o,P,w){for(var I=0;I<w.length;I++){var x=w[I];P+=4;var z=P;P=jF.aeP(o,P,x);
var S=P-z;L.dr(o,z-4,S);if(S%4!=0)z+=4-S%4;P=z+S}return P};jF.a5V=function(o,P,w,x){var z=x?L.Dn:L.RS,S=x?L.Bh:L.Vp,k=x?L.Vc:L.Wb,f=z(o,P);
P+=4;if(f!=1)alert("Unknown version of pattern");var C=z(o,P);P+=4;if(C!=1&&C!=2&&C!=3)console.log("Unsupported mode of pattern: "+C);
var H=S(o,P);P+=2;var b=S(o,P);P+=2;var i=new fA(0,0,b,H);w.name=k(o,P);P+=4+2*w.name.length+2;var M=o[P];
P++;w.id=L.AW(o,P,M);P+=w.id.length;var T=-1;if(C==2){T=P;P+=3*256+4}var O=new e.fC(b*H);P=jF.a4d(o,P,O,x);
if(C==2){for(var I=0;I<O.$.length;I++){var Y=3*O.$[I];O.$[I]=o[T+Y+0];O.H[I]=o[T+Y+1];O.b[I]=o[T+Y+2]}}var U=e.U(i.c()*4);
e.Vo(O,U);w.kR=[U,i];return P};jF.aeP=function(o,P,w){var x=w.kR[0],z=w.kR[1];L.dr(o,P,1);P+=4;L.dr(o,P,3);
P+=4;L.In(o,P,z._);P+=2;L.In(o,P,z.q);P+=2;L.Jf(o,P,w.name+"\0");P+=4+2*w.name.length+2;L.Cr(o,P,w.id.length);
P++;L.x8(o,P,w.id);P+=w.id.length;var S=new e.fC(z.c());e.X1(x,S);P=jF.ahm(o,P,S,z);return P};jF.a4d=function(o,P,w,x){var z=x?L.Dn:L.RS,S=x?L.Bh:L.Vp,k=P,f={sn:null,A:[],ahy:null,LL:null},C=z(o,P);
P+=4;var H=z(o,P);P+=4;f.sn=L.Wi(o,P,x);P+=16;var b=z(o,P);P+=4;for(var I=0;I<b+2;I++){var i=z(o,P);
P+=4;if(i==0)continue;var M=z(o,P);P+=4;if(M==0)continue;var T=z(o,P);P+=4;var O=L.Wi(o,P,x);P+=16;var Y=S(o,P);
P+=2;var U=o[P];P++;var W=a$.kt(!1,T,o,O.q,O._,P,U,M,x);if(I<b)f.A.push(W);if(I==b)f.ahy=W;if(I==b+1)f.LL=W;
P+=M-23}if(!f.sn.Mw()){if(f.A[0])w.$=f.A[0];if(f.A[1])w.H=f.A[1];else w.H=f.A[0].slice(0);if(f.A[2])w.b=f.A[2];
else w.b=f.A[0].slice(0);if(f.LL)w.F=f.LL;else w.F.fill(255)}return P};jF.ahm=function(o,P,w,x){var z=P,S={sn:x,A:[w.$,w.H,w.b],ahy:null,LL:w.F};
L.dr(o,P,3);P+=4;L.dr(o,P,0);P+=4;L.W6(o,P,x);P+=16;L.dr(o,P,24);P+=4;for(var I=0;I<24+2;I++){var k=P,f=I<3||I==25?1:0;
L.dr(o,P,f);P+=4;if(f==0)continue;L.dr(o,P,0);P+=4;L.dr(o,P,8);P+=4;L.W6(o,P,x);P+=16;L.In(o,P,8);P+=2;
L.Cr(o,P,1,1);P++;var C=I<3?S.A[I]:S.LL;o.dZ(P,x.c()+2);P=a$.oS(!1,C,o.data,x.q,x._,P,1);L.dr(o,k+4,P-k-8)}L.dr(o,z+4,P-z-8);
return P};function kT(){}kT.M3=function(o,P){var w=new Uint8Array(o),z=0;if(w[0]==71)return kT.ae3(w);
var x=P.split("/").pop().split(".")[0],S=L.AW(w,z,4);z+=4;var k=L.Vp(w,z);z+=2;var f=[];if(k<=3){var C=L.Vp(w,z);
z+=2;for(var I=0;I<C;I++){var H=w[z++],b=L.AW(w,z,H);z+=H;var i=kT.a5w(w,z,b),M=i[0];z=i[1];f.push(M)}}else{var i={},T=jk.SD(w,i,z+4),O=i.GrdL.v;
for(var I=0;I<O.length;I++)f[I]=O[I].v.Grad.v}for(var I=0;I<f.length;I++){var Y=f[I].Nm.v.split("/").pop().split("=").pop();
f[I].Nm.v=x+"/"+Y}return f};kT.m6=function(o,P){o.Nm.v=P};kT.q0=function(o){var P=new bA,w=0;L.x8(P,w,"8BGR");
w+=4;L.In(P,w,5);w+=2;L.dr(P,w,16);w+=4;var x={classID:"null",GrdL:{t:"VlLs",v:[]}},z=x.GrdL.v;for(var I=0;
I<o.length;I++){var S=JSON.parse(JSON.stringify(o[I]));S.Nm.v=S.Nm.v.split("/").pop();z[I]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:S}}}}w+=jk.IR(P,x,w);
return P.data.slice(0,w).buffer};kT.a5w=function(o,P,w,x){var z={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:w},Trns:{t:"VlLs",v:[]}},S=x?L.Bh:L.Vp,k=x?L.Dn:L.RS,f=S(o,P);
P+=2;if(f==0)throw"e";for(var I=0;I<f;I++){var C=k(o,P),H=k(o,P+4),b=bz.HQ(o,P+8,x),i={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:b.$},Grn:{t:"doub",v:b.H},Bl:{t:"doub",v:b.b}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:C},Mdpn:{t:"long",v:H}}};
z.Clrs.v.push(i);P+=20}var M=S(o,P);P+=2;for(var I=0;I<M;I++){var C=k(o,P),H=k(o,P+4),T=S(o,P+8),i={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*T/255)}},Lctn:{t:"long",v:C},Mdpn:{t:"long",v:H}}};
z.Trns.v.push(i);P+=10}var O=S(o,P);P+=2;z.Intr.v=O==2?S(o,P):4096;P+=2;var Y=S(o,P);P+=2;return[z,P]};
kT.aEM=function(o,P,w){var x=w.Clrs.v.length;L.In(o,P,x);P+=2;for(var I=0;I<x;I++){var z=w.Clrs.v[I];
L.dr(o,P,z.v.Lctn.v);L.dr(o,P+4,z.v.Mdpn.v);L.In(o,P+8,0);var S=e.G.e1(e.G.dQ(z.v.Clr.v)),k=[S.Rd.v,S.Grn.v,S.Bl.v,0];
for(var f=0;f<4;f++)L.In(o,P+10+f*2,Math.round(65535*(k[f]/255)));P+=20}var C=w.Trns.v.length;L.In(o,P,C);
P+=2;for(var I=0;I<C;I++){var z=w.Trns.v[I];L.dr(o,P,z.v.Lctn.v);L.dr(o,P+4,z.v.Mdpn.v);L.In(o,P+8,Math.round(255*z.v.Opct.v.val/100));
P+=10}L.In(o,P,2);P+=2;L.In(o,P,w.Intr.v);P+=2;L.In(o,P,32);P+=2;return P};kT.ae3=function(o){var P=L.bR(o,0,o.length).split("\n"),w=parseFloat(P[2]),x=[],z=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]).Grad.v;
z.Intr.v=0;z.Nm.v=P[1];for(var I=0;I<w;I++){var S=P[3+I].split(" ").map(parseFloat),k=S[11],f=S[12];
x.push([S[0],S.slice(3,6),S[6]]);if(f!=0){var C=e.j1(S[3],S[4],S[5]),H=e.j1(S[7],S[8],S[9]),b=C.Y,i=H.Y;
if(f==1&&b>i)i++;if(f==2&&b<i)b++;var M=Math.round(Math.abs(i-b)*7);if(M>1)for(var T=0;T<M;T++){var O=1-(T+1)/(M+1),Y=1-O,U=e.MR(O*b+Y*i,O*C.zp+Y*H.zp,O*C.IN+Y*H.IN);
x.push([O*S[0]+Y*S[2],[U.$,U.H,U.b],O*S[6]+Y*S[10]])}}x.push([S[2],S.slice(7,10),S[10]])}x.sort(function(W,t){return W[0]-t[0]});
e.G.U_(x,z);return[z]};function fD(){}fD.M3=function(o){var P=new Uint8Array(o),w=[],x=[],z=[],S=[],k=[],f=0,C=L.AW(P,f,4);
f+=4;var H=L.RS(P,f);f+=4;var b=L.RS(P,f);f+=4;while(f<P.length){var i=L.AW(P,f,4);f+=4;var M=L.AW(P,f,4);
f+=4;var T=L.RS(P,f);f+=4;if(M=="tppa"){x=jF.iQ(P,f,T);f+=T}else if(M=="tpbd"){z=cL.ai3(P,f,T,1,1);f+=T}else if(M=="tptp"){var O=L.RS(P,f);
f+=4;for(var I=0;I<O;I++){var Y=L.Wb(P,f);f+=6+Y.length*2;f+=4;var U={};f+=jk.SD(P,U,f);w.push([Y,U])}while((f&3)!=0)f++}else if(M=="tpsh"){var W=f,t=P.slice(f,f+T);
while(f<W+T){var _=L.RS(P,f);f+=4;f=eR.adx(P,f,"Shape",S)}f=W+T}else if(M=="tpst"){var W=f;f+=4;while(f<W+T){var n=L.RS(P,f);
f+=4;var y=f,F=L.RS(P,f);f+=4;var U={hb:{},M6:{}};k.push(U);f+=4;f+=jk.SD(P,U.hb,f);f+=4;f+=jk.SD(P,U.M6,f);
f=y+n;var a=U.M6.Lefx;if(a){if(a.v.masterFXSwitch==null)a.v.masterFXSwitch={t:"bool",v:!0};fy.oc(a.v)}}f=W+T}else{console.log(P.slice(f-8,f+64));
console.log(L.AW(P,f-8,64));throw M}}return{MH:z,Nc:x,list:w,aAg:S,qB:k}};fD.m6=function(o,P){o[0]=P};
fD.q0=function(o){var P=new bA,w=0;L.x8(P,w,"8BTP");w+=4;L.dr(P,w,3);w+=4;L.dr(P,w,1);w+=4;var x=[o.Nc,o.MH,o.list];
for(var I=0;I<3;I++){if(x[I].length==0)continue;L.x8(P,w,"8BIM");w+=4;var z=["tppa","tpbd","tptp"][I];
L.x8(P,w,z);w+=4;var S=w;w+=4;if(z=="tppa"){w=jF.Y6(P,w,o.Nc)}else if(z=="tpbd"){w=cL.aEi(P,w,o.MH)}else if(z=="tptp"){L.dr(P,w,o.list.length);
w+=4;for(var k=0;k<o.list.length;k++){var f=o.list[k];L.Jf(P,w,f[0]+"\0");w+=6+f[0].length*2;L.dr(P,w,16);
w+=4;w+=jk.IR(P,f[1],w)}}L.dr(P,S,w-S-4);while((w&3)!=0)w++;P.dZ(w,0)}return P.data.slice(0,w).buffer};
function j7(){}j7.M3=function(o,P){var w=new Uint8Array(o),x;if(L.RS(w,0)==w.length)x="icc";else if(w[0]=="<".charCodeAt(0))x="look";
else if(L.mG(w,"LUT_3D_SIZE")!=-1)x="cube";else x="3DL";if(x!="icc"){var z=j7.a5Y(w,x),S=j7.a4O(z[0],z[1]);
w=S}var k=[];for(var I=0;I<w.length;I++)k.push(w[I]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:P?P:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:k}}]};
j7.q0=function(o){var P=o[0],w=new Uint8Array(P.profile.v);return w.buffer};j7.m6=function(o,P){o.Nm.v=P};
j7.a4O=function(o,P){var w=new bA,x=128;w.dZ(0,128);var z=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var I=0;I<z.length;I++)w.data[I]=z[I];var S=["desc","A2B0"],k=S.length,f=128+4+k*12;L.dr(w,x,k);
x+=4;for(var C=0;C<k;C++){var H=S[C];L.x8(w,x,H);x+=4;L.dr(w,x,f);x+=4;var b=f;if(H=="desc"){L.x8(w,b,"mluc");
b+=4;b+=4;L.dr(w,b,1);b+=4;L.dr(w,b,12);b+=4;L.x8(w,b,"enUS");b+=4;var i="ICC by Photopea\0",M=i.length*2+2;
L.dr(w,b,M);b+=4;L.dr(w,b,28);b+=4;w.dZ(b,M);for(var I=0;I<i.length;I++)w.data[b+I*2+1]=i.charCodeAt(I);
b+=M}if(H=="A2B0"){L.x8(w,b,"mAB ");b+=4;b+=4;w.dZ(b,4);w.data[b]=3;w.data[b+1]=3;b+=4;w.dZ(b,4*5);b+=4*3;
L.dr(w,b,b+8-f);b+=4;b+=4;w.dZ(b,20);w.data[b]=o;w.data[b+1]=o;w.data[b+2]=o;b+=16;w.data[b]=2;b+=4;
var T=o*o*o*3;w.dZ(b,T*2);for(var I=0;I<T;I++)L.iV(w.data,b+I*2,Math.max(0,Math.min(65535,Math.round(P[I]*65535))));
b+=T*2}var O=b-f;while((O&3)!=0)O++;L.dr(w,x,O);x+=4;f+=O}L.dr(w,0,f);return w.data.slice(0,f)};j7.a5Y=function(o,P){P="LUTFormat"+P.toUpperCase();
var w=[],x=0,z=L.bR(o,0,o.length),S="";for(var I=0;I<o.length&&S=="";I++){if(o[I]==10)S="\n";else if(o[I]==13){S="\r";
if(o[I+1]==10)S+="\n"}}if(P=="LUTFormatCUBE"){var k=z.split(S);for(var I=0;I<k.length;I++){if(k[I]==""||k[I][0]=="#")continue;
var f=k[I].split(" "),C=f[0];if(C=="LUT_3D_SIZE"){x=parseInt(f[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(C)!=-1)continue;
w.push(parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2]))}w=j7.acf(x,w)}else if(P=="LUTFormat3DL"){var k=z.split(S),H=1/4095;
for(var I=0;I<k.length;I++){var b=k[I];if(b==""||b=="3DMESH"||b.startsWith("Mesh")||b[0]=="#")continue;
var f=b.split(" "),C=f[0];if(x==0){x=f.length;continue}w.push(parseFloat(f[0])*H,parseFloat(f[1])*H,parseFloat(f[2])*H)}}else if(P=="LUTFormatLOOK"){var i=new DOMParser,M=i.parseFromString(z,"text/xml"),T=M.getElementsByTagName("LUT")[0],O=T.children[0].textContent;
x=parseInt(JSON.parse(O));var Y=T.children[1].textContent;Y=Y.replace(/"/g,"").replace(/\s/g,"");var U=3*x*x*x,W=U*4,t=new Uint8Array(W);for(var I=0;I<W;I++){var _=Y.charCodeAt(I*2),n=Y.charCodeAt(I*2+1),y=_<58?_-48:_-55,F=n<58?n-48:n-55;t[I]=(y<<4)+F}for(var I=0;I<U;I++)w.push(L.mp(t,I<<2));w=j7.acf(x,w)}else throw P;return[x,w]};j7.af6=function(o,P,w){var x=["#Created by www.Photopea.com","TITLE \""+w+"\"","","#LUT size","LUT_3D_SIZE "+P,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],z=6;
for(var I=0;I<o.length;I+=3){x.push(o[I].toFixed(z)+" "+o[I+1].toFixed(z)+" "+o[I+2].toFixed(z))}x.push("");
return L.$f(x.join("\n")).buffer};j7.acf=function(o,P){var w=[],x=o*o*o;for(var I=0;I<x;I++)w.push(0,0,0);
for(var z=0;z<o;z++)for(var S=0;S<o;S++)for(var k=0;k<o;k++){var I=3*(k+S*o+z*o*o),f=3*(z+S*o+k*o*o);
w[f]=P[I];w[f+1]=P[I+1];w[f+2]=P[I+2]}return w};function jk(){}jk.SD=function(o,P,w,x,z,S){var k=w,b;
if(z==null)z=0;var f=S?L.Dn:L.RS,C=S?L.Be:L.jS,H=S?L.Vc:L.Wb,i=f(o,w);if(i==0){b="";w+=4}else{b=H(o,w);
w+=4+2*b.length+2}if(b!="")P.__name=b;P.classID=jk.UJ(o,w,S);if(x)console.log("\t".repeat(z),"- reading descriptor",P.classID,w);
w+=jk.Se(o,w,S);var M=C(o,w);w+=4;for(var I=0;I<M;I++){var T=jk.UJ(o,w,S);w+=jk.Se(o,w,S);var O=jk.ajB(o,w,x,z,S);
P[T]=O;w+=O.size;delete O.size}return w-k};jk.IR=function(o,P,w,x){var z=w,S=P.__name;if(S==null)S="";
S+="\0";L.Jf(o,w,S);w+=4+2*S.length;jk.Ez(o,w,P.classID);w+=jk.Se(o.data,w);L.ZX(o,w,Object.keys(P).length-1-(P.__name==null?0:1));
w+=4;for(var k in P){if(k=="classID")continue;if(k=="__name")continue;jk.Ez(o,w,k);w+=jk.Se(o.data,w);
w+=jk.anL(o,w,P[k])}return w-z};jk.ajB=function(o,P,w,x,z){var S=P,k=L.tO(o,P,z);P+=4;var f=z?L.EC:L.Xv,C=z?L.Dn:L.RS,H=z?L.Be:L.jS,b=z?L.Vc:L.Wb,i={size:0,t:k,v:null};
if(w)console.log("\t".repeat(x),"reading key",k,S);switch(k){case"obj ":case"VlLs":i.v=[];var M=C(o,P);
P+=4;for(var I=0;I<M;I++){var T=jk.ajB(o,P,w,x+1,z);P+=T.size;delete T.size;i.v.push(T)}break;case"UntF":i.v={type:L.tO(o,P,z),val:f(o,P+4)};
P+=12;break;case"doub":{i.v=f(o,P);P+=8;break}case"bool":i.v=o[P]==1;P+=1;break;case"long":i.v=H(o,P);
P+=4;break;case"comp":i.v=H(o,P+4);P+=8;break;case"Objc":i.v={};var O=jk.SD(o,i.v,P,w,x+1,z);P+=O;break;
case"TEXT":var Y=C(o,P);if(Y==0){i.v="";P+=4}else{i.v=b(o,P);P+=4+i.v.length*2+2}break;case"enum":var U=jk.UJ(o,P,z);
P+=jk.Se(o,P,z);var W=jk.UJ(o,P,z);P+=jk.Se(o,P,z);i.v={};i.v[U]=W;break;case"tdta":var t=H(o,P);P+=4;
i.v=Array.from(o.slice(P,P+t));P+=t;break;case"ObAr":var _=C(o,P);P+=4;var n=b(o,P);P+=4+2*n.length+2;
if(n!="")throw n;var y=jk.UJ(o,P,z);P+=4+Math.max(4,y.length);i.v={classID:y,arr:[]};var F=C(o,P);P+=4;
for(var I=0;I<F;I++){var y=jk.UJ(o,P,z);P+=4+Math.max(4,y.length);var U=L.tO(o,P,z);P+=4;var a=L.tO(o,P,z);
P+=4;var V={id:y,type:U,uID:a,arr:[]};i.v.arr.push(V);var D=C(o,P,4);P+=4;for(var l=0;l<D;l++){var Q=f(o,P);
P+=8;V.arr.push(Q)}}break;case"Pth ":if(z)throw"e";var m=P,t=L.RS(o,P);P+=4;var R=L.AW(o,P,4);P+=4;var $=L.Dn(o,P);
P+=4;var p=L.a6J(o,P);P+=4+p.length*2;i.v={sig:R,pth:p};break;case"Clss":case"type":case"rele":var p=b(o,P);
P+=4+p.length*2+2;var c=jk.UJ(o,P,z);P+=4+Math.max(4,c.length);i.v={classID:c};if(p!="")i.v.__name=p;
if(k=="rele"){i.v.val=H(o,P);P+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var B=jk.Aw[k],p=b(o,P);
P+=4+p.length*2+2;if(p.length!=0){console.log("String found",k,p)}i.v={};for(var I=0;I<B.length;I++){var c=jk.UJ(o,P,z);
P+=4+Math.max(4,c.length);i.v[B[I]]=c}if(k=="name"){var p=b(o,P);P+=4+p.length*2+2;i.v.val=p}if(k=="indx"||k=="Idnt"){i.v.val=C(o,P);
P+=4}break;case"alis":var t=C(o,P);P+=4;i.v=L.AW(o,P,t);P+=t;break;default:{console.log("unknown oskey: "+k+", "+S);
throw"e";return i}}if(w){console.log("\t".repeat(x),i.v);console.log("\t".repeat(x),"======",P)}i.size=P-S;
return i};jk.Aw={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
jk.anL=function(o,P,w){var x=P,z=w.t;w=w.v;L.x8(o,P,z);P+=4;switch(z){case"obj ":case"VlLs":L.ZX(o,P,w.length);
P+=4;for(var S=0;S<w.length;S++){var k=jk.anL(o,P,w[S]);P+=k}break;case"UntF":L.x8(o,P,w.type);L.Vk(o,P+4,w.val);
P+=12;break;case"doub":L.Vk(o,P,w);P+=8;break;case"bool":L.Cr(o,P,w?1:0,1);P+=1;break;case"long":L.ZX(o,P,w);
P+=4;break;case"comp":L.ZX(o,P+4,w);P+=8;break;case"Objc":var k=jk.IR(o,w,P);P+=k;break;case"TEXT":L.Jf(o,P,w+"\0");
P+=4+w.length*2+2;break;case"enum":var f=Object.keys(w)[0],C=w[f];jk.Ez(o,P,f);P+=jk.Se(o.data,P);jk.Ez(o,P,C);
P+=jk.Se(o.data,P);break;case"tdta":L.dr(o,P,w.length);P+=4;L.zW(o,P,w);P+=w.length;break;case"ObAr":L.dr(o,P,w.arr[0].arr.length);
P+=4;L.Jf(o,P,"\0");P+=6;jk.Ez(o,P,w.classID);P+=4+Math.max(4,w.classID.length);L.dr(o,P,w.arr.length);
P+=4;for(var I=0;I<w.arr.length;I++){var H=w.arr[I];jk.Ez(o,P,H.id);P+=4+Math.max(4,H.id.length);L.x8(o,P,H.type);
P+=4;L.x8(o,P,H.uID);P+=4;L.dr(o,P,H.arr.length);P+=4;for(var S=0;S<H.arr.length;S++){L.Vk(o,P,H.arr[S]);
P+=8}}break;case"Pth ":var b=w.pth.length*2+4+8;L.dr(o,P,b);P+=4;L.x8(o,P,w.sig);P+=4;L.hV(o,P,b);P+=4;
L.agh(o,P,w.pth);P+=w.pth.length*2+4;break;case"Clss":case"type":case"rele":var i=w.__name;if(i==null)i="";
L.Jf(o,P,i+"\0");P+=4+i.length*2+2;var M=w.classID;jk.Ez(o,P,M);P+=4+Math.max(4,M.length);if(z=="rele"){L.ZX(o,P,w.val);
P+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var T=jk.Aw[z],O="";if(z=="name"&&w.classID=="Grdn")O="Gradient";
L.Jf(o,P,O+"\0");P+=4+O.length*2+2;for(var I=0;I<T.length;I++){var M=w[T[I]];jk.Ez(o,P,M);P+=4+Math.max(4,M.length)}if(z=="name"){L.Jf(o,P,w.val+"\0");
P+=4+w.val.length*2+2}if(z=="indx"||z=="Idnt"){L.dr(o,P,w.val);P+=4}break;case"alis":var b=w.length;
L.dr(o,P,b);P+=4;L.x8(o,P,w);P+=b;break;default:console.log("unknown oskey: "+z);P=x;break}return P-x};
jk.UJ=function(o,P,w){var x=w?L.Be:L.jS,z=x(o,P);if(z>1e3)throw"e";if(z==0)return L.tO(o,P+4,w).trim();
return L.AW(o,P+4,z).trim()};jk.Se=function(o,P,w){var x=w?L.Be:L.jS,z=x(o,P);return z==0?8:4+z};jk.Ez=function(o,P,w){var x="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),z=4<w.length||x.indexOf(w)!=-1;
L.ZX(o,P,z?w.length:0);L.x8(o,P+4,w);if(w.length<4&&!z){var S="";for(var I=w.length;I<4;I++)S+=" ";L.x8(o,P+4+w.length,S)}};
jk.ag_=function(o){var P={};for(var w in o){if(w=="classID")P[w]=o[w];else if(w=="__name")P[w]=o[w];
else P[w]=jk.azV(o[w])}return P};jk.azV=function(o){if(o.S$=="Objc")return jk.ag_(o.v);else if(o.S$=="VlLs"){var P=[];
for(var I=0;I<o.v.length;I++)P.push(jk.azV(o.v[I]));return P}else if(o.S$=="UntF")return o.v.val;else return o.v};
function fy(){}fy.Rc=function(o,P,w,x,z,S,k){var f=k?L.Dn:L.RS,C=k?L.Be:L.jS,H=k?L.Bh:L.Vp,b=k?L.rg:L.$w,i=k?L.aAt:L.dw,M=k?L.EC:L.Xv,T=k?L.mp:L.Ki,O=k?L.a6J:L.nj;
while(P<w){var Y=L.tO(o,P,k);P+=4;if(Y!="8BIM"&&Y!="8B64"){console.log("layer information signature error! "+Y,"PSB = "+z);
alert("Error in PSD file: wrong signature.");return w}var U=L.tO(o,P,k);P+=4;var W=f(o,P);P+=4;var t=z&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(U)!=-1;
if(t){W=W<<32|C(o,P);P+=4}var _=["lrFX","PlLd"];if(_.indexOf(U)!=-1){if(W%4!=0)W+=4-W%4;P+=W;continue}switch(U){case"iOpa":x[U]=o[P];
break;case"brst":x[U]=[1,1,1];for(var I=0;I<W;I+=4)x[U][f(o,P+I)]=0;break;case"knko":x[U]=o[P];break;
case"infx":x[U]=o[P];break;case"clbl":x[U]=o[P];break;case"lmgm":x[U]=o[P];break;case"vmgm":x[U]=o[P];
break;case"fcmy":x[U]=o[P];break;case"lyid":x[U]=f(o,P);break;case"lsct":x[U]={type:f(o,P)};if(W>=12)x[U].gS=L.tO(o,P+8,k);
break;case"lsdk":x.lsct={type:f(o,P)};break;case"lyvr":x[U]=f(o,P);break;case"lnsr":var n={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
x[U]=L.tO(o,P,k);break;case"lspf":x[U]=f(o,P);break;case"lclr":x[U]=H(o,P);break;case"luni":x[U]=O(o,P);
break;case"fxrp":x[U]=new eD(M(o,P),M(o,P+8));break;case"artb":case"artd":x[U]={};jk.SD(o,x[U],P+4,!1,null,k);
break;case"SoCo":x[U]={};jk.SD(o,x[U],P+4,!1,null,k);break;case"GdFl":x[U]={};jk.SD(o,x[U],P+4,!1,null,k);
fy.Ff(x[U],U);break;case"PtFl":x[U]={};jk.SD(o,x[U],P+4,!1,null,k);fy.Ff(x[U],U);break;case"CgEd":x[U]={};
jk.SD(o,x[U],P+4,!1,null,k);break;case"brit":var y=x.brit=cM.bS("brit"),F={};y.Brgh.v=b(o,P);y.Cntr.v=b(o,P+2);
y.useLegacy.v=!0;break;case"levl":var a=o.buffer.slice(P,P+W);x[U]=cX.M3(a,k);break;case"curv":x[U]=jP.eb(o,P,W,k);
break;case"expA":var V=b(o,P),D=x[U]=cM.bS("expA");D.Exps.v=T(o,P+2);D.Ofst.v=T(o,P+6);D.gammaCorrection.v=T(o,P+10);
break;case"vibA":x[U]={};jk.SD(o,x[U],P+4,!1,null,k);break;case"hue2":x[U]=gw.eb(o,P,W,k);break;case"blnc":var D=x[U]=cM.bS(U);
D.PrsL.v=o[P+18]==1;var l=["ShdL","MdtL","HghL"];for(var I=0;I<3;I++)for(var Q=0;Q<3;Q++)D[l[I]].v[Q].v=b(o,P+I*6+Q*2);
break;case"blwh":var m={};jk.SD(o,m,P+4,!1,null,k);var D=cM.bS(U),R="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var I=0;I<R.length;I++){D[R[I]]=m[R[I]];delete m[R[I]]}x[U]=D;break;case"phfl":var D=x[U]=cM.bS(U),$=D.Clr.v,V=H(o,P);
if(V==3){var p=[f(o,P+2),f(o,P+6),f(o,P+10)],c=32768,B=e.ao$(p[0]/c,p[1]/c,p[2]/c);$.Lmnc.v=B.s$;$.A.v=B.F;
$.B.v=B.b}if(V==2){var Z=H(o,P+2);if(Z!=7)throw"e";$.Lmnc.v=b(o,P+4)/100;$.A.v=b(o,P+6)/100;$.B.v=b(o,P+8)/100}var v=P+2+(V==3?12:10);
D.Dnst.v=f(o,v);v+=4;D.PrsL.v=o[v]==1;break;case"mixr":var E={_A:H(o,P+2)==1,P:[]};for(var I=0;I<20;
I++)E.P.push(b(o,P+4+I*2));x[U]=ft.xw(E);break;case"clrL":case"rplc":x[U]={};jk.SD(o,x[U],P+6,!1,null,k);
break;case"nvrt":x[U]={};break;case"post":x[U]=cM.bS("post");x[U].Lvls.v=H(o,P);break;case"thrs":x[U]=cM.bS("thrs");
x[U].Lvl.v=H(o,P);break;case"grdm":var g=P,u=H(o,g);g+=2;var j=o[g]==1,A=o[g+1]==1;g+=2;var K=L.tO(o,g,k);
if(K=="Perc"||K=="Gcls"||K=="Lnr "||K=="\0\0\x0B\x1D")g+=4;var s=O(o,g);g+=4+s.length*2;var r=kT.a5w(o,g,s,k),h=r[0];
g=r[1];var jC=H(o,g);g+=2;var d=f(o,g);g+=4;var q=H(o,g)==1;g+=2;var hc=H(o,g)==1;g+=2;var dk=f(o,g);
g+=4;var c6=H(o,g);g+=2;var e3=[],ks=[];for(var I=0;I<4;I++){e3.push({t:"long",v:~~(H(o,g+I*2)*100/32768)});
ks.push({t:"long",v:~~(H(o,g+I*2+8)*100/32768)})}g+=16;var cH=H(o,g);g+=2;if(jC==1)h={classID:"Grdn",Nm:{t:"TEXT",v:s},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:q},VctC:{t:"bool",v:hc},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:d},Smth:{t:"long",v:dk},Mnm:{t:"VlLs",v:e3},Mxm:{t:"VlLs",v:ks}};
var bI=cM.bS("grdm");bI.Rvrs.v=j;bI.Grad.v=h;x[U]=bI;break;case"selc":x[U]=bT.eb(o,P,W,k);break;case"vmsk":case"vsms":var aR=x.vmsk=new X.tc,ak=C(o,P+4),cN=(ak>>0&1)==1;
aR.Ud=(ak>>1&1)==0;aR.isEnabled=(ak>>2&1)==0;aR.g=eR.y8(o,P+8,W-8,S.q,S._,k);break;case"shmd":x[U]={};
var gC=f(o,P),v=P+4;for(var I=0;I<gC;I++){var Y=L.tO(o,v,k);v+=4;var bD=L.tO(o,v,k);v+=4;var cu=o[v];
v++;if(Math.max(o[v],o[v+1])!=0)throw"e";v+=3;var du=f(o,v);v+=4;if(bD=="cust"||bD=="cmls"||bD=="extn"||bD=="mlst"){var bq=f(o,v);
if(bq!=16)v+=4;if(f(o,v)==16){var m={};jk.SD(o,m,v+4,!1,null,k);x[U][bD]=m;if(bD=="cmls")N.vk.aeA(x[U][bD])}}else{console.log("unknown shmd key: "+bD+", size: "+du)}v+=du}break;
case"shpa":var V=f(o,P),hn=f(o,P+4);if(hn!=0)console.log("some patterns present!");break;case"TySh":var aK=x[U]={},V=H(o,P);
aK.h=L.o7(o,P+2,k);var cQ=H(o,P+2+48);aK.cN={};try{var jR=jk.SD(o,aK.cN,P+56)}catch(bF){x[U]=null;break}var ch=fe.axX();
for(var bx in ch)if(aK.cN[bx]==null)aK.cN[bx]=ch[bx];aK.c5={};var jf=jk.SD(o,aK.c5,P+56+jR+6,!1,null,k);
aK.Fy=L.aB3(o,P+56+jR+6+jf);aK.OY=kJ.M3(aK.cN.EngineData.v);fe.auL(aK.OY.EngineDict.StyleRun.RunArray);
if(aK.OY.ResourceDict==null)aK.OY.ResourceDict=JSON.parse(JSON.stringify(aK.OY.DocumentResources));delete aK.cN.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var dW=f(o,P),bf=f(o,P+4);x.lmfx={};var jR=jk.SD(o,x.lmfx,P+8,!1,null,k);
fy.oc(x.lmfx);break;case"FMsk":x[U]=o.slice(P,P+W);break;case"Txt2":x[U]={};x[U].raw=o.slice(P,P+W);
x[U].Uw=hX.M3(x[U].raw);break;case"Patt":x[U]=jF.iQ(o,P,W,k);break;case"SoLd":var iu=L.tO(o,P,k),dV=f(o,P+4),gb=f(o,P+8),gP=x[U]={},eJ=jk.SD(o,gP,P+12,null,null,k),c1=gP.warp,ku=gP.quiltWarp;
if(ku==null)ku=gP.quiltWarp=e.lD.aao(c1);delete gP.warp;var aC=ku.v.warpStyle.v.warpStyle,gU=ku.v.warpValues;
if(aC!="warpCylinder"&&gU){ku.v.warpValue={t:"doub",v:gU.v[0].v};delete ku.v.warpValues}if(gP.nonAffineTransform==null)gP.nonAffineTransform=JSON.parse(JSON.stringify(gP.Trnf));
if(gP.Impr==null)gP.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var dV=f(o,P);
x[U]={};var eJ=jk.SD(o,x[U],P+4,!1,null,k);break;case"vscg":var bD=L.tO(o,P,k),dV=f(o,P+4);x[bD]={};
var eJ=jk.SD(o,x[bD],P+8,!1,null,k);fy.Ff(x[bD],bD);break;case"vogk":var hR=f(o,P),dV=f(o,P+4);x[U]={};
var eJ=jk.SD(o,x[U],P+8,!1,null,k);x[U]=x[U].keyDescriptorList.v;for(var I=0;I<x[U].length;I++){var a7=x[U][I].v;
if(!e.KH.b6(a7))continue;if(a7.keyOriginBoxCorners==null){var dh=e.KH.dj(a7);a7.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var eS=[dh[0],dh[1],dh[2],dh[1],dh[2],dh[3],dh[0],dh[3]];if(a7.keyOriginType.v==4)eS=e.KH.aih(e.KH.ot(a7),a7.keyOriginLineWeight.v);
e.KH.ql(a7,"keyOriginBoxCorners",eS)}}break;case"lnk2":case"lnkD__":case"lnk3__":x[U]=[];var g=P;while(g<P+W){var d0=new X.ZF;
x[U].push(d0);var cJ=i(o,g);g+=8;var aO=g;d0.type=L.tO(o,g,k);g+=4;if(d0.type!="liFD"){alert("Unknown Linked Layer type: "+d0.type);
break;throw d0.type}d0.ur=f(o,g);g+=4;var a9=L.V2(o,g);g+=1+a9.MB.length;d0.QQ=a9.MB;var ac=k?L.Vc:L.Wb;
d0.V8=ac(o,g);g+=4+d0.V8.length*2+2;d0.Ya=L.tO(o,g,k);g+=4;d0.dW=L.tO(o,g,k);g+=4;var e7=i(o,g);g+=8;
d0.open=o[g];g+=1;if(d0.open!=0){var b2={},jR=jk.SD(o,b2,g+4,null,null,k);if(jR%4!=0)jR+=4-jR%4;console.log(b2);
g+=jR+4}d0.open=0;d0.raw=o.slice(g,g+e7);g=aO+cJ;if(cJ%4!=0)g+=4-cJ%4}break;case"FEid":var g=P;x[U]=[];
var jQ=g+W,V=f(o,g);g+=4;while(g<jQ){var cJ=i(o,g);g+=8;var r={};x[U].push(r);r.id=L.V2(o,g).MB;g+=r.id.length+1;
var V=f(o,g);g+=4;g+=4;var g9=f(o,g);g+=4;r.rect=L.Wi(o,g,k);g+=16;var cx=f(o,g);g+=4;var i8=f(o,g);
g+=4;var fw=new e.fC(0);for(var I=0;I<i8+2;I++){var hi=f(o,g);g+=4;if(hi!=0){var dU=i(o,g),dv=null;g+=8;
if(I<3||I==25)dv=a$.zJ(!0,cx,o,r.rect.q,r.rect._,g,dU,k);if(I==0)fw.$=dv;if(I==1)fw.H=dv;if(I==2)fw.b=dv;
if(I==25)fw.F=dv;g+=dU}}r.buffer=e.U(r.rect.c()*4);e.Vo(fw,r.buffer);var bo=o[g];g++;if(bo!=0){r.u=new X.wy;
r.u.rect=L.Wi(o,g,k);g+=16;var fV=i(o,g);g+=8;r.u.channel=a$.zJ(!0,cx,o,r.u.rect.q,r.u.rect._,g,fV,k);
r.u.color=255;r.u.wW();g+=fV}if(cJ%4!=0)g+=4-cJ%4}break;case"Lr16":eg.Hu(S,o,P);break;case"Anno":x[U]=[];
var ck=P,h8=P+4,hn=f(o,h8);h8+=4;for(var I=0;I<hn;I++){var cJ=f(o,h8);h8+=4;var fS=L.tO(o,h8,k);h8+=4;
if(fS!="txtA")throw fS;var iS=o[h8++],fh=o[h8++],h9=H(o,h8);h8+=2;var gi=L.Wi(o,h8,k);h8+=16;var dX=L.Wi(o,h8,k);
h8+=16;var $=bz.HQ(o,h8,k);h8+=10;var f8=L.V2(o,h8);h8+=f8.length;var kS=L.V2(o,h8);h8+=kS.length;var jJ=L.V2(o,h8);
h8+=jJ.length;var gj=f(o,h8);h8+=4;var k8=L.tO(o,h8,k);h8+=4;var g$=f(o,h8);h8+=4;var ib=k?L.NF:L.qG,eo=ib(o,h8+2,g$-2>>1);
h8+=g$;x[U].push([gi.x,gi.y,$,f8.MB,eo])}break;default:break}var iP="Layr,Lr16,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ".split(",");
if(iP.indexOf(U)==-1)if(W%4!=0)console.log("size not multiple of 4!!!",U);if(U!="luni"&&U!="TySh"&&U!="tySh"&&U!="lfx2"&&U!="iOpa")if(W%4!=0)W+=4-W%4;
P+=W}var F=x.CgEd;if(F){var y=x.brit;if(y){y.Brgh.v=F.Brgh?F.Brgh.v:0;y.Cntr.v=F.Cntr?F.Cntr.v:0;y.useLegacy.v=F.useLegacy?F.useLegacy.v:0}delete x.CgEd}var d6=[];
for(var I=0;I<d6.length;I++)delete x[d6[I]];return P};fy.aeI=function(o,P,w,x,z){if(w.SoLd){var S={};
for(var k in w){if(k=="SoLd")S.PlLd={};S[k]=w[k]}w=S}for(var f in w)if(w[f]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+f+"\" tag was present with a null value.");delete w[f]}for(var f in w){var C=x&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(f)!=-1,b=0;
L.x8(o,P,C?"8B64":"8BIM");P+=4;var H=P;L.x8(o,P,f);P+=4;L.ZX(o,P,0);P+=C?8:4;switch(f){case"iOpa":L.Cr(o,P,w[f],1);
b=4;break;case"brst":b=0;for(var I=0;I<3;I++)if(w[f][I]==0){L.dr(o,P+b,I);b+=4}break;case"knko":L.Cr(o,P,w[f],1);
b=4;break;case"infx":L.Cr(o,P,w[f],1);b=4;break;case"clbl":L.Cr(o,P,w[f],1);b=4;break;case"lmgm":L.Cr(o,P,w[f],1);
b=4;break;case"vmgm":L.Cr(o,P,w[f],1);b=4;break;case"fcmy":L.Cr(o,P,w[f],1);b=4;break;case"lyid":L.dr(o,P,w[f]);
b=4;break;case"lsct":L.dr(o,P,w[f].type);b=4;if(w[f].gS){L.x8(o,P+4,"8BIM");L.x8(o,P+8,w[f].gS);b=12}break;
case"lyvr":L.dr(o,P,w[f]);b=4;break;case"lnsr":L.x8(o,P,w[f]);b=4;break;case"lspf":L.dr(o,P,w[f]);b=4;
break;case"lclr":L.In(o,P,w[f]);b=8;break;case"luni":L.Jf(o,P,w[f]);b=4+2*w[f].length;break;case"fxrp":L.Vk(o,P,w[f].x);
L.Vk(o,P+8,w[f].y);b=16;break;case"artb":case"artd":L.dr(o,P,16);b=jk.IR(o,w[f],P+4)+4;break;case"SoCo":L.dr(o,P,16);
b=jk.IR(o,w[f],P+4)+4;break;case"GdFl":L.dr(o,P,16);b=jk.IR(o,w[f],P+4)+4;break;case"PtFl":L.dr(o,P,16);
b=jk.IR(o,w[f],P+4)+4;break;case"CgEd":var i={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},M=i,T=w[f];
M.Brgh.v=T.Brgh.v;M.Cntr.v=T.Cntr.v;M.useLegacy.v=T.useLegacy.v;L.dr(o,P,16);b=jk.IR(o,i,P+4)+4;break;
case"brit":o.dZ(P,8);b=8;break;case"levl":var O=new bA;b=cX.q0(O,w[f]);L.zW(o,P,O.data);break;case"curv":b=jP.$J(o,P,w[f]);
break;case"expA":b=14;o.dZ(P,14);L.iV(o.data,P,1);L.ve(o.data,P+2,w[f].Exps?w[f].Exps.v:0);L.ve(o.data,P+6,w[f].Ofst?w[f].Ofst.v:0);
L.ve(o.data,P+10,w[f].gammaCorrection?w[f].gammaCorrection.v:1);break;case"vibA":L.dr(o,P,16);b=jk.IR(o,w[f],P+4)+4;
break;case"hue2":b=gw.$J(o,P,w[f]);break;case"blnc":b=19;o.dZ(P,b);var Y=["ShdL","MdtL","HghL"];for(var I=0;
I<3;I++){var U=w[f][Y[I]].v;for(var W=0;W<3;W++)U.push(L.dc(o.data,P+I*6+W*2,U[W].v))}o.data[P+18]=w[f].PrsL.v?1:0;
break;case"blwh":var i={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},t="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var I=0;I<t.length;I++){i[t[I]]=w[f][t[I]]}L.dr(o,P,16);b=jk.IR(o,i,P+4)+4;break;case"phfl":L.In(o,P,2);
var _=w[f].Clr.v;L.In(o,P+2,7);L.In(o,P+4,Math.round(_.Lmnc.v*100));L.In(o,P+6,Math.round(_.A.v*100));
L.In(o,P+8,Math.round(_.B.v*100));L.In(o,P+10,0);var n=P+2+10;o.dZ(n,5);L.Eu(o.data,n,w[f].Dnst.v);n+=4;
o.data[n]=w[f].PrsL.v?1:0;n++;b=n-P;break;case"mixr":b=44;o.dZ(P,b);var y=ft.Qb(w[f]);L.iV(o.data,P,1);
L.iV(o.data,P+2,y._A?1:0);for(var I=0;I<20;I++)L.dc(o.data,P+4+I*2,y.P[I]);break;case"clrL":case"rplc":L.In(o,P,1);
L.dr(o,P+2,16);b=jk.IR(o,w[f],P+6)+6;break;case"nvrt":b=0;break;case"post":L.In(o,P,w[f].Lvls.v);b=2;
break;case"thrs":L.In(o,P,w[f].Lvl.v);b=2;break;case"grdm":var F=w[f].Rvrs?w[f].Rvrs.v:!1,a=!1,V=867527939,D=!1,l=!1,Q=2048,m=[0,0,0,0],R=[32768,32768,32768,32768],$=w[f].Grad.v,p,c,B=$.Clrs==null?1:0;
if(B==0){p=$;c=JSON.parse(iR.GV.aeH).v}else{p=cM.bS("grdm").Grad.v;c=$}o.dZ(P,4);L.iV(o.data,P,1);o.data[P+2]=F?1:0;
o.data[P+3]=a?1:0;var Z=P+4;L.Jf(o,Z,$.Nm.v);Z+=4+$.Nm.v.length*2;Z=kT.aEM(o,Z,p);L.In(o,Z,B);Z+=2;L.dr(o,Z,c.RndS.v);
Z+=4;L.In(o,Z,c.ShTr.v?1:0);Z+=2;L.In(o,Z,c.VctC.v?1:0);Z+=2;L.dr(o,Z,c.Smth.v);Z+=4;L.In(o,Z,3);Z+=2;
for(var I=0;I<4;I++)L.In(o,Z+I*2,m[I]);Z+=8;for(var I=0;I<4;I++)L.In(o,Z+I*2,R[I]);Z+=8;Z+=2;b=Z-P;break;
case"selc":b=bT.$J(o,P,w[f]);break;case"FMsk":L.zW(o,P,w[f]);b=w[f].length;break;case"Txt2":var v=new bA,E=hX.Fv(w[f].Uw,v),g=e.U(E,!0);
for(var I=0;I<E;I++)g[I]=v.data[I];L.zW(o,P,g);b=g.length;break;case"vmsk":var u=w[f],j=0;L.dr(o,P,3);
if(!u.Ud)j+=1<<1;if(!u.isEnabled)j+=1<<2;L.dr(o,P+4,j);b=8;var A=u.g.length;o.dZ(P+8,A*26);eR.Ja(o.data,P+8,u.g,z.q,z._);
b+=A*26;break;case"shmd":L.dr(o,P,Object.keys(w[f]).length);var n=P+4;for(var K in w[f]){L.x8(o,n,"8BIM");
n+=4;L.x8(o,n,K);n+=4;L.dr(o,n,0);n+=4;L.dr(o,n,0);n+=4;L.dr(o,n,16);n+=4;var s=jk.IR(o,w[f][K],n);if(s%4!=0)s+=4-s%4;
L.dr(o,n-8,s+4);n+=s}b=n-P;break;case"TySh":var n=P;L.pd(o,n,1);n+=2;var r=w[f],v=new bA;r.OY.DocumentResources=JSON.parse(JSON.stringify(r.OY.ResourceDict));
var E=kJ.Fv(r.OY,v),g=e.U(E,!0);for(var I=0;I<E;I++)g[I]=v.data[I];r.cN.EngineData={t:"tdta",v:g};var h=r.OY.EngineDict.Editor.Text;
r.cN.Txt.v=h.substring(0,h.length-1);L.aq5(o,n,r.h);n+=48;L.pd(o,n,50);n+=2;L.dr(o,n,16);n+=4;n+=jk.IR(o,r.cN,n);
L.pd(o,n,1);n+=2;L.dr(o,n,16);n+=4;n+=jk.IR(o,r.c5,n);L.a69(o,n,r.Fy);n+=16;b=n-P;break;case"lmfx":L.dr(o,P,0);
L.dr(o,P+4,16);var i=JSON.parse(JSON.stringify(w[f])),jC=!1;fy.sf(i);for(var I=0;I<iR._7.length;I++)if(i[iR._7[I]]!=null)jC=!0;
L.x8(o,H,jC?"lmfx":"lfx2");b=jk.IR(o,i,P+8)+8;break;case"Patt":var n=jF.Y6(o,P,w[f]);b=n-P;break;case"PlLd":var d=P;
o.dZ(P,60);var U=w.SoLd;L.x8(o,P,"plcL");L.dr(o,P+4,3);var q=o.data[P+8]=U.Idnt.v.length;L.x8(o,P+9,U.Idnt.v);
var n=P+9+q,hc=[1,1,16,2];for(var I=0;I<4;I++)L.dr(o,n+I*4,hc[I]);n+=16;hc=N.DH.PU(U.nonAffineTransform);
for(var I=0;I<8;I++)L.Vk(o,n+I*8,hc[I]);n+=64;L.dr(o,n,0);L.dr(o,n+4,16);var dk=e.lD.avY(U.quiltWarp).v;
n+=8+jk.IR(o,dk,n+8);b=n-P;break;case"SoLd":var U=w[f],c6=U.quiltWarp;U.warp=e.lD.avY(c6);if(e.lD.ft(c6.v)==16)delete U.quiltWarp;
L.x8(o,P,"soLD");L.dr(o,P+4,4);L.dr(o,P+8,16);b=jk.IR(o,U,P+12)+12;U.quiltWarp=c6;delete U.warp;break;
case"vstk":case"pths":L.dr(o,P,16);b=jk.IR(o,w[f],P+4)+4;break;case"vscg__":L.x8(o,P,w[f].key);L.dr(o,P+4,16);
b=jk.IR(o,w[f].P,P+8)+8;break;case"vogk":L.dr(o,P,1);L.dr(o,P+4,16);e.KH.a79(w[f]);for(var I=0;I<w[f].length;
I++){var e3=w[f][I].v.keyOriginResolution;if(e3)e3.v=z.vz}var ks={classID:"null",keyDescriptorList:{t:"VlLs",v:w[f]}};
b=jk.IR(o,ks,P+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Z=P;for(var I=0;I<w[f].length;I++){var cH=w[f][I],bI=Z;
L.ab(o,Z,0);Z+=8;L.x8(o,Z,cH.type);Z+=4;L.dr(o,Z,cH.ur);Z+=4;o.dZ(Z,1);o.data[Z]=cH.QQ.length;Z++;L.x8(o,Z,cH.QQ);
Z+=cH.QQ.length;L.Jf(o,Z,cH.V8+"\0");Z+=4+cH.V8.length*2+2;L.x8(o,Z,cH.Ya);Z+=4;L.x8(o,Z,cH.dW);Z+=4;
L.ab(o,Z,cH.raw.length);Z+=8;o.dZ(Z,1);o.data[Z]=cH.open;Z++;L.zW(o,Z,cH.raw);Z+=cH.raw.length;L.dr(o,Z,1);
Z+=4;Z+=11;var aR=Z-bI-8;L.ab(o,bI,aR);if(aR%4!=0){o.dZ(Z,4-aR%4);Z+=4-aR%4}}b=Z-P;break;case"FEid":var Z=P;
L.dr(o,Z,3);Z+=4;for(var ak=0;ak<w[f].length;ak++){var cN=w[f][ak];Z+=4;var gC=Z;Z+=4;L.kM(o,Z,cN.id);
Z+=cN.id.length+1;L.dr(o,Z,1);Z+=4;var bD=e.U(cN.rect.c()),cu=cN.rect,du=e.U(cu.c());Z+=4;var bq=Z;Z+=4;
L.W6(o,Z,cu);Z+=16;L.dr(o,Z,8);Z+=4;L.dr(o,Z,24);Z+=4;for(var I=0;I<24+2;I++){var hn=-1;if(I==0)hn=0;
if(I==1)hn=1;if(I==2)hn=2;if(I==25)hn=3;L.dr(o,Z,hn!=-1?1:0);Z+=4;if(hn!=-1){e.JX(cN.buffer,bD,hn);e.d0(bD,cN.rect,du,cu);
Z+=4;var aK=Z;Z+=4;o.dZ(Z,cu.c()+2);Z=a$.tn(!0,du,o.data,cu.q,cu._,Z,3);L.dr(o,aK,Z-(aK+4))}}L.dr(o,bq,Z-(bq+4));
o.dZ(Z,1);o.data[Z]=cN.u?1:0;Z++;if(cN.u!=null){var cQ=cu,jR=e.U(cQ.c());jR.fill(cN.u.color);e.d0(cN.u.channel,cN.u.rect,jR,cQ);
L.W6(o,Z,cQ);Z+=16;Z+=4;var ch=Z;Z+=4;o.dZ(Z,cQ.c()+2);Z=a$.tn(!0,jR,o.data,cQ.q,cQ._,Z,3);L.dr(o,ch,Z-(ch+4))}var aR=Z-(gC+4);
L.dr(o,gC,aR);if(aR%4!=0)Z+=4-aR%4}b=Z-P;break;case"Anno":var bx=P,jf=w[f].length;L.In(o,bx,2);L.In(o,bx+2,1);
bx+=4;L.dr(o,bx,jf);bx+=4;for(var I=0;I<jf;I++){var dW=w[f][I],bf=dW[0],iu=dW[1],dV=bx;bx+=4;L.x8(o,bx,"txtA");
bx+=4;o.dZ(bx,2);o.data[bx]=1;o.data[bx+1]=28;bx+=2;L.In(o,bx,1);bx+=2;L.W6(o,bx,new fA(bf,iu,17,21));
bx+=16;L.W6(o,bx,new fA(bf+8,iu+10,241,141));bx+=16;o.dZ(bx,10);bz.A9(o.data,bx,dW[2]);bx+=10;bx+=L.kM(o,bx,dW[3]);
bx+=L.kM(o,bx,"");bx+=L.kM(o,bx,"D:20211012120233+01'00'");var gb=dW[4].length*2;L.dr(o,bx,12+2+gb);
bx+=4;L.x8(o,bx,"txtC");bx+=4;L.dr(o,bx,2+gb);bx+=4;o.dZ(bx,2);o.data[bx]=254;o.data[bx+1]=255;bx+=2;
L.axr(o,bx,dW[4]);bx+=gb;L.dr(o,dV,bx-dV)}b=bx-P;break;default:console.log("unknown layer tag: "+f+", size: "+b);
P-=12;continue}var gP=["Txt2","artd","extd","pths"];if(gP.indexOf(f)==-1)if(b%4!=0)b+=4-b%4;if(C)L.ab(o,P-8,b);
else L.dr(o,P-4,b);if(f!="luni"&&f!="TySh")if(b%4!=0)b+=4-b%4;P+=b}return P};fy.oc=function(o){for(var I=0;
I<iR.order.length;I++){var P=iR.order[I],w=iR._7[I];if(o[w]==null)o[w]={t:"VlLs",v:[]};if(o[P]!=null){o[w].v.push(o[P]);
delete o[P]}var x=[];for(var z=0;z<o[w].v.length;z++){var S=o[w].v[z];if(S.v.present==null||S.v.present.v==!0)x.push(S)}o[w].v=x}};
fy.sf=function(o){for(var I=0;I<iR.order.length;I++){var P=iR.order[I],w=iR._7[I],x=o[w].v.length;if(x==0){delete o[w];
continue}if(x==1){o[P]=o[w].v[0];delete o[w];continue}}};fy.Ff=function(o,P){if(P=="GdFl"){if(o.Angl==null)o.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(o.Algn==null)o.Algn={v:!0,t:"bool"};if(o.Scl==null)o.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(o.Ofst==null)o.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(o.Rvrs==null)o.Rvrs={v:!1,t:"bool"};if(o.Dthr==null)o.Dthr={v:!1,t:"bool"}}if(P=="PtFl"){if(o.Algn==null)o.Algn={v:!0,t:"bool"};
if(o.Angl==null)o.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(o.Scl==null)o.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(o.phase==null)o.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fy.clone=function(o,P){var w={};
if(o=="TySh"){w.h=P.h.clone();w.cN=JSON.parse(JSON.stringify(P.cN));w.c5=JSON.parse(JSON.stringify(P.c5));
w.Fy=P.Fy.clone();w.OY=JSON.parse(JSON.stringify(P.OY));if(P.add)w.add={vmsk:P.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(P.add.vogk))};
return w}else if(o=="fxrp")return P.clone();else if(o=="vmsk")return P.clone();else return JSON.parse(JSON.stringify(P))};
function j$(o,P){}j$.M3=function(o,P,w,x,z){x=j$.aFf(o,P,w,x,z);return x};j$.Fv=function(o,P,w,x,z){x=j$.aAG(o,P,w,x,z);
return x};j$.aFf=function(o,P,w,x,z){var S=x;o.rect=L.Wi(w,x,z);x+=16;var k=z?L.Bh:L.Vp,f=z?L.rg:L.$w,C=k(w,x);
x+=2;o.tq=[];var H=P.nH,b=z?L.aAt:L.dw,i=z?L.Dn:L.RS,M=H?b:i;for(var I=0;I<C;I++){o.tq[I]={id:f(w,x),length:M(w,x+2)};
x+=H?10:6}var T=L.tO(w,x,z);x+=4;if(T!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(T));
alert("Error in Photoshop file: wrong signature.");throw"e"}o.gS=L.tO(w,x,z);x+=4;o.opacity=w[x];x+=1;
o.gH=w[x]==1;x+=1;o.Yo=w[x];x+=1;if(w[x]!=0)console.log("error in filler!");x+=1;var O=i(w,x);x+=4;var Y=x;
x=j$.al2(o,w,x,z);x=j$.amO(o,w,x,z);var U=L.V2(w,x);o.name=U.MB;x+=U.length;if(U.length%4!=0)x+=4-U.length%4;
x=fy.Rc(w,x,Y+O,o.add,H,P,z);if(o.add.lsct){if(o.add.lsct.gS)o.gS=o.add.lsct.gS;o.add.lsct=o.add.lsct.type}return x};
j$.aAG=function(o,P,w,x,z){var S=x;L.W6(w,x,o.rect);x+=16;var k=P.add.fcmy==1,f=o.aAn(k);L.In(w,x,f.length);
x+=2;var C=P.nH;z.push(x);for(var I=0;I<f.length;I++){L.pd(w,x,f[I]);if(C)L.ab(w,x+2,0);else L.dr(w,x+2,0);
x+=C?10:6}L.x8(w,x,"8BIM");x+=4;L.x8(w,x,o.gS);x+=4;L.Cr(w,x,o.opacity,1);x+=1;L.Cr(w,x,o.gH?1:0,1);
x+=1;L.Cr(w,x,o.Yo,1);x+=1;L.Cr(w,x,0,1);x+=1;var H=x;L.dr(w,x,0);x+=4;var b=x;x=j$.av4(o,w,x);x=j$.am6(o,w,x);
var i=L.kM(w,x,o.name.slice(0,255));x+=i;if(i%4!=0)x+=4-i%4;if(o.add.lsct){o.add.lsct={type:o.add.lsct};
if(o.gS=="pass"){o.add.lsct.gS="pass";o.gS="norm"}}if(o.gS=="pass")o.add.lsct={type:o.add.lsct,gS:"pass"};
if(o.add.brit)o.add.CgEd=o.add.brit;x=fy.aeI(w,x,o.add,C,P);delete o.add.CgEd;if(o.add.lsct){if(o.add.lsct.gS)o.gS=o.add.lsct.gS;
o.add.lsct=o.add.lsct.type}var M=x-b;L.dr(w,H,M);return x};j$.al2=function(o,P,w,x){var z=x?L.Dn:L.RS,S=z(P,w);
w+=4;if(S==0)return w;var k=w;o.u=new X.wy;o.u.rect=L.Wi(P,w,x);w+=16;o.u.color=P[w];w+=1;var f=j$.ab8(o.u,P,w);
w+=1;if(f){if(x)throw"e";var C=!1,H=255,b=0,i=255,M=0;for(var I=0;I<o.tq.length;I++)if(o.tq[I].id==-3)C=!0;
if(C){o.ST=j$.ahn(P,w);w+=18}var T=w,O=P[w];w++;if(O>>0&1){H=P[w];w++}if(O>>1&1){b=L.Xv(P,w);w+=8}if(O>>2&1){i=P[w];
w++}if(O>>3&1){M=L.Xv(P,w);w+=8}if((w-T&1)==1)w++;o.tj=[H,b,i,M]}else{if(S==20)w+=2;else{o.ST=j$.ahn(P,w,x);
w+=18}}return k+S};j$.av4=function(o,P,w){L.dr(P,w,0);w+=4;if(o.u==null)return w;var x=o.Jq(),z=o.add.vmsk,S=w,k=!0;
L.dr(P,w,0);L.W6(P,w,o.u.rect);w+=16;L.Cr(P,w,o.u.color);w+=1;j$.ajx(o.u,P,w,k);w+=1;if(k){if(o.ST){j$.aoi(P,w,o.ST);
w+=18}var f=w;L.Cr(P,w,z?15:3);w+=1;L.Cr(P,w,x?x._F:255);w+=1;L.Vk(P,w,x?x.yy:0);w+=8;if(z){L.Cr(P,w,z?z._F:255);
w+=1;L.Vk(P,w,z?z.yy:0);w+=8}if((w-f&1)==1)w++}L.dr(P,S-4,w-S);return w};j$.ahn=function(o,P,w){var x=new X.wy;
j$.ab8(x,o,P);P+=1;x.color=o[P];P+=1;x.rect=L.Wi(o,P,w);P+=16;return x};j$.aoi=function(o,P,w){j$.ajx(w,o,P,!1);
P+=1;L.Cr(o,P,w.color);P+=1;L.W6(o,P,w.rect);P+=16};j$.ab8=function(o,P,w){var x=P[w];o.Ud=(x>>0&1)==0;
o.isEnabled=(x>>1&1)==0;o.Gb=(x>>3&1)==1;return x>>4&1};j$.ajx=function(o,P,w,x){var z=0;if(!o.Ud)z+=1<<0;
if(!o.isEnabled)z+=1<<1;if(o.Gb)z+=1<<3;if(x)z+=1<<4;L.Cr(P,w,z)};j$.amO=function(o,P,w,x){var z=x?L.Dn:L.RS,S=z(P,w);
w+=4;for(var I=0;I<S;I++)o.Xa[I]=P[w+I];return w+S};j$.am6=function(o,P,w){L.dr(P,w,o.Xa.length);w+=4;
P.dZ(w,40);for(var I=0;I<40;I++){P.data[w+I]=o.Xa[I]}return w+40};function a$(){}a$.M3=function(o,P,w,x,z){x=a$.awM(P,P.nH,P.bC,P.rU,o,w,x,z);
return x};a$.q0=function(o,P,w,x,z,S,k){x=a$.amv(o,P,w,x,z,S,k);return x};a$.awM=function(o,P,w,x,z,S,k,f){var C=z.tq,H={},b=k;
for(var I=0;I<C.length;I++){var i=C[I],M=i.id,T=i.length,O;if(M==-2&&z.u==null)M=-1;if(M==-3)O=z.ST.rect;
else if(M==-2)O=z.u.rect;else O=z.rect;var Y=a$.zJ(P,w,S,O.q,O._,k,T,f);k+=T;if(M==-3)z.ST.channel=Y;
else if(M==-2)z.u.channel=Y;else H["c"+M]=Y}var U=new e.fC(0);U.F=null;if(x==3){U.$=H.c0;U.H=H.c1;U.b=H.c2;
U.F=H["c-1"]}else if(x==1){U.$=H.c0;U.H=H.c0;U.b=H.c0;U.F=H["c-1"]}else if(x==4){var W=o.xX.r1039,t=null,_=H.c0,n=H.c1,y=H.c2,F=H.c3;
if(W){var t=W.aFw,a=17;if(t==null){var V=ICC.R(W.buffer);if(V.header.spaceIn=="RGB "){}else t=W.aFw=ICC.U.sampleLUT(V,a)}}if(t){var D={$:_,H:n,b:y,F:F},l=e.U(_.length*4);
e.Vo(D,l);e.Sd(l);ICC.U.applyLUT4(t,a,l,l);e.X1(l,D)}else{for(var I=0;I<_.length;I++){var Q=1-_[I]*(1/255),m=1-n[I]*(1/255),R=1-y[I]*(1/255),$=1-F[I]*(1/255),p=e.Wu([Q,m,R,$]);
_[I]=Math.floor(.5+p[0]*255);n[I]=Math.floor(.5+p[1]*255);y[I]=Math.floor(.5+p[2]*255)}}U.$=_;U.H=n;
U.b=y;U.F=H["c-1"]}if(U.$==null)U.$=e.U(0);if(U.F==null&&U.$!=null){U.F=U.$.slice(0);U.F.fill(255)}if(U.H==null)U.H=U.$.slice(0);
if(U.b==null)U.b=U.$.slice(0);z.buffer=e.U(Math.max(0,z.rect.c()*4));e.Vo(U,z.buffer);return k};a$.amv=function(o,P,w,x,z,S,k){var f=P.aAn(k),C=P.buffer,H=new e.fC(P.rect.c());
if(k){var b=H.F.slice(0);e.JX(C,b,3);C=C.slice(0);e.a3L(C);e.X1(C,H);H.a9r=H.F;H.F=b}else e.X1(C,H);
for(var I=0;I<f.length;I++){var i=f[I],M,T;if(i==-3)M=P.ST.rect;else if(i==-2)M=P.u.rect;else M=P.rect;
if(i==-3)T=P.ST.channel;if(i==-2)T=P.u.channel;if(i==-1)T=H.F;if(i==0)T=H.$;if(i==1)T=H.H;if(i==2)T=H.b;
if(i==3)T=H.a9r;w.dZ(x,M.c()*3+4);var O=x;x=a$.tn(o,T,w.data,M.q,M._,x,S[1]?3:1);var Y=x-O;if(o)L.ac_(w.data,z+I*10+2,Y);
else L.Eu(w.data,z+I*6+2,Y)}return x};a$.zJ=function(o,P,w,x,z,S,k,f){var C=f?L.Bh:L.Vp,H=C(w,S);S+=2;
return a$.kt(o,P,w,x,z,S,H,k-2,f)};a$.tn=function(o,P,w,x,z,S,k){L.dc(w,S,k);S+=2;S=a$.oS(o,P,w,x,z,S,k);
return S};a$.kt=function(o,P,w,x,z,S,k,f,C){var H,b=x*z*(P>>>3),i=b&3,M=b+(i==0?0:4-i);if(f<=0){return e.U(M)}if(k>3){console.log("unknown compression: "+k,x,z,x*z,f);
k=0}if(k==0){if(S+M<=w.length)H=w.slice(S,S+M);else{H=e.U(b);for(var I=0;I<b;I++)H[I]=w[S+I]}S+=b}else if(k==1){H=e.U(b);
var T=o?4:2,O=a$.adk(w,H,x,z,S,S+T*z,T,C);S+=T*z+O}else if(k==2||k==3){var Y=new Uint8Array(w.buffer,S+2,f-6),U=e.U(M);
UZIP.inflateRaw(Y,U);if(k==3){if(P==8)for(var W=0;W<z;W++){var t=W*x+1,_=t+x-1,n=U[t-1];for(var y=t;
y<_;y++){n+=U[y];U[y]=n&255}}else for(var W=0;W<z;W++){var t=W*x+1,_=t+x-1,n=U[2*t-2]<<8|U[2*t-1];for(var y=t;
y<_;y++){var F=y<<1;n+=U[F]<<8|U[F+1];U[F]=n>>>8;U[F+1]=n&255}}}if(U.length==M)H=U;else{H=e.U(M);for(var I=0;
I<U.length;I++)H[I]=U[I]}}if(P==16){var a=e.U(x*z);for(var I=0;I<b;I+=2)a[I>>>1]=H[I];H=a}return H};
a$.oS=function(o,P,w,x,z,S,k){var f=x*z;if(k==0)for(var I=0;I<f;I++)w[S++]=P[I];else if(k==1){var C=o?4:2,H=a$.ajI(P,w,x,z,S,S+C*z,C);
S+=C*z+H}else if(k==2||k==3){if(k==3){var b=new Uint8Array(P.length);for(var i=0;i<z;i++){var M=i*x+1,T=M+x-1,O=P[M-1];
b[M-1]=O;for(var Y=M;Y<T;Y++){b[Y]=P[Y]+(256-O)&255;O=P[Y]}}P=b}w[S]=120;w[S+1]=156;S+=2;var U=pako.deflateRaw(P,{apq:4});
L.a1Q(w,S,U);S+=U.length+4}else console.log("Unknown compression: "+k);return S};a$.adk=function(o,P,w,x,z,S,k,f){if(!(o instanceof Uint8Array)||!(P instanceof Uint8Array))throw"e";
var C=S,H=x|0;if(f){if(k==2)for(var I=0;I<H;I++){var b=L.Bh(o,z+(I<<1));a$.fl(o,S,b,P,I*w,w);S+=b}else for(var I=0;
I<H;I++){var b=L.Dn(o,z+(I<<2));a$.fl(o,S,b,P,I*w,w);S+=b}}else{if(k==2)for(var I=0;I<H;I++){var b=L.Vp(o,z+(I<<1));
a$.fl(o,S,b,P,I*w,w);S+=b}else for(var I=0;I<H;I++){var b=L.RS(o,z+(I<<2));a$.fl(o,S,b,P,I*w,w);S+=b}}return S-C};
a$.ajI=function(o,P,w,x,z,S,k){var f=S;if(k==2)for(var I=0;I<x;I++){var C=a$.a6y(o,I*w,w,P,S);L.iV(P,z+I*2,C);
S+=C}else for(var I=0;I<x;I++){var C=a$.a6y(o,I*w,w,P,S);L.Eu(P,z+I*4,C);S+=C}return S-f};a$.a6y=function(o,P,eK,w,x){var z,S,k,f,C,gx,H;
f=P+eK;for(k=P,S=x;eK>0;k=z,eK-=gx){H=eK<128?eK:128;if(k<=f-3&&o[k+1]==o[k+0]&&o[k+2]==o[k+0]){for(z=k+3;
z<k+H&&o[z]==o[k+0];)++z;gx=z-k;w[S++]=1+256-gx;w[S++]=o[k+0]}else{for(z=k;z<k+H;)if(z<=f-3&&o[z+1]==o[z+0]&&o[z+2]==o[z+0])break;
else++z;gx=z-k;w[S++]=gx-1;for(var I=0;I<gx;I++)w[S+I]=o[k+I];S+=gx}}return S-x};a$.fl=function(o,P,w,x,z,S){for(var k=0;
k<w;){var eK=o[P++];if(eK>=128){var f=o[P++],C=z+(257-eK);x.fill(f,z,C);z=C;k+=2}else{for(var I=0;I<=eK;
I++)x[z+I]=o[P+I];P+=eK+1;z+=eK+1;k+=1+1+eK}}};function eg(){}eg.q8=function(o,P,w){return;var x="",z=P;
while(z!=0){var S=z%1e3+"";while(S.length<3)S="0"+S;x=(x==""?S:S+" ")+x;z=Math.floor(z/1e3)}while(x.startsWith("0")&&x!="0")x=x.slice(1);
while(x.length<11)x=" "+x;console.log("===",x,"\t".repeat(o),": "+w)};eg.ajF=function(o){var P={xX:{},add:{}},x=0,z=0,f;
P.nH=!1;P.bC=8;var w=new Uint8Array(o);z=eg.Fl(P,w,x);x=z;z=eg.a3B(P,w,x);x=z;var S=L.RS(w,x);x+=4+S;
var k=P.nH?8:4;if(P.nH)f=L.dw(w,x);else f=L.RS(w,x);x+=k+f;z=eg.abd(P,w,x);return[{pv:new fA(0,0,P.q,P._),data:P.buffer.buffer}]};
eg.M3=function(o,P){P.nH=!1;P.bC=8;var w=new Uint8Array(o),x=0,z=0,k=0,K,ak=!1,cN=!0,gC=!1,bD=0,fh=0;
z=eg.Fl(P,w,x);eg.q8(0,z-x,"PSD Header");x=z;z=eg.a3B(P,w,x);eg.q8(0,z-x,"Color Mode Data");x=z;z=eg.aa1(P,w,x);
eg.q8(0,z-x,"Image Resources");x=z;z=eg.a5T(P,w,x);eg.q8(0,z-x,"Layer And Mask Info");x=z;z=eg.abd(P,w,x);
eg.q8(0,z-x,"Merged Image");x=z;if(P.R.length==0){var S=P._L();S.bx("Background");P.R.push(S);S.buffer=P.buffer.slice(0);
S.rect=new fA(0,0,P.q,P._)}for(var I=0;I<P.R.length;I++){var z=P.R[I],f=z.add.lsct;if(f==jS.iz)k++;else if(f==jS.KC||f==jS.v_)k--}while(k<0){P.R.unshift(P.VY());
k++}if(P.xX.r1005){P.vz=L.c0(P.xX.r1005,0)}if(P.xX.r1026){var w=P.xX.r1026;for(var I=0;I<w.length;I+=2){var z=P.R[I>>>1];
if(z)z.FU=L.Vp(w,I)}}if(P.xX.r1072){var w=P.xX.r1072;for(var I=0;I<w.length;I++){var z=P.R[I];if(z)z.Yv=w[I]==1}}if(P.xX.r1032){P.r_=eg.aCa(P.xX.r1032,0)}delete P.xX.r1036;
P.f$(P.xX.r1039);if(P.xX.r1050){var C=L.RS,H=P.xX.r1050,b=L.RS(H,0);if(b==6){var i=4,M=L.Wi(H,i);i+=16;
var T=L.nj(H,i);i+=4+T.length*2;var O=C(H,i);i+=4;var Y=P.zV;for(var I=0;I<O;I++){var U=N.H_.BO(),t;
Y.push(U);U=U.v;U.sliceID.v=C(H,i);i+=4;U.groupID.v=C(H,i);i+=4;var W=C(H,i);i+=4;if(W==1){t=C(H,i);
i+=4}var T=L.nj(H,i);i+=4+T.length*2;var _=C(H,i);i+=4;var n=[C(H,i),C(H,i+4),C(H,i+8),C(H,i+12)];i+=16;
N.H_.hT(Y,Y.length-1,n);var y=U.url.v=L.nj(H,i);i+=4+y.length*2;var F=U.null.v=L.nj(H,i);i+=4+F.length*2;
var a=U.Msge.v=L.nj(H,i);i+=4+a.length*2;var V=U.altTag.v=L.nj(H,i);i+=4+V.length*2;U.cellTextIsHTML.v=H[i]==1;
i++;var D=U.cellText.v=L.nj(H,i);i+=4+D.length*2;var l=C(H,i);i+=4;var Q=C(H,i);i+=4;var m=H.slice(i,i+4);
i+=4;if(W!=2)Y.pop()}}else if(b==8){var R={};jk.SD(H,R,8,!1);var H=P.zV=R.slices.v;for(var I=0;I<H.length;
I++){if(H[I].v.origin.v.ESliceOrigin!="userGenerated"){H.splice(I,1);I--}}}}if(P.xX.r1058){var $=P.xX.r1058,p=UTIF.decode($.buffer,{parseMN:!1,debug:!1});
js.xY(p[0],P.wz);delete P.xX.r1058}if(P.xX.r1060){var c=L.bR(P.xX.r1060);js.hr(c,P.wz);delete P.xX.r1060}if(P.xX.r1065){var w=P.xX.r1065;
P.NZ={};jk.SD(w,P.NZ,4,!1)}if(P.xX.r1069){var w=P.xX.r1069,B=[];for(var I=2;I<w.length;I+=4){var t=L.RS(w,I);
for(var Z=0;Z<P.R.length;Z++){var z=P.R[Z];if(z.add.lyid==t&&z.add.lsct!=3&&B.indexOf(Z)==-1)B.push(Z)}}P.T=B}if(P.xX.r1073){var w=P.xX.r1073,i=0,v=L.jS(w,i);
i+=4;var E=L.jS(w,i);i+=4;for(var I=0;I<E;I++){P.aJ.push({y:v>=2?L.Ki(w,i+2):L.c0(w,i+2),x:v>=2?L.Ki(w,i+6):L.c0(w,i+6)});
i+=14}delete P.xX.r1073}if(P.xX.r1074){P.Pf={};jk.SD(P.xX.r1074,P.Pf,4,!1);delete P.xX.r1074}if(P.xX.r1025){var g=P.xX.r1025;
delete P.xX.r1025;var u=eR.y8(g,0,g.length,P.q,P._),j=new X.tc;j.g=u;P.Fx[0]=da.xZ("Work Path",{vmsk:j})}var A=P.add.pths;
delete P.add.pths;var s=P.xX.r3000;if(s){K={};jk.SD(s,K,4,!1);delete P.xX.r3000}if(A){var r=A.pathSymmetrySelectedPath;
if(r){var h=A.pathList.v[r.v].v,jC=h.pathUnicodeName.v;P.kz=jC.startsWith("Tile Symmetry")}}for(var d=0;
d<=997;d++){var q="r"+(2e3+d),g=P.xX[q];if(g==null)break;var u=eR.y8(g,0,g.length,P.q,P._),jC="Path "+d;
if(A){var hc=A.pathList.v[d].v;jC=hc.pathUnicodeName.v;if(jC=="Tile Symmetry 1")continue}var dk=K?K.keyRootDescriptorList.v[d].v.keyDescriptorList.v:X.h6(u),j=new X.tc;
j.g=u;P.Fx.push(da.xZ(jC,{vmsk:j,vogk:dk}));delete P.xX[q]}delete P.nH;if(P.xX.r4000){P.Ef=e.Ef.M3(P.xX.r4000)}var c6=P.xX.r7000,e3=P.xX.r7001;
if(c6){var ks=L.bR(c6);P.fA=eg.aco(ks)}if(e3){var ks=L.bR(e3);P.kr=eg.aGd(ks)}delete P.xX.r7000;delete P.xX.r7001;
var cH=new fA(0,0,P.q,P._),bI=P.add.Txt2,aR=bI;if(aR){aR=aR.Uw;if(aR._DocumentResources==null)aR=kw.aEQ(aR)}var cu=-1;
for(var I=0;I<P.R.length;I++){var z=P.R[I],du=z.add.lsct,bq=z.add.vmsk,hn=z.Jq();if(du==jS.iz){bD++;
z.add.lspf=0}else if(du==jS.KC||du==jS.v_)bD--;if(z.name==""){z.name="Layer "+(I+1);gC=!0}if(gC&&z.Pe()&&z.gS=="norm")z.gS="pass";
if(z.zO()&&z.fP(P)==null)delete z.add.SoLd;if(z.zO()&&z.fP(P).u){var aK=z.fP(P);aK.u.isEnabled=z.add.SoLd.filterFX.v.filterMaskEnable.v}if(bq&&z.aj()){var cQ=iR.Vq.bS(!0);
if(z.add.vstk==null)z.add.vstk=JSON.parse(JSON.stringify(cQ));else{var jR="strokeStyleLineDashSet";if(z.add.vstk[jR]==null)z.add.vstk[jR]=JSON.parse(JSON.stringify(cQ[jR]))}z.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
z.add.vstk.strokeStyleResolution.v=P.vz}if(bq&&(z.add.vogk==null||e.n.f8(bq.g)!=z.add.vogk.length))z.h6();
if(!1){var ch=z.add.vogk,bx=!0;for(var jf=0;jf<ch.length;jf++){var dW=ch[jf].v.keyShapeInvalidated;if(dW==null||dW.v==!1)bx=!1}if(bx)z.h6()}if(z.add.SoLd&&z.rect.Mw()){console.log("redrawing smart instance");
z.w2(P,null,null,!0,!0)}if(hn==null&&z.u!=null){if(z.u.Gb==!1){z.u.Gb=!0;z.ST=z.u.clone()}}hn=z.Jq();
if(z.tj){var cQ=z.tj,j=bq;if(hn){hn._F=cQ[0];hn.yy=cQ[1]}if(j){j._F=cQ[2];j.yy=cQ[3]}z.tj=null}if(hn!=null&&bq!=null&&(hn.yy+bq.yy!=0||hn._F+bq._F!=2*255))z.qX(P);
else if(bq!=null&&!z.aj())z.qX();else if(hn&&hn._F!=255&&z.aj())z.qX(P);var bf=z.add.artb;if(bf&&bf.artboardBackgroundType==null)bf.artboardBackgroundType={t:"long",v:1};
if(bf&&bD!=0)delete z.add.artb;var iu=z.add.vstk;if(z.aj()&&(z.rect.Mw()||bq&&bq.yy!=0||iu&&!iu.fillEnabled.v&&(!iu.strokeEnabled.v||iu.strokeStyleLineWidth.v.val==0)))z.mw(P);
if(z.add.TySh){ak=!0;if(!z.rect.Mw())cN=!1}if(z.add.TySh&&aR){cu++;var dV=z.add.TySh.OY,gb=fe.vw(dV),gP=aR._DocumentObjects._TextObjects;
if(gP.length<=cu){console.log("Txt2 incomplete");continue}var eJ=gP[cu]._Model,c1=eJ._StyleRun?eJ._StyleRun._RunArray:[],ku=dV.EngineDict.StyleRun.RunArray;
for(var aC=0;aC<ku.length;aC++){var gU=ku[aC].StyleSheet.StyleSheetData;if(c1[aC]==null)continue;var hR=c1[aC]._RunData._StyleSheet._Features;
if(hR){if(hR._BaselineDirection)gU.BaselineDirection=parseInt(hR._BaselineDirection.slice(1));if(hR._FillBackgroundFlag)gU._FillBackgroundFlag=hR._FillBackgroundFlag;
if(hR._FillBackgroundColor)gU._FillBackgroundColor={Type:1,Values:en.XY(hR._FillBackgroundColor._Color._Values)};
var f=fe.cE;for(var Z=0;Z<f.length;Z++)if(hR[f[Z]]!=null)gU[f[Z]]=hR[f[Z]];var a7=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var Z=0;Z<a7.length;Z++)if(hR[a7[Z]]!=null)gU[a7[Z]]=parseInt(hR[a7[Z]].slice(1));if(hR._LineDashArray!=null)gU._LineDashArray=en.XY(hR._LineDashArray)}}var dh=dV.EngineDict.ParagraphRun.RunArray,eS=eJ._ParagraphRun._RunArray;
if(eS==null)eS=[];var d0=Math.min(eS.length,dh.length);for(var Z=0;Z<d0;Z++){var cJ=dh[Z].ParagraphSheet.Properties,aO=aR._DocumentResources._ParagraphSheetSet._Resources,a9=eS[Z]._RunData._ParagraphSheet;
if(typeof a9=="string")a9=aO[parseInt(a9.slice(1))]._Resource;var ac=a9._Parent==null?a9:aO[parseInt(a9._Parent.slice(1))]._Resource;
a9=a9._Features;ac=ac._Features;var e7=a9._ParagraphDirection;if(e7==null)e7=ac._ParagraphDirection;
if(e7)cJ._Direction=parseInt(e7.slice(1));if(a9._ComposerEngine)cJ._ComposerEngine=parseInt(a9._ComposerEngine.slice(1))}if(eJ._AlternateGlyphRun){var eS=eJ._AlternateGlyphRun._RunArray,d0=eS.length,b2=dV.EngineDict.AlternateGlyphRun=fe.aea();
for(var Z=0;Z<d0;Z++){var a9=eS[Z],jQ={},g9=a9._RunData._AlternateGlyphSheet;if(g9)jQ.Glyph=parseInt(g9._Glyph.slice(1));
b2.RunArray.push(jQ);b2.RunLengthArray.push(parseInt(a9._Length.slice(1)))}}var cx=aR._DocumentResources,i8=cx._TextFrameSet._Resources,fw=i8[cu]._Resource,hi=fw._Data,dU=new ar(1,0,0,1,0,0);
if(fw._0){var dv=parseFloat(fw._0[0].slice(1)),bo=parseFloat(fw._0[1].slice(1));dU.translate(dv,bo)}if(gb){dU.translate(gb[0],gb[1]);
fe.SP(dV,[0,0,gb[2]-gb[0],gb[3]-gb[1]])}else{if(fw._Bezier&&fw._Bezier._Points){var u=fw._Bezier._Points,dv=parseFloat(u[0].slice(1)),bo=parseFloat(u[1].slice(1));
if(dv!=0||bo!=0){dU.translate(dv,bo)}}}if(fw._Data&&fw._Data._FrameMatrix){var fV=fw._Data._FrameMatrix;
fV=fV.map(function(dX){return parseFloat(dX.slice(1))});dU.concat(new ar(fV[0],fV[1],fV[2],fV[3],fV[4],fV[5]))}dU.concat(z.add.TySh.h);
z.add.TySh.h=dU;var _=hi._Type?parseInt(hi._Type.slice(1)):0;if(_==2||_==1&&hi._PathData&&hi._PathData._Spacing=="i-3")if(fw._Bezier){var ck=function(dX){return parseFloat(dX.slice(1))},u=fw._Bezier._Points.map(ck);
if(gb)e.a.h(u,new ar(1,0,0,1,-gb[0],-gb[1]),u);var h8=hi._PathData?hi._PathData._Reversed:!1,fS=hi._TextOnPathTRange;
if(fS==null)fS=["f-3","f-3"];dV.Curve={Points:u,TextOnPathTRange:fS.map(ck),Reversed:h8==null?!1:h8};
z.add.TySh.add={vmsk:new X.tc,vogk:null};fe.zq(z.add.TySh)}if(hi._LineOrientation=="i2")dV._LineOrientation=2}}N.vk.xk(P,!0);
var iS={},h9=[];for(var I=0;I<P.R.length;I++){var gi=P.R[I].add.lyid;if(gi==null)continue;var fh=Math.max(fh,gi);
if(iS[gi]!=null)h9.push(I);else iS[gi]=!0}for(var I=0;I<h9.length;I++)P.R[h9[I]].add.lyid=fh+1+I};eg.aCa=function(o,P){P+=12;
var w=L.RS(o,P),x=[];P+=4;w=Math.min(w,Math.floor((o.length-P)/5));for(var I=0;I<w;I++){var z=Math.min(o[P+I*5+4],1),S=L.jS(o,P+I*5)/32;
x.push([z,S])}return x};eg.aco=function(o){var P=new DOMParser,w=P.parseFromString(o,"text/xml").firstChild.children[0],x=w.getElementsByTagName("variables");
if(x.length==0)return[];x=x[0].children;var z=[],S="varName trait docRef placementMethod align valign clip".split(" ");
for(var k=0;k<x.length;k++){var f=x[k],C={};z.push(C);for(var H=0;H<S.length;H++){var b=S[H],i=f.getAttribute(b);
if(i==null)continue;C[b]=i}}return z};eg.aGd=function(o){var P=new DOMParser,w=P.parseFromString(o,"text/xml").firstChild.children,x=[[]];
if(w==null)return x;for(var I=0;I<w.length;I++){var z=w[I],S=[];x.push(S);for(var k=0;k<z.children.length;
k++){var f=z.children[k];if(I==0)x[0].push(f.tagName);S.push(f.textContent)}}return x};eg.Fv=function(o,P,w){N.vk.LT(o);
N.vk.xk(o,!1);o.nH=w[3]==!0;var x=[],z=[],U=0,t=1,O=16,aR=0;for(var I=0;I<o.R.length;I++){var S=o.R[I];
if(S.zO()&&S.fP(o).u){S.add.SoLd.filterFX.v.filterMaskEnable.v=S.fP(o).u.isEnabled}if(S.add.TySh){var k=S.add.TySh.OY,f=fe.bU(k);
S.add.TySh.cN.TextIndex={t:"long",v:x.length};x.push(k);if(f==2)fe.Jt(S.add.TySh)}var C=S.add.vstk;if(C)C.strokeStyleResolution.v=o.vz;
if(S.aj()||w[2]&&S.add.SoLd){z[I]=[S.rect,S.buffer];S.rect=new fA;S.buffer=e.U(0);if(S.add.SoLd){var H=S.fP(o);
if(H!=null){z[I].push(H.buffer);H.buffer=e.U(H.buffer.length)}}}}if(x.length>0){var b=o.add.Txt2?o.add.Txt2.Uw:null;
if(o.add.Txt2==null)o.add.Txt2={};o.add.Txt2.Uw=en.a6p(x,null,b)}var i=[o.add.lnk2,o.add.FEid,o.add.Patt],M=o.aqC(o.R);
o.a25(M);o.xX.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);L.avV(o.xX.r1005,0,o.vz);L.avV(o.xX.r1005,8,o.vz);
if(o.aJ.length>0){var T=o.aJ;o.xX.r1073=new Uint8Array(8+T.length*14);L.at(o.xX.r1073,0,3);L.at(o.xX.r1073,4,T.length);
for(var I=0;I<T.length;I++){var O=8+14*I;L.dc(o.xX.r1073,O,14);L.ve(o.xX.r1073,O+2,T[I].y);L.ve(o.xX.r1073,O+6,T[I].x);
L.dc(o.xX.r1073,O+10,-1);L.dc(o.xX.r1073,O+12,8)}}if(o.um()){o.xX.r1022=new Uint8Array([0,3+o.Cg.length-1,0])}else delete o.xX.r1022;
var Y=new Uint8Array(o.R.length*2),W=new Uint8Array(o.R.length);for(var I=0;I<o.R.length;I++){var S=o.R[I],_=S.FU,n=S.Yv?1:0;
L.iV(Y,I*2,_);W[I]=n;if(_>U)U=_;if(n==0)t=0}if(U>0)o.xX.r1026=Y;if(t<1)o.xX.r1072=W;var y=o.r_,F=y.length,a=o.xX.r1032=e.U(16+5*F,!0);
L.Eu(a,0,1);L.Eu(a,4,576);L.Eu(a,8,576);L.Eu(a,12,F);for(var I=0;I<F;I++){L.at(a,O,Math.round(y[I][1]*32));
a[O+4]=y[I][0];O+=5}if(w[4]!=!0){var V=[o.Ey(),new fA(0,0,o.q,o._)],D=0;e.nJ(V);while(V[D+1].c()>200*200)D+=2;
var l=eu.oi("jpg"),Q=V[D+1],m=new Uint8Array(l.D7([[V[D].buffer]],Q.q,Q._)),a=o.xX.r1036=new Uint8Array(28+m.length);
L.Eu(a,0,1);L.Eu(a,4,Q.q);L.Eu(a,8,Q._);L.Eu(a,12,Q.q*3);L.Eu(a,16,Q.c()*3);L.Eu(a,20,m.length);L.iV(a,24,24);
L.iV(a,26,1);a.set(m,28)}var R=e.Y9(o.buffer);if(o.add.fcmy)R=!1;var $=[];if(R)$.push({name:"Transparency",cz:{$:255,H:0,b:0},eV:100,Ct:1});
$=$.concat(o.Cg);delete o.xX.r1045;delete o.xX.r1006;delete o.xX.r1077;var p=new bA;O=0;var c=new Uint8Array(4+$.length*13);
c[3]=1;for(var I=0;I<$.length;I++){var B=$[I],Z=B.name+"\0";L.Jf(p,O,Z);O+=4+Z.length*2;var v=4+I*13;
bz.A9(c,v,B.cz);c[v+11]=B.eV;c[v+12]=B.Ct}if(O!=0)o.xX.r1045=p.data.slice(0,O);o.xX.r1077=c;for(var I=0;
I<o.zV.length;I++)o.zV[o.zV.length-I-1].v.sliceID.v=2+I*3;var E={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:o.zV}},p=new bA;
L.dr(p,0,8);L.dr(p,4,16);var g=jk.IR(p,E,8);o.xX.r1050=p.data.slice(0,g+8);var p=new bA;L.dr(p,0,16);
var g=jk.IR(p,o.NZ,4);o.xX.r1065=p.data.slice(0,g+4);if(o.Pf){var p=new bA;L.dr(p,0,16);var g=jk.IR(p,o.Pf,4);
o.xX.r1074=p.data.slice(0,g+4)}var u=o.T;a=o.xX.r1069=e.U(2+u.length*4,!0);L.iV(a,0,u.length);for(var I=0;
I<u.length;I++)L.Eu(a,2+4*I,o.R[u[I]].add.lyid);delete o.xX.r1058;delete o.xX.r1060;if(Object.keys(o.wz).length!=0){var j=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
js.b$(o.wz,j[0],w[0]&&w[1]);o.xX.r1058=new Uint8Array(UTIF.encode(j));var A=js.cr(o.wz);o.xX.r1060=L.$f(A)}var K=[],s=[],r=o.Fx.slice(0);
if(o.kz){var h=eR.aEA([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),jC=new X.tc;
jC.g=h;r.push(da.xZ("Tile Symmetry 1",{vmsk:jC,vogk:X.h6(h)}))}for(var I=0;I<r.length;I++){var d=r[I],h=d.add.vmsk.g;
if(I==0&&h.length==2)continue;var q=e.U(h.length*26);eR.Ja(q,0,h,o.q,o._);var hc=I==0?1025:2e3+I-1;o.xX["r"+hc]=q;
if(I!=0){var dk={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:d.name}};if(d.name=="Tile Symmetry 1")dk.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
K.push({t:"Objc",v:dk});s.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:d.add.vogk}}})}}if(K.length!=0){o.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:K}};
if(o.kz)o.add.pths.pathSymmetrySelectedPath={t:"long",v:K.length-1};s={classID:"null",keyRootDescriptorList:{t:"VlLs",v:s}};
var p=new bA;L.dr(p,0,16);var g=jk.IR(p,s,4);o.xX.r3000=p.data.slice(0,g+4)}else{delete o.add.pths;delete o.xX.r3000}if(o.Ef&&o.Ef.length!=0){o.xX.r4000=e.Ef.Fv(o.Ef)}if(o.fA.length!=0){var c6="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var I=0;I<o.fA.length;I++){var e3=o.fA[I],ks=[];for(var hc in e3)ks.push(hc+"=\""+e3[hc]+"\"");c6+="<variable "+ks.join(" ")+">\n</variable>\n"}c6+="</variables>\n</variableSet>\n</variableSets>";
o.xX.r7000=L.$f(c6)}if(o.kr.length!=0){var c6="<sampleDataSets psdPath=\""+o.name+"\">\n";for(var I=1;
I<o.kr.length;I++){var cH=o.kr[I];c6+="<sampleDataSet dataSetName=\"Data Set "+I+"\">\n";for(var bI=0;
bI<cH.length;bI++)c6+="<"+o.kr[0][bI]+">"+cH[bI].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+o.kr[0][bI]+">\n";
c6+="</sampleDataSet>\n"}c6+="</sampleDataSets>";o.xX.r7001=L.$f(c6)}aR=eg.ath(o,P,aR,3+$.length);aR=eg.awO(o,P,aR);
aR=eg.aqv(o,P,aR);aR=eg.ayW(o,P,aR,w,R);aR=eg.abS(o,P,aR,w[0],R);var ak=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var I=0;I<ak.length;I++)delete o.xX["r"+ak[I]];for(var I=0;I<o.R.length;I++){var S=o.R[I];if(S.aj()||w[2]&&S.add.SoLd){S.rect=z[I][0];
S.buffer=z[I][1];if(z[I][2]){var H=S.fP(o);z[I].push(H.buffer);H.buffer=z[I][2]}}}o.a25(i);N.vk.xk(o,!0);
delete o.nH;return aR};eg.Fl=function(o,P,w){var x=L.AW(P,w,4);w+=4;if(x!="8BPS")alert("invalid header signature: "+x);
var z=L.Vp(P,w);w+=2;o.nH=z==2;if(z!=1&&z!=2)alert("invalid version: "+z);w+=6;o.so=L.Vp(P,w);w+=2;o._=L.jS(P,w);
w+=4;o.q=L.jS(P,w);w+=4;o.bC=L.Vp(P,w);w+=2;o.rU=L.Vp(P,w);w+=2;return w};eg.ath=function(o,P,w,x){var z=o.add.fcmy==1;
P.dZ(0,64);L.Xi(P.data,w,"8BPS");w+=4;L.iV(P.data,w,o.nH?2:1);w+=2;L.Eu(P.data,w,0);w+=4;L.iV(P.data,w,0);
w+=2;L.iV(P.data,w,x+(z?1:0));w+=2;L.at(P.data,w,o._);w+=4;L.at(P.data,w,o.q);w+=4;L.iV(P.data,w,8);
w+=2;L.iV(P.data,w,z?4:3);w+=2;return w};eg.a3B=function(o,P,w){var x=L.jS(P,w);w+=4;if(x!=0)o.T3=P.slice(w,w+x);
w+=x;return w};eg.awO=function(o,P,w){L.ZX(P,w,0);w+=4;return w};eg.aa1=function(o,P,w){var x=L.RS(P,w),z=0;
w+=4;var S=[];while(z<x){var k=L.AW(P,w+z,4);z+=4;var f=L.Vp(P,w+z);z+=2;var C=L.V2(P,w+z);z+=C.length;
if(k=="MeSa"&&(f==7e3||f==7001)){}else if(k!="8BIM"){S.push(f);console.log("Unknown Image Resources signature: "+k+", ID: "+f)}var H=L.RS(P,w+z);
z+=4;if(o.xX["r"+f]!=null)console.log("--- two resources with same ID");o.xX["r"+f]=L.ZK(P,w+z,H);z+=H+(H&1)}for(var I=0;
I<S.length;I++)delete o.xX["r"+S[I]];delete o.xX.r1092;return w+x};eg.aqv=function(o,P,w){var x=w,k=0;
w+=4;var z=[];for(var S in o.xX){z.push(parseInt(S.slice(1)))}z.sort(function(i,M){return i-M});for(var I=0;
I<z.length;I++){var f=z[I];L.x8(P,w+k,f==7e3||f==7001?"MeSa":"8BIM");k+=4;L.In(P,w+k,f);k+=2;var C=L.kM(P,w+k,"");
k+=C;var H=o.xX["r"+f],b=H.length;L.dr(P,w+k,b);k+=4;L.zW(P,w+k,H);k+=b;if(b%2==1)k++}L.dr(P,x,k);return w+k};
eg.a5T=function(o,P,w){var x=w,z,S,k=o.nH?8:4;if(o.nH)z=L.dw(P,w);else z=L.RS(P,w);w+=k;if(z==0)return x+k;
S=eg.aoB(o,P,w);eg.q8(1,S-w,"Layer Info");w=S;S=eg.aEp(o,P,w);eg.q8(1,S-w,"Global Layer Mask Info");
w=S;S=fy.Rc(P,w,x+k+z,o.add,o.nH,o);eg.q8(1,S-w,"Project Add Info");w=S;return x+k+z};eg.ayW=function(o,P,w,x,z){var S=w;
L.dr(P,w,0);w+=4;if(o.nH){L.dr(P,w,0);w+=4}w=eg.a7k(o,P,w,x,z);w=eg.aqM(o,P,w);w=fy.aeI(P,w,o.add,o.nH,o);
if(o.nH)L.ab(P,S,w-S-8);else L.dr(P,S,w-S-4);return w};eg.aoB=function(o,P,w){var x,z=o.nH?8:4;if(o.nH)x=L.dw(P,w);
else x=L.RS(P,w);w+=z;if(x!=0)eg.Hu(o,P,w);return w+x};eg.Hu=function(o,P,w,x){var z=x?L.rg:L.$w,S=z(P,w);
w+=2;var k=Math.abs(S);for(var I=0;I<k;I++){var f=new X;w=j$.M3(f,o,P,w,x);o.R[I]=f}var C=new fA(0,0,o.q,o._);
for(var I=0;I<k;I++){var H=o.R[I],b=H.Jq(),i=a$.M3(H,o,P,w,x);if(i-w>8)eg.q8(2,i-w,"Lay: "+H.getName());
w=i;eg.a49(H,C);if(b)eg.a49(b,C)}};eg.a49=function(o,P){};eg.a7k=function(o,P,w,x,z){var S=w,k=o.nH;
w+=k?8:4;w=eg.a2j(o,P,w,x,z);var f=w-S-(k?8:4);if(f%2!=0)f++;if(k)L.ab(P,S,f);else L.dr(P,S,f);return S+f+(k?8:4)};
eg.a2j=function(o,P,w,x,z){var S=o.R.length;L.pd(P,w,z?-S:S);w+=2;var k=[];for(var I=0;I<S;I++)w=j$.Fv(o.R[I],o,P,w,k);
for(var I=0;I<S;I++)w=a$.q0(o.nH,o.R[I],P,w,k[I],x,o.add.fcmy==1);return w};eg.aEp=function(o,P,w){var x=L.RS(P,w);
w+=4;w+=x;return w};eg.aqM=function(o,P,w){var x=L.dr(P,w,0);w+=4;return w};eg.abd=function(o,P,w){var x=o.rU,z="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),S=[1,1,1,3,4,1,1,3],k,Y;
delete o.add.fcmy;if(x!=3){if(x==1||x==2||x==4)console.log("Project will be converted from "+z[x]+" to "+z[3]+" mode.");
else{alert("Color mode "+z[x]+" is not supported yet :(")}if(x==4)o.add.fcmy=1}if(o.xX.r1045){k=[];var f=o.xX.r1045,C=0;
while(C<f.length){var H=L.Wb(f,C);k.push(H);C+=4+2+H.length*2}}var b=S[x]+(k==null||k[0]=="Transparency"?1:0),i=o.q,M=o._,T=i*M,O=L.Vp(P,w);
w+=2;o.buffer=e.U(T*4);e.ZT(o.buffer,4278190080);var U=w;for(var W=0;W<o.so;W++){if(O==0){Y=a$.kt(o.nH,o.bC,P,i,M,w,O);
w+=T*(o.bC>>>3)}else if(O==1){Y=e.U(T);var t=o.nH?4:2;if(W==0)w+=o.so*M*t;w+=a$.adk(P,Y,i,M,U+W*M*t,w,t)}else{console.log("unknown compression of image data: ",O);
return}if(W<b){e.lI(Y,o.buffer,W);if(o.so==1&&W==0){e.lI(Y,o.buffer,1);e.lI(Y,o.buffer,2)}}else{var _=new X.wy,n=W-b,y=W-S[o.rU];
_.name=k?k[y]:"Alpha";if(_.name=="Quick Mask"){_._8=!0;o.jM.push(n)}_.rect=new fA(0,0,i,M);_.channel=Y;
_.color=0;_.wW();o.Cg[n]=_;if(o.xX.r1077){var f=o.xX.r1077.slice(4+y*13);_.cz=bz.HQ(f,0);_.eV=f[11];
_.Ct=f[12];if(_.Ct==2)_._8=!0}}}o.so=4;if(o.rU==2)for(var I=0;I<T;I++){var F=I*4,a=o.buffer[F];o.buffer[F]=o.T3[0+a];
o.buffer[F+1]=o.T3[256+a];o.buffer[F+2]=o.T3[512+a]}return w};eg.abS=function(o,P,w,x,z){var S=1,k=16,f=o.q,C=o._,b,i,M;
L.In(P,w,S);w+=2;var H=f*C;if(!x){i=new e.fC(f*C);e.X1(o.buffer,i);var T=i.$,O=i.H,Y=i.b,U=i.F;for(var I=0;
I<H;I++){var W=U[I]*(1/255);T[I]=~~(T[I]*W+255*(1-W));O[I]=~~(O[I]*W+255*(1-W));Y[I]=~~(Y[I]*W+255*(1-W))}M=[i.$,i.H,i.b];
if(o.add.fcmy==1){M.push(e.U(H));var t=o.buffer.slice(0);e.a3L(t);e.X1(t,{$:M[0],H:M[1],b:M[2],F:M[3]})}if(z)M.push(i.F)}else{b=e.U(H);
M=[b,b,b];if(o.add.fcmy==1)M.push(b);if(z)M.push(b)}for(var I=0;I<o.Cg.length;I++){M.push(o.Cg[I].Hz(new fA(0,0,o.q,o._)))}var _=w;
for(var n=0;n<M.length;n++){P.dZ(w,f*C+4);b=M[n];if(S==0||S==2||S==3)w=a$.oS(o.nH,b,P.data,f,C,w,S);
else{var y=o.nH?4:2;if(n==0)w+=M.length*C*y;var F=w;w+=a$.ajI(b,P.data,f,C,_+n*C*y,w,y)}}return w};function kJ(){}kJ.M3=function(o){var P={};
kJ.L6(o,P,0,0);return P};kJ.Fv=function(o,P){var w=0;w=kJ.su(o,P,w,0);return w};kJ.L6=function(o,P,w,x){while(o[w]!="<".charCodeAt(0))w++;
w+=2;while(!0){if(o[w]=="/".charCodeAt(0)){w++;var z=L.indexOf(o," ".charCodeAt(0),w,w+50),S=L.indexOf(o,"\n".charCodeAt(0),w,w+50);
if(S==-1)S=Infinity;if(z==-1)z=Infinity;var k=Math.min(S,z),f=L.AW(o,w,k-w),C=kJ.DE(o,k+1,x+1,f);P[f]=C.P;
w=k+1;w+=C.size}else if(o[w]==">".charCodeAt(0)){w+=2;break}else{var H=o[w];if(H==10||H==9||H==32)w++;
else{console.log("unknown byte: "+H+", char: "+String.fromCharCode(H),w);w++}}}return w};kJ.su=function(o,P,w,x){L.x8(P,w,"<<\n");
w+=3;var z=kJ.adV;for(var S in o){L.Cr(P,w,"\t".charCodeAt(0),x+1);w+=x+1;L.x8(P,w,"/"+S);w+=1+S.length;
if(z(o[S])||o[S]instanceof Array){L.x8(P,w," ");w++}else{L.x8(P,w,"\n");w++;L.Cr(P,w,"\t".charCodeAt(0),x+1);
w+=x+1}w=kJ.Lr(o[S],P,w,x+1);L.x8(P,w,"\n");w++}L.Cr(P,w,"\t".charCodeAt(0),x);w+=x;L.x8(P,w,">>");w+=2;
return w};kJ.DE=function(o,P,w,x){var z=P,S={size:0,P:0};while(!0){while(o[P]==" ".charCodeAt(0)||o[P]=="\t".charCodeAt(0)||o[P]=="\n".charCodeAt(0))P++;
if(o[P]=="<".charCodeAt(0)){S.P={};P=kJ.L6(o,S.P,P,w+1);break}else if(o[P]=="(".charCodeAt(0)){P+=3;
var k=P;while(!0){if(o[k-1]!="\\".charCodeAt(0)&&o[k]==")".charCodeAt(0)&&(o[k+1]=="\n".charCodeAt(0)||o[k+1]==" ".charCodeAt(0)))break;
else k++}S.P=L.aeh(o,P,k);P=k+2;break}else if(o[P]=="[".charCodeAt(0)){P++;S.P=[];while(o[P]==" ".charCodeAt(0)||o[P]=="\t".charCodeAt(0)||o[P]=="\n".charCodeAt(0))P++;
while(o[P]!="]".charCodeAt(0)){var f=kJ.DE(o,P,w+1,x);S.P.push(f.P);P+=f.size;while(o[P]==" ".charCodeAt(0)||o[P]=="\t".charCodeAt(0)||o[P]=="\n".charCodeAt(0))P++}P++;
break}else{var C=L.indexOf(o," ".charCodeAt(0),P,P+50),H=L.indexOf(o,"\n".charCodeAt(0),P,P+50);if(H==-1)H=Infinity;
if(C==-1)C=Infinity;var b=L.AW(o,P,Math.min(C,H)-P).trim(),i=parseFloat(b);if(!isNaN(i)){S.P=parseFloat(b);
P=Math.min(C,H)+1;break}else if(b=="true"||b=="false"){S.P=b=="true";P=Math.min(C,H)+1;break}else if(b=="null"||b=="NaN"||b=="undefined"){S.P=0;
P=Math.min(C,H)+1;break}else{console.log("unknown identifier: "+b);throw"e"}P=Math.min(C,H)+1}}S.size=P-z;
return S};kJ.Lr=function(o,P,w,x){if(o instanceof Array){var z=o.length==0||typeof o[0]=="number";if(z){L.x8(P,w,"[ ");
w+=2;for(var I=0;I<o.length;I++){var S=o[I]+" ";L.x8(P,w,S);w+=S.length}L.x8(P,w,"]");w+=1}else{L.x8(P,w,"[\n");
w+=2;for(var I=0;I<o.length;I++){L.Cr(P,w,"\t".charCodeAt(0),x);w+=x;w=kJ.Lr(o[I],P,w,x);L.x8(P,w,"\n");
w++}L.Cr(P,w,"\t".charCodeAt(0),x);w+=x;L.x8(P,w,"]");w+=1}}else if(o instanceof Object){w=kJ.su(o,P,w,x)}else if(typeof o=="string"){L.x8(P,w,"(");
w++;L.Cr(P,w,254);w++;L.Cr(P,w,255);w++;w=L.akA(P,w,o);L.x8(P,w,")");w+=1}else{var S=o+"";L.x8(P,w,S);
w+=S.length}return w};kJ.adV=function(o){var P=typeof o;return P=="string"||P=="number"||P=="boolean"};
function hX(){}hX.M3=function(o){var P={};hX.atd(o,P,0,0);return P};hX.Fv=function(o,P){var w=0;L.x8(P,w," ");
w++;w=hX.a4R(o,P,w,0);w--;P.dZ(w,2);P.data[w]=P.data[w+1]=0;w+=2;return w};hX.L6=function(o,P,w,x){while(o[w]!="<".charCodeAt(0)){w++;
console.log("šipka")}w+=2;w=hX.atd(o,P,w,x);return w};hX.su=function(o,P,w,x){L.x8(P,w,"<< ");w+=3;w=hX.a4R(o,P,w,x);
L.x8(P,w,">>");w+=2;return w};hX.FW=function(o){return o==9||o==10||o==32};hX.atd=function(o,P,w,x){while(!0){while(hX.FW(o[w])||o[w]==0)w++;
if(w>=o.length)break;if(o[w]=="/".charCodeAt(0)){w++;var z=w;while(!hX.FW(o[z]))z++;var S=L.AW(o,w,z-w);
w=z+1;var k=hX.DE(o,w,x,S);P["_"+S]=k.P;w+=k.size}else if(o[w]==">".charCodeAt(0)){w+=2;break}else{var f=o[w];
console.log(L.AW(o,w,w+100));console.log("unknown byte: "+f+", char: "+String.fromCharCode(f)+", offset: "+w);
w++;throw"e";return-1}}return w};hX.a4R=function(o,P,w,x){for(var z in o){var S=z.substring(1,z.length);
L.x8(P,w,"/"+S);w+=1+S.length;L.x8(P,w," ");w++;w=hX.Lr(o[z],P,w,x+1,S);L.x8(P,w," ");w++}return w};
hX.DE=function(o,P,w,x){var z=P,S={type:"",size:0,P:0};while(hX.FW(o[P]))P++;if(o[P]=="<".charCodeAt(0)){S.type="Object";
S.P={};P=hX.L6(o,S.P,P,w+1)}else if(o[P]=="(".charCodeAt(0)){S.type="String";P++;if(o[P]==")".charCodeAt(0)){S.P="e";
P++}else if(o[P]==254&&o[P+1]==255){P+=2;var k=P,f=0;while(!0){if(o[k]==")".charCodeAt(0)&&o[k-1]!="\\".charCodeAt(0))break;
else k+=1}S.P="s"+L.aeh(o,P,k);P=k+2}else{var k=P;while(o[k]!=")".charCodeAt(0))k++;S.P="s"+L.AW(o,P,k-P);
P=k+1}}else if(o[P]=="[".charCodeAt(0)){P++;S.P=[];S.type="Array";while(hX.FW(o[P]))P++;while(o[P]!="]".charCodeAt(0)){var C=hX.DE(o,P,w+1,x);
if(C==-1)return-1;S.P.push(C.P);P+=C.size;delete C.size;while(hX.FW(o[P]))P++}P++}else{var H=P;while(!hX.FW(o[H]))H++;
var b=L.AW(o,P,H-P),i=parseFloat(b);if(!isNaN(i)&&b.indexOf(".")!=-1){S.type="Float";var M=parseFloat(b);
S.P="f"+M}else if(!isNaN(i)&&b.indexOf(".")==-1){S.type="Integer";S.P="i"+parseInt(b)}else if(b=="true"||b=="false"){S.type="Boolean";
S.P=b=="true"}else if(b.charAt(0)=="/"){S.type="BString";S.P=b}else if(b=="NaN"||b=="undefined"){S.type="Float";
S.P="f0"}else{console.log("unknown value",JSON.stringify(b));throw"e"}P=H+1}S.size=P-z;return S};hX.aDy=function(o){if(o==Math.round(o))return o+".0";
var P=o.toFixed(5);while(P.endsWith("0")&&P[P.length-2]!=".")P=P.slice(0,P.length-1);if(0<o&&o<1)P=P.slice(1);
if(-1<o&&o<0)P="-"+P.slice(2);return P};hX.Lr=function(o,P,w,x,z){var S=typeof o=="string"?o.charAt(0):"";
if(o instanceof Array){L.x8(P,w,"[ ");w+=2;for(var I=0;I<o.length;I++){w=hX.Lr(o[I],P,w,x,"");L.x8(P,w," ");
w++}L.x8(P,w,"]");w+=1}else if(o instanceof Object){w=hX.su(o,P,w,x)}else if(S=="e"){L.x8(P,w,"()");
w+=2}else if(S=="s"){L.x8(P,w,"(");w++;if(z=="97"){L.x8(P,w,o.slice(1));w+=o.length-1}else{L.Cr(P,w,254);
w++;L.Cr(P,w,255);w++;w=L.akA(P,w,o.slice(1))}L.x8(P,w,")");w++}else if(S=="/"){L.x8(P,w,o);w+=o.length}else if(S=="f"){var k=parseFloat(o.substring(1)),f=hX.aDy(k);
L.x8(P,w,f);w+=f.length}else if(S=="i"){L.x8(P,w,o.substring(1));w+=o.length-1}else{var f=o+"";L.x8(P,w,f);
w+=f.length}return w};function L(){}L.aE1=function(eK){var o="";for(var I=3;I>=0;I--)o+=String.fromCharCode(eK>>I*8&255);
return o};L.aue=function(o){var eK=0;for(var I=o.length-1;I>=0;I--)eK|=o.charCodeAt(I)<<(3-I)*8;return eK};
L.indexOf=function(o,P,w,x){if(w==null)w=0;if(x==null)x=o.length;x=Math.min(x,o.length);for(var I=w;
I<x;I++)if(o[I]==P)return I;return-1};L.mG=function(o,P,w){if(w==null)w=0;var x=P.length,z=o.length-x;
if(typeof P=="string"){var S=[];for(var I=0;I<x;I++)S.push(P.charCodeAt(I));P=S}if(P.length>0){var k=P[0];
for(var I=w;I<z;I++)if(o[I]==k){var f=!0;for(var C=1;C<x;C++)if(P[C]!=o[I+C]){f=!1;break}if(f)return I}}return-1};
L.aeh=function(o,P,w){var x=[],S="";while(P<w){var z=o[P++];if(z=="\\".charCodeAt(0))x.push(o[P++]);
else x.push(z)}for(var I=0;I<x.length;I+=2)S+=String.fromCharCode(x[I]<<8|x[I+1]);return S};L.ald=function(o,P,w){var x=new Uint8Array(2);
for(var I=0;I<w.length;I++){L.iV(x,0,w.charCodeAt(I));if(x[0]==")".charCodeAt(0)||x[0]=="(".charCodeAt(0)||x[0]=="\\".charCodeAt(0)){o[P]="\\".charCodeAt(0);
P++}o[P]=x[0];P++;if(x[1]==")".charCodeAt(0)||x[1]=="(".charCodeAt(0)||x[1]=="\\".charCodeAt(0)){o[P]="\\".charCodeAt(0);
P++}o[P]=x[1];P++}return P};L.akA=function(o,P,w){o.dZ(P,4*w.length);return L.ald(o.data,P,w)};L.NF=function(o,P,w){var x="";
for(var I=0;I<w;I++){var z=o[P++]|o[P++]<<8;x+=String.fromCharCode(z)}return x};L.qG=function(o,P,w){var x="";
for(var I=0;I<w;I++){var z=o[P++]<<8|o[P++];x+=String.fromCharCode(z)}return x};L.aBv=function(o,P,w){for(var I=0;
I<w.length;I++){var x=w.charCodeAt(I);L.NW(o,P+2*I,x)}};L.aGa=function(o,P,w){for(var I=0;I<w.length;
I++){var x=w.charCodeAt(I);L.iV(o,P+2*I,x)}};L.axr=function(o,P,w){o.dZ(P,2*w.length);L.aGa(o.data,P,w)};
L.a0g=function(o,I,P){var w=[],x=0,z=0;P+=I;while(I<P){x=o[I++];if((x&128)==0)z=x;else if((x&224)==192){z=(x&31)<<6;
x=o[I++];z|=x&63}else if((x&240)==224){z=(x&15)<<12;x=o[I++];z|=(x&63)<<6;x=o[I++];z|=x&63}else if((x&248)==240){z=(x&7)<<18;
x=o[I++];z|=(x&63)<<12;x=o[I++];z|=(x&63)<<6;x=o[I++];z|=x&63}else throw"e";w.push(z)}return w};L.awY=window.TextDecoder?new window.TextDecoder("utf8"):null;
L.bR=function(o,P,w){if(P==null)P=0;if(w==null)w=o.length;if(L.awY&&P==0&&w==o.length)return L.awY.decode(o);
var x=L.a0g(o,P,w),z=x.length;for(var I=0;I<z;I++)x[I]=String.fromCharCode(x[I]);return x.join("")};
L.atC=window.TextEncoder?new window.TextEncoder("utf8"):null;L.$f=function(o){if(L.atC)return L.atC.encode(o);
var P=new Uint8Array(o.length*4),w=L.zl(o,P,0);return P.slice(0,w)};L.zl=function(o,P,w){var x=o.length,I=0;
for(var z=0;z<x;z++){var S=o.charCodeAt(z);if((S&4294967295-(1<<7)+1)==0){P[w+I]=S;I++}else if((S&4294967295-(1<<11)+1)==0){P[w+I]=192|S>>6;
P[w+I+1]=128|S>>0&63;I+=2}else if((S&4294967295-(1<<16)+1)==0){P[w+I]=224|S>>12;P[w+I+1]=128|S>>6&63;
P[w+I+2]=128|S>>0&63;I+=3}else if((S&4294967295-(1<<21)+1)==0){P[w+I]=240|S>>18;P[w+I+1]=128|S>>12&63;
P[w+I+2]=128|S>>6&63;P[w+I+3]=128|S>>0&63;I+=4}else throw"e"}return I};L.pf=function(o,P){var w=L.RS(o,P),x=L.bR(o,P+4,w-1);
return{zp:x,h8:4+w}};L.a6J=function(o,P){var w=L.Dn(o,P),x=L.NF(o,P+4,w);return x};L.nj=function(o,P){var w=L.RS(o,P),x=L.qG(o,P+4,w);
return x};L.Wb=function(o,P){var w=L.RS(o,P),x=L.qG(o,P+4,w-1);return x};L.Vc=function(o,P){var w=L.Dn(o,P),x=L.NF(o,P+4,w-1);
return x};L.aGR=function(o,P,w){L.nY(o,P,w.length);P+=4;L.aBv(o,P,w)};L.ag0=function(o,P,w){L.Eu(o,P,w.length);
P+=4;L.aGa(o,P,w)};L.Jf=function(o,P,w){o.dZ(P,4+2*w.length);L.ag0(o.data,P,w)};L.agh=function(o,P,w){o.dZ(P,4+2*w.length);
L.aGR(o.data,P,w)};L.Y0=function(o,P,w){var x=[];for(var I=0;I<w;I++)x.push(String.fromCharCode(o[P+I]));
return x};L.aH6=function(o,P,w){var x=!1,z=o.length-w.length;for(var I=P;I<z;I++){for(var S=0;S<w.length;
S++){if(o[I+S]!=w.charCodeAt(S))break;if(S==w.length-1)return I}}};L.tO=function(o,P,w){var x=L.AW(o,P,4);
if(w)x=x.split("").reverse().join("");return x};L.AW=function(o,P,w){var x="";for(var I=0;I<w;I++)x+=String.fromCharCode(o[P+I]);
return x};L.Xi=function(o,P,w){for(var I=0;I<w.length;I++)o[P+I]=w.charCodeAt(I)};L.x8=function(o,P,w){o.dZ(P,w.length);
L.Xi(o.data,P,w)};L.agA=function(o,P,w){var x="";for(var I=0;I<w;I++){var z=o[P+I];if(z<10)x+="  ";else if(z<100)x+=" ";
x+=z+", "}return x};L.Vp=function(o,P){return o[P]<<8|o[P+1]};L.iV=function(o,P,eK){o[P]=eK>>8&255;o[P+1]=eK&255};
L.In=function(o,P,eK){o.dZ(P,4);L.iV(o.data,P,eK)};L.c0=function(o,P){var w=L.Vp(o,P),x=L.Vp(o,P+2);
return w+x*(1/65536)};L.avV=function(o,P,eK){var w=Math.floor(eK),x=Math.floor((eK-w)*65536);L.iV(o,P,w);
L.iV(o,P+2,x)};L.Bh=function(o,P){return o[P+1]<<8|o[P]};L.NW=function(o,P,eK){o[P+1]=eK>>8&255;o[P]=eK&255};
L.$g=function(o,P,eK){o.dZ(P,4);L.NW(o.data,P,eK)};L.$w=function(o,P){L.aD[0]=o[P+1];L.aD[1]=o[P];return L.wf[0]};
L.rg=function(o,P){L.aD[0]=o[P];L.aD[1]=o[P+1];return L.wf[0]};L.dc=L.iV;L.pd=L.In;L.jS=function(o,P){L.wu[0]=o[P+3];
L.wu[1]=o[P+2];L.wu[2]=o[P+1];L.wu[3]=o[P];return L.AC[0]};L.at=function(o,P,eK){L.AC[0]=eK;o[P+3]=L.wu[0];
o[P+2]=L.wu[1];o[P+1]=L.wu[2];o[P+0]=L.wu[3]};L.ZX=function(o,P,eK){o.dZ(P,4);L.at(o.data,P,eK)};L.Ug=function(o,P,w,x){w[x+0]=o[P+0];
w[x+1]=o[P+1];w[x+2]=o[P+2];w[x+3]=o[P+3]};L.Dn=function(o,P){L.Ug(o,P,L.wu,0);return L.am7[0]};L.nY=function(o,P,eK){L.am7[0]=eK;
L.Ug(L.wu,0,o,P)};L.hV=function(o,P,eK){o.dZ(P,4);L.nY(o.data,P,eK)};L.Be=function(o,P){L.Ug(o,P,L.wu,0);
return L.AC[0]};L.a8c=function(o,P,eK){L.AC[0]=eK;L.Ug(L.wu,0,o,P)};L.aF8=function(o,P,eK){o.dZ(P,4);
L.a8c(o.data,P,eK)};L.RS=function(o,P){var w=o[P]*(256*256*256)+(o[P+1]<<16|o[P+2]<<8|o[P+3]);return w};
L.Eu=function(o,P,eK){o[P]=eK>>24&255;o[P+1]=eK>>16&255;o[P+2]=eK>>8&255;o[P+3]=eK>>0&255};L.dr=function(o,P,eK){o.dZ(P,4);
L.Eu(o.data,P,eK)};L.dw=function(o,P){return L.RS(o,P)<<32|L.RS(o,P+4)};L.ac_=function(o,P,eK){L.Eu(o,P,eK>>16>>16);
L.Eu(o,P+4,eK&4294967295)};L.ab=function(o,P,eK){o.dZ(P,8);L.ac_(o.data,P,eK)};L.aAt=function(o,P){return L.Dn(o,P+4)|L.Dn(o,P)<<32};
L.Xv=function(o,P){var w=new Uint8Array(8);for(var I=0;I<8;I++)w[I]=o[P+7-I];var x=new Float64Array(w.buffer);
return x[0]};L.EC=function(o,P){var w=new Uint8Array(8);for(var I=0;I<8;I++)w[I]=o[P+I];var x=new Float64Array(w.buffer);
return x[0]};L.UH=function(o,P,eK){var w=new Float64Array(1);w[0]=eK;var x=new Uint8Array(w.buffer);
for(var I=0;I<4;I++){var z=x[I];x[I]=x[7-I];x[7-I]=z}for(var I=0;I<8;I++)o[P+I]=x[I]};L.Vk=function(o,P,eK){o.dZ(P,8);
L.UH(o.data,P,eK)};L.Ki=function(o,P){L.wu[0]=o[P+3];L.wu[1]=o[P+2];L.wu[2]=o[P+1];L.wu[3]=o[P+0];return L.Xc[0]};
L.mp=function(o,P){L.wu[0]=o[P+0];L.wu[1]=o[P+1];L.wu[2]=o[P+2];L.wu[3]=o[P+3];return L.Xc[0]};L.ve=function(o,P,eK){L.Xc[0]=eK;
o[P+0]=L.wu[3];o[P+1]=L.wu[2];o[P+2]=L.wu[1];o[P+3]=L.wu[0]};L.alS=function(o,P,eK){o.dZ(P,4);L.ve(o.data,P,eK)};
L.dh=function(o,P,eK){L.Xc[0]=eK;o[P+0]=L.wu[0];o[P+1]=L.wu[1];o[P+2]=L.wu[2];o[P+3]=L.wu[3]};L.aeu=function(o,P,eK){o.dZ(P,4);
L.dh(o.data,P,eK)};L.aBw=function(o,P){var w=L.jS(o,P),x=w*(1/(1<<24));return x};L.ahG=function(o,P){var w=L.Be(o,P),x=w*(1/(1<<24));
return x};L.ahQ=function(o,P,w){var x=Math.floor(w*(1<<24));L.at(o,P,x)};L.ap7=function(o,P,w){o.dZ(P,4);
L.ahQ(o.data,P,w)};L.V2=function(o,P){var w=o[P],x=L.AW(o,P+1,w);w+=1-w%2;return{MB:x,length:w+1}};L.apA=function(o,P,w){var x=w.length;
o[P]=x;L.Xi(o,P+1,w);if(x%2==0){o[P+1+x]=0;++x}return x+1};L.kM=function(o,P,w){o.dZ(P,w.length+2);return L.apA(o.data,P,w)};
L.o7=function(o,P,w){var x=w?L.EC:L.Xv,z=new ar;z.F=x(o,P+0*8);z.b=x(o,P+1*8);z.JJ=x(o,P+2*8);z.RL=x(o,P+3*8);
z.$X=x(o,P+4*8);z.Ar=x(o,P+5*8);return z};L.zu=function(o,P,w){L.UH(o,P+0*8,w.F);L.UH(o,P+1*8,w.b);L.UH(o,P+2*8,w.JJ);
L.UH(o,P+3*8,w.RL);L.UH(o,P+4*8,w.$X);L.UH(o,P+5*8,w.Ar)};L.aq5=function(o,P,w){o.dZ(P,48);L.zu(o.data,P,w)};
L.aB3=function(o,P){var w=L.Ki(o,P),x=L.Ki(o,P+4),z=L.Ki(o,P+8),S=L.Ki(o,P+12);return new fA(w,x,z-w,S-x)};
L.alC=function(o,P,w){L.ve(o,P,w.x);L.ve(o,P+4,w.y);L.ve(o,P+8,w.x+w.q);L.ve(o,P+12,w.y+w._)};L.a69=function(o,P,w){o.dZ(P,16);
L.alC(o.data,P,w)};L.Wi=function(o,P,w){var x=w?L.Be:L.jS,z=x(o,P),S=x(o,P+4),k=x(o,P+8),f=x(o,P+12);
return new fA(S,z,f-S,k-z)};L.afL=function(o,P,w){L.at(o,P,w.y);L.at(o,P+4,w.x);L.at(o,P+8,w.y+w._);
L.at(o,P+12,w.x+w.q)};L.W6=function(o,P,w){o.dZ(P,16);L.afL(o.data,P,w)};L.ZK=function(o,P,w){var x=new Uint8Array(w);
for(var I=0;I<w;I++)x[I]=o[P+I];return x};L.a1Q=function(o,P,w){o.set(w,P)};L.zW=function(o,P,w){o.dZ(P,w.length);
L.a1Q(o.data,P,w)};L.auD=function(o,P,w,eK){if(!eK)eK=1;for(var I=0;I<eK;I++)o[P+I]=w};L.Cr=function(o,P,w,eK){if(!eK)eK=1;
o.dZ(P,eK);L.auD(o.data,P,w,eK)};L.wf=new Int16Array(1);L.aD=new Uint8Array(L.wf.buffer);L.AC=new Int32Array(1);
L.am7=new Uint32Array(L.AC.buffer);L.wu=new Uint8Array(L.AC.buffer);L.Xc=new Float32Array(L.AC.buffer);
function aU(){}aU.M3=function(o,P){var w=new Uint8Array(o),x=0,z=L.AW(w,x,9),f=4,C=100;x+=9;var S=L.AW(w,x,4);
x+=4;x++;P.q=L.RS(w,x);x+=4;P._=L.RS(w,x);x+=4;var k=L.RS(w,x);x+=4;if(k!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(S)==-1){C=L.RS(w,x);x+=4;if(parseInt(S.slice(1))>=7){C=C}else alert("Unknown XCF version: "+S);
f=8}var H={};x=aU.zI(w,x,H);var b=[];x=aU.qo(w,x,b,f);var i=[];x=aU.qo(w,x,i,f);P.QW=0;for(var I=0;I<b.length;
I++)aU.ao4(w,b[I],P,H,f,C);while(P.QW>0){P.R.push(P.VY());P.QW--}P.R.reverse();delete P.QW;P.buffer=e.U(P.q*P._*4);
if(P.R.length==0)console.log("No layers!!!");for(var I=0;I<i.length;I++){var M=aU.aaj(w,i[I],H,f,C);
if(M.G_[fx.an1])P.e={channel:M.lh,rect:new fA(0,0,P.q,P._)}}};aU.ao4=function(o,P,w,x,z,S){var k=w._L(),f=L.RS(o,P),i=0;
P+=4;var C=L.RS(o,P);P+=4;k.rect=new fA(0,0,f,C);var H=L.RS(o,P);P+=4;var b=L.pf(o,P);P+=b.h8;k.bx(b.zp);
var M={};P=aU.zI(o,P,M);if(M[fx.azS]){var T=M[fx.azS];i=T.length/4-1}if(M[fx._N]){k.rect.x=L.jS(M[fx._N],0);
k.rect.y=L.jS(M[fx._N],4)}if(M[fx.a32]){k.opacity=L.RS(M[fx.a32],0)}if(M[fx.aFs]){k.add.lsct=jS.KC;k.Yo=24}if(M[fx.as6]){var O=L.RS(M[fx.as6],0);
k.gS=fx.a4b[O];if(k.Pe()&&k.gS=="norm")k.gS="pass"}if(M[fx.a4T]){if(L.RS(M[fx.a4T],0)==0)k.Yo+=2}if(M[fx.aFE]){var Y=L.RS(M[fx.aFE],0);
k.add.lsct=Y&1==1?jS.KC:jS.v_}if(M[fx.Ih]){var U=M[fx.Ih];for(var W in U){var t=U[W];if(W=="gimp-text-layer"){var _=aU.afn(t),n=_.text,y=_.font,F=_.color,a=_["font-size"];
if(n==null&&_.markup){var V=new DOMParser,D=V.parseFromString(_.markup,"image/svg+xml");while(D.firstChild!=null&&D.firstChild.tagName!=null){D=D.firstChild;
var l=D.getAttribute("font"),Q=D.getAttribute("foreground"),m=D.getAttribute("size");if(l!=null)y=l;
if(Q!=null){Q=CSS.HQ(Q);F=[1,Q.$/255,Q.H/255,Q.b/255]}if(m!=null){a=""+parseFloat(m)/245}}n=D.textContent}k.add.lnsr="rend";
k.add.TySh=fe.AH(0,0);k.add.TySh.Fy=new fA(0,0,100,100);k.add.TySh.h=new ar(1,0,0,1,k.rect.x,k.rect.y);
var R=k.add.TySh.OY;fe.EF(R,0,n);var $=fe.Zv(R,0,0),p=_.justify,c=_["line-spacing"];if(F)$.OR.FillColor={Type:1,Values:[1,parseFloat(F[1]),parseFloat(F[2]),parseFloat(F[3])]};
if(a){a=Math.round(parseFloat(a));$.OR.FontSize=a;k.add.TySh.h.Ar+=Math.min(17,a*.17)}if(c){c=Math.round(parseFloat(c)+$.OR.FontSize*1.2);
$.OR.Leading=c;$.OR.AutoLeading=!1}if(p)$.bp.Justification=["left","right","center","fill"].indexOf(p);
if(y&&y!="Sans-serif"){var B=y.toLowerCase(),Z="bold italic semi extra regular condensed light".split(" "),v=B.length;
for(var I=0;I<Z.length;I++){var E=B.indexOf(Z[I]);if(E!=-1&&E<v&&B[E-1]==" ")v=E}if(v!=B.length)y=y.slice(0,v-1).split(" ").join("")+"-"+y.slice(v).split(" ").join("");
fe.bB($,y)}fe.Bi(R,0,n.length,$);var g=_["box-width"],u=_["box-height"],j=g?parseFloat(g):k.rect.q,A=u?parseFloat(u):k.rect._;
fe.mn(R,1);fe.SP(R,[0,0,Math.ceil(j),Math.ceil(A)])}else console.log("Unknown property "+W)}}while(w.QW>i){w.R.push(w.VY());
w.QW--}w.QW=i;if(k.add.lsct==jS.KC||k.add.lsct==jS.v_)w.QW++;var K=z==4?L.RS:L.dw,s=K(o,P);P+=z;var r=K(o,P);
P+=z;if(k.Fn()){k.buffer=e.U(k.rect.c()*4);var h=new e.fC(k.rect.c());aU.a0$(o,s,h,x,z,S);e.Vo(h,k.buffer)}if(r!=0){k.u=new X.wy;
var jC=aU.aaj(o,r,x,z,S);k.u.channel=jC.lh;k.u.rect=k.rect.clone();if(M[fx.awA])k.u.isEnabled=L.RS(M[fx.awA],0)==1;
k.u.color=k.u.channel[0];k.u.wW()}if(k.Pe())k.rect=new fA;w.R.push(k)};aU.afn=function(o){var P="("+L.bR(o,0,o.length-1)+")",w=[],x={};
aU.ax4(P,1,w);aU.aen(w,x);return x};aU.aen=function(o,P){for(var I=0;I<o.length;I++){var w=o[I],x=w[0];
if(w.length==2)P[x]=w[1];else P[x]=w.slice(1)}};aU.ax4=function(o,P,w){while(!0){if(P>=o.length)throw"e";
var x=o.charAt(P);P++;if(x=="("){var z=[];P=aU.ax4(o,P,z);w.push(z)}else if(x==" "||x=="\n"||x=="\r"){}else if(x==")")return P;
else if(x=="\""){var S=P;while(!0){var k=o[P];P++;if(k=="\"")break;if(k=="\\")P++}w.push(JSON.parse(o.slice(S-1,P)))}else{var S=P-1;
while(o[P]!=" "&&o[P]!=")")P++;w.push(o.slice(S,P))}}};aU.aaj=function(o,P,w,x,z){var S=L.RS(o,P);P+=4;
var k=L.RS(o,P);P+=4;var f=L.pf(o,P);P+=f.h8;var C={};P=aU.zI(o,P,C);var H=new e.fC(S*k),b=x==4?L.RS:L.dw,i=b(o,P);
P+=x;aU.a0$(o,i,H,w,x,z);return{lh:H.$,G_:C}};aU.a0$=function(o,P,w,x,z,S){var k=L.RS(o,P);P+=4;var f=L.RS(o,P);
P+=4;var C=L.RS(o,P);P+=4;var H=z==4?L.RS:L.dw,b=H(o,P);P+=z;aU.azy(o,b,w,x,C,z,S)};aU.azy=function(o,P,w,x,z,S,k){var f=L.RS(o,P),b=0,I=0;
P+=4;var C=L.RS(o,P);P+=4;var H=new fA(0,0,f,C);if(k==100||k==150)b=1;else if(k==200||k==250)b=2;else if(k==300||k==350)b=4;
else if(k==500||k==550)b=2;else if(k==600||k==650)b=4;else if(k==700||k==750)b=8;else{alert("unsupported bit depth "+k);
throw"e"}var i=z/b,b=Math.round(z/i),M=[];P=aU.qo(o,P,M,S);var T=new e.fC(64*64*b),O=new fA,Y=x[fx.a7r][0],U=[T.$,T.H,T.b,T.F];
if(i==3)T.F.fill(255);var W=Date.now();if(M.length!=0)for(var t=0;t<C;t+=64)for(var _=0;_<f;_+=64){var n=Math.min(f-_,64),y=Math.min(C-t,64),F=n*y;
O.Mx(_,t,n,y);aU.aCQ(o,M[I++],F*b,Y,i,U);if(k==100||k==150){}else if(k==250){for(var a=0;a<i;a++){var V=U[a];
for(var D=0;D<F;D++){var l=V[D]<<8|V[F+D];V[D]=Math.min(l>>>8,255)}}}else if(k==600){var Q=aU.arj(),m=new Uint32Array(1),R=new Float32Array(m.buffer);
for(var a=0;a<i;a++){var V=U[a];for(var D=0;D<F;D++){m[0]=V[D]<<24|V[F+D]<<16|V[(F<<1)+D]<<8|V[(F<<1)+F+D]<<0;
var $=R[0];if($<0)$=0;else if($>1)$=1;V[D]=Q[~~(.5+$*1e3)]}}}else console.log("unknown data format",k);
e.qz(T,O,w,H)}};aU.arj=function(){var o=aU.az4;if(o!=null)return o;o=aU.az4=new Uint8Array(1001);for(var I=0;
I<1001;I++)o[I]=~~(.49+255*e.Yd(I*.001));return o};aU.aCQ=function(o,P,w,x,z,S){if(x==1){for(var k=0;
k<z;k++){var f=S[k],C=0;while(C<w){var eK=o[P];P++;if(eK<127){var H=o[P];P++;eK++;for(var I=0;I<eK;I++)f[C+I]=H}else if(eK==127){var b=o[P];
P++;var i=o[P];P++;var H=o[P];P++;eK=b<<8|i;for(var I=0;I<eK;I++)f[C+I]=H}else if(eK==128){var b=o[P];
P++;var i=o[P];P++;eK=b<<8|i;for(var I=0;I<eK;I++)f[C+I]=o[P+I];P+=eK}else{eK=256-eK;for(var I=0;I<eK;
I++)f[C+I]=o[P+I];P+=eK}C+=eK}}}else if(x==2){var M=pako.inflate(o.slice(P)),T=Math.round(M.length/w);
for(var I=0;I<w;I++){var O=I*T;S[0][I]=M[O];S[1][I]=M[O+1];S[2][I]=M[O+2];S[3][I]=T==3?255:M[O+3]}}else alert("Unknown compression "+x)};
aU.qo=function(o,P,w,x){var z=x==4?L.RS:L.dw;while(!0){var S=z(o,P);P+=x;if(S==0)break;else w.push(S)}return P};
aU.zI=function(o,P,w){while(!0){var x=L.RS(o,P);P+=4;var z=L.RS(o,P);P+=4;if(x==fx.aGQ)break;else if(x==fx.Ih)w[x]=aU.aFr(o,P,P+z);
else w[x]=L.ZK(o,P,z);P+=z}return P};aU.aFr=function(o,P,w){var x={};while(P<w){var z=L.pf(o,P);P+=z.h8;
var S=L.RS(o,P);P+=4;if(S!=1)console.log("unknown flags",S);var k=L.RS(o,P);P+=4;x[z.zp]=L.ZK(o,P,k);
P+=k}return x};var fx={aGQ:0,acw:1,aps:2,aup:3,an1:4,ayr:5,a32:6,as6:7,a4T:8,aB0:9,ah2:10,awA:11,a12:12,afW:13,arV:14,_N:15,azr:16,a7r:17,aCH:18,aAQ:19,awe:20,Ih:21,aqe:22,axP:23,acB:24,at_:25,acE:26,ayn:27,aBW:28,aFs:29,azS:30,aFE:31,aHj:32,a7A:33,a4G:34,a9O:35,agw:36,apy:37,aqc:38,aas:0,ahY:1,auh:2,ap8:3,ahs:1,aD_:2,aEt:0,a0T:1,abr:1};
fx.a4b="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var hp=function(){var o=!1,P,w,W=0,n;function x(){var a=L.AW(P,w,4);w+=4;return a[3]+a[2]+a[1]+a[0]}function z(){var a=L.AW(P,w,4);
w+=4;return a}function S(){var a=P[w];w+=1;return a}function k(){var a=L.Bh(P,w);w+=2;return a}function f(){var a=L.Dn(P,w);
w+=4;return a}function C(){var a=L.Be(P,w);w+=4;return a}function H(){var a=L.Dn(P,w);w+=8;return a}function b(){var a=L.mp(P,w);
w+=4;return a}function i(){var a=L.EC(P,w);w+=8;return a}function M(){var a=L.Bh(P,w),V=L.bR(P,w+2,a);
w+=2+a;return V}function T(){var a=L.Dn(P,w),V=L.bR(P,w+4,a);w+=4+a;return V}function O(a){w=a;var V=[];
while(w!=0){var D=z();if(D!="#FT4"&&D!="#FT3"&&D!="#FT2")throw D;var l=H(),Q=H(),m=H(),R=H(),$=H(),p=f(),c=f(),B=f(),Z=k(),v=S(),E={};
V.push(E);for(var I=0;I<p;I++){var g=f(),u=S();if(u!=0&&u!=1&&u!=2)throw u;var j=[];if(u==0||u==1){var A=H(),K=H(),s=H(),r=f(),h=S(),jC=f(),d=D!="#FT4"?0:f(),q=null;
if(D=="#FAT"||D=="#FT2"){switch(h){case 1:h=1;break;case 2:h=65;break;case 3:h=129;break;case 4:h=193;
break;default:h=0;break}}if(u==0)q=M();j=[A,K,s,h,q]}E["i"+g]=[u,j]}for(var I=0;I<Z;I++){var hc=k(),dk=k(),c6=H(),e3=L.AW(P,w,hc);
w+=hc}w=l}V.reverse();for(var ks=1;ks<V.length;ks++){var E=V[ks],cH=V[ks]=JSON.parse(JSON.stringify(V[ks-1]));
for(var bI in E){var aR=E[bI];if(aR[0]==0)cH[bI]=aR;else if(aR[0]==1){aR[1][4]=cH[bI][1][4];cH[bI]=aR}else if(aR[0]==2)delete cH[bI]}}var ak=V.pop(),cN=[];
for(var bI in ak)cN.push(ak[bI][1]);cN.sort(function(gC,bD){return gC[0]-bD[0]});return cN}function Y(a,V,D,l){while(w<P.length){var Q=S(),p=null;
if(Q==0){if(l){var m=S();if(m!=2){var R=x()}if(m==0)w+=4;l=!1;continue}else{break}}var $=x();if(o)console.log("  ".repeat(V),Q,Q&127,$,a._type);
if(Q>127)p=U(Q,V,D);else p=t(Q,V,D);if(o)console.log("  ".repeat(V),p);a[$]=p}}function U(a,V,D){var l=[];
a=a&127;if(a==43)w+=4;var Q=f();if(a==50){var m=x(),R=k();if(R!=1)throw"e";for(var I=0;I<Q;I++){var $={_status:"NotShared",_type:m};
l.push($);var p=S();if(p!=0&&p!=1)throw p;Y($,V+1,D)}}else if(a==41){if(Q>8)throw Q;for(var I=0;I<Q;
I++)l.push((P[w]>>>I&1)==1);w++}else for(var I=0;I<Q;I++){l.push(t(a,V,D,I!=0));if(a==42)a=2}return l}function t(a,V,D,l){var Q=null;
if(a==49){Q={};var m=S();if(m!=0){var R=f();if(D==null){Q._id=R;Q._status=["Shared","Link"][m-1]}if(D&&m==2)Q=D[R];
if(m==1){if(D)D[R]=Q;var $=S(),p=!1;if($>1)throw $;Q._type=x();if(o)console.log("  ".repeat(V),"new",Q._type,$,w);
if($==0){while(!0){var c=k();if(c!=0&&c!=1&&c!=2&&c!=3&&c!=4)throw c;if(P[w]!=0){p=!0;break}var B=k();
if(B==512)break;var Z=x();if(B==256)break}}Y(Q,V+1,D,p)}}}else if(a==50){Q={_status:"NotShared"};if(S()==1){Q._type=x();
w+=2;Y(Q,V+1,D)}}else if(a==1)Q={type:"byte",value:S()};else if(a==2)Q={type:"uint16",value:k()};else if(a==3)Q={type:"uint32",value:f()};
else if(a==4)Q={type:"uint64",value:H()};else if(a==7)Q={type:"int32",value:C()};else if(a==8)Q={type:"int64",value:H()};
else if(a==9)Q={type:"float32",value:b()};else if(a==10)Q={type:"float64",value:i()};else if(a==21)Q={type:"Vec2i",value:[f(),f()]};
else if(a==23)Q={type:"Vec4i",value:[f(),f(),f(),f()]};else if(a==33)Q={type:"Vec4f",value:[b(),b(),b(),b()]};
else if(a==36)Q={type:"Vec2",value:[i(),i()]};else if(a==38)Q={type:"Vec4",value:[i(),i(),i(),i()]};
else if(a==40)Q={type:"Vec6",value:[i(),i(),i(),i(),i(),i()]};else if(a==41)Q={type:"bool",value:S()!=0};
else if(a==42)Q={type:"Enum",value:f()};else if(a==43)Q={type:"string",value:T()};else if(a==44){if(l!=!0)W=k();
Q={type:"curv16",value:[i(),W==12?[S(),S(),S(),S()]:[f(),f()]]}}else if(a==45){var v=f();Q={type:"buff",value:P.slice(w,w+v)};
w+=v}else if(a==47){Q={type:"uint32",value:f()}}else if(a==48){var E=[],g=k();if(g!=1)throw g;while(!0){if(P[w]==135){var u=U(S(),V+1,D),j=U(S(),V+1,D),A=U(S(),V+1,D);
E.push([u,j,A])}else{var K=1;if(P[w]==3){S();K=f()}for(var I=0;I<K;I++){if(S()!=41)throw"e";var R=S();
if(R!=0&&R!=1)throw R;if(S()!=172)throw"e";var s=f(),r=k(),h=[];E.push(h);if(r!=18)throw r;if(s>4e3)throw s;
for(var jC=0;jC<s;jC++)h.push([i(),i(),S(),S()])}}if(P[w]==0){w++;break}}Q={type:"curve",value:E}}else if(a==51){Q={type:"EmbeddedData"};
Q[x()]=T()}else if(a==52)Q={type:"uint32",value:f()};else if(a==56)Q={type:"Color32",value:[S(),S(),S(),S()]};
else if(a==60)Q={type:"ColorGRAY",value:[b(),b()]};else if(a==68)Q={type:"ColorRGBA",value:[b(),b(),b(),b()]};
else if(a==72)Q={type:"ColorCMYK",value:[b(),b(),b(),b(),b()]};else{throw a}return a==49||a==50||a==51?Q:Q.value}function _(a){var V=0,D=a.length;
for(var I=0;I<D;I+=4){a[I]=V=V+a[I];a[I+1]=V=V+a[I+1];a[I+2]=V=V+a[I+2];a[I+3]=V=V+a[I+3]}}function y(a){P=a;
w=4;var V=f(),D=z();if(D!="nsrP")throw D;var D=z();if(D!="#Inf")throw D;var l=H();n=H();var Q=H(),m=H(),R=H(),$=f(),p=f(),D=z();
if(D!="Prot")throw D;var $=f(),c=O(l),B={},Z=Date.now();for(var v=0;v<c.length;v++){var E=c[v],g=E[3],s=null;
w=E[0];var D=z();if(D!="#Fil")throw D;var u=g>>>5&1,j=g&3,A=g&192;switch(A){case 64:A=1;u=0;break;case 128:A=2;
break;case 192:A=3;break;default:A=0;u=0}var K=new Uint8Array(P.buffer,w,E[2]);if(j==0)s=K;else if(j==1)s=pako.inflate(K);
else if(j==2)s=eu.DW.Xn(K,E[1]);else throw j;if(u==0){if(A==1)_(s);if(A==2)throw"e"}else if(u==1){if(A==2)_(s);
else throw A}else throw u;B[E[4]]=s}return B}function F(a){var V=y(new Uint8Array(a));P=V["doc.dat"];
w=16;var D={};Y(D,0,[]);return[V,D,n]}return{acI:F}}();function kh(){}kh.M3=function(){function o(Y,U){var W=Date.now(),t=hp.acI(Y),_=t[0],n=t[1],y=t[2],F=n.DocR,a=F.DfSz,V=F.Chld;
if(V.length!=1)console.log(V);var D=V[0],l=D.SprB;V=D.Chld;if(l){U.q=~~l[2];U._=~~l[3]}else{U.q=1920;
U._=1080}U.buffer=e.U(U.q*U._*4);var Q=[0,{}];for(var I=0;I<V.length;I++)S(V[I],U,_,new ar,Q,[],0);U.oj(Q[0]);
console.log(Date.now()-W,"Document created");W=Date.now()}function P(Y){return new ar(Y[0],Y[3],Y[1],Y[4],Y[2],Y[5])}function w(Y,U){var W=U.Xfrm;
W=W?P(W):new ar;W.concat(Y);return W}function x(Y){var U={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[Y];
return U?U:"norm"}function z(Y,U){var W=Y[U],t=Y.DsMa;if(W==null&&t)W=t[U];return W}function S(Y,U,W,t,_,n,y){var F=Y._type,a=Y.Chld,V=U._L();
V.bx(Y.Desc==null||Y.Desc==""?F=="Grup"?"Folder":"Layer":Y.Desc);var D=z(Y,"Visi");if(D!=null)V.Kt(D);
var l=z(Y,"Opac");if(l!=null)V.opacity=Math.round(255*l);var Q=z(Y,"FOpc");if(Q!=null)V.add.iOpa=Math.round(255*Q);
var m=z(Y,"Blnd");if(m!=null)V.gS=x(m);if(Y.BFFl&&Y.BFFl[0])n.push(Y.BFFl[0]);var R=w(t,Y),$=F=="ShpN"||F=="PCrv";
if(a){U.R.push(U.VY());V.add.lsct=jS.KC;if(V.gS=="norm")V.gS="pass";V.Yo=24;if(D!=null)V.Kt(D);if(F=="ShpN"&&y==0){var p=Y.ShpB;
V.VZ(new fA(p[0]+R.$X,p[1]+R.Ar,Math.round(R.F*(p[2]-p[0])),Math.round(R.RL*(p[3]-p[1]))));_[0]++;V.add.artb.Clr={t:"Objc",v:e.G.e1({$:255,H:255,b:255})};
var c=n[0];for(var I=0;I<n.length;I++)if(n[I].FDeF._type!="FilN")c=n[I];if(c.FDeF._type=="FilS"){V.add.artb.Clr=H(c.FDeF.Colr);
V.add.artb.artboardBackgroundType.v=4}}var B=Y.Shpe?Y:null;if(B==null)B=Y.DsMa&&Y.DsMa.Shpe?Y.DsMa:null;
if(B){var Z=f(B);if(Z.g.length!=7){V.add.vmsk=Z;e.n.G9(Z.g,R);V.h6();V.qX(U)}}for(var I=0;I<a.length;
I++)S(a[I],U,W,R,_,n,y+1)}else if(F=="Rstr"||F=="ImgN"||F=="MRst"){var v=z(Y,"Bitm"),E=v.Bckg,g=Date.now(),u;
if(E==null){u=i(v,W,_[1]);V.rect=u[2].clone();V.buffer=u[1].slice(0);V.rect.x+=R.$X;V.rect.y+=R.Ar}if(E||R.gz()!=1){var j,A=0,K=0;
if(E){var s=W[E.Data],r=L.mG(s,"ataD")+4,h=L.Dn(s,r);r+=4;j=s.slice(r,r+h)}else{A=V.rect.x-R.$X;K=V.rect.y-R.Ar;
if(u[3]==null)u[3]=new Uint8Array(eu.oi("PNG").D7([[V.buffer.buffer]],V.rect.q,V.rect._));j=u[3].slice(0)}var jC=U.to(j,V.getName(),0,0);
jC.Yo=V.Yo;jC.opacity=V.opacity;V=jC;var d=new ar;d.translate(A,K);d.concat(R);var q=V.rect.clone();
q.x=q.y=0;var hc=e.a.R2(q).i;e.a.h(hc,d,hc);V.add.SoLd.Trnf=N.DH.Co(hc);V.add.SoLd.nonAffineTransform=N.DH.Co(hc);
V.w2(U,!1)}}else if(F=="TxtA"||F=="TxtF"){V.add.lnsr="rend";V.add.TySh=fe.AH(0,0);V.add.TySh.Fy=new fA(0,0,100,100);
var dk=Y.TxtH?Y:Y.DsMa,c6=dk.TxtH.FrmB,e3=1,ks=1,cH=V.add.TySh.h=new ar,gC=0;cH.translate(c6[0],c6[1]);
cH.concat(R);if(F=="TxtF"){var bI=Math.atan2(-cH.b,cH.F);cH.rotate(-bI);e3=cH.F;ks=cH.RL;cH.RL=cH.F=1;
cH.rotate(bI)}var aR=V.add.TySh.OY,ak=dk.StSt;if(ak==null)ak=dk.StMa.StSt;var cN=ak.Blok;if(cN.length!=1)throw"e";
for(var bD=0;bD<cN.length;bD++){var cu=cN[bD],du=gC,bq=0,hn=cu.Glyp.Utf8;if(hn==null)continue;hn=hn.replace(/\u2028/g,"\n");
hn=hn.replace(/\u2029/g,"\n");hn=hn.slice(0,hn.length-1);if(hn=="")continue;V.bx(hn.slice(0,255));fe.EF(aR,gC,hn);
gC+=hn.length;var aK=cu.GAtt.Runs,cQ=cu.PAtt.Runs[0],jR=cQ.Item.Ints[0];for(var ch=0;ch<aK.length;ch++){var bx=aK[ch],jf=bx.Indx,dW=bx.Item,bf=dW.Objs,iu=fe.Zv(aR,du,1);
iu.bp.Justification=jR==0?0:jR==1?2:1;fe.bB(iu,dW.DFnt.Post);iu.OR.FontSize=dW.Doub[0];for(var I=0;I<bf.length;
I++){var dV=bf[I];if(dV._type=="FDsc"){var gb=dV.FDeF;if(gb._type=="FilS"){var gP=b(gb.Colr);iu.OR.FillColor={Type:1,Values:[1,gP[0],gP[1],gP[2]]}}}}fe.Bi(aR,du+bq,du+Math.min(jf,hn.length),iu);
bq=jf}}fe.mn(aR,1);fe.SP(aR,[0,0,Math.round((c6[2]-c6[0])*e3*1.02),Math.round((c6[3]-c6[1])*ks*1.2)]);
U._0=!0}else if($){V.Yo|=16;var eJ=V.add.vstk=iR.Vq.bS(!0),Z=V.add.vmsk=f(Y);e.n.G9(Z.g,R);var c=n[0];
for(var I=0;I<n.length;I++)if(n[I].FDeF._type!="FilN")c=n[I];if(c){var c1=c.FDeF,ku=c1._type;if(ku=="FilS")V.add.SoCo={classID:"null",Clr:H(c1.Colr)};
else if(ku=="FilG"){var aC=V.add.GdFl=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]);C(c,aC,e.n.$s(Z.g))}else if(ku=="FilN"){V.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}};
eJ.fillEnabled.v=!1}else console.log(ku)}if(Y.LILn){var gU=Y.LILn[0].LDeL,hR=gU.Wght;if(hR!=0){eJ.strokeEnabled.v=!0;
eJ.strokeStyleLineWidth.v.val=hR;var c1=Y.LIFl[0].FDeF,ku=c1._type;if(ku=="FilS")eJ.strokeStyleContent.v.Clr=H(c1.Colr);
else if(ku=="FilN")eJ.strokeEnabled.v=!1}}V.h6();V.qX(U)}else if(F=="RcRA"){var a7=Y.AdjP,dh="hue2",eS=V.add[dh]=cM.bS(dh);
k(eS,a7)}else console.log(F);var d0=Y.AdCh,cJ=[];if(d0)for(var I=0;I<d0.length;I++){var aO=d0[I],a9=aO._type;
if(a9=="ShpN"||a9=="PCrv"){var Z=V.add.vmsk=f(aO),ac=w(R,aO);e.n.G9(Z.g,ac);V.h6();V.qX(U)}else if(aO.AdjP){var a7=aO.AdjP,e7=a7._type;
console.log(e7);var b2={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[e7];
if(b2==null){console.log(a7);continue}var jQ=cM.ip(b2,{});cJ.push(jQ);var eS=jQ.v.Fltr.v;if(e7=="LevP"){var g9=cX.mc(eS,0);
g9[0]=a7.OutB*255;g9[1]=a7.OutW*255;cX.I$(eS,0,g9)}else if(e7=="WhBP"){var g9=cX.mc(eS,2);g9[4]=100+a7.WBTi*20;
cX.I$(eS,2,g9);var g9=cX.mc(eS,3);g9[4]=100+a7.WBTi*200;cX.I$(eS,3,g9)}else if(e7=="HSSP"){var g9=gw.mc(eS,0);
g9[0]=Math.round(a7.HueA*256);g9[1]=Math.round(a7.SatA*256);g9[2]=Math.round(a7.LumA*256);gw.I$(eS,0,g9)}else if(e7=="RecP"){k(eS,a7)}else if(e7=="B&CP"){eS.Brgh.v=Math.round(a7.Brig*100);
eS.Cntr.v=Math.round(a7.Ctrs*100-100)}else if(e7=="PosP"){eS.Lvls.v=a7.Post}else if(e7=="VibP"){eS.vibrance.v=a7.Vibr-100;
eS.Strt.v=Math.round(a7.Satu*100)}else if(e7=="ExpP"){eS.Exps.v=a7.Expo;eS.gammaCorrection.v=a7.Gamm/2.2}else if(e7=="ThrP"){eS.Lvl.v=Math.round(a7.Thre*255)}else if(e7=="CrvP"){var cx=a7.Mast["Cnt "],i8=a7.Mast.Vals,g9=jP.mc(eS,0),fw=g9[0];
for(var hi=0;hi<cx;hi++){var dU=g9[hi]=JSON.parse(JSON.stringify(fw));dU.v.Hrzn.v=Math.round(i8[hi]*255);
dU.v.Vrtc.v=Math.round(i8[4+hi]*255)}jP.I$(eS,0,g9)}}else console.log(aO)}if(cJ.length!=0&&V.add.SoLd){V.add.SoLd.filterFX=cM.Gn();
U.w9({id:V.add.SoLd.placed.v,rect:new fA,buffer:e.U(1),u:new X.wy});V.add.SoLd.filterFX.v.filterFXList.v=cJ;
V.w2(U,!1)}var dv=Y.FiEf;if(dv&&dv.length!=0){var bo=V.add.lmfx=JSON.parse(iR.default);for(var I=0;I<iR.order.length;
I++)bo[iR._7[I]]={t:"VlLs",v:[]};for(var fV=0;fV<dv.length;fV++){var ck=dv[fV],h8=ck._type,fS={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[h8],aC=fS?JSON.parse(iR.lC[iR.order.indexOf(fS)]):null,iS=1;
if(h8=="ColO"){aC.Clr=H(ck.Colr)}else if(h8=="GrdO"){C(ck.GrFl,aC)}else if(h8=="Shad"||h8=="InnS"||h8=="OutG"||h8=="InnG"){aC.Clr=H(ck.Colr);
aC.blur.v.val=Math.round(ck.Radi);var fh=ck.Comp;if(fh!=null){if(fh>.5)iS=1-.5*(fh-.5);else aC.Ckmt.v.val=Math.round(100*(.5-fh))}if(ck.Offs!=null){aC.Dstn.v.val=ck.Offs;
aC.lagl.v.val=Math.round(180-ck.Angl*180/Math.PI);aC.uglg.v=!1}}else if(h8=="Strk"){if(ck.Ftyp==0)aC.Clr=H(ck.Colr);
else{C(ck.GrFl,aC);aC.PntT.v.FrFl="GrFl"}aC.Sz.v.val=Math.round(ck.Radi)}else if(h8=="PhgB"||h8=="BevE"){aC.blur.v.val=Math.round(ck.Radi);
if(h8=="BevE")aC.bvlS.v.BESl="PlEb"}else if(h8=="Gaus"){if($&&ck.Enab){V.add.vmsk.yy=ck.Radi/2.4;V.add.vmsk.RC=!0;
V.h6();V.qX(U)}}if(fS){aC.enab.v=ck.Enab;if(aC.Md&&ck.BlnM!=null)aC.Md.v.BlnM=jK.W_(x(ck.BlnM));if(aC.Opct&&ck.Opac!=null)aC.Opct.v.val=Math.round(iS*ck.Opac*100);
var h9=iR._7[iR.order.indexOf(fS)];bo[h9].v.unshift({t:"Objc",v:aC})}}}if(Y.BFFl&&Y.BFFl[0])n.pop();
U.R.push(V)}function k(Y,U){Y.Clrz.v=!0;var W=gw.mc(Y,0);W[0]=Math.round(U.RecH*360);W[1]=Math.round(U.RecS*100);
W[2]=Math.round(U.RecL*100);gw.I$(Y,0,W)}function f(Y){var U=new X.tc,W=Y._type;if(Y.ShpB==null&&Y.Crvs==null)Y=Y.DsMa;
if(W=="PCrv"){var t=Y.Crvs.Data,_=[],n=[];for(var I=0;I<t.length;I++){var y=t[I],F=y.length%3;if(F!=1){y=F==2?y[0][2]!=0?y.slice(0,y.length-1):y.slice(1):y.slice(1,y.length-1)}for(var a=0;
a<y.length;a++){var V=y[a],D=V[2];if(D!=0)_.push(a==0?"M":"C");n.push(V[0],V[1])}}U.g=e.a.B6({i:n,LG:_},!0)}else{var l=Y.ShpB,Q=Y.Shpe,m=Q._type,R=l[2]-l[0];
if(m=="ShpE"){U.g=e.n.fg.nT(l[0],l[1],l[2]-l[0],l[3]-l[1])}else if(m=="ShNR"){var $=[0,0,0,0];if(Q.CTyp){$=Q.ShCR.slice(0);
for(var I=0;I<4;I++)$[I]*=l[2]-l[0];for(var I=1;I<4;I++)$[I]=$[0]}U.g=e.n.fg.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1],$)}else if(m=="ShpT"){U.g=e.a.B6({LG:["M","L","L","Z"],i:[l[0],l[3],l[2],l[3],l[0]+R*.5,l[1]]},!0)}else if(m=="ShTz"){U.g=e.a.B6({LG:["M","L","L","L","Z"],i:[l[0]+R*Q.PosL,l[1],l[0]+R*Q.PosR,l[1],l[2],l[3],l[0],l[3]]},!0)}else{console.log("--",m);
U.g=e.n.fg.Rect(l[0],l[1],l[2]-l[0],l[3]-l[1],[0,0,0,0])}}return U}function C(Y,U,W){var t=Y.FDeF,_=Y.FDeX;
if(_)_=P(_);var n=t.Grad,y=n.Cols;U.Type.v.GrdT=t.Type==0?"Lnr":"Rdl";var F=[];for(var I=0;I<y.length;
I++){var a=b(y[I]);F.push([n.Posn[I][0],a])}U.Grad.v.Intr.v=0;e.G.U_(F,U.Grad.v);var V=n.Posn,D=new eD(V[0][0],V[0][1]),l=new eD(V[1][0],V[1][1]);
if(_){var Q=new ar;if(W==null)Q.translate(-.5,-.5);Q.concat(_);if(W==null)Q.translate(.5,.5);D=Q.Zc(D);
l=Q.Zc(l)}if(t.Type==0)D=new eD((D.x+l.x)/2,(D.y+l.y)/2);e.G.jh(D,l,W?W:new fA(0,0,1,1),U)}function H(Y){var U=b(Y);
return{t:"Objc",v:e.G.e1({$:U[0]*255,H:U[1]*255,b:U[2]*255})}}function b(Y){var U=Y._col,W=Y._type;if(W=="HSLA"){var t=e.yN(U[0],U[1],U[2]);
return[t.$,t.H,t.b,U[3]]}else if(W=="RGBA")return U;else if(W=="CMYK")return e.Wu(U);else if(W=="GRAY")return[U[0],U[1],U[2]];
else if(W=="Pant")return Y.srgb._col;else{console.log(U);throw W}}function i(Y,U,W){var t=Y.Frmt,p="";
if(t!=0&&t!=1&&t!=4&&t!=6)throw t;var _=Y.BmpW,n=Y.BmpH,y=t==1?128:256,F=t==4?5:t==0||t==1?4:1,a=Math.ceil(_/y),V=Math.ceil(n/256),D=new fA(0,0,a,V),l=new fA;
for(var I=0;I<F;I++){var Q=new Uint8Array(Y["Sta"+(I+1)]);for(var m=0;m<Q.length;m++)if(Q[m]==1)Q[m]=0;
var R=e.zG(Q,D);l=l.It(R)}var $=[];for(var I=0;I<F;I++){var Q=new Uint8Array(Y["Sta"+(I+1)]),c=e.U(l.c());
e.d0(Q,D,c,l);$[I]=[];for(var m=0;m<c.length;m++)$[I][m]=c[m];p+=JSON.stringify($[I])+","+JSON.stringify(Y["Idx"+(I+1)])+","}if(W[p]==null){var B=l.q*y,Z=l._*256,v=new Array(F);
for(var I=0;I<F;I++){var Q=v[I]=new Uint8Array(B*Z);M(Q,Y["Idx"+(I+1)],$[I],U,B,Z,y)}var E=e.U(B*Z*4);
if(t==0||t==1)e.Vo({$:v[0],H:v[1],b:v[2],F:v[3]},E);else if(t==4){for(var I=0;I<v[0].length;I++){var g=I*4,u=v[0][I]*(1/255),j=v[1][I]*(1/255),A=v[2][I]*(1/255),K=v[3][I]*(1/255),s=UDOC.C.cmykToRgb([u,j,A,K]);
E[g]=s[0]*255;E[g+1]=s[1]*255;E[g+2]=s[2]*255;E[g+3]=v[4][I]}}else{E.fill(255);e.K0(v[0],E)}var r=new fA(0,0,B,Z),h={buffer:E,rect:r};
e.fM(h);W[p]=[h.rect,h.buffer]}var R=W[p][2]=W[p][0].clone();R.x+=l.x*y;R.y+=l.y*256;return W[p]}function M(Y,U,W,t,_,n,y){var F=0,a=_>>>(y==256?8:7),V=n>>>8;
for(var D=0;D<V;D++)for(var l=0;l<a;l++){var Q=l*y,m=D*256,R=D*a+l,$=m*_+Q,p=W[R];if(p<=1){}else if(p==2)T(Y,$,255,_,y,256);
else if(p==4){var c=U[F];F++;var B=t[c.Data.DatI],Z=c.Rect;if(Z==null)Z=[0,0,y,256];O(Y,(m+Z[1])*_+Q+Z[0],B,Z[1]*y+Z[0],_,y,Z[2]-Z[0],Z[3]-Z[1])}else console.log(p)}}function T(Y,U,W,t,_,n){var y=U+t*n;
for(;U<y;U+=t){var F=U+_;for(var a=U;a<F;a++){Y[a]=W}}}function O(Y,U,W,t,_,n,y,F){var a=U+_*F,V=t+n*F;
for(;U<a&&t<V;U+=_,t+=n){for(var I=0;I<y;I++)Y[U+I]=W[t+I]}}return o}();function bZ(){}bZ.M3=function(o,P){var w=bZ,x=as.parse(o),S=0;
if(x.pages.length>1)console.log(x.pages.length,"pages");var z=[],k=new fA;for(var f=0;f<x.pages.length;
f++){var C=x.pages[f],H=C.layers,b=w.w4(H,f),M=!1;if(b.c()>8e3*8e3||b.q>3e4||b._>3e4){w.a9K(H,!0);var i=w.w4(H,f);
if(i.c()>=b.c())w.a9K(H,!1)}b=w.w4(H,f);for(var T=0;T<H.length;T++){var O=H[T];if(w.jT(O)=="artboard")M=!0}if(!M){console.log("no artboard");
var Y={};for(var U in C)Y[U]=C[U];Y._class="group";C.layers=[Y]}z.push(b.clone());if(b.Mw())continue;
b.x=0;b.y=S;S+=b._+200;k=k.It(b)}var W={};if(x.foreignSymbols)for(var I=0;I<x.foreignSymbols.length;
I++){var t=x.foreignSymbols[I].symbolMaster;W[t.symbolID]={Q$:t}}w.a4r(x.pages,W,P);for(var _ in W){var O=W[_].Q$,n=w.aes(O.layers)}var y=bZ.iG(k,8192*8192);
P._0=!0;P.q=Math.round(k.q/y);P._=Math.round(k._/y);P.buffer=e.U(P.q*P._*4);P.oj(x.pages[0].layers.length);
P.P7={};P.E$=[];S=0;for(var f=0;f<x.pages.length;f++){var F=x.pages[f],b=z[f],a=new ar(y,0,0,y,b.x,b.y-S);
w.bW(F.layers,P,a,x,W,{},[]);S+=b._+200}delete P.P7;delete P.E$;if(y!=1)alert("File scaled down "+y+"x");
P.abz()};bZ.akh=0;bZ.jT=function(o){return o._class?o._class:o.$class};bZ.iG=function(o,P){var w=1;while(Math.round(o.q/w)*Math.round(o._/w)>P||Math.max(Math.round(o.q/w),Math.round(o._/w))>3e4)w++;
if(w!=1&&!window.confirm("Your image is quite large ("+o.q+" x "+o._+" px).\n"+"Press OK to scale it down "+w+"x, or Cancel to keep the size."))w=1;
return w};bZ.w4=function(o,P){var w=[],x=bZ;for(var z=0;z<o.length;z++){var S=o[z],k=x.Wi(S.frame);if(P==0||x.jT(S)=="artboard")w.push(k)}return e.rect.bX(w)};
bZ.a9K=function(o,P){var w=[],x=bZ;for(var z=0;z<o.length;z++){var S=o[z],k=x.Wi(S.frame);k.q+=150;k._+=150;
w.push(k)}var f=e.rect.bX(w);e.rect.aiv(w,P);var C=e.rect.bX(w);if(C.c()*1.5<f.c()||f.q>3e4&&C.q<=3e4||f._>3e4&&C._<=3e4){alert("Re-arranging artboards");
for(var z=0;z<o.length;z++){var H=w[z],S=o[z],b=S.frame;b.x=H.x;b.y=H.y}}};bZ.a4r=function(o,P,w){if(o==null)return;
var x=bZ;for(var z=0;z<o.length;z++){var S=o[z],k=x.jT(S);if(["page","artboard","group"].indexOf(k)!=-1)x.a4r(S.layers,P,w);
else if(k=="symbolMaster")P[S.symbolID]={Q$:S}}};bZ.aes=function(o){var P=bZ;for(var w=0;w<o.length;
w++){var x=o[w],z=P.jT(x),S=null;if(["page","artboard","group"].indexOf(z)!=-1)S=P.aes(x.layers);if(z=="symbolMaster"||z=="symbolInstance")S=x;
if(S!=null)return S}return null};bZ.bW=function(o,P,w,x,z,S,k){if(o==null)return;var f=bZ,C=[];for(var H=0;
H<o.length;H++){var b=o[H],i=b.frame?f.Wi(b.frame):null,M=b.style,W="",a=null,V=!1;if(M==null){console.log("no styles")}var T=f.a4e(b,w),O=f.jT(b),Y=O=="shapeGroup"||O=="shapePath"||O=="rectangle"||O=="oval"||O=="triangle"||O=="polygon",U=["page","artboard","group"].indexOf(O)!=-1;
if(O=="shapeGroup"){for(var I=0;I<b.layers.length;I++)if(f.jT(b.layers[I])=="shapeGroup")U=!0}var t=b.exportOptions;
if(t){var _=t.exportFormats;if(_==null)_=t.sizes;if(O!="artboard"&&(_&&_.length!=0)){var n=_[0].scale}}var y=P._L();
y.Kt(b.isVisible);var F=b.name;if(!(typeof F=="string"))F=O;y.bx(W+F.slice(0,250));if(M!=null)a=f.akp(x,P,M,i,T,y.getName(),Y||O=="artboard"||U);
if(O=="rectangle"&&M&&M.fills&&M.fills[0]){var D=M.fills[0];if(D.fillType==4&&D.patternFillType>1&&D.image!=null)V=!0}if(b.shouldBreakMaskChain){while(C.length!=0)f.axt(C.pop(),P)}if(U){y.add.lsct=b.layerListExpandedType==2?jS.KC:jS.v_;
y.gS="pass";y.Yo=24;y.Kt(b.isVisible);P.R.push(P.VY());if(O=="artboard"){var l=i.clone(),Q=T.gz();l.x=-Math.floor(T.$X/Q);
l.y=-Math.floor(T.Ar/Q);l.q=Math.floor(l.q/Q);l._=Math.floor(l._/Q);y.VZ(l);var m=b.backgroundColor,R=m?{$:255*m.red,H:255*m.green,b:255*m.blue}:{$:255,H:255,b:255};
y.add.artb.Clr={t:"Objc",v:e.G.e1(R)};y.add.artb.artboardBackgroundType={t:"long",v:4}}f.bW(b.layers,P,T,x,z,S,k)}else if(Y&&!V){var $=a!=null&&a.frameFXMulti.v.length==1;
y.add.vmsk=new X.tc;y.add.vstk=iR.Vq.bS(!0,$);var p=M?M.fills:null,c=M?f.awH(x,p,i,T,y.getName(),P,f.kT(k,b.do_objectID+"_image")):[];
if(c.length==0){if($)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=0;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}}}else{var B=c[0],Z=null,v=null;
if(B.type=="SoFi"){Z="SoCo";v=iR.pL}if(B.type=="GrFl"){Z="GdFl";v=iR.d$}if(B.type=="patternFill"){Z="PtFl";
v=iR.pg}if(Z!=null){y.add[Z]={classID:"null"};for(var I=0;I<v.length;I++){var E=v[I];y.add[Z][E]=B.P.v[E]}var g=B.P.v.Opct.v.val;
if($&&g==0)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=Math.round(255*g/100)}}y.Yo|=16;y.add.vmsk.g=f.PG(b.layers?b.layers:[b],b.layers?T:w);
var u=M?M.blur:null;if(u&&u.isEnabled&&u.type<=1)y.add.vmsk.yy=u.radius;if(y.add.vmsk.g.length==2){console.log("shape with no content:",y.getName())}if($){var j=a.frameFXMulti.v[0].v,A=y.add.vstk,K=M.borders[0];
a.frameFXMulti.v=[];iO.aDQ(j,A);var s=M.borderOptions,r=M.miterLimit;if(s)iR.Vq.write(A,{UR:s.lineCapStyle,F0:s.lineJoinStyle,iW:s.dashPattern,Pm:r})}y.h6();
y.qX(P)}else if(O=="bitmap"||V){if(!V&&b.image==null)continue;var h=V?M.fills[0]:null,jC=V?h.image.bdata:b.image.bdata,d=P.to(jC,y.getName(),0,0);
d.Yo=y.Yo;y=d;var u=M?M.blur:null,q=M?M.colorControls:null;if(u||q){y.add.SoLd.filterFX=cM.Gn();P.w9({id:y.add.SoLd.placed.v,rect:new fA,buffer:e.U(1),u:new X.wy});
var p=y.add.SoLd.filterFX.v.filterFXList.v;if(u){var hc=cM.ip("GsnB",{});hc.v.enab.v=u.isEnabled;hc.v.Fltr.v.Rds.v.val=u.radius;
p.push(hc)}if(q){var dk=q.brightness,c6=q.contrast,e3=q.hue,ks=q.saturation;if(e3!=0||ks!=1){var hc=cM.ip("hue2",{});
hc.v.enab.v=q.isEnabled;gw.I$(hc.v.Fltr.v,0,[Math.round(e3*180/Math.PI),Math.round((ks-1)*100),0]);p.push(hc)}if(dk!=0||c6!=1){var hc=cM.ip("brit",{});
hc.v.enab.v=q.isEnabled;c6=c6-1;if(c6>0)c6/=2;var cH=hc.v.Fltr.v;cH.Brgh.v=Math.round(dk*255);cH.Cntr.v=Math.round(c6*255);
cH.useLegacy.v=!0;p.push(hc)}}}if(V){var bI=h.patternFillType;if(bI==3){var ak=y.rect.q/y.rect._,cN=i.q/i._;
if(ak<cN){T.translate(-(i.q*(1-ak/cN))/2,0);T.scale(cN/ak,1)}else{T.translate(0,-(i._*(1-cN/ak))/2);
T.scale(1,ak/cN)}}}i.x=i.y=0;var gC=e.a.R2(i).i;T.Sd();e.a.h(gC,T,gC);y.add.SoLd.Trnf=N.DH.Co(gC);y.add.SoLd.nonAffineTransform=N.DH.Co(gC);
y.w2(P,!1)}else if(O=="text"){if(b.attributedString==null)continue;var cu=T.clone(),bq,hn,bx=0;cu.Sd();
cu.F=cu.RL=Math.min(cu.F,cu.RL);y.add.lnsr="rend";y.add.TySh=fe.AH(0,0);y.add.TySh.Fy=new fA(0,0,i.q,i._);
y.add.TySh.h=cu;var aK=b.attributedString;if(aK.archivedAttributedString)aK=aK.archivedAttributedString;
var cQ=aK.NSString;if(cQ==null)cQ=aK.string;if(cQ==null)cQ="";if(cQ["NS.string"])cQ=cQ["NS.string"];
if(S[b.do_objectID]!=null)cQ=S[b.do_objectID];var jR=f.kT(k,b.do_objectID+"_stringValue");if(jR)cQ=jR.value;
if(aK.attributes!=null){bq=[];hn=[];var ch=aK.attributes;for(var I=0;I<ch.length;I++){bq.push(ch[I].length,I);
hn.push(ch[I].attributes)}}else if(aK.NSAttributeInfo==null){bq=[cQ.length,0];hn=[aK.NSAttributes]}else{bq=aK.NSAttributeInfo["NS.data"];
hn=aK.NSAttributes;bq=bZ.aEj(bq,hn)}for(var I=0;I<bq.length;I+=2)bx+=bq[I];if(bx!=cQ.length){while(bx>cQ.length){bq[bq.length-2]--;
bx--;if(bq[bq.length-2]==0){bq.pop();bq.pop()}}bq[bq.length-2]+=cQ.length-bx}cQ=cQ.replace(/\u2028/g,"\n");
cQ=cQ.replace(/\u2029/g,"\n");cQ=cQ.replace(/\r/g,"\n");var jf=y.add.TySh.OY;fe.EF(jf,0,cQ);if(cQ!=""){var dW=b.textBehaviour,bf=M.textStyle,iu=bf?bf.verticalAlignment:0,dV=f.a71(jf,bq,hn,cQ),Q=cu.gz(),gb=fe.Zv(jf,0,1),c1=0;
if(gb.OR.Font){var gP=gb.Dm[gb.OR.Font].Name;if(gP=="FontAwesome"||gP=="Ionicons")dV*=.87}var eJ=gb.OR.AutoLeading?0:gb.OR.Leading*.6,ku=Math.max(dV,eJ)*Q,aC=i.q,gU=i._;
if(dW==0){fe.mn(jf,0);var hR=fe.R_(gb.bp);if(hR==1)c1=aC*Q;if(hR==2)c1=aC*Q*.5;if(iu==0)ku*=1;else ku*=.9}else{fe.mn(jf,1);
fe.SP(jf,[0,0,Math.round(aC),Math.round(gU)]);if(dW==2&&iu==0)ku=ku*.2;else if(dW==2&&iu==1){ku=Q*.5*(gU-gb.OR.FontSize)}else if(dW==1&&iu==0)ku=ku*.2;
else ku=ku*.35}y.add.TySh.h.translate(c1,ku)}}else if(O=="symbolInstance"||O=="symbolMaster"){var a7=b.symbolID;
if(S[b.do_objectID])a7=S[b.do_objectID].symbolID;var dh=f.kT(k,b.do_objectID+"_symbolID");if(dh)a7=dh.value;
if(a7=="")continue;var eS={};for(var E in S)eS[E]=S[E];if(b.overrides)for(var E in b.overrides)eS[E]=b.overrides[E];
var d0=k.slice(0);if(b.overrideValues)d0=d0.concat(b.overrideValues);var cJ=z[a7];if(cJ==null){console.log("Unknown master master",b.symbolID);
continue}var aO=bZ.Wi(cJ.Q$.frame),a9=aO.q/i.q,ac=aO._/i._,e7=T.clone();e7.scale(a9,ac);y.add.lsct=jS.v_;
y.gS="pass";y.Yo=24;y.Kt(b.isVisible);P.R.push(P.VY());var b2=cJ.Q$;if(P.E$.indexOf(b2)==-1){P.E$.push(b2);
f.bW(b2.layers,P,e7,x,z,eS,d0);P.E$.pop()}}else if(O=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+O,b);continue}if(M&&M.contextSettings){var jQ=M.contextSettings,g9=jQ.blendMode;
if(g9<f.yG.length){y.gS=jK.gg[jK.VB.indexOf(f.yG[g9])];if(U&&y.gS=="norm")y.gS="pass"}y.opacity=Math.round(y.opacity*jQ.opacity)}if(a!=null){y.add.lmfx=a}P.R.push(y);
if(b.hasClippingMask&&o.length>1){C.push(y);P.R.push(P.VY())}}while(C.length!=0)f.axt(C.pop(),P)};bZ.kT=function(o,P){for(var I=0;
I<o.length;I++)if(o[I].overrideName.startsWith(P))return o[I]};bZ.aEj=function(o,P){var w=0,x=[];while(w+1<o.length){var z=o[w];
w++;if(z>127){z+=128*(o[w]-1);w++;if(o[w-1]>127){z+=128*(o[w]-1);w++}}var S=o[w];w++;x.push(z,S)}return x};
bZ.a71=function(o,P,w,x){var z=bZ,S=0,b=0,i=0;for(var I=0;I<x.length;I++){var k=x.charCodeAt(I),f=1473<=k&&k<=1479||1488<=k&&k<=1514||1520<=k&&k<=1524,C=1569<=k&&k<=1594||1600<=k&&k<=1749;
if(f||C)S++}var H=S>x.length/2;for(var I=0;I<P.length;I+=2){var M=P[I],y=14,F="DejaVuSans";if(M==0)continue;
var T=P[I+1],O=w[T],Y=fe.Zv(o,b,b+M-1),U=O.NSColor;if(U==null){var U=O.MSAttributedStringColorDictionaryAttribute;
if(U==null)U=O.MSAttributedStringColorAttribute;if(U==null)U="0 0 0";else U=[U.red,U.green,U.blue].join(" ")}else if(z.jT(U)=="MSArchivedColor")U=U.dr+" "+U.dg+" "+U.db;
else if(U.NSRGB){U=U.NSRGB;U=L.AW(U,0,U.length-1)}else if(U.NSCMYK){U=U.NSCMYK;U=L.AW(U,0,U.length-1);
U=U.split(" ").map(parseFloat);var W=1-U[0],t=1-U[1],_=1-U[2],n=1-U[3];U=W*n+" "+t*n+" "+_*n}else if(U.NSWhite){U="1 1 1"}U=U.split(" ");
Y.OR.FillColor={Type:1,Values:[1,parseFloat(U[0]),parseFloat(U[1]),parseFloat(U[2])]};var a=O.MSAttributedStringFontAttribute;
if(O.NSFont){y=O.NSFont.NSSize;F=O.NSFont.NSName}else if(a){if(a.attributes){a=a.attributes;y=a.size;
F=a.name}else{var V=a.NSFontDescriptorAttributes;if(V==null)V=a.UIFontDescriptorAttributes;a=V;y=a.NSFontSizeAttribute;
F=a.NSFontNameAttribute}if(F==null)F="DejaVuSans"}var i=Math.max(i,y);Y.OR.FontSize=Math.round(y);fe.bB(Y,F);
var D=O.NSKern;if(D==null)D=O.kerning;if(D!=null)Y.OR.Tracking=Math.round(1e3*D/y);if(O.NSUnderline!=null)Y.OR.Underline=O.NSUnderline>0;
var l=O.NSStrikethrough;if(l==null)l=O.strikethroughStyle;if(l!=null)Y.OR.Strikethrough=l>0;if(O.MSAttributedStringTextTransformAttribute==1)Y.OR.FontCaps=2;
var Q=O.NSParagraphStyle;if(Q==null)Q=O.paragraphStyle;if(Q){var m=Q.paragraphSpacing;if(m!=null){Y.bp.SpaceAfter=m}var R=Q.NSAlignment;
if(R==null)R=Q.alignment;if(R!=null){var $=0;if(!1){}else if(R==1)$=1;else if(R==2)$=2;else if(R==4)$=0;
else{$=R;console.log("unknown align",R)}if(H&&$<2)$=1-$;Y.bp.Justification=$}var p=Q.NSMinLineHeight;
if(p==null)p=Q.minimumLineHeight;if(p!=null){Y.OR.AutoLeading=!1;Y.OR.Leading=p}}Y.bp._Direction=H?1:0;
fe.Bi(o,b,b+M,Y);b+=M}return i};bZ.akp=function(o,P,w,x,z,S,k){var f=bZ,C=JSON.parse(iR.default),H=!1;
for(var I=0;I<iR.order.length;I++)C[iR._7[I]]={t:"VlLs",v:[]};var b=w.fills,i=f.awH(o,b,x,z,S,P);for(var M=0;
M<2;M++){var T=w[["shadows","innerShadows"][M]];if(T==null)continue;var O=["DrSh","IrSh"][M],Y=iR._7[iR.order.indexOf(O)];
for(var I=0;I<T.length;I++){var U=T[I];if(!U.isEnabled)continue;var W=U.contextSettings;if(W&&W.opacity==0||U.color.alpha==0)continue;
var t=JSON.parse(iR.lC[iR.order.indexOf(O)]);C[Y].v.unshift({t:"Objc",v:t});H=!0;t.Clr.v=f.HQ(U.color);
t.blur.v.val=Math.round(U.blurRadius/z.gz());var _=z.clone();_.$X=_.Ar=0;_.Sd();var n=_.Zc(new eD(U.offsetX,U.offsetY)),y=Math.sqrt(n.x*n.x+n.y*n.y);
t.Dstn.v.val=Math.round(y);t.lagl.v.val=Math.round(Math.atan2(n.y,-n.x)*(180/Math.PI));if(t.layerConceals)t.layerConceals.v=i.length!=0;
f.cy(U,t)}}var F=w.borders;if(F!=null&&(i.length==0||w.blur==null||!w.blur.isEnabled))for(var I=0;I<F.length;
I++){var a=F[I];if(!a.isEnabled)continue;var t=JSON.parse(iR.lC[iR.order.indexOf("FrFX")]),Y=iR._7[iR.order.indexOf("FrFX")];
C[Y].v.unshift({t:"Objc",v:t});H=!0;t.Clr.v=f.HQ(a.color);if(a.fillType!=0&&a.gradient){var V=f.aep(a.gradient,x,z,S),D=["Type","Angl","Ofst","Scl"];
for(var I=0;I<D.length;I++)t[D[I]]=V[D[I]];t.Grad.v=V.Grad.v;t.PntT.v.FrFl="GrFl"}t.Sz.v.val=Math.round(a.thickness/z.gz());
t.Styl.v.FStl=["CtrF","InsF","OutF"][a.position];f.cy(a,t)}for(var I=k?1:0;I<i.length;I++){var l=i[I],Y=iR._7[iR.order.indexOf(l.type)];
C[Y].v.unshift(l.P);H=!0}return H?C:null};bZ.awH=function(o,P,w,x,z,S,k){if(P==null)return[];var f=bZ,C=[];
for(var I=0;I<P.length;I++)if(P[I].isEnabled)C.push(P[I]);P=C;var H=[];for(var I=0;I<P.length;I++){var b=P[I],i=null,M=null;
if(b.fillType==0){i="SoFi";var T=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);M={t:"Objc",v:T};M.v.Clr.v=f.HQ(b.color)}else if(b.fillType==1){i="GrFl";
M={t:"Objc",v:f.aep(b.gradient,w,x,z)}}else if(b.fillType==4&&b.image!=null){var O=b.image;if(k)O=k.value;
var Y=eu.IL(O.bdata.buffer);if(Y=="fpng")Y="png";if(Y!=null&&Y!="pdf"&&Y!="eps"){var U,y=0,F=0,a=0;if(S.P7[O.key])U=S.P7[O.key];
else{var W={data:new ArrayBuffer(4),pv:new fA(0,0,1,1)};try{W=eu.oi(Y).mJ(O.bdata)[0]}catch(bF){}U={};
U.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";U.name="someImage";U.kR=[new Uint8Array(W.data),W.pv];S.dO(U);
S.P7[O.key]=U}var t=U.kR[1],T=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]);i="patternFill";M={t:"Objc",v:T};
var _=b.patternFillType,n=b.patternTileScale;T.Algn.v=!0;T.Ptrn.v.Idnt.v=U.id;if(_==0){y=n*t.q/Math.min(t.q,t._);
F=-x.$X;a=-x.Ar}else{y=Math.max(w.q/t.q,w._/t._);F=-x.$X-(t.q*y-w.q)/2;a=-x.Ar-(t._*y-w._)/2}T.Scl.v.val=100*y*(1/x.gz());
T.phase.v.Hrzn.v=Math.round(F/x.gz());T.phase.v.Vrtc.v=Math.round(a/x.gz())}}else if(b.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",b.fillType);
if(i!=null){f.cy(b,M.v);H.push({type:i,P:M})}}return H};bZ.a19=function(o){var P=bZ,w=new fA(0,0,1,1);
o=o.slice(0);while(!0){var x=!1;for(var I=0;I<o.length-1;I++){var z=o[I],S=o[I+1],k=null,f=z.contextSettings;
if(z.fillType==0&&(f==null||f.opacity==1&&f.blendMode==0)&&z.color.alpha==1){var C="norm",H=1,f=S.contextSettings;
if(f){H=f.opacity;C=jK.RD(P.yG[f.blendMode])}if(S.fillType==0){k=JSON.parse(JSON.stringify(S));P.a9l(k.color,z.color,k.color,w,C,H)}if(S.fillType==1){k=JSON.parse(JSON.stringify(S));
var b=k.gradient.stops;for(var i=0;i<b.length;i++)P.a9l(b[i].color,z.color,b[i].color,w,C,H)}if(k!=null&&k.contextSettings){var f=k.contextSettings;
f.opacity=1;f.blendMode=0}}if(k!=null){o.splice(I,0,k);x=!0;break}}if(!x||o.length<2)break}return o};
bZ.a9l=function(o,P,w,x,z,S){var k=bZ,f=e.U(4);k.apf(o,f);var C=e.U(4);k.apf(P,C);e.C.Iv(z,f,x,C,x,x,S);
k.ahZ(C,w)};bZ.apf=function(o,P){P[0]=255*o.red;P[1]=255*o.green;P[2]=255*o.blue;P[3]=255*o.alpha};bZ.ahZ=function(o,P){P.red=o[0]/255;
P.green=o[1]/255;P.blue=o[2]/255;P.alpha=o[3]/255};bZ.axt=function(o,P){o=o.clone();o.Yo=24;o.bx("Mask by "+o.getName());
P.R.push(o);o.add.lsct=jS.KC;o.add.lyid=P.FI();delete o.add.lmfx;delete o.add.SoCo;delete o.add.GdFl;
delete o.add.PtFl;delete o.add.iOpa;if(o.add.vmsk)o.add.vmsk.RC=!0;o.h6();o.qX(P);if((o.Yo&16)==16)o.Yo-=16;
if((o.Yo&2)==2)o.Yo-=2;o.gS="pass";o.opacity=255};bZ.yG="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
bZ.aep=function(o,P,w,x){w=w.clone();w.Sd();w.$X=w.Ar=0;var z=w.gz(),M=0,T=0;w.scale(1/z,1/z);var S=bZ,k=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),f=k.Grad.v;
f.Intr.v=0;if(o==null)return k;var C=o.gradientType,H=S.iX(o.from),b=S.iX(o.to);H.offset(-.5,-.5);b.offset(-.5,-.5);
H=w.Zc(H);b=w.Zc(b);var i=Math.atan2(-(b.y-H.y),b.x-H.x);k.Type.v.GrdT=["Lnr","Rdl","Angl"][C];k.Scl.v.val=100*eD.a_(H,b);
if(C==0){k.Angl.v.val=180/Math.PI*i;k.Scl.v.val=100*eD.a_(H,b);M=(H.x+b.x)/2;T=(H.y+b.y)/2}if(C==1){k.Scl.v.val=200*eD.a_(H,b);
M=H.x;T=H.y}if(C==2){k.Angl.v.val=180/Math.PI*(i-Math.PI/2)}var O=k.Ofst.v;O.Hrzn.v.val=M*100;O.Vrtc.v.val=T*100;
var Y=[];for(var I=0;I<o.stops.length;I++){var U=o.stops[I],W=U.color;Y.push([U.position,W?[W.red,W.green,W.blue]:[0,0,0],W.alpha])}e.G.U_(Y,f);
return k};bZ.cy=function(o,P){var w=bZ,x=1,z=o.contextSettings;if(z!=null){P.Md.v.BlnM=w.yG[z.blendMode];
x*=z.opacity}else P.Md.v.BlnM=w.yG[0];P.enab.v=o.isEnabled;if(P.uglg!=null)P.uglg.v=!1;if(o.color!=null)x*=o.color.alpha;
P.Opct.v.val=Math.round(x*100)};bZ.HQ=function(o){return e.G.e1(o?{$:o.red*255,H:o.green*255,b:o.blue*255}:{$:0,H:0,b:0})};
bZ.PG=function(o,P){var w=bZ,x=[{type:6},{type:8,all:0}];for(var z=0;z<o.length;z++){var S=o[z],k=S.booleanOperation,f=0,C=S._class,O=!1;
if(C=="group"||C=="text"||C=="symbolInstance"||C=="slice"){console.log(C+" inside ShapeGroup");continue}if(k==-1)f=0;
else if(k==0)f=1;else if(k==1)f=2;else if(k==2)f=3;else if(k==3)f=0;if(z==0)f=1;var H=bZ.Wi(S.frame),b=w.a4e(S,P),i=S.path?S.path:S,M=[{type:0,length:0,Hv:f,cI:2,p_:0,xd:0}],T=i.points;
for(var I=0;I<T.length;I++){var Y=T[I],U=w.iX(Y.curveTo),W=w.iX(Y.point),t=w.iX(Y.curveFrom);O=O||Y.hasCurveFrom&&!t.w6(W)||Y.hasCurveTo&&!U.w6(W)}var _=[];
if(!O){var n=[],eK=T.length;if(eK==0)continue;for(var I=0;I<eK;I++){_[I]=T[I].cornerRadius;var Y=w.iX(T[I].point);
n.push(Y.x,Y.y)}b.scale(1/H.q,1/H._);b.Sd();e.a.h(n,b,n);M=e.n.fg.E2(n,_).slice(2);M[0].Hv=f}else{var y=T.length;
M[0].length=y;for(var I=0;I<y;I++){var Y=T[I],F=Y.curveMode,a=w.iX(Y.point);M[1+I]={type:F==2||F==4?1:2,Fm:Y.hasCurveTo?w.iX(Y.curveTo):a.clone(),v:a,AK:Y.hasCurveFrom?w.iX(Y.curveFrom):a.clone()}}b.scale(1/H.q,1/H._);
b.Sd();e.n.G9(M,b);var _=[];for(var I=0;I<y;I++){var Y=T[I],F=Y.curveMode,V=Y.cornerRadius;if(F==1&&V!=0)_.push(V);
else _.push(0)}}if(!i.isClosed)for(var I=0;I<M.length;I++)M[I].type+=3;x=x.concat(M);var D=w.jT(S);if(b.b==0&&b.JJ==0){var l=b.$X,Q=b.Ar,m=l+b.F,R=Q+b.RL,$=[l,Q,m,R]}}return x};
bZ.a4e=function(o,P){var w=P.clone(),x=o.frame?bZ.Wi(o.frame):null;if(x)w.translate(-x.x-x.q/2,-x.y-x._/2);
if(o.isFlippedHorizontal)w.scale(-1,1);if(o.isFlippedVertical)w.scale(1,-1);w.rotate(-o.rotation*(Math.PI/180));
if(x)w.translate(x.q/2,x._/2);return w};bZ.iX=function(o){o=o.slice(1,o.length-1).split(",");return new eD(parseFloat(o[0]),parseFloat(o[1]))};
bZ.Wi=function(o){return new fA(o.x,o.y,o.width,o.height)};bZ.afL=function(o){return{_class:"rect",constrainProportions:!1,x:o.x,y:o.y,width:o.q,height:o._}};
function dA(){}dA.M3=function(o,P){var w=Date.now(),x=dA,z=UZIP.parse(o),S=JSON.parse(L.bR(z.manifest)),k=JSON.parse(L.bR(z["resources/graphics/graphicContent.agc"])).resources,f=[],C=[],H=S.children;
for(var I=0;I<H.length;I++){var b=H[I];if(b.name=="artwork"){var i=b.children;for(var M=0;M<i.length;
M++){var T=i[M],O=JSON.parse(L.bR(z["artwork/"+T.path+"/graphics/graphicContent.agc"])),Y=O.children;
if(Y.length==0){}else if(Y.length==1){if(T["uxdesign#bounds"]){T._node=Y[0];f.push(T)}}else{var U=Y[0],W=U.transform,t=U.shape;
if(t==null)t={x:0,y:0,width:1e3,height:1e3};if(t.type=="path"){var _=e.a.RR(Typr.U.SVGToPath(t.path).crds);
t={x:_.x,y:_.y,width:_.q,height:_._}}t=JSON.parse(JSON.stringify(t));if(W){t.x+=W.tx;t.y+=W.ty}T["uxdesign#bounds"]=t;
T._node={type:"artboard",artboard:{children:Y}};C.push(T)}}}}if(f.length==0)f=C;var n=[],y=new fA;for(var I=0;
I<f.length;I++){var T=f[I],F=bZ.Wi(T["uxdesign#bounds"]);n.push(F);y=y.It(F)}var a=bZ.iG(y,8192*8192);
P._0=!0;P.q=Math.round(y.q/a);P._=Math.round(y._/a);P.buffer=e.U(P.q*P._*4);P.oj(f.length);var V=new ar(a,0,0,a,y.x,y.y);
P.P7={};for(var I=0;I<f.length;I++){var T=f[I],F=bZ.Wi(T["uxdesign#bounds"]),D=T._node,l=V.clone(),Q=F.clone(),m=l.gz();
l.translate(-F.x,-F.y);Q.x=-Math.floor(l.$X/m);Q.y=-Math.floor(l.Ar/m);Q.q=Math.floor(Q.q/m);Q._=Math.floor(Q._/m);
l.translate(F.x,F.y);dA.C8(D,P,l,k,z,Q);var R=P.R[P.R.length-1];R.bx(T.name);R.VZ(Q);if(I!=f.length-1)R.add.lsct=jS.v_}delete P.P7};
dA.o7=function(o){if(o==null)return new ar;return new ar(o.a,o.b,o.c,o.d,o.tx,o.ty)};dA.C8=function(o,P,w,x,z,S){var k=dA,f=o.type,C=o[f],H=o.style,b=k.o7(o.transform),O,Y="none",U,W="none",t,_;
b.Sd();var i=w.clone();i.concat(b);var M=P._L(),T=o.name;M.bx(T?T.slice(0,250):"Layer");if(o.visible!=null)M.Kt(o.visible);
if(H){O=H.stroke;Y=O?O.type:"none";U=H.fill;W=U?U.type:"none";if(U&&Object.keys(U).length==1)W="none";
t=H.filters;_=H.clipPath;if(_&&x.clipPaths[_.ref])_=x.clipPaths[_.ref].children;else _=null;if(H.opacity!=null)M.opacity=Math.round(255*H.opacity);
if(W=="solid"&&U.color.alpha)M.opacity=Math.round(M.opacity*U.color.alpha);if(t){M.add.lmfx=k.afO(t);
for(var I=0;I<t.length;I++)if(t[I].type=="uxdesign#blur"){var n=t[I],y=n.params,F=y.brightnessAmount;
if(F==null)F=0;F=Math.abs(F/100);if((n.visible==null||n.visible==!0)&&y.backgroundEffect)M.opacity=Math.round(M.opacity*(F+(1-F)*y.fillOpacity))}}if(W=="pattern"&&U.pattern.meta.ux.uid=="")W="none"}if(_==null&&o.meta&&o.meta.ux&&o.meta.ux.clipPathResources)_=o.meta.ux.clipPathResources.children;
if(f=="artboard"||f=="group"){if(_){var a=_[0],V=a.shape,D=V!=null&&V.type=="rect"&&V.width*V.height>4e6;
if(a.type!="text"&&!D){if(V){var b=k.o7(a.transform);b.Sd();var l=i.clone();l.concat(b);M.add.vmsk=new X.tc;
M.add.vmsk.g=k.PG(V);l=l.clone();l.Sd();e.n.G9(M.add.vmsk.g,l);M.h6();M.qX(P)}}else if(!D)alert("Clipping by text has been ignored")}M.add.lsct=jS.KC;
M.gS="pass";M.Yo=24;if(o.visible!=null)M.Kt(o.visible);P.R.push(P.VY());var Q=C.children,m=U;if(m)m=m.color;
if(m)m=m.value;if(U){if(f=="artboard"&&W=="solid"){M.VZ(new fA(0,0,10,10));M.add.artb.Clr={t:"Objc",v:e.G.e1({$:m.r,H:m.g,b:m.b})};
M.add.artb.artboardBackgroundType={t:"long",v:4}}else{var R=P._L();R.bx("BACKGROUND");R.Yo|=16;R.add.vstk=iR.Vq.bS();
R.add.vmsk=new X.tc;R.add.vmsk.g=k.PG({type:"rect",x:S.x,y:S.y,width:S.q,height:S._});k.OM(U,W,i,S,S,R,P,x,z);
R.h6();R.qX(P);P.R.push(R)}}for(var I=0;I<Q.length;I++){dA.C8(Q[I],P,i,x,z,S)}}else if(f=="shape"&&(C.type=="rect"&&(C.r==null||C.r==0)||C.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(C.path)))&&W=="pattern"&&(Math.abs(C.width/C.height-U.pattern.width/U.pattern.height)<.01||H.fill.pattern.meta.ux.scaleBehavior=="fill")){var $=U.pattern,p=$.meta.ux,c=p.uid,B=z["resources/"+c];
if(B==null){console.log($);return}var Z=P.to(B,M.getName(),0,0);Z.Yo=M.Yo;Z.opacity=M.opacity;M=Z;var v=e.n.$s(k.PG(C),null),E=e.a.R2(new fA(0,0,$.width,$.height)).i,g=new ar;
g.scale($.width/v.q,$.height/v._);if(p.offsetX)g.translate(-p.offsetX*$.width,0);if(p.offsetY)g.translate(0,-p.offsetY*$.height);
i.concat(g);i.Sd();e.a.h(E,i,E);M.add.SoLd.Trnf=N.DH.Co(E);M.add.SoLd.nonAffineTransform=N.DH.Co(E);
M.w2(P,!1)}else if(f=="shape"){M.Yo|=16;M.add.vstk=iR.Vq.bS();M.add.vmsk=new X.tc;M.add.vmsk.g=k.PG(C);
var v=e.n.$s(M.add.vmsk.g,null),l=i.clone();l.Sd();e.n.G9(M.add.vmsk.g,l);var u=e.n.$s(M.add.vmsk.g,null);
if(Y=="none"){}else{var j=O.color.value,A,K;A="SoFi";var s=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);
K={t:"Objc",v:s};K.v.Clr.v=e.G.e1({$:j.r,H:j.g,b:j.b});var r=O.align,h=O.cap;if(r==null)r="center";var jC=M.add.vstk;
jC.strokeEnabled.v=!0;jC.strokeStyleLineWidth.v.val=O.width;if(r)jC.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[["inside","center","outside"].indexOf(r)];
if(h)jC.strokeStyleLineCapType.v.strokeStyleLineCapType=iR.Vq.xr[["butt","round","square"].indexOf(h)];
var q=["SoFi","GrFl","patternFill"].indexOf(A),hc=[iR.pL,iR.d$,iR.pg][q];jC.strokeStyleContent.v={classID:iR.Vq.Fs[0]};
var dk=jC.strokeStyleContent.v={classID:iR.Vq.Fs[q]};for(var I=0;I<hc.length;I++)dk[hc[I]]=K.v[hc[I]]}if(t)for(var I=0;
I<t.length;I++)if(t[I].type=="uxdesign#blur"&&t[I].visible){var c6=t[I];M.add.vmsk.yy=c6.params.blurAmount}k.OM(U,W,i,v,u,M,P,x,z);
M.h6();M.qX(P)}else if(f=="text"&&o.text){var e3=o.text,ks=e3.frame,cH=H.font,bI=H.textAttributes,b=i.clone(),du=0;
b.Sd();M.add.lnsr="rend";M.add.TySh=fe.AH(0,0);M.add.TySh.Fy=new fA(0,0,100,100);M.add.TySh.h=b;var ak=M.add.TySh.OY,cN=e3.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fe.EF(ak,0,cN);if(cN!=""){var gC=fe.Zv(ak,0,1),bD=cH.postscriptName;if(bD==null)bD=cH.family;fe.bB(gC,bD);
gC.OR.FontSize=Math.round(cH.size);if(W=="solid"){var j=U.color.value;gC.OR.FillColor={Type:1,Values:[1,j.r/255,j.g/255,j.b/255]}}if(bI){if(bI.paragraphAlign)gC.bp.Justification=["left","right","center"].indexOf(bI.paragraphAlign);
if(bI.letterSpacing)gC.OR.Tracking=Math.round(bI.letterSpacing);if(bI.lineHeight){gC.OR.AutoLeading=!1;
gC.OR.Leading=Math.round(bI.lineHeight)}}fe.Bi(ak,0,cN.length,gC)}var cu=o.meta.ux.rangedStyles;if(cu)for(var I=0;
I<cu.length;I++){var C=cu[I],bq=Math.min(C.length,cN.length-du);if(I==cu.length-1)bq=cN.length-du;var gC=fe.Zv(ak,du,du+bq),bD=C.postscriptName;
if(bD==null)bD=C.family;if(bD!=null)fe.bB(gC,bD);var hn=C.textScript,aK=C.underline,cQ=C.fontSize,n=C.fill,jR=C.textTransform;
if(hn&&hn!="none")gC.OR.FontBaseline=hn=="superscript"?1:2;if(aK!=null)gC.OR.Underline=aK;if(cQ!=null)gC.OR.FontSize=Math.round(cQ);
if(jR!=null)gC.OR.FontCaps=jR=="uppercase"?2:0;if(jR=="lowercase"){fe.kg(ak,du,du+bq);fe.EF(ak,du,cN.slice(du,du+bq).toLowerCase())}if(n!=null){var ch=n.value;
gC.OR.FillColor={Type:1,Values:[1,(ch>>>16&255)/255,(ch>>>8&255)/255,(ch>>>0&255)/255]}}fe.Bi(ak,du,du+bq,gC);
du+=bq}if(ks.type=="area"||ks.type=="autoHeight"){var bx=ks.width,jf=ks.height;fe.mn(ak,1);fe.SP(ak,[0,0,bx,jf!=null?jf:bx*2])}}else if(f=="syncRef"){var dW=o.syncSourceGuid,bf=x.meta.ux.symbols,iu=k.xg(bf,dW);
if(iu){var dV=i.clone();dV.concat(k.o7(iu.transform));dA.C8(iu,P,dV,x,z,S)}return}else console.log(f,o);
P.R.push(M)};dA.xg=function(o,P){for(var I=0;I<o.length;I++){var w=o[I],x=w.group;if(w.id==P)return w;
if(x){var z=dA.xg(x.children,P);if(z)return z}}return null};dA.PG=function(o){var P=o.type,w=[{type:6},{type:8,all:0}];
if(P=="rect"){var x=o.r,z=o.x,S=o.y,k=o.width,f=o.height;w=e.n.fg.Rect(z,S,k,f,x?x:0)}else if(P=="circle"){var x=o.r;
w=e.n.fg.nT(o.cx-x,o.cy-x,2*x,2*x)}else if(P=="ellipse"){var C=o.rx,H=o.ry;w=e.n.fg.nT(o.cx-C,o.cy-H,2*C,2*H)}else if(P=="path"||P=="compound"){var b=Typr.U.SVGToPath(o.path);
w=e.a.B6({LG:b.cmds,i:b.crds},!1)}else if(P=="line"){var i=o.x1,M=o.x2,T=o.y1,O=o.y2;w=e.n.fg.E2([i,T,M,O],0,!0)}else if(P=="polygon"){var Y=o.points,U=[];
for(var I=0;I<Y.length;I++)U.push(Y[I].x,Y[I].y);w=w.concat(e.n.fg.E2(U,0,!1).slice(2))}else console.log(P,o);
return w};dA.afO=function(o){var P=JSON.parse(iR.default);for(var I=0;I<iR.order.length;I++)P[iR._7[I]]={t:"VlLs",v:[]};
for(var I=0;I<o.length;I++){var w=o[I],x=w.type,z=w.params,S=w.visible;if(x=="dropShadow"){var k=iR._7[iR.order.indexOf("DrSh")],f=JSON.parse(iR.lC[iR.order.indexOf("DrSh")]);
P[k].v.unshift({t:"Objc",v:f});var C=z.dropShadows;if(C.length!=1)throw"e";var H=C[0],b=H.color,i=b.value,M=H.dx,T=H.dy;
f.Clr.v=e.G.e1({$:i.r,H:i.g,b:i.b});f.Opct.v.val=Math.round((b.alpha!=null?b.alpha:1)*100);f.uglg.v=!1;
f.enab.v=S!=null?S:!0;f.lagl.v.val=Math.round(180/Math.PI*Math.atan2(T,-M));f.Dstn.v.val=Math.round(Math.sqrt(M*M+T*T));
f.blur.v.val=Math.round(H.r*2.3)}}return P};dA.OM=function(o,P,w,x,z,S,k,f,C){var H=dA;S.add.vstk.fillEnabled.v=P!="none";
if(P=="none"){S.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}}}else{var b,i,M;if(P=="solid"){var T=o.color.value;
b="SoCo";i=iR.pL;var O=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);M={t:"Objc",v:O};M.v.Clr.v=e.G.e1({$:T.r,H:T.g,b:T.b})}else if(P=="gradient"){b="GdFl";
i=iR.d$;var O=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),Y=O.Grad.v,n,y,F;Y.Intr.v=0;var U=o[P],W=U.ref?f.gradients[U.ref]:U.meta.ux.gradientResources,t=["linear","radial","angular"].indexOf(W.type),_=W.stops;
O.Type.v.GrdT=["Lnr","Rdl","Angl"][t];if(t==0){var n=new eD(U.x1,U.y1),y=new eD(U.x2,U.y2);n.x=y.x+.5*(n.x-y.x);
n.y=y.y+.5*(n.y-y.y)}else{var n=new eD(U.cx,U.cy),y=new eD(U.cx+U.r,U.cy)}F=z;if(U.units=="objectBoundingBox"){var a=new ar(x.q,0,0,x._,x.x,x.y);
n=a.Zc(n);y=a.Zc(y)}var a=H.o7(U.transform);n=a.Zc(n);y=a.Zc(y);a=w.clone();a.Sd();n=a.Zc(n);y=a.Zc(y);
e.G.jh(n,y,F,O);var V=[];for(var I=0;I<_.length;I++){var D=_[I],l=D.color,T=l.value,Q=l.alpha;if(Q==null)Q=1;
V.push([D.offset,[T.r/255,T.g/255,T.b/255],Q])}e.G.U_(V,Y);M={t:"Objc",v:O}}else if(P=="pattern"){b="PtFl";
i=iR.pg;var O=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]),E;M={t:"Objc",v:O};var m=o[P],R=m.meta.ux,$=R.uid,p=C["resources/"+$].buffer,c=R.flipX,B=R.flipY,Z=$+c+B,v=eu.IL(p);
if(k.P7[Z])E=k.P7[Z];else{var g=new fA(0,0,m.width,m.height),u;if(g.Mw()||v==null){g=new fA(0,0,1,1);
u=new ArrayBuffer(4)}else{var j=eu.oi(v);if(j.VV){var A=new da;j.mJ(p,A);u=A.Ey().buffer}else{try{var K=j.mJ(p)[0];
u=K.data;g=K.pv}catch(bF){u=new ArrayBuffer(g.c()*4)}}}E={};E.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";
E.name="someImage";E.kR=[new Uint8Array(u),g];if(c)e.W.ug(E.kR[0].slice(0),E.kR[0],g.q,g._);if(B)e.W.aA4(E.kR[0].slice(0),E.kR[0],g.q,g._);
k.dO(E);k.P7[Z]=E}var s=w.clone();s.Sd();s.translate(x.x,x.y);var r=x.q,h=x._,jC=E.kR[1].q,d=E.kR[1]._,q=Math.max(r/jC,h/d);
if(R.scale)q*=R.scale;var hc=new ar;hc.translate(-jC/2,-d/2);hc.scale(1/jC,1/d);if(R.offsetX!=null)hc.translate(R.offsetX,R.offsetY);
hc.scale(jC,d);hc.scale(q,q);hc.translate(r/2,h/2);hc.concat(s);iO.aEe(E,O,0,0,1e3,hc)}else console.log(P);
if(b!=null){S.add[b]={classID:"null"};for(var I=0;I<i.length;I++){var dk=i[I];S.add[b][dk]=M.v[dk]}}}};
var cU=function(){function o(U){return U.tagName?U.tagName.split(":").pop():null}function P(U,W,t){if(t&&t[0]==null)t=null;
U=new Uint8Array(U);var _,v=1;if(U[0]==255&&U[1]==254)_=L.NF(U,2,(U.length>>>1)-1);else _=L.bR(U,0,U.length);
var n=new DOMParser,y=n.parseFromString(_,"image/svg+xml"),F=y.getElementsByTagName("style")[0];if(F)F=Typr.U.SVG.cssMap(F.textContent);
else F={};var a=y.firstChild;while(o(a)!="svg")a=a.nextSibling;var V=new fA(0,0,100,100),D=a.getAttribute("viewBox"),l=a.getAttribute("width"),Q=a.getAttribute("height"),m=l!=null?parseFloat(l):parseFloat(Q),R=Q!=null?parseFloat(Q):parseFloat(l);
if(D){var $=w(D);V.x=$[0];V.y=$[1];V.q=$[2];V._=$[3];if(l!=null){var p=$[2]/$[3],c=m/R;if(c>p){var B=$[3]*c-V.q;
V.x-=B/2;V.q+=B}if(c<p){var Z=$[2]/c-V._;V.y-=Z/2;V._+=Z}}}else if(l!=null||Q!=null){V.q=m;V._=R}V=e.a.lY(V);
while(t&&Math.max(V.q*v,V._*v)<Math.max(t[0],t[1]))v++;while(t==null&&Math.max(V.q,V._)*v>8192)v*=.5;
W._0=!0;W.q=~~(V.q*v);W._=~~(V._*v);var E=new ar(v,0,0,v,-V.x*v,-V.y*v),g={M6:i(a),a1k:F,S3:0};x(y,a.children,W,E,g,new ar,0);
if(W.R.length==0){var u=W._L();u.bx("Layer");W.R.push(u)}}function w(U){var W=" ";if(U.indexOf(",")!=-1)W=",";
return U.split(W).map(parseFloat)}function x(U,W,t,_,n,y,F,a){var V=["display","opacity","fill-opacity","filter","clip-path"],D=0;
for(var l=0;l<W.length;l++){var Q=W[l],m=o(Q),R=Q.getAttribute("id"),c=13,g=1,A="clip-path",K=null,c6=0;
if(R==null)R=Q.getAttribute("data-name");var $=i(Q,n.a1k);for(var p in n.M6)if(V.indexOf(p)==-1&&$[p]==null)$[p]=n.M6[p];
if($["font-size"])c=k($["font-size"],c);if(Q.getAttribute("dx"))_.$X+=k(Q.getAttribute("dx"),c);if(Q.getAttribute("dy"))_.Ar+=k(Q.getAttribute("dy"),c);
var B=C(Q);B.concat(_);var Z=Q.getAttribute("visibility"),v=$.display,E=t._L();if(Z=="hidden"||v=="none")E.Kt(!1);
E.bx(R!=null?R.split(":::")[0]:"Layer");if($.opacity)g*=parseFloat($.opacity);if($["fill-opacity"]){var u=parseFloat($["fill-opacity"]);
if(u!=0)g*=u}E.opacity=Math.round(255*g);if($["mix-blend-mode"]){var j=jK.Sa.indexOf($["mix-blend-mode"]);
if(j!=-1)E.gS=jK.gg[j]}if(Q.getAttribute(A)==null)A="mask";if(Q.getAttribute(A)!=null||$["clip-path"]){var s=Q.getAttribute(A);
if(s==null)s=$["clip-path"];s=s.slice(4,s.length-1);var r=U.getElementById(s.slice(1));if(r){var h=r.children;
K=t._L();K.bx("Clip-Path"+(R?": "+R:""));K.add.lsct=F<2?jS.KC:jS.v_;K.gS="pass";K.Yo=24;var jC=K.add.vmsk=new X.tc;
t.R.push(t.VY());var d=[];if(r.getAttribute(A)){var s=r.getAttribute(A);s=s.slice(4,s.length-1);d=U.getElementById(s.slice(1)).children}for(var I=0;
I<h.length;I++){var q=C(h[I]);q.concat(B);var hc=S(t,U,h[I],!1).slice(2);e.n.G9(hc,q);jC.g=jC.g.concat(hc)}for(var I=0;
I<d.length;I++){var q=C(h[I]);q.concat(B);var hc=S(t,U,d[I],!1).slice(2);for(var dk=0;dk<hc.length;dk++)if(hc[I].Hv!=null)hc[I].Hv=3;
e.n.G9(hc,q);jC.g=jC.g.concat(hc)}for(var I=0;I<jC.g.length;I++)if(jC.g[I].Hv!=null)jC.g[I].Hv=0;K.h6();
K.qX();F++}}if($.filter&&$.filter!="none"){var e3=$.filter,cH,bI,aR,cN=!1,gC=!1,bD=!1;e3=e3.slice(5,e3.length-1);
var ks=U.getElementById(e3),ak=[0,0,0,.5],cu=B.gz();if(ks)for(var I=0;I<ks.children.length;I++){var du=ks.children[I],bq=o(du);
if(bq=="feGaussianBlur"){cN=!0;cH=parseFloat(du.getAttribute("stdDeviation"))*cu}if(bq=="feColorMatrix"){var hn=du.getAttribute("values");
if(hn){hn=hn.split(" ").map(parseFloat);ak=[hn[4],hn[9],hn[14],hn[18]]}}if(bq=="feComposite"){bD=!0}if(bq=="feOffset"){gC=!0;
var aK=du.getAttribute("dx"),cQ=du.getAttribute("dy");bI=parseFloat(aK?aK:0)*cu;aR=parseFloat(cQ?cQ:0)*cu}}if(cN&&(bD||gC)){var jR=bD?"IrSh":"DrSh";
if(jR=="IrSh"){E.add.iOpa=0}var ch=JSON.parse(iR.lC[iR.order.indexOf(jR)]);ch.blur.v.val=Math.round(cH*2.4);
var bx=Math.sqrt(bI*bI+aR*aR);ch.uglg.v=!1;ch.Dstn.v.val=Math.round(bx);ch.lagl.v.val=Math.round(Math.atan2(aR,-bI)*(180/Math.PI));
ch.Clr.v=e.G.e1({$:ak[0]*255,H:ak[1]*255,b:ak[2]*255});ch.Opct.v.val=Math.round(ak[3]*100);z(E,iR._7[iR.order.indexOf(jR)],ch)}else if(cN)c6=cH}if(m=="g"||m=="a"||m=="svg"||m=="switch"||(m=="text"||m=="textPath")&&Q.children.length>0||m=="symbol"&&a){if(m=="text")y=H(Q,y);
var jf=Q.getAttribute("viewBox"),dW=Q.getAttribute("width"),bf=Q.getAttribute("height");if(m=="svg"&&dW&&bf&&jf==null)jf="0 0 "+dW+" "+bf;
if(jf&&dW&&bf){var iu=w(jf),dV=H(Q),gb=new ar;gb.translate(-iu[0],-iu[1]);gb.scale(parseFloat(dW)/iu[2],parseFloat(bf)/iu[3]);
gb.translate(dV.$X,dV.Ar);gb.concat(B);B=gb}var gP=Q.children.length,eJ=n.M6;n.M6=$;var c1=n.S3;n.S3=Math.max(n.S3,c6);
var ku=m!="text"&&m!="textPath"||gP>1;if(ku){var aC=E.ny();E.add.lsct=F<2&&aC&&(R==null||!R.endsWith(":::"))?jS.KC:jS.v_;
E.gS="pass";E.Yo=24;E.Kt(aC);t.R.push(t.VY())}x(U,Q.children,t,B,n,y,F+1);if(ku)t.R.push(E);else{var gU=t.R[t.R.length-1];
gU.opacity=E.opacity;gU.gS=E.gS}n.S3=c1;n.M6=eJ}else if(m=="use"){var gb=H(Q);gb.concat(B);var hR=T(Q),a7=U.getElementById(hR.slice(1));
if(a7){var eJ=n.M6;n.M6=$;if($.filter)a7.setAttribute("filter",$.filter);x(U,[a7],t,gb,n,y,F+1,!0);n.M6=eJ}}else if(m=="path"||m=="rect"||m=="circle"||m=="ellipse"||m=="polygon"||m=="polyline"||m=="line"){E.Yo|=16;
var jC=E.add.vmsk=new X.tc,dh=$.fill,eS=dh=="none"||$["fill-opacity"]&&parseFloat($["fill-opacity"])==0,d0=$["fill-rule"]=="evenodd"?1:0;
jC.g=S(t,U,Q,d0==1,eS);jC.Hv=d0;e.n.G9(jC.g,B);var cJ=$.stroke,aO=$["stroke-width"],a9=$["stroke-dasharray"],ac=$["stroke-linejoin"];
if(ac==null)ac="miter";var e7=$["stroke-linecap"];if(e7==null)e7="butt";var b2=$["stroke-miterlimit"];
if(b2==null)b2=4;else b2=parseFloat(b2);var jQ=$["paint-order"],g9=!(cJ==null||cJ=="none"||cJ=="null"),cx=E.add.vstk=iR.Vq.bS(null,g9);
if(g9){var i8=f(U,cJ,B,jC.g,t),fw=["SoFi","GrFl","patternFill"].indexOf(i8.type),hi=i8.P.v.Opct.v,bo=1;
if(hi.val!=100){E.opacity=Math.round(E.opacity*hi.val/100);hi.val=100}var dU=[iR.pL,iR.d$,iR.pg][fw],dv=cx.strokeStyleContent.v={classID:iR.Vq.Fs[fw]};
for(var I=0;I<dU.length;I++)dv[dU[I]]=i8.P.v[dU[I]];aO=aO?parseFloat(aO):1;if(jQ&&jQ.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){bo=2;
aO/=2}var fV={F0:["miter","round","bevel"].indexOf(ac),UR:["butt","round","square"].indexOf(e7),dy:aO,Pm:b2};
if(a9!=null&&a9!="none")fV.iW=a9.split(",").map(parseFloat);iR.Vq.write(cx,fV,B.gz());cx.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[bo];
cx.strokeStyleOpacity.v.val=100*($["stroke-opacity"]?parseFloat($["stroke-opacity"]):1);if(i8.wm)E.add._sstl=i8.wm}E.add.vstk.fillEnabled.v=!eS;
if(eS){E.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}}}else{var i8=f(U,dh,B,jC.g,t),ck=null,h8=null;
if(i8.type=="SoFi"){ck="SoCo";h8=iR.pL}if(i8.type=="GrFl"){ck="GdFl";h8=iR.d$}if(i8.type=="patternFill"){ck="PtFl";
h8=iR.pg}if(ck!=null){var hi=i8.P.v.Opct.v;if(hi.val!=100){E.opacity=Math.round(E.opacity*hi.val/100);
hi.val=100}E.add[ck]={classID:"null"};for(var I=0;I<h8.length;I++){var p=h8[I];E.add[ck][p]=i8.P.v[p]}}if(i8.wm)E.add._fstl=i8.wm}var fS=Math.max(c6,n.S3);
if(fS!=0)E.add.vmsk.yy=fS;E.h6();E.qX(t);t.R.push(E)}else if((m=="text"||m=="tspan")&&Q.textContent!=""){y=H(Q,y);
var gb=y.clone(),aR=0;gb.concat(B);gb.translate(D,0);if(Q.children.length>0){var iS=i(Q.children[0],n.a1k);
for(var p in iS)if(V.indexOf(p)==-1)$[p]=iS[p]}var fh=$["xml:space"],h9=Q.textContent;if(fh=="preserve")h9=h9.replace(/\t/g," ").replace(/\n/g," ");
if(R==null)E.bx(h9);E.add.lnsr="rend";E.add.TySh=fe.AH(0,0);E.add.TySh.Fy=new fA(0,0,100,100);E.add.TySh.h=gb.clone();
var gi=E.add.TySh.OY;fe.EF(gi,0,h9);if(m=="tspan")D+=c*h9.length*.5*gb.gz();var dh=$.fill,dX=$["font-weight"],f8=$["font-family"],kS=$["text-decoration"],cJ=$.stroke,aO=$["stroke-width"],jJ=$["dominant-baseline"];
if(jJ=="text-before-edge")aR=c;else if(jJ=="middle")aR=c/2;else if(jJ=="hanging")aR=c;if(aR!=0)E.add.TySh.h.translate(0,aR);
var gj=fe.Zv(gi,0,1);if(dh&&dh!="none"){var ak=CSS.HQ(dh);gj.OR.FillColor={Type:1,Values:[1,ak.$/255,ak.H/255,ak.b/255]}}if(kS=="underline")gj.OR.Underline=!0;
gj.OR.FontSize=Math.round(c);fe.bB(gj,"LiberationSans");if(dX=="bold")fe.bB(gj,"LiberationSans-Bold");
if(f8){f8=f8.split(",")[0].trim();if(f8[0]=="\"")f8=f8.slice(1);if(f8[f8.length-1]=="\"")f8=f8.slice(0,f8.length-1);
var k8=f8+":"+(dX?dX:"normal"),g$={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(g$[k8])fe.bB(gj,g$[k8]);else fe.bB(gj,f8)}if($["text-anchor"])gj.bp.Justification=["start","end","middle"].indexOf($["text-anchor"]);
fe.Bi(gi,0,h9.length,gj);if(cJ==null||cJ=="none"){}else{var ch=JSON.parse(iR.lC[iR.order.indexOf("FrFX")]);
ch.Clr.v=e.G.e1(CSS.HQ(cJ));ch.Sz.v.val=Math.round(parseFloat(aO)*gb.gz());z(E,"frameFXMulti",ch)}t.R.push(E)}else if(m=="image"){var hR=T(Q);
if(hR&&hR.slice(0,4)=="data"){var ib=eu.ML(hR),eo=ib,iP=t.to(eo,E.getName(),0,0);iP.Yo=E.Yo;E=iP;var d0=E.rect.clone();
d0.x=d0.y=0;var d6=Q.getAttribute("width"),fc=Q.getAttribute("height");if(d6)d0.q=parseFloat(d6);if(fc)d0._=parseFloat(fc);
var kL=H(Q);kL.concat(B);var hC=e.a.R2(d0).i;e.a.h(hC,kL,hC);E.add.SoLd.Trnf=N.DH.Co(hC);E.add.SoLd.nonAffineTransform=N.DH.Co(hC);
E.w2(t,!1);t.R.push(E)}}else console.log("unknown tag: "+m,Q.children.length,Q.textContent.length);if(K!=null){t.R.push(K);
F--}}}function z(U,W,t){var _=U.add.lmfx;if(_==null){var _=U.add.lmfx=JSON.parse(iR.default);for(var I=0;
I<iR.order.length;I++)_[iR._7[I]]={t:"VlLs",v:[]}}_[W].v.push({t:"Objc",v:t})}function S(U,W,t,_,n){var y=[{type:6},{type:8,all:0}],F=o(t);
if(F=="use"){var a=T(t),V=W.getElementById(a.slice(1)),D=new ar;if(o(V)!="rect")D=H(V);D.concat(C(V));
y=S(U,W,V,_,n);e.n.G9(y,D)}else if(F=="path"){var l=t.getAttribute("d");if(l==null)return y;var Q=Typr.U.SVGToPath(l);
y=e.a.B6({i:Q.crds,LG:Q.cmds},_,n)}else if(F=="rect"){var m=t.getAttribute("rx"),R=new eD(0,0);O("x",t,U,R,!0);
O("y",t,U,R,!1);var $=new eD(0,0);O("width",t,U,$,!0);O("height",t,U,$,!1);y=e.n.fg.Rect(R.x,R.y,$.x,$.y,m?parseFloat(m):0)}else if(F=="circle"||F=="ellipse"){var p=[0,0,0,0],c=["cx","cy","rx","ry","r"];
for(var I=0;I<5;I++){var B=t.getAttribute(c[I]);if(B){B=parseFloat(B);if(I<4)p[I]=B;else p[2]=p[3]=B}}y=e.n.fg.nT(p[0]-p[2],p[1]-p[3],2*p[2],2*p[3])}else if(F=="polygon"||F=="polyline"||F=="line"){var Z;
if(F=="line")Z=[t.getAttribute("x1"),t.getAttribute("y1"),t.getAttribute("x2"),t.getAttribute("y2")].map(parseFloat);
else Z=t.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
y=e.n.fg.E2(Z,0,F!="polygon")}return y}function k(U,W){if(U.charAt(U.length-1)=="m")return W*parseFloat(U.slice(0,U.length-2));
else return parseFloat(U)}function f(U,W,t,_,n){var y,F,a,V=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]),D=e.n.$s(_),l=W!=null?W.indexOf("("):-1;
if(l!=-1){var Q=W.indexOf(")"),m=W.slice(0,l).trim(),R=W.slice(l+1,Q).trim();if(R.charAt(0)=="'")R=R.slice(1,R.length-1);
if(m=="url"){if(R.charAt(0)=="#"){var $=U.getElementById(R.slice(1));if($&&o($).toLowerCase().endsWith("gradient")){a=Y(U,$,t,D,_);
var p=gn.ni(a,_);y="GrFl";F={t:"Objc",v:p}}else if($&&o($).toLowerCase()=="pattern"&&$.children[0]&&o($.children[0])=="use"){y="SoFi";
F={t:"Objc",v:V};var c=$.children[0],B=C(c),Z=T(c),v=U.getElementById(Z.slice(1)),E=eu.ML(T(v)).buffer,g=eu.oi(eu.IL(E)),u=g.mJ(E)[0],j={};
j.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";j.name="someImage";j.kR=[new Uint8Array(u.data),u.pv];n.dO(j);
var V=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]);V.Scl.v.val=Math.round(100*D.q*B.F);var A=V.phase.v;
A.Hrzn.v=Math.round(D.x+B.$X*D.q);A.Vrtc.v=Math.round(D.y+B.Ar*D._);V.Ptrn.v.Idnt.v=j.id;y="patternFill";
F={t:"Objc",v:V}}else{y="SoFi";F={t:"Objc",v:V}}}else console.log("unknown url",R)}else if(m=="rgb"||m=="rgba"||m=="hsla"){y="SoFi";
F={t:"Objc",v:V};F.v.Clr.v=e.G.e1(CSS.HQ(W));if(m=="rgba"||m=="hsla")F.v.Opct.v.val=Math.round(100*parseFloat(W.split(",").pop()))}else console.log("unknown fill",W)}else{y="SoFi";
F={t:"Objc",v:V};var K=CSS.HQ(W);F.v.Clr.v=e.G.e1(K);if(K.F!=null)F.v.Opct.v.val=Math.round(100*K.F/255)}return{type:y,P:F,wm:a}}function C(U){var W=new ar,t=U.getAttribute("transform");
if(t)W=b(t);var _=U.getAttribute("style");if(_!=null){var n={};M(n,_,["transform"]);_=n.transform;if(_)W.concat(b(_))}return W}function H(U,W){var t=new ar,_=U.getAttribute("x"),n=U.getAttribute("y");
if(_)t.$X=parseFloat(_);else if(W)t.$X=W.$X;if(n)t.Ar=parseFloat(n);else if(W)t.Ar=W.Ar;return t}function b(U){var W=Typr.U.SVG.readTrnf(U);
return new ar(W[0],W[1],W[2],W[3],W[4],W[5])}function i(U,W){var t={},_="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var I=0;I<_.length;I++){var n=U.getAttribute(_[I]);if(n!=null&&n!="inherit")t[_[I]]=n}var y=U.getAttribute("class");
if(W!=null&&y!=null&&W["."+y]!=null)M(t,W["."+y],_);var F=U.getAttribute("id");if(W!=null&&F!=null&&W["#"+F]!=null)M(t,W["#"+F],_);
var a=U.getAttribute("style");if(a!=null)M(t,a,_);return t}function M(U,W,t){W=W.trim().split(";");for(var I=0;
I<W.length;I++){var _=W[I].split(":"),n=_[0]?_[0].trim():"",y=_[1]?_[1].trim():"";for(var F=0;F<t.length;
F++)if(n==t[F]&&y!="inherit")U[t[F]]=y}}function T(U){var W=U.getAttribute("xlink:href");if(W==null)W=U.getAttribute("href");
if(W==null)W=U.getAttribute("xl:href");return W}function O(U,W,t,_,n){var y=W.getAttribute(U);if(y==null)return;
var F=parseFloat(y);if(y.endsWith("%"))F*=(n?t.q:t._)/100;if(n)_.x=F;else _.y=F}function Y(U,W,t,_,n){var y=O,F=new ar,a=W.getAttribute("gradientTransform"),R=!1;
if(a)F=b(a);F.concat(t);var V=o(W)=="linearGradient"?0:1,D=new eD(0,0),l=new eD(_.q,0),Q=D.clone();if(V==0){var m=new fA(0,0,1,1);
y("x1",W,m,D,!0);y("y1",W,m,D,!1);y("x2",W,m,l,!0);y("y2",W,m,l,!1);Q.Mx(D.x,D.y)}if(V==1){if(W.getAttribute("cx"))D.x=parseFloat(W.getAttribute("cx"));
if(W.getAttribute("cy"))D.y=parseFloat(W.getAttribute("cy"));l.Mx(D.x,D.y);Q.Mx(D.x,D.y);if(W.getAttribute("r"))l.x+=parseFloat(W.getAttribute("r"));
if(W.getAttribute("fx"))Q.x=parseFloat(W.getAttribute("fx"));if(W.getAttribute("fy"))Q.y=parseFloat(W.getAttribute("fy"))}var $=W;
while(!0){if($.getAttribute("gradientUnits")=="userSpaceOnUse")R=!0;var p=T($);if(p==null)break;$=U.getElementById(p.slice(1))}if(!R)F=new ar(_.q,0,0,_._,_.x,_.y);
F=gn.WB(D,l,F);var c=gn.MP(V,F,n);gn.Nk(c,D,l,Q);var B=W.children,Z=c[1]=[];if(B.length==0){var v=T(W);
if(v==null)throw"gradient has no stops";var E=U.getElementById(v.slice(1));if(E==null){console.log(v.slice(1))}else Z=c[1]=Y(U,E,F,_,n)[1]}else for(var I=0;
I<B.length;I++){var g=B[I],u=i(g),j=u["stop-color"],A=u["stop-opacity"],K=g.getAttribute("offset");if(j==null)j="#000000";
A=A==null?1:parseFloat(A);var s=K?parseFloat(K):0;if(K&&K.endsWith("%"))s/=100;j=CSS.HQ(j);if(j.F!=null)A*=j.F/255;
Z.push([s,[j.$/255,j.H/255,j.b/255],parseFloat(A),.5])}return c}return{M3:P}}();cU.q0=function(){var o=null,P="",w="",x;
function z(D,l,Q,m){var R=[],B=" { ",Z=" } ",v=!1;o=l;w=l.mE?"":"\t";P=l.mE?"":" ";var $=l.afZ,p=l.avO;
x=bn==0?new fA(0,0,D.q,D._):D.A_();if(m!=null){x=D.root.children[m].r.sK();$=x.q;p=x._}R.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[x.x,x.y,x.q,x._].join(" ")+"\" width=\""+$+"\" height=\""+p+"\">");
if(!l.mE)R.push(S(1)+"<title>"+t(D.name.split(".")[0])+"</title>");var c={pI:[],Si:[],IC:0,iM:0,Bo:0,$Z:{},L$:{},VH:0,qB:{},aiV:{},Lw:0,v7:[]};
O(D,c,D.root.children,1,l,Q,m);if(c.pI.length!=0){R.push(S(1)+"<defs>");R=R.concat(c.pI);R.push(S(1)+"</defs>")}R.push(S(1)+"<style>");
if(l.mE){B="{";Z="}"}for(var I=0;I<D.R.length;I++)if(D.R[I].add.TySh)v=!0;if(v&&!l.anq&&!l.aoA)R.push(S(2)+"tspan"+B+"white-space:pre"+Z);
for(var E in c.qB)R.push(S(2)+"."+E+B+c.qB[E]+Z);R.push(S(1)+"</style>");R=R.concat(c.Si);R.push("</svg>");
R=R.join(l.mE?"":"\n");return L.$f(R)}function S(eK){var D="";for(var I=0;I<eK;I++)D+=w;return D}function k(eK,D){if(D==null)D=1;
var l=""+parseFloat(eK.toFixed(D));if(l.startsWith("0."))l=l.slice(1);return l}function f(D,l){var Q=D.add.lmfx;
if(Q)Q=Q[l].v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;return Q}function C(D,l){var Q=f(D,"frameFXMulti");
if(Q){var m=Q.Sz.v.val;if(Q.Styl.v.FStl=="OutF"){l.push("paint-order:stroke fill markers");m*=2}T(l,CSS.pK(Q.Clr.v),1);
if(m!=1)l.push("stroke-width: "+m);l.push("stroke-linejoin: round;")}}var H="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function b(D){var l=H.length,Q="";for(var m=1;m<10;m++){var R=(l-10)*~~Math.pow(l,m-1);if(D<R){for(var I=0;
I<m;I++){var $=I==m-1?10:0,p=l-$,c=D%p;Q=H[c+$]+Q;D=Math.floor((D-c)/p)}break}D-=R}return Q}function i(D,l,Q,m){if(D.length!=0){if(m==null)m="s";
var R=D.join(";"),$=l.aiV[R];if($==null){$=o.mE?b(l.Lw):m+l.Lw;l.Lw++;l.aiV[R]=$;l.qB[$]=R}if(Q)Q.push($);
return $}}function M(D){if(o.mE&&D.length==7&&D[0]=="#"){if(D[1]==D[2]&&D[3]==D[4]&&D[5]==D[6])D="#"+D[1]+D[3]+D[5]}return D}function T(D,l,Q){l=M(l);
if(l!="#000"||Q==1)D.push((Q==0?"fill:":"stroke:")+P+l)}function O(D,l,Q,m,R,$,p){var c=!1;for(var B=0;
B<Q.length;B++){var Z=Q[B].r,v=Z.add.lsct;if(Z.u_)continue;if(Z.add.artb&&p!=null&&B!=p)continue;if(!Z.gH&&Q[B+1]&&Q[B+1].r.gH&&Z.aj()&&Z.add.vmsk){var E=[];
n(Z,Z.add.vmsk,l,E);l.Si.push(S(m)+"<g "+E[0]+">");m++;c=!0}else if(!Z.gH&&Q[B-1]&&Q[B-1].r.gH&&c){m--;
l.Si.push(S(m)+"</g>");c=!1}var g=Z.add.vmsk,u=Z.add.vogk,j=Z.add.vstk,A=Z.add.TySh;if(g&&!g.isEnabled)g=j=null;
var K=[];if(!R.hidden&&!Z.ny())continue;var s=Z.opacity/255,r=Z.add.iOpa?Z.add.iOpa/255:1;if(Z.Pe()){s*=r;
r=1}if(s!=1)K.push("opacity:"+P+k(s));if(r!=1)K.push("fill-opacity:"+P+k(r));if(Z.gS!="norm"){var h=jK.Sa[jK.gg.indexOf(Z.gS)];
if(h!=null)K.push("mix-blend-mode:"+P+h)}if(!Z.ny())K.push("display:"+P+"none");var E=[],jC=[],d=Z.getName(),q=d.indexOf(" .");
if(!R.mE)E.push("id=\""+t(d)+"\"");var hc=iO.a3O(Z.add.lmfx,Z.add),c6=hc[0],e3=hc[1],ks=Z.add.SoLd;if(ks&&ks.filterFX){var cH=ks.filterFX.v;
if(cH.enab.v&&cH.filterFXList.v.length!=0)ks=null}if(Z.Pe()){var bI=Q[B].children;if(bI.length==1&&bI[0].r.add.SoLd&&!R.FR){}else{var aR=g,ak=bI.length==0?null:bI[bI.length-1].r;
if(bn==1&&ak&&ak.u_&&ak.ny())aR=ak.add.vmsk;n(Z,aR,l,E);if(K.length!=0)E.push("style=\""+K.join(";")+"\"");
if(c6){var cN=CSS.pK(c6.Clr.v),gC="f"+l.iM;l.iM++;l.Si.push(S(m)+"<filter id=\""+gC+"\">");l.Si.push(S(m+1)+"<feFlood flood-color=\""+cN+"\" flood-opacity=\""+k(c6.Opct.v.val/100,2)+"\" />");
l.Si.push(S(m+1)+"<feBlend mode=\""+jK.Sa[jK.gg.indexOf(jK.RD(c6.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
l.Si.push(S(m+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");l.Si.push(S(m)+"</filter>");
E.push("filter=\"url(#"+gC+")\"")}var bD=W(E,jC),cu=R.mE&&bD=="";if(!cu)l.Si.push(S(m)+"<g"+(bD==""?"":" "+bD)+">");
O(D,l,bI,m+1,R,$);if(!cu)l.Si.push(S(m)+"</g>")}}else if(Z.aj()&&g==null){y(D,K,Z.add,l,x,R);if(K.length!=0)E.push("style=\""+K.join(";")+"\"");
l.Si.push(S(m)+"<rect width=\""+x.q+"\" height=\""+x._+"\" "+W(E,jC)+"/>")}else if(g&&ks==null){y(D,K,Z.add,l,hr,R,g.g);
i(K,l,jC);var du,bq=null,hn=0,aK;if(u.length!=0){du=u[0].v;bq=du.keyOriginType;if(bq)bq=bq.v;if(bq==2){var cQ=e.KH.LY(du);
hn=cQ[0];for(var I=0;I<3;I++)if(hn!=cQ[I+1])bq=null}}if(u.length==1&&bq==5&&Math.abs(e.KH.a65(du))<1e-4){var jR=e.KH.dj(du),ch=(jR[0]+jR[2])/2,bx=(jR[1]+jR[3])/2,jf=ch-jR[0],dW=bx-jR[1],bf=Math.abs(jf-dW)<.01,iu=bf?"r=\""+k(jf)+"\"":"rx=\""+k(jf)+"\" ry=\""+k(dW)+"\"";
aK="<"+(bf?"circle":"ellipse")+" "+W(E,jC)+" cx=\""+k(ch)+"\" cy=\""+k(bx)+"\" "+iu+"/>"}else if(u.length==1&&bq==2&&hn!=0&&Math.abs(e.KH.a65(du))<1e-4){var jR=e.KH.dj(du),dV=jR[0],gb=jR[1],gP=jR[2]-jR[0],eJ=jR[3]-jR[1],c1="";
if(dV!=0)c1+=" x=\""+k(dV)+"\"";if(gb!=0)c1+=" y=\""+k(gb)+"\"";c1+=" width=\""+k(gP)+"\"";c1+=" height=\""+k(eJ)+"\"";
c1+=" rx=\""+k(hn)+"\"";aK="<rect "+W(E,jC)+c1+"></rect>"}else{var ku,aC;if(bn==0){var gU=e.n.nW(g.g,1);
ku=gU.OE;aC=gU.Yz}else{var hR=e.a.IY(g.g);ku=Typr.U.pathToSVG({crds:hR.i,cmds:hR.LG},1);aC=g.Hv}if(aC!=0){E.push("fill-rule=\"evenodd\"")}aK="<path "+W(E,jC)+" d=\""+ku+"\"/>"}l.Si.push(S(m)+aK)}else if(A&&R.anq){P=R.mE?"":" ";
var a7=A.OY,dh=new c5(a7,$,A.cN),eS=null;if(c6)eS=CSS.pK(c6.Clr.v);if(e3){var jR=Z.rect.clone();V(e3,l,jR,R);
eS="url(#g"+l.IC+")"}if(eS)K.push("fill:"+P+eS);C(Z,K);var hR=eQ.GH(dh,A,!0),d0=e.a.e_(hR);for(var cJ in d0){var aO=K.slice(0),a9=jC.slice(0),ac=E.slice(0);
if(eS==null){T(aO,cJ.slice(0,7),0);if(cJ.length>7){var e7=eQ.aB4(cJ.slice(7));T(aO,a(e7.eJ),1);F(e7,aO,!0)}}i(aO,l,a9);
var b2=d0[cJ],jQ=Typr.U.pathToSVG({crds:b2.i,cmds:b2.LG},1);l.Si.push(S(m)+"<path "+W(ac,a9)+(R.mE?"":" "+U(A))+" d=\""+jQ+"\"/>")}}else if(A&&!R.aoA){var a7=A.OY,g9=A.h.clone(),eS=null;
K.push("transform:"+P+_(g9));var cx=fe.YJ(a7),dh=new c5(a7,$,A.cN);C(Z,K);if(K.length!=0)E.push("style=\""+K.join(";")+"\"");
l.Si.push(S(m)+"<text "+W(E,jC)+" >");if(c6)eS=CSS.pK(c6.Clr.v);if(e3){var jR=Z.rect.clone();jR.x-=g9.$X;
jR.y-=g9.Ar;V(e3,l,jR,R);eS=" url(#g"+l.IC+")"}for(var I=0;I<dh.bp.length;I++){var i8=dh.bp[I];if(i8.BR.length==1&&i8.BR[0].bv)continue;
for(var fw=0;fw<i8.D3.length;fw++){var hi=i8.D3[fw],bx=i8.gu.y+hi.gu.y,dU=i8.BR[hi.start].start,dv=i8.BR[hi.end-1].end,bo=fe.a6s(a7,dU,dv),fV="";
for(var ck=0;ck<bo.length;ck++){var h8=dh.aO(dU),fS=bo[ck],iS=fe.Zv(a7,dU,dU),fh=iS.Dm[iS.OR.Font].Name,cJ=fe.dQ(iS.OR.FillColor),h9=Math.round(iS.OR.FontSize),gi=cx.slice(dU,dU+fS);
if(iS.OR.FontCaps==2)gi=gi.toUpperCase();var dX=new ar;dX.translate(h8.sn.x,-bx);var f8=[];CSS.a9N(f8,iS,null,!0,!0,eS);
var kS=i(f8,l,null,"t");kS=kS?" class=\""+kS+"\"":"";var ch=h8.sn.x,jJ=Y(iS,gi);fV+="<tspan "+(ck==0?"x=\""+k(h8.sn.x)+"\"":"")+" y=\""+k(bx)+"\""+kS+jJ+">"+t(gi)+"</tspan>";
dU+=fS}l.Si.push(S(m+1)+fV)}}l.Si.push(S(m)+"</text>")}else if(ks&&R.FR&&c6==null){var gC=ks.Idnt.v,gj=0,k8=ks.Crop?ks.Crop.v:null;
if(l.L$[gC]!=null)gj=l.L$[gC];else{l.VH++;gj=l.VH;l.L$[gC]=l.VH;var g$=D.xM(gC,k8),iP="";if(g$==null)return;
var ib=g$.iT,eo=eu.IL(g$.raw.buffer);if(eo=="pdf"){var d6=new da("h");eu.oi("PDF").mJ(g$.raw.buffer,d6);
d6.GO();d6.TW();d6.N();d6.cj();if(ks.Crop&&ks.Crop.v==1){N.A0.De(d6,d6.root.q_(d6,!0))}var fc=eu.oi("SVG").D7(d6,d6.q,d6._,null,{v7:$});
iP="data:image/svg+xml;base64,"+eu.i_(fc)}else if(eo=="jpg"||eo=="png"||eo=="gif"||eo=="svg"){var kL={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
iP="data:"+kL[eo]+";base64,"+eu.i_(g$.raw.buffer)}else{iP=eu.iK(ib[0].buffer,ib[1].q,ib[1]._)}l.pI.push(S(2)+"<image width=\""+ib[1].q+"\" height=\""+ib[1]._+"\" id=\"img"+gj+"\" href=\""+iP+"\"/>")}var hC=e.W.dn(ks),em=[];
n(Z,g,l,em);if(em.length!=0)l.Si.push(S(m)+"<g "+W(em,jC)+">");if(K.length!=0)E.push("style=\""+K.join(";")+"\"");
var aS=W(E,jC);l.Si.push(S(m)+"<use "+aS+" href=\"#img"+gj+"\" transform=\""+_(hC)+"\"/>");if(em.length!=0)l.Si.push(S(m)+"</g>")}else if(!Z.rect.Mw()&&(R.FR||A)){if(K.length!=0)E.push("style=\""+K.join(";")+"\"");
var aS=W(E,jC),cY=Z.buffer;if(c6)cY=iO.a0b(cY,c6,Z.rect);var aC=Z.rect;l.VH++;var iP=eu.iK(cY.buffer,aC.q,aC._,"png",null,!0);
l.pI.push(S(2)+"<image "+U(A)+" width=\""+Z.rect.q+"\" height=\""+Z.rect._+"\" id=\"img"+l.VH+"\" href=\""+iP+"\"/>");
l.Si.push(S(m)+"<use "+aS+" href=\"#img"+l.VH+"\" x=\""+aC.x+"\" y=\""+aC.y+"\"/>")}}if(c){m--;l.Si.push(S(m)+"</g>");
c=!1}}function Y(D,l){var Q=D.OR.Tracking,m="";if(Q!=null&&Q!=0){Q=Math.round(Q*D.OR.FontSize/1e3);m=" dx=\"0";
for(var R=1;R<l.length;R++)m+=" "+Q;m+="\" "}return m}function U(D){if(D==null)return"";var l=D.OY,Q=fe.YJ(l);
Q=t(Q.slice(0,Q.length-1));return"aria-label=\""+Q+"\" "}function W(D,l){if(l.length!=0)D.push("class=\""+l.join(" ")+"\"");
return D.join(" ")}function t(D){return String(D).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function _(D){var l=[D.F,D.b,D.JJ,D.RL,D.$X,D.Ar];
for(var I=0;I<6;I++)l[I]=k(l[I],3);return"matrix("+l.join(",")+")"}function n(D,l,Q,m){if(l||D.add.artb){var R;
if(l)R=e.n.nW(l.g).OE;else{var $=D.sK(),p=e.a.R2($);R=Typr.U.pathToSVG({crds:p.i,cmds:p.LG},1)}Q.Bo++;
m.push("clip-path=\"url(#cp"+Q.Bo+")\"");Q.pI.push(S(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+Q.Bo+"\">");
Q.pI.push(S(3)+"<path d=\""+R+"\"/>");Q.pI.push(S(2)+"</clipPath>")}}function y(D,l,Q,m,R,$,p){var c=Q.vmsk,B=Q.lmfx,Z=[];
if(c&&c.yy!=0){var v=k(c.yy);if(m.$Z[v]==null){m.iM++;m.$Z[v]=m.iM;m.pI.push(S(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.iM+"\"> <feGaussianBlur stdDeviation=\""+v+"\"/> </filter>")}Z.push("url(#f"+m.$Z[v]+")")}if(B)for(var I=0;
I<iR.order.length;I++){var E=iR.order[I],g=iR._7[I],u=B[g].v;for(var j=0;j<u.length;j++){var A=u[j].v,K=A.classID;
if(!A.enab.v)continue;if(K=="OrGl"||K=="DrSh"){m.iM++;Z.push("url(#f"+m.iM+")");var s=0,r=0,h=A.blur.v.val/2.4,jC=A.Opct.v.val/100;
if(K=="DrSh"){var q=A.uglg&&A.uglg.v?D.t8():A.lagl.v.val;q=q*(Math.PI/180);var hc=A.Dstn.v.val;s=-Math.cos(q)*hc;
r=Math.sin(q)*hc}if(K=="OrGl")jC/=A.Inpr.v.val/100;var dk="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.iM+"\" >";
dk+="<feDropShadow dx=\""+s+"\" dy=\""+r+"\" stdDeviation=\""+h+"\" flood-color=\""+CSS.pK(A.Clr.v)+"\" flood-opacity=\""+k(jC)+"\"/>";
dk+="</filter>";m.pI.push(S(2)+dk)}}}if(Z.length!=0)l.push("filter:"+P+Z.join(" "));var c6=Q.vstl;if(c6==null)c6=da.TQ(Q,D);
for(var I=0;I<2;I++){var e3=I==0?c6.wm:c6.eJ;if(e3.length==0){if(I==0)l.push("fill:"+P+"none")}else if(e3.length==3)T(l,a(e3),I);
else{V(e3,m,R,$,p);T(l,"url(#g"+m.IC+")",I)}}if(c6.eJ.length!=0){F(c6,l)}}function F(D,l,Q){var m=D.UR,R=D.F0,$=D.dy,p=D.pu,c=D.iW;
if(p==2){if(!Q)$*=2;l.push("paint-order:stroke fill markers")}if(m!=0)l.push("stroke-linecap:"+P+["butt","round","square"][m]);
if(R!=0)l.push("stroke-linejoin:"+P+["miter","round","bevel"][R]);else if(D.Pm!=4)l.push("stroke-miterlimit:"+D.Pm);
if($!=1)l.push("stroke-width:"+P+k($));if(c.length!=0)l.push("stroke-dasharray:"+P+c.join(","))}function a(D){return CSS.A9({$:D[0]*255,H:D[1]*255,b:D[2]*255})}function V(D,l,Q,m,R){if(R==null)R=e.n.fg.Rect(Q.x,Q.y,Q.q,Q._);
if(!(D instanceof Array))D=gn.AF(D,R);l.IC++;var $=D[0],p=($==1?"radial":"linear")+"Gradient",c=S(2)+"<"+p+" id=\"g"+l.IC+"\"",B="";
if(m.mE){if(l.IC==1)l.pI.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");B=" href=\"#P\""}else B=" gradientUnits=\"userSpaceOnUse\"";
var Z=gn.a4(D,R),v=[new eD(0,0),new eD(1,0)];B+=" gradientTransform=\""+_(Z)+"\"";var E=m.mE?2:3;if($==0)l.pI.push(c+" x2=\"1\""+B+">");
if($==1){if(D[2][6]!=0){var g=D[2][5]*Math.PI/180,u=D[2][6];l.pI.push(c+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+k(Math.cos(g)*u,E)+"\" fy=\""+k(-Math.sin(g)*u,E)+"\""+B+">")}else l.pI.push(c+" cx=\"0\" cy=\"0\" r=\"1\""+B+">")}var j=D[1];
for(var I=0;I<j.length;I++){var A=j[I],K=A[0],s=A[1],r=A[2];r=r==1?"":" stop-opacity=\""+k(r,E)+"\"";
var h=K==0&&m.mE?"":" offset=\""+k(K,E)+"\"",jC=a(s);jC=m.mE&&jC=="#000000"?"":" stop-color=\""+M(jC)+"\"";
l.pI.push(S(3)+"<stop"+h+jC+r+"/>")}l.pI.push(S(2)+"</"+p+">")}cU.zu=_;return z}();cU.fg=function(o,P,w,x,z){var S=[],k=cU.fg,f=!1,C={V:o,Y:P,sN:[!0,!0,!0],k3:!1,Zs:w,atj:0};
C.CF=Math.round(Math.max(o,P)*(.02+k.o8(C)*.03));C.iw=k.a0E(C);C.WY=k.apm(C.iw,(k.o8(C)<.5?-1:1)*(.2+k.o8(C)*.3));
if(k.o8(C)<.5){var H=C.iw;C.iw=C.WY;C.WY=H}C.asN=k.o8(C)<.4&&k.ay4(C.WY,{$:1,H:1,b:1})>.3;C.adi=k.o8(C)<.5?0:1;
S.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+o+" "+P+"\" width=\""+o+"\" height=\""+P+"\">");
C.R3=x[Math.floor(k.fN(C)*x.length)];C.sk=x[Math.floor(k.fN(C)*x.length)];S.push("<style>");S.push("@font-face {  font-family: "+C.R3[2]+";  src: url("+jM.$D("rsrc/fonts/")+C.R3[5]+");  }");
S.push("@font-face {  font-family: "+C.sk[2]+";  src: url("+jM.$D("rsrc/fonts/")+C.sk[5]+");  }");S.push("</style>");
var b=[0,0,o,P],i=b;if(z==null)S.push("<path style=\"fill: "+k.wU(C.iw)+"\" d=\""+k.Rect(b[0],b[1],b[2]-b[0],b[3]-b[1])+"\" id=\"Background\" />");
else{C.k3=!0;k.afo(C,b,S,z)}if(k.o8(C)<.25&&!C.k3){C.sN[0]=C.sN[2]=!1;k.a7i(b,C,S);i=b}else if(k.o8(C)<.25||C.k3)i=b;
else{var M=.52+k.o8(C)*.2;if(k.o8(C)<.5)M=1-M;var T=b.slice(0),O=b.slice(0);if(k.o8(C)<.5)T[2]=O[0]=Math.round(M*o);
else T[3]=O[1]=Math.round(M*P);if(k.o8(C)<.5){var H=T;T=O;O=H}i=T;k.asj(C,O,S,z)}k.aha(C,i,S);S.push("</svg>");
S=S.join("\n");var Y=e.U(Math.round(S.length*1.5)),U=L.zl(S,Y,0);return[Y.buffer.slice(0,U),C.yp]};cU.fg.a7i=function(o,P,w){var x=cU.fg,z=o[2]-o[0],S=o[3]-o[1];
if(x.o8(P)<.5){w.push("<path id=\"Border\" style=\"fill: "+x.wU(P.WY)+"\" d=\""+x.aEa(o[0],o[1],o[2]-o[0],o[3]-o[1],P.CF)+"\" />")}else{var k=x.o8(P)<.5?0:1,f=(k==0?S:z)/4,C=x.U8(P,k,o,w,f,!0),C=x.U8(P,k+2,o,w,f,!0,C)}};
cU.fg.aha=function(o,P,w){var x=cU.fg,z="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),S=2*Math.floor(x.o8(o)*z.length/2),k=P[2]-P[0],f=P[3]-P[1],H=0,i=0;
o.iI=(o.V+k)*.5*(.04+x.o8(o)*.05);o.iI=Math.min(o.iI,f*.4,k*.12);o.iI=Math.round(o.iI);var C=Math.min(o.iI*z[S].length*(.35+.3*x.o8(o)),k*.9),b=(P[1]+P[3])/2,M=e.GQ(o.iw)<.85?{$:1,H:1,b:1}:{$:.1,H:.1,b:.1};
if(x.o8(o)<.25&&o.sN[0]){i=0;H=P[0]+o.CF}else if(x.o8(o)<.33&&o.sN[2]){i=2;H=P[2]-o.CF}else{i=1;H=(P[0]+P[2])/2}var T=M.$==1?"0,0,0":"255,255,255",O=o.k3&&x.o8(o)<1;
if(O){var Y=P[0],U=k,W=b-o.iI*1.1,t=o.iI*2.2,_=.7;if(i==1&&x.o8(o)<.5){Y=W=.2*Math.min(k,f);U=k-2*W;
t=f-W-W}else if(x.o8(o)<.7){Y=W=0;U=k;t=f;_=.25}w.push("<path id=\"Strip\" style=\"fill: rgb("+T+"); opacity: "+_+"\" d=\""+x.Rect(Y,W,U,t)+"\" />")}if(x.o8(o)<.4){var n=o.iI*.07;
n*=1.5+x.o8(o)*1;if(i==-1&&k/f<3&&!O){w.push("<path id=\"Bar-bottom\" style=\"fill: "+x.wU(M)+"\" d=\""+x.Rect(H-C/2,b+o.iI*1.1-n/2,C,n)+"\" />");
w.push("<path id=\"Bar-top\"    style=\"fill: "+x.wU(M)+"\" d=\""+x.Rect(H-C/2,b-o.iI*1.1-n/2,C,n)+"\" />")}if(i!=1){w.push("<path id=\"Bar\" style=\"fill: "+x.wU(M)+"\" d=\""+x.Rect(H-n/2,b-o.iI*.8,n,o.iI*.8*2)+"\" />");
H+=(i==0?1:-1)*o.iI/3}}var y=o.iI*.4;w.push(x.a6m(z[S+1],H,b+y*1.6,y,M,i,o.sk));w.push(x.a6m(z[S],H,b+o.iI*.04,o.iI,M,i,o.R3))};
cU.fg.asj=function(o,P,w,x){var z=P[2]-P[0],S=P[3]-P[1],k=Math.max(z,S),f=Math.min(z,S),C=cU.fg;if(k/f<5&&!o.k3&&!1){C.afo(o,P,w,x)}else if(C.o8(o)<0)w.push("<path style=\"fill: "+C.wU(o.WY)+"\" d=\""+C.Rect(P[0],P[1],z,S)+"\" />");
else{var H=0;if(P[3]!=o.Y)H=0;if(P[2]!=o.V)H=3;if(P[0]!=0)H=1;if(P[1]!=0)H=2;var b=H+2&3;if(k/f<3){var i=C.axG(b),M=i[Math.round(C.o8(o)*(i.length-1))],T=M.uD.slice(0,4),O=T.indexOf(1);
M=JSON.parse(JSON.stringify(M));var Y=-1;if(T!="0000"){var U=new ar;if(M.uD[5]=="0"){if(O==3&&H==1){Y=1;
U.scale(-1,1)}else Y=O}else{var W=b;while(W==b)W=Math.floor(C.o8(o)*4)&3;U.rotate((-O+W)*Math.PI/2)}C.h(M,U)}var t=C.w4(M),_=z-2*o.CF,n=S-2*o.CF;
if(Y!=-1){if((Y&1)==0)n-=o.CF;else _-=o.CF}var y=Math.min(_/t.q,n/t._),F=new ar;F.translate(-t.x,-t.y);
F.scale(y,y);var a=(z-t.q*y)/2,V=(S-t._*y)/2;if(Y!=-1){if(Y==3)a=0;if(Y==0)V=0;if(Y==1)a=z-t.q*y;if(Y==2)V=S-t._*y}F.translate(P[0]+a,P[1]+V);
C.Qy(o,M,F,o.WY,w)}else{C.U8(o,H,P,w,1e9)}}};cU.fg.afo=function(o,P,w,x){var z=P[2]-P[0],S=P[3]-P[1],k=Math.max(z,S),f=Math.min(z,S),C=cU.fg,H=C.fN(o),b,i,M,T=x[0]instanceof ArrayBuffer;
if(T){b="data:image/jpg;base64,"+b_.Jo(x[0]);i=x[1];M=x[2]}else{var O=Math.floor(H*x.length),Y=x[O];
o.yp=Y;b=Y.webformatURL;i=Y.webformatWidth;M=Y.webformatHeight}var U=P[0],W=P[1],t=z,_=S;if(z/S>i/M){_=t*M/i;
W=W-(_-S)/2}else{t=_*i/M;U=U-(t-z)/2}if(T){w.push("<defs>");w.push("<image width=\""+i+"\" height=\""+M+"\" id=\"Background\" href=\""+b+"\" />");
w.push("</defs>");var n=t/i;w.push("<use href=\"#Background\" transform=\""+cU.zu(new ar(n,0,0,n,U,W))+"\" />")}else{var y="cp"+Math.random();
w.push("<clipPath id=\""+y+"\">");w.push("<path style=\"fill: "+C.wU(o.WY)+"\" d=\""+C.Rect(P[0],P[1],z,S)+"\" />");
w.push("</clipPath>");w.push("<image  clip-path=\"url(#"+y+")\" xlink:href=\""+b+"\" x=\""+U+"\" y=\""+W+"\" width=\""+t+"\" height=\""+_+"\" />")}};
cU.fg.a6m=function(o,P,w,x,z,S,k){var f=cU.fg;return"<text x=\""+P+"\" y=\""+w+"\" style=\"fill:"+f.wU(z)+"; font-size:"+x+"px; text-anchor:"+["start","middle","end"][S]+"; font-family:"+k[2]+";\"><tspan>"+o+"</tspan></text>"};
cU.fg.Qy=function(o,P,w,x,z){var S=cU.fg,k=[];for(var I=0;I<P.Qo.length;I++){k.push(x);if(o.asN){x=(I&1)==o.adi?{$:1,H:1,b:1}:k[0]}}z.push("<g id=\""+P.uD.split("-")[2]+":::\" style=\"transform: "+cU.zu(w)+";\" >");
for(var I=0;I<P.Qo.length;I++){var f=P.Qo[I];x=k.pop();z.push("<path style=\"fill: "+(x?S.wU(x):"#"+f[0])+"\" d=\""+Typr.U.pathToSVG({crds:f[1].i,cmds:f[1].LG})+"\" />")}z.push("</g>")};
cU.fg.azD=function(){if(SHPS[0].uD)return;for(var I=0;I<SHPS.length;I++){var o=SHPS[I],P=o[1],w=[];for(var x=0;
x<P.length;x++){var z=P[x],S=Typr.U.SVGToPath(z[1]);w.push([z[0],{LG:S.cmds,i:S.crds}])}SHPS[I]={uD:o[0],Qo:w}}};
cU.fg.axG=function(o){var P=SHPS;cU.fg.azD();var w=[];for(var I=0;I<P.length;I++){var x=P[I],z=x.uD.slice(0,4);
if(z=="0000"){w.push(x);continue}if(["1000","0100","0010","0001"].indexOf(z)==-1)continue;var S=z.indexOf("1");
if(x.uD[5]=="0"&&o==S&&S!=3)continue;w.push(x)}return w};cU.fg.U8=function(o,P,w,x,z,S,k){var f=SHPS,t,_;
cU.fg.azD();var C=cU.fg,H=[];for(var I=0;I<f.length;I++){var b=f[I],i=b.uD.slice(0,4);if(["1110","1101","1011","0111"].indexOf(i)==-1)continue;
var M=i.indexOf("0")+2&3;if(b.uD[5]=="0")if(S==!0||P!=M&&!(P==1&&M==3))continue;H.push(b)}var T=k!=null?k:Math.floor(C.o8(o)*H.length),b=H[T],b=JSON.parse(JSON.stringify(b)),i=b.uD.slice(0,4),M=i.indexOf("0")+2&3;
if(M==3&&P==1)e.h(b,new ar(1,0,0,-1,0,1e3));var O=new ar;O.translate(-500,-500);O.rotate(-M*Math.PI/2);
O.translate(500,500);C.h(b,O);var Y=w[3]-w[1],U=w[2]-w[0],W=C.w4(b);if(W.y<0){W._+=W.y;W.y=0}if(W.y>0){W._+=W.y;
W.y=0}if((P&1)==0){_=Y;t=U}else{t=Y;_=U}var n=Math.min(Math.min(.5+.5*C.o8(o))*Math.min(U,Y),z)/W._,y=Math.ceil(t/(1e3*n)),F=new ar,a=new ar;
a.scale(n,n);if(P==0||P==2){a.translate(-(U/2),-(Y/2));a.rotate(-P*Math.PI/2);a.translate(U/2+w[0],Y/2+w[1])}else{a.rotate(Math.PI/2);
a.scale(1,-1);a.translate(w[0],w[1]);if(P==1){a.scale(-1,1);a.translate(U,0)}}x.push("<g id=\"Border-"+["top","right","bottom","left"][P]+":::\">");
for(var I=0;I<y;I++){var V=F.clone();V.concat(a);C.Qy(o,b,V,o.WY,x);F.translate(1e3-2,0)}x.push("</g>");
return T};cU.fg.Rect=function(o,P,w,x){return Typr.U.pathToSVG({crds:[o,P,o+w,P,o+w,P+x,o,P+x],cmds:["M","L","L","L","Z"]})};
cU.fg.aEa=function(o,P,w,x,z){var S=[o,P,o+w,P,o+w,P+x,o,P+x];o+=z;P+=z;w-=2*z;x-=2*z;S.push(o,P,o,P+x,o+w,P+x,o+w,P);
return Typr.U.pathToSVG({crds:S,cmds:"M L L L Z M L L L Z".split(" ")})};cU.fg.apm=function(o,P){var w=e.Rs(o.$,o.H,o.b);
w.h8=Math.max(.1,Math.min(.9,w.h8+P));return e.yN(w.Y,w.zp,w.h8)};cU.fg.a7C=function(o,P){var w=e.Rs(o.$,o.H,o.b);
w.Y+=P;return e.yN(w.Y,w.zp,w.h8)};cU.fg.aBT=function(o){var P=e.Rs(o.$,o.H,o.b);P.h8=1-P.h8;return e.yN(P.Y,P.zp,P.h8)};
cU.fg.ay4=function(o,P){var w=o.$-P.$,x=o.H-P.H,z=o.b-P.b;return Math.sqrt(w*w+x*x+z*z)};cU.fg.a0E=function(o){var P=cU.fg;
return{$:P.o8(o),H:P.o8(o),b:P.o8(o)}};cU.fg.wU=function(o){return CSS.A9({$:o.$*255,H:o.H*255,b:o.b*255})};
cU.fg.w4=function(o){var P=o.Qo,w=new fA;for(var I=0;I<P.length;I++)w=w.It(e.a.w4(P[I][1].i));return w};
cU.fg.h=function(o,P){var w=o.Qo;for(var I=0;I<w.length;I++)e.a.h(w[I][1].i,P,w[I][1].i)};cU.fg.o8=function(o){o.atj++;
var P=o.atj&3;if(P==0)o.Zs=cU.fg.NS(o.Zs);var w=o.Zs>>>8*P&255;return w*(.99999999/255)};cU.fg.fN=function(o){var P=cU.fg.NS(o.Zs);
o.Zs=cU.fg.NS(P);return P*(1/4294967295)};cU.fg.NS=function(o){o=(o^61^o>>>16)>>>0;o=o+(o<<3)>>>0;o=(o^o>>>4)>>>0;
o=o*668265261>>>0;o=(o^o>>>15)>>>0;return o};var as={};as.parse=function(o){var P=new Uint8Array(o),w=null;
if(P[0]==80&&P[1]==75){var x=Date.now(),z=UZIP.parse(P.buffer),w=z["document.json"];w=JSON.parse(L.bR(w,0,w.length));
as.NH(w,z)}else{var S=gB.parse(o);w=as.amF(S[2][0][1])}return w};as.NH=function(o,P){var w=typeof o;
if(w=="string"||w=="number"||w=="boolean"||o==null)return o;if(o instanceof Array){for(var I=0;I<o.length;
I++)o[I]=as.NH(o[I],P);return o}var x=o._class;if(x==null)return o;if(x=="MSJSONFileReference"){var z=o._ref;
if(!1){}else if(P[z+".json"]!=null){var S=P[z+".json"],k=S.length;for(var I=0;I<k;I++)if(S[I]==11||S[I]==3)S[I]=32;
var f=L.bR(S,0,k);o=JSON.parse(f)}else if(P[z+".png"]!=null)return{key:z.split("/").pop(),bdata:P[z+".png"]};
else if(P[z+".jpg"]!=null)return{key:z.split("/").pop(),bdata:P[z+".jpg"]};else if(P[z+".pdf"]!=null)return{key:z.split("/").pop(),bdata:P[z+".pdf"]};
else if(P[z]!=null)return{key:z.split("/").pop(),bdata:P[z]};else{console.log(o,P);return}}else if(x=="MSAttributedString"){var f=atob(o.archivedAttributedString._archive),C=f.length,H=new Uint8Array(C);
for(var I=0;I<C;I++)H[I]=f.charCodeAt(I);o.archivedAttributedString=as.amF(H)}for(var b in o)o[b]=as.NH(o[b],P);
return o};as.ae6=function(o,P,w,x,z){if(o instanceof Uint8Array)return null;if(x.indexOf(o)!=-1)return null;
x.push(o);if(o==P)return w;for(var S in o){w.push(S);var k=as.ae6(o[S],P,w,x,z);if(k){console.log(o,k);
throw"e"}w.pop()}};as.amF=function(o){var P=i2.parse(o,0),w=P.$objects,x=new Uint8Array(w.length),z=as.Uu(w,x,P.$top.root);
for(var I=0;I<w.length;I++)if(x[I]==0&&I!=0){console.log(I,w[I]);as.ae6(z,I,[],[],typeof w[I])}for(var I=0;
I<w.length;I++){var S=w[I];if(S._class&&(S._class=="bitmap"||S._class=="fill"&&S.fillType==4&&(S.image||S.imageSHA))){var k=S.image,f=S.imageSHA,C=null,H=null;
if(k=="$null")k=null;if(f=="$null")f=null;if(k&&k.data){H=k.sha1["NS.bytes"];H=btoa(L.AW(H,0,H.length));
C=k.data instanceof Uint8Array?k.data:k.data["NS.bytes"]}else if(k==null&&f==null){var b=eu.oi("PNG").D7([[e.U(4).buffer]],1,1);
C=new Uint8Array(b)}else{var i=(z.assets?z.assets.imageCollection:z.images).images;if(f)H=f instanceof Uint8Array?f:f["NS.bytes"];
else H=k.sha1["NS.bytes"];H=btoa(L.AW(H,0,H.length));var C=i[H].data;if(C["NS.bytes"])C=C["NS.bytes"]}C=new Uint8Array(C.buffer.slice(C.byteOffset,C.byteOffset+C.length));
delete S.imageSHA;S.image={key:H,bdata:C}}}return z};as.a07=function(o){return o.slice(0,11)=="MSImmutable"?"MS"+o.slice(11):o};
as.Uu=function(o,P,w){var x=o[w];if(P[w]==1){return x}P[w]=1;if(typeof x=="string")return x;if(typeof x=="number")return x;
if(typeof x=="boolean")return x;if(x instanceof Array)return x;if(x instanceof Uint8Array){return x}if(o[x.$class]==null){if(x.$class==null&&x["NS.data"]!=null)return x;
console.log(w,x);throw"e"}var z=o[x.$class],S=as.a07(z.$classname);P[x.$class]=1;x.$class=S;if(as.anS[S]){delete x.$class;
x._class=as.anS[S]}var k=as.Uu;if(S=="NSMutableArray"||S=="NSArray"){var f=[];if(x["NS.objects"]!=null)for(var I=0;
I<x["NS.objects"].length;I++)f.push(k(o,P,x["NS.objects"][I]));else for(var I=0;x["NS.object."+I]!=null;
I++)f.push(k(o,P,x["NS.object."+I]));o[w]=f;return f}if(S=="NSDictionary"||S=="NSMutableDictionary"){var C={$class:S};
if(x["NS.keys"]!=null)for(var I=0;I<x["NS.keys"].length;I++){var H=k(o,P,x["NS.keys"][I]);if(H instanceof Uint8Array)H=btoa(as._i.AW(H,0,H.length));
else if(typeof H!="string"&&typeof H!="number")H=btoa(as._i.AW(H["NS.bytes"],0,H["NS.bytes"].length));
C[H]=k(o,P,x["NS.objects"][I])}else for(var I=0;x["NS.key."+I]!=null;I++){var H=k(o,P,x["NS.key."+I]);
if(H instanceof Uint8Array)H=btoa(as._i.AW(H,0,H.length));else if(typeof H!="string"&&typeof H!="number")H=btoa(as._i.AW(H["NS.bytes"],0,H["NS.bytes"].length));
C[H]=k(o,P,x["NS.object."+I])}for(var b in x)delete x[b];for(var b in C)x[b]=C[b];return x}if(S=="NSURL")return{$class:S,base:k(o,P,x["NS.base"]),relative:k(o,P,x["NS.relative"])};
if(as.ayi.indexOf(S)!=-1){o[w]=k(o,P,x.array_do);return o[w]}if(x.do_objectID!=null)x.do_objectID=k(o,P,x.do_objectID);
if(as.aDX.indexOf(S)!=-1)return x;var i=as.am$[S];if(i==null){console.log(o,x);throw"unknown class "+S}for(var I=0;
I<i.length;I++)if(x[i[I]]!=null)x[i[I]]=k(o,P,x[i[I]]);if(S=="MSTextLayer"){var M=x,T,O,Y,U;if(M.attributedString)T=M.attributedString.archivedAttributedString;
else T=M.storage;U=T.NSString;if(typeof U!="string")U=L.bR(U["NS.bytes"],0,U["NS.bytes"].length);if(T.NSAttributeInfo)O=T.NSAttributeInfo["NS.bytes"];
else{var W=U.length,t=[];while(W>0){var _=Math.min(100,W);t.push(_,0);W-=_}O=new Uint8Array(t)}Y=T.NSAttributes instanceof Array?T.NSAttributes:[T.NSAttributes];
var n={$class:"NSAttributedString",NSString:U,NSAttributes:Y};M.attributedString={_class:"MSAttributedString",archivedAttributedString:n};
n.NSAttributeInfo={$class:"NSMutableData","NS.data":O};delete M.storage}return x};as._i={Vp:function(o,P){return o[P+1]<<8|o[P]},RS:function(o,P){return o[P+3]<<24|o[P+2]<<16|o[P+1]<<8|o[P]},AW:function(o,P,w){var x="";
for(var I=0;I<w;I++)x+=String.fromCharCode(o[P+I]);return x}};as.anS={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
as.ayi=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
as.aDX="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
as.am$={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var i2={};i2.parse=function(o,P){var w=L.AW(o,P,8);P+=8;var x=o.length-32,z=i2.parse.aaJ(o,x),S=[];if(z.gD==1){var P=x-z.gD*z.lQ;
for(var I=0;I<z.lQ;I++)S.push(o[P+I])}else if(z.gD==2){var P=x-z.gD*z.lQ;for(var I=0;I<z.lQ;I++)S.push(L.Vp(o,P+I*2))}else if(z.gD==4){var P=x-z.gD*z.lQ;
for(var I=0;I<z.lQ;I++)S.push(L.RS(o,P+I*4))}else{throw"e"}var k=i2.parse.Uu(o,S,z.root,z);return k};
i2.parse.Uu=function(o,P,w,x){var z=i2._i,S=x.abj,k=S==4?z.RS:S==2?z.Vp:z.aFi,f=i2.parse,C=P[w],H=o[C],b=H>>4,i=H&15,T=null;
C+=1;if([4,5,6,10,12,13].indexOf(b)!=-1&&i==15){var M=f.jS(o,C);C+=M.Za;i=M.P}if(!1){}else if(b==0)T=i==8?!1:i==9?!0:null;
else if(b==1)T=f.jS(o,C-1).P;else if(b==2)T=1<<i==4?L.Ki(o,C):L.Xv(o,C);else if(b==3)T=L.Xv(o,C);else if(b==4)T=new Uint8Array(o.buffer,C,i);
else if(b==5)T=L.AW(o,C,i);else if(b==6)T=L.qG(o,C,i);else if(b==8){T=0;for(var I=0;I<i+1;I++)T=T<<8|o[C+I]}else if(b==10){T=[];
for(var I=0;I<i;I++)T.push(f.Uu(o,P,k(o,C+S*I),x))}else if(b==12){T=[];for(var I=0;I<i;I++)T.push(f.Uu(o,P,k(o,C+S*I),x))}else if(b==13){T={};
for(var I=0;I<i;I++){var O=f.Uu(o,P,k(o,C+S*I),x),Y=f.Uu(o,P,k(o,C+S*(i+I)),x);T[O]=Y}}else throw"unknown mask "+b;
return T};i2.parse.jS=function(o,P){var w=1<<(o[P]&15),x=0;for(var I=0;I<w;I++)x=x<<8|o[P+1+I];return{P:x,Za:w+1}};
i2.parse.aaJ=function(o,P){var w={};P+=6;w.gD=o[P];P++;w.abj=o[P];P++;P+=4;w.lQ=L.RS(o,P);P+=4;P+=4;
w.root=L.RS(o,P);P+=4;P+=4;w.acm=L.RS(o,P);P+=4;return w};i2._i={aFi:function(o,P){return o[P]},Vp:function(o,P){return o[P]<<8|o[P+1]},RS:function(o,P){return o[P]<<24|o[P+1]<<16|o[P+2]<<8|o[P+3]},AW:function(o,P,w){var x="";
for(var I=0;I<w;I++)x+=String.fromCharCode(o[P+I]);return x}};var gB={parse:function(o){var P=new Uint8Array(o),w=gB.Fl(P),x=[],z=new Uint8Array(P.length),S=[];
x.push(S);gB.$q(P,w,1,z,S);for(var I=0;I<S.length;I++){var k=[];x.push(k);gB.$q(P,w,S[I][3],z,k,I==11);
S[I][3]=I+1}return x},$q:function(o,P,w,x,z,S){w--;var k=w*P.r$+(w==0?100:0),f=o[k],C=gB.Vp(o,k+1),H=gB.Vp(o,k+3),b=gB.Vp(o,k+5),M=0;
if(b==0)b=65536;var i=o[k+7];k+=8;if(f==2||f==5){M=gB.RS(o,k);k+=4}for(var T=0;T<H;T++){var O=w*P.r$+gB.Vp(o,k+2*T),Y=-1,U=0,W=0,t=0;
if(f==2||f==5){Y=gB.RS(o,O);O+=4}if(f==2||f==10||f==13){U=gB.OT(o,O);O+=U.Za}if(f==5||f==13){W=gB.OT(o,O);
O+=W.Za}if(f==2||f==5){gB.$q(o,P,Y,x,z,S);continue}var _=P.r$-(w==0?100:0),n=U.IN,y=f==13?_-35:Math.floor((_-12)*64/255)-23,F=Math.floor((_-12)*32/255)-23,a=F+(n-F)%(_-4);
if(n<=y){gB.L9(o,O,x,0,n)}else{var V=a<=y?a:F,D=0;gB.L9(o,O,x,0,V);D+=V;t=gB.RS(o,O+V);while(t!=0){var l=(t-1)*P.r$;
t=gB.RS(o,l);var Q=Math.min(P.r$-4,n-D);gB.L9(o,l+4,x,D,Q);D+=Q}}z.push(gB.asK(x,n))}if(M!=0)gB.$q(o,P,M,x,z,S)},asK:function(o,P){var w=0,x=gB.OT(o,w);
w+=x.Za;var z=[],S=[];while(w<x.IN){var k=gB.OT(o,w);w+=k.Za;z.push(k.IN)}if(w!=x.IN)throw"e";for(var I=0;
I<z.length;I++){var k=z[I];if(!1){}else if(k==0)S.push(null);else if(k==1){S.push(gB.axo(o,w));w+=1}else if(k==2){S.push(gB.$w(o,w));
w+=2}else if(k==3){S.push(gB.ahk(o,w));w+=3}else if(k==4){S.push(gB.jS(o,w));w+=4}else if(k==5){S.push(gB.RS(o,w+2));
w+=6}else if(k==6){S.push(gB.RS(o,w)+":"+gB.RS(o,w+4));w+=8}else if(k==7){S.push(gB.afh(o,w));w+=8}else if(k==8)S.push(0);
else if(k==9)S.push(1);else if(k>=12&&(k&1)==0){var f=k-12>>1,C=new Uint8Array(f);gB.L9(o,w,C,0,f);S.push(C);
w+=f}else if(k>=13&&(k&1)==1){var f=k-13>>1;S.push(gB.bR(o,w,f));w+=f}else throw"unknonw type "+k}return S},Fl:function(o){if(!(o[18]==1&&o[19]==1&&o[20]==0&&o[21]==64&&o[22]==32&&o[23]==32))throw"unexpected SQL3 header";
var P={kG:gB.AW(o,0,15),r$:gB.Vp(o,16),ank:gB.RS(o,24),size:gB.RS(o,28),arP:gB.RS(o,32),abJ:gB.RS(o,36),a3t:gB.RS(o,40),a2V:gB.RS(o,44),a8e:gB.RS(o,48),a4y:gB.RS(o,52),a9A:gB.RS(o,56),awz:gB.RS(o,60),a3v:gB.RS(o,64)!=0,al5:gB.RS(o,68),aaw:gB.RS(o,92),aFu:gB.RS(o,96)};
if(P.r$==1)P.r$=65536;if(P.a9A!=1)throw"unsupported text encoding "+P.a9A;return P},acN:function(o,P){return o[P]<<16|o[P+1]<<8|o[P+2]},ahk:function(o,P){var w=gB.acN(o,P),x=w&8388608;
return x?-(16777215-w+1):w},axo:function(o,P){gB.dG[0]=o[P];return gB.adF[0]},jS:function(o,P){var w=gB.dG;
for(var I=0;I<4;I++)w[I]=o[P+3-I];return gB.aAP[0]},$w:function(o,P){var w=gB.dG;w[0]=o[P+1];w[1]=o[P];
return gB.ayG[0]},Vp:function(o,P){return o[P]<<8|o[P+1]},RS:function(o,P){var w=gB.dG;for(var I=0;I<4;
I++)w[I]=o[P+3-I];return gB.as1[0]},afh:function(o,P){var w=gB.dG;for(var I=0;I<8;I++)w[I]=o[P+7-I];
return gB.anX[0]},OT:function(o,P){var w=P,eK=0;while(!0){var x=o[P];P++;eK=eK*128+(x&127);if(x<128)break}return{IN:eK,Za:P-w}},AW:function(o,P,w){var x="";
for(var I=0;I<w;I++)x+=String.fromCharCode(o[P+I]);return x},bR:function(o,P,w){var x="";for(var I=0;
I<w;I++)x+="%"+gB.afA(o[P+I].toString(16));try{x=decodeURIComponent(x);return x}catch(bF){return x}},L9:function(o,P,w,x,z){if(z!=0&&(o[P+z-1]==null||w[x+z-1]==null)){console.log(P,x,z);
throw"e"}for(var I=0;I<z;I++)w[x+I]=o[P+I]},afA:function(eK){return eK.length<2?"0"+eK:eK}};gB.dG=new Uint8Array(8);
gB.adF=new Int8Array(gB.dG.buffer);gB.ayG=new Int16Array(gB.dG.buffer);gB.aAP=new Int32Array(gB.dG.buffer);
gB.as1=new Uint32Array(gB.dG.buffer);gB.anX=new Float64Array(gB.dG.buffer);gB.a5k=function(o,P){var w=o[0],x={};
for(var I=0;I<w.length;I++){var z=w[I],S=z[1];if(z[0]!="table")continue;var k=z[4];k=k.slice(k.indexOf("(")+1,k.indexOf(")"));
k=k.split(",");for(var f=0;f<k.length;f++){var C=k[f].trim().split(" ")[0];if(P&&C.startsWith(S))C=C.slice(S.length);
k[f]=C}var H=x[S]=[],b=o[z[3]];for(var f=0;f<b.length;f++){var i=b[f],M={};H.push(M);for(var T=0;T<k.length;
T++){if(M[k[T]]!=null)throw"e";M[k[T]]=i[T]}}}return x};function jG(o,P,w){this.$n=o;this.tG=P;this.acM=w;
this.Ws=new eD(0,0);this.DK=-1;this.hZ=0;this.Jw=0;this.mR=new fA;this.Tp=[];this.WS=null;this.aAC=null;
this.I1=null;this.dP=null;this.C2=null;this.akW=null}jG.prototype.StartPage=function(o,P,w,x,z){var S=this.tG,k=S.gz(),f=1,C=(w-o)*(x-P);
if(z!=null)C=z;while(C*k*k/(f*f)>2*8192*8192)f++;S.scale(1/f,1/f);this.aAC=[o,P,w,x];var f=S.gz();o=Math.round(o*f);
P=Math.round(P*f);w=Math.round(w*f);x=Math.round(x*f);var H=this.$n,b=this.I1;if(b==null){S.$X=-o}else{var i=b[2]-b[0]+30,M=Math.round(w-o)+30;
if(this.Ws.x+i+M>8192){S.$X=-o;this.Ws.x=0;this.Ws.y+=this.Jw+120;this.Jw=0}else{S.$X+=i;this.Ws.x+=i}}S.Ar=this.Ws.y+(this.acM?x:-P);
this.Jw=Math.max(this.Jw,Math.round(x-P));this.I1=[o,P,w,x];this.aE$=[];H.R.push(H.VY())};jG.prototype.StartTGroup=function(o){this.FX();
var P=this.$n;P.R.push(P.VY());var w=jG.CQ[o.bmode];if(w==null)w="norm";var x=P._L();x.bx("<Group>");
x.add.lsct=jS.KC;x.gS=w=="norm"?"pass":w;x.Yo=24;x.opacity=Math.round(255*o.ca);this.aE$.push(x)};jG.prototype.EndTGroup=function(){this.$n.R.push(this.aE$.pop())};
jG.prototype.aBL=function(){var o=this.$n,P=o.R[o.R.length-1];return P};jG.prototype.alR=function(){var o=this.$n,P=o._L();
P.bx("Path "+o.R.length);this.$n.R.push(P);P.Yo|=16;P.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}};
P.add.vmsk=new X.tc;P.add.vstk=iR.Vq.bS();return P};jG.prototype.PP=function(o){var P={i:o.crds,LG:o.cmds},w=e.a.B6(P,!1);
e.n.G9(w,this.tG);return w};jG.aiz=function(o,P){for(var I=0;I<o.length;I++)if(o[I].Hv!=null)o[I].Hv=P};
jG.MO=function(o){return e.G.e1({$:o[0]*255,H:o[1]*255,b:o[2]*255})};jG.oV=function(o){return new ar(o[0],o[1],o[2],o[3],o[4],o[5])};
jG.prototype.Stroke=function(o){if(this.DK!=-1&&this.DK!=this.hZ)return;if(o.pth.cmds.length<=1)return;
var P=this.PP(o.pth),k=null;if(P.length<=2)return;this.nv(o);jG.aiz(P,-1);P[2].Hv=1;var w=this.aBL(),x=iR.Vq.bS(null,!0),z=o.ctm,S={};
jG.a6i(S,o);iR.Vq.write(x,S,Math.sqrt(Math.abs(z[0]*z[3]-z[1]*z[2]))*this.tG.gz());if(!(o.COLR instanceof Array)){k=e.a.w4(o.pth.crds);
var f=e.a.R2(k);e.a.h(f.i,this.tG,f.i);k=e.a.w4(f.i)}var C=jG.d_(o.COLR,this.tG,P),H=["SoFi","GrFl","patternFill"].indexOf(C.type),b=[iR.pL,iR.d$,iR.pg][H],i=x.strokeStyleContent.v={classID:iR.Vq.Fs[H]};
for(var I=0;I<b.length;I++)i[b[I]]=C.P.v[b[I]];var M=w!=null&&w.add.vmsk!=null&&!w.Pe(),T=M&&!w.add.vstk.fillEnabled.v&&JSON.stringify(x)==w.add.vsjs;
if(T){var O=w.add.vmsk.g;for(var I=2;I<P.length;I++)O.push(P[I])}else{var Y=M&&!w.add.vstk.strokeEnabled.v&&X.tc.ayS(w.add.vmsk.g,P,!0);
if(Y){w.add.vstk=x;x.fillEnabled.v=!0}else{w=this.alR();w.add.vmsk.g=P;w.add.vstk=x;w.add.vsjs=JSON.stringify(x)}}};
jG.a6i=function(o,P){o.dy=P.lwidth;o.Pm=P.mlimit;o.iW=P.dash.slice(0);o.f7=P.doff;o.F0=P.ljoin;o.UR=P.lcap;
o.pu=1};jG.QK=function(o,P){P.lwidth=o.dy*(o.pu==2?2:1);P.mlimit=o.Pm;P.doff=o.f7;P.ljoin=o.F0;P.lcap=o.UR;
P.sal=o.pu;P.dash=o.iW.slice(0);if(P.dash.length==1&&P.dash[0]==0)P.dash=[]};jG.prototype.Fill=function(o,P){if(this.DK!=-1&&this.DK!=this.hZ)return;
if(o.ca==0)return;var w=o.pth.cmds;if(w.length==0)return;if(w.length==2&&JSON.stringify(w)=="[\"M\",\"L\"]")return;
var x=e.a.w4(o.pth.crds),z=e.a.w4(o.cpth.crds);if(x.SN(z).Mw())return;var S=o.pth,k=UDOC.G.isBox(S,[x.x,x.y,x.x+x.q,x.y+x._]),f=o.cpth,C=UDOC.G.isBox(f,[z.x,z.y,z.x+z.q,z.y+z._]);
if(k&&C&&x.c()>z.c()*2){var H=x.SN(z),b=H.x,i=H.y,M=b+H.q,T=i+H._;S={cmds:["M","L","L","L","Z"],crds:[b,i,M,i,M,T,b,T]};
x=H}else if(this.dP==null&&UDOC.G.isBox(S,[x.x,x.y,x.x+x.q,x.y+x._])&&x.rf(z)){S=f;x=z}else this.nv(o);
var O=this.PP(S),Y=jG.d_(o.colr,this.tG,O),U=this.aBL(),W=U!=null&&U.opacity==Math.round(255*o.ca)&&U.add.vstk!=null&&!U.add.vstk.strokeEnabled.v&&U.add.SoCo&&Y.type=="SoFi"&&JSON.stringify(U.add.SoCo.Clr.v)==JSON.stringify(Y.P.v.Clr.v);
if(W){var t=!1;for(var I=0;I<O.length;I++){if(O[I].Hv==0||O[I].Hv==2)t=!0}if(t){var _=e.a.w4(e.n.Nl(U.add.vmsk.g)),n=e.a.w4(e.n.Nl(O));
W=_.SN(n).Mw()}}if(W){var y=U.add.vmsk.g;for(var I=2;I<O.length;I++)y.push(O[I])}else{U=this.alR();delete U.add.SoCo;
U.add.vmsk.g=X.tc.tz(O);jG.OM(o.colr,U,this.tG,O);jG.ak1(o,U)}};jG.OM=function(o,P,w,x){var z=jG.d_(o,w,x),S=null,k=null;
P.add.vstk.fillEnabled.v=!0;if(z.type=="SoFi"){S="SoCo";k=iR.pL}if(z.type=="GrFl"){S="GdFl";k=iR.d$}if(z.type=="patternFill"){S="PtFl";
k=iR.pg}if(S!=null){P.add[S]={classID:"null"};for(var I=0;I<k.length;I++){var f=k[I];P.add[S][f]=z.P.v[f]}if(S=="GdFl")P.add._fstl=z.wm}};
jG.prototype.nv=function(o){var P=this.$n,w=o.cpth,x=w.cmds.join(""),z=w.crds,S=x+" "+z.join(","),k=UDOC.G.isBox(w,this.aAC);
if(k&&this.dP==null)return;if(S==this.dP)return;this.FX();if(!k){this.dP=S;P.R.push(P.VY());var f=P._L();
f.bx("Mask");f.add.lsct=jS.v_;f.gS="pass";f.Yo=24;var C=f.add.vmsk=new X.tc;C.g=this.PP(o.cpth);if(UDOC.G.isBox(w)){this.C2=e.n.$s(C.g);
this.C2.$b(3,3)}else this.C2=null;this.akW=f}};jG.prototype.FX=function(){var o=this.$n;if(this.dP!=null){var P=o.R.length-1,I=P,w=!1;
while(I>=0&&o.R[I].add.lsct!=jS.iz)I--;var x=this.C2;if(x){var z=new fA,S=P;while(S>I){z=o.R[S].yq(this.$n,!1,!0);
S--}w=x.rf(z)}if(w){this.Tp.splice(I,1);o.R.splice(I,1)}else{o.R.push(this.akW)}this.dP=null}};jG.d_=function(o,P,w){var x,z,S;
if(o.length!=null){x="SoFi";var k=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);z={t:"Objc",v:k};z.v.Clr.v=jG.MO(o)}else{var f=jG.as2(o,P,w);
x="GrFl";z={t:"Objc",v:gn.ni(f,w)};S=f}return{type:x,P:z,wm:S}};jG.as2=function(o,P,w){var x=jG.oV(o.mat);
x.concat(P);var z=new eD(0,0),S=new eD(0,0),k=new eD,f=o.crds,C=o.typ=="rad"?1:0;if(C==1){var H=.7;k.x=f[0];
k.y=f[1];z.x=f[3];z.y=f[4];S.x=z.x;S.y=z.y;S.x+=f[5]}else{z.x=f[0];z.y=f[1];S.x=f[2];S.y=f[3];k.Mx(z.x,z.y)}x=gn.WB(z,S,x);
var b=gn.MP(C,x,w);gn.Nk(b,z,S,k);b[1]=JSON.parse(JSON.stringify(o.grad));return b};jG.prototype.PutText=function(o,P,w,x){var z=P.charCodeAt(0),T=null;
if(this.DK!=-1&&this.DK!=this.hZ)return;if(P.length==0||P.length==1&&(z==0||z==8203))return;this.nv(o);
var S=this.$n,k=o.font,f=Math.round(255*o.ca);if(o.font.Tmode==3)f=0;var C=jG.oV(o.ctm);C.concat(this.tG);
var H=jG.oV(k.Tm);H.concat(C);var b=H.gz(),i=new ar(1/b,0,0,-1/b,0,0);i.concat(H);var M=k.Tfs*b,O=S.R.length-1;
while(O>=0&&S.R[O].add.TySh==null)O--;if(i.b*i.b+i.JJ*i.JJ<.001&&x==null&&O>=0&&S.R[O].add.TySh&&S.R[O].opacity==f){var Y=S.R[O],U=this.Tp[O],W=Y.add.TySh.h,t=(i.$X-U.a92)/M,_=Math.abs(t),n=W.F==i.F&&W.b==i.b&&W.JJ==i.JJ&&W.RL==i.RL,y=i.Ar-U.d2,F=n&&Math.abs(y)<1e-5&&_<1;
if(F){T=Y;if(t>.2&&[".",",","?",":","!"].indexOf(P)==-1){P=" "+P;w+=.5}}else if(n&&0<y&&y<M*1.7&&U.aG2==M){T=Y;
this.aF7(U);U.d2=i.Ar;U.ap2=i.$X;P="\n"+P}}if(T==null){O=S.R.length;this.Tp[O]={Bg:[],Bt:0,a92:i.$X,d2:i.Ar,ap2:i.$X,t0:"",aG2:M};
T=S._L();S.R.push(T);T.add.lnsr="rend";T.add.TySh=fe.AH(0,0);T.add.TySh.h=i}var U=this.Tp[O];U.Bt+=w*M;
U.t0+=P;U.a92=i.$X+w*M;var a=T.add.TySh.OY,V=fe.YJ(a);if(x){fe.mn(a,1);var D=[0,0,Math.ceil(x[0]*b),Math.ceil(x[1]*b)];
fe.SP(a,D)}var l=V.length-1,Q=l+P.length;fe.EF(a,l,P);if(this.WS==null)this.WS=fe.Zv(a,l,l);var m=this.WS;
m.OR.FontSize=Math.round(M);m.OR.Tracking=Math.round(k.Tc*100);m.OR.Underline=k.Tun==1;m.OR.FillColor={Type:1,Values:[1,o.colr[0],o.colr[1],o.colr[2]]};
if(k.Tal!=null)m.bp.Justification=k.Tal;if(U.Bg.length!=0){m.OR.AutoLeading=!1;m.OR.Leading=U.d2-U.Bg[U.Bg.length-1].y}var R=k.Tf;
R=R.replace(/#2B/g,"+");R=R.replace(/#2C/g,"-");R=R.split("+").pop();var $={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if($[R])R=$[R];fe.bB(m,R);fe.Bi(a,l,Q-1,m);T.Tr();T.opacity=f};jG.prototype.aF7=function(o){o.Bg.push({V:o.Bt,S$:o.t0.slice(o.Bg.length==0?0:1)+"\n",x:o.ap2,y:o.d2,zp:o.aG2});
o.Bt=0;o.t0=""};jG.prototype.tS=function(o,P,w){return new Uint8Array(eu.oi("PNG").D7([[o.buffer,0]],P,w))};
jG.prototype.PutImage=function(o,P,w,x,z,S,k){if(this.DK!=-1&&this.DK!=this.hZ)return;var f=this.$n,C=o.font.Tmode;
if(C==7&&f.R[f.R.length-1].add.TySh){return}this.nv(o);var H=jG.oV(o.ctm);H.concat(this.tG);var b=new ar(1/w,0,0,-1/x,0,1);
b.concat(H);H=b;P=jG.abU(P,w,x,S,!1);if(z)z=jG.abU(z,w,x,k,!0);if(z==null){if(P.length==w*x*4)P=this.tS(P,w,x)}else{P=this.a2a(P,w,x,S,!1);
z=this.a2a(z,w,x,k,!0);var i=e.U(w*x);e.JX(z,i,0);e.lI(i,P,3);P=this.tS(P,w,x)}var M=f.to(P,"Bitmap",0,0),T=new fA(0,0,w,x),O=e.a.R2(T).i;
e.a.h(O,H,O);M.add.SoLd.Trnf=N.DH.Co(O);M.add.SoLd.nonAffineTransform=N.DH.Co(O);M.w2(f,!1);jG.ak1(o,M);
f.R.push(M)};jG.ak1=function(o,P){P.opacity=Math.round(255*o.ca);var w=jG.CQ[o.bmode];if(w==null)console.log("Unknown blend mode",w);
else P.gS=w};jG.CQ={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
jG.aav=function(o){if(o=="pass")o="norm";for(var P in jG.CQ)if(jG.CQ[P]==o)return P;return"/Normal"};
jG.abU=function(o,P,w,x,z){var S=eu.IL(o.buffer);if(S=="jpg"){try{o=new Uint8Array(eu.oi("JPG").abt(o.buffer))}catch(bF){o=new Uint8Array(P*w*4)}}else if(S=="jb2"){o=new Uint8Array(eu.oi("JPG").mJ(o.buffer,x,z)[0].data)}else if(o.length!=P*w*4){var k=new Uint8Array(P*w*4),f=Math.ceil(P/8),C=new Uint8Array(w*f);
UTIF.decode._decodeG4(o,0,o.length,C,0,P,1);var H=C[0]==(z?255:0);for(var b=0;b<w;b++){var i=f*b;for(var M=0;
M<P;M++){var I=b*P+M,T=I*4,O=(C[i+(M>>3)]>>7-(M&7)&1)*255;if(H)O=255-O;k[T]=O;k[T+1]=O;k[T+2]=O;k[T+3]=255}}o=k}return o};
jG.prototype.a2a=function(o,P,w,x,z){if(o.length!=P*w*4){var S=eu.IL(o.buffer);if(S=="jb2")throw"e";
var k=eu.oi(S);if(k==null||S=="tga")k=eu.oi("jpg");o=new Uint8Array(k.mJ(o,x,z)[0].data)}return o};jG.prototype.ShowPage=function(){var o=this.$n;
this.hZ++;var P=this.I1;this.FX();var w=o._L();o.R.push(w);var x=new fA(Math.round(this.Ws.x),Math.round(this.Ws.y),Math.round(P[2]-P[0]),Math.round(P[3]-P[1]));
if(x.Mw())x.q=x._=2e3;this.mR=this.mR.It(x);w.VZ(x);w.add.artb.artboardBackgroundType.v=1;w.bx("Page "+this.hZ);
w.add.lsct=jS.v_;w.gS="pass";w.Yo=24};jG.prototype.Print=function(o){console.log("Print:",o)};jG.prototype.Done=function(){var o=this.$n;
if(this.hZ==1)o.R[o.R.length-1].add.lsct=jS.KC;o.oj(this.hZ);for(var I=0;I<o.R.length;I++){var P=o.R[I],w=P.add.vmsk,x=P.add.TySh,z=this.Tp[I];
P.h6();delete P.add.vsjs;if(w){var S=!1;for(var k=0;k<w.g.length;k++){var f=w.g[k];if((f.type==0||f.type==3)&&f.length>32767)S=!0}if(S){o.R.splice(I,1);
I--;continue}}P.qX(o);if(x&&z&&z.Bg.length!=0){this.aF7(z);var C=x.OY,H=z.Bg.length,b=z.Bg[0],i=1e9,M=-1e9,F="";
for(var k=0;k<H;k++){var T=z.Bg[k];i=Math.min(i,T.x);M=Math.max(M,T.x+T.V)}var O=[];for(var k=0;k<H;
k++){var T=z.Bg[k],Y=-1,U=b.zp*.1,W=Math.abs(T.x-i),t=Math.abs(T.x+T.V-M),_=Math.abs(W-t);if(_<U)Y=2;
if(t<U){Y=1;if(T.x!=i)if(k!=0&&z.Bg[k-1].x==T.x||k!=H-1&&z.Bg[k+1].x==T.x)Y=-1}if(W<U)Y=0;if(T.V==M-i)Y=3;
O.push(Y)}var n=[!1,!1,!1];for(var k=0;k<H;k++){var Y=O[k];if(Y==3)Y=k==0?O[k+1]:O[k-1];if(Y==3)Y=0;
O[k]=Y;n[Y]=!0}var y=(M-i)*.05;if(n[0]&&!n[1])M+=y;if(!n[0]&&n[1])i-=y;if(!n[0]&&!n[1]){i-=y;M+=2*y}fe.mn(C,1);
x.h.Ar-=b.zp*.7;x.h.$X=Math.round(i);fe.SP(C,[0,0,Math.ceil(M-i),Math.ceil(z.Bg[H-1].y-b.y+b.zp*2)]);
for(var k=0;k<H;k++){var T=z.Bg[k],Y=O[k],a=0;if(Y==-1){Y=0;a=Math.round(T.x-i)}var V=F.length,D=V+T.S$.length;
F+=T.S$;var l={Dm:[],OR:{},bp:{Justification:Y,StartIndent:a}};fe.Bi(x.OY,V,D-1,l)}}if(x){var C=x.OY;
fe.ate(C);var Q=fe.YJ(C).split("\n");for(var k=0;k<Q.length-1;k++){var T=Q[k],m=0;for(var R=0;R<T.length;
R++){var $=T.charCodeAt(R);if(1473<=$&&$<=1524)m++}if(m>T.length/2){Q[k]=T.split("").reverse().join("");
var p=C.EngineDict.ParagraphRun.RunArray[k].ParagraphSheet.Properties;p._Direction=1;p.Justification=fe.R_(p)}}fe.Ks(C,Q.join("\n"))}}o._0=!0;
o.q=this.mR.q;o._=this.mR._;o.buffer=e.U(this.mR.c()*4)};var c8={};c8.Ow=null;c8.q0=function(o,P,w,x,z,S){var k=bn==0?new fA(0,0,o.q,o._):o.A_();
if(z==null)z=k.q;if(S==null)S=k._;c8.Ow=o;var f=[[o.root,k,null]];if(bn==0&&o.add.artd){var C=o.root.children,H=[],b=!0;
for(var I=0;I<C.length;I++){var i=C[I].r,M=i.add.artb,T=null;if(M==null){b=!1;break}var O=M.artboardBackgroundType.v;
if(O!=1&&O!=3)T=i.PN();H.push([C[I],i.sK(),T])}if(b)f=H}if(bn==1){var Y=o.add.arts;f=[];for(var I=0;
I<Y.length;I++)f.push([o.root,e.a.RR(Y[I].aR),null])}var U=P[0];U=U.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
U=U.split(" ");var W=[];for(var I=0;I<U.length;I++){var t=U[I];if(t=="-"){var _=W.pop(),n=parseInt(U[I+1]);
while(_<n){W.push(_);_++}}else W.push(parseInt(t))}U=W;for(var I=0;I<U.length;I++)if(isNaN(U[I])||U[I]<1||U[I]>f.length){U.splice(I,1);
I--}var y=z/k.q,F=S/k._,a=y*72/o.vz,V=F*72/o.vz,D=P[5];if(D==null)D=0;var l=72*D,Q=72*D;for(var m=0;
m<f.length;m++){var I=m;if(P[2])I=f.length-1-m;if(U.length!=0&&U.indexOf(I+1)==-1)continue;var R=f[I][0],$=f[I][1];
if(!R.r.ny())continue;var p=Math.round($.q*a+2*l),c=Math.round($._*V+2*Q);w.StartPage(0,0,p,c);var B=UDOC.getState(),Z=new ar;
Z.translate(-$.x,-$.y-$._);Z.scale(a,-V);Z.translate(l,Q);if(f[I][2]){var v=f[I][2],E=l*a,g=Q*V,u=E+$.q*a,j=g+$._*V;
B.colr=[(v>>>0&255)/255,(v>>>8&255)/255,(v>>>16&255)/255];B.pth={cmds:["M","L","L","L","Z"],crds:[E,g,u,g,u,j,E,j]};
w.Fill(B)}if(bn==0&&P[3]){var A=e.U($.c()*4);e.sR(o.Ey(),k,A,$);var K=o.KA();if(K)ICC.U.applyLUT(K[o.add.fcmy==1?5:3],K[2],A,A);
var s=eu.oi("JPG").D7([[A.buffer]],$.q,$._,[P[1]]);A=new Uint8Array(s);var r=new ar;r.translate($.x,$.y);
c8.sV(B,w,A,$,r,Z)}else{c8.a13(o,R,B,w,Z,$,P,x);if(l!=0){var E=l,g=Q,u=E+$.q,j=g+$._,h=u+l,jC=j+l;B.ca=1;
B.colr=[1,1,1];B.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,jC,h,jC,h,0,E,g,u,g,u,j,E,j]};
w.Fill(B)}}if(P[6]){var d=[[0,0],[1,0],[1,1],[0,1]],q=50,hc=5,dk=q*.5,c6=hc*.5,e3=$.q*72/o.vz,ks=$._*72/o.vz;
B.colr=[.1,.1,.1];for(var cH in d){var bI=d[cH],aR=[cH==0||cH==3?-1:1,cH==0||cH==1?-1:1],ak=[l-dk+c6*aR[0]+bI[0]*e3,Q-(aR[1]!=1?hc:0)+bI[1]*ks],cN=[l-(aR[0]!=1?hc:0)+bI[0]*e3,Q-dk+c6*aR[1]+bI[1]*ks];
B.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[ak[0],ak[1],ak[0]+q,ak[1],ak[0]+q,ak[1]+hc,ak[0],ak[1]+hc,cN[0],cN[1],cN[0]+hc,cN[1],cN[0]+hc,cN[1]+q,cN[0],cN[1]+q]};
w.Fill(B)}}var gC=o.zV;for(var bD=0;bD<gC.length;bD++){var cu=gC[bD].v,$=e.lD.q_(cu),du=e.a.R2($).i;
e.a.h(du,Z,du);var bq=e.a.w4(du);if(!new fA(0,0,p,c).rf(bq))continue;if(w.AddAnnot)w.AddAnnot([bq.x,bq.y,bq.x+bq.q,bq.y+bq._],cu.url.v)}w.ShowPage()}w.Done();
c8.Ow=null};c8.Nb=function(o){o=e.G.dQ(o);return[o.$/255,o.H/255,o.b/255]};c8.a13=function(o,P,w,x,z,S,k,f){var C=P.r,H=C.add.lsct,b=C.add.lmfx,n,y,$,c=!1;
if(C.u_)return;var i=C.add.vmsk,M=C.add.vstk,T=C.add.TySh;if(bn==1&&!C.Pe()&&!S.EI(e.a.w4(C.Zy())))return;
var O=P.children,Y=O&&O.length!=0?O[O.length-1].r:null;if(bn==1&&Y&&Y.u_&&Y.ny())i=Y.add.vmsk;if(!C.ny())return;
var U=C.opacity/255,W=C.add.iOpa!=null?C.add.iOpa/255:1;w.bmode=jG.aav(C.gS);var t=w.ca;w.ca=w.CA=U*W;
var _=b;if(_)_=_.solidFillMulti.v[0];if(_)_=_.v;if(_&&!_.enab.v)_=null;var F=C.rect;if(C.Sf()&&(!C.Pe()||C.Mn&&C.Mn.sw)){if(C.Pe()){n=C.Mn.sw;
F=C.Mn.a4o}else{n=e.U(C.rect.c());e.JX(C.buffer,n,3)}y=iO.og(b,C.add.fxrp,n,F,o,F).type;var a=["DrSh","OrGl"];
if(W!=1||M&&!M.fillEnabled.v){var V=n.slice(0);e.Sd(V);for(var I=0;I<a.length;I++){var D=y[a[I]];for(var l=0;
l<D.length;l++){var Q=D[l],m=Q.$I.clone();m.x+=F.x;m.y+=F.y;e.Cn(V,F,Q.eD,m)}}}}if(y)c8.aiH(C,n,F,y,w,x,z,k,!0);
var R=iO.a7F(C,!1);if(R){x.StartTGroup(w);$=w;w=UDOC.getState()}var p=i&&!C.aj(),B=C.add.GdFl;if(B&&B.Type.v.GrdT!="Lnr"&&B.Type.v.GrdT!="Rdl"){c=!0}if(p){var Z=e.a.tC(i.g,!1),v=Z.OE;
e.a.h(v.i,z,v.i);w.cpth={cmds:v.LG,crds:v.i}}if(C.Pe()){for(var I=0;I<P.children.length;I++)c8.a13(o,P.children[I],w,x,z,S,k,f)}else if(C.aj()&&C.add.PtFl==null&&!c){var E=i?i.g:e.n.fg.Rect(0,0,o.q,o._),g=C.add.vstl,v,j;
if(g==null)g=da.TQ(C.add,o);for(var I=0;I<2;I++){var u=I==0?g.wm:g.eJ;if(u&&u.length==4)for(var l=0;
l<u[1].length;l++)u[1][l][1]=c8.aM(u[1][l][1])}jG.QK(g,w);w.lwidth*=z.gz();for(var I=0;I<w.dash.length;
I++)w.dash[I]*=z.gz();if(bn==0){var Z=e.a.tC(E,g.eJ==null);v=Z.OE;j=Z.Yz}if(bn==1){v=e.a.IY(E);j=i.Hv}e.a.h(v.i,z,v.i);
w.pth={cmds:v.LG,crds:v.i};for(var l=0;l<2;l++){var I=g.pu==2?1-l:l,A=I==0?g.wm:g.eJ,K=null;if(A.length==0)continue;
else if(A.length==3)K=A;else{var s=gn.a4(A,E);s.concat(z);var r=[0,0,1,0];if(A[0]==1){var h=A[2][5]*Math.PI/180,jC=A[2][6];
r=[Math.cos(h)*jC,-Math.sin(h)*jC,0,0,0,1]}K={typ:["lin","rad"][A[0]],mat:[s.F,s.b,s.JJ,s.RL,s.$X,s.Ar],grad:JSON.parse(JSON.stringify(A[1])),crds:r}}w[I==0?"colr":"COLR"]=K;
x[I==0?"Fill":"Stroke"](w,j!=0)}}else if(T&&k[4]){var q=T.OY,hc=new c5(q,f,T.cN),v=eQ.GH(hc,T,!0),dk=e.a.e_(v),c6=null,M=iO.a4h(b);
if(M){c6=iR.Vq.EO(M);c6.eJ=c8.Nb(M.strokeStyleContent.v.Clr.v);if(c6.pu==2)c6.dy*=2}for(var e3 in dk){var ks=parseInt(e3.slice(1,7),16),cH=0;
w.colr=_?c8.Nb(_.Clr.v):c8.amY(ks);var bI=dk[e3];e.a.h(bI.i,z,bI.i);bI=e.a.ano(bI);w.pth={cmds:bI.LG,crds:bI.i};
var g=c6?JSON.parse(JSON.stringify(c6)):null;if(e3.length>7)g=eQ.aB4(e3.slice(7));if(g)g.dy*=z.gz();
if(g&&g.pu==2){w.COLR=g.eJ;jG.QK(g,w);x.Stroke(w)}x.Fill(w);if(g&&g.pu!=2){w.COLR=g.eJ;jG.QK(g,w);x.Stroke(w)}}}else if(T){var q=JSON.parse(JSON.stringify(T.OY));
fe.ate(q);var cN=T.h.clone(),gC=new ar(1,0,0,-1,0,0);gC.concat(cN);gC.concat(z);var bD=fe.YJ(q),hc=new c5(q,f,T.cN);
for(var I=0;I<hc.bp.length;I++){var cu=hc.bp[I];if(cu.BR.length==1&&cu.BR[0].bv)continue;for(var l=0;
l<cu.D3.length;l++){var bq=cu.D3[l],hn=cu.gu.y+bq.gu.y,aK=cu.BR[bq.start].start,cQ=cu.BR[bq.end-1].end,jR=fe.a6s(q,aK,cQ);
for(var ch=0;ch<jR.length;ch++){var bx=hc.aO(aK),jf=jR[ch],dW=fe.Zv(q,aK,aK),bf=dW.Dm[dW.OR.Font].Name;
w.font.Tf=bf;var e3=fe.dQ(dW.OR.FillColor);w.colr=_?c8.Nb(_.Clr.v):[e3.$/255,e3.H/255,e3.b/255];var iu=w.font.Tfs=Math.round(dW.OR.FontSize),dV=bD.slice(aK,aK+jf);
if(dW.OR.FontCaps==2)dV=dV.toUpperCase();var s=new ar;s.translate(bx.sn.x,-hn);s.concat(gC);w.ctm=[s.F,s.b,s.JJ,s.RL,s.$X,s.Ar];
x.PutText(w,dV,0);for(var gb=0;gb<2;gb++){var gP=dW.OR[gb==0?"Strikethrough":"Underline"];if(!gP)continue;
var eJ=hc.aO(aK+jf-1),c1=gb==0?.27:-.2,ku=iu*c1,aC=iu*(c1+.07),cH=eJ.sn.x+eJ.sn.q-bx.sn.x,gU=[0,ku,cH,ku,cH,aC,0,aC];
e.a.h(gU,s,gU);w.pth={cmds:["M","L","L","L","Z"],crds:gU};x.Fill(w)}w.ctm=[1,0,0,1,0,0];aK+=jf}}}}else if(!C.rect.Mw()||bn==1){var hR,a7,dh=!1,eS=new ar,d0=C.add.SoLd,cJ=!0;
if(d0)cJ=e.W.vY(e.W.tV(N.DH.PU(d0.Trnf)));var aO=o.KA();if(d0&&cJ&&aO==null){var a9=d0.Idnt.v,ac=o.xM(a9,d0.Crop?d0.Crop.v:null),jQ="";
if(ac==null)return;var e7=ac.iT,b2=eu.IL(ac.raw.buffer);if(k[7].indexOf(b2)!=-1){hR=ac.raw;dh=!0}else hR=e7[0];
a7=e7[1];eS=e.W.dn(d0)}else{hR=C.buffer;a7=C.rect;eS.translate(a7.x,a7.y);if(aO){hR=hR.slice(0);ICC.U.applyLUT(aO[o.add.fcmy==1?5:3],aO[2],hR,hR)}if(e.Nm(hR,a7.q,a7._)&&k[7]&&k[7].indexOf("jpg")!=-1){var g9=eu.oi("JPG").D7([[hR.buffer]],a7.q,a7._,[k[1]]);
hR=new Uint8Array(g9);dh=!0}}if(_&&!dh)hR=iO.a0b(hR,_,a7);c8.sV(w,x,hR,a7,eS,z);if(_&&dh){var gU=[0,0,a7.q,0,a7.q,a7._,0,a7._];
e.a.h(gU,eS,gU);e.a.h(gU,z,gU);var cx=JSON.parse(JSON.stringify(w));cx.ca=_.Opct.v.val/100;cx.pth={cmds:["M","L","L","L","Z"],crds:gU};
cx.colr=c8.Nb(_.Clr.v);x.Fill(cx)}}if(p)w.cpth=null;if(R){x.EndTGroup();w=$}w.ca=w.CA=t;if(y)c8.aiH(C,n,F,y,w,x,z,k,!1)};
c8.aM=function(o){var P=c8.Ow;if(P==null)return o;var w=P.KA();if(w&&P.add.fcmy){return e.Wu(e.TI(o)).slice(0,3)}return o};
c8.Nb=function(o){o=e.G.dQ(o);return c8.aM([o.$/255,o.H/255,o.b/255])};c8.amY=function(o){return c8.aM([(o>>>16&255)/255,(o>>>8&255)/255,(o&255)/255])};
c8.aiH=function(o,P,w,x,z,S,k,f,C){var H=w.clone(),b=P;if(o.add.TySh&&!f[3]&&!f[4])return;var i=z.ca,M=z.bmode;
for(var I=iR.order.length-1;I>=0;I--){var T=iR.order[I];if(T=="GrFl"||T=="SoFi")continue;if((o.add.vmsk||o.add.TySh)&&T=="FrFX")continue;
var O=x[T],Y=I>7||T=="FrFX";if(Y!=C)continue;for(var U=0;U<O.length;U++){var W=O[U];if(W.$I==null)W=W.ey?W.ey:W.Qe;
if(W==null)continue;var t=W.$I.clone();t.offset(H.x,H.y);if(!Y){if(!H.rf(t)){var _=H.It(t),n=e.U(_.c());
e.d0(b,H,n,_);b=n;H=_}e.Cn(b,H,W.eD,t)}if(Y&&T=="FrFX"&&W.zb)e.Cn(W.zb,t,W.eD,t);var y=new ar;y.translate(t.x,t.y);
z.ca=W.ID;z.bmode=jG.aav(W.Hl);c8.sV(z,S,W.eD,t,y,k)}}z.ca=i;z.bmode=M};c8.sV=function(o,P,w,x,z,S){var k=new ar;
k.scale(x.q,-x._);k.translate(0,x._);k.concat(z);k.concat(S);o.ctm=[k.F,k.b,k.JJ,k.RL,k.$X,k.Ar];P.PutImage(o,w,x.q,x._);
o.ctm=[1,0,0,1,0,0]};var h0={};h0.M3=function(o){var P=new Uint8Array(o);return h0.az(P,0)};h0.az=function(o,P){var w=L.RS,x=L.AW,z={QQ:x(o,P,4),f:P+8,size:w(o,P+4)},S=z.QQ=="FORM"||z.QQ=="FOR4"||z.QQ=="LIST"||z.QQ=="CAT ";
if(S)z.Fs=x(o,P+8,4);if(z.size<0||z.f+z.size>o.length)throw"e";if(S){z.sub=[];P+=12;var k=z.f+z.size;
while(P<k){var f=h0.az(o,P);z.sub.push(f);var C=f.size&1,H=f.size&3;if(z.QQ=="FOR4")C=H==0?0:4-H;P+=8+f.size+C}}return z};
var dR={};dR.M3=function(o,P){var w=new Uint8Array(o);return dR.az(w,0,P)};dR.az=function(o,P,w){var x=L.Dn,z=L.AW,S={QQ:z(o,P,4),f:P+8,size:x(o,P+4)};
if(w&&w[S.size]!=null)S.size=w[S.size];if(S.QQ=="RIFF"||S.QQ=="LIST"){S.Fs=z(o,P+8,4)}if(S.size<0||S.f+S.size>o.length)throw"e";
if(S.QQ=="RIFF"||S.QQ=="LIST"&&(S.Fs!="cmpr"&&S.Fs!="stlt")){S.sub=[];P+=12;var k=S.f+S.size;while(P<k){var f=dR.az(o,P,w);
S.sub.push(f);P+=8+f.size+(f.size&1)}}return S};var iC=function(){function o(r,h){var jC=null;if(r.sub==null)return jC;
for(var I=0;I<r.sub.length;I++){var d=r.sub[I];if(d.QQ==h||d.Fs==h)jC=d}return jC}function P(r){if(r==32)return 300;
else if(r<49)return 0;else if(r<58)return 100*(r-48);else if(r<65)return 0;return 100*(r-55)}var w;function x(r,h){var jC=new Uint8Array(r);
h._0=!0;w={};var d=L.AW(jC,0,2);if(d=="WL"){alert("Unsupported CDR version")}else{var q,hc,dk,ks,du=300,aK=0;
if(d=="PK"){hc=UZIP.parse(jC);if(hc["content/root.dat"]){jC=hc["content/root.dat"];dk=L.bR(hc["content/dataFileList.dat"]).split("\n")}else{jC=hc["content/riffData.cdr"];
hc=null}}q=dR.M3(jC.buffer);console.log(q);var c6=P(jC[11]),e3={data:jC,f:0,_G:c6};e3.T$=e3._G<600?16:32;
V(jC,e3,dk,hc,q.sub,0);var cH=[];if(hc){ks=o(q,"doc ");z(ks);var bI=q.sub;for(var I=0;I<bI.length;I++)if(bI[I].Fs=="page")cH.push(bI[I]);
cH=cH.slice(1)}else if(q.sub[3]&&q.sub[3].QQ=="pack"){alert("We dont support this version of CDR files");
return}else if(o(q,"cmpr")==null){ks=o(q,"page");cH.push(ks);if(o(ks,"mcfg")==null){ks=o(q,"doc ");z(ks);
cH=[];var bI=q.sub;for(var I=0;I<bI.length;I++)if(bI[I].Fs=="page")cH.push(bI[I]);cH=cH.slice(1)}}else{var aR=o(q,"cmpr").sub;
ks=aR[0];cH=[aR.slice(1)[1]];if(o(ks,"filt"))z(ks)}var ak=o(ks,"mcfg").P,cN=ak.a52,gC=cN.x*.1,bD=cN.x*cH.length+gC*(cH.length-1),cu=cN.y;
du/=bZ.iG(new fA(0,0,Math.round(bD*du),Math.round(cu*du)),8192*8192);var bq=Math.round(bD*du),hn=Math.round(cu*du);
h.q=bq;h._=hn;h.buffer=e.U(h.q*h._*4);for(var I=0;I<cH.length;I++){var cQ=new ar(du,0,0,-du,cN.x*du/2+aK,cN.y*du/2);
S(cH[I],ks,h,cQ);var jR=h.R[h.R.length-1];jR.VZ(new fA(Math.round(aK),0,Math.round(cN.x*du),Math.round(cN.y*du)));
jR.bx("Page "+(I+1));aK+=cN.x*du+gC*du}h.oj(cH.length)}}function z(r){var h=o(r,"filt").sub,jC=o(r,"otlt").sub,d=o(r,"fntt");
if(d)d=d.sub;r.uR={};for(var I=0;I<h.length;I++)r.uR[h[I].sub[0].P.id]=h[I].sub[0].P;r.e$={};for(var I=0;
I<jC.length;I++)r.e$[jC[I].P.id]=jC[I].P;if(d){r.fonts={};for(var I=0;I<d.length;I++)r.fonts[d[I].P.id]=d[I].P}}function S(r,h,jC,d){var q=r.Fs?r.Fs:r.QQ,hc=o(r,"lgob"),dk=o(r,"txsm"),c6=null,e3=null;
if(hc){c6=o(hc,"trfl");e3=o(hc,"loda")}else if(o(r,"lobj"))e3=o(r,"lobj");var ks=c6&&c6.sub[0].zr?c6.sub[0].zr.clone():new ar;
ks.concat(d);var cH=jC._L();if(q=="page"||q=="layr"||q=="grp "){cH.bx((q=="page"?"Page":"Group")+" "+jC.R.length);
cH.add.lsct=jS.KC;cH.gS="pass";cH.Yo=24;var bI=[];if(q=="page")bI=o(r,"gobj").sub;if(q=="layr")bI=r.sub.slice(2);
if(q=="grp ")bI=r.sub.slice(4);if(bI.length==0)return;jC.R.push(jC.VY());for(var I=bI.length-1;I>=0;
I--)S(bI[I],h,jC,d)}else if(q=="obj "&&e3.P&&e3.P.path){var aR,ak;if(h.uR){aR=h.uR[e3.P.a7v];ak=h.e$[e3.P.ans]}if(aR==null)aR=e3.P.ajj;
if(ak==null)ak=e3.P.aff;cH=k(jC,e3.P.path,d,ks,aR,ak)}else if(q=="obj "&&dk){var cN=e3.P.am5,gC=e3.P.a7X,du="";
cH.add.TySh=fe.AH(0,0);var bD=ks.gz();cH.add.TySh.h.translate(ks.$X,ks.Ar);var cu=cH.add.TySh.OY,bq=dk.P.g$;
if(bq==null)return;for(var I=0;I<bq.length;I++){var hn=bq[I],aK=du.length;du+=hn.text+"\n";fe.EF(cu,aK,hn.text+"\n");
if(hn.text=="")continue;var cQ=f(hn.arH,h),jR=cQ.a4Q,ch=h.fonts[jR.aFJ],bx=fe.Zv(cu,aK,du.length);if(cQ.align==3)bx.bp.Justification=1;
else if(cQ.align==2)bx.bp.Justification=2;else bx.bp.Justification=0;var jf=cQ.fill.P;if(jf==null)jf=[0,0,0];
if(ch.s5)fe.bB(bx,ch.s5);bx.OR.FillColor={Type:1,Values:[1,jf[0],jf[1],jf[2]]};bx.OR.FontSize=Math.round(jR.fontSize*d.gz());
fe.Bi(cu,aK,du.length-1,bx)}if(gC){fe.mn(cu,0)}else{fe.mn(cu,1);fe.SP(cu,[0,0,Math.round(cN.x*ks.F),Math.round(-cN.y*ks.RL)])}cH.bx(du.slice(0,10))}else{cH=null}if(cH)jC.R.push(cH)}function k(r,h,jC,d,q,hc){var dk=r._L();
dk.bx("Object "+r.R.length);dk.Yo|=16;var c6=dk.add.vstk=iR.Vq.bS();dk.add.vmsk=new X.tc;dk.add.vmsk.g=e.a.B6(h,!1);
e.n.G9(dk.add.vmsk.g,d);var e3=q&&q.type!=0,ks=e3&&q.P!=null?q.P:[0,0,0];jG.OM(ks,dk,d,dk.add.vmsk.g);
c6.fillEnabled.v=e3;if(hc&&hc.aC0!=1){c6.strokeEnabled.v=!0;c6.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var cH=c6.strokeStyleLineWidth.v.val=hc.lineWidth*jC.gz(),bI=hc.color;c6.strokeStyleContent.v.Clr.v=e.G.e1({$:bI[0]*255,H:bI[1]*255,b:bI[2]*255});
if(hc.iW.length!=0)c6.strokeStyleLineDashSet.v=iO.YQ(hc.iW,4/cH);var aR=hc.a43,ak=hc.a1f;if(ak!=0){var cN=h.i,I=cN.length-4,gC=cN[I],bD=cN[I+1],cu=cN[I+2],du=cN[I+3],bq=new ar;
bq.scale(.15,.15);bq.rotate(-Math.PI/2+Math.atan2(du-bD,-(cu-gC)));bq.translate(cu,du);bq.concat(d);
if(w[ak]){var hn=k(r,w[ak],jC,bq,bI,null);r.R.push(hn)}}}dk.h6();dk.qX(r);return dk}function f(r,h){var jC=o(h,"stlt").P,d=JSON.parse(JSON.stringify(jC.Wt[r]));
if(d.T9!=0){var q=jC.Wt[d.T9];for(var hc in q)if(d[hc]==null||d[hc]==0)d[hc]=q[hc];delete d.T9}d.align=jC.atX[d.azl];
d.fill=h.uR[jC.ahB[d.a4v]];d.aca=h.e$[jC.am8[d.aw4]];d.a4Q=jC.a7u[d.agT];return d}function C(I){var eK=I.data[I.f];
I.f+=1;return eK}function H(I){var eK=L.Bh(I.data,I.f);I.f+=2;return eK}function b(I){var eK=L.Dn(I.data,I.f);
I.f+=4;return eK}function i(I){var eK=L.Dn(I.data,I.f);I.f+=8;return eK}function M(I){var eK=L.rg(I.data,I.f);
I.f+=2;return eK}function T(I){var eK=L.Be(I.data,I.f);I.f+=4;return eK}function O(I){var eK=L.EC(I.data,I.f);
I.f+=8;return eK}function Y(I){if(I.f>=I.data.length)throw"e";var r=0;while(I.data[I.f+r]!=0)r++;var h=L.AW(I.data,I.f,r);
I.f+=r+1;return h}function U(I){var r="";while(!0){var h=H(I);if(h==0)break;r+=String.fromCharCode(h)}return r}function W(r){var h=b(r),jC=(h&4294901760)>>>16,d=(h&65535)/65535;
return jC+d}function t(r){if(r._G<600)return Math.PI*M(r)/1800;return Math.PI*T(r)/18e7}function _(r){if(r._G<1500)return n(r);
else return O(r)/254e3}function n(r){if(r._G<600)return M(r)/1e3;else return T(r)/254e3}function y(r){if(r._G<600)return H(r);
else return b(r)}function F(r){if(r._G<600)return M(r);else return T(r)}function a(r,h,jC){var d="";
for(var I=0;I<jC;I++){for(var q=0;q<h;q+=4){var eK=L.Dn(r.data,r.f+I*h+q);d+=(eK<500?eK:eK)+","}d+="\n"}return d}function V(r,h,jC,d,q,hc){var dk,c6,e3;
for(var ks=0;ks<q.length;ks++){var cH=h._G,bI=q[ks];h.data=r;h.f=bI.f+(bI.QQ=="LIST"?4:0);if(d&&bI.sub==null){dk=b(h);
c6=b(h);e3=b(h);var aR=H(h);if(aR!=0&&aR!=768)throw"e";var ak=H(h);if(ak>32)throw"e";h.f-=16;if(dk!=4294967295){h.data=d["content/data/"+jC[dk]];
h.f=e3}}if(bI.QQ=="vrsn"){if(bI.size==16)h.f+=8;var cN=H(h);h._G=cN;console.log("Version",cN);h.T$=cN<600?16:32}else if(bI.QQ=="DISP"){}else if(bI.QQ=="pack"){var gC=b(h),bD=L.AW(h.data,h.f,4),bq=0;
if(bD!="CPng")throw bD;var cu=new Uint8Array(h.data.buffer,h.f+8+2,bI.size-10-4),du=pako.inflateRaw(cu);
bI.sub=[];while(bq<du.length){var hn=dR.az(du,bq);bq=hn.f+hn.size;bI.sub.push(hn)}var aK={data:du,f:0,_G:cH,T$:h.T$};
V(du,aK,jC,d,bI.sub,hc+1)}else if(bI.QQ=="LIST"&&bI.Fs=="cmpr"){var cQ=b(h),jR=b(h),ch=b(h),gC=b(h),bD=L.AW(h.data,h.f,4),bq=0;
if(bD!="CPng")throw bD;var cu=new Uint8Array(h.data.buffer,h.f+8+2,cQ-6-8),du=pako.inflateRaw(cu);h.f+=cQ;
cu=new Uint8Array(h.data.buffer,h.f+8+2);var bx=pako.inflateRaw(cu),jf=[];for(var dW=0;dW<bx.length;
dW+=4)jf.push(L.Dn(bx,dW));bI.sub=[];while(bq<du.length){var hn=dR.az(du,bq,jf);bq=hn.f+hn.size;bI.sub.push(hn)}var aK={data:du,f:0,_G:cH,T$:h.T$};
V(du,aK,jC,d,bI.sub,hc+1)}else if(bI.QQ=="LIST"&&bI.Fs=="stlt"||bI.QQ=="stlt"){if(dk==4294967295)return;
var bf=h.f,ku="",jQ=32;bI.P={};var iu=b(h);if(iu==0)return;bI.P.ahB=B(h,cH>=1300);bI.P.am8=B(h);bI.P.a7u={};
var dV=b(h);for(var I=0;I<dV;I++){var gb=b(h);h.f+=cH<1e3?12:20;var gP=H(h),eJ=H(h);h.f+=8;var c1=n(h);
h.f+=cH<1e3?12:20;bI.P.a7u[gb]={aFJ:gP,ajE:eJ,fontSize:c1}}bI.P.atX=B(h);var aC=b(h);ku+="Intervals\n"+a(h,52,aC)+"\n";
h.f+=52*aC;var gU=b(h);ku+="Set5s\n"+a(h,152,gU)+"\n";h.f+=152*gU;var hR=b(h);ku+="Tabs\n"+a(h,784,hR)+"\n";
h.f+=784*hR;var a7=b(h);ku+="Bullets\n";for(var I=0;I<a7;I++){var dh=h.f,eS=b(h);h.f+=4*3;if(cH>1300)h.f+=4;
var d0=b(h);h.f+=4*5;if(cH>=1300){var cJ=b(h);if(cJ){if(b(h))h.f+=64;else h.f+=60}else h.f+=12}else{h.f+=20;
if(cH>=1e3)h.f+=8;if(b(h))h.f+=8;h.f+=8}var aO=h.f;h.f=dh;ku+=a(h,aO-dh,1);h.f=aO}ku+="\n";var a9=b(h);
ku+="Indents\n";bI.P.aFA={};for(var I=0;I<a9;I++){var dh=h.f,ac=b(h),e7={};h.f+=12;e7.right=n(h);e7.a4_=n(h);
e7.left=n(h);bI.P.aFA[ac]=e7;var aO=h.f;h.f=dh;ku+=a(h,aO-dh,1);h.f=aO}ku+="\n";var b2=b(h);if(cH>=1300)jQ+=4;
ku+="Hypens\n"+a(h,jQ,b2)+"\n";h.f+=jQ*b2;var g9=b(h);ku+="Dropcaps\n"+a(h,28,g9)+"\n";h.f+=28*g9;if(cH>800){var cx=b(h);
ku+="Set11s\n"+a(h,28,cx)+"\n";h.f+=12*cx}bI.P.Wt={};for(var I=0;I<iu;I++){var i8=b(h);if(i8>3)throw i8;
var fw=b(h),hi={};hi.T9=b(h);h.f+=8;var dU=b(h);if(cH>=1200)dU*=2;h.f+=dU;hi.a4v=b(h);hi.aw4=b(h);if(i8>1){hi.agT=b(h);
hi.azl=b(h);hi.aEv=b(h);hi.abw=b(h);if(cH>800)hi.a2f=b(h)}if(i8>2){hi.a1I=b(h);hi.ak4=b(h);hi.a5C=b(h);
hi.arY=b(h);hi.agv=b(h)}bI.P.Wt[fw]=hi}}else if(bI.QQ=="LIST")V(r,h,jC,d,bI.sub,hc+1);else if(bI.QQ=="txsm"){bI.P={};
if(cH<600)throw"e";if(cH<700)throw"e";if(cH>=1600){bI.P=c(h);return}if(cH>=1500)h.f+=37;else h.f+=36;
if(b(h)){if(cH<800)h.f+=32}if(cH<800)h.f+=4;bI.P.aGT=b(h);bI.P.g$=[];h.f+=48;if(cH>=800){if(b(h)){h.f+=32;
if(cH>=1300)h.f+=8}}if(cH>=1500)h.f+=12;var i8=b(h),dv=1,bo=!1;if(!i8){if(cH>=800)h.f+=4;if(cH>800)h.f+=2;
if(cH>=1400)h.f+=2;h.f+=24;if(cH<800)h.f+=8;dv=b(h)}for(var dW=0;dW<dv;dW++){var fV=b(h),I=0;if(cH>=1300&&i8)h.f++;
h.f++;var iu=b(h),ck=[];for(I=0;I<iu;I++){var h8=C(h),iS=0;C(h);var fS=C(h);if(cH>=800)iS=C(h);var hi={};
if(fS&1){hi.aFJ=H(h);var fh=H(h);if(fh)hi.a8v=fh}if(fS&2)h.f+=4;if(fS&4)hi.av2=n(h);if(fS&8)h.f+=4;if(fS&16)h.f+=4;
if(fS&32)h.f+=4;if(fS&64){hi.a4v=b(h);if(cH>=1500)h.f+=48}if(fS&128){hi.aw4=b(h)}if(iS&8){if(cH>=1300){var h9=b(h);
if(h.f+h9*2>=h.data.length){bo=!0;break}h.f+=h9*2}else h.f+=4}if(iS&32){var gi=C(h);if(gi)h.f+=52}if(h8==2)if(cH>=1300)h.f+=48;
ck.push(hi)}if(bo){break}var dX=b(h);if(h.f+dX*4>h.data.length)break;var f8=[];for(I=0;I<dX;I++){var kS=0;
if(cH>=1200)kS=i(h)&4294967295;else kS=b(h);f8[I]=kS>>16|kS&1}var jJ=dX;if(cH>=1200)jJ=b(h);var gj=Y(h);
bI.P.g$.push({arH:fV,text:gj,Wt:ck})}}else if(bI.QQ=="arrw")bI.P=D(h);else if(bI.QQ=="font"){var dh=h.f,k8=H(h),g$=H(h),ib="";
h.f+=14;if(h._G>=1200)ib=U(h);else ib=Y(h);bI.P={id:k8,apa:g$,name:ib};if(d){var eo=dh+c6;while(h.data[h.f]==0)h.f++;
h.f+=2;var iP=U(h);while(h.data[h.f]==0)h.f++;while(h.data[h.f]<=2)h.f+=4;bI.P.s5=U(h)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(bI.QQ)!=-1){}else if(bI.QQ=="flgs")bI.P=b(h);
else if(bI.QQ=="bbox"){var d6=n(h),fc=n(h),kL=n(h),hC=n(h);bI.P=new fA(d6,fc,kL-d6,hC-fc)}else if(bI.QQ=="fild"){var em=b(h),cY;
if(cH>=1300)h.f+=8;var aS=H(h);if(aS==0){}else if(aS==1){h.f+=cH>=1300?13:2;cY=K(h)}else if(aS==2){h.f+=cH>=1300?8:2;
var cl=C(h),cf=0;if(cH>=1300){h.f+=17;cf=M(h)}else if(cH>=600){h.f+=19;cf=T(h)}else{h.f+=11;cf=M(h)}var hb=t(h),fE=.5+F(h),cK=.5+F(h)-.5;
if(cH>=600)h.f+=2;var ka=y(h)&255,hj=C(h)/100;h.f++;var hS=y(h)&65535;if(cH>=1300)h.f+=3;var cW=[];for(var I=0;
I<hS;I++){var cn=K(h);if(cH>=1400)h.f+=26;else if(cH>=1300)h.f+=5;var dz=(y(h)&65535)/100;if(cH>=1300)h.f+=3;
cW.push([dz,cn])}cY={typ:cl==1?"lin":"rad",crds:[fE-Math.cos(hb)/2,cK-Math.sin(hb)/2,fE,cK],grad:cW,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",aS);
bI.P={id:em,type:aS,P:cY}}else if(bI.QQ=="outl"){var iD=b(h);if(cH>=1300){var dy=0,ef=0;while(dy!=1){h.f+=ef;
dy=b(h);ef=b(h)}}var bd=H(h),iF=H(h),j1=H(h);if(cH<1300&&cH>=600)h.f+=2;var kv=n(h),cP=H(h)/100;if(cH>=600)h.f+=2;
var kc=t(h);if(cH>=1300)h.f+=46;else if(cH>=600)h.f+=52;var cY=K(h);if(cH<600)h.f+=10;else h.f+=16;var e4=H(h),cz=h.f,fU=[];
for(var I=0;I<e4;++I)fU.push(H(h));if(cH<600)h.f=cz+20;else h.f=cz+22;var cT=b(h),jW=b(h);bI.P={id:iD,aC0:bd,aBI:iF,aHf:j1,lineWidth:kv,color:cY,iW:fU,a43:cT,a1f:jW}}else if(bI.QQ=="mcfg"){if(1300<=cH)h.f+=12;
else if(900<=cH)h.f+=4;else if(600<=cH&&cH<700)h.f+=28;var iz=0,ii=0;if(cH<400){h.f+=2;var d6=n(h),fc=n(h),kL=n(h),hC=n(h);
iz=Math.abs(kL-d6);ii=Math.abs(hC-fc)}else{iz=n(h);ii=n(h)}bI.P={a52:new eD(iz,ii)}}else if(bI.QQ=="loda"||bI.QQ=="lobj"){var bf=h.f,hs=y(h),cw=y(h),e6=y(h),jt=y(h),cR=y(h),k4=[],aM=[],I=0,aq=null;
h.f=bf+e6;while(I<cw)k4[I++]=y(h);h.f=bf+jt;while(I>0)aM[--I]=y(h);bI.P={};for(I=0;I<cw;I++){h.f=bf+k4[I];
var e$=aM[I];if(e$==30){if(cH>=400&&cR==1||cH<400&&cR==0){bI.P.path=$(h)}else if(cH>=400&&cR==2||cH<400&&cR==1){bI.P.path=R(h)}else if(cH>=400&&cR==3||cH<400&&cR==2){bI.P.path=g(h)}else if(cR==37){bI.P.path=E(h)}else if(cH>=400&&cR==4||cH<400&&cR==3){bI.P.a7X=Z(h)}else if(cH>=400&&cR==6||cH<400&&cR==5){bI.P.am5=v(h)}else console.log(cR)}else if(e$==20){if(cH<400)bI.P.ajj=Q(h);
else bI.P.a7v=b(h)}else if(e$==10){if(cH<400)bI.P.aff=m(h);else bI.P.ans=b(h)}else if(e$==200)bI.P.aFc=y(h);
else if(e$==100){if(cH<400)aq=l(h)}}if(aq&&bI.P.path)e.a.h(bI.P.path.i,aq,bI.P.path.i)}else if(bI.QQ=="trfd"){var bf=h.f,hs=y(h),cw=y(h),e6=y(h);
h.f=bf+e6;var k4=[];for(var I=0;I<cw;I++)k4[I]=y(h);for(var I=0;I<cw;I++){h.f=bf+k4[I];if(cH>=1300)h.f+=8;
var kP=H(h);if(kP==8){var bR,kE,d6,iw,k9,fc;if(cH>=600)h.f+=6;if(cH>=500){bR=O(h);kE=O(h);d6=O(h)/(cH<600?1e3:254e3);
iw=O(h);k9=O(h);fc=O(h)/(cH<600?1e3:254e3)}else throw"e";bI.zr=new ar(bR,iw,kE,k9,d6,fc)}else console.log(kP)}}else if(!1){console.log(bI);
var iH=Math.min(bI.size,32);console.log(L.Y0(r,bI.f,iH));console.log(L.agA(r,bI.f,iH))}}}function D(r){var h=b(r);
r.f+=4;var jC=H(r);r.f+=4;var d=[];for(var q=0;q<jC;q++)d.push(C(r));r.f+=1;var hc=[];for(var dk=0;dk<jC;
dk++){var c6=[];c6[1]=n(r);c6[0]=n(r);hc.push(c6)}var e3=j(hc,d);w[h]=e3}function l(r){var h=0,jC=0,d=0,q=0,hc=0,dk=0;
if(r._G>=300){var c6=r.f;r.f+=10;var e3=y(r);r.f=c6+e3;h=W(r);jC=W(r);d=T(r)/1e3;q=W(r);hc=W(r);dk=T(r)/1e3}else{d=n(r);
dk=n(r);h=W(r);jC=W(r);d+=W(r)/1e3;q=W(r);hc=W(r);dk+=W(r)/1e3}return new ar(h,jC,q,hc,d,dk)}function Q(r){var h=C(r);
if(h==0)return null;else if(h==1)return K(r);else console.log(h)}function m(r){var h=C(r);h<<=1;var jC=n(r),d=H(r)/100,q=t(r),hc=K(r);
return{aC0:h,lineWidth:jC,color:hc,iW:[],a43:0,a1f:0}}function R(r){var h=n(r),jC=n(r),d=t(r),q=t(r),hc=e.a.IY(e.n.fg.nT(0,0,h,jC));
return hc}function $(r){var h=r._G,jC=_(r),d=_(r),q=0,hc=0,dk=0,c6=0,e3=0,ks=1,cH=1;if(h<1500){c6=_(r);
dk=h<900?c6:_(r);hc=h<900?c6:_(r);q=h<900?c6:_(r)}else{var bI=O(r);if(bI!=0)ks=bI;bI=O(r);if(bI!=0)cH=bI;
var aR=C(r);r.f+=7;if(aR==0){c6=O(r);e3=C(r);r.f+=15;dk=O(r);r.f+=16;hc=O(r);r.f+=16;q=O(r);var ak=Math.abs(jC*ks/2),cN=Math.abs(d*cH/2);
c6*=ak<cN?ak:cN;dk*=ak<cN?ak:cN;hc*=ak<cN?ak:cN;q*=ak<cN?ak:cN}else{c6=_(r);e3=C(r);r.f+=15;dk=_(r);
r.f+=16;hc=_(r);r.f+=16;q=_(r)}}return e.a.IY(e.n.fg.Rect(0,0,jC,d,[q,hc,dk,c6]))}function p(r){var h=b(r);
if(r._G<1700)h*=2;r.f+=h;return""}function c(r){var h=b(r),d=0;r.f+=37;var jC=b(r);for(var I=0;I<jC;
I++){var q=b(r);d=q;r.f+=48;var hc=b(r);if(hc==1)r.f+=12*4;else r.f+=8;if(!h){r.f+=16;p(r)}}var dk={aGT:d,g$:[]},c6=b(r);
for(var e3=0;e3<c6;e3++){var ks=b(r),hn="";r.f+=1;if(h)r.f+=1;var cH=p(r),bI=b(r);for(var I=0;I<bI;I++){r.f+=2;
var aR=H(r),ak=H(r);if(ak&4){var cN=b(r);cN*=2;r.f+=cN}if(aR||ak&4){var gC=p(r)}}var bD=b(r),cu=[];for(var I=0;
I<bD;I++){var du=i(r)&4294967295;cu[I]=du>>16|du&1}var bq=b(r);for(var I=0;I<bD;I++){var aK=cu[I]&7,cQ=0;
if(aK==0||aK==2||aK==4||aK==6)cQ=r.data[r.f++];else if(aK==1||aK==3||aK==5||aK==7)cQ=r.data[r.f++]+r.data[r.f++]*256;
else throw aK;hn+=String.fromCharCode(cQ)}var jR=hn.split("\r");for(var I=0;I<jR.length;I++)dk.g$.push({text:jR[I],arH:ks,Wt:[]})}return dk}function B(r,h){var jC={},d=b(r);
for(var I=0;I<d;I++){var q=b(r);r.f+=4;var hc=b(r);jC[q]=hc;if(h)r.f+=48}return jC}function Z(r){var h=n(r),jC=n(r);
return new eD(h,jC)}function v(r){r.f+=4;var h=n(r),jC=n(r);return new eD(h,jC)}function E(r){r.f+=4;
var h=H(r)+H(r);r.f+=16;var jC=u(r,h);return jC}function g(r){var h=H(r);r.f+=2;return u(r,h)}function u(r,h){var jC=[],d=[];
for(var I=0;I<h;I++)jC.push([n(r),n(r)]);for(var I=0;I<h;I++)d.push(C(r));return j(jC,d)}function j(r,h){var jC={i:[],LG:[]},d=0,q=0,hc=0;
for(var I=0;I<r.length;I++){var d=r[I][0],q=r[I][1],dk=h[I];if(!(dk&64)&&!(dk&128)||I==0){jC.i.push(d,q);
jC.LG.push("M");hc+=2}else if(dk&64&&!(dk&128)){jC.i.push(d,q);jC.LG.push("L");hc+=2}else if(!(dk&64)&&dk&128){jC.i.push(d,q);
jC.LG.push("C");hc+=6}else if(dk&64&&dk&128){jC.i.push(d,q)}}if(hc!=jC.i.length)throw"e";return jC}function A(r,h){var jC=L.Dn;
h+=8;var d=jC(r,h);h+=4;var q=jC(r,h);h+=4;h+=4*7;var hc=h,dk=e.U(d*q*4);h+=1024;for(var c6=0;c6<q;c6++)for(var e3=0;
e3<d;e3++){var I=c6*d+e3,ks=(q-c6-1)*d+e3,cH=r[h+I]<<2,bI=ks<<2;dk[bI+0]=r[hc+cH+2];dk[bI+1]=r[hc+cH+1];
dk[bI+2]=r[hc+cH+0];dk[bI+3]=255}return{eD:dk,rect:new fA(0,0,d,q)}}function K(r){var h=r._G,jC=0,d=0,q=0;
if(h>=500){jC=H(r);if(jC==1&&h>=1300)jC=25;if(jC==30){jC=25;d=30}else{d=H(r);r.f+=4}q=b(r)}else if(h>=400)throw"e";
else{jC=C(r);q=b(r)}return s(jC,d,q)}function s(r,h,jC){var d=[0,0,0];if(r==2||r==3||r==9||r==17){var q=[jC>>>0&255,jC>>>8&255,jC>>>16&255,jC>>>24&255];
if(r==2)for(var I=0;I<4;I++)q[I]=Math.round(255*q[I]/100);for(var I=0;I<4;I++)q[I]/=255;d=UDOC.C.cmykToRgb(q)}else if(r==1||r==5){d=[jC>>>0&255,jC>>>8&255,jC>>>16&255];
for(var I=0;I<3;I++)d[I]=d[I]/255;if(r==5)d.reverse()}else console.log("Unknown color model "+r,jC,jC.toString(16));
return d}return{M3:x}}(),aE=function(){var o,P,w=new ArrayBuffer(4),x=new Uint8Array(w),z=new Uint32Array(w),S=new Float32Array(w);
function k(M,T){for(var O=0;O<M.length;O++)if(M[O][0]==T)return M[O]}function f(){var M=0,T=0,O=0;do{O=o[P++];
M|=(O&127)<<T;T+=7}while(O&128&&T<35);return M>>>0}function C(M,T,O,Y,U){o=M;P=T;var W=Y[0]=="mesg",t=Y[2],_={},n=1,y=W?1e9:t.length;
while(n<=y){var F=n;if(W){F=f();if(F==0)break}var a=k(t,F),V=a[2],D=a[1]==1,l=D?f():1,Q=new Array(l);
if(V==3){if(!D)throw"e";Q=o.slice(P,P+l);P+=l}else for(var I=0;I<l;I++){var m;if((V&1)==1){if(V==1)m=o[P++]==1;
else if(V==3)m=o[P++];else if(V==5){var R=f();m=R&1?~(R>>>1):R>>>1}else if(V==7)m=f();else if(V==9){if(o[P]==0){m=0;
P++}else{x[0]=o[P];x[1]=o[P+1];x[2]=o[P+2];x[3]=o[P+3];var $=z[0];z[0]=$<<23|$>>>9;m=S[0];P+=4}}else if(V==11){var p=H(o,P);
m=p[0];P+=p[1]+1}else throw V}else{var c=O[V>>>1];if(c[0]=="enum"){var B=f();m=c[2][B]}else{var Z=C(o,P,O,c,U+1);
m=Z[0];P=Z[1]}}Q[I]=m}_[a[3]]=D?Q:Q[0];n++}return[_,P]}function H(M,T){var O=T;while(M[O]!=0)O++;return[L.bR(new Uint8Array(M.buffer,T,O-T)),O-T]}function b(M,T){var O=T;
while(M[O]!=0)O++;for(var I=T;I<O;I++)if(M[I]>127)throw"e";return L.AW(M,T,O-T)}function i(M){o=M;P=1;
var T=[];while(P<M.length){var O=P,Y=T.length,U=b(M,P);P+=U.length+1;var W=f();if(W>2)throw"e";var t=f(),_=[];
for(var I=0;I<t;I++){var n=b(M,P);P+=n.length+1;var y=f(),F=f(),a=f();_.push(W==0?n:[a,F,y,n])}T.push([["enum","strc","mesg"][W],U,_])}return T}return{a1J:i,axf:C}}();
function ep(){}ep.M3=function(o,P){var w=Date.now(),x=new Uint8Array(o),z=8,S,i=0,Z=0;if(x[0]==80&&x[1]==75){S=UZIP.parse(o);
x=S["canvas.fig"]}var k=L.Dn(x,z);z+=4;var f=[];while(z<x.length){var C=L.Dn(x,z);z+=4;var H=x.slice(z,z+C);
if(x[z]==137&&x[z+1]==80){}else H=UZIP.inflateRaw(H);f.push(H);z+=C}var b=aE.a1J(f[0]);for(var I=0;I<b.length;
I++)if(b[I][1]=="Message")i=I;var M=aE.axf(f[1],0,b,b[i],0)[0],T={YO:{},Gv:{},a8j:{},Ec:S},O=M.nodeChanges;
for(var Y=0;Y<O.length;Y++){var U=O[Y],W=U.guid;T.Gv[W.sessionID+","+W.localID]=U}for(var Y=0;Y<O.length;
Y++){var U=O[Y],W=U.parentIndex;if(W){var t=ep.xg(T.Gv,W.guid);if(t.children==null)t.children=[];t.children.push(U)}}var _=O[0],n=_.children,y=new fA,F=[],a=[];
for(var W=0;W<n.length;W++){var V=n[W],D=V.children;if(V.name=="Internal Only Canvas"||D==null)continue;
var l=new fA;for(var I=0;I<D.length;I++){var Q=D[I],m=Q.transform,R=Q.size;if(m.m00==1&&m.m10==0&&m.m01==0&&m.m11==1){var $=new fA(m.m02,m.m12,R.x,R.y);
l=l.It($)}}var p=y._==0?0:y._+100,c=l.clone();c.x=0;c.y=p;y=y.It(c);F[W]=l;a[W]=p}var B=bZ.iG(new fA(0,0,y.q,y._),8192*8192);
P.q=Math.round(y.q/B);P._=Math.round(y._/B);P.buffer=e.U(P.q*P._*4);for(var W=0;W<n.length;W++){var V=n[W],D=V.children;
if(V.name=="Internal Only Canvas"||D==null)continue;D.sort(ep.aDY);var v=new ar(1,0,0,1,-F[W].x,a[W]-F[W].y);
v.scale(1/B,1/B);for(var I=0;I<D.length;I++){var Q=D[I];ep.C8(Q,[],v,M.blobs,P,0,T);Z++}}P.oj(Z);P._0=!0;
if(B!=1)alert("File scaled down "+B+"x")};ep.C8=function(o,P,w,x,z,S,k){var f=ep,l=!1,Q,$=!1,p,c;P=JSON.parse(JSON.stringify(P));
var C=o.overrideKey?o.overrideKey:o.guid;for(var I=0;I<P.length;I++){var H=P[I],b=H.guidPath.guids;if(f.aja(b[0],C)){if(b.length==1){var i={};
for(var M in o)i[M]=H[M]!=null?H[M]:o[M];o=i}else H.guidPath.guids=b.slice(1)}}var T=o.type,O=o.children,Y=o.size,U=o.effects,W=z._L();
W.bx(o.name);W.Kt(o.visible);W.opacity=Math.round(o.opacity*255);var t=f.o7(o.transform),_=t.clone();
_.concat(w);if(Y==null)Y={x:0,y:0};var n=new fA(Math.round(_.$X),Math.round(_.Ar),Math.round(Y.x*_.gz()),Math.round(Y.y*_.gz()));
if(n.q==0||isNaN(n.q))n.q=100;if(n._==0||isNaN(n._))n._=100;var y=o.fillPaints,F=o.inheritFillStyleID;
if(F){var i=f.xg(k.Gv,F);if(i)y=i.fillPaints}if(y==null)y=[];var y=f.akg(y),a=y[0];if(a&&a.type=="IMAGE"&&f.Ey(x,ep.UZ(a),k,!0)==null)a=null;
var V=o.strokePaints,F=o.inheritFillStyleIDForStroke;if(F){var i=f.xg(k.Gv,F);if(i)V=i.fillPaints}if(V==null)V=[];
var V=f.akg(V),D="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(T)!=-1;
if(D||T=="FRAME"){Q=new X.tc;f.a60(o,x,Q);l=e.n.ZV(Q.g);e.n.G9(Q.g,_);var m=e.a.lY(e.n.$s(Q.g));if(!m.Mw())n=m;
if(k.YO.SY&&a){var R=X.tc.tz(k.YO.SY.g);for(var I=2;I<R.length;I++)if(R[I].Hv!=null)R[I].Hv=3;Q.g=Q.g.concat(R.slice(2))}}if(a&&a.type=="IMAGE"){c=a.imageScaleMode;
$=!0;var B=a.originalImageWidth,Z=a.originalImageHeight;if(B*Z==0){var v=f.Ey(x,ep.UZ(a),k);B=v.pv.q;
Z=v.pv._}var E=B/Z,g=Y.x/Y.y;p=Math.abs(E-g)}if(T=="FRAME"){}else if(D&&l&&$&&(c=="FIT"||c=="FILL"&&p<=.05||c=="STRETCH"&&p<=.05)){var u=f.Ey(x,ep.UZ(a),k,!0),j=z.to(u,W.getName(),0,0);
j.Yo=W.Yo;j.opacity=W.opacity;W=j;var A=new fA(0,0,Y.x,Y.y);if(c=="FIT"){var K=a.originalImageWidth,s=a.originalImageHeight,r=Math.min(Y.x/K,Y.y/s),h=K*r,jC=s*r;
A=new fA(A.x+(A.q-h)/2,A.y+(A._-jC)/2,h,jC)}var d=e.a.R2(A).i;e.a.h(d,_,d);W.add.SoLd.Trnf=N.DH.Co(d);
W.add.SoLd.nonAffineTransform=N.DH.Co(d);var q=[],U=o.effects,hc=a.paintFilter;if(U)for(var I=0;I<U.length;
I++)if(U[I].type=="FOREGROUND_BLUR"){var dk=U[I],c6=cM.ip("GsnB",{});q.push(c6);c6.v.enab.v=dk.visible;
c6.v.Fltr.v.Rds.v.val=dk.radius/2.4}if(hc&&hc.exposure!=0){var c6=cM.ip("brit",{});q.push(c6);c6.v.Fltr.v.Brgh.v=Math.round(hc.exposure*160);
c6.v.Fltr.v.useLegacy.v=!0}if(hc&&hc.vibrance!=0){var c6=cM.ip("vibA",{});q.push(c6);c6.v.Fltr.v.Strt.v=Math.round(Math.round(hc.vibrance*100))}if(q.length!=0){W.add.SoLd.filterFX=cM.Gn();
z.w9({id:W.add.SoLd.placed.v,rect:new fA,buffer:e.U(1),u:new X.wy});W.add.SoLd.filterFX.v.filterFXList.v=q}W.w2(z,!1);
f.a2u(k,W,z)}else if(D){f.aHd(W,Q,o,a,V,_,n,x,z,k);if(U)for(var I=0;I<U.length;I++){var dk=U[I];if(dk.type!="FOREGROUND_BLUR")continue;
Q.yy=dk.radius/2.4}W.h6();W.qX(z)}else if(T=="TEXT"){var e3=o.textData,ks=e3.layoutSize,cH=["LEFT","RIGHT","CENTER"].indexOf(o.textAlignHorizontal);
W.add.lnsr="rend";W.add.TySh=fe.AH(0,0);W.add.TySh.Fy=new fA(0,0,100,100);var bI=_.clone();W.add.TySh.h=bI;
var aR=W.add.TySh.OY,ak=e3.characters;if(o.textCase=="TITLE"){for(var I=0;I<ak.length;I++)if(I==0||ak[I-1]==" "){var cN=ak.slice(0,I),gC=ak.slice(I+1);
ak=cN+ak[I].toUpperCase()+gC}}ak=ak.replace(/\u2028/g,"\n");ak=ak.replace(/\u2029/g,"\n");ak=ak.replace(/\r\n/g," \n");
fe.EF(aR,0,ak);var bD=o.textAutoResize,cu=e3.baselines;if(bD=="WIDTH_AND_HEIGHT"){var du=cH==0?0:cH==1?ks.x:ks.x/2,bq=cu?cu[0].position.y:0;
bI.translate(du*_.gz(),bq*_.gz());fe.mn(aR,0)}else if(bD=="HEIGHT"||bD=="NONE"||bD==null){var bq=cu?cu[0].position.y-o.fontSize*.7:0;
bI.translate(0,bq*_.gz());fe.mn(aR,1);fe.SP(aR,[0,0,Math.round(ks.x),Math.round((bD=="NONE"?1.8:1)*ks.y)])}else throw bD;
if(ak!=""){var hn=fe.Zv(aR,0,1);f.aB$(o,_,Y,hn,W,x,z,k);fe.Bi(aR,0,ak.length,hn);var aK=e3.characterStyleIDs,cQ=e3.styleOverrideTable;
if(aK){aK=aK.slice(0);for(var I=0;I<aK.length;I++)if(ak[I]=="\n")aK[I]=-I-1;var jR=[0],ch=0,bx=0;for(var I=0;
I<aK.length;I++){bx++;var jf=aK[I];if(I==0||jf==aK[I-1]){}else{jR.push(bx-1,I);bx=1}}jR.push(bx);for(var I=0;
I<jR.length;I+=2){var dW=jR[I],bf=jR[I+1];if(ak[dW]=="\n")continue;var jf=aK[dW];if(jf!=0){var iu;for(var dV=0;
dV<cQ.length;dV++)if(cQ[dV].styleID==jf)iu=cQ[dV];var hn=fe.Zv(aR,dW,dW+1);f.aB$(iu,_,Y,hn,W,x,z,k);
fe.Bi(aR,dW,dW+bf-1,hn)}}}}}else if(T=="SYMBOL"){}else if(T=="INSTANCE"&&o.symbolData){var gb=o.symbolData,gP=gb.symbolOverrides,i=f.xg(k.Gv,gb.symbolID);
if(i)O=i.children;else console.log(o.name,"symbol not found",gb.symbolID);P=P.slice(0);for(var I=0;I<gP.length;
I++)P.push(gP[I])}else console.log(T);if(!1){}else if(O&&!D){z.R.push(z.VY());var eJ=!1,c1=S==0&&T!="SYMBOL"&&T!="INSTANCE";
if(c1){if(n.Mw())console.log(n);W.VZ(n)}a=y[y.length-1];if(a&&a.type=="IMAGE"&&f.Ey(x,ep.UZ(a),k,!0)==null)a=null;
if(c1&&a&&a.type=="SOLID"){var ku=a.color;W.add.artb.artboardBackgroundType.v=4;W.add.artb.Clr=f.HQ(ku)}else if((a||V[0])&&Q){var aC=z._L();
aC.bx("Background");f.aHd(aC,Q,o,a,V,_,n,x,z,k);aC.h6();aC.qX(z);z.R.push(aC);eJ=!0}O.sort(f.aDY);var gU=k.YO;
k.YO={};for(var hR=0;hR<O.length;hR++)f.C8(O[hR],P,_,x,z,S+1,k);k.YO=gU;W.add.lsct=!1?jS.KC:jS.v_;W.gS="pass";
var a7=W.ny();W.Yo=24;W.Kt(a7);var dh=S!=0&&y.length!=0&&!o.frameMaskDisabled&&o.containerSupportsFillStrokeAndCorners;
if(!eJ&&dh&&Q){W.add.vmsk=Q;W.h6();W.qX(z)}else f.a2u(k,W,z);z.R.push(W)}else if(o.mask){if(Q){k.YO.SY=Q}}else{var eS=[],b2=1;
if(U)for(var d0=0;d0<U.length;d0++){var dk=U[d0],cJ=dk.color,aO=dk.type,a9=["DROP_SHADOW","INNER_SHADOW"].indexOf(aO);
if(a9!=-1){var ac=["DrSh","IrSh"][a9],e7=JSON.parse(iR.lC[iR.order.indexOf(ac)]);eS.push([ac,e7]);e7.enab.v=dk.visible;
e7.Md.v.BlnM=jK.W_(f.amz(dk.blendMode));e7.Opct.v.val=Math.round(100*cJ.a);e7.blur.v.val=Math.round(dk.radius*_.gz());
e7.Clr=f.HQ(cJ);var du=dk.offset.x,bq=dk.offset.y;e7.uglg.v=!1;e7.lagl.v.val=Math.round(180/Math.PI*Math.atan2(bq,-du));
e7.Dstn.v.val=Math.round(Math.sqrt(du*du+bq*bq)*_.gz())}}if(T=="TEXT"&&y[0]&&y[0].type!="SOLID")b2=0;
for(var I=b2;I<y.length;I++){var jQ=y[I],g9=f.oh(o,jQ,_,n,x,z,k);if(g9[0]=="GdFl")eS.push(["GrFl",g9[1]]);
else if(g9[0]=="SoCo")eS.push(["SoFi",g9[1]]);else if(g9[0]=="PtFl")eS.push(["patternFill",g9[1]]);else if(g9[0]=="None"){}else throw g9}if(!D)for(var I=0;
I<V.length;I++){var jQ=V[I],g9=f.oh(o,jQ,_,n,x,z,k);if(g9[0]=="SoCo"){var e7=JSON.parse(iR.lC[iR.order.indexOf("FrFX")]);
eS.push(["FrFX",e7]);e7.enab=g9[1].enab;e7.Opct=g9[1].Opct;e7.Md=g9[1].Md;e7.Clr=g9[1].Clr;e7.Sz.v.val=Math.round(o.strokeWeight);
var cx=o.strokeAlign;if(cx)e7.Styl.v.FStl=iR.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(cx)]}}if(eS.length!=0){var i8=JSON.parse(iR.default);
for(var I=0;I<iR.order.length;I++)i8[iR._7[I]]={t:"VlLs",v:[]};for(var I=0;I<eS.length;I++){var fw=eS[I],ac=iR._7[iR.order.indexOf(fw[0])];
i8[ac].v.unshift({t:"Objc",v:fw[1]})}if(O==null)W.add.lmfx=i8}z.R.push(W)}};ep.aHd=function(o,P,w,x,z,S,k,f,C,H){var b=ep;
o.Yo|=16;o.add.vmsk=P;var i=o.add.vstk=iR.Vq.bS(),M=b.oh(w,x,S,k,f,C,H);i.fillEnabled.v=M[0]!="None";
if(M[0]=="None"){o.add.SoCo=M[1]}else{b.Lm(M,o);o.add[M[0]]=M[1]}var M=b.oh(w,z[0],S,k,f,C,H);if(M[0]!="None"){var i=o.add.vstk;
i.strokeEnabled.v=!0;i.strokeStyleLineWidth.v.val=w.strokeWeight*S.gz();i.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[["INSIDE","CENTER","OUTSIDE"].indexOf(w.strokeAlign)];
var T={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[M[0]],O=["SoFi","GrFl","patternFill"].indexOf(T),Y=[iR.pL,iR.d$,iR.pg][O];
i.strokeStyleContent.v={classID:iR.Vq.Fs[0]};var U=w.dashPattern;if(U)i.strokeStyleLineDashSet.v=iO.YQ(U,1/w.strokeWeight);
var W=i.strokeStyleContent.v={classID:iR.Vq.Fs[O]};for(var I=0;I<Y.length;I++)W[Y[I]]=M[1][Y[I]];if(!i.fillEnabled.v)b.Lm(M,o)}};
ep.Lm=function(o,P){var w=o[1].Opct.v.val;if(w!=100)P.opacity=Math.round(P.opacity/255*(w/100)*255)};
ep.aDY=function(o,P){var w=o.parentIndex.position,x=P.parentIndex.position;return w>x?1:-1};ep.akg=function(o){for(var I=1;
I<o.length;I++){var P=o[I];if(P.type=="IMAGE"&&P.opacity==1){o=o.slice(I);break}}for(var I=0;I<o.length;
I++){var P=o[I],w=P.imageThumbnail,x=P.type=="IMAGE";if(x&&(P.image==null||P.image.dataBlob==null)&&w&&w.dataBlob)P.image=w;
if(!P.visible||x&&P.image==null){o.splice(I,1);I--}}return o};ep.a2u=function(o,P,w){if(o.YO.SY){P.add.vmsk=o.YO.SY.clone();
P.h6();P.qX(w)}};ep.aB$=function(o,P,w,x,z,S,k,f){var C=o.fontSize,H=o.lineHeight,b=o.fontName,i=o.textAlignHorizontal,M=o.textTracking,T=o.textCase,O=o.textDecoration;
if(C==null)C=x.OR.FontSize;if(b){var Y=b.postscript;if(Y==""){var U=b.family,W=b.style;Y=U.split(" ").join("")+"-"+W}fe.bB(x,Y)}if(C!=null)x.OR.FontSize=Math.round(C);
if(O=="UNDERLINE")x.OR.Underline=!0;if(M)x.OR.Tracking=Math.round(M*1e3);if(T)x.OR.FontCaps=T=="UPPER"?2:0;
if(H&&(H.units!="PERCENT"||H.value!=100)){if(C==null)C=15;var t=H.value;if(H.units=="PERCENT")t=1*C*t/100;
if(H.units=="RAW")t=1*C*t;x.OR.AutoLeading=!1;x.OR.Leading=Math.round(t)}if(i)x.bp.Justification=["LEFT","RIGHT","CENTER"].indexOf(i);
var _=o.fillPaints,n=o.inheritFillStyleID;if(n){var y=ep.xg(f.Gv,n);if(y)_=y.fillPaints}if(_&&_[0]){var F=ep.oh(o,_[0],P,w,S,k,f);
if(F[0]=="SoCo"){var a=e.G.dQ(F[1].Clr.v);x.OR.FillColor={Type:1,Values:[1,a.$/255,a.H/255,a.b/255]};
ep.Lm(F,z)}}};ep.oh=function(o,P,w,x,z,S,k){var f=ep,C,H,b=o.size;if(b==null)b={x:0,y:0};if(P){var i=P.type,M=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(i);
if(i=="SOLID"){C="SoCo";var T=P.color;H=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);H.Clr=f.HQ(T)}else if(M!=-1){var O=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),Y=O.Grad.v;
Y.Intr.v=0;O.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][M];var U=[],W=P.stops;for(var I=0;I<W.length;I++){var t=W[I],_=t.color;
U.push([t.position,[_.r,_.g,_.b],_.a])}e.G.U_(U,Y);var n=f.o7(P.transform);n.Sd();var y=n.clone();if(b)y.scale(b.x,b.y);
y.concat(w);var F=new eD(0,.5),a=new eD(1,.5);F=y.Zc(F);a=y.Zc(a);if(!0){F.x=a.x+.5*(F.x-a.x);F.y=a.y+.5*(F.y-a.y)}e.G.jh(F,a,x,O);
if(M==3){if(y.F*y.RL-y.b*y.JJ<0)O.Rvrs.v=!O.Rvrs.v}C="GdFl";H=O}else if(i=="IMAGE"){var O=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]),n=f.o7(P.transform);
n.Sd();var V=ep.UZ(P),D=k.a8j[V];if(D==null){var l=f.Ey(z,V,k);D=k.a8j[V]={};D.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";
D.kR=[new Uint8Array(l.data),l.pv];if(n.F<0){var Q=D.kR[0].slice(0);e.W.ug(Q,D.kR[0],l.pv.q,l.pv._)}D.name="someImage";
S.dO(D)}if(n.F<0)n.F=-n.F;var m=["FILL","FIT","STRETCH","TILE"].indexOf(P.imageScaleMode),R=m==3?P.scale:1;
iO.aEe(D,O,b.x,b.y,m,w,n,R);C="PtFl";H=O}else if(i=="VIDEO"){C="SoCo";H=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);
H.Clr=f.HQ({r:255,g:0,b:255})}else throw i;if(H)H.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(P.opacity*100)}}}if(C==null||P.opacity<.001){C="None";
H={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}}}return[C,H]};ep.UZ=function(o){var P=o.image,w=P.dataBlob;
if(w==null){w="";for(var I=0;I<20;I++)w+=P.hash[I].toString(16).padStart(2,"0")}return w};ep.Ey=function(o,P,w,x){if(o[P]){var z=o[P];
if(x)return z.bytes;if(z.rslt)return z.rslt;var S=z.bytes.buffer;z.rslt=ep.aA2(S);return z.rslt}else{if(w.Ec==null)return null;
if(x)return w.Ec["images/"+P];var S=w.Ec["images/"+P].buffer;if(w.Ec["images/-"+P])return w.Ec["images/-"+P];
w.Ec["images/-"+P]=ep.aA2(S);return w.Ec["images/-"+P]}};ep.aA2=function(o){var P=eu.IL(o);if(P=="fpng")P="png";
var w=eu.oi(P);try{return w.mJ(o)[0]}catch(bF){return{data:e.U(4),pv:new fA(0,0,1,1)}}};ep.a60=function(o,P,w){var x=o.type,z=o.size,S=o.cornerRadius,H;
if(S==null)S=0;var k=z.x,f=z.y,C=[S,S,S,S],b=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var I=0;I<4;I++)if(o[b[I]]!=null)C[I]=o[b[I]];if(x=="RECTANGLE"||x=="ROUNDED_RECTANGLE"||x=="FRAME"){H=e.n.fg.Rect(0,0,k,f,C)}else if(x=="ELLIPSE"){var i=o.arcData,M=i?i.startingAngle:0,T=i?i.endingAngle:2*Math.PI,O=i?i.innerRadius:0;
if(M==0&&T>1.999*Math.PI)H=e.n.fg.nT(0,0,k,f,0);else H=e.n.fg.atf(k/2,f/2,f/2,M,T);if(O!=0&&O!=1){var Y=X.tc.tz(H).slice(3);
Y.reverse();for(var I=0;I<Y.length;I++){var U=Y[I],W=U.Fm;U.Fm=U.AK;U.AK=W}var t=new ar;t.translate(-k/2,-f/2);
t.scale(O,O);t.translate(k/2,f/2);e.n.G9(Y,t);H=H.concat(Y);H[2].length*=2}}else if(x=="LINE"){H=e.n.fg.Rect(0,0,k,f,0);
H.pop();H.pop();H[2].length=2}else if(x=="STAR"){H=e.n.fg.a1X(k/2,f/2,k/2,2*Math.PI*(1/4),5,0,o.starInnerScale)}else if(x=="REGULAR_POLYGON"){H=e.n.fg.ff(.5,.5,.5,Math.PI/2,o.count,0);
var _=new ar;_.scale(k,f);e.n.G9(H,_)}else if(x=="BOOLEAN_OPERATION"){H=[{type:6},{type:8,all:0}];var n=o.children,y=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(o.booleanOperation);
if(y==-1)throw o;if(n==null)n=[];for(var I=0;I<n.length;I++){var F=n[I],a=new X.tc,V=ep.a60(F,P,a);if(a.g==null)continue;
e.n.G9(a.g,ep.o7(F.transform));H=H.concat(a.g.slice(2))}for(var I=3;I<H.length;I++)if(H[I].Hv!=null)H[I].Hv=y}else if(x=="VECTOR"){var D,l,g=3;
if(!0){var Q=o.vectorData;if(Q==null)return;D=Q.normalizedSize;l=Q.vectorNetworkBlob}var m=P[l].bytes,R=new Uint32Array(m.buffer),$=new Float32Array(m.buffer),p=R[0],c=R[1],B=R[2],Z=[],v=[],E=[],j=g+p*3,A=j+c*7;
for(var I=0;I<p;I++){var K=g+I*3,s=new eD($[K+1],$[K+2]);Z.push(s)}for(var I=0;I<c;I++){var r=j+I*7;
v.push([R[r+0],R[r+1],$[r+2],$[r+3],R[r+4],$[r+5],$[r+6]])}for(var I=0;I<B;I++){var h=R[A+1],jC=E[I]=[];
A+=2;for(var d=0;d<h;d++){var q=R[A++],hc=jC[d]=[];for(var dk=0;dk<q;dk++)hc[dk]=R[A+dk];A+=q}}if(A!=R.length&&A!=R.length-1)throw"e";
if(B==0){var c6=-1;for(var I=0;I<c;I++){if(c6==-1){}else{var e3=-1;for(var d=I;d<c;d++)if(v[d][4]==c6)e3=d;
for(var d=I;d<c;d++)if(v[d][1]==c6)e3=d;if(e3!=-1){var ks=0,W=v[e3];v[e3]=v[I];v[I]=W;if(W[1]!=c6){ks=W[1];
W[1]=W[4];W[4]=ks;ks=W[2];W[2]=W[5];W[5]=ks;ks=W[3];W[3]=W[6];W[6]=ks}}}c6=v[I][4]}E.push([[]]);for(var I=0;
I<c;I++)E[0][0].push(I)}var cH=[],bI=[];for(var aR=0;aR<E.length;aR++){for(var ak=0;ak<E[aR].length;
ak++){var cN=E[aR][ak],gC=0;if(cN.length>1){var bD=v[cN[0]],cu=v[cN[1]];gC=bD[4]==cu[1]?1:0}for(var I=0;
I<cN.length;I++){var du=v[cN[I]],bq=1,hn=4;if(gC==0){bq=4;hn=1}var aK=Z[du[bq]],cQ=Z[du[hn]];if(I==0){bI.push("M");
cH.push(aK.x,aK.y)}bI.push("C");cH.push(aK.x+du[bq+1],aK.y+du[bq+2],cQ.x+du[hn+1],cQ.y+du[hn+2],cQ.x,cQ.y)}}}H=e.a.B6({i:cH,LG:bI},!1);
if(S!=0){var C=[],jR=H[2].length;for(var I=0;I<jR;I++)C.push(S);if(e.n.Wl(H))e.n.DG(H,2,C)}var ch=new ar;
ch.scale(D.x==0?1:z.x/D.x,D.y==0?1:z.y/D.y);e.n.G9(H,ch)}w.g=H};ep.xg=function(o,P){return o[P.sessionID+","+P.localID]};
ep.aja=function(o,P){return o.sessionID==P.sessionID&&o.localID==P.localID};ep.amz=function(o){var P={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[o];
if(P==null)throw o;return P};ep.HQ=function(o){return{t:"Objc",v:e.G.e1({$:o.r*255,H:o.g*255,b:o.b*255})}};
ep.o7=function(o){if(o==null)return new ar;var P=[o.m00,o.m10,o.m01,o.m11,o.m02,o.m12];for(var I=0;I<6;
I++)if(Math.abs(P[I])<1e-20)P[I]=0;return new ar(P[0],P[1],P[2],P[3],P[4],P[5])};function fk(){}fk.M3=function(){var o=L.AW;
function P(T,O,Y,U){var W=U?[]:{};while(O<T.length-1&&T[O]!=125){var t=o(T,O,3),_=o(T,O+3,1),n;O+=4;
O++;if(_=="v"){var y=P(T,O,Y+1,t=="ELM"||t=="TIL"||t=="TFS");n=y.P;O=y.f}else if(_=="i"||_=="f"){var F=O;
while(T[F]!=125)F++;var a=o(T,O,F-O);n=_=="i"?parseInt(a,16):parseFloat(a);O=F+1}else if(_=="s"){var V=L.Vp(T,O),a="";
O+=2;for(var I=0;I<V;I++)a+=String.fromCharCode(T[O+2*I+1]);n=a;O=O+2*V+1}else if(_=="b"){n=T[O]==49;
O=O+2}else throw"e";if(U)W.push([t,n]);else if(W[t]==null)W[t]=n;else{if(!(W[t]instanceof Array))W[t]=[W[t]];
W[t].push(n)}}O++;return{P:W,f:O}}function w(T,O){var Y=x(T).slice(1),T=O.Clr.v;T.Rd.v=Y[0]*255;T.Grn.v=Y[1]*255;
T.Bl.v=Y[2]*255}function x(T){return[(T>>>24&255)/255,(T>>>16&255)/255,(T>>>8&255)/255,(T>>>0&255)/255]}function z(T,O){var Y=O&4278190080|(O&255)<<16|(O>>>8&255)<<8|O>>>16&255;
new Uint32Array(T.buffer).fill(Y)}function S(T,O){var Y=T.TSZ,U=T.WPX,W=T.HPX,t=T.TIL,_=new fA(0,0,U,W),n=e.U(U*W*4),y=0;
for(var F=0;F<W;F+=Y)for(var a=0;a<U;a+=Y){var V=new fA(a,F,Y,Y),D,l=t[y];if(l[0]=="TMC"){D=e.U(V.c()*4);
z(D,l[1])}else if(l[0]=="TID"){D=O[l[1]]}e.sR(D,V,n,_);y++}return[n,_]}function k(T,O){T=new Uint8Array(T);
var Y=8,U,W={},c=0;while(Y<T.length){var t=L.RS(T,Y);Y+=4;var _=o(T,Y,4);Y+=4;if(_=="mkTS"){var n=pako.inflate(T.slice(Y,Y+t)),y=P(n,0,0);
U=y.P}else if(_=="mkBT"){var F=L.RS(T,Y+4),a=L.RS(T,Y+8),n=pako.inflate(T.slice(Y+76,Y+t));if(a==0)for(var I=0;
I<n.length;I+=4){var V=n[I],D=n[I+1],l=n[I+2],Q=n[I+3];n[I+3]=V;n[I+2]=Q;n[I+1]=l;n[I]=D}else{var m=e.U(n.length*4);
m.fill(255);e.K0(n,m);n=m}W[F]=n}Y+=t+4}var R=U.PDC,$=R?R instanceof Array?R:[R]:[U.MKB],p=new fA;for(var I=0;
I<$.length;I++){var B=$[I];p=p.It(new fA(0,c,B.WID,B.HIT));c+=B.HIT+100}O.q=p.q;O._=p._;O.buffer=e.U(p.c()*4);
O.oj($.length);c=0;for(var Z=0;Z<$.length;Z++){O.R.push(O.VY());var B=$[Z],v=B.WID,E=B.HIT,g=B.BGC,u=(B.LYL?B:U).LYL.LAY,K=3;
for(var I=0;I<u.length;I++)C(u[I],O,null,W,new ar(1,0,0,1,-B.XLC,-B.YLC+c));var j=O._L();O.R.push(j);
var A=new fA(0,c,v,E);c+=E+100;j.VZ(A);if(g>>>24!=0){var s=e.G.e1({$:g>>>16&255,H:g>>>8&255,b:g>>>0&255});
j.add.artb.Clr={t:"Objc",v:s};K=4}j.add.artb.artboardBackgroundType.v=K;j.bx(B.PGN?B.PGN:"Page "+(Z+1));
j.add.lsct=jS.v_;j.gS="pass";j.Yo=24}}function f(T,O,Y){var U=T[O];return U instanceof Array?U[Y]:U}function C(T,O,Y,U,W){var t=O._L();
if(T.VIS!=null)t.Kt(T.VIS);if(T.VIF!=null)t.Kt(T.VIF.VIS);if(T.OPA!=null)t.opacity=Math.round(255*T.OPA/1e3);
t.gS=T.CLL||Y=="GRP"?"pass":"norm";if(T.BLD!=null){var _=T.BLD,n={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[_+""];
if(n==null)console.log(T.OBN,_);else t.gS=n;if(_==30)t.opacity>>>=1}if(T.CLL){t.bx(T.LNM);O.R.push(O.VY());
var y=T.CLL.CEL;if(y.length==null)y=[y];for(var F=y.length-1;F>=0;F--){var a=y[F].ELM;for(var I=a.length-1;
I>=0;I--)C(a[I][1],O,a[I][0],U,W)}t.add.lsct=T.DIS?jS.KC:jS.v_;t.Yo|=24}else if(Y=="GRP"){var V=t.add.lmfx=b(T.EFL),D;
O.R.push(O.VY());var a=T.ELM,l=T.MRM;if(T.MNA){D=a[0][1];a=a.slice(1)}t.bx("Group: "+a.length+" objects");
for(var I=a.length-1;I>=0;I--)C(a[I][1],O,a[I][0],U,W);if(D){if(T.MRX){var Q=S(D,U),m=t.u=new X.wy;m.rect=Q[1].clone();
m.rect.x=D.XLC;m.rect.y=D.YLC+W.Ar;m.channel=e.U(m.rect.c());e.JX(Q[0],m.channel,0);e.Sd(m.channel)}else{H(t,D,W);
t.h6();t.qX(O)}}if(l){H(t,l.PTH,W);t.h6();t.qX(O)}t.add.lsct=jS.v_;t.Yo|=24}else if(Y=="IMG"){t.bx(T.OBN?T.OBN:"Bitmap");
var Q=S(T,U);t.rect=Q[1].clone();t.rect.x=T.XLC;t.rect.y=T.YLC+W.Ar;t.buffer=Q[0]}else if(Y=="TXT"){var R=T.TFS,Z="";
t.add.lnsr="rend";t.add.TySh=fe.AH(0,0);t.add.TySh.Fy=new fA(0,0,100,100);var $=new ar(1,0,0,1,T.LFT,T.TOP);
if(T.MTX){var p=T.MTX,m=new ar(p.M00,p.M01,p.M10,p.M11,p.M20,p.M21);$.concat(m)}$.concat(W);t.add.TySh.h=$;
var c=t.add.TySh.OY,B=fe.Zv(c,0,0),v=f(T,"FON");if(v)fe.bB(B,v);var E=f(T,"PTS");if(E)B.OR.FontSize=Math.round(E);
var g=f(T,"ITL");if(g)B.OR.FauxItalic=g;if(T.PAT)B.OR.FillColor={Type:1,Values:x(f(T.PAT,"FCL"))};for(var I=0;
I<R.length;I++){var u=R[I][0],j=R[I][1];if(u=="TRN"){j=j.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
j=j.replaceAll("\x03","\n").replaceAll("\r","\n");fe.EF(c,Z.length,j);fe.Bi(c,Z.length,Z.length+j.length,B);
Z+=j}else if(u=="FON")fe.bB(B,j);else if(u=="PTS")B.OR.FontSize=Math.round(j);else if(u=="ITL")B.OR.FauxItalic=j;
else if(u=="UND")B.OR.Underline=j;else if(u=="FCL")B.OR.FillColor={Type:1,Values:x(j)};else if(u=="LED"){B.OR.Leading=j*B.OR.FontSize;
B.OR.AutoLeading=!1}else if(u=="JST")B.bp.Justification=[0,2,1,3,5,4,6,7,8][j]}t.bx(Z.slice(0,255));
var A=T.RIT-T.LFT,K=T.BOT-T.TOP;if(T.IMG){C(T.IMG,O,"IMG",U,W);var s=O.R.pop();t.buffer=s.buffer;t.rect=s.rect.clone()}fe.mn(c,1);
fe.SP(c,[0,0,A,K])}else if(Y=="PTH"){t.bx(T.OBN?T.OBN:"Path");t.Yo|=16;var r=!1;H(t,T,W);var h=t.add.vmsk,jC=t.add.vstk,d=e.n.$s(h.g),q=T.PAT,hc=q.BPL,dk=q.FPL,c6=q.TXF;
if(dk&&dk.FEF)h.yy+=dk.FEF/2.4;if(hc){var e3=hc.CAT;jC.strokeEnabled.v=!0;jC.strokeStyleLineWidth.v.val=hc.BDI;
jC.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[T.BRP];w(q.BCL,jC.strokeStyleContent.v);
if(e3!="bc_Basic"&&e3!="bc_Pencil")r=!0}jC.fillEnabled.v=dk!=null;if(dk==null){t.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);
w(0,t.add.SoCo)}else if(dk.CAT=="fc_Solid"){t.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);w(T.PAT.FCL,t.add.SoCo)}else if(dk.CAT=="fc_Linear"||dk.CAT=="fc_Circular"||dk.CAT=="fc_Elliptical"){var ks=dk.CAT=="fc_Linear",cH=t.add.GdFl=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),bI=cH.Grad.v,aR=[],ak=dk.FGL,cN,gC=[];
if(ak.FGY){var bD=ak.FGY,cN=bD.FG0.FGI,gC=bD.FG1.FGI}else cN=ak.FGV.FGI;for(var I=0;I<cN.length;I++){var cu=cN[I],bq=x(cu.FGC),hn=1;
if(gC.length==cN.length)hn=x(gC[I].FGC)[0];aR.push([cu.FGP,bq.slice(1),hn])}cH.Type.v.GrdT=ks?"Lnr":"Rdl";
e.G.U_(aR,bI);bI.Intr.v=0;var aK=T.PRI?T.PRI:T,cQ=new eD(aK.PSX,aK.PSY),jR=new eD(aK.PEX,aK.PEY);if(dk.CAT=="fc_Elliptical"&&aK.PFX!=null){var ch=new eD(aK.PFX,aK.PFY),bx=eD.a_(cQ,jR),jf=eD.a_(cQ,ch);
if(jf<bx){var dW=bx;bx=jf;jf=dW}jR=new eD(cQ.x+(bx+jf)/2,cQ.y);if(bx/jf<.5)r=!0}if(ks){cQ.x=(cQ.x+jR.x)/2;
cQ.y=(cQ.y+jR.y)/2}e.G.jh(cQ,jR,d,cH)}else console.log(dk.CAT);var V=t.add.lmfx=b(T.EFL,h);if(dk&&dk.FTB!=0&&c6){var Q=S(c6.MSK,U),bf={};
bf.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";bf.name="someImage";bf.kR=Q;O.dO(bf);var iu=Q[0];for(var I=0;
I<iu.length;I+=4){iu[I+3]=255-iu[I];iu[I]=iu[I+1]=iu[I+2]=255}var cH=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]);
cH.Opct.v.val=Math.round(dk.FTB/10);cH.Algn.v=!0;cH.Ptrn.v.Idnt.v=bf.id;V.patternFillMulti.v.unshift({t:"Objc",v:cH})}if(r&&T.IMG){C(T.IMG,O,"IMG",U,W);
var dV=O.R[O.R.length-1];dV.opacity=t.opacity;return}t.h6();t.qX(O)}else if(Y=="URL")return;else{console.log("unknown layer type",Y,T);
t.bx("Layer")}O.R.push(t)}function H(T,O,Y){if(O.PBL==null)return;var U=T.add.vmsk=new X.tc,W=T.add.vstk=iR.Vq.bS(!0),t=O.PBL.PBP;
if(!(t instanceof Array))t=[t];for(var _=0;_<t.length;_++){var n=t[_].PBT;if(n==null)continue;if(!(n instanceof Array))n=[n];
var y=t[_].ISC?0:3;U.g.push({type:y,length:n.length,Hv:0,cI:2,p_:0,xd:0});for(var I=0;I<n.length;I++){var F=n[I],a=F.XLC,V=F.YLC,D=[a,V,a,V,a,V],l="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Q=0;Q<6;Q++){var m=l[Q],R=F[m];if(R!=null)D[Q]=R}U.g.push({type:y+2,v:new eD(a,V),Fm:new eD(D[0],D[1]),AK:new eD(D[4],D[5])})}}e.n.G9(U.g,Y)}function b(T,O){var Y=JSON.parse(iR.default);
for(var I=0;I<iR.order.length;I++)Y[iR._7[I]]={t:"VlLs",v:[]};if(T==null||T.EPS==null)return Y;var U=T.EPS;
if(!(U instanceof Array))U=[U];for(var I=0;I<U.length;I++){var W=U[I].DCE,t={};for(var _=0;_<W.length;
_++)t[W[_].DCK]=W[_].DCV;if(t.EffectIsVisible=="false")continue;var n=t.mkbFile_WriteOnly_TemporaryEffectUiName;
if(n=="Gaussian Blur..."&&O){O.yy+=parseFloat(t.gaussian_blur_radius);continue}var y=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(n);
if(y==-1){continue}var F=["DrSh","ebbl","IrGl","OrGl"][y],a=iR._7[iR.order.indexOf(F)],V=JSON.parse(iR.lC[iR.order.indexOf(F)]);
Y[a].v.unshift({t:"Objc",v:V});if(F=="DrSh"){V.uglg.v=!1;i(t,"ShadowDistance",V,"Dstn");i(t,"ShadowBlur",V,"blur");
i(t,"ShadowAngle",V,"lagl",180);V.Opct.v.val=100;M(t,"ShadowColor",V,"Clr")}if(F=="IrGl"){V.Md.v.BlnM="Nrml";
var D=t.MaskSoftness,l=t.GlowWidth;if(D&&l){D=parseInt(D);l=parseInt(l);V.blur.v.val=l+D;V.Ckmt.v.val=Math.round(100*l/(l+D))}i(t,"BevelContrast",V,"Opct");
M(t,"OuterBevelColor",V,"Clr")}if(F=="OrGl"){V.Md.v.BlnM="Nrml";var D=t.MaskSoftness,l=t.GlowWidth;if(D&&l){D=parseInt(D);
l=parseInt(l);V.blur.v.val=l+D}i(t,"BevelContrast",V,"Opct");M(t,"OuterBevelColor",V,"Clr")}if(F=="ebbl"){V.uglg.v=!1;
i(t,"BevelWidth",V,"blur");i(t,"AngleSoftness",V,"Sftn");i(t,"BevelContrast",V,"srgR");i(t,"LightAngle",V,"lagl")}}return Y}function i(T,O,Y,U,W){var t=T[O];
if(W==null)W=0;if(t)Y[U].v.val=parseInt(t)+W}function M(T,O,Y,U){var W=T[O];if(W){W=W.slice(1);if(W.length==6)W=W+"ff";
if(W.length!=8)throw"e";var t=x(parseInt(W,16)),_=Y[U].v;_.Rd.v=t[0]*255;_.Grn.v=t[1]*255;_.Bl.v=t[2]*255;
Y.Opct.v.val=Math.round(Y.Opct.v.val/100*t[3]*100)}}return k}();var gz=function(){function o(k){var f=new Uint8Array(k.length);
L.Xi(f,0,k);return f}function P(k){var f=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",o("")],C=f.length,b=0;
f.push("<< /AIMetaData  "+(C+2)+" 0 R /AIPrivateData1 "+(C+3)+" 0 R  /AIPrivateData2 "+(C+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
f.push(o(""));f.push(o(""));f.push(k);var H=new bA,i=[];function M(U){L.x8(H,b,U);b+=U.length}M("%PDF-1.5\n");
for(var I=0;I<f.length;I++){i.push(b);M(I+1+" 0 obj\n");var T=f[I];if(typeof T=="string")M(f[I]+"\n");
else{var O=pako.deflate(T);M("<< /Length "+O.length+" /Filter [ /FlateDecode ] >>\nstream\n");H.dZ(b,O.length);
H.data.set(O,b);b+=O.length;M("\nendstream\n")}M("endobj\n")}var Y=b;M("xref\n0 "+(i.length+1)+"\n0000000000 65535 f\r\n");
for(var I=0;I<i.length;I++)M((i[I]+"").padStart(10,"0")+" 00000 n\r\n");M("trailer\n<< /Root 1 0 R /Size "+(i.length+1)+" >>\nstartxref\n"+Y+"\n%%EOF\n");
return H.data.slice(0,b)}function w(k,f){var C=Date.now(),H=new Uint8Array(k),b,i=H[2]==68;if(f)console.log(!i?"EPS":"PDF");
if(i){var M=L.mG(H,"/AIMetaData "),F,a,V;while(H[M]!=60)M--;M--;var T=L.mG(H,">>",M),O=L.AW(H,M+2,T-M-2).split("/"),Y=[];
for(var I=0;I<O.length;I++){var U=O[I],W=U.startsWith("AIPrivateData"),t=U.startsWith("AIPDFPrivateData");
if(!W&&!t)continue;var _=U.trim().split(/\s+/),n=parseInt(_[1]),y=parseInt(_[0].slice(W?13:16));Y.push([y,n])}if(f)console.log("--- map made",Date.now()-C);
C=Date.now();while(!0){var D=FromPDF.indexOfXref(H),l=[],Q=FromPDF.readXrefTrail(H,D,l),m={buff:H,off:0},R=!1;
F=new Array(Y.length);a=!1;V=!1;for(var I=0;I<Y.length;I++){var y=Y[I][0],n=Y[I][1],B=0;if(l[n]==null){R=!0;
break}var $=FromPDF.getIndirect(n,0,m,l),p=$.buff,c=$["/Filter"];if(c!=null&&typeof c=="string")c=[c];
var Z=L.AW(p,B,B+20);if(Z=="%AI12_CompressedData"){B+=20;a=!0}else if(Z=="%AI24_ZStandard_Data"){B+=20;
V=!0}p=new Uint8Array(p.buffer,p.byteOffset+B,p.length-B);if(c)for(var v=0;v<c.length;v++){var E=c[v];
if(E=="/FlateDecode")p=pako.inflate(p);else if(E=="/ASCIIHexDecode")p=FromPS.F.HexDecode({buff:p,off:0});
else if(E=="/ASCII85Decode")p=FromPS.F.ASCII85Decode({buff:p,off:0});else throw E}F[y-1]=p}if(R){console.log("extra xref after AI");
H=H.slice(0,D);continue}break}if(f)console.log("--- arrays found",Date.now()-C);C=Date.now();var g=L.AW(F[0],0,13);
if(g=="%%BoundingBox"||g=="%AI7_Thumbnai")F=F.slice(1);if(g=="%AI24_ZStanda"){F[0]=F[0].slice(20);V=!0}if(L.AW(F[0],0,13)=="%AI12_Compres"){F[0]=F[0].slice(20);
a=!0}b=x(F);if(f)console.log("--- concatenated",Date.now()-C);C=Date.now();if(a)b=UZIP.inflate(b);if(V)b=eu.DW.Xn(b);
if(f)console.log("--- inflated",Date.now()-C);C=Date.now()}else{var u=L.bR(H);if(u.indexOf("%AI5_BeginLayer")!=-1){b=H}else{var j=u.split(/[\n\r]+/),A=[],K=!1;
for(var s=0;s<j.length;s++){var r=j[s].trim();if(r=="%AI9_PrivateDataEnd"){K=!1;break}else if(r=="%AI9_DataStream"||r=="%AI24_DataStream"){K=!0}else if(K)A.push(r.slice(1))}var h=L.$f(A.join("")),jC=FromPS.F.ASCII85Decode({buff:h,off:0});
if(jC[0]==120&&jC[1]==156)b=UZIP.inflate(jC);else b=eu.DW.Xn(jC)}}return b}function x(k){var f=0,H=0;
for(var I=0;I<k.length;I++)f+=k[I].length;var C=new Uint8Array(f);for(var I=0;I<k.length;I++){var b=k[I];
C.set(b,H);H+=b.length}return C}function z(k){var f=0,C=[];while(f<k.length){var H=k[f],b=H.charCodeAt(0);
if(H==" ")f++;else if(H==","||H==";"||H==":"){C.push(H);f++;var i=C[C.length-2];if(i=="/ASCII85Decode"){var M=f+1;
while(k[M]!="~"||k[M+1]!=">")M++;M+=2;var T=k.slice(f,M),O=FromPS.F.ASCII85Decode({off:0,buff:L.$f(T)});
C.push(O);f=M}if(i=="/StrokeStyle"||i=="/FillStyle"||i=="/BlendStyle"||i=="/SimpleStyle"||i=="/SmoothShadingStyle"){var M=f+1;
while(k[M]!=";")M++;C.pop();C.pop();C.push(k.slice(f,M));C.push("/String");f=M+1}}else if(H=="("){var M=f+1;
while(!(k[M]==")"&&(k[M-1]!="\\"||k[M-2]=="\\")))M++;var Y=k.slice(f+1,M);C.push(Y);f=M+1}else if(H=="/"||H=="-"||48<=b&&b<=57){var M=f;
while(k[M]!=" ")M++;C.push(k.slice(f,M));f=M}else if(H=="X"&&k[f+1]=="="){var M=f,U=0;while(!0){if(k[M]=="X"&&k[M+1]=="="){U++}if(k[M]=="X"&&k[M+1]=="+"&&k[M+2]==" "){U--;
if(U==0)break}M++}C.push(k.slice(f+3,M));C.push("/String");f=M+2}else{console.log(C);console.log(k.slice(f-600,f+10));
throw H}}return C}function S(k){var f={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},C={},H=z(k.join(" ")),b=[],i=parseFloat;
while(H.length!=0){var M=H.shift();if(M=="/Recorded"||M=="/NotRecorded"){continue}else if(M=="/Dict"){b.pop();
var T=b.pop();b[b.length-1][M]=T}else if(M=="/Execution"){b.pop();var T=b.pop();b[b.length-1][M]=T}else if(M=="/Part"){b.pop();
var T=b.pop(),O=b[b.length-1];if(O[M]==null)O[M]=[];O[M].push(T);H.shift()}else if(M=="/Def"){b.pop();
var Y=b.pop(),U=b[0];if(C[U]==null)C[U]=[];if(U=="/KnownStyle"){Y={val:Y};Y[b.pop()]=b.pop()}b.pop();
C[U].push(Y);H.shift()}else if(M==":"){var U=b.pop();if(U=="/Dictionary"||U=="/ArtDictionary"||U=="/XMLNode"||U=="/Mask"||U=="/ActiveStyle")b.push({});
else if(U=="/CompoundFilter"||U=="/BasicFilter"){b.push({typ:"Filter"})}else if(U=="/SVGFilter"||U=="/KnownStyle"){b.push(U)}else if(U=="/Array"||U=="/Document")b.push([]);
else if(U=="/Binary"){var W=H.shift();if(W!="/ASCII85Decode")throw"e";H.shift();b.push(H.shift())}else if(U=="/XMLUID"||U=="/XMLUIDREF"){H[1]=U}else if(U=="/GObjRef"){b.push(H.shift());
b.push("/String");H.shift();H.shift()}else{console.log(b);console.log(H);throw U}if(H[0]=="/NotRecorded"){H.shift();
H.shift()}}else if(M==","){var t=b.pop(),U,_;if(t[0]=="/"&&t[1]==t[1].toUpperCase()||t==";"){U=t;t=null}else U=b.pop();
if(U=="/Name"){b.push(U);continue}if(f[U]){_=b.slice(b.length-f[U]);for(var I=0;I<f[U];I++)b.pop();var n=b.pop();
n[U]=_;b.push(n);continue}if(U=="/RealPoint"||U=="/RealPointRelToROrigin"){var y=b.pop();_=[i(b.pop()),i(y)]}else if(U=="/RealMatrix"){_=[];
for(var I=0;I<6;I++)_.push(i(b.pop()));_.reverse()}else if(U=="/String"&&typeof b[b.length-1]!="string")_="";
else{var top=b.pop();if(U==";")_=top;else if(U=="/String"||U=="/UnicodeString"||U=="/XMLUID"||U=="/XMLUIDREF"){_=top;
while(typeof b[b.length-1]=="string")_=b.pop()+_}else if(U=="/Int"||U=="/Real")_=i(top);else if(U=="/Bool")_=top=="1";
else throw JSON.stringify(U)}if(b.length==0)throw"e";var n=b.pop();if(t==null&&!(n instanceof Array)){alert("key is null in a Dict");
continue}if(t)n[t]=_;else n.push(_);b.push(n)}else b.push(M)}return b.length==0?C:b[0]}return{a2g:w,ark:P,acC:S}}();
function gn(){}gn.M3=function(){function o(Q,m,R){var $=!1,p=Date.now(),c=gz.a2g(Q,$);if($)console.log("part found",Date.now()-p);
p=Date.now();var B=V(c),Z=B.Layer,v=B.Header;if($)console.log(B);var E=B.Setup.TextDocument,g=Z[0];g=B.Layer[0];
if($)console.log("document parsed",Date.now()-p);p=Date.now();B.Setup.Gradient=a(B.Setup.Gradient,c);
if($)console.log("grads loaded",Date.now()-p);p=Date.now();B.Setup.Pattern=y(B.Setup.Pattern,c);if($)console.log("patts loaded",Date.now()-p);
p=Date.now();B.Setup.Palette=F(B.Setup.Palette,c);if($)console.log("palet loaded",Date.now()-p);p=Date.now();
B.Setup.DocumentData=n(B.Setup.DocumentData,c);if($)console.log("docdata loaded",Date.now()-p);p=Date.now();
B.Setup.SVGFilter=n(B.Setup.SVGFilter,c);if($)console.log("svgfilter loaded",Date.now()-p);p=Date.now();
var u=B.Setup.ArtStyles;if(u){B.Setup.ArtStyles=n(u,c)}var j=B.Setup.Palette;for(var I=0;I<j.length;
I++){var A=j[I],K=A[0],s=A[1][0];if(K==null)K=A[1][1];var r=B.Setup.Gradient[K];if(s==0)m.Yf.push([K,A[1][1]]);
if(s==1)m.Yf.push([K,[r.Ct,r.aB7,0,0]]);if(s==2)m.Yf.push([K,[K,0]])}var h=v.Cropmarks,jC=v.BoundingBox.split(" ").map(parseFloat),d=v.ArtSize?v.ArtSize.split(" ").map(parseFloat):[jC[2]-jC[0],jC[3]-jC[1]];
m.q=Math.round(Math.abs(d[0]));m._=Math.round(Math.abs(d[1]));var q=[1,0,0,1,-jC[0]+(m.q-(jC[2]-jC[0]))/2,-jC[1]+(m._-(jC[3]-jC[1]))/2];
q[3]=-1;q[5]=m._-q[5];if(h){h=h.split(" ").map(parseFloat);m.q=Math.round(h[2]-h[0]);m._=Math.round(h[3]-h[1]);
q=[1,0,0,-1,-h[0],m._+h[1]]}console.log(B);var hc=B.Setup.DocumentData,dk=[],c6=[];if(hc&&hc[0]&&hc[0].ArtboardArray){var dk=hc[0].ArtboardArray;
if(dk.length!=1)console.log(dk.length,"artboards");var e3=new fA;for(var I=0;I<dk.length;I++){var ks=dk[I],cH=ks.PositionPoint1,bI=ks.PositionPoint2,aR=cH[0],ak=Math.min(cH[1],bI[1]),cN=bI[0],gC=Math.max(cH[1],bI[1]),bD=new fA(aR,ak,cN-aR,gC-ak);
c6.push(bD);e3=e3.It(bD)}m.q=Math.round(e3.q);m._=Math.round(e3._);q[4]=-e3.x;q[5]=e3.y+m._}if(hc&&hc[0]&&hc[0]["#document"]){var cu=hc[0]["#document"],du=cu["xmlnode-children"][0];
if(du&&du["xmlnode-children"])du=du["xmlnode-children"][0];if(du&&du["xmlnode-nodename"]=="variableSets"){var bq=du["xmlnode-children"][0]["xmlnode-children"],hn=bq[0],aK=bq[1],cQ=l(hn);
m.fA=eg.aco("<variableSets><variableSet>"+cQ+"</variableSet></variableSets>");if(aK){var jR=l(aK),ch=m.kr=eg.aGd(jR);
for(var I=0;I<ch.length;I++)for(var bx=0;bx<ch[I].length;bx++)ch[I][bx]=ch[I][bx].trim()}}}var jf=1/bZ.iG(new fA(0,0,m.q,m._),8192*8192);
while(Math.max(m.q*jf,m._*jf)<800)jf*=2;while(R&&Math.max(m.q*jf,m._*jf)<Math.max(R[0],R[1]))jf++;if(bn==1)jf=1;
m.q=Math.round(m.q*jf);m._=Math.round(m._*jf);m.vz=Math.round(72*jf);for(var I=0;I<6;I++)q[I]*=jf;var dW=[];
if(dk.length!=[1,0][bn]){var bf=bn==0?m.R:[];bf.push(m.VY());for(var I=0;I<c6.length;I++){var ks=dk[I],bD=c6[I],iu=m._L();
iu.bx(ks.Name);bf.push(iu);iu.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);var dV=iu.add.SoCo.Clr.v;
i(dV,[1,1,1]);var aR=bD.x,ak=bD.y,cN=aR+bD.q,gC=ak+bD._,gb=[aR,ak,cN,ak,cN,gC,aR,gC];e.a.h(gb,T(q),gb);
U(iu,{cmds:["M","L","L","L","Z"],crds:gb},m,0);iu.add.vstk=iR.Vq.bS(!0);var R=e.a.w4(gb);dW.push({uD:ks.Name,aR:[R.x,R.y,R.x+R.q,R.y+R._],T:ks.IsArtboardSelected})}var iu=m._L();
iu.bx("_Artboards_");iu.add.lsct=jS.v_;iu.gS="pass";iu.Yo=24;bf.push(iu)}else dW=[{uD:"Artboard",aR:[0,0,m.q,m._],T:!0}];
if(bn==1)m.add.arts=dW;w=[0,0,0];x=[0,0,0];z="SoCo";S="SoCo";for(var gP=0;gP<Z.length;gP++){var eJ=Z[gP];
eJ.Raster=P(eJ,"Raster");eJ.Place=P(eJ,"Place");var c1=t(c,eJ);k(m,c1,q,B,eJ,c)}if(bn==0)for(var I=0;
I<m.R.length;I++){var iu=m.R[I];if(iu.u_){m.R.splice(I,1);var ku,aC=0;for(var bx=I;bx<m.R.length;bx++){ku=m.R[bx];
if(ku.add.lsct==jS.iz)aC++;else if(ku.Pe())aC--;if(aC==-1)break}ku.add.vmsk=iu.add.vmsk;ku.add.vogk=iu.add.vogk;
ku.qX(m)}}else{}if($)console.log("layers created",Date.now()-p);p=Date.now()}function P(Q,m){var R=Q.Layer,$=Q[m];
if($==null)$=[];if(R){for(var I=0;I<R.length;I++){var p=R[I],c=p[m]=P(p,m);$=$.concat(c)}$.sort(function(B,Z){return B._begin-Z._begin})}return $}var w,x,z,S;
function k(Q,m,R,$,p,c){var B=[],Z=0,v="",E=!1,g={},u=UDOC.G,j=UDOC.getState(),K="norm",s=1,r=0,h=!1,jC=0,d=!1,q=!0,hc=null,dk=null,c6=!1,e3=0,ks=null,cH,bI,aR=0,ak=0,cN=0,du=0,bq=!1;
j.ctm=R;var A=iR.XO.bS(),gC=[0,0],bD=[],cu=[];for(var hn=0;hn<m.length;hn++){var aK=m[hn],dW=1e9;if(aK[0]=="%"){if(aK=="%_/ArtDictionary :"&&e3==0){hc=[aK.slice(2)]}else if(hc!=null){if(aK=="%_"&&e3==0){var cQ=gz.acC(hc),jR=Q.R[Q.R.length-1],ch=cQ.AI10_ArtUID,bx=cQ.BBAccumRotation;
if(ch&&!ch.startsWith("XMLID"))jR.bx(D(ch));if(bx&&jR.add.vmsk==null&&Q.R[Q.R.length-2])jR=Q.R[Q.R.length-2];
if(bx&&jR.add.vmsk)jR.add.vmsk.Jc=parseFloat(bx);hc=null}else{hc.push(aK.slice(c6?1:2));if(aK=="%_X=")e3++;
if(aK=="%_X+")e3--;if(aK=="%_/Binary : /ASCII85Decode ,")c6=!0;if(c6&&aK.endsWith("~>"))c6=!1}}else if(ks){cH+=(cH==""?"":" ")+aK.slice(2);
if(cH.endsWith("X#")){ks.push(cH.slice(0,cH.length-3));cH=""}}continue}else if(aK=="/Mesh X!"){ks=[];
cH="";continue}else if(aK=="/End X!"){H(ks,j,Q);ks=null;continue}var jf="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),bf=-1,iu=aK.indexOf("(")!=-1;
for(var I=0;I<jf.length;I++){var dV=aK.indexOf(" "+jf[I]+" ");if(dV!=-1&&dV<dW&&!iu){dW=dV;bf=I}}if(bf!=-1){E=!0;
var gb=dW+1+jf[bf].length;m[hn]=aK.slice(0,gb);var gP=m[hn+1];if(gP==null||gP[0]=="%"||bf>9)m.splice(hn+1,0,aK.slice(gb));
else m[hn+1]=(aK.slice(gb)+" "+gP).replace(/\s\s+/g," ");hn--;continue}aK=aK.trim();var eJ=aK.split(" "),c1=eJ[eJ.length-1],ku=c1.toLowerCase(),aC=eJ.map(parseFloat);
if(c1=="m")u.moveTo(j,aC[0],aC[1]);else if(c1=="L"||c1=="l")u.lineTo(j,aC[0],aC[1]);else if(c1=="V"||c1=="v"){var gU=j.pth.crds,hR=j.cpos[0],a7=j.cpos[1];
u.curveTo(j,hR,a7,aC[0],aC[1],aC[2],aC[3]);var dh=gU.length;gU[dh-6]=hR;gU[dh-5]=a7}else if(c1=="Y"||c1=="y")u.curveTo(j,aC[0],aC[1],aC[2],aC[3],aC[2],aC[3]);
else if(c1=="C"||c1=="c")u.curveTo(j,aC[0],aC[1],aC[2],aC[3],aC[4],aC[5]);else if(c1=="H"||c1=="h"){if(c1==ku)u.closePath(j);
if(!h){var eS=Q._L();Q.R.push(eS);eS.bx("<Clipping Path>");eS.u_=!0;eS.add.vstk=iR.Vq.bS();eS.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);
U(eS,j.pth,Q,r)}else d=!0}else if(c1=="XR"){r=aC[0]}else if(c1=="Xy"){K=gn.acu[aC[0]];s=aC[1];if(K==null){K="norm";
console.log("unknown blend mode",aC[0])}}else if(c1=="Xd"){var jR=Q.R[Q.R.length-1];jR.opacity=Math.round(255*s);
jR.gS=jR.Pe()&&K=="norm"?"pass":K}else if(c1=="AE")aR=aC[0];else if(c1=="Ae")ak=aC[0];else if(c1=="Xw")cN=aC[0];
else if(c1=="*"){var d0=j.pth.crds,cJ=j.ctm,dV=d0[0]==d0[2]?0:1;Q.r_.push([dV,d0[dV]]);u.newPath(j)}else if(c1=="XN")bI=aK.split(" ")[0];
else if(c1=="XI"){var aO=p.Raster,a9,ac;if(aO==null||aO.length==0){console.log("no Raster");continue}if(aK!="XI"){continue}else{var e7=aO[Z++];
if(e7.Data)e7=e7.Data;var b2=e7._begin,jQ=e7._end;while(c[b2]!=88)b2++;b2+=3;a9=c.slice(b2,jQ);ac=m[hn-2].split(" ").map(parseFloat)}var g9=ac.slice(8),cx=g9[2],i8=g9[3],fw=cx*i8,hi=e.U(fw*4);
hi.fill(255);var dU=g9[7],dv=g9[8],bo=g9[6],fV=Math.ceil(cx*dU*bo/8);if(dU==1){if(bo==8)for(var I=0;
I<fw;I++)for(var ck=0;ck<3;ck++)hi[4*I+ck]=a9[I];else if(bo==1)for(var h8=0;h8<i8;h8++)for(var fS=0;
fS<cx;fS++)for(var ck=0;ck<3;ck++)hi[4*(h8*cx+fS)+ck]=255*(a9[h8*fV+(fS>>>3)]>>>7-(fS&7)&1);else throw bo}else if(dU==3)for(var I=0;
I<fw;I++)for(var ck=0;ck<3;ck++)hi[4*I+ck]=a9[3*I+ck];else if(dU==4||dU==5)for(var I=0;I<fw;I++){var iS=O([a9[dU*I+0]/255,a9[dU*I+1]/255,a9[dU*I+2]/255,a9[dU*I+3]/255]);
hi[4*I+0]=iS[0]*255;hi[4*I+1]=iS[1]*255;hi[4*I+2]=iS[2]*255}else if(dU==7)for(var I=0;I<fw;I++){hi[4*I+0]=a9[dU*I+0];
hi[4*I+1]=a9[dU*I+1];hi[4*I+2]=a9[dU*I+2]}else console.log("unknown number of channels",dU);if(dv==1){var fh=i8*fV;
for(var I=0;I<fw;I++)hi[4*I+3]=a9[fh+I]}var h9=e.Nm(hi,cx,i8)?"JPG":"PNG";if(cx*i8<700*700)h9="PNG";
var gi=eu.oi(h9).D7([[hi.buffer]],cx,i8),dX=Q.to(new Uint8Array(gi),"<Image>",0,0);Q.R.push(dX);dX.gS=K;
dX.opacity=Math.round(255*s);dX.Kt(cN==0);var f8=new ar;f8.scale(1,-1);f8.concat(T(ac.slice(1)));f8.concat(T(j.ctm));
var kS=dX.add.SoLd,jJ=kS.Sz.v,gj=new fA(0,0,jJ.Wdth.v,jJ.Hght.v),eJ=e.a.R2(gj).i;e.a.h(eJ,f8,eJ);dX.add.SoLd.Trnf=N.DH.Co(eJ);
dX.add.SoLd.nonAffineTransform=N.DH.Co(eJ);dX.w2(Q,!1)}else if(c1=="Ln"){B.push(b(aK))}else if(c1=="u"||c1=="q"||c1=="Lb"){if(c1=="Lb")Q.add.prvw=aC[1];
bD.push(ak==1);cu.push((c1=="Lb"?1-aC[0]:cN)==0);if(h)continue;Q.R.push(Q.VY())}else if(c1=="U"||c1=="Q"||c1=="LB"){if(bD.length==0||cu.length==0)throw hn;
var k8=bD.pop(),g$=cu.pop();if(c1=="LB")k8=aR==1;if(h)continue;var dX=Q._L();dX.bx((c1=="U"?"<Group>":"<Clip Group>")+v);
if(c1=="LB")dX.bx(B.pop());dX.add.lsct=k8?jS.KC:jS.v_;dX.gS="pass";dX.Yo=24;dX.Kt(g$);Q.R.push(dX);if(bq){if(Q.R[Q.R.length-3].getName()=="</Layer group>"){Q.R.pop();
Q.R.splice(Q.R.length-2,1)}bq=!1}}else if(c1=="Bb")q=aC[0]!=1;else if(c1=="BB"){}else if(c1=="Bm"||c1=="Bc"||c1=="Xm"){}else if(c1=="Bh")gC=aC.slice(2,4);
else if(c1=="Bg"){var ib=$.Setup.Gradient,eo=ib[b(aK)],eJ=aK.slice(aK.indexOf(")")+2).split(" ").map(parseFloat);
if(eo==null){console.log("gradient not found");for(var iP in ib){eo=ib[iP];break}}var d6=eJ[10];if(isNaN(d6))d6=1;
var kL=eJ.slice(0,4);kL.push(d6,gC[0],gC[1]);if(Math.max(Math.abs(kL[0]),Math.abs(kL[1]))>20){kL[0]=0;
kL[1]=0;kL[3]=1;console.log("strange gradient")}var hC=[eo.Ct,eo.aB7,kL,eJ.slice(4,10)];C(hC,"GdFl",q)}else if(ku=="p"){var em=b(aK);
if(Q.P7[em]==null){var aS=$.Setup.Pattern[em],cY=aS.aR,cx=Math.round(cY[2]-cY[0]),i8=Math.round(cY[3]-cY[1]),cQ=new da,cl=R[0],f8=new ar(1,0,0,-1,-aS.aR[0],i8+aS.aR[1]);
f8.concat(new ar(cl,0,0,cl,0,0));var cf=[w,x,z,S];w=[0,0,0];x=[0,0,0];z="SoCo";S="SoCo";k(cQ,aS.Bg,[f8.F,f8.b,f8.JJ,f8.RL,f8.$X,f8.Ar],$,p,c);
cQ.q=Math.round(cx*cl);cQ._=Math.round(i8*cl);cQ.GO();cQ.N();if(bn==0){cQ.buffer=e.U(cQ.q*cQ._*4);cQ.cj()}w=cf[0];
x=cf[1];z=cf[2];S=cf[3];window.akR=aS.Bg;Q.P7[em]=cQ}var hb=aK.slice(aK.indexOf(")")+2),fE=hb.slice(0,hb.indexOf("[")-1).split(" ").map(parseFloat),cK=hb.slice(hb.indexOf("[")+1,hb.indexOf("]")).split(" ").map(parseFloat);
C([em,[fE,cK]],"patt",c1=="p")}else if(c1=="J"||c1=="j"||c1=="w"||c1=="M"||c1=="d"){var f8=j.ctm,cl=Math.sqrt(Math.abs(f8[0]*f8[3]-f8[1]*f8[2]));
for(var I=1;I<eJ.length;I++){var ka=eJ[I],hj=aC[I-1];if(ka=="w")A.dy=hj*cl;if(ka=="j")A.F0=hj;if(ka=="J")A.UR=hj;
if(ka=="M")A.Pm=hj;if(ka=="d"){var hS=aK.slice(aK.indexOf("[")+1,aK.indexOf("]")).trim();if(hS.length!=0){var cW=hS.split(" ").map(parseFloat);
A.iW=cW;for(var ck=0;ck<cW.length;ck++)cW[ck]*=cl}else if(hS=="")A.iW=[]}}}else if(ku=="xa"||ku=="xx"){var cn=Y(aK);
C(cn,"SoCo",c1=="Xa"||c1=="Xx")}else if(ku=="xk"){cn=Y(aK);C(cn,"SoCo",c1=="Xk")}else if(ku=="k"||ku=="x"){cn=Y(aK);
C(cn,"SoCo",c1==ku)}else if(ku=="g"){var cn=[aC[0],aC[0],aC[0]];C(cn,"SoCo",c1==ku)}else if(ku=="n"){if(!h)u.newPath(j)}else if(c1=="*u"){h=!0;
jC=0;cu.push(cN==0)}else if(c1=="*U"||ku=="s"||ku=="f"||ku=="b"){if(c1!="*U"&&h){if(ku=="f"||ku=="b")jC|=1;
if(ku=="s"||ku=="b")jC|=2;continue}if(c1==ku)u.closePath(j);if(c1=="*U"){h=!1}var dX;{dX=Q._L();dX.Yo|=16;
U(dX,j.pth,Q,r);var dz=ku=="f"||ku=="b"||c1=="*U"&&jC&1,iD=ku=="s"||ku=="b"||c1=="*U"&&jC&2,dy=dX.add.vstk=iR.Vq.bS(dz,iD),ef=JSON.parse(JSON.stringify(A));
ef.wm=[];ef.eJ=[];if(dz)ef.wm=w;if(iD)ef.eJ=x;if(bn==0){iR.Vq.write(dy,ef);if(z=="SoCo"){dX.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);
var bd=dX.add.SoCo.Clr.v;i(bd,w)}if(z=="GdFl"){dX.add.GdFl=gn.ni(w,dX.add.vmsk.g)}if(z=="patt"){dX.add.PtFl=f(w,Q)}if(iD){var iF=["SoCo","GdFl","patt"].indexOf(S),j1=iF==0?{Clr:{t:"Objc",v:jG.MO(x)}}:iF==1?gn.ni(x,dX.add.vmsk.g):f(x,Q),kv=[iR.pL,iR.d$,iR.pg][iF],cP=dy.strokeStyleContent.v={classID:iR.Vq.Fs[iF]};
for(var I=0;I<kv.length;I++)cP[kv[I]]=j1[kv[I]]}}else dX.add.vstl=ef}if(c1=="*U"&&d){dX.u_=!0;d=!1}dX.bx("<"+(c1=="*U"?"Compound ":"")+"Path>"+v);
dX.gS=K;dX.opacity=Math.round(255*s);dX.Kt(c1=="*U"?cu.pop():cN==0);dX.qX(Q);Q.R.push(dX);u.newPath(j)}else if(c1==","&&eJ[0]=="/XMLUID"){var jR=Q.R[Q.R.length-1];
for(var I=0;I<Q.fA.length;I++)if("("+Q.fA[I].docRef+")"==eJ[2])Q.fA[I].docRef="id('"+jR.add.lyid+"')"}else if(c1==","&&eJ[1]=="/FreeUndo"){du=aC[0]}else if(c1==","&&eJ[1]=="/StoryIndex"){var kc=$.Setup.TextDocument,cw=null;
if(!(kc instanceof Array))window.aqL=kc=$.Setup.TextDocument=_(kc,c);var e4=kc[0],cz=kc[2];if(e4._DocumentResources)e4=kc[0]=kw.a3_(e4);
else kw.aEQ(e4);var dX=Q._L();dX.add.lnsr="rend";dX.add.TySh=fe.AH(0,0);var fU=aC[0];if(du==1){for(var I=1;
I<60;I++){var gP=m[hn+I];if(gP&&gP.endsWith("/StoryIndex ,")){fU=parseFloat(gP.slice(2,gP.indexOf(" ")));
bq=!0;break}}du=0}var cT=en.adO(e4),jW=dX.add.TySh.OY=cT[fU];if(jW==null){console.log("text not found");
bq=!1;continue}dX.bx(fe.YJ(jW).slice(0,50));dX.gS=K;dX.opacity=Math.round(255*s);dX.Kt(cN==0);var iz=e4._1._1[fU]._1._0[0]._0;
iz=parseInt(iz.slice(1));var ii=e4._0._8._0,hs=ii[iz]._0;if(hs._0)cw=M(hs._0);else if(hs._1)cw=M(hs._1._0);
else cw=M(hs._2._2).slice(3);if(cw.length!=2){var cY=e.a.w4(cw);cw=[cY.x,cY.y];if(cY.c()!=0){fe.mn(jW,1);
fe.SP(jW,[0,0,Math.round(cY.q),Math.round(cY._)])}}var e6=new ar,jt=new ar(1,0,0,1,cw[0],cw[1]),cR=new ar(1,0,0,1,-cz[0],-cz[1]),k4=T(j.ctm),aM=new ar;
if(hs._2&&hs._2._2){var R=M(hs._2._2);aM=new ar(R[0],R[1],R[2],R[3],R[4],R[5])}e6.concat(jt);e6.concat(aM);
e6.concat(cR);e6.scale(1,-1);e6.concat(k4);dX.add.TySh.h=e6;Q.R.push(dX);Q._0=!0}else if(c1=="Tp"){g.zr=T(aC)}else if(c1=="Tf"){g.font=eJ[0].slice(2)}else if(c1=="Tk"){var dX=Q._L();
dX.add.lnsr="rend";var aq=dX.add.TySh=fe.AH(0,0),jW=aq.OY,f8=g.zr.clone(),jJ=f8.gz();f8.concat(T(j.ctm));
var e$=new ar(1/jJ,0,0,-1/jJ,0,0);e$.concat(f8);aq.h=e$;var kP=b(aK);dX.bx(kP);fe.EF(jW,0,kP);var bR=fe.Zv(jW,0,kP.length);
bR.OR.FontSize=jJ;bR.OR.FillColor={Type:1,Values:[1,w[0],w[1],w[2]]};fe.bB(bR,g.font);fe.Bi(jW,0,kP.length,bR);
Q.R.push(dX);Q._0=!0}else if(E&&aC.length>3){var kE=!1;for(var I=0;I<aC.length;I++)if(isNaN(aC[I]))kE=!0;
if(!kE)m[hn+1]=(aK+" "+m[hn+1]).replace(/\s\s+/g," ")}}}function f(w,Q){if(Q.lo==null)Q.lo={};var m=Q.lo[w[0]];
if(m==null){var R=Q.P7[w[0]],m=Q.lo[w[0]]={};m.id=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";m.name="someImage";
m.kR=[R.Ey(),new fA(0,0,R.q,R._)];Q.dO(m)}var $=JSON.parse(iR.lC[iR.order.indexOf("patternFill")]);$.Ptrn.v.Idnt.v=m.id;
var p=T(w[1][1]),c=-Math.atan2(-p.b,p.F);$.Angl.v.val=Math.round(c*180/Math.PI);$.Scl.v.val=Math.round(100*p.gz());
return $}gn.ni=function(Q,m){var R=gn.a4(Q,m),$=[0,0,1,0];if(Q[0]==0)$[0]=.5;e.a.h($,R,$);var p=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),c=p.Grad.v;
c.Intr.v=0;p.Type.v.GrdT=["Lnr","Rdl"][Q[0]];e.G.U_(Q[1],c);e.G.jh(new eD($[0],$[1]),new eD($[2],$[3]),e.n.$s(m),p);
return p};gn.AF=function(Q,m,R){console.log(Q);var $={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[Q.Type.v.GrdT],p=e.n.$s(m);
if(R&&!Q.Algn.v)p=new fA(0,0,R.q,R._);var c=e.G.am4(Q,p),B=c[0],Z=c[1];if($==0){B.x-=Z.x-B.x;B.y-=Z.y-B.y}var v=Z.x-B.x,E=Z.y-B.y,g=Math.sqrt(v*v+E*E),u=new ar;
u.rotate(Math.atan2(-E,v));u.scale(g,g);u.translate(B.x,B.y);var j=gn.MP($,u,m),A=Q.Grad.v;j[1]=e.G.al9(A,null,null);
return j};gn.WB=function(Q,m,R){var $=eD.a_(Q,m),p=new ar;p.scale($,$);p.rotate(-Math.atan2(m.y-Q.y,m.x-Q.x));
p.translate(Q.x,Q.y);if(R)p.concat(R);return p};gn.Nk=function(Q,m,R,$,p){if(m&&!$.w6(m)){var c=Math.atan2(-(R.y-m.y),R.x-m.x);
if(p!=null||c!=0){var B=new ar;B.translate(-m.x,-m.y);B.scale(1,p);B.rotate(c);B.translate(m.x,m.y);
B.Sd();$=B.Zc($)}var Z=Math.atan2(-($.y-m.y),$.x-m.x);Q[2][5]=Z*180/Math.PI;Q[2][6]=eD.a_($,m)/eD.a_(R,m)}};
gn.MP=function(Q,m,R){var $=m.clone(),v,E,g=1;$.Sd();var p=X.tc.tz(R);e.n.G9(p,$);var c=e.n.$s(p),B=c.q,Z=c._;
if(Q==0){var u=new ar;u.translate(-c.x,-c.y);u.translate(-B/2,-Z/2);var j=gn.as9(B,Z,0);u.scale(1/j,1/j);
u.scale(1/B,1/Z);v=u.$X+.5;E=u.Ar+.5;g=u.F}else{v=-c.x/B-.5;E=-c.y/Z-.5;var A=(v-.5)*B/2,K=(E-.5)*Z/2;
g=1/Math.sqrt(2*(A*A+K*K))}var s=[Q,null,[v,E,0,g,1,0,0],[m.F,m.b,m.JJ,m.RL,m.$X,m.Ar]];return s};gn.a4=function(Q,m){var R=Q[0],$=Q[2],p=Q[3],c=new ar(p[0],p[1],p[2],p[3],p[4],p[5]);
c.Sd();var B=X.tc.tz(m);e.n.G9(B,c);var Z=e.n.$s(B),v=Z.q,E=Z._,g=$[0],u=$[1],j=$[2]*Math.PI/180,A=$[3],K=new ar;
if(R==0){K.scale(A,A);K.translate(g-.5,u-.5);K.scale(v,E);K.rotate(j);var s=gn.as9(v,E,j);K.scale(s,s);
K.translate(v/2,E/2)}else{var r=(g-.5)*v/2,h=(u-.5)*E/2,s=A*Math.sqrt(2*(r*r+h*h));K.scale(s,s*$[4]);
K.rotate(j);K.translate((g+.5)*v,(u+.5)*E)}K.translate(Z.x,Z.y);K.concat(new ar(p[0],p[1],p[2],p[3],p[4],p[5]));
return K};function C(Q,m,R){if(R){z=m;w=Q}else{S=m;x=Q}}function H(Q,m,R){var $=UDOC.G,p=[],c=[],B="/DeviceGray",Z=1,v=[],E=1;
for(var g=0;g<Q.length;g++){var u=Q[g];if(u.endsWith(" /CS")){var j=u.indexOf("/NChannel"),A=u.indexOf("/Process");
if(u.startsWith("/DeviceRGB")){B="/DeviceRGB";Z=3}else if(u.startsWith("/DeviceGray")){B="/DeviceGray";
Z=1}else if(u.startsWith("/DeviceCMYK")){B="/DeviceCMYK";Z=4;v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(j!=-1){B="/DeviceCMYK";
Z=parseInt(u.slice(j-2,j-1));var K=1;for(var I=0;I<Z;I++){K=u.indexOf("[",K);v[Z-1-I]=u.slice(K+1,K+8).split(" ").map(parseFloat);
K++}}else if(A){B="/DeviceGray";Z=1}else throw u}else if(u[0]=="["){var s=u.indexOf("]"),r=u.slice(1,s).split(" ").map(parseFloat),h=u.slice(s+2),jC,d,q,hc,dk,c6;
if(h=="/Size"||h=="/P"||h=="/R")continue;if(h=="/S"||h=="/A"){jC=r[0];d=r[1];q=r[2];hc=r[3];dk=r[4];
c6=r[5]}else if(h=="/N"){var e3=Z+(E==1?0:1),ks;jC=r[e3+0];d=r[e3+1];q=r[e3+2];hc=r[e3+3];dk=r[e3+5];
c6=r[e3+6];if(B=="/DeviceRGB")ks=r.slice(0,3);else if(B=="/DeviceGray")ks=[r[0],r[0],r[0]];else if(B=="/DeviceCMYK"){var cH=[0,0,0,0];
for(var I=0;I<Z;I++){var bI=r[I],aR=v[I];cH[0]+=bI*aR[0];cH[1]+=bI*aR[1];cH[2]+=bI*aR[2];cH[3]+=bI*aR[3]}ks=O(cH)}else throw ks;
ks.push(r[Z]);c.push([ks,jC,d])}else throw h;p.push([h,dk,c6,jC,d,q,hc])}else if(u=="/E"){var ak=p.slice(0),cN=0;
for(var I=0;I<p.length;I++){var gC=p[I][0];if(gC=="/N"){cN++;continue}var bD=I,cu=I+1;while(p[cu][0]!="/N"&&cu<p.length)cu++;
if(cN==0||cN==3){for(var du=0;du<cu-bD;du++)ak[bD+du]=p[cu-1-du]}else for(var du=bD;du<cu;du++){var bq=ak[du],hn=bq[1];
bq[1]=bq[5];bq[5]=hn;hn=bq[2];bq[2]=bq[6];bq[6]=hn}I=cu-1}p=[];for(var I=0;I<ak.length;I++){var bq=ak[I];
p.push(bq[1],bq[2],bq[3],bq[4],bq[5],bq[6])}var aK=p.length;$.moveTo(m,p[2],p[3]);for(var I=0;I<aK;I+=6){var q=p[(I+4)%aK],hc=p[(I+5)%aK],dk=p[(I+6)%aK],c6=p[(I+7)%aK],jC=p[(I+8)%aK],d=p[(I+9)%aK];
$.curveTo(m,q,hc,dk,c6,jC,d)}$.closePath(m);p=[]}else if(u.endsWith("/Version"))E=parseFloat(u[0])}var cQ=R._L();
cQ.Yo|=16;cQ.bx("<Mesh>");var jR=cQ.add.vstk=iR.Vq.bS(!0);U(cQ,m.pth,R,0);if(c.length>=2){var ch=0,bx=0,jf=0;
for(var I=0;I<c.length;I++)for(var du=I+1;du<c.length;du++){var dW=c[I][0],bf=c[du][0],iu=dW[0]-bf[0],dV=dW[1]-bf[1],gb=dW[2]-bf[2],gP=Math.sqrt(iu*iu+dV*dV+gb*gb);
if(gP>jf){jf=gP;ch=I;bx=du}}var eJ=c[ch],c1=c[bx],ku=[[0,eJ[0],1,.5],[1,c1[0],1,.5]],aC=T(m.ctm),gU=aC.Zc(new eD(eJ[1],eJ[2])),hR=aC.Zc(new eD(c1[1],c1[2]));
if(gU.w6(hR))hR.x+=1;if(bn==0){var a7=cQ.add.GdFl=JSON.parse(iR.lC[iR.order.indexOf("GrFl")]),dh=a7.Grad.v;
dh.Intr.v=0;a7.Type.v.GrdT="Lnr";e.G.U_(ku,dh);var eS=e.a.w4(m.pth.crds);gU.x=(gU.x+hR.x)/2;gU.y=(gU.y+hR.y)/2;
e.G.jh(gU,hR,eS,a7)}else{var d0=cQ.add.vstl=iR.XO.bS();d0.eJ=[];var cJ=gn.WB(gU,hR,new ar);d0.wm=gn.MP(0,cJ,cQ.add.vmsk.g);
d0.wm[1]=ku}}R.R.push(cQ);$.newPath(m)}function b(Q){var m=Q.indexOf(")");while(Q[m-1]=="\\")m=Q.indexOf(")",m+1);
return Q.slice(Q.indexOf("(")+1,m).replaceAll("\\","")}function i(Q,w){Q.Rd.v=w[0]*255;Q.Grn.v=w[1]*255;
Q.Bl.v=w[2]*255}function M(Q){var m=[];for(var I=0;I<Q.length;I++)m[I]=parseFloat(Q[I].slice(1));return m}function T(Q){return new ar(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}function O(Q){return e.Wu(Q.slice(0,4)).slice(0,3)}function Y(Q){var m=Q.split(" "),R=m[m.length-1],$=R.toLowerCase(),p=m.map(parseFloat),c=null;
if($=="xa"||$=="xx"||$=="xz"){var c=p[4]==null?p.slice(0,3):[p[4],p[5],p[6]];if($=="xx"&&p[p.length-2]==2)c=O(p)}else if($=="g")c=O([0,0,0,1-p[0]]);
else if($=="x"||$=="k"){if($=="x"){p.pop();var B=1-p.pop();for(var I=0;I<4;I++)p[I]*=B}c=O(p)}else if($=="xk"){var Z=p[p.length-2],v=p[p.length-3];
if(Z==0)c=O(p);else if(Z==1){c=[p[4],p[5],p[6]];for(var I=0;I<3;I++)c[I]=v*1+(1-v)*c[I]}else throw Q}else throw $;
return c}function U(Q,m,R,$){Q.add.vmsk=new X.tc;if(m.crds.length!=0)Q.add.vmsk.g=W(m);Q.add.vmsk.Hv=$;
Q.h6();Q.qX(R)}function W(Q){var m={i:Q.crds,LG:Q.cmds},R=e.a.B6(m,!1);return R}function t(Q,m){var R=[],g=0,K=0;
for(var $=0;$<2;$++){var p=m[["Raster","Place"][$]];if(p==null)continue;for(var I=0;I<p.length;I++){for(var c=0;
c<3;c++){var B=p[I][["Data","Document","PlacedObjectPreview"][c]];if(B==null)continue;var Z=B._begin,v=B._end;
if(Z>v)Z=v;R.push([Z,v])}}}R.sort(function(r,h){return r[0]-h[0]});var E=[m._begin];for(var I=0;I<R.length;
I++){var u=R[I],Z=u[0]+32;E.push(Z,u[1]);g+=u[1]-Z}E.push(m._end);var j=m._end-m._begin,A=new Uint8Array(j-g);
for(var I=0;I<E.length;I+=2){var Z=E[I],s=E[I+1]-Z;A.set(new Uint8Array(Q.buffer,Z,s),K);K+=s}return L.bR(A).split(/\r\n|\r|\n/)}function _(Q,m){if(Q==null)return[];
var R=t(m,Q),$="",p="",c=0,B;for(var I=2;I<R.length;I++){var Z=R[I];if(Z[0]=="%"){if(c==0)$+=Z.slice(1);
else p+=Z.slice(1)}else if(Z==";")c++;else if(Z.endsWith("/RulerOrigin ,"))B=Z.split(" ").slice(0,2).map(parseFloat)}var v=[$,p],E=[];
for(var I=0;I<2;I++){var g=v[I],u=new Uint8Array(g.length);L.Xi(u,0,g);var j=FromPS.F.ASCII85Decode({buff:u,off:0}),A=hX.M3(j);
E.push(A)}E.push(B);return E}function n(Q,m){if(Q==null)return[];var R=t(m,Q);R=R.slice(1);for(var I=0;
I<R.length;I++){var $=R[I];if($.startsWith("%AI17_Begin_Content_if_version_gt")||$=="%AI17_Alternate_Content"||$=="%AI17_End_Versioned_Content")R[I]="";
else if($[0]=="%")R[I]=$.slice($[1]=="_"?2:1)}var p=gz.acC(R);return p}function y(Q,m){var R={};if(Q==null)return R;
for(var I=0;I<Q.length;I++){var $=t(m,Q[I]),p=$[1],c=b(p),B=p.slice(p.lastIndexOf(")")+2).split(" ").map(parseFloat),Z=[];
for(var v=2;v<$.length;v++)Z.push($[v].slice(2));R[c]={aR:B,Bg:Z}}return R}function F(Q,m){var R=[],p,c;
if(Q==null)return R;var $=t(m,Q);for(var I=1;I<$.length;I++){var B=$[I];if(B=="0 0 Pb"||B=="PB"||B==""){}else if(B.endsWith("Xa")||B.endsWith("Xz")||B.endsWith("Xx")||B.endsWith("Xk")||B.endsWith(" g")||B.endsWith(" x")||B.endsWith(" k"))p=[0,Y(B)];
else if(B.endsWith("Xs"))p=[0,[0,0,0]];else if(B.endsWith("Bg"))p=[1,b(B)];else if(B.endsWith("Pg")||B.endsWith("p"))p=[2,b(B)];
else if(B[0]=="(")c=b(B);else if(B=="Pc")R.push([c,p]);else if(B=="0 BB"||B=="Bb"||B.endsWith("Bh")){}else throw B}return R}function a(Q,m){var R={},$,p;
if(Q==null)return R;var c=[];for(var I=0;I<Q.length;I++){var B=t(m,Q[I]);for(var Z=0;Z<B.length;Z++){var v=B[Z];
if(v.endsWith("%_Bs")){var E=v.slice(0,v.length-4);if(!E.endsWith(" "))E+=" ";v=E+"%_BS"}if(v[0]=="("){$=b(v);
var g=v.slice(v.lastIndexOf(")")+2).split(" ");p=parseInt(g[0])}else if(v.endsWith("%_BS")){var u=v.split(" "),s,r=1;
u.pop();u=u.map(parseFloat);var j=u.pop(),A=u.pop(),K=u.pop();if(K==0)s=[u[0],u[0],u[0]];else if(K==2||K==4)s=[u[4],u[5],u[6]];
else if(K==1||K==3)s=O(u);else if(K==6){if(u.length==3)s=[u[0],u[0],u[0]];else if(u.length>=8)s=u.slice(4,7);
else s=O(u);r=u.pop()}else{throw K}c.push([j/100,s,r,A/100])}else if(v=="BD"){c.sort(function(h,jC){return h[0]-jC[0]});
R[$]={Ct:p,aB7:c};c=[]}}}return R}function V(Q){var m="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),R=Date.now(),$=0,p=[],c={Header:{}},B=[c],Z=Q.length;
while($<Z){var v=$;while(v!=Z&&Q[v]!=13&&Q[v]!=10){v++}if(Q[$]==37&&Q[$+1]==95&&Q[$+2]==37)$+=2;if(Q[$]==37&&(Q[$+1]==37||Q[$+1]==65)){var E=L.AW(Q,$,v-$);
if(E=="%%EOF")break;if(E=="%%EndComments"||E=="%EndComments"||E=="%AI5_Begin_NonPrinting"||E=="%AI5_End_NonPrinting--"||E.startsWith("%AI17_Begin_Content_if_version_gt")||E=="%AI17_End_Versioned_Content"){}else{var g=E.indexOf("Begin"),u=Math.max(E.indexOf("_End"),E.indexOf("%End"));
if(g!=-1&&E[g-1]!="%"&&E[g-1]!="_")g=-1;if(g!=-1){var j=E.slice(g+5).split(":")[0],A={_begin:$,_end:$},K=B[B.length-1];
if(m.indexOf(j)!=-1){if(K[j]==null)K[j]=[];K[j].push(A)}else{if(K[j]!=null){console.log(B);throw E}K[j]=A}B.push(A);
if(E.startsWith("%%BeginData")){v=L.mG(Q,"%%EndData",$)}else if(E.slice(0,15)=="%%BeginDocument")v=L.mG(Q,"%%EndDocument",v);
else if(E=="%AI9_BeginDocumentData")v=L.mG(Q,"%AI9_EndDocumentData",v);else if(E=="%AI11_BeginTextDocument")v=L.mG(Q,"%AI11_EndTextDocument",v)}else if(u!=-1){if(B.length>1)B.pop()._end=$}else if(B.length==1&&(E.startsWith("%AI")||E.startsWith("%%")&&E.indexOf(" ")!=-1)){var s=1;
if(E.startsWith("%AI"))while(E[s]!="_"&&s<E.length)s++;var r=E.indexOf(":");if(r==-1)r=E.indexOf(" ");
var h=E.slice(s+1,r),jC=E.slice(r+1).trim();c.Header[h]=jC}}}$=v;if(Q[$]==13)$++;if(Q[$]==10)$++}return c}function D(Q){var m="";
for(var I=0;I<Q.length;I++){if(Q[I]=="_"&&Q[I+1]=="x"){var eK=parseInt(Q.slice(I+2,I+4),16);m+=String.fromCharCode(eK);
I+=4}else if(Q[I]=="_")m+=" ";else m+=Q[I]}return m}function l(Q){var m="xmlnode-nodename",R="xmlnode-nodevalue",$="xmlnode-attributes",p="xmlnode-children",c=Q[m].split(":").pop().replace("#",""),B=Q[$],Z=Q[p],v="<"+c;
for(var E in B)if(E!="xmlns"&&E!="xmlns:v")v+=" "+E.split(":").pop()+"=\""+B[E][R]+"\"";v+=">"+(Z.length==0?"":"\n");
for(var I=0;I<Z.length;I++)v+=l(Z[I]);if(Q[R])v+=Q[R];return v+"</"+c+">\n"}return o}();gn.as9=function(o,P,w){var x=e.a.R2(new fA(0,0,o,P)).i,z=new ar;
z.rotate(w);e.a.h(x,z,x);var S=e.a.w4(x);return S.q/o};gn.acu=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
gn.q0=function(){function o(O){var Y=72/O.vz,U=new ar(Y,0,0,-Y,0,0),W=O.root.children,t=[],_={CV:[],EX:{},ag2:0},y=16383,hc=0,c6=0;
for(var I=0;I<O.Yf.length;I++){var n=O.Yf[I];if(n[1].length==4)M(n[1],_,n[0])}for(var I=0;I<W.length;
I++)C(W[I],O,U,_,t,0);var F=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+y+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
F.push("%%BeginSetup\r");F=F.concat(_.CV);for(pn in O.P7){var a=O.P7[pn],V=O.vz/72;F.push("%AI3_BeginPattern: ("+pn+")");
F.push("("+pn+") 0 0 "+Math.round(a.q/V)+" "+Math.round(a._/V));var W=a.root.children,D=[];for(var I=0;
I<W.length;I++)C(W[I],a,U,_,D,1);D=window.akR;for(var I=0;I<D.length;I++){var l=D[I];F.push(l.startsWith("%_")?l:"%_"+l)}F.push("E","%AI3_EndPattern")}if(O.Yf.length!=0){F.push("%AI5_BeginPalette","0 0 Pb");
for(var I=0;I<O.Yf.length;I++){var n=O.Yf[I],Q="("+n[0]+")",m=n[1].length;if(n[0]=="[Registration]")F.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(m==3)F.push(f(e.TI(n[1]).concat(n[1]))+" "+Q+" 0 1 Xk");else if(m==4)F.push("Bb","0 0 0 0 Bh",n[1][0]+1+" "+Q+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(m==2)F.push(Q+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");F.push(Q,"Pc")}F.push("PB","%AI5_EndPalette")}F=F.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var R=O.add.arts;for(var I=0;I<R.length;I++){var $=R[I];console.log($);var p=$.aR[0]*Y,c=-$.aR[1]*Y,B=$.aR[2]*Y,Z=-$.aR[3]*Y;
F.push("/Dictionary :","("+$.uD+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",y/2+" "+y/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",w(p)+" "+w(c)+" /RealPointRelToROrigin"," (PositionPoint1) ,",w(B)+" "+w(Z)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}F=F.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var v=[],E=[];for(var I=0;I<O.R.length;I++){var g=O.R[I],u=g.add.TySh;if(u){v.push(u.OY);E.push(u)}}if(v.length!=0){var j=en.a6p(v,null,null);
function A($){return $.map(function(e3){return"f"+e3})}for(var K=0;K<v.length;K++){var u=E[K],s=j._1._1[K],r=s._1._0[0]._0;
r=parseInt(r.slice(1));var h=j._0._8._0[r]._0,jC=u.h.clone();jC.concat(U);jC.scale(1,-1);h._2._2=A([jC.F,jC.b,jC.JJ,jC.RL,jC.$X,jC.Ar])}var d=P(j),q=P(j);
F.push("%AI11_BeginTextDocument");F.push("/AI11TextDocument : /ASCII85Decode ,");F=F.concat(d);F.push("0.0001 0.0001 /RulerOrigin ,");
F.push(";");F.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");F=F.concat(q);F.push(";");F.push("%AI11_EndTextDocument")}F.push("%%EndSetup\r");
F=F.concat(t);console.log(F.join("\n"));F.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var I=0;I<F.length;I++){var $=F[I];if(typeof $=="string")$=F[I]=L.$f($);hc+=$.length+1}var dk=new Uint8Array(hc);
for(var I=0;I<F.length;I++){var $=F[I];dk.set($,c6);c6+=$.length;dk[c6]=13;c6++}return gz.ark(dk).buffer}function P(O){var Y=new bA,U=hX.Fv(O,Y)-2,W=T(Y.data.slice(0,U)),t=[];
for(var _=0;_<W.length;_+=100){if(W.length-_<103){t.push("%"+W.slice(_));break}t.push("%"+W.slice(_,_+100))}return t}function w(eK){return eK.toFixed(3)}function x(O,Y){var U=O.getName(),W=null;
Y.push("%_/ArtDictionary :");if(O.add.vmsk)W=O.add.vmsk.Jc;if(O.add.SoLd){var t=e.W.dn(O.add.SoLd);W=Math.atan2(-t.b,t.F)}if(O.add.TySh){var t=O.add.TySh.h;
W=Math.atan2(-t.b,t.F)}if(W!=null&&W!=0)Y.push("%_("+W+") /String (BBAccumRotation) ,");if(O.add.TySh)Y.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!U.startsWith("<")&&!U.endsWith(">")){Y.push("%_/XMLUID : "+z(U)+" ; (AI10_ArtUID) ,")}Y.push("%_;","%_")}function z(O){var Y="";
for(var I=0;I<O.length;I++){var U=O[I],W=O.charCodeAt(I);if(U==" ")Y+="_";else if(U=="."||U==":"||U=="-"||48<=W&&W<=57||65<=W&&W<=90||97<=W&&W<=122||127<W)Y+=U;
else Y+="_x"+W.toString(16).toUpperCase()+"_"}return"("+Y+")"}function S(O,Y,U){U.push(f(O)+" "+Y)}function k(O){return"[ "+f(O)+" ]"}function f(O){return O.map(w).join(" ")}function C(O,Y,U,W,t,_){var n=O.r;
if(_!=0)t.push("0 A",(n.ny()?0:1)+" Xw");if(n.Pe()){var y=!1;for(var I=0;I<O.children.length;I++)if(O.children[I].r.u_)y=!0;
var F=n.add.lsct==jS.KC?1:0;if(_==0){t.push("%AI5_BeginLayer");t.push((n.ny()?1:0)+" "+Y.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
t.push("("+n.getName()+") Ln");t.push(F+" AE");x(n,t)}else{t.push(F+" Ae");t.push(y?"q":"u")}for(var I=0;
I<O.children.length;I++)C(O.children[I],Y,U,W,t,_+1);if(_==0)t.push("LB","%AI5_EndLayer--");else{t.push(y?"Q":"U");
x(n,t);H(n,t);t.push("0 0 Xd","6 () XW")}}else if(!0){H(n,t);var a=n.add.TySh,V=n.add.vmsk;if(a){t.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",W.ag2+" /StoryIndex ,");
if(fe.bU(a.OY)==1){var D=fe.vw(a.OY),l=e.a.R2(new fA(D[0],D[1],D[2],D[3])).i;e.a.h(l,a.h,l);e.a.h(l,U,l);
t.push("/Art :","X=","1 Ap",l[0]+" "+l[1]+" m",l[2]+" "+l[3]+" L",l[4]+" "+l[5]+" L",l[6]+" "+l[7]+" L",l[0]+" "+l[1]+" L","n","X+","; /ConfiningPath ,")}t.push("2 /TextAntialiasing ,",";");
W.ag2++}else if(n.add.SoLd){var Q,m,R,$=n.add.SoLd,p=$.Idnt.v,c=Y.xM(p,$.Crop?$.Crop.v:null),B=c.iT,Q=B[0],m=B[1];
R=e.W.dn($);var Z=new ar(1,0,0,-1,0,0);Z.concat(R);Z.concat(U);var v=m.c(),E=m.q,g=m._,u=e.U(v*4+8);
for(var I=0;I<v;I++){var j=I*4,A=I*3;u[A]=Q[j];u[A+1]=Q[j+1];u[A+2]=Q[j+2];u[3*v+I]=Q[j+3]}L.Xi(u,v*4,"%EndData");
t.push("%AI5_File:","%AI5_BeginRaster",k([Z.F,Z.b,Z.JJ,Z.RL,Z.$X,Z.Ar])+" 0 0 "+[E,g,E,g].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(v*4+4),"XI",u,"XH","%AI5_EndRaster","N")}else if(V){var K=n.add.vstl,s,r;
if(K){s=K.wm;r=K.eJ;if(s.length==0)s=null;if(r.length==0)r=null}var h=e.n.f8(V.g)>1;if(h)t.push("*u","0 Xw");
if(s){if(s.length==3)S(s,"Xa",t);else if(s.length==4){var jC=i(s,W);t.push("Bb",jC,"2 BB")}else{t.push("("+s[0]+") "+s[1][0].join(" ")+" ["+s[1][1].join(" ")+"] p")}}if(r){var d=U.gz(),q=K.iW.slice(0);
for(var I=0;I<q.length;I++)q[I]*=d;t.push(K.UR+" J "+K.F0+" j "+K.dy*d+" w "+w(K.Pm)+" M ["+q.join(" ")+"]0 d");
if(r.length==3)S(r,"XA",t);else if(r.length==4){var jC=i(r,W);t.push("1 Bb",jC,"2 BB")}else{t.push("("+r[0]+") "+r[1][0].join(" ")+" ["+r[1][1].join(" ")+"] P")}}var hc=e.a.IY(V.g,1);
e.a.h(hc.i,U,hc.i);var dk=n.u_?"h\nW\nn":s&&r?"b":s?"f":"s";b(hc,dk,V.Hv,t);if(h)t.push("*U")}x(n,t)}else{var c6=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
t=t.push(c6.join("\n"))}}function H(O,Y){var U=gn.acu.indexOf(O.gS);if(U==-1)U=0;Y.push(U+" "+w(O.opacity/255)+" 0 0 0 Xy")}function b(O,Y,U,W){W.push(U+" XR");
var t=0;for(var _=0;_<O.LG.length;_++){var n=O.LG[_],y,F=0,a="";if(n=="M"){F=2;y="m"}if(n=="L"){F=2;
y="l"}if(n=="C"){F=6;y="c"}for(var I=0;I<F;I++)a+=w(O.i[t+I])+" ";t+=F;if(F!=0)W.push(a+y);if(_==O.LG.length-1||O.LG[_+1]=="M"){W.push(n=="Z"?Y:Y.toUpperCase())}}}function i(O,Y){var U=M(O,Y),W="";
if(O[0]==1)W="0 0 "+O[2].slice(5).map(w).join(" ")+" Bh\n";return W+"1 ("+U+") "+O[2].slice(0,4).map(w).join(" ")+" "+O[3].map(w).join(" ")+" "+w(O[2][4])+" Bg"}function M(O,Y,U){var W=O[0],t=O[1].slice(0),_=W+"-"+JSON.stringify(t);
if(Y.EX[_])return Y.EX[_];console.log(U);var n=Y.EX[_]=U?U:"grd"+Y.CV.length;Y.CV.push("%AI5_BeginGradient: ("+n+")","("+n+") "+W+" "+t.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(W==0)t=t.reverse();for(var I=0;I<t.length;I++){var y=t[I];if(y[3]==null)throw"e";var F=e.TI(y[1]),a=100*y[3],V=F.concat(y[1]).map(w).join(" ")+" 2 "+w(y[2])+" 6 "+a+" "+w(y[0]*100);
Y.CV.push(V+" %_BS");Y.CV.push("%_"+V+" Bs")}Y.CV.push("BD","%AI5_EndGradient");return n}function T(O){var Y=[85*85*85*85,85*85*85,85*85,85,1],U="",W=O.length,t=new Uint8Array(4),_=new Uint32Array(t.buffer);
for(var I=0;I<W;I+=4){var n=W-I;t[3]=O[I];t[2]=n>1?O[I+1]:0;t[1]=n>2?O[I+2]:0;t[0]=n>3?O[I+3]:0;var y=_[0],F=1+Math.min(4,n);
for(var a=0;a<F;a++){var V=Math.floor(y/Y[a]);U+=String.fromCharCode(33+V);y-=V*Y[a]}}return U+"~>"}return o}();
function gs(){}gs.M3=function(){var o,P,w,x,z,S=!0,n,y,F;function k(v){return S?L.Dn(o,v):L.RS(o,v)}function f(v){return S?L.Bh(o,v):L.Vp(o,v)}function C(v){return S?L.EC(o,v):L.Xv(o,v)}function H(v){return L.Bh(o,v)}function b(v){return L.Dn(o,v)}function i(v){return L.Be(o,v)}function M(v,E){if(v+E*4>o.length)throw E;
var g=[];for(var I=0;I<E;I++)g.push(k(v+I*4));return g}function T(v,E){var g=[];for(var I=0;I<E;I++)g.push(C(v+I*8));
return g}function O(v){return b((v+1)*4096-12)}function Y(v){return b((v+1)*4096-8)}function U(v,P,E,g){if(x[v]==null)x[v]=[];
x[v].push([g,new Uint8Array(o.buffer,P,E)])}function W(v,E,g,u){var j=w[v],P=j*4096;P=P+b(P+4096-24-12-E*4);
var A=H(P),K=o[P+2],s=o[P+3];if(E!=K)throw K;if(s==0)U(u,P+4,g,9);else{var r=H(P+6),h=b(P+8);U(u,P+12,A-12,9);
W(h,r,g-(A-12),u)}}function t(){var v=b(352),E=b(v*4096+128),g=b(936);w=[];x={};z={};for(var I=0;I<1e9;
I++){var u=b(g*4096+128+I*4);if(u==0)break;var j=M(u*4096+128,4096-128-12>>>2);w=w.concat(j)}for(var A=0;
A<w.length;A++){var K=w[A],s=O(K);if(s!=6)continue;var P=K*4096,r=b(P);P+=4;for(var I=0;I<r;I++){var h=b(P);
P+=4;var jC=b(P);P+=4;var d=b(P);P+=4;var q=b(P);P+=4;if(h==0)z[jC]=d;else{var hc=d&65535,dk=d>>>16;
if(dk==0)U(jC,q*4096,hc,8);else W(q,dk,hc,jC)}}}var n={};for(var c6 in x){var e3=x[c6],ks=e3.length;
if(ks==1)n[c6]=e3[0][1];else{var cH=0,P=0;for(var I=0;I<ks;I++)cH+=e3[I][1].length;var bI=n[c6]=new Uint8Array(cH);
for(var I=0;I<ks;I++){bI.set(e3[I][1],P);P+=e3[I][1].length}}}return n}function _(P,v){var E=0,g="";
if(v){E=k(P);P+=4}else{P+=3;E=f(P);P+=2}while(g.length<E){var u=f(P),j=u&255,A=u>>>8,K=0,s="";j+=(A&15)*256;
A=A&240;P+=2;if(j==0)throw"e";for(var I=0;I<j;I++){if(A==64)K=o[P++];else if(A==128){K=f(P);P+=2}else throw A;
s+=String.fromCharCode(K)}g+=s}return[g,P]}function a(P,v,E){var g=M(P,v);for(var I=0;I<v;I++){E.push(I);
if(g[I]>y)throw"e";g[I]=D(g[I],E);E.pop()}return g}var V={};function D(v,E){if(F.indexOf(v)!=-1)return n[v];
if(v==0)return null;if(n[v]==null)return null;if(!(n[v]instanceof Uint8Array))return n[v];var g=o,P=0;
o=n[v];F.push(v);var u=z[v].toString(16),j=n[v]={_type:Z[u]?Z[u]+":"+u:"typ-"+u,_eid:v};while(P+8<o.length){if(S&&b(P+4)>268435455&&b(P+4)!=1179258880)S=!1;
var A=k(P);P+=4;var K=k(P);P+=4;var s=A.toString(16),r=P+K;if(P+K>o.length){j._bin=o;break}l(s,$,j,P,K,E);
P=r}o=g;F.pop();return j}function l(v,E,g,P,u,j){var A=E[v+":"+g._type];if(A==null)A=E[v];j.push(A?A[0]==""?v:A[0]:v);
if(A){var K=A[0],s=null,r=A[1];if(K=="")K=r+"-"+v;if(c[r]&&u!=c[r]){console.log(r);console.log(v,A);
console.log(o.slice(P,P+u));throw"e"}if(r=="mat")s=T(P,6);else if(r=="mmat")s=[D(k(P),j),u==6?[1,0,0,1,0,0]:T(P+6,6)];
else if(r=="rect")s=T(P,4);else if(r=="mrct"){s=T(P,4);s.push(H(P+32))}else if(r=="doub")s=C(P);else if(r=="pointArr"){var h=H(P);
s=M(P+2,h*2)}else if(r=="usrt")s=H(P);else if(r=="uint")s=k(P);else if(r=="pntr"||r=="ptr6"){s=D(k(P),j)}else if(r=="bool2"){if(f(P)!=0&&f(P)!=1)throw f(P);
s=f(P)==1}else if(r=="bool4"){if(b(P)!=0&&b(P)!=1)throw v+","+b(P);s=b(P)==1}else if(r=="color"){if(u!=38&&u!=30)throw u;
var jC=k(P),d=f(P+4);s=[jC];for(var I=0;I<d;I++)s.push(C(P+6+I*8))}else if(r=="path"){var q=P+u;s=[];
var hc=k(P);P+=4;for(var I=0;I<hc;I++){var dk=[[]];s.push(dk);var c6=k(P);P+=4;for(var e3=0;e3<c6;e3++){var jC=k(P);
P+=4;if(jC<2){dk[0].push([jC,C(P),C(P+8),C(P+16),C(P+24),C(P+32),C(P+40)]);P+=48}else if(jC==2){dk[0].push([jC,C(P),C(P+8)]);
P+=16}else throw jC}dk.push(H(P));P+=2}}else if(r=="ptrAndList"){var ks=k(P),cH=k(P+4);s=a(P+8,cH,j);
s.unshift(D(ks,j))}else if(r=="ptrArray"||r=="ptrArrayX"){var bI=u>>2;if(r=="ptrArray"){bI=k(P);P+=4;
if(u!=4+bI*4)throw u}s=a(P,bI,j)}else if(r=="ptrArray2"){var bI=k(P);P+=4;s=a(P,bI,j);P+=bI*4;bI=k(P);
P+=4;s.push(a(P,bI,j))}else if(r=="cldrn"){var aR=k(P),ak=k(P+4),bI=k(P+8);s={l:D(aR,j),yA:D(ak,j),eK:a(P+12,bI,j)};
if(u!=12+bI*4){console.log(v,sa);throw"e"}if(aR==0)throw aR}else if(r=="aprnc"){var bI=k(P);P+=4;s={};
for(var I=0;I<bI;I++){var cN=k(P),gC=f(P+4),bD=f(P+6);P+=8;var cu=B[cN.toString(16)];if(cu==null)cu="prm-"+cN.toString(16);
else cu=R(cu);s[cu]=[];for(var e3=0;e3<bD;e3++){var du=k(P),bq=f(P+4),hn=null;P+=6;if(du==28264)hn=C(P);
else if(du==28263)hn=k(P);else if(du==279||du==6917)hn=D(k(P),j);else if(du==28261)hn=H(P)==1;else if(du==28265)hn=[C(P),C(P+4)];
else if(du==6914||du==83231)hn=_(P)[0];else if(du==28259||du==28260||du==23094||du==67679){hn=o.slice(P,P+bq)}else throw du.toString(16);
s[cu].push(hn);P+=bq}}}else if(r=="lopts"){var aK=6;while(o[P+aK]<2)aK++;s={a99:f(P+0)==1,show:f(P+2)==1,a7_:f(P+4)==1,iv:k(P+aK),name:_(P+aK+8)[0]}}else if(r=="origin"){var q=P+u;
if(o[P++]!=1)throw"e";var h=b(P);P+=4;var cQ=L.AW(o,P,h);P+=h;if(o[P++]!=1)throw"e";var jR=o[P++];if(jR!=1&&jR!=53)throw jR;
var ch=H(P);P+=2;if(ch!=0&&ch!=1)throw ch;var bx=b(P);P+=4;if(bx!=0&&bx!=1)throw bx;var jf=b(P);P+=4;
if(jf!=0&&jf!=2&&jf!=3)throw jf;var dW=b(P);P+=4;var bf=_(P,!0);P=bf[1];bf=bf[0];var iu=b(P),dV=b(P+4);
P+=8;var gb=b(P);P+=4;if(gb!=0)throw gb;var gP=b(P);P+=4;var eJ=_(P)[0];P+=2+2+eJ.length+3;s={file:cQ,id:bf,pr:eJ}}else if(r=="string")s=_(P)[0];
else if(r=="relEnt"){var c1=f(P);P+=2;s=[];for(var I=0;I<c1;I++)s.push([k(P+I*8),D(k(P+I*8+4),j)])}else if(r=="textData"){var q=P+u,ku=k(P);
P+=4;var cN=k(P);P+=4;var d=f(P);P+=2;var aC=[];for(var I=0;I<d;I++){var gU=k(P);P+=4;if(ku==514)aC.push(_(P,!0)[0]);
else if(ku==515){var hR=k(P),v=k(P+4),a7=Q(P+8,j);aC.push([hR,D(v,j),a7])}else if(ku==516){var hR=k(P),v=k(P+4),dh=f(P+8),a7=Q(P+8,j);
aC.push([hR,D(v,j),a7])}else aC.push(o.slice(P,P+gU));P+=gU}if(q-P!=12)throw q-P;s=aC}else if(r=="storyProps"){var eS=k(P);
if(f(P+4)>1)throw"e";var d0=D(k(P+6),j),d=k(P+10),cJ=D(k(P+14+d*4),j);s={a8x:eS,ajr:d0,eK:a(P+14,d,j),anl:cJ,au$:M(P+14+d*4+4,4)}}else if(r=="styleProps")s=Q(P,j);
else if(r=="bounds"){var aO=P,c1=k(P);P+=4;s=[];for(var I=0;I<c1;I++){var a9=[];s.push(a9);for(var e3=0;
e3<4;e3++)a9.push(C(P+e3*8));P+=32;a9.push(o[P]);P++}if(P!=aO+u)throw"e"}else if(r=="columnPos"){var c1=k(P);
P+=4;s=[T(P,c1),C(P+c1*8)];P+=c1*8+8}else if(r=="StyleName"){s=[k(P+4)]}else if(r=="fontName"){var q=P+u;
s=[f(P)];P+=2;for(var I=0;I<2;I++){var cQ=_(P);P=cQ[1];s.push(cQ[0])}s.push(k(P));P+=4;var ac=f(P);P+=2;
s.push(ac);var e7=f(P);P+=2;var b2=[];s.push(b2);for(var jQ=0;jQ<e7;jQ++){var g9=[];b2.push(g9);var cQ=_(P);
P=cQ[1];g9.push(cQ[0]);var cx=f(P);if(cx<100){P+=2;var cQ=L.AW(o,P,cx);P+=cx;g9.push(cQ)}else{var cQ=_(P);
P=cQ[1];g9.push(cQ[0])}for(var I=0;I<3;I++){var cQ=_(P);P=cQ[1];g9.push(cQ[0])}g9.push(k(P));P+=4;var cQ=_(P,!0);
P=cQ[1];g9.push(cQ[0])}if(P+4!=q)throw"e";s.push(k(P))}else throw r;if(g[K]!=null){console.log(K,g[K],s);
console.log(j.slice(0));console.log(eid,v,P,g[K],A,s);throw"e"}g[K]=s}else{var i8=o.slice(P,P+u);g["prop-"+v]=i8}j.pop()}function Q(P,v){var E=f(P);
P+=2;var g={};for(var I=0;I<E;I++){var u=k(P);P+=4;var j=u.toString(16),A=f(P);P+=2;var K=f(P);P+=2;
for(var s=0;s<K;s++){var r=k(P);P+=4;var h=f(P);P+=2;l(j,p,g,P,h,v);P+=h}}return g}function m(v){S=!0;
o=new Uint8Array(v);n=t();var E=n[2147483649];E=L.bR(E,4,E.length-4);delete n[2147483649];y=0;for(var g in n)y=Math.max(y,parseInt(g));
F=[];var u={};for(var g in n)u[g]=n[g];for(var g in n)D(parseInt(g),[]);return n}function R(v){v=v.split(" ").join("");
return v[0].toLowerCase()+v.slice(1)}var $={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},p={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},c={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},B={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},Z={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return m}();function iN(){}iN.M3=function(){var o=0;function P(i,M){var T=gs.M3(i),m=1;o=0;var O=T[1],Y=O.spreads,U=[],W=new fA;
for(var t=0;t<Y.length;t++){var _=Y[t],n=_.children.eK,y=x(_),F=n[0].children.eK,a=new fA;for(var V=0;
V<F.length;V++){var D=F[V],l=x(D);l.concat(y);var Q=w(D);Q.offset(l.$X,l.Ar);Q=e.a.lY(Q);a=a.It(Q)}U.push(a);
W=W.It(a)}while(Math.sqrt(W.c())*m<1e3)m++;M.q=W.q*m;M._=W._*m;M.buffer=new Uint8Array(4*M.q*M._);M._0=!0;
M.vz=Math.round(72*m);M.oj(Y.length);for(var t=0;t<Y.length;t++){var _=Y[t],n=_.children.eK,R=M._L();
R.Yo=24;R.add.lsct=jS.KC;R.bx("Artboard "+(t+1));var $=U[t].clone();$.offset(-W.x,-W.y);$.x*=m;$.y*=m;
$.q*=m;$._*=m;$=e.a.lY($);R.VZ($);R.gS="pass";M.R.push(M.VY());var y=x(_);y.translate(-W.x,-W.y);y.scale(m,m);
var p={};for(var c=0;c<n.length-1;c++){var B=n[c],Z=B.children.eK,v=M._L(),E=B.layer.lopts;if(E.name=="Internal_pages_layer_name"||p[E.name])continue;
p[E.name]=!0;v.Yo=24;v.add.lsct=jS.KC;v.bx(E.name);v.Kt(E.show);if(E.a99)v.add.lspf=1<<31;v.gS="pass";
M.R.push(M.VY());for(var I=0;I<Z.length;I++)C(Z[I],M,y,T);M.R.push(v)}M.R.push(R)}}function w(i){var M=i.rect;
return new fA(M[0],M[1],M[2]-M[0],M[3]-M[1])}function x(i){var M=i.transform;return new ar(M[0],M[1],M[2],M[3],M[4],M[5])}function z(i){var M=i.color,T=i.parentFill,Y;
if(M==null&&T)M=T.color;if(M==null){console.log("strange color",i);return[0,0,0]}var O=M[0];if(O==5)Y=M.slice(1);
else if(O==6)Y=UDOC.C.cmykToRgb(M.slice(1));else if(O==7){var U=e.Aj(M[1],M[2],M[3]);Y=[U.$/255,U.H/255,U.b/255]}else if(O==14){Y=M.slice(1);
console.log("unsure about the color")}else{console.log(M);throw O}return Y}function S(i){var M=z(i);
return e.G.e1({$:M[0]*255,H:M[1]*255,b:M[2]*255})}function k(i){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[i]}function f(i,M){var I=0,T=0;
while(i[I+1]&&T+i[I][0]<=M){T+=i[I][0];I++}i=i[I][1].textData;I=0;while(i[I+1]&&T+i[I][0]<=M){T+=i[I][0];
I++}return i[I]}function C(i,M,T,O){var Y=i.transform?x(i):new ar;Y.concat(T);var U=i.path,W=i.appearance,t=i.visible,_=i.children?i.children.eK:null,n=M._L();
if(t!=null)n.Kt(t);var y=_&&_.length==1&&_[0].bitmapFill,F=i["bool2-1623"]&&_&&_.length==1&&_[0].rect&&_[0]._type.startsWith("TextFrame");
if(y){n.bx("bitmap");var a=_[0],V=w(a),D=x(a),$=null;D.concat(Y);var l=a.bitmapFill.bitmap;l=O[l]._bin;
if(l.length!=l.buffer.byteLength)l=l.slice(0);if(l[0]==123){console.log("unknown bitmap format");return}var Q=M.to(l,"img.jpg",0,0);
Q.Yo=n.Yo;n=Q;var m=[0,0,V.q,0,V.q,V._,0,V._];e.a.h(m,D,m);n.add.SoLd.Trnf=N.DH.Co(m);n.add.SoLd.nonAffineTransform=N.DH.Co(m);
n.w2(M,!1);var R=a.path;if(R&&R.length!=0)$=b(R,D,W);else if(U&&U.length!=0)$=b(U,Y,W);if($){var p=e.n.$s($.g),c=e.a.w4(m);
if(p.c()/c.SN(p).c()>1.1){if(p.contains(c))$=null;var B=i.children;i.children=null;C(i,M,T,O);i.children=B}}if($)n.add.vmsk=$;
n.h6();n.qX(M)}else if(F){if(W&&W.strokeSwatch){var Z=M._L();H(Z,M,W,U,Y);M.R.push(Z)}var v=_[0],V=w(v),D=x(v),ks=0;
D.concat(Y);var E=v.children.eK[0],g=E.obj228,u=g[0].story[1],j=u.stoProps.ajr.relEnt,A=u.stoProps.eK[0].relEnt,K=u.stoProps.eK[1]["ptrArrayX-210"][0].textData,s=O[j[0][1].textData[0][1].name[0]],r=s?s.styProps:{};
K=K.join("").replace(/\r/g,"\n");var h=-1;while((h=K.indexOf("\uFFFC"))!=-1){K=K.slice(0,h)+(K[h-1]=="\n"?" ":" ")+K.slice(h+1)}n.bx(K.slice(0,255));
n.add.lnsr="rend";n.add.TySh=fe.AH(0,0);n.add.TySh.Fy=V;n.add.TySh.h=D;var jC=n.add.TySh.OY;fe.EF(jC,0,K);
var d=fe.Zv(jC,0,K.length);d.OR.FontSize=10;fe.Bi(jC,0,K.length,d);var q=[];if(K.length!=0){var hc=f(j,0),dk=f(A,0),c6=1;
for(var I=1;I<K.length;I++){var U=f(j,I),e3=f(A,I);if(U!=hc||e3!=dk){q.push(c6);c6=0}hc=U;dk=e3;c6++}if(c6!=0)q.push(c6)}for(var I=0;
I<q.length;I++){var cH=f(A,ks),bI=q[I],aR=Math.min(ks+bI,K.length-1),ak=cH[2],cN=cH[1].styProps;if(cN==null)cN={};
var gC=f(j,ks),bD=gC[1].styProps,cu=gC[2],du={};for(var bq in r)du[bq]=r[bq];for(var bq in bD)du[bq]=bD[bq];
for(var bq in cu)du[bq]=cu[bq];for(var bq in cN)du[bq]=cN[bq];for(var bq in ak)du[bq]=ak[bq];var d=fe.Zv(jC,ks,aR),hn=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],aK=hn.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var cQ=0;cQ<aK.length;cQ++){var bq=aK[cQ],jR=cQ<hn.length?d.OR:d.bp;if(du[bq]!=null)jR[bq]=du[bq]}if(du.fillColor){var ch=z(du.fillColor);
d.OR.FillColor={Type:1,Values:[1].concat(ch)}}if(du.font){var bx=du.font.name[5],jf=du.fontStyle;if(jf==null)jf="Regular";
for(var dW=0;dW<bx.length;dW++)if(bx[dW][0]==jf)fe.bB(d,bx[dW][1])}if(du.leading!=null&&du.leading>1){d.OR.Leading=du.leading;
d.OR.AutoLeading=!1}if(du.align!=null)d.bp.Justification=[0,2,1,6,3,5,4,0,0,0][du.align];fe.Bi(jC,ks,aR,d);
ks+=bI}fe.mn(jC,1);fe.SP(jC,[0,0,Math.round(V.q),Math.round(V._)])}else if(i._type.startsWith("Path")&&(_==null||_.length==0)&&U){H(n,M,W,U,Y)}else{var bf=i["prop-14526"];
if(_==null&&bf){var iu=O[L.Dn(bf,20)];_=[iu]}if(_){if(U&&U.length!=0){n.add.vmsk=b(U,Y,W);n.h6();n.qX(M)}n.bx("group");
n.Yo=24;n.add.lsct=jS.KC;M.R.push(M.VY());for(var I=0;I<_.length;I++)C(_[I],M,Y,O)}}if(W){var dV=W.objectBlendingMode,gb=W.objectOpacity,gP=W.fillTint,c1=!1;
if(dV)n.gS=k(dV[0]);if(gb)n.opacity=Math.round(n.opacity*gb[0]/100);if(!y&&gP)n.opacity=Math.round(n.opacity*gP[0]/100);
var eJ=JSON.parse(iR.default);for(var I=0;I<iR.order.length;I++)eJ[iR._7[I]]={t:"VlLs",v:[]};var ku="dropShadow innerShadow satin bevel iglow oglow".split(" "),aC="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var I=0;I<ku.length;I++){var gU=ku[I];if(W[gU]&&W[gU][0]){var hR=W[gU],dh=135,eS=10;c1=!0;var a7=JSON.parse(iR.lC[iR.order.indexOf(aC[I])]);
eJ[iR._7[iR.order.indexOf(aC[I])]].v.push({t:"Objc",v:a7});if(W[gU+"Color"])a7.Clr.v=S(W[gU+"Color"][0]);
else if(ku[I]=="iglow"||ku[I]=="oglow")a7.Clr.v=e.G.e1({$:255,H:255,b:255});if(W[gU+"ColorH"])a7.hglC.v=S(W[gU+"ColorH"][0]);
if(W[gU+"ColorS"])a7.sdwC.v=S(W[gU+"ColorS"][0]);if(W[gU+"BMode"])a7.Md.v.BlnM=jK.W_(k(W[gU+"BMode"][0]));
if(W[gU+"BModeH"])a7.hglM.v.BlnM=jK.W_(k(W[gU+"BModeH"][0]));if(W[gU+"BModeS"])a7.sdwM.v.BlnM=jK.W_(k(W[gU+"BModeS"][0]));
if(W[gU+"Opacity"])a7.Opct.v.val=W[gU+"Opacity"][0];if(W[gU+"OpacityH"])a7.hglO.v.val=W[gU+"OpacityH"][0];
if(W[gU+"OpacityS"])a7.sdwO.v.val=W[gU+"OpacityS"][0];if(W[gU+"Size"])a7.blur.v.val=W[gU+"Size"][0];
if(W[gU+"Angle"])dh=W[gU+"Angle"][0];if(W[gU+"Dist"])eS=W[gU+"Dist"][0];if(W[gU+"DX"]){var d0=W[gU+"DX"][0],cJ=W[gU+"DY"][0];
eS=Math.round(Math.sqrt(d0*d0+cJ*cJ));dh=Math.round(Math.atan2(cJ,-d0)*180/Math.PI)}if(a7.lagl)a7.lagl.v.val=dh;
if(a7.Dstn)a7.Dstn.v.val=eS;if(a7.uglg)a7.uglg.v=!1;if(W[gU+"Invert"])a7.Invr.v=W[gU+"Invert"][0];else if(ku[I]=="satin")a7.Invr.v=!1;
if(W[gU+"Alt"])a7.Lald.v.val=W[gU+"Alt"][0];if(W[gU+"Depth"])a7.srgR.v.val=W[gU+"Depth"][0];if(W[gU+"Choke"])a7.Ckmt.v.val=W[gU+"Choke"][0]}}if(c1)n.add.lmfx=eJ}if(i.name)n.bx(i.name);
else if(W&&W.name)n.bx(W.name[0]);M.R.push(n)}function H(i,M,T,O,Y){i.bx("path");i.Yo|=16;i.add.vmsk=b(O,Y,T);
var U=i.add.vstk=iR.Vq.bS(),W=e.G.e1({$:0,H:0,b:0});if(T){var t=T.strokeSwatch,_=T.fillSwatch,n=T.basicFeather,y=T.basicFeatherWidth,F=T.strokeWeight;
U.strokeEnabled.v=t!=null;U.fillEnabled.v=_!=null;if(n)i.add.vmsk.yy=y?y[0]:9;if(t){U.strokeStyleLineWidth.v.val=F?F[0]:1;
W=S(t[0]);U.strokeStyleContent.v.Clr.v=W}if(_){W=S(_[0])}}if(W)i.add.SoCo={classID:"null",Clr:{t:"Objc",v:W}};
i.h6();i.qX(M)}function b(i,M,T){var O=new X.tc,Y=O.g;for(var U=0;U<i.length;U++){var W=i[U],t=W[0].length,_=W[1]==0;
if(t==0)continue;var n=_?0:3;Y.push({type:n,length:t,Hv:0,cI:2,p_:0,xd:0});for(var I=0;I<t;I++){var y=W[0][I],F=y[0],a=new eD(y[1],y[2]),V=new eD(y[3],y[4]),D=new eD(y[5],y[6]);
if(F==0||F==1)Y.push({type:n+2,Fm:a,v:V,AK:D});else if(F==2)Y.push({type:n+2,Fm:a,v:a,AK:a});else throw F}}e.n.G9(Y,M);
return O}return P}();var e9=function(o){function P(f,C){var H=[];for(var I=0;I<9;I++){var b=L.RS(f,C+I*4);
if(I%3==2)H.push((b>>>30)+(b&1073741823)/1073741823);else H.push((b>>>16)+(b&65535)/65535)}return H}async function w(f,C,H,b,i,M){var T={},O=L.RS,Y=L.Vp;
if(C==null){C=await x(f,H)}var U=b-H;while(b<i){var W=U,t=L.RS(C,U);U+=4;if(t==0){t=L.RS(C,U);U+=4}var _=L.AW(C,U,4);
U+=4;if(t==0)throw"e";if(t==1){t=L.dw(C,U);U+=8}var n=W+t,y="".padStart(M,"\t");if(_!="mdat"&&n>C.byteLength){C=await x(f,H,n)}var F={};
if(_=="mvhd"){var a=C[U];if(a!=0)throw"e";U+=4;F.a6z=O(C,U);U+=4;F.aeB=O(C,U);U+=4;F.JO=O(C,U);U+=4;
F.duration=O(C,U);U+=4;F.U2=O(C,U);U+=4;F.volume=Y(C,U);U+=2;U+=10;F.aEm=P(C,U);U+=4*9;F.ayL=[];for(var I=0;
I<6;I++)F.ayL.push(O(C,U+I*4));U+=4*6;F.a7E=O(C,U);U+=4}else if(_=="tkhd"){var a=C[U];if(a!=0)throw"e";
U+=4;F.a6z=O(C,U);U+=4;F.aeB=O(C,U);U+=4;F.apo=O(C,U);U+=4;U+=4;F.duration=O(C,U);U+=4;U+=8;F.r=Y(C,U);
U+=2;F.aiE=Y(C,U);U+=2;F.volume=Y(C,U);U+=2;U+=2;F.aEm=P(C,U);U+=4*9;F.V=O(C,U)>>>16;U+=4;F.Y=O(C,U)>>>16;
U+=4}else if(_=="mdhd"){F.Yo=O(C,U);U+=4;F.a6z=O(C,U);U+=4;F.aeB=O(C,U);U+=4;F.JO=O(C,U);U+=4;F.duration=O(C,U);
U+=4;F.lang=Y(C,U);U+=2;F.xs=Y(C,U);U+=2}else if(_=="hdlr"){var V=O(C,U);U+=4;if(V!=0)throw V;F.Ct=L.AW(C,U,4);
U+=4;F.agR=L.AW(C,U,4);U+=4;F.akM=O(C,U);U+=4;F.Yo=O(C,U);U+=4;F.aEK=O(C,U);U+=4;var D=U;while(C[D]!=0)D++;
F.name=L.AW(C,U,D-U);U+=D-U+1}else if(_=="stsd"){var V=O(C,U);U+=4;if(V!=0)throw V;var l=O(C,U);U+=4;
if(l!=1)throw l;var Q=O(C,U);U+=4;F.q$=L.AW(C,U,4);U+=4;if(F.q$=="mett"){F.awC=L.AW(C,U,n-U)}else{for(var I=0;
I<6;I++)if(C[U+I]!=0)throw"e";U+=6;F.adv=Y(C,U);U+=2;F.aA_=Y(C,U);U+=2;F.aHo=Y(C,U);U+=2;F.aeK=O(C,U);
U+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(F.q$)!=-1){F.a3d=O(C,U);
U+=4;F.aC5=O(C,U);U+=4;F.a6_=[Y(C,U),Y(C,U+2)];U+=4;F.agn=[O(C,U)/(1<<16),O(C,U+4)/(1<<16)];U+=8;var m=O(C,U);
U+=4;if(m!=0)throw"e";var R=Y(C,U);U+=2;if(R!=1)throw"e";var $=C[U];U++;F.aaO=L.AW(C,U,$);U+=31;F.afH=Y(C,U);
U+=2;var p=Y(C,U);U+=2;if(p!=65535)throw"e";if(U!=n)F.y6=await w(f,C,H,H+U,H+n,M+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(F.q$)!=-1){F.Cg=Y(C,U);
U+=2;F.acv=Y(C,U);U+=2;var c=Y(C,U);U+=2;if(c!=0&&c!=65534)throw c;var B=Y(C,U);U+=2;if(B!=0)throw B;
F.azK=O(C,U)/(1<<16);U+=4;if(U!=n)F.y6=await w(f,C,H,H+U,H+n,M+1)}else if(F.q$=="CTMD"){F.P=C.slice(U,n)}else if(F.q$=="tx3g"||F.q$=="text"||F.q$=="mebx"){}else if(F.q$=="tmcd"){}else if(F.q$=="CRAW"){}else if(F.q$=="sowt"){}else throw JSON.stringify(F.q$)}}else if(_=="stts"||_=="stsz"||_=="stco"||_=="stsc"||_=="ctts"){var V=O(C,U),Z=0,E=0;
U+=4;if(V!=0)throw V;if(_=="stsz"){Z=O(C,U);U+=4}var v=O(C,U)*(_=="stsc"?3:_=="stts"||_=="ctts"?2:1);
U+=4;F=[];for(var I=0;I<v;I++){if(Z!=0)F.push(Z);else{F.push(O(C,U));U+=4}}for(var I=0;I<v;I++)E+=F[I]}else if(_=="co64"){var V=O(C,U);
U+=4;if(V!=0)throw V;var v=O(C,U);U+=4;F=[];for(var I=0;I<v;I++){F.push(L.dw(C,U));U+=8}}else if(_=="moov"||_=="trak"||_=="mdia"||_=="minf"||_=="dinf"||_=="stbl"||_=="uuid"){if(_=="uuid")U+=16;
F=await w(f,C,H,H+U,H+n,M+1)}else if(_=="CMT1"||_=="CMT2"||_=="CMT3"||_=="CMT4"){F=UTIF.decode(C.slice(U,n))}else if(_=="stss"){F.f=U+H;
F.PD=t;F.agZ=O(C,U+4)}else{F.f=U+H;F.PD=t}U=n;if(_=="trak"||_=="free"||_=="uuid"){if(T[_]==null)T[_]=[];
T[_].push(F)}else{if(T[_]!=null)throw _;T[_]=F}b=U+H;if(U>=C.byteLength){H+=U;U=0;C=await x(f,H)}}return T}async function x(f,C,H){if(H==null){H=8*1024*1024}var b=await f.slice(C,C+H),i=await b.arrayBuffer();
return new Uint8Array(i)}async function z(f){return await w(f,null,0,0,f.size,0)}function S(f,C){var H=f.mdia.minf.stbl,b=H.stsc,i=0,M=0;
for(var I=0;I<b.length;I+=3){var T=(I+3<b.length?b[I+3]:1e4)-b[I],O=M+T*b[I+1];if(M<=C&&C<O){while(M+b[I+1]<=C){i++;
M+=b[I+1]}break}i+=T;M=O}var Y=H.stco;if(Y==null)Y=H.co64;var U=Y[i];while(M<C){U+=H.stsz[M];M++}return[U,H.stsz[C]]}function k(f,C){var H=f.moov.trak,b=[];
for(var I=0;I<H.length;I++){if(H[I].mdia.hdlr.agR==C){b.push(H[I])}}return b}return{M3:z,yV:S,getTracks:k}}();
function kj(o,P){this.FO=!1;this.Zq=o;this.eD;this.aC$=0;this.hu=0;this.bL=0;this.position=0;this.MA=[];
this.bD=[];this.e6=[];this.aA0=10;this.Mq=6;this.ng=[];this.aap=-2;this._u=[];this.akN;this.UE;this.za=P;
this.yI;this.rs;this.a1A=-1}kj.prototype.Ik=function(o){this._u.push(o)};kj.prototype.ajv=function(o,I){var P=0,w=o.getUint8(I,!1);
I+=1;P=w&127;var x=w>>7;while(x==1){w=o.getUint8(I,!1);I+=1;x=w>>7;var z=w&127;P=P<<7|z}return[P,I]};
kj.prototype.aBr=function(o){this.Hj={};var P=new DataView(o.buffer),I=4;I+=4;while(I<P.byteLength){var w=P.getUint8(I,!1);
I+=1;var x=this.ajv(P,I),z=x[0];I=x[1];if(w==3){I+=2;I+=1}else if(w==4){this.Hj.objectType=P.getUint8(I,!1);
I+=1;this.Hj.streamType=P.getUint8(I,!1)>>2;I+=1;I+=3;this.Hj.maxBitrate=P.getUint32(I,!1);I+=4;this.Hj.avgBitrate=P.getUint32(I,!1);
I+=4}else if(w==5){this.Hj.decoderSpecificInfo=o.slice(I,I+z);I+=z}else{I+=z}}};kj.prototype.vw=async function(){this.aoS=await e9.M3(this.Zq);
this.aai={};this.H1={};this.yI=e9.getTracks(this.aoS,"vide");var o=!0,b=!0;if(this.yI.length>0){var P=this.yI[0],w=P.tkhd;
this.Hd=P.mdia.minf.stbl;var x=this.Hd.stsd.q$;if(x=="avc1"||x=="vp09"){this.UY=new VideoDecoder({output:kQ=>this.ab2(kQ),error:function(D){console.log(D.message)}});
await this.a8g(this.Hd.stss.f+8,this.Hd.stss.PD-8);for(var I=0;I<this.agt.byteLength;I+=4){var z=this.agt.getUint32(I,!1)-1;
this.ng.push(z)}var S=P.mdia.mdhd.JO,k=P.mdia.mdhd.duration/S,f=this.Hd.stsz.length,C=f/k;if(x=="avc1"){if(this.Hd.stsd.y6.avcC){this.nI=this.Hd.stsd.y6.avcC;
var H={codec:"avc1.640034"};H.description=new Uint8Array(await this.Zq.slice(this.nI.f,this.nI.f+this.nI.PD).arrayBuffer());
this.UY.configure(H)}else{console.log(x+" video codec not supported (avcC missing).");o=!1}}else{var H={codec:"vp09.00.10.08"};
this.UY.configure(H)}}else{console.log(x+" video codec not supported.");o=!1}}this.rs=e9.getTracks(this.aoS,"soun");
if(this.rs.length>0){var i=this.rs[0],M=i.mdia.minf.stbl,T,O=M.stsd.Cg;if(M.stsd.q$=="mp4a"){if(M.stsd.y6.esds){this.awF=M.stsz.length;
this.Dr=new AudioDecoder({output:kQ=>this.Ik(kQ),error:function(D){console.log(D)}});var Y=M.stsd.y6.esds.f,U=M.stsd.y6.esds.PD,W=await this.Zq.slice(Y-4,Y+U+4),t=await W.arrayBuffer(),_=new Uint8Array(t),n=null;
this.aBr(_);T="mp4a.";if(this.Hj.objectType==64){T+=this.Hj.objectType.toString(16);T+=".";T+=(this.Hj.decoderSpecificInfo[0]>>3).toString();
n=this.Hj.decoderSpecificInfo}else{T+=this.Hj.objectType.toString(16).toUpperCase()}if(n){var y=n[0]>>3;
if(y==31){var F=(n[0]&7)<<3|n[1]>>5;y=32+F;var a=n[1]&31>>1;if(a==15){O=(n[4]&1)<<3|n[5]>>5}else{O=(n[1]&1)<<3|n[2]>>5}}else{var a=(n[0]&7)<<1|n[1]>>7;
if(a==15){O=(n[4]&127)>>3}else{O=(n[1]&127)>>3}}}var V={codec:T,numberOfChannels:O,sampleRate:M.stsd.azK};
if(n){V.description=n}console.assert(await AudioDecoder.isConfigSupported(V));this.Dr.configure(V)}else{console.log("Audio codec not supported.");
b=!1}}else{console.log("Audio codec not supported.");b=!1}}this.j3={};if(o&&this.yI.length>0){this.j3.IN={yI:1,Tm:f,U2:C,width:w.V,height:w.Y}}if(b&&this.rs.length>0){this.j3.F={yI:O,U2:M.stsd.azK,Tm:i.mdia.mdhd.duration}}if(!this.za){this.akN=new OffscreenCanvas(this.j3.IN.width,this.j3.IN.height);
this.UE=this.akN.getContext("2d",{amj:!0});this.aA0=10;this.Mq=6}this.FO=!0};kj.prototype.awW=function(o){if(!this.za){this.UE.drawImage(o,0,0);
var P=this.UE.getImageData(0,0,this.j3.IN.width,this.j3.IN.height).data}var w=this.bD[this.position];
try{if(this.MA[w]){if(this.za){this.MA[w](o)}else{this.MA[w](P)}}var x=this.position-this.aA0;if(x>=0){var z=this.bD[x];
delete this.H1[z];delete this.MA[z]}this.position++}catch(bF){console.log(w);console.log(this.MA[w]);
console.log(bF)}};kj.prototype.ab2=async function(o){if(this.e6[this.position]==0){createImageBitmap(o).then(img=>{this.awW(img)})}else{var P=this.e6[this.position];
createImageBitmap(o,{resizeWidth:o.a9n>>P,resizeHeight:o.aFq>>P}).then(img=>{this.awW(img)})}o.close()};
kj.prototype.a8g=async function(o,P){this.atD=await this.Zq.slice(o,o+P).arrayBuffer();this.agt=new DataView(this.atD)};
kj.prototype.kG=async function(){if(!this.FO){await this.vw()}return this.j3};kj.prototype.$C=async function(o,P){var w=Math.min(P+250,this.j3.IN.Tm-1),x=e9.yV(o,P),z=e9.yV(o,w),S=await this.Zq.slice(x[0],z[0]+z[1]),k=await S.arrayBuffer();
this.eD=new Uint8Array(k);this.aC$=P;this.hu=w;this.bL=x[0];return};kj.prototype.aEk=async function(o,P,w){for(var I=P;
I<w;++I){if(I>=this.hu){await this.$C(o,I)}var x=this.ng.indexOf(I),z=e9.yV(o,I),S=this.eD.slice(z[0]-this.bL,z[0]+z[1]-this.bL),k=new EncodedVideoChunk({timestamp:I,duration:1e3,hardwareAcceleration:"prefer-hardware",type:x!=-1?"key":"delta",data:S});
if(this.UY.state=="configured"){try{this.UY.decode(k)}catch(w){console.log("CAUGHT unconfigured");console.log(w)}}else{console.log("unconfigured");
delete S}delete S}if(w==this.j3.IN.Tm){this.UY.flush()}};kj.prototype.a6B=async function(o,P,j7=0){if(!this.FO){await this.vw()}if(this.yI.length<=o){console.log("Requested track does not exist");
return}var w=this.yI[o],x,z,S;if(P>=this.j3.IN.Tm||P<0){console.log("Requested frame out of range");
return}if(P!=this.aap+1){z=this.ng[this.ng.length-1];for(var I=0;I<this.ng.length;++I){if(P<this.ng[I]){z=this.ng[I-1];
break}}if(z==this.a1A){if(P>this.bD[this.bD.length-1]){z=this.bD[this.bD.length-1]+1}else if(this.H1[P.toString()]){z=this.bD[this.bD.length-1]+1}else{for(var I=this.bD.length-this.Mq;
I<this.bD.length;++I){if(this.bD[I]==P){z=this.bD[this.bD.length-1]+1;break}}}}else{this.a1A=z}}else{z=0;
if(this.bD.length>0){z=this.bD[this.bD.length-1]+1}}if(z<this.j3.IN.Tm){S=Math.min(P+this.Mq,this.j3.IN.Tm);
for(var I=z;I<S;++I){this.H1[I]=new Promise(function(k,f){x=k});this.MA[I]=x;this.bD.push(I);this.e6.push(j7)}if(z>=this.hu||S<this.aC$){await this.$C(w,z)}this.aEk(w,z,S)}this.aap=P;
return this.H1[P.toString()]};kj.prototype.ac3=async function(o,P,w){if(this.rs.length<=o){console.log("Requested audio track does not exist");
return}var x=this.rs[o],z=x.mdia.minf.stbl.stts,S=null,k=null,f=0,C=0;for(var I=0;I<z.length;I+=2){if(S==null&&f+z[I]*z[I+1]>=P){S=Math.ceil(C+(P-f)/z[I+1])}if(k==null&&f+z[I]*z[I+1]>=w){k=Math.ceil(C+(w-f)/z[I+1])}if(S&&k){break}f+=z[I]*z[I+1];
C+=z[I]}var H=e9.yV(x,S),b=e9.yV(x,k),i=await this.Zq.slice(H[0],b[0]+b[1]),M=await i.arrayBuffer(),T=new Uint8Array(M);
for(var I=S;I<k;++I){var O=e9.yV(x,I),Y=T.slice(O[0]-H[0],O[0]+O[1]-H[0]),U=new EncodedAudioChunk({timestamp:I,duration:1e3,type:"key",data:Y});
try{this.Dr.decode(U)}catch(bF){console.log("Error decoding audioframe "+I.toString()+". "+bF.message)}}try{await this.Dr.flush()}catch(bF){console.log("CAUGHT flush, but returning");
return this._u}return this._u};function gZ(o,P,w){this.j3=P;this.EW=o;this.aif=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.aGh=40;this.V,this.Y;this.sT;this.DV;this.IU;this.ajC;this.description;this.xR;this.WV;this.qt;
this.B5;this.mK;this.Xx;this.hU=w;this.SJ;this._C;this.qR;this.aCK;this.Q1;if(this.j3.IN){this.apK()}if(this.j3.F){this.abL()}}gZ.prototype.aod=function(o){return new Uint8Array([o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]).buffer};
gZ.prototype.aBo=function(o){var P=new Uint32Array([o]),w=new Uint8Array(P.buffer);return new Uint8Array([w[3],w[2],w[1],w[0]])};
gZ.prototype.Bk=function(o){this.qR[this._C]=o;++this._C};gZ.prototype.g5=function(o){this.qR[this._C]=o>>8&255;
this.qR[this._C+1]=o&255;this._C+=2};gZ.prototype.apg=function(o){this.qR[this._C]=o>>16&255;this.qR[this._C+1]=o>>8&255;
this.qR[this._C+2]=o&255;this._C+=3};gZ.prototype.MX=function(o){this.qR[this._C]=o>>24&255;this.qR[this._C+1]=o>>16&255;
this.qR[this._C+2]=o>>8&255;this.qR[this._C+3]=o&255;this._C+=4};gZ.prototype.BW=function(o){this.SJ.push(this._C);
this._C+=4;this.$G(o)};gZ.prototype.$G=function(o){for(var I=0;I<o.length;++I){this.qR[this._C]=o.charCodeAt(I);
++this._C}};gZ.prototype.aFX=function(o){this.qR.set(new Uint8Array(o),this._C);this._C+=o.byteLength};
gZ.prototype.VA=function(){var o=this._C;this._C=this.SJ.pop();this.MX(o-this._C);this._C=o};gZ.prototype.ak7=function(o,P){if(!this.description&&P){if(P.description){this.description=P.description}if(P.decoderConfig&&P.decoderConfig.description){this.description=P.decoderConfig.description}}var w=new ArrayBuffer(o.byteLength);
o.copyTo(w);this.t$(w);this.sT.push({duration:o.duration,timestamp:o.timestamp,type:o.type,byteLength:o.byteLength});
if(o.type=="key"){this.IU.push(this.sT.length)}};gZ.prototype.Ik=function(o,P){if(!this.xR&&P){if(P.decoderConfig){this.xR=P.decoderConfig}}var w=new ArrayBuffer(o.byteLength);
o.copyTo(w);this.aty(w);this.DV.push({duration:o.duration,timestamp:o.timestamp,type:o.type,byteLength:o.byteLength});
if(o.type=="key"){this.ajC.push(this.DV.length)}};gZ.prototype.t$=function(o){var P=new Uint8Array(this.WV.byteLength+o.byteLength);
P.set(new Uint8Array(this.WV));P.set(new Uint8Array(o),this.WV.byteLength);this.WV=P.buffer;if(this.WV.byteLength>20*1024*1024){this.EW.write(this.WV);
this.WV=new Uint8Array}};gZ.prototype.aty=function(o){var P=new Uint8Array(this.qt.byteLength+o.byteLength);
P.set(new Uint8Array(this.qt));P.set(new Uint8Array(o),this.qt.byteLength);this.qt=P.buffer};gZ.prototype.aD7=function(){this.SJ=[];
var o=this.aGh,P=[],w={},x=9e4,z=this.sT.length,S=this.IU.length,k=-1,C=!1,O=1;for(var I=0;I<this.sT.length;
++I){this.B5+=this.sT[I].duration/1e3;this.Xx+=this.sT[I].byteLength;if(this.sT[I].duration!=k){if(I!=0){P.push(w)}k=this.sT[I].duration;
w={duration:9e4*this.sT[I].duration/1e6,sampleCount:1}}else{w.sampleCount=w.sampleCount+1}}this.Xx+=8;
P.push(w);var f=P.length;if(this.j3.F){C=!0}if(C){var H=[],b=this.DV.length;this.mK=0;var i=this.xR.sampleRate,k=-1;
for(var I=0;I<this.DV.length;++I){this.mK+=this.DV[I].duration/1e3;this.Xx+=this.DV[I].byteLength;var M=Math.round(i*this.DV[I].duration/1e6);
if(M!=k){if(I!=0){H.push(w)}k=M;w={duration:M,sampleCount:1}}else{w.sampleCount=w.sampleCount+1}}H.push(w);
var T=H.length}var Y=579+this.description.byteLength+4*z+4*z+4*S+8*f;if(C){Y+=426+this.xR.description.byteLength+4*b+4*b+8*f;
O=2}this.qR=new Uint8Array(Y);this._C=0;this.BW("moov");this.BW("mvhd");this.MX(0);this.MX(0);this.MX(0);
this.MX(1e3);this.MX(this.B5);this.MX(65536);this.g5(256);this.g5(0);this.MX(0);this.MX(0);this.MX(65536);
this.MX(0);this.MX(0);this.MX(0);this.MX(65536);this.MX(0);this.MX(0);this.MX(0);this.MX(1073741824);
this.MX(0);this.MX(0);this.MX(0);this.MX(0);this.MX(0);this.MX(0);this.MX(2);this.VA();for(var U=0;U<O;
++U){this.BW("trak");this.BW("tkhd");this.MX(7);this.MX(0);this.MX(0);this.MX(1);this.MX(0);if(U==1)this.MX(this.mK);
else this.MX(this.B5);this.MX(0);this.MX(0);this.g5(0);this.g5(0);this.g5(256);this.g5(0);if(U==1){this.MX(1);
this.MX(0);this.MX(0);this.MX(0);this.MX(1);this.MX(0);this.MX(0);this.MX(0);this.MX(1);this.MX(this.V*0);
this.MX(this.Y*0)}else{this.MX(65536);this.MX(0);this.MX(0);this.MX(0);this.MX(65536);this.MX(0);this.MX(0);
this.MX(0);this.MX(1073741824);this.MX(this.V*65536);this.MX(this.Y*65536)}this.VA();this.BW("mdia");
this.BW("mdhd");this.MX(0);this.MX(0);this.MX(0);if(U==1){this.MX(this.xR.sampleRate);this.MX(this.mK/1e3*this.xR.sampleRate)}else{this.MX(x);
this.MX(this.B5/1e3*x)}this.Bk(85);this.Bk(196);this.g5(0);this.VA();this.BW("hdlr");this.MX(0);this.MX(0);
if(U==1){this.$G("soun");this.MX(0);this.MX(0);this.MX(0);this.$G("SoundHandler");this.Bk(0)}else{this.$G("vide");
this.MX(0);this.MX(0);this.MX(0);this.$G("VideoHandler");this.Bk(0)}this.VA();this.BW("minf");if(U==1){this.BW("smhd");
this.MX(0);this.g5(0);this.g5(0);this.VA()}else{this.BW("vmhd");this.MX(1);this.g5(0);this.g5(0);this.g5(0);
this.g5(0);this.VA()}this.BW("dinf");this.BW("dref");this.MX(0);this.MX(1);this.BW("url ");this.MX(1);
this.VA();this.VA();this.VA();if(U==1){this.BW("stbl");this.BW("stsd");this.MX(0);this.MX(1);this.BW("mp4a");
this.g5(0);this.g5(0);this.g5(0);this.g5(1);this.MX(0);this.MX(0);this.g5(this.xR.numberOfChannels);
this.g5(16);this.g5(0);this.g5(0);this.g5(this.xR.sampleRate);this.g5(0);this.BW("esds");this.MX(0);
this.Bk(3);this.Bk(25);this.g5(0);this.Bk(0);this.Bk(4);this.Bk(17);this.Bk(64);this.Bk(21);this.apg(0);
this.MX(16e4);this.MX(16e4);this.Bk(5);this.Bk(2);this.aFX(this.xR.description);this.Bk(6);this.Bk(1);
this.Bk(2);this.VA();this.VA();this.VA();this.BW("stts");this.MX(0);this.MX(T);for(var I=0;I<T;++I){this.MX(H[I].sampleCount);
this.MX(H[I].duration)}this.VA();this.BW("stsc");this.MX(0);this.MX(1);this.MX(1);this.MX(1);this.MX(1);
this.VA();this.BW("stsz");this.MX(0);this.MX(0);this.MX(b);for(var I=0;I<b;++I){this.MX(this.DV[I].byteLength)}this.VA();
this.BW("stco");this.MX(0);this.MX(b);for(var I=0;I<b;++I){this.MX(o);o+=this.DV[I].byteLength}this.VA();
this.VA()}else{this.BW("stbl");this.BW("stsd");this.MX(0);this.MX(1);this.BW("avc1");this.g5(0);this.g5(0);
this.g5(0);this.g5(1);this.g5(0);this.g5(0);this.MX(0);this.MX(0);this.MX(0);this.g5(this.V);this.g5(this.Y);
this.MX(4718592);this.MX(4718592);this.MX(0);this.g5(1);for(var I=0;I<8;++I){this.MX(0)}this.g5(24);
this.g5(-1);this.BW("avcC");this.aFX(this.description);this.VA();this.VA();this.VA();this.BW("stts");
this.MX(0);this.MX(f);for(var I=0;I<f;++I){this.MX(P[I].sampleCount);this.MX(P[I].duration)}this.VA();
this.BW("stsc");this.MX(0);this.MX(1);this.MX(1);this.MX(1);this.MX(1);this.VA();this.BW("stsz");this.MX(0);
this.MX(0);this.MX(z);for(var I=0;I<z;++I){this.MX(this.sT[I].byteLength)}this.VA();this.BW("stco");
this.MX(0);this.MX(z);for(var I=0;I<z;++I){this.MX(o);o+=this.sT[I].byteLength}this.VA();this.BW("stss");
this.MX(0);this.MX(S);for(var I=0;I<S;++I){this.MX(this.IU[I])}this.VA();this.VA()}this.VA();this.VA();
this.VA()}this.VA();return};function is(o,P,w){var x=new Uint8Array(this.V*this.Y*4),z=new Uint8Array(o),S=P?this.V-1:this.V,k=w?this.Y-1:this.Y;
if(P){for(var I=0;I<k;++I){x.set(z.slice(4*I*S,4*I*S+4*S),4*I*this.V);x[4*(I+1)*this.V-4]=z[4*(I+1)*S-4];
x[4*(I+1)*this.V-3]=z[4*(I+1)*S-3];x[4*(I+1)*this.V-2]=z[4*(I+1)*S-2];x[4*(I+1)*this.V-1]=z[4*(I+1)*S-1]}if(w){x.set(x.slice(4*this.V*k-4*this.V,4*this.V*k),4*this.V*k)}}else if(w){x.set(z);
x.set(z.slice(4*S*k-4*S),4*S*k)}return x.buffer}gZ.prototype.a0q=async function(o){console.assert(await VideoEncoder.isConfigSupported(o))};
gZ.prototype.apK=function(){var o=Date.now();this.oU=!1;this.fY=!1;var P=this.j3.IN.width,w=this.j3.IN.height;
if(P%2!=0){this.oU=!0;this.V=P+1}else{this.V=P}if(w%2!=0){this.fY=!0;this.Y=w+1}else{this.Y=w}this.description=null;
this.IU=[];this.sT=[];this.B5=0;this.Xx=0;this.WV=new Uint8Array;this.t$(new Uint8Array(this.aif));this.t$(this.aBo(0).buffer);
this.t$(this.aod("mdat"));this.UC=new VideoEncoder({output:(chunk,opts)=>this.ak7(chunk,opts),error:bF=>{console.log(bF)}});
var x=this.hU*this.V*this.Y,z=x*this.j3.IN.Tm,S=Math.round(x*24),k={width:this.V,height:this.Y,codec:"avc1.420034",bitrate:S,acceleration:"prefer-hardware"};
this.a0q(k);this.UC.configure(k);this.Q1=0};gZ.prototype.a5$=async function(o){console.assert(await AudioDecoder.abC(o))};
gZ.prototype.abL=function(){this.qt=new Uint8Array;this.xR=null;this.ajC=[];this.DV=[];var o={codec:"mp4a.40.2",numberOfChannels:this.j3.F.yI,sampleRate:this.j3.F.U2,bitrate:16e4};
this.Sl=new AudioEncoder({output:(kQ,ct)=>this.Ik(kQ,ct),error:function(P){console.log(P)}});this.a5$(o);
this.Sl.configure(o)};gZ.prototype.kG=function(){return this.j3};gZ.prototype.abc=async function(o,P,w){var x=o,z=1e6/this.j3.IN.U2;
if(w%50==0){console.log(Math.round(w/this.j3.IN.Tm*100).toString()+"%")}if(this.fY||this.oU){x=is(o,this.oU,this.fY)}var S=new VideoFrame(x.buffer,{timestamp:this.Q1,duration:z,format:"RGBA",codedWidth:this.V,codedHeight:this.Y});
this.UC.encode(S);S.close();this.Q1+=z;delete x;delete o;delete S};gZ.prototype.a4A=async function(o,P,w,x){for(var I=0;
I<o.length;++I){this.Sl.encode(o[I])}};gZ.prototype.finish=async function(){if(this.j3.IN){await this.UC.flush()}if(this.j3.F){await this.Sl.flush()}this.aD7();
this.EW.write(this.WV);if(this.j3.F){this.EW.write(this.qt)}this.EW.write(this.qR);this.EW.write({type:"write",data:this.aBo(this.Xx),position:this.aGh-8});
return this.EW.close()};var gf=function(){var o,P,w,x,z,S;function k(){x+=1;return w[x-1]}function f(){x+=2;
return L.rg(w,x-2)}function C(){x+=4;return L.Be(w,x-4)}function H(Y){return 512+512*Y}function b(Y){return 64*Y}function i(Y,U){var W=[];
while(Y!=-2){W.push(Y);Y=U[Y]}return W}function M(Y,U,W){var t=i(Y,W==64?S:z);if(U==null)U=t.length*W;
var _=new Uint8Array(U),n=W==64?P:o;for(var I=0;I<t.length;I++){var y=t[I],F=W==64?b(y):H(y);_.set(new Uint8Array(n.buffer,F,Math.min(W,U-I*W)),I*W)}return _}function T(Y,U,W,t){var _=w,n=x,$;
w=Y;x=U*128;var y=L.NF(w,x,32);x+=64;var F=f();y=y.slice(0,F-2>>>1);var a=k(),V=k(),D=C(),l=C(),Q=C();
for(var I=0;I<20;I++)if(k()!=0)throw I;x+=8;x+=8;var m=C(),R=C();if(C()!=0)throw"e";if(a==1||a==5){if(a==5){P=M(m,null,512)}$={};
T(Y,Q,$,t+1)}else if(a==2){if(R<=4096)$=M(m,R,64);else $=M(m,R,512)}else throw a;if(D!=-1)T(Y,D,W,t+1);
if(l!=-1)T(Y,l,W,t+1);W[y]=$;w=_;x=n}function O(Y){w=o=new Uint8Array(Y);x=0;var U=[208,207,17,224,161,177,26,225];
for(var I=0;I<8;I++)if(k()!=U[I])throw"e";for(var I=0;I<16;I++)if(k()!=0)throw"e";var W=f(),t=f(),_=f();
if(_!=-2)throw"big endian";var n=f();if(n!=9)throw"not 512";var y=f();if(y!=6)throw"not  64";for(var I=0;
I<10;I++)if(k()!=0)throw"e";var F=C(),a=C();if(C()!=0)throw"e";var V=C();if(V!=4096)throw"e";var D=C(),l=C(),Q=C(),m=C(),R=[];
for(var I=0;I<109;I++){var $=C();if($==-1)break;R.push($)}while(Q>=0){x=H(Q);for(var I=0;I<127;I++){var $=C();
if($==-1)break;R.push($)}Q=C()}if(R.length!=F)throw"e";z=[];for(var I=0;I<F;I++){x=H(R[I]);for(var p=0;
p<128;p++){var $=C();z.push($)}}S=[];while(D!=-2){x=H(D);for(var p=0;p<128;p++){var $=C();S.push($)}D=z[D]}var c=M(a,null,512),B={};
T(c,0,B,0);return B["Root Entry"]}return{parse:O}}(),N={};N.M=function(o){return window.devicePixelRatio||1};
N.QC=function(o,P){return(P.acy=="touch"?12:8)*N.M()/o.s.D};N.Qf=function(o,P,w){this.name=o;this.id=P;
this.BS=null;if(w!=null)this.lF=w};N.Qf.prototype.eq=function(o,P,w,x,z){};N.Qf.prototype.enable=function(o,P,w,x,z,S){var k=new bO(G.E.X,!0);
k.data={Q:G.l.iu,GP:"default"};P.j(k)};N.Qf.prototype.disable=function(o,P,w,x,z){};N.Qf.prototype.aC_=function(o,P,w,x,z){return!1};
N.Qf.prototype.aE=function(o,P,w,x,z){};N.Qf.prototype.Nf=function(o,P,w,x,z){};N.Qf.prototype.Dv=function(o,P,w,x,z){};
N.Qf.prototype.I2=function(o,P,w,x,z,S){};N.Qf.prototype.Rd=function(o,P,w,x,z){};N.Qf.prototype.xF=function(o,P,w,x){};
N.Qf.prototype.g4=function(o,P,w,x){};N.Qf.prototype.Lv=function(o,P){};N.Qf.prototype.kW=function(o,P){};
N.Qf.prototype.gL=function(o){return 0};N.Qf.prototype.KU=function(o,P,w,x,z){};N.Qf.prototype.RU=function(o,P){};
N.Qf.prototype.qD=function(o,P){return!1};N.Qf.prototype.Hg=function(o,P){return!1};N.Qf.prototype.vo=function(){return!1};
N.Qf.prototype.Wg=function(o,P){return!0};N.Qf.prototype.Xj=function(){return null};N.Qf.prototype.nX=function(o,P,w){};
N.Qf.prototype.a68=function(){return!1};N.Qf.prototype.kf=function(o,P,w,x){};N.Qf.prototype.track=function(o){var P=new bO(G.E.qc,!0);
P.data=o;o._$=!0;this.BS.j(P)};N.Qf.uo=function(o,P,w,x){var z=10*N.M()*(o.acy=="touch"?2:1),S=o.x+z,k=o.y-z,f=e.PX.MT(P.q,w.vz,x,w.q,!0),C=e.PX.MT(P._,w.vz,x,w._,!0);
while(f.length<C.length)f=" "+f;while(f.length>C.length)C=" "+C;N.Qf.rA(S,k,[kQ.get([12,41]).charAt(0)+": "+f,kQ.get([12,42]).charAt(0)+": "+C],w)};
N.Qf.rA=function(o,P,w,x){function z(H,Y,U,W,t,_){H.beginPath();H.moveTo(Y,U+_);H.arcTo(Y,U+t,Y+_,U+t,_);
H.arcTo(Y+W,U+t,Y+W,U+t-_,_);H.arcTo(Y+W,U,Y+W-_,U,_);H.arcTo(Y,U,Y,U+_,_)}var S=N.M(),k=Math.round,f=k(11*S),C=N.Qf.acR,b=0;
if(C==null)C=N.Qf.acR=document.createElement("canvas");var H=C.getContext("2d");H.font=f+"px monospace";
for(var I=0;I<w.length;I++)b=Math.max(b,H.measureText(w[I]).width);var i=k(b+12*S),M=k((w.length*14+5)*S),T=new fA(o,P-M,i,M);
if(C.width!=i||C.height!=M){C.width=i;C.height=M;H.font=f+"px monospace"}H.clearRect(0,0,i,M);H.fillStyle="rgba(0,0,3,0.8)";
z(H,0,0,i,M,k(4*S));H.fill();H.fillStyle="rgba(255,255,255,1)";for(var I=0;I<w.length;I++)H.fillText(w[I],k(6*S),k((I+1)*13*S));
var O=[H.getImageData(0,0,i,M).data,T.clone()];if(x)x.t.ZB=[O];return O};N.Qf.acR=null;N.Qf.aq2=function(o,P,w,x){if(P)this.BS=P;
var z=this.atY;if(o)z=[o.q,o._,o.vz];if(w)z[3]=w.Xp.Kc;this.atY=z;var S=new bO(G.E.X,!0);S.data={Q:G.l.ay,I:this.id,Eo:z};
this.BS.j(S)};N.Qf.agQ=function(o){o.prototype.g4=N.Qf.aq2;o.prototype.RU=function(P,w){if(w==eB.Ua||w==eB.qU)this.g4(null,null,P,null)}};
N.pl="0";N.mC="1";N.asw="2";N.abD="3";N.PS="5";N.axd="6";N.a1i="7";N.iL="8";N.PA="9";N.U6="10";N.sB="11";
N.ta="12";N.N0="13";N.V9="14";N.aGV="15";N._n="16";N.ma="18";N.ZJ="19";N.aeG="90";N.tY="20";N._t="21";
N.cZ="22";N.Je="23";N.XL="24";N.OO="25";N.H8="27";N.aL="31";N.ji="32";N.aov="33";N.WC="34";N.aql="35";
N.C3="36";N.JR="37";N.MK="38";N.zj="39";N.T1="40";N.N6="41";N.$h="42";N.iZ="43";N.aAx="44";N.afm="45";
N.axV="46";N.aBz="72";N.cR="47";N.uc="48";N.QV="51";N.jK="52";N.Oa="54";N.lP="55";N.ar="56";N.ut="57";
N.Jn="58";N.ws="59";N.bn="60";N.QP="61";N.jd="70";N.bm="71";N.axL="73";N.fd="100";N.vX="101";N.DF="102";
N.rW="103";N.Yq="120";N.aCu="121";N.vg="230";N.aaR="231";N.cw="232";N.jc="233";N.dX="234";N.bk="235";
N.iH="236";N.wj={};N.wj[N.Je]="tools/brush";N.wj[N.XL]="tools/pencil";N.wj[N.aL]="tools/eraser";N.Q9={PcTl:N.XL,PbTl:N.Je,moveTool:N.pl,cloneStampTool:N.H8,typeCreateOrEditTool:N.cR,artboardTool:N.jd,marqueeRectTool:N.mC,typeVerticalCreateOrEditTool:N.uc,perspectiveCropTool:N.sB,marqueeEllipTool:N.asw,eyedropperTool:N.V9,eraserTool:N.aL,pathComponentSelectTool:N.QV,lassoTool:N.PS,backgroundEraserTool:N.ji,directSelectTool:N.jK,polySelTool:N.axd,rectangleTool:N.Oa,magneticLassoTool:N.a1i,gradientTool:N.WC,quickSelectTool:N.iL,bucketTool:N.aql,ellipseTool:N.lP,magicWandTool:N.PA,blurTool:N.C3,polygonTool:N.ar,cropTool:N.U6,sharpenTool:N.JR,lineTool:N.ut,sliceTool:N.ta,smudgeTool:N.MK,customShapeTool:N.Jn,sliceSelectTool:N.N0,dodgeTool:N.zj,spotHealingBrushTool:N.ma,burnInTool:N.T1,saturationTool:N.N6,penTool:N.$h,redEyeTool:N.cZ,freeformPenTool:N.iZ,rulerTool:N._n,paintbrushTool:N.Je,handTool:N.ws,pencilTool:N.XL,zoomTool:N.QP,objectSelectTool:N.abD,healingBrushTool:N.ZJ,patchTool:N.tY,contentAwareMoveTool:N._t,colorReplacementBrushTool:N.OO,curvaturePenTool:N.aAx,rotareViewTool:N.bn};
N.tB=function(o,P,w){N.Qf.call(this,o,P,w);this.Yx={brush:o?bh.ja():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.r7=null;this.E9=null;this.yh=null;this.zZ=null;this.xU=null;this.ls=null;this.T0=null;this.vh=null;
this.UQ=null;this.z1=null;this.vH=null;this.QM=null;this.jO=null;this.OG=1;this.Fa=!1;this.pw=null;this.caller=null};
N.tB.prototype=new N.Qf;N.tB.prototype.Hg=function(o,P){return o.ZO&&P.d(i$.W1)};N.tB.prototype.Nf=function(o,P,w,x,z){if(x.d(i$.JV)){this.ls=new eD(z.x,z.y);
var S=this.Yx.brush.Brsh.v,k=S.Dmtr.v.val,f=S.Hrdn!=null?S.Hrdn.v.val:-1;this.T0=[k,f,!0,JSON.parse(JSON.stringify(this.Yx.brush)),z];
this.O4(w)}};N.tB.prototype.HY=function(o,P,w){var x=this.T0,z=o.s.D,S=w.x-x[4].x,k=w.y-x[4].y,f=x[0],C=x[1],H=Math.abs(S)>Math.abs(k);
if(H&&x[2]){var b=Math.round(2*S/z);f+=b;w.x-=S-.5*b*z}if(!H&&!x[2]&&C!=-1){var b=Math.round(.25*k);
C+=b;w.y-=k-4*b}f=Math.max(1,f);C=x[1]==-1?-1:Math.max(0,Math.min(100,C));var i=x[3];i.Brsh.v.Dmtr.v.val=f;
if(C!=-1)i.Brsh.v.Hrdn.v.val=C;this.T0=[f,C,H,i,w];var M=j2.gR(i,P.E8.MH,z),T=M[1];T.x=Math.round(this.ls.x-T.q/2);
T.y=Math.round(this.ls.y-T._/2);o.t.he=[M];var O=o.s.hI(this.ls.x,this.ls.y);o.t.Vb={yL:[],oe:[O.x-f/2,O.y,O.x+f/2,O.y]};
if(C!=-1)o.t.Vb.oe.push(O.x+50/z,O.y-C/2,O.x+50/z,O.y+C/2);o.yW=!0};N.tB.prototype.Rd=function(o,P,w,x,z){if(this.id==N.tY||this.id==N._t)return;
if(this.ls){this.ls=null;this.co(JSON.parse(JSON.stringify(this.T0[3])));o.t.he=[];o.t.Vb=null;o.yW=!0;
return}var S=new bO(G.E.X,!0);S.data={Q:G.l.ay,I:this.id,a21:"showBrushOpts",_C:new eD(z.P8+4,z.tm)};
P.j(S)};N.tB.prototype.co=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.CA,JL:eB.hL,Bb:o};this.caller.j(P)};
N.tB.pZ=function(o,P,w,x,z,S){if(o==null)o="FrgC";if(P==null)P="norm";if(w==null)w=1;if(z==null)z=!1;
var k={classID:"Fl",Usng:{t:"enum",v:{FlCn:o}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(w*100)}},PrsT:{t:"bool",v:z},Md:{t:"enum",v:{BlnM:jK.W_(P)}}};
if(o=="Clr")k.Clr={t:"Objc",v:x};if(o=="contentAware")k.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(o=="Ptrn")k.Ptrn={t:"Objc",v:S};return{wQ:"fill",WP:k}};N.tB.prototype.eq=function(o,P,w,x,z){this.BS=P;
var S=w.jM.length;if(S==0&&!w.p9())return;var k=S!=0?-1-w.jM[0]:w.T[0],f=w.R[k];if(o.Q=="fromAction"){var C=o.tU,H=C.WP;
if(H&&H.null&&H.null.v[0]&&H.null.v[0].v.classID=="Path"){var b=w.m0(),i=b[0],M=b[1],T=i[M.length==0?0:M[0]].add.vmsk;
if(C.wQ=="fill"){var O=T.Jq(),Y=z.AB,U=this.Yx,W=Y>>16&255,t=Y>>8&255,_=Y>>0&255;this.oD(w,f,O,W,t,_,Math.round(U.opacity*255),U.bmode,"Fill Path")}else{var n=H&&H.Prs&&H.Prs.v,y=JSON.stringify(this.Yx.brush);
if(n)bh.art(this.Yx.brush,[!1,!0]);for(var F=0;F<1e3;F++){var a=e.n.iE(T.g,F,!0);if(a==-1){this.I2(w,P,z,x,null);
break}var V=T.g[a],D=T.g.slice(a,a+1+V.length),l=e.a.IY(D,2).i,Q=l.slice(0,8);for(var m=8;m<l.length;
m+=6)Q.push(l[m-2],l[m-1],l[m],l[m+1],l[m+2],l[m+3],l[m+4],l[m+5]);var R={};R.Points=Q;R.TextOnPathTRange=T.Qo.slice(0);
var R=c5.n5(R,2,V.type==3),$=R[0],p=w.s.vd($[0],$[1]);if(n)p.i0=0;if(F==0)this.aE(w,P,z,x,p);else this.E9.moveTo($[0],$[1],n?0:null);
var c=$.length,B=V.type==0?c+2:c;for(var I=2;I<B;I+=2){p=w.s.vd($[I%c],$[(I+1)%c]);p.ZO=!0;if(n){var Z=I/B;
p.i0=2*Math.min(Z,1-Z)}this.Dv(w,P,z,x,p,this.Yx.flow)}this.E9.finish();this.cV(w)}if(n)this.Yx.brush=JSON.parse(y)}}else if(C.wQ=="fill"){var v=H.PrsT?H.PrsT.v:!1,E=f?f.add.lspf:0;
if(v&&f){f.add.lspf=E==null?1:E|1}var g=(H.Opct?H.Opct.v.val:100)/100,u=H.Md?jK.RD(H.Md.v.BlnM):"norm";
g=Math.round(255*g);var j=H.Usng.v.FlCn;if(j=="contentAware"||j=="aiHeal"){if(w.e==null){alert("Select an area to heal first.");
return}if(!w.p9())return;var A=w.e;if(j=="aiHeal"&&!iX.fO(w))return;this.jP(w);this.c4(w,0);if(j=="contentAware"){var K=e.U(A.rect.c()*4);
e.lI(A.channel,K,3);this.sC(w,"sheal",K,A.rect,A.rect);this.N(w,A.rect);this.finish(w,A.rect)}else{this.Ow=w;
var s=z.tK.L8,r=function(){iX.a9v(H.prmt?H.prmt.v:"empty background",s,w,this.al6.bind(this),H.JL);var hn=new bO(G.E.X,!0);
hn.data={Q:G.l._K,Sp:"Processing ..."};P.j(hn);this.caller=P}.bind(this);if(s||iX.fK(3))r();else iX.XM(r)}}else if(j=="Ptrn"){var h=z.a2,jC=w.e?w.e.rect.clone():new fA(0,0,w.q,w._),d=e.U(jC.c()*4);
iO.UX(H,d,jC,h,new eD(0,0));for(var I=0;I<d.length;I+=4)d[I+3]=g;this.ZA(w,f,w.e,d,u,[6,48,0,2])}else{var Y;
if(j=="FrgC")Y=z.AB;else if(j=="BckC")Y=z.eI;else if(j=="Blck")Y=0;else if(j=="Wht")Y=16777215;else if(j=="Gry")Y=8421504;
else if(j=="Clr"){var q=e.G.dQ(H.Clr.v);Y=q.$<<16|q.H<<8|q.b}var W=Y>>16&255,t=Y>>8&255,_=Y>>0&255;this.oD(w,f,w.e,W,t,_,g,u,[2,3])}if(v&&f){f.add.lspf=E==null?0:E}}else if(C.wQ=="delete"){var hc=k<0?1:f.Zx,A=w.e,ks;
if(A==null)return;var dk=k<0?w.Cg[-k-1]:hc<=0?null:hc==1?f.Jq():f.fP(w).u,jC=hc<=0?f.rect:dk.rect,c6=hc<=0?A.rect.SN(jC):A.rect.clone();
if(c6.Mw())return;var e3=c6.c();if(hc<=0){ks=e.U(e3*4);e.sR(f.buffer,f.rect,ks,c6)}else{ks=e.U(e3);dk.extend(c6);
e.d0(dk.channel,dk.rect,ks,c6)}if(0<=k&&f.x5(w,A)){if(hc<=0){e.ZT(ks,0);e.sR(f.YK.aR,f.YK.by,ks,c6)}else{ks.fill(255);
e.d0(f.YK.aR,f.YK.by,ks,c6)}}else{if(hc<=0){var cH=e.U(ks.length>>2);e.JX(ks,cH,3);e.C.I7(e.mM(A.rect.c()),A.rect,cH,c6,A.channel,c6,1);
e.lI(cH,ks,3)}else{var bI=e.U(A.rect.c()),W=z.eI>>>16&255,t=z.eI>>8&255,_=z.eI>>0&255;bI.fill(Math.round(e.Rb(W,t,_)));
e.C.I7(bI,A.rect,ks,c6,A.channel,c6,1)}}this.Xm(w,!0,[2,2],k,hc,c6,ks)}}if(o.Q=="stroke"){var aR=o.a2x,A=w.e;
if(A==null){A={rect:f.rect.clone(),channel:e.U(f.rect.c())};e.JX(f.buffer,A.channel,3)}var ak=iO.Fz(aR),cN=N.z$.ahf(A,Math.ceil(ak[0]),Math.ceil(ak[1])),Y=e.G.dQ(aR.Clr.v),W=Math.round(Y.$),t=Math.round(Y.H),_=Math.round(Y.b);
this.oD(w,f,cN,W,t,_,Math.round(255*aR.Opct.v.val/100),jK.RD(aR.Md.v.BlnM),[14,9])}if(o.Q=="fillBMP"){this.ZA(w,f,w.e,o.Ym,o.Hl,o.Ka)}if(o.Q=="draw"){var gC=o.a7,bD=gC.rect;
this.jP(w);var cu=w.R[w.T[0]];if(o.aeb&&cu&&cu.Zx<=0&&w.jM.length==0){bD=N.p0.a45(gC,w);cu.buffer=gC.buffer.slice(0);
cu.rect=bD.clone()}else{var du=this.Yx.bmode,bq=this.Yx.opacity;this.Yx.bmode="norm";this.Yx.opacity=1;
this.sC(w,"draw",gC.buffer,bD,bD.SN(new fA(0,0,w.q,w._)));this.Yx.bmode=du;this.Yx.opacity=bq}this.N(w,bD);
w.yS=!0;this.finish(w,bD,o.Ka,o.aeb)}};N.tB.prototype.al6=function(o){var P=o.target.response,w=new Uint8Array(P);
if(this.a08){this.a08=!1;P=eu.bs(L.bR(w))}else if(w[0]==123){var x=JSON.parse(L.bR(w)),I=0;console.log(x);
if(x.status=="error"){alert(x.message.prompt[0]);return}var z=x.image_links;if(z==null)z=x.output;var S=z[0],k=new XMLHttpRequest;
k.responseType="arraybuffer";while(!0){var f=new XMLHttpRequest;f.open("HEAD",S,!1);f.send();if(f.status!=404)break;
console.log("not ready");I++}k.open("GET",S,!0);k.onload=this.al6.bind(this);this.a08=!0;k.send();return}var C=new Uint8Array(eu.iy.mJ(P)[0].data),H=iX.ru(this.Ow),b=this.Ow;
this.Ow=null;var i=b.R[b.T[0]],M=b.e,T=e.U(H.c()*4);e.sR(i.buffer,i.rect,T,H);var O=e.U(H.c());e.d0(M.channel,M.rect,O,H);
e.round(O);var Y=new Uint32Array(T.buffer),U=new Uint32Array(C.buffer);for(var I=0;I<Y.length;I++)if(O[I]==0)U[I]=Y[I];
e.Pa.Tx(C,O,H,null,500);var W=new bO(G.E.X,!0);W.data={Q:G.l.uz,Sp:"Processing ..."};this.caller.j(W);
var t=this.Yx,_=t.opacity,n=t.bmode;t.opacity=1;t.bmode="norm";this.sC(b,"draw",C,H,H);t.opacity=_;t.bmode=n;
this.N(b,H);this.finish(b,H);iX.Oh("remove")};N.tB.prototype.oD=function(o,P,w,x,z,S,k,f,C){var H=w==null?new fA(0,0,o.q,o._):w.rect,b=k<<24|S<<16|z<<8|x<<0,i=e.U(H.c()*4);
e.ZT(i,b);this.ZA(o,P,w,i,f,C)};N.tB.prototype.ZA=function(o,P,w,x,z,S){var k=o.jM.length!=0?-1-o.jM[0]:o.T[0],f=k<0?1:P.Zx,C=k<0?o.Cg[-1-k]:f<=0?null:f==1?P.Jq():P.fP(o).u,H=f<=0?P.rect:C.rect,b=w==null?new fA(0,0,o.q,o._):w.rect,i=w==null?e.am(o.q*o._):w.channel;
if(w!=null)e.aS(i,x);var M=b.c(),T=e.U(M*4);if(f<=0)e.sR(P.buffer,P.rect,T,b);else{C.extend(b);T.fill(255);
e.K0(C.CC(b),T)}if(0<=k&&w&&P.x5(o,w)&&f<=0){var O=P.YK.k0,Y=P.YK.k0.slice(0);if(f<=0)e.L9(x,Y);else e.L9(fullc,Y);
var U=new d5([2,3],this);U.data={Q:"drawtemp",r:o.T[0],Gc:f,ae5:O,aAF:Y};o.Oi(U);this.Lv(U.data,o)}else{if(f<=0){var W;
if(P.Fp(0)){W=e.U(b.c());e.JX(T,W,3)}e.C.Iv(z,x,b,T,b,b,1);if(P.Fp(0))e.lI(W,T,3)}else{e.C.Iv(z,x,b,T,b,b,1);
var t=e.U(M);e.KN(T,t);T=t}this.Xm(o,!0,S,k,f,b,T)}};N.tB.prototype.qD=function(o){if(i$.j5.indexOf(o)!=-1)return!0;
return!1};N.tB.prototype.xF=function(o,P,w,x){var z=this.Yx.brush,S=x.d(i$.JV),k=S!=this.Fa,f=N.tB.fw(z,x);
if(f!=null)this.co(f);if(!x.d(i$.Jm)&&x.ER()!=-1&&this.id!=N.OO){var C=i$.a8V(Math.round(this.Yx.opacity*100),x.ER())/100;
this.nL({opacity:C},P)}if(this.id==N.iL&&k&&o!=null){var H=this.Yx.qsmode;if(H==2)H=o.e==null?0:1;else H=2;
this.nL({qsmode:H},P)}this.Fa=S;if(k){if(o)this.OG=o.s.D;this.O4(w,x)}};N.tB.fw=function(o,P){var w=o.Brsh.v.Dmtr.v.val,x=o.Brsh.v.Hrdn!=null?o.Brsh.v.Hrdn.v.val:-1,z=o.Brsh.v.Angl.v.val,S=w,k=x,f=z,C=P.d(i$.W1);
if(P.d(i$.ac)){if(C)x=25*Math.floor((x-1)/25);else{if(w<=10)w--;else if(w<=50)w=5*Math.floor((w-1)/5);
else if(w<=100)w=10*Math.floor((w-1)/10);else if(w<=200)w=25*Math.floor((w-1)/25);else if(w<=400)w=50*Math.floor((w-1)/50);
else w=100*Math.floor((w-1)/100)}}if(P.d(i$.p6)){if(C)x=25*Math.ceil((x+1)/25);else{if(w<10)w++;else if(w<50)w=5*Math.ceil((w+1)/5);
else if(w<100)w=10*Math.ceil((w+1)/10);else if(w<200)w=25*Math.ceil((w+1)/25);else if(w<400)w=50*Math.ceil((w+1)/50);
else w=100*Math.ceil((w+1)/100)}}var H=P.d(i$.Ie),b=P.d(i$.dV);if(C&&(H||b)){z=(z+360+15*(H?1:-1))%360}w=Math.max(1,w);
x=Math.max(0,Math.min(100,x));if(k==-1)x=-1;if(w!=S||x!=k||z!=f){var i=JSON.parse(JSON.stringify(o));
i.Brsh.v.Dmtr.v.val=w;i.Brsh.v.Angl.v.val=z;if(k!=-1)i.Brsh.v.Hrdn.v.val=x;return i}return null};N.tB.prototype.O4=function(o,P,w,x){if(o.E8.list.length==0)return;
var z=this.id,S;if((z==N.H8||z==N.ZJ||z==N.Je||z==N.XL)&&(P!=null&&P.d(i$.JV)||this.Yx.alt[0]))S="crosshair";
else{var k=this.OG,f=this.Yx.brush;if((z==N.H8||z==N.ZJ)&&w&&this.QM&&this.QM.length==this.vH.c()*4){var C=w.s.hI(x.x,x.y),H=this.aeN(C),b=this.QM,i=this.vH,M=new fA(i.x+H.x,i.y+H.y,i.q,i._),T=j2.gR(f,o.E8.MH,k),O=T[0],Y=T[1],U=Math.ceil(Y.q/k),W=new fA(Math.round(C.x-U/2),Math.round(C.y-U/2),U,U),t=e.U(W.c()*4),_,n;
e.sR(b,M,t,W);if(k==1){_=t;n=W}else{var y=new ar(k,0,0,k,0,0),F=N.DH.x$([t,W],y,!0);n=Y.clone();n.x=F.rect.x;
n.y=F.rect.y;if(n.w6(F.rect))_=F.buffer;else{_=e.U(n.c()*4);e.sR(F.buffer,F.rect,_,n)}}var a=this.Yx.opacity/255;
for(var I=0;I<_.length;I+=4)_[I+3]=a*(O[I+3]*_[I+3]);j2.ab_(new Uint32Array(_.buffer),n,4278190080,4294967295);
S={yp:_,sn:n,yK:new eD(n.q/2,n._/2)}}else S=j2.hN(f,o.E8.MH,k,z==N.OO||z==N.ji)}var V=new bO(G.E.X,!0);
V.data={Q:G.l.iu,GP:S};if(this.caller)this.caller.j(V)};N.tB.prototype.enable=function(o,P,w,x){this.r7=w;
this.caller=P;this.co(JSON.parse(JSON.stringify(this.Yx.brush)));if(o&&o.s.D!=0)this.OG=o.s.D;this.O4(w,x)};
N.tB.prototype.RU=function(o,P){if(P==eB.hL){this.Yx.brush=o.E8.Ac;this.O4(o)}};N.tB.prototype.KU=function(o,P,w,x,z){for(var S in o)this.Yx[S]=o[S];
if(this.Yx.alt[0])this.O4(z,x,w)};N.tB.prototype.akD=function(o){var P=o.jM.length!=0?-1-o.jM[0]:o.T[0],w=o.R[P],x=P<0?1:w.Zx,z=P<0?o.Cg[-P-1]:x<=0?null:x==1?w.Jq():w.fP(o).u,S=z?z.channel:w.buffer,k=(z?z.rect:w.rect).clone();
return[w,x,z,S,k]};N.tB.prototype.jP=function(o,P){this.jO=o.e==null?null:{rect:o.e.rect.clone(),channel:o.e.channel.slice(0)};
var w=this.z1,x=this.akD(o),z=x[0],S=x[1],k=x[2];this.z1=x[3];this.UQ=x[4];var f=new fA(0,0,o.q,o._),C=f.It(this.UQ);
if((this.g2()&&S<=0||C.w6(this.UQ))&&P!=!0){if(w&&w.length==this.z1.length){w.set(this.z1);this.z1=w}else this.z1=this.z1.slice(0)}else{if(k)k.extend(C);
else z.extend(C)}};N.tB.prototype.c4=function(o,P){var w=this.akD(o),x=w[1],z=w[3],S=w[4],k=[z,S],f=P!=null?P:this.Yx.sfrom;
if(x<=0&&f!=0){k[1]=new fA(0,0,o.q,o._);k[0]=o.Ey(f==1&&o.T[0]!=o.R.length-1?o.T[0]:null).slice(0)}this.vH=k[1].clone();
this.QM=k[0].slice(0)};N.tB.prototype.Sj=function(o,P,w,x,z,S){if(z.ZO&&x.d(i$.JV)&&this.ls==null){if(S)this.OV=w.AB;
var k=new bO(G.E.z,!0);k.I=N.V9;k.data={Q:"pickhere",ah8:z};P.j(k);var f=N.S9.a6W(o,!1,!0,z,null,w.AB,this.OV,1),k=new bO(G.E.X,!0);
k.data={Q:G.l.iu,GP:f};P.j(k);return!0}return!1};N.tB.prototype.XA=function(o,P,w,x,z,S){if(this.id!=N.iL&&!o.p9(this.caller)){this.E9=null;
return}if(this.id!=N.iL&&this.E9)return;this.jP(o);var k=new fA(0,0,o.q,o._),f=null;if(S!=null){var C=o.jM.length!=0?-1-o.jM[0]:o.T[0],H=o.R[C],b=C<0?o.Cg[-C-1]:H.Zx<=0?null:H.Zx==1?H.Jq():H.fP(o).u;
f=e.U(k.c()*4);if(b)N.tB.V7(this.z1,this.UQ,b.color,f,k);else e.sR(this.z1,this.UQ,f,k)}var i=this.Yx;
if(this.E9&&this.id==N.iL&&i.qsmode!=0&&o.e!=null){}else{var M=P.AB,T=P.eI;if(this.pw=="erase"){var O=M;
M=T;T=O}var Y=this.id==N.iL?this.UQ:k;this.E9=new j2(i.brush,P.E8.MH,P.E8.Nc,{CB:z,KX:S,a7e:i.smth*50/o.s.D,Qn:this.id==N.XL||i.emode==1,kz:o.kz},M,T,Y,f)}if(this.id==N.iL){this.E9.amw(i.brush,i.qsmode==2?0:16777215)}var U=o.s.hI(x.x,x.y);
if(w.d(i$.W1)&&this.yh){var W=this.yh;this.E9.moveTo(W.x,W.y,x.i0);this.E9.lineTo(.001*W.x+.999*U.x,.001*W.y+.999*U.y,x.i0);
this.E9.lineTo(U.x,U.y,x.i0)}else this.E9.moveTo(U.x,U.y,x.i0);this.yh=U;this.zZ=U.clone();this.xU=new gv(U,o.s.$N)};
N.tB.prototype.o$=function(o,P,w){if(o&&o.s.D!=0&&o.s.D!=this.OG){this.OG=o.s.D;this.O4(w)}};N.tB.prototype.N7=function(o,P,w,x){if(this.E9==null)return;
var z=o.R[o.T[0]],S=o.s.hI(x.x,x.y),k=this.xU.i1(S,w);if(k.w6(this.yh))return 1;this.E9.lineTo(k.x,k.y,x.i0);
this.yh=k;if(this.id==N.H8||this.id==N.ZJ){var f=this.hg(),C=11;f=o.s.vd(S.x-f.x,S.y-f.y);var H=C>>>1,b=new fA(Math.round(f.x)-H,Math.round(f.y)-H,C,C),i=e.U(b.c()*4);
e.ZT(16777215);for(var I=0;I<C;I++)i[(I*C+H)*4+3]=i[(C*H+I)*4+3]=255;o.t.ZB=[[i,b]];o.yW=!0}};N.tB.prototype.g4=function(o,P,w,x){if(w.N5!=this.id)return;
if(this.id!=N.iL||o==null)return;if(o.e==null||o.T[0]!=this.aB5){this.aB5=o.T[0];this.nL({qsmode:0},P)}};
N.tB.prototype.N=function(o,P){if(o.jM.length!=0){o.yW=!0;return}var w=o.R[o.T[0]];if(P==null){P=this.E9.xv();
if(this.g2()&&w.Zx<=0)P=P.SN(this.UQ)}var x=w.Zx;if(x==1||x==3){var z=Math.round((x==1?w.Jq():w.fP(o).u).yy*2.4);
P=P.clone();P.$b(z,z)}if(P.Mw())return;if(x<=0){w.N(P)}if(x==1){w.Jq().RC=!0;w.qX(o,P)}if(x==3){w.N(P)}o.N(o.root.LE(P,o,o.T[0],!0))};
N.tB.prototype.I2=function(o,P,w,x,z){if(this.E9==null)return;this.E9.finish();if(this.id!=N.ma&&this.id!=N.ZJ&&this.id!=N.iL)this.cV(o);
if(this.id==N.H8||this.id==N.ZJ){o.t.ZB=[];o.yW=!0}if(this.id==N.iL){var S=o.e;o.e=this.jO;var k=new bO(G.E.z,!0);
k.data={Q:"setsel",Ka:this.name,e:S};k.I=N.mC;P.j(k);if(this.Yx.qsmode==0)this.nL({qsmode:1},P)}else{this.finish(o,this.E9.wA());
this.E9=null;this.vh=null}this.dir=0};N.tB.prototype.nL=function(o,P){for(var w in o)this.Yx[w]=o[w];
var x=new bO(G.E.X,!0);x.data={Q:G.l.ay,I:this.id,O6:o};P.j(x)};N.tB.prototype.g2=function(){var o=this.id;
return o==N.iL||o==N.aL||o==N.zj||o==N.T1||o==N.N6||o==N.cZ};N.tB.prototype.finish=function(o,P,w,x,z){var S=o.jM.length!=0?-1-o.jM[0]:o.T[0],k=o.R[S],f=S<0?1:k.Zx,C=S<0?o.Cg[-S-1]:f<=0?null:f==1?k.Jq():k.fP(o).u,H=C?C.rect:k.rect,M;
if(this.g2()||!H.w6(this.UQ)){if(C==null){if(this.g2())k.wW();else{var b=P.It(this.UQ),i=e.U(b.c()*4);
e.sR(k.buffer,k.rect,i,b);k.buffer=i;k.rect=b}}else C.wW();this.N(o,H)}if(f<=0){M=e.U(P.c()*4);e.sR(this.z1,this.UQ,M,P)}else{M=e.U(P.c());
M.fill(C.color);e.d0(this.z1,this.UQ,M,P)}this.Xm(o,!1,w?w:this.name,S,f,P,M,x,z)};N.tB.prototype.Xm=function(o,P,w,x,z,S,k,f,C){var H=k;
if(z>0){H=e.U(S.c()*4);N.tB.V7(k,S,0,H,S)}var b=new d5(w,this);b.data=[{r:x,Gc:z,sn:S,Du:H}];if(f)b.data.e0=[o.e,null];
if(C)b.data.e0=[this.jO,o.e];o.Oi(b);if(P)this.Lv(b.data,o);else if(f)o.e=null;N.pX.abh(o,b.data)};N.tB.prototype.kW=function(o,P){this.aFd(o,P,!1)};
N.tB.prototype.Lv=function(o,P){this.aFd(o,P,!0)};N.tB.prototype.gL=function(o){return N.pX.gL(o)};N.tB.prototype.aFd=function(o,P,w){if(o.Q=="drawtemp"){var x=w?o.aAF:o.ae5,z=P.R[o.r];
z.YK.k0=x;z.yD(P,0,0,P.e);z.N();P.yS=!0}else{N.pX.gX(P,o);if(o.e0){P.e=o.e0[w?1:0];P.Gr=!0}}P.N()};N.tB.prototype.cV=function(o){this.sC(o,this.pw,this.E9.$C(),this.E9.q_(),this.E9.xv());
this.N(o)};N.tB.prototype.sC=function(o,P,w,x,z){var S=this.Yx,k=o.R[o.T[0]],f=o.jM.length!=0?o.Cg[o.jM[0]]:k.Zx<=0?null:k.Zx==1?k.Jq():k.fP(o).u,C=e.U(z.c()*4),H,b=k.Fp(0);
if(f==null){if(this.id==N._t&&P=="heal")e.sR(k.buffer,k.rect,C,z);else e.sR(this.z1,this.UQ,C,z);if(b){H=e.U(z.c());
e.JX(C,H,3)}}else{N.tB.V7(this.z1,this.UQ,f.color,C,z)}if(o.e&&P!="qselect"){var i=z.SN(o.e.rect),M=e.U(i.c()*4);
if(P=="copy"){var T=e.U(i.c());e.d0(o.e.channel,o.e.rect,T,i);e.sR(C,z,M,i);e.C.RH(w,x,M,i,T,i,0,i,1,!1)}else{e.sR(w,x,M,i);
e.Cn(o.e.channel,o.e.rect,M,i)}w=M;x=i}function O(W,cN){var bD=Math.max(cN.x,Math.min(cN.x+cN.q-1,W.x)),cu=Math.max(cN.y,Math.min(cN.y+cN._-1,W.y));
return new eD(bD,cu)}if(P=="idraw"||P=="ierase"){if(this.vh==null)this.vh=e.U(this.UQ.c());var Y=S.samp,U=this.r7.eI,W=O(this.yh,z),t=Y==0?W:this.zZ,_=t.x,n=t.y,y=N.Xz.tu(this.z1,this.UQ,[t,new eD(_-2,n),new eD(_+2,n),new eD(_,n-2),new eD(_,n+2)]);
if(Y==2)y=[[U>>>16&255,U>>>8&255,U>>>0&255,255]];var F=N.Xz.E4(C,z,W,y,S.wconf),a=e.U(z.c());e.d0(this.vh,this.UQ,a,z);
e.mH.It(F,a,a);e.d0(a,z,this.vh,this.UQ);e.Cn(a,z,w,x);P=P.slice(1)}if(P=="erase"&&(N.pX.arJ(o)!=16777215||f))P="draw";
if(P=="draw")e.C.Iv(S.bmode,w,x,C,z,z,S.opacity);else if(P=="erase"){var V=S.opacity;if(this.id==N.ji)V=1;
var D=e.U(z.c()*4);e.sR(w,x,D,z);if(f==null){var l=e.U(z.c());e.JX(D,l,3);e.l5(l,V);e.Sd(l);e.Cn(l,z,C,z)}else{e.ZT(D,0,4278190080);
e.C.Iv("norm",D,z,C,z,z,V)}}else if(P=="clone"||P=="heal"){var Q=this.hg(),m=this.vH.clone();m.offset(Q.x,Q.y);
var R=z.clone();R.$b(1,1);var $=e.U(R.c()*4),p=e.U(R.c());e.sR(w,x,$,R);e.JX($,p,3);e.ZT($,0);if(f==null){e.sR(this.QM,m,$,R);
var c=e.U(R.c());e.JX($,c,3);e.mV(c,p)}else N.tB.V7(this.QM,m,f.color,$,R);if(P=="clone"){e.lI(p,$,3);
e.C.Iv(S.bmode,$,R,C,z,z,S.opacity)}if(P=="heal"){var B=p.slice(0);e.round(B,20);var Z=e.U(R.c()*4);
if(f==null)e.sR(this.z1,this.UQ,Z,R);else N.tB.V7(this.z1,this.UQ,f.color,Z,R);e.C.RH($,R,Z,R,B,R,0,R,1,!1);
e.Pa.Tx(Z,B,R);e.C.RH(Z,R,C,z,p,R,0,z,1,!1)}}else if(P=="dodge"||P=="burn"){var $=e.U(z.c()*4),g=1,u=0,j=0,A=0;
e.sR(w,x,$,z);var v=z.c()*4,E=N.tB.u$;if(this.Fa){if(P=="dodge")P="burn";else P="dodge"}var K=S.rng;
if(P=="dodge"){u=[1-g/2,1,1+g][K];j=[1,1/(1+g),1][K];A=[g/2,0,0][K]}if(P=="burn"){u=[1/(1-g/2),1,1-g/2][K];
j=[1,1+g,1][K];A=[-(g/2)/(1-g/2),0,0][K]}for(var I=0;I<v;I+=4){var s=$[I+3];C[I+0]=E(C[I+0],u,j,A,s);
C[I+1]=E(C[I+1],u,j,A,s);C[I+2]=E(C[I+2],u,j,A,s)}}else if(P=="sponge"||P=="redeye"){var $=e.U(z.c()*4),p=e.U(z.c());
e.sR(w,x,$,z);e.JX($,p,3);e.L9(C,$);var r=S.smode;if(this.Fa)r=1-r;var h=cM.bS("hue2");if(P=="sponge")gw.I$(h,0,[0,[-50,46][r],[6,5][r]]);
else gw.I$(h,1,{QE:[265,305,25,55],pA:[0,-90,-70]});var jC=ft.C1("hue2",h);ft.wM(jC,$,$,z);e.C.RH($,z,C,z,p,z,0,z,1,!1)}else if(P=="copy")e.sR(w,x,C,z);
else if(P=="sheal"){var $=e.U(z.c()*4),p=e.U(z.c());e.sR(w,x,$,z);e.JX($,p,3);$.fill(0);var d=this.QM,q=this.vH;
if(f){d=e.U(q.c()*4);N.tB.V7(this.QM,q,0,d,q)}else if(k.Jq()&&k.Jq().isEnabled){var hc=k.Jq(),dk=e.U(hc.rect.c()*4);
e.sR(d,q,dk,hc.rect);e.lI(hc.channel,dk,3);d=dk;q=hc.rect}var c6=e.zk.Tx(d,q,p,$,z);if(c6!=0)e.sR(d,q,$,z);
if(S.sfrom==0)e.sR($,z,C,z);else{e.sR(this.z1,this.UQ,C,z);e.lI(p,$,3);e.C.Iv("norm",$,z,C,z,z,1)}}else if(P=="qselect"){var e3=this.UQ,ks=e3.q,cH=e3._,bI=ks*cH,aR=this.E9.$C(),y=this.z1,ak=N.z$.u9,p=ak.jm;
p.fill(128);for(var I=0;I<bI;I++){var cN=aR[I<<2],gC=aR[(I<<2)+3];if(gC==255&&(cN==0||cN==255))p[I]=cN}p[0]=p[ks-1]=0;
p[(cH>>>1)*ks]=p[(cH>>>1)*ks+ks-1]=0;N.dx.Kb(ak,!0,o);o.e={rect:e3,channel:ak.e.slice(0)};o.Gr=!0}if(f==null){if(b)e.lI(H,C,3);
e.sR(C,z,k.buffer,k.rect)}else N.tB.fR(C,z,f)};N.tB.hg=function(){return null};N.tB.u$=function(o,P,w,x,z){var S=o*(1/255),k=x+P*Math.pow(S,w),f=Math.round(k*z+S*(255-z));
return Math.max(0,Math.min(255,f))};N.tB.V7=function(o,P,w,x,z){var S=e.U(z.c());S.fill(w);e.d0(o,P,S,z);
x.fill(255);e.K0(S,x)};N.tB.fR=function(o,P,w){var x=e.U(P.c());e.KN(o,x);e.d0(x,P,w.channel,w.rect)};
N.z$=function(o,P,w){N.Qf.call(this,o,P,w);this.Yx={binop:0,feat:0,cstr:{S$:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.FG=new eD(-1,-1);this.Aq=new eD(-1,-1);this.nM="default";this.BS=null;this.g8=!1;this._R=new bX;
this.fs=!1;this.Qv=null;this.Bq=null;this.LS=!1;this.zg=!1};N.z$.prototype=new N.Qf;N.z$.prototype.Xj=function(){var o=this.Yx,P=[o.binop,o.feat],w=o.wconf,x=w.join(",")=="16,true,true";
if(P[0]==0&&P[1]==0&&x)return null;if(!x)P.push(w);return P};N.z$.prototype.nX=function(o,P,w){var x=this.Yx;
if(o[0])x.binop=o[0];if(o[1])x.feat=o[1];if(o[2])x.wconf=o[2];this.rP(w)};N.z$.prototype.rP=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.ay,I:this.id,Yx:this.Yx};o.j(P)};N.Qf.agQ(N.z$);N.z$.u9={key:""};N.z$.rv=function(o,P,w){var x={wQ:o,WP:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(P)x.WP.T=P;if(w!=null)x.WP.AntA={t:"bool",v:w};return x};N.z$.vS=function(o,P,w){return N.z$.rv("set",{t:"Objc",v:{classID:o,Top:{t:"UntF",v:{type:"#Pxl",val:P.y}},Left:{t:"UntF",v:{type:"#Pxl",val:P.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:P.y+P._}},Rght:{t:"UntF",v:{type:"#Pxl",val:P.x+P.q}}}},w)};
N.z$.jt=function(o,P,w){var x=[],z=[],k="set";for(var I=0;I<o.length;I+=2){x.push(o[I]);z.push(o[I+1])}var S={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:x},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z}]}}}};
if(P)k=["set","addTo","subtractFrom","interfaceWhite"][P];return N.z$.rv(k,S,w)};N.z$.aF$=function(o,P,w){var x={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o.y}}}},z=N.z$.rv("set",x);
z.WP.Tlrn={t:"long",v:P[0]};z.WP.AntA={t:"bool",v:P[1]};z.WP.Cntg={t:"bool",v:P[2]};if(w==!0)z.WP.Mrgd={t:"bool",v:w};
return z};N.z$.Xw=function(o){return N.z$.rv("set",{t:"enum",v:{Ordn:o?"Al":"None"}})};N.z$.wg=function(o,P,w){var x={classID:"null"};
if(o!="border")x.selectionModifyEffectAtCanvasBounds={t:"bool",v:w};var z={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[o[0]];
x[z]={t:"UntF",v:{type:"#Pxl",val:P}};return{wQ:o,WP:x}};N.z$.vf=function(o,P,w){var x={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:P}}]};
if(w)z.v.push({t:"name",v:{classID:"Lyr",val:w}});var S=[{classID:"null",null:x,T:z},{classID:"null",null:z,T:x},{classID:"null",null:z,From:x},{classID:"null",null:z,With:x}],k=["set","add","subtract","interfaceIconFrameDimmed"];
return{wQ:k[o],WP:S[o]}};N.z$.a0i=function(o,P){var w=new bO(G.E.X,!0);w.data={Q:G.l.CA,JL:eB.ZM};if(!P.Ph)o.j(w);
w.data={Q:G.l.CA,JL:eB.fr};if(!P.Xp.ln)o.j(w)};N.z$.prototype.eq=function(o,P,w,x,z){N.z$.a0i(P,z);this.BS=P;
var S=o.Q,k,f,C=new fA(0,0,w.q,w._),eJ=!1,c1,ku,aC,gU;if(S=="fromAction"){var H=o.tU,b=H.wQ,i=H.WP,M=i?i.selectionModifyEffectAtCanvasBounds:null,T=M&&M.v;
if(b=="colorRange"){if(i.Clrs){var O=i.Clrs.v.Clrs,Y=0,U=255,W=["Shdw","Mdtn","Hghl"].indexOf(O),y=.4;
if(W==0)U=60;else if(W==1){Y=100;U=150}else Y=190;var t=["shadows","midtones","highlights"][W],_=i[t+"LowerLimit"],n=i[t+"UpperLimit"];
if(_)Y=_.v;if(n)U=n.v;var F=i[t+"Fuzziness"];if(F)y=F.v/100;k=N.z$.MV(w,Y,U,y,!0)}else{var Y=i.Mnm.v,U=i.Mxm.v,y;
Y={s$:Y.Lmnc.v,F:Y.A.v,b:Y.B.v};U={s$:U.Lmnc.v,F:U.A.v,b:U.B.v};y=i.Fzns.v/200;k=N.z$.MV(w,Y,U,y)}f=[7,8]}else if(b=="inverse"){if(w.e==null){alert("No selection!");
return}k={channel:e.U(C.c()),rect:C};e.d0(w.e.channel,w.e.rect,k.channel,k.rect);e.Sd(k.channel);f=[7,2]}else if(b=="expand"){var a=i.By.v.val,V=w.e.rect.clone();
V.$b(a,a);var D=e.U(V.c()),l=e.U(V.c());e.d0(w.e.channel,w.e.rect,l,V);e.style.stroke(l,D,V,a);k={channel:D,rect:V};
f=[7,4]}else if(b=="contract"){var a=i.By.v.val,Q=w.e.rect.clone();Q.$b(1,1);if(!T)Q=Q.SN(C);var l=e.U(Q.c()),m=e.U(l.length);
e.d0(w.e.channel,w.e.rect,l,Q);e.Sd(l);e.style.stroke(l,m,Q,a);e.Sd(m);k={channel:m,rect:Q};e.wW(k);
f=[7,5]}else if(b=="border"){var a=i.Wdth.v.val;k=N.z$.ahf(w.e,a/2,a/2);f=[7,9]}else if(b=="feather"||b=="smoothness"){var a=i.Rds.v.val;
k=N.z$.at7(w.e,a,b=="smoothness",C,T);f=b=="feather"?[7,6]:[19,3,0]}else if(b=="move"){var R=i.T.v,V=w.e.rect.clone();
V.x+=R.Hrzn.v.val;V.y+=R.Vrtc.v.val;k={channel:w.e.channel,rect:V};f=[7,7]}else if(b=="grow"||b=="similar"){var $=this.Yx.wconf.slice(0);
if(i.Tlrn)$[0]=i.Tlrn.v;$[2]=b=="grow";var p=w.Ey(),c=new fA(0,0,w.q,w._),B=w.e.rect,Z=Math.round(Math.sqrt(B.c())/10),v=e.U(c.c());
e.d0(w.e.channel,B,v,c);var E=[];for(var g=0;g<B._;g+=Z)for(var u=(B.c()+g)%Z;u<B.q;u+=Z)if(w.e.channel[g*B.q+u]==255){var j=new eD(B.x+u,B.y+g);
E.push(j);if($[2])e.mH.It(N.Xz.E4(p,c,j,null,$),v,v)}if(!$[2])e.mH.It(N.Xz.E4(p,c,j,N.Xz.tu(p,c,E),$),v,v);
k={channel:v,rect:c};f=b=="grow"?"Grow Selection":"Similar Selection";console.log(i)}else{var A=i.null.v,K=i.AntA!=null&&i.AntA.v;
function s(fV){return e.a.lY(e.KH.q_(fV,w.q,w._),!0)}function r(fV){var ck=fV[0].arr,h8=fV[1].arr,fS={i:[],LG:[]};
for(var I=0;I<ck.length;I++){fS.LG.push(I==0?"M":"L");fS.i.push(ck[I],h8[I])}fS.LG.push("Z");if(fV[0].uID=="#Prc")e.a.h(fS.i,new ar(w.q/100,0,0,w._/100,0,0),fS.i);
return fS}var h=["set","addTo","subtractFrom","interfaceWhite"].indexOf(b),jC=i.T?i.T.v:null;if(jC&&jC.classID=="Elps"){k=this.aGr(N.LQ.aDR(s(jC)));
f=[10,4]}else if(jC&&jC.classID=="Rctn"){var d=s(jC);k={channel:e.U(d.c()),rect:d.clone()};k.channel.fill(255);
f=[10,15]}else if(jC&&jC.classID=="ObSl"){var d=s(jC),q=N.z$.u9,hc=q.rect,dk=q.jm,c6=hc.q,e3=hc._,ks=d.x-hc.x,cH=ks+d.q-1,bI=Math.max(ks,Math.min(cH,ks+cH>>>1)),aR=d.y-hc.y,ak=aR+d._-1,cN=Math.max(aR,Math.min(ak,aR+ak>>>1)),gC=Math.max(ks,0),bD=Math.min(cH,c6),cu=Math.max(aR,0),du=Math.min(ak,e3);
dk.fill(128);if(0<=aR)for(var u=gC;u<bD;u++)dk[aR*c6+u]=0;if(ak<e3)for(var u=gC;u<bD;u++)dk[ak*c6+u]=0;
if(0<=ks)for(var g=cu;g<du;g++)dk[g*c6+ks]=0;if(cH<c6)for(var g=cu;g<du;g++)dk[g*c6+cH]=0;var bq=N.Nr.asT,hn=Math.round(d.q*bq),aK=Math.round(d._*bq);
for(var u=Math.max(0,bI-hn);u<Math.min(c6,bI+hn);u++)dk[cN*c6+u]=255;for(var g=Math.max(0,cN-aK);g<Math.min(e3,cN+aK);
g++)dk[g*c6+bI]=255;N.dx.Kb(q,!0);k={channel:q.e.slice(0),rect:hc.clone()};f=[10,44]}else if(jC&&jC.classID=="Plgn"){k=this.aGr(r(jC.Pts.v.arr));
f=[10,9]}else if(jC&&jC.classID=="Pnt"){k=N.Xz.a74(w,new eD(jC.Hrzn.v.val,jC.Vrtc.v.val),[i.Tlrn.v,K,i.Cntg==null||i.Cntg.v],i.Mrgd?i.Mrgd.v:!1);
f=[10,12]}else if(jC&&jC.Ordn=="None"){k=null;f=[7,1]}else if(jC&&jC.Ordn=="Al"){var cQ=C;if(w.T.length!=0){var jR=w.root.wX(w.T[0]);
while(jR.parent&&jR.parent.parent)jR=jR.parent;if(jR.r.add.artb)cQ=jR.r.sK()}k={channel:e.U(cQ.c()),rect:cQ};
k.channel.fill(255);f=[7,0]}else if(jC&&jC[0]&&jC[0].v.keyID=="WrPt"){var ch={Q:"frompath",bV:[-1,0,0]};
this.eq(ch,P,w,x,z);return}else{var bx=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(b),jf=b=="set"?jC:A,dW=jf[0].v.enum,ch;
if(dW=="Trsp"||dW=="Gray"||dW=="Msk"||dW=="vectorMask"||dW=="Trgt"){var bf=w.T[0];if(jf.length==2)bf=h7.yx(w,jf[1]);
var iu=["Trsp","Msk","vectorMask"].indexOf(dW);if(dW=="Trgt"&&w.R[bf].Zx==1)iu=1;if(dW=="Gray")iu=-1;
ch={Q:"fromlayer",bV:[bf,iu,bx]}}else{if(jf[0].t=="name"){var bf=0;for(var I=0;I<w.Cg.length;I++)if(w.Cg[I].name==jf[0].v.val)bf=I;
ch={Q:"fromchannel",bV:[-5-bf,0,bx]}}else{var dV=["RGB","Rd","Grn","Bl"].indexOf(dW);ch={Q:"fromchannel",bV:[-1-dV,0,bx]}}}this.eq(ch,P,w,x,z);
return}if(k){if(!K)e.round(k.channel);if(i.Fthr)k=N.z$.at7(k,i.Fthr.v.val,!1);if(b!="set"&&w.e!=null)k=e.mH.N$(k,w.e,h)}}if(b=="expand"||b=="contract")if(!T&&!C.contains(k.rect)){var gb=k.rect.SN(C),gP=e.U(gb.c());
e.d0(k.channel,k.rect,gP,gb);k.channel=gP;k.rect=gb}}if(S=="qmask"){eJ=!0;var hR=w.um(),c=new fA(0,0,w.q,w._);
if(hR){k=hR.rect.w6(c)&&e.p8(hR.channel,255)?null:{rect:hR.rect.clone(),channel:hR.channel.slice(0)};
c1=hR}else{k=null;ku=new X.wy;ku.color=0;ku.name="Quick Mask";ku._8=!0;if(w.e){ku.rect=w.e.rect.clone();
ku.channel=w.e.channel.slice(0)}else{ku.rect=c;ku.channel=e.U(ku.rect.c());ku.channel.fill(255)}}f=[6,6,1];
w.yS=!0}if(S=="setsel"){k=o.e;f=o.Ka}if(S=="crange"){var Y=o.cT,U=o.G8;k=N.z$.MV(w,Y,U,o.ym);f=[7,8]}if(S=="fromlayer"||S=="fromchannel"||S=="frompath"){var a7=o.bV[0],iu=o.bV[1],h=o.bV[2];
if(S=="fromlayer"){if(a7==null)a7=w.T[0];var dh=w.R[a7];if(iu<=0){var eS=dh.rect,d0=dh.buffer;if(eS.Mw())return;
var cJ=e.U(d0.length>>>2);if(iu==0)e.JX(d0,cJ,3);if(iu==-1)e.KN(d0,cJ);k={channel:cJ,rect:eS.clone()}}else{if(dh.u==null)dh.qX(w);
var aO=iu==1?dh.Jq():dh.u;k=N.z$.acr(aO,C)}this.track(N.z$.vf(h,["Trsp","Msk"][iu],dh.getName()))}else if(S=="frompath"){var a9=w.m0(),ac=a9[1],a9=a9[0],jQ=!0;
if(a7==null)if(a9.length==0||ac.length==0)return;var e7=a9[ac[0]];if(a7!=null)for(var I=0;I<a9.length;
I++)if(a9[I].BG==a7)e7=a9[I];var aO=e7.add.vmsk.Jq(),b2=aO.q_();if(b2.c()==0)return;var cJ=aO.TR();if(o.bV[3]!=null)jQ=o.bV[3];
if(!jQ){cJ=cJ.slice(0);e.round(cJ)}aC=[JSON.stringify(w.lL),JSON.stringify(w.wJ)];gU=["[]","[]"];w.lL=[];
w.wJ=[];k={channel:cJ,rect:b2}}else{if(a7==null)a7=N.z$.abi(w);k=N.z$.avG(w,a7)}if(h!=0&&w.e)k=e.mH.N$(k,w.e,h);
f=[14,11]}if(S=="bgrm"){if(N.z$.aqD(w,P,o,z))return;var g9=window.locStor.getItem("bgrmt"),cx=3600;if(g9==null)g9=0;
var i8=N.z$.azm.bind([w,P,o,z]),fw=Math.floor((Date.now()-g9)/1e3);if(!iX.fK(1)&&fw<cx&&z.tK.L8==null){var hi=jM.lO(),dU=hi?"Out of AI credits :( Now, you":"Non-Premium users",dv=dU+" can use it once an hour ("+((cx-fw)/60).toFixed(1)+" min remain). "+(hi?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
di.XM(i8,dv,"rmbg")}else i8();return}if(k!=null&&e.p8(k.channel,0)){k=null;f=[7,1]}if(k)e.wW(k);var bo=new d5(f,this);
bo.data={Q:"changesel",e:k,um:eJ,a3I:c1,aoj:ku,gT:aC,arx:gU};w.Oi(bo);this.Lv(bo.data,w)};N.z$.aqD=function(o,P,w,x){var z=o.R[o.T[0]],S=z.rect,k=z.buffer,f=S.q,C=S._,H=[0,0,f-1,0,0,C-1,f-1,C-1],b=!0;
for(var I=0;I<4;I+=2){var i=(H[I+1]*f+H[I])*4,M=0;for(var T=0;T<3;T++){M+=(k[T]-k[i+T])*(k[T]-k[i+T])}if(M>25)b=!1}if(b&&z.Jq()==null&&o.e==null){var O=e.U(f*C);
for(var I=0;I<4;I++){var Y=H[I*2],U=H[I*2+1],W=20,t=1,_=null;if(O[U*f+Y]>200)continue;while(W<120){var n=N.Xz.E4(k,S,new eD(Y,U),null,[W,!0,!0]),y=0;
for(var T=0;T<n.length;T++)y+=n[T];var F=W<50?1.015:1.004;if(_&&y>t*F)break;_=n;t=y;W+=10}for(var T=0;
T<_.length;T++)O[T]=Math.max(O[T],_[T])}e.Sd(O);N.z$.ayd(z,P,O,S,w.P,null);alert(ct.GG("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};N.z$.azm=function(){var o=this[0],P=this[1],w=this[2],x=this[3],z=2,S=o.R[o.T[0]],k=S.rect,f=S.buffer,C=1,H=[4096,4096,2048][z];
while(Math.max(k.q,k._)>H){var b=e.EA(f,k);k=b.rect;f=b.eD;C*=2}var i=eu.oi("png"),M=eu.oi("jpg"),T=M.D7([[f.buffer]],k.q,k._),O=new FormData;
O.append("image",new Blob([T],{type:"ima"+"ge/j"+"pg"}));O.append("mode","mask");var Y=new bO(G.E.X,!0);
Y.data={Q:G.l._K,Sp:"Processing ..."};P.j(Y);window.asP=Date.now();var U=function(W){console.log(Date.now()-window.asP);
var t=W.target.response,_=new Uint8Array(t),n=i.mJ(t)[0],y=n.pv,F=e.U(y.c());e.KN(new Uint8Array(n.data),F);
for(var I=0;I<F.length;I++){if(F[I]>250)F[I]=255}if(C!=1){var b=N.DH.IE([F,y],new ar(C,0,0,C,0,0));y=b.rect;
F=b.channel}y.x=S.rect.x;y.y=S.rect.y;N.z$.ayd(S,P,F,y,w.P,ct.GG("AQVUYE\\{}"));var Y=new bO(G.E.X,!0);
Y.data={Q:G.l.uz,Sp:"Processing ..."};P.j(Y);if(x.tK.L8==null){var a=iX.fK(1);jM.event("re"+"mbg_Rem"+"ove B"+"G:  "+(a?"Pre"+"mium":"Free"));
if(a){iX.a7g(1);jM.event("aiusg_"+jM.qx().id)}window.locStor.setItem("bgrmt",Date.now())}};iX.aqb(ct.GG("aQVUYEi<87<5=7:0#"),O,x.tK.L8,U)};
N.z$.ayd=function(o,P,w,x,z,S){var k=new bO(G.E.z,!0);if(z==1){k.I=N.jc;k.data={Q:X.gE,PV:S,azP:!0};
P.j(k);var f=o.Jq();f.color=0;f.rect=x;f.channel=w;f.wW();o.qX()}else if(z==2){k.I=N.mC;k.data={Q:"setsel",e:{channel:w,rect:x},Ka:"Select Subject"};
P.j(k)}else throw"e"};N.z$.abi=function(o){var P=0;if(o.jM.length!=0)P=-5-o.jM[0];else if(JSON.stringify(o.s.A)=="[1,1,1]")P=-1;
else P=-2-o.s.A.indexOf(1);return P};N.z$.avG=function(o,P){var w,x=new fA(0,0,o.q,o._);if(-5<P&P<0){var z=-P-1,S=o.Ey(),k=e.U(x.c());
if(z==0)e.KN(S,k);else e.JX(S,k,z-1);w={channel:k,rect:x.clone()}}if(P<-4){w=N.z$.acr(o.Cg[-P-5],x)}return w};
N.z$.acr=function(o,P){var w,x;if(o.dQ()==0){x=o.q_().clone();if(x.c()==0)return;w=o.TR()}else{x=P;w=e.U(x.c());
o.Hz(x,w)}return{channel:w,rect:x}};N.z$.prototype.Hg=function(o){return this.fs||o.ZO&&this.id!=N.PS};
N.z$.prototype.$_=function(o,P,w){var x=new bO(P,!0);x.data=w;o.j(x)};N.z$.prototype.aj7=function(o,P){var w=new bO(G.E.X,!0);
w.data={Q:G.l.iu,GP:P};o.j(w)};N.z$.prototype.q_=function(o,P,w){P=o.e==null||this._R.Pj(1)||this._R.Nz(1)?P:null;
var x=this.FG,z=this.Aq;if(w){x.x=Math.max(0,Math.min(o.q,x.x));x.y=Math.max(0,Math.min(o._,x.y));z.x=Math.max(0,Math.min(o.q,z.x));
z.y=Math.max(0,Math.min(o._,z.y))}var S=N.Qy.Oc(x,z,P,!0,this.Yx.cstr),k=S[0].x,f=S[0].y,C=new fA(k,f,S[1].x-k,S[1].y-f);
if(w){C.x=Math.max(C.x,0);C.y=Math.max(C.y,0)}return C};N.z$.prototype.aE=function(o,P,w,x,z){this.zg=!0;
if(this.XW())return;this.BS=P;this.g8=!1;this._R.aE(x);this.FG=o.s.hI(z.x,z.y);this.FG=N.y9.Qx(o,this.FG,w);
if(this.akb(o,this.FG,x)){this.fs=!0;this.Qv=o.e.rect.clone();return}this.yR(o,w,x,z);o.s.QF=new fA};
N.z$.prototype.akb=function(o,P,w){var x=w.d(i$.W1),z=w.d(i$.JV);if(o.e&&!x&&!z&&this.Yx.binop==0)return e.Vz(P,o.e.channel,o.e.rect);
return!1};N.z$.prototype.Dv=function(o,P,w,x,z){this.BS=P;if(this.LS)return;var S=o.s.hI(z.x,z.y);if(eD.a_(this.FG,S)*o.s.D>5){this.g8=!0;
this._R.Dv()}if(x.d(i$.yi)){if(this.Bq==null)this.Bq=new eD(S.x-this.FG.x,S.y-this.FG.y);this.FG.x=S.x-this.Bq.x;
this.FG.y=S.y-this.Bq.y}else this.Bq=null;this.Aq=S;if(!this.fs&&this.id!=N.PS)this.Aq=N.y9.Qx(o,this.Aq,w);
if(this.akb(o,this.Aq,x))this.aj7(P,"move");else this.aj7(P,this.nM);if(this.fs){var k=this.Qv.clone();
k.x+=this.Aq.x-this.FG.x;k.y+=this.Aq.y-this.FG.y;var f=N.y9.wa(o,k,w);o.e.rect.x=Math.round(this.Aq.x-this.FG.x+this.Qv.x+f[0]);
o.e.rect.y=Math.round(this.Aq.y-this.FG.y+this.Qv.y+f[1]);o.Gr=!0;N.y9.FK(o,k,f);return}this.yH(o,w,x,z,P);
if(o.s.QF)o.s.QF=this.q_(o,x)};N.z$.prototype.XW=function(){return!1};N.z$.prototype.I2=function(o,P,w,x,z,S){var k=this.zg;
this.zg=!1;if(S||!k)return;o.s.QF=null;this.Aq=o.s.hI(z.x,z.y);this.Aq=N.y9.Qx(o,this.Aq,w);if(this.fs){this.fs=!1;
if(o!=null&&o.t.k2){o.t.k2=null;o.yW=!0}if(this.Aq.w6(this.FG)&&this.iY()==0){this.$_(P,G.E.qc,N.z$.Xw());
return}this.auM(o,this.Qv,o.e.rect.clone());return}this.D4(o,w,x,z,P);N.z$.a0i(P,w);this._R.I2();this.eT(P)};
N.z$.prototype.auM=function(o,P,w){var x=o.k8();if(x!=null&&x.I==this&&x.data.Q=="movesel"){}else{x=new d5([7,7],this);
x.data={Q:"movesel",Dh:P};o.Oi(x)}x.data.Ip=w;this.Lv(x.data,o)};N.z$.prototype.Nf=function(o,P,w,x,z){this.LS=!0};
N.z$.prototype.Rd=function(o,P,w,x,z){var S=new bO(G.E.X,!0);S.data={Q:G.l.ay,I:this.id,rL:z,$n:o,T_:w};
P.j(S);this.LS=!1};N.z$.prototype.xF=function(o,P,w,x){this._R.xF(x);if(o!=null&&o.e!=null){var z=x.Tl();
if(z.x!=0||z.y!=0){var S=o.e.rect.clone();S.x+=z.x;S.y+=z.y;this.auM(o,o.e.rect.clone(),S)}}this.eT(P)};
N.z$.prototype.eT=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.ay,I:this.id,ID:this.iY()};o.j(P)};
N.z$.prototype.iY=function(){var o=this._R.Pj(0),P=this._R.Nz(0);return N.z$.gj(this.Yx.binop,o,P)};
N.z$.gj=function(o,P,w){if(P)o=1;if(w)o=2;if(P&&w)o=3;return o};N.z$.prototype.finish=function(o,P,w,x){var z=o.e,S=this.getSelection(o,P,w,x);
if(S==null)S=N.z$.Xw();else{var k=this.Yx.feat,f=this.iY();if(k!=0)S.WP.Fthr={t:"UntF",v:{type:"#Pxl",val:k}};
if(f!=0&&f!=4)S.wQ=["","addTo","subtractFrom","interfaceWhite",""][f]}this.$_(this.BS,G.E.qc,S);this.FG.Mx(-1,-1);
this.Aq.Mx(-1,-1)};N.z$.prototype.getSelection=function(o,P,w,x){return null};N.z$.prototype.yR=function(o,P,w,x){};
N.z$.prototype.yH=function(o,P,w,x){};N.z$.prototype.D4=function(o,P,w,x){};N.z$.prototype.kW=function(o,P){var w=o.Q;
if(w=="changesel"){var x=P.e;P.e=o.e;o.e=x}if(w=="movesel")P.e.rect=o.Dh;if(o.um){if(o.a3I){P.jM=[P.Cg.length];
P.Cg.push(o.a3I)}else{P.Cg.pop();P.jM=[]}}if(o.gT){P.lL=JSON.parse(o.gT[0]);P.wJ=JSON.parse(o.gT[1])}P.Gr=!0};
N.z$.prototype.Lv=function(o,P){var w=o.Q;if(w=="changesel"){var x=P.e;P.e=o.e;o.e=x}if(w=="movesel")P.e.rect=o.Ip;
if(o.um){if(o.aoj){P.jM=[P.Cg.length];P.Cg.push(o.aoj)}else{P.Cg.pop();P.jM=[]}}if(o.gT){P.lL=JSON.parse(o.arx[0]);
P.wJ=JSON.parse(o.arx[1])}P.Gr=!0};N.z$.prototype.gL=function(o){return o.Q=="changesel"&&o.e?o.e.channel.length:0};
N.z$.prototype.KU=function(o){for(var P in o.Yx)this.Yx[P]=o.Yx[P]};N.z$.prototype.aGr=function(o){var P=e.a.RR(o.i);
if(P.Mw())return null;var w=e.Um(P.q,P._);w.save();w.beginPath();w.translate(-P.x,-P.y);Typr.U.pathToContext({cmds:o.LG,crds:o.i},w);
w.closePath();w.fill();w.restore();var x=e.U(P.c()),z=w.getImageData(0,0,P.q,P._);e.JX(z.data,x,3);return{rect:P,channel:x}};
N.z$.at7=function(o,P,w,x,z){if(w)P=Math.round(P*.7);var S=Math.ceil(2.6*P),k=o.rect.clone();k.$b(S,S);
if(x&&!z)k=k.SN(x);var f=e.U(k.c()),C=e.U(f.length);e.d0(o.channel,o.rect,C,k);e.uY.xf(C,f,k,P);if(w){var H=f.length;
for(var I=0;I<H;I++){var b=(f[I]-128)*P*2.5;f[I]=Math.max(0,Math.min(255,Math.round(128+b)))}}return{channel:f,rect:k}};
N.z$.ahf=function(o,P,w){var x=Math.max(1,Math.ceil(w)),z=o.rect.clone();z.$b(x,x);var S=z.c(),k={channel:e.U(S),rect:z},f=e.U(S);
e.d0(o.channel,o.rect,f,k.rect);if(w!=0)e.style.stroke(f,k.channel,k.rect,w);else e.L9(f,k.channel);
var C=e.U(S);e.Sd(f);if(P!=0)e.style.stroke(f,C,k.rect,P);else e.L9(f,C);e.mH.SN(k.channel,C,k.channel);
return k};N.z$.MV=function(o,P,w,x,z){var S=new fA(0,0,o.q,o._),k=o.Ey();if(o.e){var f=o.e.rect.SN(S),C=e.U(f.c()*4);
e.sR(k,S,C,f);S=f;k=C}var H=S.c(),b=e.U(H),i=1/x;if(z){if(P>=w)P=w-1;var M=P*(1-x),T=P,O=w,Y=w+(255-w)*x,U=M==T?0:1/(T-M),W=O==Y?0:1/(Y-O);
for(var I=0;I<H;I++){var t=I<<2,_=e.Rb(k[t],k[t+1],k[t+2]),n=0;if(_<M)n=0;else if(_<T)n=(_-M)*U;else if(_<=O)n=1;
else if(_<=Y)n=1-(_-O)*W;else n=0;b[I]=k[t+3]*n*n}}else for(var I=0;I<H;I++){var t=I<<2,y=e.Us(k[t],k[t+1],k[t+2]),n=e.ab4(y,P,w,x,i);
b[I]=k[t+3]*n}return{rect:S,channel:b}};N.Fw=function(){N.tB.call(this,[10,18],N.C3,"tools/blur");this.pw="copy"};
N.Fw.prototype=new N.tB;N.Fw.prototype.aE=function(o,P,w,x,z){var S=x.d(i$.JV)?j2.$l:j2.C3;this.XA(o,w,x,z,this.Yx.strn,S);
if(this.E9==null)return;this.cV(o)};N.Fw.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.Zp=function(){N.tB.call(this,[10,0],N.Je,"tools/brush");
this.pw="draw"};N.Zp.prototype=new N.tB;N.Zp.prototype.aE=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z,!0))return;
this.XA(o,w,x,z,this.Yx.flow);if(this.E9==null)return;this.cV(o)};N.Zp.prototype.Dv=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z))return;
this.o$(o,P,w);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};
N.RO=function(){N.tB.call(this,[10,42],N.OO,"tools/crepl");this.pw="idraw";this.Yx.bmode="hue "};N.RO.prototype=new N.tB;
N.RO.prototype.aE=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z,!0))return;this.XA(o,w,x,z,this.Yx.flow);
if(this.E9==null)return;this.cV(o)};N.RO.prototype.Dv=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z))return;
this.o$(o,P,w);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};
N.g6=function(){N.tB.call(this,[10,43],N.cZ,"tools/redeye");this.Yx.smode=0;this.pw="redeye"};N.g6.prototype=new N.tB;
N.g6.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,this.Yx.flow);if(this.E9==null)return;this.cV(o)};
N.g6.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;
if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.UU=function(){N.tB.call(this,[10,38],N.XL,"tools/pencil");
this.pw="draw"};N.UU.prototype=new N.tB;N.UU.prototype.aE=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z,!0))return;
this.XA(o,w,x,z,this.Yx.flow);if(this.E9==null)return;this.cV(o)};N.UU.prototype.Dv=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z))return;
this.o$(o,P,w);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};
N.FL=function(){N.tB.call(this,[10,22],N.T1,"tools/burn");this.pw="burn"};N.FL.prototype=new N.tB;N.FL.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,this.Yx.expo/Math.E);
if(this.E9==null)return;this.cV(o)};N.FL.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.yw=function(o,P,w){N.tB.call(this,o==""?null:o?o:[10,1],P?P:N.H8,w?w:"tools/clone");
this.pw="clone";this.Cu=null;this.f=null};N.yw.prototype=new N.tB;N.yw.prototype.aE=function(o,P,w,x,z){var S=this.Yx,k=S.alt[0];
if(x.d(i$.JV)||x.d(i$.gM)||k){this.Cu=o.s.hI(z.x,z.y);this.f=null;if(k)this.nL({alt:[!1]},P);this.c4(o);
this.O4(w,x,o,z);return}if(this.Cu==null){alert(kQ.get([15,7,0]));return}this.O4(w,x);this.XA(o,w,x,z,this.Yx.flow);
if(this.E9==null)return;this.f=this.aeN(o.s.hI(z.x,z.y));this.cV(o)};N.yw.prototype.aeN=function(o){var P=this.f;
if(P==null||!this.Yx.algnd)P=new eD(Math.round(o.x-this.Cu.x),Math.round(o.y-this.Cu.y));return P};N.yw.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);
if(this.ls)this.HY(o,w,z);if(this.E9==null){if(this.Cu!=null)this.O4(w,x,o,z);return}if(!z.ZO||this.Cu==null)return;
this.N7(o,w,x,z);this.cV(o)};N.yw.prototype.hg=function(){return this.f};N.Pi=function(){N.Qf.call(this,[10,53],N.aGV,"tools/csamp");
this.C7=-1;this.$d=null};N.Pi.prototype=new N.Qf;N.Pi.prototype.aE=function(o,P,w,x,z){this.$d=JSON.stringify(o.aJ);
var S=o.s.hI(z.x,z.y),k=o.aJ,f=1e9,C=-1;for(var I=0;I<k.length;I++){var H=k[I],b=S.x-H.x,i=S.y-H.y,M=b*b+i*i;
if(M<f){f=M;C=I}}var T=15/o.s.D;C=f<T*T?C:-1;if(C==-1){C=k.length;k.push({x:S.x,y:S.y})}else if(x.d(i$.JV)){k.splice(C,1);
C=-1}this.C7=C;o.yW=!0};N.Pi.prototype.Dv=function(o,P,w,x,z){var S=this.C7;if(S!=-1){var k=o.s.hI(z.x,z.y);
o.aJ[S].x=k.x;o.aJ[S].y=k.y;o.yW=!0}};N.Pi.prototype.I2=function(o,P,w,x,z,S){var k=new d5(this.name,this);
k.data={Lz:this.$d,OL:JSON.stringify(o.aJ)};o.Oi(k);this.C7=-1};N.Pi.prototype.kW=function(o,P){P.aJ=JSON.parse(o.Lz)};
N.Pi.prototype.Lv=function(o,P){P.aJ=JSON.parse(o.OL)};N.A0=function(o,P,w){N.Qf.call(this,o,P,w);this.rZ={KF:{S$:0,x:0,y:0},De:!1,_z:!1};
this.vA=!1;this.Zt=null;this.cursor=null;this.ayV=0;this.R8=null;this.FG=null;this.eP=null;this.lG=!1};
N.A0.prototype=new N.Qf;N.A0.prototype.vo=function(){return this.Zt!=null};N.A0.prototype.Hg=function(o){return this.FG!=null||this.Zt&&this.Zt.aDb()};
N.A0.prototype.aE=function(o,P,w,x,z){this.R8=z;var S=o.s.hI(z.x,z.y),k=this.rZ.KF,f=k.S$!=0?k.x/k.y:null,C=this.lG;
this.lG=!1;if(this.Zt){var H=this.Zt.G1(S,o.s.D);if(C&&H==null){this.Zt.clear(o);this.Zt=null}else{this.Zt.aE(o,w,x,S,f,!1,z);
return}}this.FG=N.y9.Qx(o,S,w)};N.A0.prototype.vV=function(o,P,w){if(w==null)w=[o.x,o.y,o.x+o.q,o.y,o.x+o.q,o.y+o._,o.x,o.y+o._];
return new jT(w,!0,!1,this.id==N.sB,!0,P,this.id==N.sB?2:0,this.id==N.sB?4:3)};N.A0.prototype.O4=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.iu,GP:this.cursor};o.j(P)};N.A0.prototype.enable=function(o,P,w,x){this.BS=P;this.cursor="crosshair";
this.O4(P);if(o!=null&&this.Zt==null){var z=o.e?{Ot:"cropby",aF3:3}:{Ot:"config",rZ:this.rZ,a0N:!0};
this.KU(z,P,o,x,w);if(o.e==null&&this.rZ.KF.S$==0)this.lG=!0}};N.A0.prototype.Dv=function(o,P,w,x,z){this.R8=z;
var S=o.s.hI(z.x,z.y);if(!z.ZO){var k="crosshair";if(this.Zt){var f=this.Zt.G1(S,o.s.D,null,z);if(f)k=f;
else k="default"}if(k!=this.cursor){this.cursor=k;this.O4(P)}}if(this.Zt)this.Zt.Dv(o,w,x,S);else if(this.FG){if(this.vA){o.t.Uq={LG:["M","L"],i:[this.FG.x,this.FG.y,S.x,S.y]}}else{var C=N.Qy.Oc(this.FG,N.y9.Qx(o,S,w),x,!0,this.rZ.KF),H=C[0].x,b=C[0].y,i=this.eP=new fA(H,b,C[1].x-H,C[1].y-b);
o.t.Uq=e.a.R2(i);N.Qf.uo(z,i,o,w)}o.yW=!0}};N.A0.avl=function(o,P,w){var x,z,f,C;if(P<=w){x=P;z=w}else{x=w;
z=P}var S=o-Math.floor((o+Math.PI)/(2*Math.PI))*2*Math.PI;S=Math.abs(S);if(S>Math.PI/2)S=Math.PI-S;var k=x/(z*Math.sin(S)+x*Math.cos(S));
if(P<=w){f=x*k;C=z*k}else{f=z*k;C=x*k}return{V:f,Y:C}};N.A0.prototype.I2=function(o,P,w,x,z){this.R8=z;
var S=o.s.hI(z.x,z.y);if(this.Zt==null){var k=this.eP;if(this.FG&&(k||this.vA)){if(this.vA){var f=this.FG,C=S,H=C.x-f.x,b=C.y-f.y;
if(Math.abs(H)<Math.abs(b))C=new eD(f.x-b,f.y+H);if(f.x>C.x){var i=f;f=C;C=i}var f=Math.atan2(-(C.y-f.y),C.x-f.x),M=N.A0.avl(f,o.q,o._);
if(this.rZ._z){var T=e.a.R2(new fA(0,0,o.q,o._)),O=new ar;O.rotate(f);e.a.h(T.i,O,T.i);M=e.a.RR(T.i);
M={V:M.q,Y:M._}}var Y=[0,0,M.V,0,M.V,M.Y,0,M.Y],U=new ar;U.translate(-M.V/2,-M.Y/2);U.rotate(f);U.translate(o.q/2,o._/2);
e.a.h(Y,U,Y);this.Zt=this.vV(k,!1,Y);this.vA=!1}else{var W=this.rZ.KF;this.Zt=this.vV(k,W.S$!=0)}this.Zt.L_(o,w);
this.eP=null;this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Tw:!0});this.FG=null;o.t.ZB=[];o.t.Uq=null;o.yW=!0}return}this.Zt.I2(o,w,x,S);
this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Tw:!0});var Y=this.Zt.eE();if(Math.abs(Y[0]-Y[4])<2&&Math.abs(Y[1]-Y[5])<2){this.qh(o,P,null,x);
return}if(Date.now()-this.ayV<200&&this.Zt.PB(S)){this.G2(o,w);this.qh(o,P,w,x);return}this.ayV=Date.now()};
N.A0.prototype.xF=function(o,P,w,x){var z=this.Zt;if(z==null||this.R8&&this.R8.ZO)return;if(x.d(i$.w_)){this.G2(o,w);
this.qh(o,P,w,x)}else if(x.d(i$.Sk)){this.qh(o,P,w,x)}else z.xF(o,w,x)};N.A0.ayq=function(o,P,w){var x={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:o[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:o[1]+o[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:o[0]+o[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:P!=null?P:0}},Dlt:{t:"bool",v:w!=null?w:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{wQ:"crop",WP:x}};N.A0.$F=function(o,P){if(P==null)P=[!0,!0,!0,!0];var w={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][o]}}},x=["Top","Left","Btom","Rght"];
for(var I=0;I<4;I++)w[x[I]]={t:"bool",v:P[I]};return{wQ:"trim",WP:w}};N.A0.i7=function(o,P,w,x,z){var S={classID:"null"};
if(x!=null){S.Wdth={t:"UntF",v:z?{type:"#Prc",val:o*100}:{type:"#Pxl",val:o}};S.Hght={t:"UntF",v:z?{type:"#Prc",val:P*100}:{type:"#Pxl",val:P}};
S.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][x]}}}if(w!=null)S.Rslt={t:"UntF",v:{type:"#Rsl",val:w}};
return{wQ:"imageSize",WP:S}};N.A0.abI=function(o,P,w,x){if(w==null)w=4;if(x==null)x=!1;var z=Math.floor(w/3),S=w%3;
return{wQ:"canvasSize",WP:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:o}},Hght:{t:"UntF",v:{type:"#Pxl",val:P}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][S]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][z]}},Rltv:{t:"bool",v:x}}}};
N.A0.prototype.eq=function(o,P,w,x,z){var S=new fA(0,0,w.q,w._),k=[11,3],f=w.vz,C=w.q/2,H=w._/2,q=1,bf,iu,dV;
function b(gU,I){return gU[I]+2*gU[I+1]+gU[I+2]>>>2}if(o.Q=="cropAndStr"){var i=w.R[w.T[0]],M=i.buffer,T=i.rect,O=T.q,Y=T._,U=O+2,W=[0,0,O-1,0,O-1,Y-1,0,Y-1],t,_=1e9,v=0;
for(var I=0;I<4;I++)for(var n=I+1;n<4;n++){var y=W[2*I],F=W[2*I+1],a=(F*O+y)*4,V=(W[2*n+1]*O+W[2*n])*4,D=M[a]-M[V],l=M[a+1]-M[V+1],Q=M[a+2]-M[V+2],m=D*D+l*l+Q*Q;
if(m<_){_=m;t=new eD(y+.5,F+.5)}}var R=Date.now(),$=N.Xz.E4(i.buffer,T,t,null,[16,!1,!0]);e.Sd($);var p=T.clone();
p.$b(1,1);var c=e.U(p.c());e.d0($,T,c,p);var B=c.slice(0);for(var F=0;F<Y;F++)for(var y=0;y<O;y++){var n=F*O+y;
if($[n]==255&&b(M,n*4)>200){var I=(F+1)*U+y+1;c[I]=B[I-U]&B[I-1]&B[I+1]&B[I+U]}}var Z=e.a.hz(c,p.q,p._,0),E=new bO(G.E.X,!0);
E.data={Q:G.l.cA};var R=Date.now();for(var g=0;g<Z.length;g++){var u=Z[g].path.i;if(Z[g].aR.c()<2500)continue;
var j=e.a.ayI(u,v==3);for(var I=0;I<j.length;I++)j[I]-=1;var A=new eD(j[0],j[1]),K=Math.ceil(eD.a_(A,new eD(j[2],j[3]))),s=Math.ceil(eD.a_(A,new eD(j[6],j[7]))),r=new fA(0,0,K,s),h=e.U(r.c()*4),u=e.W.tV(j,new fA(-1,-1,K+2,s+2));
u=e.W.Sd(u);u=e.W.j$(u,e.W.G5(new ar(T.q,0,0,T._,T.x,T.y)));e.W.drawImage(u,i.buffer,T.q,T._,h,r);v++;
var jC=E.data.lg=new da("Image "+v+".psd");jC.q=K;jC._=s;var d=jC._L();d.bx("Background");d.buffer=h;
d.rect=r;jC.R.push(d);P.j(E)}return}if(o.Q=="fromAction"){var hc=o.tU,dk=hc.wQ,c6=hc.WP,e3=w.q/w._,U=c6.Wdth?c6.Wdth.v.val:-1,ks=c6.Hght?c6.Hght.v.val:-1,f=c6.Rslt?c6.Rslt.v.val:null,cH=c6.Wdth?c6.Wdth.v.type:c6.Hght?c6.Hght.v.type:-1,bI=1,aR;
if(cH=="#Prc"){if(U!=-1)U=Math.round(w.q*U/100);if(ks!=-1)ks=Math.round(w._*ks/100)}if(dk=="imageSize"){if(c6.Intr){if(c6.Intr.v.Intp=="Nrst")bI=0;
if(c6.Intr.v.Intp=="bicubicSharper")bI=2;if(U==-1&&ks==-1){var ak=f/w.vz;U=Math.round(w.q*ak);ks=Math.round(w._*ak)}if(c6.CnsP&&c6.CnsP.v){if(U==-1)U=Math.round(ks*e3);
if(ks==-1)ks=Math.round(U/e3)}}else{if(cH=="#Prc")f=Math.round(w.vz*(w.q/U));else if(cH==-1)f=Math.round(f);
else throw"e";U=w.q;ks=w._}aR={Q:"imgsize",wL:U,XC:ks,CK:f,JN:bI}}else if(dk=="canvasSize"){if(U==-1)U=w.q;
if(ks==-1)ks=w._;if(c6.Rltv&&c6.Rltv.v==!0){if(c6.Wdth)U+=w.q;if(c6.Hght)ks+=w._}var cN=c6.Vrtc?c6.Vrtc.v.VrtL:"Cntr",gC=c6.Hrzn?c6.Hrzn.v.HrzL:"Cntr";
aR={Q:"canvsize",wL:U,XC:ks,Tj:3*["Top","Cntr","Btom"].indexOf(cN)+["Left","Cntr","Rght"].indexOf(gC)}}else if(dk=="revealAll"){aR={Q:"revealAll"}}else if(dk=="trim"){var bD={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[c6.trimBasedOn.v.trimBasedOn];
if(bD==null)throw"e";var cu=["Top","Left","Btom","Rght"],du=[!0,!0,!0,!0];for(var I=0;I<4;I++)if(c6[cu[I]])du[I]=c6[cu[I]].v;
aR={Q:"trim",ali:bD,$L:du}}else if(dk=="crop"){var y,F,O,Y;if(c6.T){var bq=c6.T.v,y=Math.round(bq.Left.v.val),F=Math.round(bq.Top.v.val),O=Math.round(bq.Rght.v.val)-y,Y=Math.round(bq.Btom.v.val)-F}else{var T=w.e.rect;
y=T.x;F=T.y;O=T.q;Y=T._}aR={Q:"canvsize",wL:O,XC:Y,f:new eD(y,F),akt:c6.Dlt!=null&&c6.Dlt.v}}else console.log(hc);
if(aR)this.eq(aR,P,w,x,z);return}else if(o.Q=="imgsize"){S=new fA(0,0,o.wL,o.XC);if(o.CK)f=o.CK;q=o.JN}else if(o.Q=="canvsize"){var hn=o.Tj!=null?o.Tj:0;
S=new fA(0,0,o.wL,o.XC);var aK=w.q-o.wL,cQ=w._-o.XC,jR=Math.round(aK/2),ch=Math.round(cQ/2);if(hn==1||hn==4||hn==7)S.x=jR;
if(hn==2||hn==5||hn==8)S.x=aK;if(hn==3||hn==4||hn==5)S.y=ch;if(hn==6||hn==7||hn==8)S.y=cQ;if(o.f){S.x=o.f.x;
S.y=o.f.y}}else if(o.Q=="rot"&&(o.P+2*Math.PI)%(Math.PI/2)!=0){var bx=e.a.R2(S).i,jf=new ar;jf.translate(-C,-H);
jf.rotate(o.P);jf.translate(C,H);e.a.h(bx,jf,bx);S=e.a.RR(bx)}else if(o.Q=="rot"&&o.P!=Math.PI&&o.P!=-Math.PI){S=new fA(C-w._/2,H-w.q/2,w._,w.q);
if((w.q+w._&1)==1){C=Math.floor(C);H=Math.floor(H);S=new fA(C-Math.floor(w._/2),H-Math.floor(w.q/2),w._,w.q);
if((w.q&1)==1&&o.P!=-Math.PI/2)S.y--;if((w._&1)==1&&o.P==-Math.PI/2)S.x--}}else if(o.Q=="trim"){k=[11,12,0];
var dW=w.Ey(),T=new fA(0,0,w.q,w._);S=e.rR(dW,T,o.ali,o.$L);if(S.Mw())S=T}else if(o.Q=="revealAll"){k=[11,12,2];
S=w.root.q_(w,!0)}var gb=o.Q=="canvsize"&&o.akt;if(o.Q=="imgsize"||o.Q=="rot"||o.Q=="scl"||gb){var gP=new ar;
if(o.Q=="imgsize"){k=[11,10];gP.scale(o.wL/w.q,o.XC/w._);dV=w.nr();for(var I=0;I<dV[0].length;I++)dV[0][I][1]*=dV[0][I][0]==0?gP.F:gP.RL}else if(gb){}else{gP.translate(-C,-H);
if(o.Q=="rot")gP.rotate(o.P);if(o.Q=="scl")gP.scale(o.P.x,o.P.y);gP.translate(C,H);k=o.Ka}iu=e.W.G5(gP);
bf=this.ho(w,z,!0,iu,q,gb?S:null)}else if(o.Q=="auto-align"){if(w.T.length<2){alert("Select two or more layers.");
return}var eJ=[];for(var I=0;I<w.T.length;I++){var i=w.R[w.T[I]];if(!i.Fn()&&i.add.SoLd==null){alert("Unsupported layer selected.");
return}if(i.rect.Mw()){alert("Empty layer selected.");return}eJ.push([i.buffer,i.rect])}var c1=e.tF.wV(eJ);
if(c1==null){alert("No similarity found.");return}iu=c1[1];bf=this.ho(w,z,!1,c1,q);S=w.root.q_(w,!0);
k=[2,10,1]}var ku=new fA(0,0,w.q,w._);if(!S.Mw()&&(!S.w6(ku)||bf!=null)){var aC=new d5(k,this);aC.data={ap0:w.vz,CK:f,Y3:bf,oN:iu,GT:N.A0.axw(w,S,ku,bf!=null)};
if(dV){aC.data.t4=w.nr();aC.data.He=dV}N.A0.a2B(w,aC.data,S);w.Oi(aC);this.Lv(aC.data,w)}};N.A0.axw=function(o,P,w,x){if(o.zV.length==0)return null;
var z=JSON.stringify(o.zV),S=JSON.parse(z);N.H_.ae4(S,P,w,x);S=JSON.stringify(S);return[z,S]};N.A0.prototype.ho=function(o,P,w,x,z,S,k){var f={R:[],bY:null,As:null};
if(w){for(var I=0;I<o.R.length;I++)f.R.push(I);for(var I=0;I<o.Fx.length;I++)f.R.push(-1-I);for(var I=0;
I<o.Cg.length;I++)f.R.push(-1e3-I)}else f.R=o.T.slice(0);f.bY=N.DH.R5(o,f.R,!0);var C=Math.abs(x[3]*x[1])>1e-9;
N.DH.mO(o,P,f.R,f.bY,z,x,null,!0,C?null:S);if(w&&k&&o.p9()){var H=o.R[o.T[0]],b=H.buffer,i=H.rect,M=C?i.clone():S.clone(),T=e.U(M.c()*4),O=e.U(i.c());
e.JX(b,O,3);var Y=e.U(M.c());e.d0(O,i,Y,M);e.round(Y,255);e.Sd(Y);var U=e.zk.Tx(b,i,Y,T,M);if(U==0){H.rect=M;
H.buffer=T}}f.As=N.DH.R5(o,f.R,!0);return f};N.A0.prototype.Lv=function(o,P){if(o.CK)P.vz=o.CK;if(o.GT)P.zV=JSON.parse(o.GT[1]);
if(o.Y3){N.A0.RP(P,e.W.L1(o.oN));N.DH.OD(P,o.Y3.R,o.Y3.As);if(o.He)P.sp(o.He)}N.A0.hF(P,o)};N.A0.prototype.kW=function(o,P){if(o.ap0)P.vz=o.ap0;
if(o.GT)P.zV=JSON.parse(o.GT[0]);N.A0.u7(P,o);if(o.aw)P.s.f.iB(o.aw);P.a4Z();if(o.Y3){var w=e.W.L1(o.oN).clone();
w.Sd();N.A0.RP(P,w);N.DH.OD(P,o.Y3.R,o.Y3.bY);if(o.t4)P.sp(o.t4)}};N.A0.RP=function(o,P){for(var I=0;
I<o.R.length;I++){var w=o.R[I];if(w.add.artb==null)continue;var x=e.a.R2(w.sK()).i;e.a.h(x,P,x);var z=e.a.RR(x);
w.VZ(z)}};N.A0.vG=function(o){var P=new fA,w=0,x=o.root.children.length;for(var I=0;I<x;I++){var z=o.root.children[I].r;
if(z.add.artb==null)continue;P=P.It(z.sK());w++}var S=new fA(0,0,o.q,o._);if(!P.Mw()&&!S.w6(P))return P;
return null};N.A0.Sh=function(o){var P=N.A0.vG(o);if(P)N.A0.De(o,P,!0);return P};N.A0.De=function(o,P,w){var x=o.q,z=o._,S=P.q,k=P._,f=P.x==0&&P.y==0;
if(f&&x==S&&z==k)return;o.q=S;o._=k;var C=[];for(var I=0;I<o.R.length;I++)C.push(I);if(!f)N.y9.D8(o,C,null,-P.x,-P.y);
for(var I=0;I<o.R.length;I++){o.R[I].qX(o)}o.a4Z();if(w){var H=o.s.f,b=o.s.D;H.x+=Math.round((P.x+(S-x)/2)*b);
H.y+=Math.round((P.y+(k-z)/2)*b)}else o.s.f.Mx(0,0);if(o.e)o.e.rect.offset(-P.x,-P.y);var i=o.nr();for(var M=0;
M<i[0].length;M++)if(i[1][M]==-1){var T=o.r_[M];T[1]-=T[0]==0?P.x:P.y}for(var I=0;I<o.Cg.length;I++)o.Cg[I].rect.offset(-P.x,-P.y);
for(var I=0;I<o.Fx.length;I++)e.n.G9(o.Fx[I].add.vmsk.g,new ar(1,0,0,1,-P.x,-P.y))};N.A0.prototype.KU=function(o,P,w,x,z){if(o.Ot=="commit"){this.G2(w,z);
this.qh(w,P,null,x)}else if(o.Ot=="cancel"){this.qh(w,P,null,x)}var S=null,k=new fA(0,0,w.q,w._),f=this.rZ.KF;
if(o.Ot=="config"){this.rZ=o.rZ;f=this.rZ.KF;if(w==null||!o.a0N)return;S=k;if(f.S$==1){var C=f.x/f.y;
if(S.q/C<S._)S._=Math.round(S.q/C);else S.q=Math.round(S._*C)}if(f.S$==2){S.q=f.x;S._=f.y}S.x=Math.round((w.q-S.q)/2);
S.y=Math.round((w._-S._)/2)}if(o.Ot=="straighten"){alert("Draw a line in the image.");this.vA=!0}if(o.Ot=="cropby"){if(w==null)return;
var H=o.aF3,S;if(H==0)S=w.root.q_(w,!0);if(H==1){if(w.T.length==0)alert("No layer is selected.");else{var b=w.root.wX(w.T[0]);
S=b.q_(w,!0)}}if(H==2){if(w.T.length==0)alert("No layer is selected.");else{S=e.rR(w.Ey(),k,0);if(S.Mw())S=k.clone()}}if(H==3){if(w.e!=null)S=w.e.rect;
else alert("There is no selection.")}if(H==4){S=new fA(0,0,w.q,w._)}}if(S&&S.Mw())S=null;if(S!=null){this.Zt=this.vV(S,f.S$!=0);
this.Zt.L_(w,z);this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Tw:!0})}};N.Qf.agQ(N.A0);N.A0.prototype.G2=function(o,P){var w=this.Zt.eE(),x=e.a.RR(w),z=this.arF(o,w),S=!1,k=this.rZ,f=k.KF,C=k.De,H=f.x,b=f.y,T;
if(this.id==N.U6&&f.S$==2&&z.c()!=H*b){z=new fA(z.x,z.y,H,b);S=!0}var i=e.W.tV(w,z);i=e.W.Sd(i);var M=!e.W.vY(i),O=Math.abs(Math.atan2(i[3],i[0]))>1e-9,Y=new fA(0,0,o.q,o._);
if(O||M||S||C||k._z)T=this.ho(o,P,!0,i,1,x,k._z);if(!O&&!M&&!S&&z.w6(Y))return;var U=new d5(this.name,this);
U.data={Y3:T,oN:i,aw:o.s.f.clone(),GT:N.A0.axw(o,z,Y,!1)};N.A0.a2B(o,U.data,z);o.Oi(U);this.Lv(U.data,o);
this.track(N.A0.ayq([x.x,x.y,x.q,x._],null,C))};N.A0.a2B=function(o,P,w){if(w==null)return;P.Dh=new fA(0,0,o.q,o._);
P.Ip=w};N.A0.hF=function(o,P){if(P.Ip==null)return;N.A0.De(o,P.Ip)};N.A0.u7=function(o,P){if(P.Ip==null)return;
var w=P.Dh.clone();w.offset(-P.Ip.x,-P.Ip.y);N.A0.De(o,w)};N.A0.prototype.arF=function(o,P){var w=e.W.tV(P),x=e.W.vY(w),z=e.W.L1(w),S=z.$X,k=z.Ar,f=Math.atan2(z.b,z.F);
z.rotate(f);var C=new fA(S,k,z.F,z.RL);if(!x){function H(_,I,n){var y=_[I]-_[n],F=_[I+1]-_[n+1];return Math.sqrt(y*y+F*F)}var b=H(P,0,2),i=H(P,4,6),M=Math.max(b,i),T=H(P,2,4),O=H(P,6,0),Y=Math.max(T,O),U=N.A0.tJ(P,o.q/2,o._/2),W,t;
if(isNaN(U)||U==Infinity||U==-Infinity||Math.min(U,1/U)<.1)U=(b+i)/(T+O);if(M/Y>U){W=M*1;t=W/U}else{t=Y*1;
W=t*U}C.q=W;C._=t}C.x=Math.round(C.x);C.y=Math.round(C.y);C.q=Math.round(C.q);C._=Math.round(C._);return C};
N.A0.tJ=function(o,P,w){var x=o[0]-P,z=o[1]-w,S=o[2]-P,k=o[3]-w,f=o[6]-P,C=o[7]-w,H=o[4]-P,b=o[5]-w,i=((z-b)*f-(x-H)*C+x*b-z*H)/((k-b)*f-(S-H)*C+S*b-k*H),M=((z-b)*S-(x-H)*k+x*b-z*H)/((C-b)*S-(f-H)*k+f*b-C*H),T=-((M*C-z)*(i*k-z)+(M*f-x)*(i*S-x))/((M-1)*(i-1));
function O(U){return U*U}var Y=Math.sqrt((O(i-1)+O(i*k-z)/T+O(i*S-x)/T)/(O(M-1)+O(M*C-z)/T+O(M*f-x)/T));
if(i==1&&M==1)Y=Math.sqrt((O(k-z)+O(S-x))/(O(C-z)+O(f-x)));return Y};N.A0.prototype.qh=function(o,P,w,x){if(o==null)return;
if(this.Zt)this.Zt.clear(o);this.Zt=null;this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Tw:!1})};N.A0.prototype.disable=function(o,P,w,x){if(this.Zt)this.G2(o,w);
this.qh(o,P,w,x)};N.A0.prototype.$_=function(o,P,w,x){var z=new bO(P,!0);z.data=w;if(x)z.I=x;o.j(z)};
N.akL=function(){N.A0.call(this,[10,2],N.U6,"tools/rcrop")};N.akL.prototype=new N.A0;N.aqB=function(){N.A0.call(this,[10,39],N.sB,"tools/pcrop")};
N.aqB.prototype=new N.A0;N.Bc=function(){N.tB.call(this,[10,21],N.zj,"tools/dodge");this.pw="dodge"};
N.Bc.prototype=new N.tB;N.Bc.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,this.Yx.expo/Math.PI);
if(this.E9==null)return;this.cV(o)};N.Bc.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.sG=function(){N.tB.call(this,[10,3],N.aL,"tools/eraser");
this.pw="erase"};N.sG.prototype=new N.tB;N.sG.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,this.Yx.flow);
if(this.E9==null)return;this.cV(o)};N.sG.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;var S=this.N7(o,w,x,z);this.cV(o)};N.nO=function(){N.tB.call(this,[10,45],N.ji,"tools/beraser");
this.pw="ierase"};N.nO.prototype=new N.tB;N.nO.prototype.aE=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z,!0))return;
this.XA(o,w,x,z,this.Yx.flow);if(this.E9==null)return;this.cV(o)};N.nO.prototype.Dv=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z))return;
this.o$(o,P,w);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};
N.Bz=function(){N.z$.call(this,[10,15],N.mC,"tools/rselect");this.nM="crosshair"};N.Bz.prototype=new N.z$;
N.Bz.prototype.yH=function(o,P,w,x){if(!x.ZO||!this.g8)return;var z=this.q_(o,w,!0);o.t.Uq=e.a.R2(z);
o.yW=!0;N.Qf.uo(x,z,o,P)};N.Bz.prototype.D4=function(o,P,w,x){o.t.Uq=null;o.t.ZB=[];o.yW=!0;this.finish(o,P,w,x)};
N.Bz.prototype.getSelection=function(o,P,w,x){if(this.FG.w6(this.Aq)||!this.g8)return null;var z=this.q_(o,w,!0);
if(z.Mw())return null;return N.z$.vS("Rctn",z,this.Yx.anta)};N.LQ=function(){N.z$.call(this,[10,4],N.asw,"tools/eselect");
this.nM="crosshair"};N.LQ.prototype=new N.z$;N.LQ.prototype.yH=function(o,P,w,x){if(!x.ZO||!this.g8)return;
var z=this.q_(o,w);o.t.Uq=N.LQ.aDR(z);o.yW=!0;N.Qf.uo(x,z,o,P)};N.LQ.prototype.D4=function(o,P,w,x){o.t.Uq=null;
o.t.ZB=[];o.yW=!0;this.finish(o,P,w,x)};N.LQ.prototype.getSelection=function(o,P,w,x){if(this.FG.w6(this.Aq)||!this.g8)return null;
var z=this.q_(o,w);if(!z.EI(new fA(0,0,o.q,o._)))return null;return N.z$.vS("Elps",z,this.Yx.anta)};
N.LQ.aDR=function(o){var P=o.x,w=o.y,x=o.x+o.q,z=o.y+o._,S=(P+x)/2,k=(w+z)/2,f=(P-x)/2,C=(w-z)/2,H=.5522848,b={i:[S,k-C],LG:["M","C","C","C","C"]};
b.i.push(S+H*f,k-C,S+f,k-H*C,S+f,k);b.i.push(S+f,k+H*C,S+H*f,k+C,S,k+C);b.i.push(S-H*f,k+C,S-f,k+H*C,S-f,k);
b.i.push(S-f,k-H*C,S-H*f,k-C,S,k-C);return b};N.S9=function(o){N.Qf.call(this,[10,5],o?N.rW:N.V9,"tools/eyedropper");
this.Y8=null;this.a33=!1;this.OV=0;this.a9=null;this.G6=1;this.Kr=2;this.aA$=!0;this.Ju=!1};N.S9.prototype=new N.Qf;
N.S9.prototype.Hg=function(o){return o.ZO};N.S9.prototype.enable=function(o,P,w,x,z){N.Qf.prototype.enable.call(this,o,P,w,x,z);
this.a33=z};N.S9.prototype.eq=function(o,P,w,x,z){if(o.Q=="pickhere")this.xO(w,P,z,null,o.ah8);if(o.Q=="supertool")this.Y8=o.I};
N.S9.prototype.aE=function(o,P,w,x,z){var S=this.Y8;if(S){S.aE(o,P,w,x,z);return}this.OV=w.AB;this.a9=z;
var k=this.xO(o,null,w,x,z);this.O4(o,P,k,z)};N.S9.prototype.Dv=function(o,P,w,x,z){var S=this.Y8;if(S){S.Dv(o,P,w,x,z);
return}var k=this.a9;if(k){var f=z.x-k.x,C=z.y-k.y,H=1,b=new eD(k.x+f*H,k.y+C*H),i=this.xO(o,null,w,x,b);
this.O4(o,P,i,b,new eD(f*(1-H),C*(1-H)))}};N.S9.prototype.O4=function(o,P,w,x,z){var S=this.aA$,k=this.Ju;
if(o.s.D>4)k=!1;if(!k&&!S)return;var f=N.S9.a6W(o,k,S,x,z,w,this.OV,this.G6),C=new bO(G.E.X,!0);C.data={Q:G.l.iu,GP:f};
P.j(C)};N.S9.prototype.I2=function(o,P,w,x,z,S){var k=this.Y8;if(k){k.I2(o,P,w,x,z);return}this.xO(o,P,w,x,z);
if(this.a9){this.a9=null;if(S)this.xO(o,P,w,x,z,this.OV);var f=new bO(G.E.X,!0);f.data={Q:G.l.iu,GP:"default"};
P.j(f)}};N.S9.prototype.xO=function(o,P,w,x,z,S){if(S==null)S=N.S9.lR(o,z,this.G6,this.Kr);var k=new bO(G.E.X);
k.data={Q:G.l.CA,JL:eB.P6,Pw:!this.a33&&x&&x.d(i$.JV)?1:0,P:S};if(P)P.j(k);return S};N.S9.a6W=function(o,P,w,x,z,S,k,f){if(z==null)z=new eD(0,0);
var C=new fA(0,0,o.q,o._),H=o.Ey(),b=12,i=11,M=(b*2+1)*i,T=new eD(M/2,M/2),O=new fA(0,0,M,M),Y=e.U(O.c()*4),U=o.s.hI(x.x,x.y),W=Math.floor(U.x),t=Math.floor(U.y),_=new ar;
_.scale(1/i,1/i);_.translate(W-b,t-b);if(P)e.scale.adZ(H,C,_,Y,O);var n=(b-3.4)*i,y=(b-1.7)*i,F=b*i;
for(var a=0;a<M;a++)for(var V=0;V<M;V++){var D=eD.a_(new eD(V,a),T);if(D>n){if(w){var l=Math.max(0,n-D+1),Q=(a*M+V)*4,m=Y[Q+3]<<24|Y[Q]<<16|Y[Q+1]<<8|Y[Q+2],R=255<<24|(a<F+i*.5?S:k);
if(D>y){l=Math.max(0,y-D+1);m=R;R=4286611584}else if(!P){m=R&16777215}Y[Q+0]=(1-l)*(R>>>16&255)+l*(m>>>16&255);
Y[Q+1]=(1-l)*(R>>>8&255)+l*(m>>>8&255);Y[Q+2]=(1-l)*(R>>>0&255)+l*(m>>>0&255);Y[Q+3]=(1-l)*(R>>>24&255)+l*(m>>>24&255)}if(D>F){Y[(a*M+V)*4+3]=Math.max(0,255*(F-D+1))}}}function $(I){var d=I<<2;
Y[d]=0;Y[d+1]=0;Y[d+2]=0;Y[d+3]=255}function p(I){var d=I<<2;Y[d]=255;Y[d+1]=255;Y[d+2]=255;Y[d+3]=255}var c=f*i+2,B=M-c>>>1,Z=B+c-1;
if(P&&c<M)for(var I=0;I<c;I++){var v=B*M+B+I,E=Z*M+B+I,g=(B+I)*M+B,u=(B+I)*M+Z;$(v);$(E);$(g);$(u);if(I!=0&&I!=c-1){p(v+M);
p(E-M);p(g+1);p(u-1)}}if(!P)for(var I=-9;I<=9;I++){if(-3<I&&I<3)continue;var j=M>>>1,V=j*M+j+I,a=(j+I)*M+j;
p(V-M);$(V);p(V+M);p(a-1);$(a);p(a+1)}var A=S>>>16&255,K=S>>>8&255,s=S>>>0&255,r="RGB "+A+","+K+","+s,h=e.TI([A/255,K/255,s/255]);
if(o.add.fcmy)r="CMYK "+h.map(function(d){return Math.round(d*100)}).join(",");var jC=N.Qf.rA(0,0,["#"+e.UM(S),r]),C=jC[1];
C.y=0;C.x=M-C.q>>>1;e.sR(jC[0],C,Y,O);return{yp:Y,sn:O,yK:new eD(T.x+z.x,T.y+z.y)}};N.S9.lR=function(o,P,w,x,z){if(x==null)x=2;
var S=o.s.hI(P.x,P.y),k,f,C=o.T.length==1&&o.R[o.T[0]].Zx>0&&z!=!0,H=o.jM.length!=0,y=0,F=0,a=0;if(C||H){var b;
if(H)b=o.Cg[o.jM[0]];else{var i=o.R[o.T[0]];b=i.Zx==1?i.Jq():i.aeo()}f=b.q_();if(!f.ga(S))return b.color==0?0:16777215;
k=e.U(f.c()*4);k.fill(255);var M=b.TR();e.K0(M,k)}else if(x==0&&o.T.length!=0){var i=o.R[o.T[0]];k=i.buffer;
f=i.rect}else{k=x==2?o.Ey():o.Ey(o.T[0]);f=new fA(0,0,o.q,o._)}var T=Math.floor(S.x)-f.x,O=Math.floor(S.y)-f.y,Y=(w-1)/2,U=Math.max(0,T-Y),W=Math.max(0,O-Y),t=Math.min(f.q,T+Y+1),_=Math.min(f._,O+Y+1),n=(t-U)*(_-W);
for(var T=U;T<t;T++)for(var O=W;O<_;O++){var I=4*(O*f.q+T);y+=k[I];F+=k[I+1];a+=k[I+2]}y=Math.round(y/n);
F=Math.round(F/n);a=Math.round(a/n);return y<<16|F<<8|a};N.S9.prototype.KU=function(o){var P=o.Yx;this.G6=[1,3,5,11,31][P[0]];
this.Kr=P[1];this.aA$=P[2];this.Ju=P[3]};N.BB=function(){N.Qf.call(this,[10,6],N.WC,"tools/gradient");
this.Yx=JSON.parse(iR.lC[6]);this.Yx.Grad=JSON.parse(iR.GV.aHp);this.db=!1;this.Ow=null;this.u8=null};
N.BB.prototype=new N.Qf;N.BB.prototype.enable=function(o,P,w,x){N.Qf.prototype.enable.call(this,o,P,w,x);
this.Ow=o;if(this.db)N.zE.N4(o)};N.BB.prototype.g4=function(o,P,w,x){if(w.N5!=this.id)return;this.Ow=o;
this.aGL(o,P)};N.BB.prototype.disable=function(o,P,w,x){this.Ow=null;if(this.db)N.zE.NN(o)};N.BB.prototype.aGL=function(o,P){var w=N.zE.IW(o);
this.db=w!=null;var x=new bO(G.E.X,!0);x.data={Q:G.l.ay,I:this.id,JL:w?o.R[o.T[0]].add.GdFl:this.Yx,n:this.db};
P.j(x);if(this.db)N.zE.N4(o);else N.zE.NN(o)};N.BB.prototype.KU=function(o){var P=this.Ow;if(this.db){var w=P.R[P.T[0]],x=w.add.GdFl;
if(x==null)return;this.sM=JSON.stringify(x);w.add.GdFl=o.JL;w.qX(P);P.N();N.zE.aAN(this,P);N.zE.N4(P)}else this.Yx=o.JL};
N.BB.prototype.aE=function(o,P,w,x,z){if(this.db){N.zE.prototype.aE.call(this,o,P,w,x,z);return}if(!o.p9())return;
this.u8=N.y9.Qx(o,o.s.hI(z.x,z.y),w)};N.BB.prototype.Dv=function(o,P,w,x,z){if(this.db){N.zE.prototype.Dv.call(this,o,P,w,x,z);
return}if(!this.u8)return;var S=o.s.hI(z.x,z.y);S=N.y9.Qx(o,S,w);if(x.d(i$.W1))S=N.BB.pz(this.u8,S);
o.t.Uq={i:[this.u8.x,this.u8.y,S.x,S.y],LG:["M","L"]};o.t.sA=[this.u8.x,this.u8.y,S.x,S.y];o.yW=!0};
N.BB.prototype.I2=function(o,P,w,x,z){if(this.db){N.zE.prototype.I2.call(this,o,P,w,x,z);return}if(!this.u8)return;
var S=o.R[o.T[0]],k=o.s.hI(z.x,z.y);k=N.y9.Qx(o,k,w);if(x.d(i$.W1))k=N.BB.pz(this.u8,k);if(eD.a_(this.u8,k)>2){var f;
if(o.e)f=o.e.rect;else f=new fA(0,0,o.q,o._);var C=e.U(f.c()*4),H=this.Yx,b=H.Type.v.GrdT,i=H.Opct.v.val,M=this.u8;
if(b=="Lnr")M=new eD((M.x+k.x)/2,(M.y+k.y)/2);e.G.jh(M,k,f,H);iO.OI(H,C,f,o,null,null,w.AB,w.eI);var T=C.length,O=i/100;
if(i!=100)for(var I=0;I<T;I+=4)C[I+3]=Math.round(C[I+3]*O);var Y=new bO(G.E.z);Y.I=N.aL;Y.data={Q:"fillBMP",Ym:C,Hl:jK.RD(H.Md.v.BlnM),Ka:this.name};
P.j(Y)}o.t.Uq=null;o.t.sA=[];o.yW=!0;this.u8=null};N.BB.prototype.eq=function(o,P,w,x,z){function S(i){i=i.v;
var M=i.Hrzn.v.val,T=i.Vrtc.v.val;return w.s.vd(M,T)}if(o.Q=="fromAction"){var k=this.Yx;this.Yx=JSON.parse(JSON.stringify(k));
var f=o.tU.WP,C=["Grad","Type","Opct","Dthr"];for(var I=0;I<C.length;I++)if(f[C[I]])this.Yx[C[I]]=f[C[I]];
var H=S(f.From),b=S(f.T);this.aE(w,P,z,x,H);this.I2(w,P,z,x,b);this.Yx=k}};N.BB.pz=function(o,P){if(o.w6(P))return o;
var w=P.x-o.x,x=P.y-o.y,z=Math.abs(w),S=Math.abs(x);if(z>S)S=z/2>S?0:z;if(S>z)z=S/2>z?0:S;z=w>0?z:-z;
S=x>0?S:-S;var k=Math.sqrt(w*w+x*x)/Math.sqrt(z*z+S*S);return new eD(o.x+z*k,o.y+S*k)};N.BB.Tu=function(o,P,w,x,z,S,k){var f=new fA(0,0,P,w),C=e.U(P*w*4);
e.JM(C,P,w,4);var H=Math.sin(x),b=Math.cos(x),i=e.U(P*w*4);e.G.i6(o,i,f,[b*1/P,H*1/P,-H*1/w,b*1/w],P/2,w/2,!1,0,z,S);
e.C.Iv("norm",i,f,C,f,f,1);if(k)return new ImageData(new Uint8ClampedArray(C.buffer),P,w);else return eu.iK(C.buffer,P,w,null,null,!0)};
N.BB.ab6=function(o,P,w){var x=JSON.parse(JSON.stringify(o));if(x.Clrs)for(var I=0;I<x.Clrs.v.length;
I++){var z=x.Clrs.v[I].v,S=z.Type.v.Clry;if(S=="UsrS")continue;var k=S=="FrgC"?P:w;z.Type.v.Clry="UsrS";
z.Clr={t:"Objc",v:e.G.e1({$:k>>16&255,H:k>>8&255,b:k&255})}}return x};N.BB.prototype.Lv=function(o,P){N.zE.prototype.Lv.call(this,o,P)};
N.BB.prototype.kW=function(o,P){N.zE.prototype.kW.call(this,o,P)};N.zE=function(){N.Qf.call(this,"Vector Gradient",N.axL,"tools/gradient");
this.ml=null;this.Jx=null;this.sd=null;this.sM};N.zE.prototype=new N.Qf;N.zE.prototype.enable=function(o,P,w,x){N.zE.N4(o)};
N.zE.prototype.g4=function(o,P,w,x){if(w.N5!=this.id)return;N.zE.N4(o)};N.zE.prototype.disable=function(o,P,w,x){N.zE.NN(o)};
N.zE.NN=function(o){if(o==null)return;o.t.q5=null;o.t.sA=[];o.yW=!0};N.zE.prototype.aE=function(o,P,w,x,z){var S=N.zE.IW(o);
if(S==null&&bn==0){var k=new bO(G.E.qc,!0);k.data=N.Qy.pZ(1);P.j(k);S=N.zE.IW(o)}if(S==null)return;var f=N.y9.Qx(o,o.s.hI(z.x,z.y),w),C=N.zE.TD(S,f,o),H=o.R[o.T[0]],b=H.add.GdFl,i=H.add.vstl;
this.sM=JSON.stringify(bn==0?b:i);this.ml=f;if(C==-1){var M=S[1];this.Jx=[f.x,f.y,f.x+2,f.y];if(M[0]==1){this.Jx.push(f.x,f.y-2);
M[2][4]=1}this.sd=1;N.zE.aaH(o,this.Jx)}else{this.Jx=S[0];this.sd=C}};N.zE.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=N.zE.IW(o),f=this.sd;
if(f!=null){var C=this.Jx.slice(0);S=N.y9.Qx(o,S,w);if(x.d(i$.W1))S=N.BB.pz(new eD(C[0],C[1]),S);var H=S.x-C[f*2],b=S.y-C[f*2+1];
if(f==0){for(var I=0;I<C.length;I+=2){C[I]+=H;C[I+1]+=b}}else{C[f*2]+=H;C[f*2+1]+=b}N.zE.aaH(o,C,f)}else if(k){var i=N.zE.TD(k,S,o),M=new bO(G.E.X,!0);
M.data={Q:G.l.iu,GP:i==-1?"default":i==0?"move":"pointer"};P.j(M)}N.zE.N4(o)};N.zE.TD=function(o,P,w){var x=6*N.M()/w.s.D,z=o[0],S=e.a.Rf(z,P.x,P.y,x);
if(S==0&&z.length==8&&z[0]==z[6]&&z[1]==z[7])S=3;if(S==-1&&o[1][0]==1)S=e.a.Rf(z.slice(0,2),P.x,P.y,2*x);
return S};N.zE.prototype.I2=function(o,P,w,x,z){if(this.Jx==null)return;this.Jx=null;this.sd=null;N.zE.aAN(this,o)};
N.zE.aAN=function(o,P){var w=P.T[0],x=P.R[w],z=x.add.GdFl,S=x.add.vstl,k=JSON.stringify(z?z:S),f=P.history[P.Mi];
if(f&&f.I==o&&f.data.kN==w)f.data.He=k;else{var C=new d5("Change Gradient",o);C.data={kN:w,t4:o.sM,He:k};
P.Oi(C)}};N.zE.aaH=function(o,P,w){var x=o.R[o.T[0]],z=x.add.GdFl,S=x.add.vstl,k=x.add.vmsk,f=new eD(P[0],P[1]),C=new eD(P[2],P[3]),H=new eD(P[4],P[5]),b=new eD(P[6],P[7]);
if(S){var i=S.wm[0],M=S.wm[2],T=gn.WB(f,C,new ar),O=gn.MP(i,T,k.g);if(i==1){var Y=eD.a_(H,f)/eD.a_(C,f);
if(Math.abs(Y-1)<.03)Y=1;O[2][4]=w==2?Y:M[4];if(w==3){if(eD.a_(b,f)/eD.a_(C,f)<.05)b=f.clone();gn.Nk(O,f,C,b,O[2][4]);
if(O[2][6]>.999)O[2][6]=.999}else{O[2][5]=M[5];O[2][6]=M[6]}}O[1]=S.wm[1];S.wm=O}else{var i=z.Type.v.GrdT,U=x.rect;
if(i=="Lnr"||i=="Rflc"){f.x=(f.x+C.x)/2;f.y=(f.y+C.y)/2}e.G.jh(f,C,U,z);x.qX(o)}o.N()};N.zE.IW=function(o){if(o==null||o.T.length==0)return;
var P=o.R[o.T[0]],w=P.add.GdFl,x=P.add.vstl;if(w==null&&x==null)return;if(x==null)x=da.TQ(P.add,o);var z=x.wm;
if(z.length!=4)return;var S=P.add.vmsk?P.add.vmsk.g:e.n.fg.Rect(0,0,o.q,o._),k=gn.a4(z,S),S=[0,0,1,0];
if(bn==1&&z[0]==1){var f=z[2][5]*Math.PI/180,C=z[2][6];S.push(0,-1,Math.cos(f)*C,-Math.sin(f)*C)}e.a.h(S,k,S);
return[S,z,k]};N.zE.N4=function(o){if(o)N.zE.NN(o);var P=N.zE.IW(o);if(P==null)return;var w=P[0],x=P[1],z=P[2],S={i:w.slice(0,4),LG:["M","L"]};
if(x[0]==1){var k=e.n.fg.nT(-1,-1,2,2),f=e.a.IY(k);e.a.h(f.i,z,f.i);e.a.concat(S,f)}o.t.q5=S;o.t.sA=w;
o.yW=!0};N.zE.prototype.Lv=function(o,P){var w=P.R[o.kN],x=bn==0?"GdFl":"vstl";if(o.He){w.add[x]=JSON.parse(o.He);
w.qX(P);P.N();N.zE.NN(P)}};N.zE.prototype.kW=function(o,P){var w=P.R[o.kN],x=bn==0?"GdFl":"vstl";if(o.He){w.add[x]=JSON.parse(o.t4);
w.qX(P);P.N();N.zE.NN(P)}};N.I9=function(){N.Qf.call(this,[10,7],N.ws,"tools/hand");this.fL=!1;this.a9=new eD(0,0);
this.J1=null;this.Ba=0};N.I9.prototype=new N.Qf;N.I9.prototype.KU=function(o,P,w,x){this.fL=o.fL};N.I9.prototype.eq=function(o,P,w,x,z){var S=o.Q;
if(S=="setcls"){w.s.A=o.A;w.yW=!0;w.dH=!0}if(S=="scroll"&&!x.d(i$.JV)){if(x.d(i$.Jm))N.I9.K5(w,w.s.f.x-o.ci.y,w.s.f.y-o.ci.x);
else N.I9.K5(w,w.s.f.x-o.ci.x,w.s.f.y-o.ci.y)}};N.I9.prototype.enable=function(o,P,w,x){this.J1=null;
var z=new bO(G.E.X,!0);z.data={Q:G.l.iu,GP:"grab"};P.j(z);if(o&&Date.now()-this.Ba<300){z.type=G.E.z;
z.I=N.QP;z.data={Q:"adapt",P:"fitscr"};P.j(z)}this.Ba=Date.now()};N.I9.prototype.aE=function(o,P,w,x,z){this.J1=o.s.f.clone();
this.a9.Mx(z.x,z.y)};N.I9.prototype.Dv=function(o,P,w,x,z){if(!z.ZO)return;if(this.J1==null)this.aE(o,P,w,x,z);
var S=this.fL?P.ux:[o];for(var I=0;I<S.length;I++)N.I9.K5(S[I],this.J1.x+(z.x-this.a9.x),this.J1.y+(z.y-this.a9.y))};
N.I9.prototype.I2=function(o,P,w,x,z){this.J1=null};N.I9.K5=function(o,P,w){var x=o.s.D,z=o.s.Si,S=z.q,k=z._,f=e.a.R2(new fA(0,0,o.q,o._)).i,C=new ar;
C.rotate(o.s.$N);e.a.h(f,C,f);var H=e.a.w4(f),b=H.q*x,i=H._*x,M=b<S&&i<k,T=S/2+b/2-64,O=k/2+i/2-64;o.s.f.Mx(Math.max(-T,Math.min(T,P)),Math.max(-O,Math.min(O,w)));
o.dH=!0};N.Hm=function(){N.Qf.call(this,[10,47],N.bn,"tools/rview");this.a9=new eD(0,0);this.yh=null;
this.eW=null;this.Ba=0};N.Hm.prototype=new N.Qf;N.Hm.prototype.enable=function(o,P,w,x){this.J1=null;
var z=new bO(G.E.X,!0);z.data={Q:G.l.iu,GP:"grab"};P.j(z);if(o&&Date.now()-this.Ba<300&&o.s.$N!=0){o.s.$N=0;
o.yW=!0}this.Ba=Date.now();if(o)this.b7(o,P)};N.Hm.prototype.disable=function(o,P,w,x,z){if(o)this.b7(o,P)};
N.Hm.prototype.kf=function(o,P,w,x){if(o)this.b7(o,P)};N.Hm.prototype.aE=function(o,P,w,x,z){this.a9.Mx(z.x,z.y);
var S=o.s;this.yh=S.hI(S.Si.q/2,S.Si._/2);this.eW=S.TL();var k=S.hI(S.Si.q/2,S.Si._/2),f=Math.min(S.Si.q,S.Si._)*.35/S.D,C=f*.2,H=k.x,b=k.y;
o.t.Uq={LG:"M L L L L L".split(" "),i:[H,b,H,b-f,H+C,b,H,b+f,H-C,b,H,b-f]};o.yW=!0};N.Hm.prototype.aAe=function(o){var P=o.s,w=P.hI(P.Si.q/2,P.Si._/2);
o.t.Uq={LG:["M","L"],i:[w.x,w.y,w.x,w.y-200]}};N.Hm.prototype.Dv=function(o,P,w,x,z){if(!z.ZO)return;
var S=o.s,k=this.yh,f=this.a9,C=new eD(S.Si.q/2,S.Si._/2),H=Math.atan2(z.y-C.y,z.x-C.x),b=Math.atan2(f.y-C.y,f.x-C.x),i=Math.atan2(this.eW.b,this.eW.F),M=H-b,T=Math.PI/4;
if(x.d(i$.W1)){M=i+T*Math.round((M-i)/T)}this.a70(o,P,this.eW.clone(),k,M)};N.Hm.prototype.I2=function(o,P,w,x,z){o.t.Uq=null;
o.yW=!0};N.Hm.prototype.KU=function(o,P,w,x){this.a70(w,P,null,null,o.DI-w.s.$N);w.s.$N=o.DI};N.Hm.prototype.a70=function(o,P,w,x,z){var S=o.s;
if(w==null)w=S.TL();if(x==null)x=S.hI(S.Si.q/2,S.Si._/2);w.translate(-x.x,-x.y);w.rotate(z);w.translate(x.x,x.y);
S.aAM(w);if(o.q*S.D<S.Si.q&&o._*S.D<S.Si._)S.f.Mx(0,0);o.yW=!0;this.b7(o,P)};N.Hm.prototype.b7=function(o,P){var w=new bO(G.E.X,!0);
w.data={Q:G.l.ay,I:this.id,DI:o.s.$N};P.j(w)};N.AN=function(){N.yw.call(this,[10,25],N.ZJ,"tools/hbrush")};
N.AN.prototype=new N.yw("");N.AN.prototype.I2=function(o,P,w,x,z){if(this.E9==null)return;this.sC(o,"heal",this.E9.$C(),this.E9.q_(),this.E9.wA());
this.N(o,this.E9.wA());N.tB.prototype.I2.call(this,o,P,w,x,z);if(!this.Yx.algnd)this.f=null};N.td=function(o){N.Qf.call(this,o?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],o?N.uc:N.cR,o?"tools/vtype":"tools/htype");
this.op=[];this.T_=null;this.caller=null;this.E3=1;this.Rp=0;this.zH=null;this.a1v=0;this.gl=0;this.a6e=null;
this.xD=null;this.yk=null;this.OC=null;this.iA=null;this.KO=null;this.avK=null;this.Vf=null;this.Zt=null;
this.yf=null;this.a5F=null;this.r5=!1;this.VC=!1;this.L5=!1;this.KY=null;this.Pb=null;this.apH=null;
this.zv=!1;this.Lu=!1;this.VO=-1;this.XJ=-1;this.o6=document.createElement("textarea");this.o6.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.o6.addEventListener("input",this.my.bind(this),!1);this.o6.addEventListener("keydown",this.afR.bind(this),!1);
this.o6.addEventListener("keyup",this.abH.bind(this),!1)};N.td.prototype=new N.Qf;N.td.prototype.Hg=function(o){return o.ZO};
N.td.prototype.g4=function(o,P,w,x){if(this.yk!=null||this.id==N.uc)return;this.caller=P;var z=this.ard(o);
if(z.length!=0){var S=null,k=[],f=[];for(var I=0;I<z.length;I++){var C=o.R[z[I]],H=C.add.TySh,b=0,i=fe.YJ(H.OY).length-2,M=fe.Zv(H.OY,b,i);
fe.e4(M,H.h.gz());if(M.OR.Font!=null)M.OR.Font=M.Dm[M.OR.Font].Name;S=M.Dm;k.push(M.OR);f.push(M.bp)}var M={Dm:S,OR:fe.j$(k),bp:fe.j$(f)};
if(M.OR.Font!=null)fe.bB(M,M.OR.Font);this.auW(P,M,H)}};N.td.prototype.ard=function(o){var P=[];for(var I=0;
I<o.T.length;I++)if(o.R[o.T[I]]&&o.R[o.T[I]].add.TySh)P.push(o.T[I]);return P};N.td.prototype.eq=function(o,P,w,x,z){var S=o.Q=="insertGlyph",k=o.Q=="copyText",f=o.Q=="selectAll";
if((S||k||o.Q=="insertText"||f)&&this.yk){var C=S?String.fromCharCode(65533):o.P,H=this.o6,b=H.value,i=H.selectionStart,M=H.selectionEnd;
if(k){b_.pa(new Blob([b.slice(i,M)],{type:"text/plain"}))}else if(f){this.VO=H.selectionStart=0;this.XJ=H.selectionEnd=b.length;
this.O1(w);H.focus()}else{H.value=b.slice(0,i)+C+b.slice(M);H.selectionStart=H.selectionEnd=i+C.length;
this.my(null,S?o.P:null);H.focus()}}if(o.Q=="updateStyles"){if(this.yk==null){var T=this.ard(w),O=!1;
if(T.length!=0){this.r4(w,P,z,T);for(var I=0;I<T.length;I++){var Y=w.R[T[I]],U=Y.add.TySh;fe.cs(U,this.E3);
U.cN.VAlign.v=this.Rp;this.yk=Y;var W=fe.YJ(U.OY);this.VO=0;this.XJ=W.length-1;fe.Bi(U.OY,this.VO,this.XJ,this.y_(z,U));
var t=this.tW(w,z);if(t==!1)O=!0}if(O){this.zv=!0;return}this.J7(w,P,!0)}return}this.Yw(z)}if(o.Q.startsWith("warp")){var _=this.Lu;
if(o.Q=="warp"||o.Q=="warpCancel"){if(this.yk==null)return;if(o.Q=="warp")this.yk.add.TySh.c5=o.lD;else this.yk.add.TySh.c5=this.avK;
this.tW(w,z);if(!_)this.O1(w)}if(o.Q!="warp")this.o6.focus();if((o.Q=="warpConfirm"||o.Q=="warpCancel")&&_){this.Lu=!1;
if(o.Q=="warpConfirm")this.J7(w,P);else this._1(w,P)}}if(o.Q=="editCurr"){if(z.N5!=N.cR){this.zH=z.N5;
var n=new bO(G.E.X,!0);n.data={Q:G.l.HB,I:N.cR};P.j(n)}if(this.yk!=null)this.disable(w,P,z,x);this.T_=z;
this.caller=P;this.r4(w,P,z,[o.sJ]);var W=fe.YJ(this.yk.add.TySh.OY);this.VO=0;this.XJ=W.length-1;this.O1(w);
this.kq();this.o6.focus()}if(o.Q=="switchPntPrgr"){if(this.yk)return;var Y=w.R[w.T[0]],U=Y.add.TySh,y=U.h.gz(),F=Y.yq(),a=JSON.parse(JSON.stringify(U.OY)),V=fe.bU(a),D=V==1?fe.vw(a):[0,0,Math.round(F.q*1.05/y),Math.round(F._*1.25/y)],l=fe.Zv(a,0,0),Q=l.Dm[l.OR.Font].Name,m=z.v7.M2(Q),R=[0,D[2],D[2]/2][l.bp.Justification%3],$=(m?c5.d5(m):.8)*l.OR.FontSize;
fe.mn(a,1-V);if(V==0){console.log(c5.d5(m,Q,l.OR));R=-R;$=-$;fe.SP(a,[0,0,D[2],D[3]])}var p=new ar(1,0,0,1,R,$);
p.concat(U.h);this.eq({aZ:w.T[0],Q:"newED",bG:a,h:p,adn:[16,3,V==1?0:1]},P,w,x,z)}if(o.Q=="newED"){var Y=w.R[o.aZ],U=Y.add.TySh,c=this.Eb(w,[o.aZ]);
U.OY=o.bG;if(o.h)U.h=o.h;if(eQ.LU(U,z.v7,P)){eQ.tW(Y,z.v7,w);w.N()}else w._0=!0;var B=new d5(o.adn?o.adn:this.name,this);
B.data={cd:c,mm:this.Eb(w,[o.aZ])};w.Oi(B)}if(o.Q=="fromAction"){var Z;if(o.tU.wQ=="set"){Z=o.tU.WP.T.v}else{Z=o.tU.WP.Usng.v;
var v=Z.TxtC.v,E=[];for(var I=0;I<2;I++){var g=v[I==0?"Hrzn":"Vrtc"].v,C=g.val;if(g.type=="#Prc")C=(I==0?w.q:w._)*(C/100);
E[I]=C}this.tE(w,P,z,x,w.s.vd(E[0],E[1]),!0)}var Y=w.R[w.T[0]],U=Y.add.TySh,u=U.OY,b=fe.YJ(u);fe.kg(u,0,b.length-1);
fe.EF(u,0,Z.Txt.v.replace(/\r/g,"\n"));b=fe.YJ(u);for(var V=0;V<2;V++){var j=Z[V==0?"Txtt":"paragraphStyleRange"];
if(j==null)continue;j=j.v;for(var I=0;I<j.length;I++){var A=j[I].v,i=A.From.v,M=Math.min(A.T.v-1,b.length-1);
A=A[V==0?"TxtS":"paragraphStyle"].v;var K=fe.Zv(u,i,M),s=V==0?K.OR:K.bp;for(var r in A){var h=A[r].v;
if(r=="Sz")s.FontSize=Math.round(h.val*(h.type=="#Pnt"?w.vz/72:1));else if(r=="fontPostScriptName")fe.bB(K,h);
else if(r=="Algn")s.Justification={Left:1,Cntr:2}[h.Alg];else if(r=="leading")s.Leading=A[r].v.val;else if(r=="baselineShift")s.BaselineShift=A[r].v.val;
else if(r=="autoLeading")s.AutoLeading=A[r].v;else if(r=="syntheticBold")s.FauxBold=A[r].v;else if(r=="syntheticItalic")s.FauxItalic=A[r].v;
else if(r=="Trck")s.Tracking=A[r].v;else if(r=="verticalScale")s.VerticalScale=A[r].v/100;else if(r=="horizontalScale")s.HorizontalScale=A[r].v/100;
else if(r=="Clr")s.FillColor={Type:1,Values:[1,h.Rd.v/255,h.Grn.v/255,h.Bl.v/255]}}fe.Bi(u,i,M,K)}}if(eQ.xh(w,z.v7,P))eQ.tW(Y,z.v7,w);
else w._0=!0;w.N();this.J7(w,P)}};N.td.prototype.Yw=function(o){var P=Math.min(this.VO,this.XJ),w=Math.max(this.VO,this.XJ),x=this.yk.add.TySh;
fe.cs(x,this.E3);x.cN.VAlign.v=this.Rp;var z=this.y_(o,x);fe.Bi(x.OY,P,w-1,z);var S=this.caller.L7(),k=this.tW(S,o);
if(k)this.O1(S);if(document.activeElement.tagName.toLowerCase()!="input")this.o6.focus()};N.td.prototype.qD=function(o){return this.op.indexOf(o)!=-1};
N.td.prototype.enable=function(o,P,w,x){var z=this.o6;P.Z.appendChild(z);this.Vf="default";this.O4(P)};
N.td.prototype.vo=function(){return this.yk!=null};N.td.JI=function(o,P){var w=new eD(P.x,P.y);for(var I=o.R.length-1;
I>=0;I--){var x=o.R[I],z=x.add.TySh;if(z&&o.a9Q(I)){var S=w,k=x.rect;if(bn==1){var f=z.h.clone();f.Sd();
S=f.Zc(w);k=x.Mn.Ux}if(!k.ga(S))continue;var C=x.Fp(31);return C?-2:I}}return-1};N.td.prototype.aE=function(o,P,w,x,z){this.T_=w;
this.caller=P;var S=o.s.hI(z.x,z.y),k=this.yk==null;if(k){var f=N.td.JI(o,S);if(f==-2){alert(kQ.get([6,57,0]));
return}if(f>=0&&!x.d(i$.W1)){if(!eQ.LU(o.R[f].add.TySh,w.v7,P)){alert("Fonts not loaded yet");return}this.r4(o,P,w,[f])}else{this.L5=!0;
this.KY=z;return}}var C=k?-1:fe.bU(this.yk.add.TySh.OY),H=this.yf?this.yf:this.Zt,b=H&&H.aE(o,w,x,S,null,null,z)&&e.lD.tN(this.yk.add.TySh.c5),i=!k&&e.a.a5s(S,this.yk.yq())>20/o.s.D&&(C==0||C==1);
if(b||i){this.r5=!0;this.Pb=S;this.apH=this.yk.add.TySh.h.clone();if(this.VO==-1&&this.XJ==-1)this.VO=this.XJ=this.c9(S)}else{if(this.iA==null){alert("Fonts not loaded yet");
return}this.VC=!0;this.VO=this.XJ=this.c9(S);var M=Date.now();if(M-this.a1v>300)this.gl=0;this.gl++;
this.a1v=M;if(this.gl==2)this.aaL();if(this.gl==3)this.a1y();if(this.gl>1){this.VC=!1}}this.kq();this.O1(o)};
N.td.prototype.r4=function(o,P,w,x){var z=o.R[x[0]];this.yk=z;this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Ot:"showactive"});
this.OC=x;o.T=x.slice(0);o._5();o.ZY=!0;this.KO=this.Eb(o,x);this.w1(z.add.TySh);this.tW(o,w)};N.td.prototype.w1=function(o){if(fe.bU(o.OY)!=1)return;
var P=fe.vw(o.OY);P=new fA(0,0,P[2]-P[0],P[3]-P[1]);var w=[P.x,P.y,P.x+P.q,P.y,P.x+P.q,P.y+P._,P.x,P.y+P._];
e.a.h(w,o.h,w);this.Zt=new jT(w,!1,!1,!1,!0);this.Zt.bN(0)};N.td.prototype.aaL=function(){var o=fe.YJ(this.yk.add.TySh.OY);
this.VO=this.alo(o,this.VO);this.XJ=this.ae_(o,this.VO)};N.td.prototype.alo=function(o,P){var w=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",x=[];
for(var I=0;I<w.length;I++)x.push(w.charAt(I));var z=x.indexOf(o[P])==-1?!0:!1;for(var I=P-1;I>=0;I--)if(x.indexOf(o.charAt(I))!=-1==z)return I+1;
return 0};N.td.prototype.ae_=function(o,P){var w=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",x=[];for(var I=0;
I<w.length;I++)x.push(w.charAt(I));var z=x.indexOf(o[P])==-1?!0:!1;for(var I=P+1;I<o.length;I++)if(x.indexOf(o.charAt(I))!=-1==z)return I;
return o.length-1};N.td.prototype.a1y=function(){var o=this.iA.aAu(this.VO);this.VO=o[0];this.XJ=o[1]};
N.td.prototype.O4=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.iu,GP:this.Vf};o.j(P)};N.td.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=this.yk;
if(!z.ZO){var f="default",C=this.Zt,H=this.yf?this.yf:C;if(H&&e.lD.tN(k.add.TySh.c5)){var b=H.G1(S,o.s.D,null,z);
if(b)f=b;else if(H==C&&C.PB(S))f="text"}else if(k&&e.a.a5s(S,k.yq())>20/o.s.D)f="move";else if(N.td.JI(o,S)>=0)f="text";
if(f!=this.Vf){this.Vf=f;this.O4(P)}}var i=this.KY;if(this.L5&&Math.min(z.x-i.x,z.y-i.y)>4/o.s.D){this.L5=!1;
this.tE(o,P,w,x,z);k=this.yk;this.r5=!0;this.Zt=new jT(null,!1,!1,!1,!0);this.Zt.bN(0);var M=o.s.hI(this.KY.x,this.KY.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);this.Zt.aE(o,w,x,M,null,null,z,o.s.$N)}if(this.r5){var T=k.add.TySh;
if(this.yf){this.yf.Dv(o,w,x,S);var O=e.W.L1(e.W.tV(this.yf.eE(),this.a5F));T.h=O;this.tW(o,w);fe.zq(T)}else if(this.Zt){this.Zt.Dv(o,w,x,S);
var Y=T.h.clone(),U=Math.atan2(Y.b,Y.F);Y.rotate(U);var O=e.W.L1(e.W.tV(this.Zt.eE())),W=Math.atan2(O.b,O.F);
O.rotate(W);if(!isNaN(O.F)&&O.F*O.RL-O.b*O.JJ!=0){var t=new fA(0,0,O.F/Y.F,O.RL/Y.RL),_=Math.round(t.q),n=Math.round(t._),y=T.OY.Curve;
if(y){var F=fe.vw(T.OY),a=new ar(_/F[2],0,0,n/F[3],0,0);e.a.h(y.Points,a,y.Points);fe.zq(T)}fe.SP(T.OY,[0,0,_,n]);
T.h=e.W.L1(e.W.tV(this.Zt.eE(),t));this.tW(o,w);fe.zq(T)}}else{var V=S.x-this.Pb.x,D=S.y-this.Pb.y;T.h=this.apH.clone();
var l=new eD(T.h.$X+V,T.h.Ar+D);l=N.y9.Qx(o,l,w);T.h.$X=l.x;T.h.Ar=l.y;this.tW(o,w)}}if(this.VC)this.XJ=this.c9(S);
if(this.r5||this.VC)this.O1(o)};N.td.prototype.tE=function(o,P,w,x,z,S){var k=o.m0(),f=k[0],C=k[1],H=o._L();
H.add.lnsr="rend";var b=o.R.slice(0);H.bx("Text layer "+b.length);this.yk=H;var i=o.T.length==0?o.R.length-1:o.T[o.T.length-1],M=i+1;
if(b[i].add.lsct==jS.KC)M--;this.KO={vc:b.slice(0),jO:o.T.slice(0)};b.splice(M,0,H);o.T=[M];this.VO=this.XJ=0;
o.V4(b);this.KO.O$=b.slice(0);this.KO.GM=o.T.slice(0);this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Ot:"showactive"});
var T=o.s.hI(z.x,z.y),O=w.xp;console.log(O);if(this.id==N.uc){O=JSON.parse(JSON.stringify(O));O.OR.BaselineDirection=1}H.add.TySh=fe.AH(T.x,T.y,O,o.s.$N);
var Y=H.add.TySh,U=Y.OY;if(this.id==N.uc)U._LineOrientation=2;fe.cs(Y,this.E3);Y.cN.VAlign.v=this.Rp;
if(z.ZO)fe.mn(U,1);else{fe.mn(U,0);var W=f[C.pop()],t=W?W.add.vmsk:null;if(S)t=null;if(t&&!x.d(i$.W1)){t=t.clone();
var _=t.g,y,F;for(var I=0;I<_.length;I++)if(_[I].Hv!=null)_[I].Hv=0;var n=5/o.s.D;y=e.n.Vz(t.g,T,!0,n);
if(y.BG==-1)y=e.n.Vz(t.g,T);if(y.BG!=-1){fe.mn(U,1);var a=e.n.iE(_,y.BG),V=e.n.Pu(_,y.BG)-1;_=t.g=_.slice(0,2).concat(_.slice(a,a+V+1));
t.T=[];Y.add={vmsk:t,vogk:X.h6(_)};U.Curve={};fe.Jt(Y);if(y.YO!=null){var D=c5.n5(U.Curve);e.a.h(D[0],Y.h,D[0]);
var l=e.a.Rf(D[0],T.x,T.y),Q=w.xp.bp.Justification;if(Q==2||Q==5){var m=(D[2][l]+D[3]*.5)%D[3];l=c5.Kl(m,D[2])}var R=D[1][l];
R=R%V;t.Qo=[R,R];fe.Jt(Y)}else this.w1(Y)}}}return H};N.td.prototype.I2=function(o,P,w,x,z,S){if(S){this.L5=!1;
return}if(this.yk==null&&!this.L5)return;var k=o.s.hI(z.x,z.y),f=this.L5;if(this.L5){this.L5=!1;this.tE(o,P,w,x,z);
this.VC=!0}if(this.r5||this.VC){this.O1(o);this.kq();if(f)this.Yw(w)}if(this.r5&&this.Zt)this.Zt.I2(o,w,x,k);
this.r5=this.VC=!1;this.o6.focus()};N.td.prototype.kq=function(){var o=this.yk.add.TySh,P=Math.min(this.VO,this.XJ),w=Math.max(this.VO,this.XJ),x,z;
if(P==w){var S=fe.YJ(o.OY);if(P==0||S.charAt(P-1)=="\n")x=z=P;else x=z=P-1}else{x=P;z=w-1}var k=fe.Zv(o.OY,x,z);
fe.e4(k,o.h.gz());this.auW(this.caller,k,o)};N.td.prototype.auW=function(o,P,w){this.$_(o,G.E.X,{Q:G.l.CA,JL:eB.Q7,xp:P});
var x=this.E3=fe.u5(w),z=this.Rp=w.cN.VAlign.v;this.$_(this.caller,G.E.X,{Q:G.l.ay,I:this.id,Ot:"changeOther",Kx:x,ZI:z})};
N.td.prototype.Rd=function(o,P,w,x,z){if(o==null)return;var S=o.s.hI(z.x,z.y),k=N.td.JI(o,S);if(k==-1)return;
var f=new bO(G.E.X,!0);f.data={Q:G.l.ay,I:this.id,Ot:"showpan",ayD:this.yk!=null,sJ:k,rL:z,$n:o,T_:w};
P.j(f)};N.td.prototype.aat=function(){var o=this.yk;if(o&&!this.r5&&this.yf!=null){var P=this.caller.L7();
this.yf.I2(P,this.T_,null,null);this.yf=null;this.w1(o.add.TySh);this.O1(P)}};N.td.prototype.disable=function(o,P,w,x){var z=this.yk;
this.J7(o,P)};N.td.prototype.KU=function(o,P,w,x,z){if(this.Lu)return;if(o.Ot=="commit")this.J7(w,P);
if(o.Ot=="cancel")this._1(w,P);if(o.Ot=="changeOther"){this.E3=o.Kx;this.Rp=o.ZI;if(w!=null)this.eq({Q:"updateStyles"},P,w,x,z)}if(o.Ot=="showwarp"){if(w==null)return;
if(this.yk==null){var S=w.R[w.T[0]],k=S.add.TySh;if(k==null)return;this.r4(w,P,z,[w.T[0]]);this.o6.focus();
this.Lu=!0}this.avK=this.yk.add.TySh.c5;var f=new bO(G.E.X,!0);f.data={Q:G.l.y7,hq:"textwarp"};P.j(f)}};
N.td.prototype.RU=function(o,P){if(P!=eB.Wh)return;if(this.zv){this.zv=!1;var w=this.caller.L7(),x=this.OC;
for(var I=0;I<x.length;I++){this.yk=w.R[x[I]];this.tW(w,o)}this.J7(w,this.caller);return}if(this.yk)this.Yw(o)};
N.td.prototype.y_=function(o,P){var w=JSON.parse(JSON.stringify(o.xp));fe.e4(w,1/P.h.gz());return w};
N.td.prototype.Lv=function(o,P){if(o.cd!=null)this.Gy(P,o.mm);else this.ara(P,o.O$,o.GM)};N.td.prototype.kW=function(o,P){if(o.cd!=null)this.Gy(P,o.cd);
else this.ara(P,o.vc,o.jO)};N.td.prototype.Gy=function(o,P){for(var I=0;I<P.length;I++){var w=P[I],x=w.aZ,z=o.R[x];
z.buffer=w.Du;z.rect=w.sn.clone();z.N();z.Mn.kR=null;z.Mn.path=null;var S=z.add.TySh;S.c5=w.lD;S.Fy=w.Fy.clone();
S.h=w.h.clone();S.OY=JSON.parse(JSON.stringify(w.OY));z.Tr()}o.N()};N.td.prototype.Eb=function(o,P){var w=[];
for(var I=0;I<P.length;I++){var x=P[I],z=o.R[x],S=z.add.TySh;w.push({aZ:x,h:S.h.clone(),lD:JSON.parse(JSON.stringify(S.c5)),Fy:S.Fy.clone(),OY:JSON.parse(JSON.stringify(S.OY)),Du:z.buffer.slice(0),sn:z.rect.clone()})}return w};
N.td.prototype.ara=function(o,P,w){o.T=w;o.V4(P);o.N();o.yS=!0};N.td.prototype.tW=function(o,P,w){if(w==null)w=!1;
var x=this.yk.add.TySh;if(!eQ.LU(x,P.v7,this.caller))return!1;if(!w){var z=fe.YJ(x.OY);this.o6.value=z.slice(0,z.length-1)}var S=this.yk.rect,k=eQ.tW(this.yk,P.v7,o);
this.iA=k[1];var f=this.iA.X2();if(e.lD.tN(x.c5))x.Fy=new fA;else{if(fe.bU(x.OY)==1){var C=fe.vw(x.OY),eK=f.y;
x.Fy=new fA(0,eK,C[2]-C[0],C[3]-C[1]-eK)}else x.Fy=f}o.GO();if(k[2])o.N(o.root.LE(k[2].sn.It(S),o,o.R.indexOf(this.yk)));
return!0};N.td.prototype.my=function(o,P){if(this.yk==null||this.Lu)return;var w=this.o6.selectionStart,x=this.yk.add.TySh,z=fe.YJ(x.OY),S=this.o6.value+"\n",k=Math.min(this.VO,this.XJ),f=Math.max(this.VO,this.XJ),M=!1;
this.VO=Math.min(w,k);if(S.length-w<z.length-this.XJ)this.XJ=z.length-S.length+w;if(z!=S){while(this.VO>0&&z.charAt(this.VO-1)!=S.charAt(this.VO-1))this.VO--}var C=z.substring(0,this.VO),H=z.substring(this.XJ,z.length),b=S.substring(this.VO,S.length-H.length);
fe.kg(x.OY,this.VO,this.XJ);fe.EF(x.OY,this.VO,b);if(P!=null)fe.a2F(x.OY,this.VO,P);var i=this.y_(this.T_,x),T=-1,O=Array.from(b);
for(var I=0;I<O.length;I++)T=Math.max(T,O[I].codePointAt(0));if(T!=-1&&T>128&&T!=65533&&i.OR.Font!=null){var Y=i.Dm[i.OR.Font].Name,U=this.T_.v7.alf(T,Y,i.Dm);
if(Y!=U){fe.bB(i,U);M=!0}}if(this.xD!=null&&b==this.xD){var W=JSON.parse(this.a6e);fe.e4(W,1/x.h.gz());
i.OR=W.OR;i.Dm=W.Dm;M=!0}fe.Bi(x.OY,this.VO,this.VO+b.length-1,i);this.VO=this.XJ=C.length+b.length;
var t=this.caller.L7(),_=this.tW(t,this.T_,!0);if(_)this.O1(t,!0);if(M)this.kq()};N.td.prototype.abH=function(o){var P=i$;
if(!o.ctrlKey)this.aat();o.stopPropagation()};N.td.prototype.afR=function(o){o.stopPropagation();var P=o.ctrlKey||o.metaKey,w=i$,C=0,H=0,_=0,$=!1;
if(this.yk==null||this.Lu)return;if(this.yk==null)return;if(this.caller.Y5.O0())return;var x=this.caller.L7();
if(this.yf==null&&P){var z=this.yk.add.TySh,S=fe.bU(z.OY),k;if(S==1){k=fe.vw(z.OY);k=new fA(0,0,k[2]-k[0],k[3]-k[1])}else k=this.iA.X2();
var f=[k.x,k.y,k.x+k.q,k.y,k.x+k.q,k.y+k._,k.x,k.y+k._];e.a.h(f,z.h,f);this.yf=new jT(f,!0,!0,!1,!1);
this.yf.bN(0);this.a5F=k;this.O1(x)}if(w.qw(o.code,w.dV))C=1;if(w.qw(o.code,w.Ie))C=-1;if(w.qw(o.code,w.ag))H=-1;
if(w.qw(o.code,w.uE))H=1;var b=w.qw(o.code,i$.ET),i=w.qw(o.code,i$.adw);if(w.qw(o.code,i$.w_)&&P){this.J7(x,this.caller);
return}if(w.qw(o.code,i$.Sk)){this._1(x,this.caller);return}if(w.qw(o.code,i$.W0)){o.preventDefault();
var M=this.o6,T=M.value,O=M.selectionStart,Y=M.selectionEnd;M.value=T.substring(0,O)+"\t"+T.substring(Y);
M.selectionStart=M.selectionEnd=O+1;this.my(null);return}var U=w.qw(o.code,w.wF),W=w.qw(o.code,w.KZ);
if(P&&(U||W)){o.preventDefault();var t=new bO(G.E.z,!0);t.I=N.QP;t.data={Q:"zoom",hc:U};this.caller.j(t)}if(w.qw(o.code,w.Xy))_=1;
if(w.qw(o.code,w.fz))_=-1;var n=this.VO==this.XJ,y=P&&o.shiftKey&&_!=0&&!n;if(y||o.altKey&&C!=0){var F=JSON.parse(JSON.stringify(this.T_.xp));
if(y){var a=F.OR.FontSize;if(a==null)a=16;F.OR.FontSize=Math.max(1,a+_*(o.altKey?5:1))}else{if(n){F.OR.Kerning+=20*C;
F.OR.AutoKerning=!1}else F.OR.Tracking+=20*C}o.preventDefault();var V=new bO(G.E.X,!0);V.data={Q:G.l.CA,JL:eB.Q7,xp:F};
this.caller.j(V);var t=new bO(G.E.z,!0);t.I=N.cR;t.data={Q:"updateStyles"};this.caller.j(t);return}if((w.qw(o.code,w.cK)||w.qw(o.code,w.DN))&&P){var D=this.VO,l=this.XJ;
if(D>l){var Q=D;D=l;l=Q}var z=this.yk.add.TySh,m=fe.YJ(z.OY);if(D!=l){this.xD=m.slice(D,l);this.a6e=JSON.stringify(this.T_.xp)}}var R=fe.YJ(this.yk.add.TySh.OY);
if(C!=0||H!=0||b||i){o.preventDefault();var p=this.VO;if(C!=0){if(P&&C==-1)p=this.alo(R,this.VO-1);else if(P&&C==1)p=this.ae_(R,this.VO);
else{var M=this.o6,T=M.value;p=this.VO+C;if(p!=0&&T.codePointAt(p-1)>65535)p+=C}}else if(H!=0){var c=this.iA.aO(this.VO);
if(H==-1&&c.Cy==0)p=0;else if(H==1&&c.Cy==this.iA.apu()-1)p=99999999999;else p=this.iA.avH(new eD(c.sn.x+c.sn.q/2,0),c.Cy+H)}else if(b){var B=this.VO-1;
while(B>0&&R.charCodeAt(B)!=10)B--;p=B==0?0:B+1}else if(i){var B=this.VO;while(B<R.length-1&&R.charCodeAt(B)!=10)B++;
p=B}p=Math.max(0,Math.min(R.length-1,p));if(o.shiftKey)this.VO=p;else this.VO=this.XJ=p;$=!0}if(w.qw(o.code,i$.l)&&P){this.VO=0;
this.XJ=R.length-1;$=!0}if($){this.kq();this.O1(x)}};N.td.aBx=function(o,P){var w=o.length;if(w!=P.length)return!1;
for(var I=0;I<w;I++)if(o[I].aZ!=P[I].aZ)return!1;return!0};N.td.prototype.J7=function(o,P,w){if(this.yk==null)return;
this.yk.Tr();var x=this.KO;if(x instanceof Array){var z=this.Eb(o,this.OC),S=o.k8();if(S!=null&&S.I==this&&S.data.cd&&N.td.aBx(S.data.cd,x)&&w)S.data.mm=z;
else{var k=new d5(this.name,this);k.data={cd:x,mm:z};o.Oi(k)}}else{var k=new d5(this.name,this);k.data={vc:x.vc,O$:x.O$,jO:x.jO,GM:x.GM};
o.Oi(k)}this.escape(o,P)};N.td.prototype._1=function(o,P){if(this.yk==null)return;if(this.KO instanceof Array){this.Gy(o,this.KO);
if(this.yk)fe.zq(this.yk.add.TySh)}else{o.T=this.KO.jO;o.V4(this.KO.vc);o.yS=!0}o.N();this.escape(o,P)};
N.td.prototype.escape=function(o,P){this.aat();this.yk=null;this.OC=null;this.iA=null;this.Zt=null;this.o6.blur();
o.t.Uq=null;o.t.hy=null;o.t.Ra=[];o.yW=!0;this.r5=!1;this.VC=!1;this.VO=this.XJ=-1;this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,Ot:"hideactive"});
if(this.zH){var w=new bO(G.E.X,!0);w.data={Q:G.l.HB,I:this.zH};P.j(w);this.zH=null}};N.td.prototype.$_=function(o,P,w,x){var z=new bO(P,!0);
z.data=w;if(x)z.I=x;o.j(z)};N.td.prototype.c9=function(o){var P=this.yk.add.TySh,w=this.iA,x=P.h.clone();
x.Sd();var z=x.Zc(o),S=fe.q_(P,w),k=e.lD.Qc(P.c5,S),f=e.V0.mW(k,z);if(f==null)f=new Float64Array(2);
z=new eD(S.x+f[0]*S.q,S.y+f[1]*S._);if(w.Ky){var C=w.Ky.clone();C.Sd();z=C.Zc(z)}var H=w.avH(z);return H};
N.td.prototype.O1=function(o,P){if(P==null)P=!1;var w=this.yk.add.TySh,x=fe.bU(w.OY),z=this.iA,S=z?fe.q_(w,z):null;
o.t.Ra=[];o.t.Uq=null;o.t.hy=null;var k=this.yf?this.yf:this.Zt;if(k){k.L_(o,this.T_,!e.lD.tN(w.c5));
var f=w.h.clone();f.Sd();if(z&&z.Ky&&z.Ct==1){var C=z.Ky.clone();C.Sd();f.concat(C)}e.a.h(o.t.Ra,f,o.t.Ra);
e.a.h(o.t.Uq.i,f,o.t.Uq.i);if(z&&z.Ky==null&&z.awu()){var H=S.q-20,b=S._+8;o.t.Uq.i.push(H,b,H+10,b,H+5,b-5,H+5,b+5);
o.t.Uq.LG.push("M","L","M","L")}}else if(x==0)this.a34(o,w,z);else o.t.Uq={i:[],LG:[]};var i=Math.min(this.VO,this.XJ),M=Math.max(this.VO,this.XJ);
if(!P){this.o6.selectionStart=i;this.o6.selectionEnd=M}if(z!=null){var T=function(k,n){var y=k.x,F=k.y+k._,a=new ar;
a.translate(-y,-F);a.rotate(-n);a.translate(y,F);k.y+=k._*.27;var _=e.a.R2(k);e.a.h(_.i,a,_.i);return _};
if(i==M){i=Math.max(i,0);var O=z.aO(i);if(O){var Y=O.sn,U=this.T_.xp.OR.FontSize;if(U!=null&&U!=0){U/=w.h.gz();
Y.y+=Y._-U;Y._=U}var W=z.ana(i);if(W!=null&&W.Rn==1)Y.x+=Y.q;var t=T(Y,O.$N).i;o.t.Uq.LG.push("M","L");
o.t.Uq.i.push(t[0],t[1]-1,t[6],t[7]-1)}}else{o.t.hy={i:[],LG:[]};for(var I=i;I<M;I++){var O=z.aO(I),_=T(O.sn,O.$N);
e.a.concat(o.t.hy,_)}}}o.t.Uq=eQ.tQ(o.t.Uq,w,z,!0);o.t.hy=eQ.tQ(o.t.hy,w,z,!0);o.t.Ra=eQ.tQ({i:o.t.Ra},w,z,!0).i;
o.yW=!0};N.td.prototype.a34=function(o,P,w){if(w==null)return;o.t.Ra.push(0,0);if(o.t.Uq==null)o.t.Uq={LG:[],i:[]};
for(var I=0;I<w.bp.length;I++){var x=w.bp[I];for(var z=0;z<x.D3.length;z++){var S=x.D3[z],k=x.gu.x+S.gu.x+S.sn.x,f=x.gu.y+S.gu.y+S.sn.y+S.sn._;
o.t.Uq.LG.push("M","L");o.t.Uq.i.push(k,f,k+S.sn.q,f)}}o.yW=!0};N.ju=function(){N.td.call(this,!0)};
N.ju.prototype=new N.td;N.iD=function(o){N.z$.call(this,o?"Magic Replace":[10,9],o?N.aeG:N.PS,o?"tools/mremove":"tools/lasso");
this.nM="crosshair";this.Az=null;this.q6=null;this.Pb=null};N.iD.prototype=new N.z$;N.iD.prototype.yR=function(o,P,w,x){this.Az=this.FG;
this.q6={i:[this.Az.x,this.Az.y],LG:["M"]}};N.iD.prototype.yH=function(o,P,w,x){this.Pb=x;var z=this.q6;
if(z==null)return;if(!x.ZO){if(this.q6!=null&&this._R.Nz(1)&&w.d(i$.JV)){z.i.pop();z.i.pop();z.i.push(this.Aq.x,this.Aq.y);
o.t.Uq=z;o.yW=!0}return}z.LG.push("L");z.i.push(this.Aq.x,this.Aq.y);this.Az=this.Aq;if(this.g8){o.t.Uq=z;
o.yW=!0}};N.iD.prototype.vo=function(){return this.q6!=null};N.iD.prototype.XW=function(){return this.q6!=null};
N.iD.prototype.xF=function(o,P,w,x){N.z$.prototype.xF.call(this,o,P,w,x);if(this.q6&&this._R.Nz(1)&&this.Pb&&!this.Pb.ZO&&!x.d(i$.JV))this.a3M(o,w,x)};
N.iD.prototype.D4=function(o,P,w,x){this.Pb=x;var z=this.q6;if(z==null)return;if(this._R.Nz(1)&&w.d(i$.JV)){z.LG.push("L");
z.i.push(this.Aq.x,this.Aq.y);return}this.a3M(o,P,w)};N.iD.prototype.a3M=function(o,P,w){this.finish(o,P,w,this.Pb);
this.q6=null;o.t.Uq=null;o.yW=!0};N.iD.prototype.getSelection=function(o,P,w,x){if(this.FG.w6(this.Aq)||!this.g8)return null;
return N.z$.jt(this.q6.i,null,this.Yx.anta)};N.y9=function(){N.Qf.call(this,[10,11],N.pl,"tools/move");
this.VQ=new eD(0,0);this.__=new eD(0,0);this.C$=null;this.xU=null;this.qn=new eD(0,0);this.Hk=null;this.r7=null;
this.BS=null;this.Ba=0;this.RZ=null;this.r9=[];this.pG=null;this.sF=null;this.dt=!1;this.Q=0;this.BN=null;
this.dK=null;this.OF=null;this.$0=!1;this.Yx={HC:!0,$m:bn==1,Vb:!1,aet:1};this.agm=!1;this.aiG=!1;this.Zt=null;
this.tL=null;this.kQ=null;var o=[];for(var I=0;I<e.PX.WK.length;I++)o.push({name:e.PX.WK[I],B:function(P,w,x){return{Gx:w.Xp.Kc==x}}});
this.k5=new i4(o);this.k5.J("select",this.Lh,this)};N.y9.prototype=new N.Qf;N.Qf.prototype.Hg=function(o){return this.dt&&this.Q!=2};
N.y9.prototype.a68=function(){return this.dt&&(this.Q==0||this.Q==1)};N.y9.prototype.kf=function(o,P,w,x){this.Z7(o,-this.qn.x,-this.qn.y);
this.qn.Mx(0,0);this.Iw(o,null,w);this.N4(o)};N.y9.prototype.Xj=function(){var o=this.Yx;return[o.HC?1:0,o.$m?1:0,o.Vb?1:0]};
N.y9.prototype.nX=function(o,P,w){var x=this.Yx;if(o&&o[0]!=null)x.HC=o[0]==1;if(o&&o[1]!=null)x.$m=o[1]==1;
if(o&&o[2]!=null)x.Vb=o[2]==1;if(bn==1)x.$m=!0;var z=new bO(G.E.X,!0);z.data={Q:G.l.ay,I:this.id,J0:x,atm:P};
w.j(z)};N.y9.arl=function(o,P,w,x,z,S,k){if(k==null)k=[!1,!0];var f=o.ea(null,z,!0),C,H=z==null?o.T[0]:z;
if(o.add.artd&&(z!=null||o.T.length==1)&&o.R[H].add.artb){var b=o.R[H].sK();C=o.mu(f,b,b)[0]}else{var i=new fA(0,0,o.q,o._),C=o.mu(f,k[0]?i:null,k[1]?null:i)[0];
delete C.add.artd;if(k[1]){var M=e.rR(C.Ey(),new fA(0,0,C.q,C._),2);N.A0.De(C,M)}}if(w!=1){var T=new fA(0,0,Math.round(C.q*w),Math.round(C._*w));
N.A0.De(C,T);var O=[];for(var I=0;I<C.R.length;I++)O.push(I);var Y=N.DH.R5(C,O,!0);N.A0.RP(C,new ar(w,0,0,w,0,0));
N.DH.mO(C,x,O,Y,1,e.W.G5(new ar(w,0,0,w,0,0)),null,!0);C.cj()}var U=[];for(var I=0;I<P.length;I++)if(C.q*C._!=0)U.push(eu.Gi(C,P[I].toUpperCase(),null,null,S?S[I]:null,x));
return U};N.y9.prototype.aDx=function(o,P,w,x,z){if(o==null||o.T.length==0)return;var S=N.y9.arl(o,[P],w,x,null)[0],k=new bO(G.E.X,!0);
k.data={Q:G.l.Gd,data:S,name:o.R[o.T[0]].getName()+(w==1?"":"@"+w+"x")+"."+P};z.j(k)};N.y9.prototype.KU=function(o,P,w,x,z){if(o.Pw=="getPNG"){this.aDx(w,"png",o.rr,z,P)}else if(o.Pw=="getSVG"){this.aDx(w,"svg",o.rr,z,P)}if(o.Pw=="prms"){this.Yx=o;
this.N4(w)}};N.y9.aws=function(o){var eK=o.length,w=0;o.sort(function(S,k){return S[0]+S[1]/2-(k[0]+k[1]/2)});
var P=o[eK-1][0]+o[eK-1][1]-o[0][0];for(var I=0;I<eK;I++)w+=o[I][1];var x=Math.round((P-w)/(eK-1)),z=o[0][0];
for(var I=0;I<eK;I++){o[I][0]=z;z+=o[I][1]+x}};N.y9.prototype.eq=function(o,P,w,x,z){var S=o.Q;if(S=="trsl"){var k=Math.round(o.q1),f=Math.round(o.le);
this.qn.Mx(k,f);this.rO(w,P,x,z,!1,o.r);this.Z7(w,k,f);this.Iw(w,null,z)}else if(S=="fcmy"||S=="fvec"){var C=["RGB","CMYK"][o.P]+" Color";
if(S=="fvec")C=["Raster","Vector"][o.P]+" Mode";var H=new d5(C,this);H.data={Q:o.Q,Lz:w.add[S]==null?0:w.add[S],OL:o.P};
w.Oi(H);this.Lv(H.data,w)}else if(S=="pview"){var S=new d5([8,14],this);S.data={Q:o.Q};w.Oi(S);this.Lv(S.data,w)}else if(S=="lockguides"){if(w)w.BP=!w.BP}else if(S=="gids"||S=="gidsFromLayer"){var b=o.dK,i,M;
if(b==null)b=w.nr();if(S=="gids"){i=o.Mm;var T=b[0].length,O=i[0].length;M=T==O?[23,2]:T>O?[23,3]:[23,4];
if(O==0)M=[11,15,0]}else if(S=="gidsFromLayer"){var Y=[],U=[],W=w.Qq();for(var I=0;I<w.T.length;I++){var t=w.R[w.T[I]].rect;
if(t.Mw())continue;Y.push([0,t.x],[1,t.y],[0,t.x+t.q],[1,t.y+t._]);U.push(W,W,W,W)}M=[11,15,1];i=w.nr();
N.y9.BH(i,[Y,U])}if(JSON.stringify(b)==JSON.stringify(i))return;var S=new d5(M,this);S.data={Q:2,dK:b,Mm:i};
w.Oi(S);this.Lv(S.data,w)}else if(S=="algn"){var _=o.P;if(w==null)return;if(w.T.length<2&&!(w.e!=null&&_!=3&&_!=7)){alert(kQ.get([15,7,5]));
return}var n=w.e;w.e=null;var t=n?n.rect:N.DH.q_(w);this.rO(w,P,x,z,!1);if(!this.dt)return;var y=this.RZ,F={},a=[],V=[],D=[];
for(var I=0;I<y.length;I++){var l=y[I];while(w.R[l].getName()=="</Layer group>")l++;var Q=w.root.wX(l),m=Q;
while(Q.parent!=null){Q=Q.parent;if(y.indexOf(Q.index)!=-1)m=Q}var R=V.indexOf(m.index);if(R==-1){R=V.length;
V.push(m.index)}a[I]=R}var $=[],p=[],c=[];for(var I=0;I<V.length;I++){var B=N.DH.q_(w,w.ea(!0,V[I]));
c.push(B);var Z=_==3?[B.y,B._]:[B.x,B.q];$[I]=Z;p.push(Z)}N.y9.aws(p);for(var I=0;I<V.length;I++){var B=c[I],v=B.x,E=B.y;
if(_==0)v=t.x;if(_==1)v=t.x+(t.q-B.q)/2;if(_==2)v=t.x+(t.q-B.q);if(_==3)E=$[I][0];if(_==4)E=t.y;if(_==5)E=t.y+(t._-B._)/2;
if(_==6)E=t.y+(t._-B._);if(_==7)v=$[I][0];D.push(Math.round(v-B.x),Math.round(E-B.y))}var g=[];for(var I=0;
I<y.length;I++){var u=a[I];g[2*I]=D[2*u];g[2*I+1]=D[2*u+1]}this.Z7(w,0,0,null,g);var j=_==3||_==7?[20,4,6]:[20,4,_<3?_:_-1];
this.Iw(w,null,z,g,j);w.e=n}else if(S=="disabAuto"){this.nX([!1],null,P)}};N.y9.BH=function(o,P){for(var I=0;
I<P[0].length;I++){var w=P[0][I],x=P[1][I],z=!1;for(var S=0;S<o[0].length;S++){var k=o[0][S],f=o[1][S];
if(w[0]==k[0]&&w[1]==k[1]&&x==f)z=!0}if(!z){o[0].push(w.slice(0));o[1].push(x)}}};N.y9.prototype.enable=function(o,P,w,x,z){this.r7=w;
this.BS=P;this.$0=z?!0:!1;this.N4(o);this.O4("default",P);this.xF(o,P,w,x)};N.y9.prototype.disable=function(o,P,w,x){this.NN(o)};
N.y9.prototype.NN=function(o){if(o==null)return;if(this.Zt){this.Zt.clear(o);this.Zt=null}if(o.t.Vb){o.t.Vb=null;
o.yW=!0}if(o.t.k2){o.t.k2=null;o.yW=!0}if(o.t.D5[this.id]){delete o.t.D5[this.id];o.yW=!0}if(o.t.ZB.length!=0){o.t.ZB=[];
o.yW=!0}};N.y9.prototype.g4=function(o,P,w,x){if(w.N5!=this.id)return;this.N4(o)};N.y9.prototype.N4=function(o,P){if(o==null)return;
var w=this.Yx;this.NN(o);if(!this.$0){var x;if(w.$m||w.Vb)x=e.a.lY(N.DH.q_(o));if(w.$m&&!x.Mw()){var z=o.R[o.T[0]],S=e.a.R2(x).i;
if(bn==1&&o.T.length==1){if(z.add.vmsk)S=z.add.vmsk.Lc();if(z.add.SoLd)S=N.DH.PU(z.add.SoLd.nonAffineTransform);
if(z.add.TySh){S=e.a.R2(z.Mn.Ux).i;e.a.h(S,z.add.TySh.h,S)}}this.Zt=new jT(S,!0);this.Zt.L_(o,this.r7)}if(w.Vb){var k=null,M=null,T=!1;
if(o.Qq()!=-1)k=o.R[o.Qq()].sK();else k=new fA(0,0,o.q,o._);o.t.Vb={yL:[x],oe:[]};var f=o.t.Vb.oe,C=x.x+x.q,H=x.y+x._,b=x.x+Math.floor(x.q/2),i=x.y+Math.floor(x._/2);
if(P){var O=o.root.Vz(new eD(Math.floor(P.x),Math.floor(P.y)));if(O){M=e.a.lY(O.r.yq(o));if(M.EI(x)){T=(M.rf(x)||x.rf(M))&&!x.w6(M);
if(!T)M=null}}}this.aeS(x,f);if(M!=null){o.t.Vb.yL.push(M);var Y=M.x+M.q,U=M.y+M._,W=M.x+Math.floor(M.q/2),t=M.y+Math.floor(M._/2);
if(T){var _=b,n=i;if(x.rf(M)){_=W;n=t}f.push(x.x,n,M.x,n);f.push(C,n,Y,n);f.push(_,x.y,_,M.y);f.push(_,H,_,U)}else{this.aeS(M,f);
var y=H<M.y||U<x.y,F=C<M.x||Y<x.x;if(C<M.x)f.push(C,i,M.x,i);if(Y<x.x)f.push(Y,i,x.x,i);if(H<M.y)f.push(b,H,b,M.y);
if(U<x.y)f.push(b,U,b,x.y);if(y&&!F){if(x.x<M.x)f.push(x.x,t,M.x,t);if(M.x<x.x)f.push(M.x,i,x.x,i)}}}else{if(x.y>k.y)f.push(b,k.y,b,x.y);
if(H<k.y+k._)f.push(b,H,b,k.y+k._);if(x.x>k.x)f.push(k.x,i,x.x,i);if(C<k.x+k.q)f.push(C,i,k.x+k.q,i)}o.yW=!0}}if(this.Q==2&&this.dt){var a=new fA(0,0,o.q,o._),V=o.Qq();
if(V!=-1){var D=o.nr(),l=D[1][this.RZ];if(l==-1)l=V;a=o.R[l].sK()}var Q=o.r_[this.RZ],m=Q[0],R=(m==0?"X":"Y")+": "+e.PX.MT(Q[1]-(m==0?a.x:a.y),o.vz,this.r7,m==0?a.q:a._,!0);
N.Qf.rA(Math.round(this.C$.x)+10,Math.round(this.C$.y)-10,[R],o);o.yW=!0}if(this.Q==3&&this.dt){var $=e.a.R2(this.BN);
o.t.D5[this.id]={Uq:$};o.yW=!0}};N.y9.prototype.aeS=function(o,P){var w=o.q,x=o._,z=o.x+Math.floor(w*.2),S=o.y+Math.floor(x*.2);
P.push(z,o.y,z,o.y+x);P.push(o.x,S,o.x+w,S)};N.y9.prototype.O4=function(o,P){var w={Q:G.l.iu,GP:o},x=new bO(G.E.X,!0);
x.data=w;P.j(x)};N.y9.prototype.DJ=function(o){var P=this.tL.vm()[0];if(P==this.kQ.length){var w=new bO(G.E.X,!0);
w.data={Q:G.l.vR,pr:"psd"};this.BS.j(w);return}var x=this.Hk,z=this.kQ[P];this.oI(x,z)};N.y9.prototype.Lh=function(o){var P=JSON.parse(JSON.stringify(this.r7.Xp));
P.Kc=this.k5.vm()[0];var w=new bO(G.E.X,!0);w.data={Q:G.l.CA,JL:eB.Ua,OL:P};this.BS.j(w)};N.y9.prototype.Rd=function(o,P,w,x,z){if(this.dt)this.I2(o,P,w,x,z);
this.Hk=o;this.r7=w;this.BS=P;var S=o.s.hI(z.x,z.y),k;if(N.y9.uJ(w,z,o.s)){k=this.k5}else{if(this.tL)this.tL.removeEventListener("select",this.DJ);
var f=[];o.root.Vz(S,f);if(f.length==0)return;if(x.d(i$.JV)){this.oI(o,f[0]);return}var C=[];this.kQ=f;
for(var I=0;I<f.length;I++)C.push({name:o.R[f[I]].getName(),Pd:I==f.length-1});C.push({name:[1,18],Na:!0});
k=this.tL=new i4(C);k.J("select",this.DJ,this)}k.parent=P;k.S();k.update(o,w);var H=new bO(G.E.X,!0);
H.data={Q:G.l.tZ,NP:k,x:z.P8+2,y:z.tm+1};P.j(H)};N.y9.prototype.aC_=function(o,P,w,x,z){var S=N.y9.Wj(o,z);
return S!=-1||N.y9.uJ(w,z,o.s)};N.y9.Wj=function(o,P){if(o==null||o.add.artd==null)return-1;var w=o.s.hI(P.x,P.y),x=12*N.M()/o.s.D;
for(var I=0;I<o.R.length;I++){var z=o.R[I];if(!z.ny()||z.add.artb==null)continue;var S=z.sK(),k=new fA(S.x,S.y-1.7*x,x*z.getName().length*.5,x);
if(k.ga(w))return I}return-1};N.y9.prototype.aE=function(o,P,w,x,z){var S=N.y9.Wj(o,z),k=N.y9.awq(o,o.s.hI(z.x,z.y));
if(S!=-1){o.T=[S];if(w.N5==N.pl){var f=new bO(G.E.X);f.data={Q:G.l.HB,I:N.jd};P.j(f)}return}if(k!=-1){o.s.bO=k;
o.dH=!0;var f=new bO(G.E.X,!0);f.data={Q:G.l.d7,hq:a1.Rz.a66};P.j(f);return}this.C$=z;this.VQ.Mx(z.x,z.y);
this.__=o.s.hI(z.x,z.y);this.xU=new gv(this.__);this.rO(o,P,x,w,!0)};N.y9.uJ=function(o,P,w,x){var z=e.PX.Xo,S=w.Si._;
return o.xn&&(0<P.x&&P.x<z||0<P.y&&P.y<z||x&&0<P.x&&P.x<4*z&&S-z<P.y&&P.y<S)};N.y9.prototype.rO=function(o,P,w,x,z,S){var k,f=this.__,C=!1;
if(z){var H=x.Ph&&x.Xp.r_;if(N.y9.uJ(x,this.VQ,o.s)){k=o.nr();var b=o.nr(),i=null;if(this.VQ.x<e.PX.Xo){i=[0,f.x]}if(this.VQ.y<e.PX.Xo){i=[1,f.y]}b[0].push(i);
b[1].push(o.Qq(!0));o.sp(b);if(!H){var M=new bO(G.E.X);if(!x.Xp.r_){M.data={Q:G.l.CA,JL:eB.IK};P.j(M)}if(!x.Ph){M.data={Q:G.l.CA,JL:eB.ZM};
P.j(M)}H=!0}}var T=this.aFe(o,f);if(H&&T!=null&&!o.BP){this.Q=2;this.dK=k?k:o.nr();this.RZ=T;this.dt=!0;
this.sF=N.DH.q_(o);return}if(o.jM.length!=0){this.Q=4;this.sF=o.Cg[o.jM[0]].rect.clone();this.dt=!0;
return}if(this.Zt&&this.Zt.G1(f,o.s.D,!0,this.C$)!=null){var M=new bO(G.E.X);M.data={Q:G.l.HB,I:N.fd,a3w:!0};
P.j(M);return}if(o.e&&o.e.rect.ga(f)){var O=Math.round(f.x),Y=Math.round(f.y),U=o.e.rect;C=o.e.channel[(Y-U.y)*U.q+O-U.x]>128}var W=this.Yx.HC||bn==1;
if(!C&&(!this.$0&&W||this.$0&&W&&(w.d(i$.W1)||o.T.length<2))){var t=this.aBX(o,f,w);if(!t){o.T=[];o.wJ=null;
o.yS=o.wI=!0;this.Q=3;this.BN=new fA;this.dt=!0;return}}if(w.d(i$.JV)&&!C){var _=new bO(G.E.z);_.I=N.jc;
_.data={Q:X.Ck,asq:!0};P.j(_)}}if(o.jM.length!=0){this.Q=4;this.sF=o.Cg[o.jM[0]].rect.clone();this.dt=!0;
return}this.RZ=o.ea(S==null,S,null,!0);for(var I=0;I<this.RZ.length;I++){var n=this.RZ[I],y=o.R[n];if(y.Fp(2)||y.Fp(31)||o.eu(n)){alert(kQ.get([6,57,0]));
return}}if(o.add.artd&&z){var F=this.RZ,a=!1;for(var I=0;I<F.length;I++)if(o.R[F[I]].add.artb)a=!0;if(!a){this.pG=[o,o.R.slice(0),o.T.slice(0),-1];
this.RZ.sort(function(p,c){return p-c})}}this.r9=N.y9.a8a(o,this.RZ);this.Q=0;if(o.e&&(!z||C)&&o.T.length==1&&o.p9(!1)){if(!o.a03()){this.dt=!1;
return}var V=o.R[o.T[0]],D=w.d(i$.JV);this.Q=1;var l=o.history[o.Mi];if(l.I==this&&l.data.Q==1&&l.data.r==o.T[0]&&V.Zx==V.YK.Zx&&!D){this.OF=l}else{var Q=V.YK,m=!1,R;
if(!V.x5(o,o.e)||D){m=!0;V.ZH(o,o.e,D)}if(V.YK.Zx<=0){R=e.U(V.YK.k0.length>>2);e.JX(V.YK.k0,R,3)}else R=o.e.channel.slice(0);
var $={rect:V.YK.Yz.clone(),channel:R};this.OF=new d5(D?[12,53]:[12,54],this);this.OF.data={Q:1,r:o.T[0],YK:V.YK,aA:Q,Nv:m,jO:o.e,GM:$,RL:new eD(0,0)};
o.Oi(this.OF);o.e=$;o.Gr=!0}}this.dt=!0;this.sF=N.DH.q_(o)};N.y9.prototype.aBX=function(o,P,w){var x=o.root.Vz(new eD(Math.floor(P.x),Math.floor(P.y)));
if(x){if(x.r.add.vmsk)o.yW=!0;var z=o.R.indexOf(x.r);if(this.Yx.aet==0){var S=o.root.wX(z);while(S.parent&&S.parent.depth!=0&&S.parent.r.add.artb==null)S=S.parent;
z=S.index}if(w.d(i$.W1)){var k=o.T.indexOf(z);if(k==-1)o.T.push(z);else if(o.T.length>1)o.T.splice(k,1)}else if(o.T.indexOf(z)==-1){this.oI(o,z)}}return x!=null};
N.y9.prototype.oI=function(o,P){o.R[P].Zx=0;o.T=[P];o.wJ=null;o._5();o.ZY=!0;o.yS=!0};N.y9.awq=function(o,P){var w=o.add.Anno;
if(w==null||w.length==0)return-1;var x=30/o.s.D;for(var I=0;I<w.length;I++)if(new fA(w[I][0],w[I][1],x,x).ga(P))return I;
return-1};N.y9.prototype.Dv=function(o,P,w,x,z){this.C$=z;var S=o.s.hI(z.x,z.y),T,O;if(this.xU&&this.Q<2)S=this.xU.i1(S,x);
if(!this.dt){if(w.Ph&&w.Xp.r_&&o&&!o.BP){var k=this.aFe(o,S),f="default",C=N.y9.Wj(o,z);if(k!=null)f=["col-resize","row-resize"][o.r_[k][0]];
else if(this.Zt){var H=this.Zt.G1(S,o.s.D,null,z);if(H)f=H}else if(C!=-1||N.y9.awq(o,S)!=-1){f="pointer"}this.O4(f,P)}this.N4(o,S);
return}var b=this.__,i=Math.round(S.x-b.x)-this.qn.x,M=Math.round(S.y-b.y)-this.qn.y;if(this.sF){if(this.Q==2){var Y=[];
if(o.e)Y.push(o.e.rect);if(this.sF)Y.push(this.sF);if(o.s.QF)Y.push(o.s.QF);S=N.y9.Qx(o,S,w,[!1,Y,!0,!0])}else{O=this.sF.clone();
O.offset(this.qn.x+i,this.qn.y+M);T=N.y9.wa(o,O,w);var U=this.xU.abu(x);if(U==1){T[0]=0;T[2]=1e9}if(U==2){T[1]=0;
T[3]=1e9}i+=Math.round(T[0]);M+=Math.round(T[1])}}this.qn.x+=i;this.qn.y+=M;var W=this.pG;if(W&&o==W[0]){o.V4(W[1]);
o.T=W[2].slice(0);W[3]=-1}this.Z7(o,i,M,S,null,x.d(i$.W1));if(W&&o==W[0]){var t=this.sF.clone();t.offset(this.qn.x,this.qn.y);
var _=S,C=o.Qq(),n=-1;for(var I=0;I<o.R.length;I++){var y=o.R[I];if(!y.ny()||y.add.artb==null)continue;
var F=y.sK();if(F.ga(_))n=I}if(n!=-1&&n!=C){var a=N.p0.oM(o,this.RZ,n,!0,null,!1);o.V4(a[0]);o.T=a[1];
W[3]=n}}this.N4(o,S);if(T)N.y9.FK(o,O,T)};N.y9.prototype.aFe=function(o,P){var w=N.QC(o,this.C$);P=[P.x,P.y];
var x=o.nr(),z=o.Qq();for(var I=0;I<x[0].length;I++){var S=x[0][I],k=x[1][I];if(k!=-1&&k!=z)continue;
if(Math.abs(S[1]-P[S[0]])<w)return I}return null};N.y9.prototype.Z7=function(o,P,w,x,z,S){if(this.Q==0){if(z)N.y9.CN(o,this.RZ,this.r9,z);
else N.y9.D8(o,this.RZ,this.r9,P,w)}else if(this.Q==1){var k=this.OF.data;k.RL.offset(P,w);N.y9.Kf(o,k.r,P,w)}else if(this.Q==2){var f=1e-4;
if(S)f=o.s.D<=1?10:1;var C=f*Math.round(x.x/f),H=f*Math.round(x.y/f),b=[C,H],i=o.r_[this.RZ];i[1]=b[i[0]]}else if(this.Q==3){var M=this.__,T=e.a.RR([M.x,M.y,x.x,x.y]);
this.BN=T;var O=[];o.root.fH(T,O);if(JSON.stringify(o.T)!=JSON.stringify(O)){o.T=O;o.yS=o.wI=!0}}else if(this.Q==4){for(var I=0;
I<o.jM.length;I++)o.Cg[o.jM[I]].rect.offset(P,w);o.yW=!0}};N.y9.Kf=function(o,P,w,x){var z=o.R[P];o.e.rect.offset(w,x);
z.yD(o,w,x,o.e);o.Gr=!0;o.N()};N.y9.prototype.I2=function(o,P,w,x,z,S){this.Iw(o,z,w);this.N4(o);if(Date.now()-this.Ba<300&&!S){var k=N.td.JI(o,o.s.hI(z.x,z.y));
if(N.y9.uJ(w,z,o.s,!0)){var f=new bO(G.E.X);if(z.y>o.s.Si._-20){f.data={Q:G.l.y7,hq:"doczoom",Lz:o.s.D*100,o0:{K:G.E.z,I:N.QP,o:{Q:"pzoom"}}}}else{f.data={Q:G.l.y7,hq:"preferences"}}P.j(f)}else if(k>=0){var C=new bO(G.E.z,!0);
C.I=N.cR;C.data={Q:"editCurr",sJ:k};P.j(C)}}this.Ba=Date.now();N.A0.Sh(o)};N.y9.prototype.Iw=function(o,P,w,x,z){if(!this.dt)return;
this.dt=!1;if(this.Q==0){if(x){this.ajX(o,null,x,z)}else{if(this.qn.x==0&&this.qn.y==0)return;this.ajX(o,this.qn.clone())}o.dH=!0}else if(this.Q==2){var S=0;
P=[P.x,P.y];var k=this.RZ,f=o.r_[k],dY=this.dK[0].length,C=o.r_.length;if(w.xn&&P[f[0]]<e.PX.Xo){var H=o.nr();
H[0].splice(k,1);H[1].splice(k,1);o.sp(H);S=1;if(dY==C-1)return}if(dY<C)S=2;var b=new d5([[23,2],[23,3],[23,4]][S],this);
b.data={Q:2,dK:this.dK,Mm:o.nr()};o.Oi(b)}else if(this.Q==4){var b=new d5([12,54],this);b.data={Q:4,T:o.jM.slice(0),f:this.qn.clone()};
o.Oi(b)}this.qn.Mx(0,0)};N.y9.prototype.xF=function(o,P,w,x){var z=x.Tl(o?o.s.$N:0);if(o!=null&&(z.x!=0||z.y!=0)){if(x.d(i$.JV)&&o.e==null){var S=new bO(G.E.z);
S.I=N.jc;S.data={Q:X.Ck,asq:!0};P.j(S)}this.qn.Mx(z.x,z.y);this.rO(o,P,x,w,!1);if(!this.dt)return;this.Z7(o,z.x,z.y);
this.Iw(o,null,w);this.N4(o)}var k=x.d(i$.Jm);if(!this.$0&&this.aiG!=k){if(k){this.agm=this.Yx.HC;this.Yx.HC=!0}else{this.Yx.HC=this.agm}this.aiG=k;
var f=new bO(G.E.X,!0);f.data={Q:G.l.ay,I:this.id,J0:this.Yx};P.j(f)}};N.y9.prototype.kW=function(o,P){if(o.Q==0){var w=o.X_;
if(w){P.V4(w.vc);P.T=w.I3.slice(0);P.N();P.yS=!0}N.y9.CN(P,o.T,o.xK,o.ze,!0);N.A0.Sh(P)}else if(o.Q=="fcmy"||o.Q=="fvec"){if(o.Lz==0)delete P.add[o.Q];
else P.add[o.Q]=o.Lz;P.yW=!0}else if(o.Q=="pview"){P.kz=!P.kz;P.N()}else if(o.Q==2){P.sp(o.dK);P.yW=!0}else if(o.Q==4){for(var I=0;
I<o.T.length;I++)P.Cg[o.T[I]].rect.offset(-o.f.x,-o.f.y);P.yW=!0}else{var x=P.R[o.r];if(o.Nv){x.JE(P,o.aA);
P.e=o.jO;P.Gr=!0;P.N();x.N()}else{N.y9.Kf(P,o.r,-o.RL.x,-o.RL.y)}}};N.y9.prototype.Lv=function(o,P){if(o.Q==0){N.y9.CN(P,o.T,o.xK,o.ze);
var w=o.X_;if(w){P.V4(w.O$);P.T=w.Tg.slice(0);P.N();P.yS=!0}N.A0.Sh(P)}else if(o.Q=="fcmy"||o.Q=="fvec"){if(o.OL==0)delete P.add[o.Q];
else P.add[o.Q]=o.OL;P.yW=!0}else if(o.Q=="pview"){P.kz=!P.kz;P.N()}else if(o.Q==2){P.sp(o.Mm);P.yW=!0}else if(o.Q==4){for(var I=0;
I<o.T.length;I++)P.Cg[o.T[I]].rect.offset(o.f.x,o.f.y);P.yW=!0}else{var x=P.R[o.r];if(o.Nv){x.YK=o.YK;
P.e=o.GM;N.y9.Kf(P,o.r,0,0);x.N()}else{N.y9.Kf(P,o.r,o.RL.x,o.RL.y)}}};N.y9.prototype.ajX=function(o,P,w,x){if(w){var z=!0;
for(var I=0;I<w.length;I++)if(w[I]!=0)z=!1;if(z)return}var S=o.history[o.Mi],k=this.pG,f=k!=null&&k[3]!=-1&&k[0]==o;
if(!f&&w==null&&S.data&&S.I==this&&S.data.Q==0&&JSON.stringify(S.data.T)==JSON.stringify(this.RZ)&&JSON.stringify(S.data.xK)==JSON.stringify(this.r9)){var C=S.data.ze,H=S.data.ae8.WP.T.v;
H.Hrzn.v.val+=P.x;H.Vrtc.v.val+=P.y;for(var I=0;I<C.length;I+=2){C[I]+=P.x;C[I+1]+=P.y}}else{if(P==null)P=new eD(w[0],w[1]);
var b={wQ:"move",WP:{classID:"null",null:h7.TZ("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:P.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:P.y}}}}}},i=null;
if(f)i={vc:k[1],I3:k[2],O$:o.R.slice(0),Tg:o.T.slice(0)};this.pG=null;var M=new d5(x?x:[12,54],this);
if(w)M.data={Q:0,T:this.RZ,xK:this.r9,X_:i,ze:w};else M.data={Q:0,T:this.RZ,xK:this.r9,X_:i,ze:N.y9.ayM(this.RZ,P.x,P.y)};
M.data.ae8=b;o.Oi(M);this.track(b)}};N.y9.ayM=function(o,P,w){var x=[];for(var I=0;I<o.length;I++)x.push(P,w);
return x};N.y9.D8=function(o,P,w,x,z){N.y9.CN(o,P,w,N.y9.ayM(P,x,z))};N.y9.CN=function(o,P,w,x,z){if(P.length==0)return;
if(w==null){w=[];for(var I=0;I<P.length;I++){w.push(o.R[P[I]].ZC(o,!0))}}var S=new fA,k=new fA(0,0,o.q,o._);
for(var I=0;I<P.length;I++){var f=x[2*I],C=x[2*I+1];if(z){f=-f;C=-C}var H=o.R[P[I]],b=w[I];if(H.add.fxrp&&(b.indexOf(0)!=-1||H.aj()))H.add.fxrp.offset(f,C);
for(var i=0;i<b.length;i++){var M=b[i];if(M==0){H.rect.offset(f,C);if(H.zO()&&H.fP(o))H.fP(o).rect.offset(f,C);
if(H.add.artb){var T=H.sK();T.offset(f,C);H.VZ(T);var O=H.add.artb.guideIndeces;O=O?O.v:[];for(var Y=0;
Y<O.length;Y++){var U=o.r_[O[Y].v];U[1]+=U[0]==0?f:C}}if(H.add.TySh){H.add.TySh.h.translate(f,C);if(H.add.TySh.add){H.add.TySh.add.vmsk.offset(f,C)}}if(H.add.SoLd){var W=new ar(1,0,0,1,f,C),t=H.add.SoLd,_=N.DH.PU(t.Trnf),n=N.DH.PU(t.nonAffineTransform);
e.a.h(_,W,_);e.a.h(n,W,n);t.Trnf=N.DH.Co(_);t.nonAffineTransform=N.DH.Co(n);N.DH.atJ(t,W)}}if(M==1)H.Jq().rect.offset(f,C);
if(M==2){H.add.vmsk.offset(f,C);if(H.add.vogk)e.KH.h(H.add.vogk,[1,0,f,0,1,C,0,0],[]);if(H.Mn.q6){var y=H.Mn.q6.OE.i;
e.a.h(y,new ar(1,0,0,1,f,C),y)}}if(M==3){H.fP(o).u.rect.offset(f,C);if(b.length==1)H.N()}}if(b.length>0){var F=H.add.GdFl;
if(F==null)F=H.add.PtFl;if(H.aj()&&!H.FS()&&H.add.vmsk!=null&&e.n.mI(H.add.vmsk.g)&&H.add.vmsk._F==255&&(F==null||F.Algn&&F.Algn.v)){H.rect.offset(f,C)}else H.qX(o);
var a=o.root.LE(H.yq(o),o,P[I]);if(H.add.artb)a=a.It(H.sK());S=S.It(a);a.offset(-f,-C);S=S.It(a);if(H.Sf()&&H.u&&H.u.color==255)S=S.It(k);
H.a0k()}}o.N(e.a.lY(S))};N.y9.a8a=function(o,P){var w=[];for(var I=0;I<P.length;I++){var x=o.R[P[I]];
w.push(x.ZC(o))}return w};N.y9.FK=function(o,P,w){var x={i:[],LG:[]},z=P.x+w[0],S=P.y+w[1];if(w[2]!=1e9){x.LG.push("M","L");
var k=S+P._;if(w[4])x.i.push(w[2],Math.min(S,k,w[4][1]),w[2],Math.max(S,k,w[4][1]));else x.i.push(w[2],S,w[2],S+P._)}if(w[3]!=1e9){x.LG.push("M","L");
var f=z+P.q;if(w[5])x.i.push(Math.min(z,f,w[5][0]),w[3],Math.max(z,f,w[5][0]),w[3]);else x.i.push(z,w[3],f,w[3])}if(x.i.length!=0){o.t.k2=x;
o.yW=!0}};N.y9.Qx=function(o,P,w,x){var z=N.y9.aqH(o,[[P.x],[P.y]],w,x);return new eD(P.x+z[0],P.y+z[1])};
N.y9.wa=function(o,P,w,x,z){var S=z==!0?1:.5,k=N.y9.aqH(o,[[P.x,P.x+Math.round(P.q*S),P.x+P.q],[P.y,P.y+Math.round(P._*S),P.y+P._]],w,x);
return k};N.y9.aqH=function(o,P,w,x){if(x==null)x=[!0,null,!0];var z=[0,0,1e9,1e9,null,null];if(!w.dT)return z;
var S=JSON.parse(JSON.stringify(P));for(var k=0;k<2;k++){var f=1e9,C=P[k],H=0,b=null;for(var i=0;i<C.length;
i++){var M=N.y9.aCN(o,C[i],S[1-k][i],k,w,x),T=M[0];if(T!=1e9)S[k][i]=T;if(T!=1e9&&Math.abs(T-C[i])<Math.abs(f)){f=T-C[i];
H=T;b=M[1]}}if(f!=1e9){z[k]=f;z[k+2]=H;z[k+4]=b}}return z};N.y9.aCN=function(o,P,w,x,z,S){var k=1e9,f=null,C=z.By,H=z.Xp,b=[o.root];
while(b.length!=0&&C[2]){var i=b.pop(),M=i.r,T=M.rect;if(!M.ny())continue;if(i.children)for(var I=0;
I<i.children.length;I++)b.push(i.children[I]);if(o.T.indexOf(i.index)!=-1||T.Mw())continue;var O=T.q,Y=O>>>1,U=T._,W=U>>>1,t=k;
if(x==0){if(Math.abs(T.x-P)<Math.abs(k-P))k=T.x;if(Math.abs(T.x+Y-P)<Math.abs(k-P))k=T.x+Y;if(Math.abs(T.x+O-P)<Math.abs(k-P))k=T.x+O}else{if(Math.abs(T.y-P)<Math.abs(k-P))k=T.y;
if(Math.abs(T.y+W-P)<Math.abs(k-P))k=T.y+W;if(Math.abs(T.y+U-P)<Math.abs(k-P))k=T.y+U}if(t!=k){f=[T.x+Y,T.y+W]}}var _=k;
k=1e9;if(S[0]&&C[0]&&H.r_&&z.Ph){var n=o.nr(),y=n[0],F=n[1],a=o.Qq();for(var I=0;I<y.length;I++)if((F[I]==-1||F[I]==a)&&y[I][0]==x&&Math.abs(y[I][1]-P)<Math.abs(k-P))k=y[I][1]}if(C[1]&&H.u2&&z.Ph){var V=Math.round(e.PX.X9(H.ft,o.vz,o.q,H.jp));
if(x==1&&H.p1==1){var D=w*.5*Math.sqrt(4/3),l;V*=Math.sqrt(4/3);l=Math.round((P-D)/V)*V+D;if(Math.abs(l-P)<Math.abs(k-P))k=l;
l=Math.round((P+D)/V)*V-D;if(Math.abs(l-P)<Math.abs(k-P))k=l}else{var l=Math.round(P/V)*V;if(Math.abs(l-P)<Math.abs(k-P))k=l}}var Q=o.zV;
if(C[3]&&H.zV&&z.Ph&&Q.length!=0){for(var I=0;I<Q.length;I++){if(!S[2]&&o.gf.indexOf(I)!=-1)continue;
var m=N.H_.R$(Q,I);for(var R=0;R<3;R+=2)if(m[R+x]!=P&&Math.abs(m[R+x]-P)<Math.abs(k-P))k=m[R+x]}}if(S[1])for(var $=0;
$<S[1].length;$++){var T=S[1][$],O=T.q,U=T._,Y=O>>>1,W=U>>>1;if(S[3]){Y=O/2;W=U/2}var p=[T.x,T.y,T.x+Y,T.y+W,T.x+O,T.y+U];
for(var I=0;I<6;I+=2)if(Math.abs(p[I+x]-P)<Math.abs(k-P))k=p[I+x]}if(C[4]){var T=new fA(0,0,o.q,o._),a=o.Qq();
if(a!=-1)T=o.R[a].sK();var O=T.q,U=T._,Y=O>>>1,W=U>>>1;if(S[3]){Y=O/2;W=U/2}var p=[T.x,T.y,T.x+Y,T.y+W,T.x+O,T.y+U];
for(var I=0;I<6;I+=2)if(Math.abs(p[I+x]-P)<Math.abs(k-P))k=p[I+x]}if(Math.abs(k-P)<=Math.abs(_-P))f=null;
else k=_;var c=Math.abs(k-P)<=4*N.M()/o.s.D?k:1e9;return[c,f]};N.Xz=function(){N.z$.call(this,[10,12],N.PA,"tools/mwand");
this.ml=null};N.Xz.prototype=new N.z$;N.Xz.prototype.yR=function(o,P,w,x){this.ml=x;this.a9x=this.Yx.wconf[0];
this.finish(o,P,w,x)};N.Xz.prototype.yH=function(o,P,w,x,z){if(!x.ZO)return;var S=new bO(G.E.z);S.I=N.cw;
S.data={Q:"h_stepbck"};z.j(S);var k=x.x-this.ml.x,f=Math.max(0,Math.min(255,Math.round(this.a9x+k/4)));
this.Yx.wconf[0]=f;this.rP(z);this.finish(o,P,w,this.ml)};N.Xz.prototype.D4=function(o,P,w,x,z){this.Yx.wconf[0]=this.a9x;
this.rP(z)};N.Xz.prototype.getSelection=function(o,P,w,x){var z=this.Aq;z=o.s.hI(x.x,x.y);var S=N.z$.aF$(new eD(Math.floor(z.x),Math.floor(z.y)),this.Yx.wconf,this.Yx.sall);
return S};N.Xz.a74=function(o,P,w,x,z){if(P.x<0||P.x>o.q||P.y<0||P.y>o._)return null;var S,k=new fA(0,0,o.q,o._);
if(x)S=o.Ey();else{var f=o.T.length,H=null;if(f!=1){alert(f==0?"No layer selected.":"More than one layer selected.");
return null}var C=o.R[o.T[0]],b=C.Zx<=0?null:C.Zx==1?C.Jq():C.fP(o).u;if(z||b&&b._8)H=b;if(H==null&&C.add.lsct!=null&&C.add.lsct!=jS.qi){alert("No layer selected.");
return null}if(H==null&&k.w6(C.rect))S=C.buffer;else{S=e.U(k.c()*4);if(H==null)e.sR(C.buffer,C.rect,S,k);
else N.tB.V7(H.channel,H.rect,H.color,S,k)}}var i=N.Xz.E4(S,k,P,null,w),M=e.zG(i,k),T=e.U(M.c());e.d0(i,k,T,M);
return{rect:M,channel:T}};N.Xz.tu=function(o,P,w){var x=P.q,z=P._,k=0,f=0,C=0,H=0;o=new Uint32Array(o.buffer);
var S=[],b=w.length;for(var I=0;I<b;I++){var i=w[I],M=Math.round(i.x-.5-P.x),T=Math.round(i.y-.5-P.y);
M=Math.max(0,Math.min(x-1,M));T=Math.max(0,Math.min(z-1,T));var O=T*x+M,Y=o[O];S.push([Y&255,Y>>8&255,Y>>16&255,Y>>>24])}return S};
N.Xz.E4=function(o,P,w,x,z){o=new Uint32Array(o.buffer);var S=P.q,k=P._,f=S*k;if(x==null)x=N.Xz.tu(o,P,[w]);
var C=Math.round(w.x-.5-P.x),H=Math.round(w.y-.5-P.y),b=H*S+C,i=Date.now(),M=e.U(S*k),T=z[0],O=1/T,Y=z[1]&&T>0?255:0;
if(z[2]){var U=e.U(M.length),W=new Uint32Array(f),t=1;W[0]=C<<16|H;U[b]=1;while(t>0){var _=W[t-1];t--;
var n=_>>>16,y=_&65535,I=y*S+n,F=N.Xz.kH(o[I],x);if(F>T){var a=Y*(1-Math.max(0,Math.min(1,(F-T)*O)));
M[I]=~~a}else{M[I]=255;if(y!=k-1&&U[I+S]==0){W[t++]=n<<16|y+1;U[I+S]=1}if(y!=0&&U[I-S]==0){W[t++]=n<<16|y-1;
U[I-S]=1}if(n!=S-1&&U[I+1]==0){W[t++]=n+1<<16|y;U[I+1]=1}if(n!=0&&U[I-1]==0){W[t++]=n-1<<16|y;U[I-1]=1}}}}else{for(var I=0;
I<f;I++){var F=N.Xz.kH(o[I],x);if(F<=T)M[I]=255}for(var y=0;y<k;y++)for(var n=0;n<S;n++){var I=y*S+n;
if(M[I]==0&&(n>0&&(M[I-1]==255||y>0&&M[I-S-1]==255||y<k-1&&M[I+S-1]==255)||n<S-1&&(M[I+1]==255||y>0&&M[I-S+1]==255||y<k-1&&M[I+S+1]==255)||y>0&&M[I-S]==255||y<k-1&&M[I+S]==255)){var F=N.Xz.kH(o[I],x),a=Y*(1-Math.max(0,Math.min(1,(F-T)*O)));
M[I]=~~a}}}return M};N.Xz.kH=function(o,P){var w=P.length,x=N.Xz.a6u(o,P[0]),I=1;while(I!=w){x=Math.min(x,N.Xz.a6u(o,P[I]));
I++}return x};N.Xz.a6u=function(o,P){var w=o&255,x=o>>>8&255,z=o>>>16&255,S=o>>>24&255;if(P[3]==0)return S<5?0:255;
var k=Math.max(Math.abs(w-P[0]),Math.max(Math.abs(x-P[1]),Math.abs(z-P[2])));return S==0?255:k};N.TU=function(o,P){if(P)N.tB.call(this);
else if(o)N.tB.call(this,[10,49],N._t,"tools/camove");else N.tB.call(this,[10,26],N.tY,"tools/patch");
this.Az=null;this.q6=null;this.f=null;this.gu=null;this.YF=new eD;this.kx=null;this.Z4=null};N.TU.prototype=new N.tB;
N.TU.prototype.aE=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y);if(o.e&&e.Vz(S,o.e.channel,o.e.rect)){var k=new fA(0,0,o.q,o._),f=k.SN(o.e.rect);
if(!o.p9()||f.Mw())return;if(!0){var C=e.U(f.c());e.d0(o.e.channel,o.e.rect,C,f);o.e={channel:C,rect:f}}this.jP(o);
this.c4(o);this.gu=S;this.YF=new eD(S.x-o.e.rect.x,S.y-o.e.rect.y);this.Z4=e.U(o.e.rect.c()*4);this.Z4.fill(255);
if(this.Yx.patch==1){var H=o.R[o.T[0]];H.ZH(o,o.e,!0);if(H.YK==null)this.gu=null}this.kx=o.e.rect.clone()}else{this.q6={i:[S.x,S.y],LG:["M"]};
this.Az=S}};N.TU.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y);if(this.gu){if(this.Yx.patch==1){if(o.jM.length==0){var k=o.R[o.T[0]].YK,f=S.x-this.YF.x,C=S.y-this.YF.y;
N.y9.Kf(o,o.T[0],Math.round(f-k.Yz.x),Math.round(C-k.Yz.y))}}else this.aom(o,S,"clone")}if(this.Az){this.q6.LG.push("L");
this.q6.i.push(S.x,S.y);this.Az=S;o.t.Uq=this.q6;o.yW=!0}};N.TU.prototype.I2=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y);
if(this.gu){var k=o.e.rect.clone();if(this.id==N._t){var f=o.R[o.T[0]];f.JE(o,f.YK);o.e.rect=this.kx.clone();
var C=e.U(o.e.rect.c()*4);e.lI(o.e.channel,C,3);this.sC(o,"sheal",C,o.e.rect,o.e.rect);o.e.rect=k;k=k.It(this.kx)}this.aom(o,S,"heal");
this.finish(o,k,null,null,!0);o.N(k);this.gu=null}if(this.Az){var H=N.z$.gj(this.Yx.setop,x.d(i$.W1),x.d(i$.JV)),b=new bO(G.E.qc,!0);
if(this.q6.i.length<=4)b.data=N.z$.Xw();else b.data=N.z$.jt(this.q6.i,H);P.j(b);this.Az=null;o.t.Uq=null;
o.yW=!0}};N.TU.prototype.hg=function(){return this.f};N.TU.prototype.KU=function(o,P,w,x,z){N.tB.prototype.KU.call(this,o,P,w,x,z);
this.O4(z,x)};N.TU.prototype.O4=function(o,P){var w="auto;";if(P!=null&&P.d(i$.W1)&&!P.d(i$.JV)||this.Yx.setop=="union")w="copy";
var x=new bO(G.E.X,!0);x.data={Q:G.l.iu,GP:w};if(this.caller)this.caller.j(x)};N.TU.prototype.aom=function(o,P,w){var x=new eD(Math.round(this.gu.x-P.x),Math.round(this.gu.y-P.y));
if(this.Yx.patch==1)x.Mx(-x.x,-x.y);this.f=x;this.sC(o,w,this.Z4,o.e.rect,o.e.rect);this.N(o,o.e.rect)};
N.awh=function(){N.TU.call(this,!0);this.Yx.patch=1};N.awh.prototype=new N.TU(!0,!0);N.Th=function(o){if(o)N.tB.call(this,[10,52],N.aov,"tools/meraser");
else N.tB.call(this,[10,13],N.aql,"tools/pbucket");this.GW=!1;this.aye=o};N.Th.prototype=new N.tB;N.Th.prototype.enable=function(o,P,w,x){var z=new bO(G.E.X,!0);
z.data={Q:G.l.iu,GP:"default"};P.j(z)};N.Th.prototype.RU=function(o,P){};N.Th.prototype.aE=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z,!0))return;
this.GW=!0};N.Th.prototype.Dv=function(o,P,w,x,z){if(this.Sj(o,P,w,x,z))return};N.Th.prototype.I2=function(o,P,w,x,z,S){this.enable(o,P,w,x);
var k=this.GW;this.GW=!1;if(!k||S)return;if(!o.p9())return;var f=o.s.hI(z.x,z.y),C=N.Xz.a74(o,f,this.Yx.wconf,this.Yx.sall,!0);
if(C==null)return;var H=e.U(C.rect.c()*4);e.ZT(H,(w.AB&255)<<16|(w.AB>>8&255)<<8|(w.AB>>16&255)<<0);
e.lI(C.channel,H,3);this.jP(o);this.sC(o,this.aye?"erase":"draw",H,C.rect,C.rect);this.N(o,C.rect);this.finish(o,C.rect)};
N.PJ=function(){N.z$.call(this,[10,14],N.axd,"tools/plasso");this.nM="crosshair";this.op=[];this.Uc=null;
this.q6=null;this.aw3=0};N.PJ.prototype=new N.z$;N.PJ.prototype.disable=function(o,P,w,x){this.Rr(o)};
N.PJ.prototype.yR=function(o,P,w,x){this.op=[i$.bc,i$.aa]};N.PJ.prototype.qD=function(o){return this.op.indexOf(o)!=-1};
N.PJ.prototype.Hg=function(o){return this.q6!=null};N.PJ.prototype.XW=function(){return this.q6!=null};
N.PJ.prototype.vo=function(){return this.q6!=null};N.PJ.prototype.yH=function(o,P,w,x){if(this.q6==null)return;
var z=this.q6,S=z.i,k=S.length-2,f=this.Aq;if(this._R.Nz(1)&&w.d(i$.JV)&&x.ZO){S.push(0,0);z.LG.push("L");
k+=2}else if(w.d(i$.W1))f=N.BB.pz(new eD(S[k-2],S[k-1]),f);S[k]=f.x;S[k+1]=f.y;o.t.Uq=z;o.yW=!0};N.PJ.prototype.D4=function(o,P,w,x){var z=Date.now();
if(this.q6==null)this.q6={i:[this.Aq.x,this.Aq.y,this.Aq.x,this.Aq.y],LG:["M","L"]};else{this.yH(o,P,w,x);
if(z-this.aw3<250||eD.a_(this.Aq,new eD(this.q6.i[0],this.q6.i[1]))<N.QC(o,x)){this.Uc=this.q6;this.finish(o,P,w,x);
this.Rr(o);return}this.q6.LG.push("L");this.q6.i.push(this.Aq.x,this.Aq.y)}this.aw3=z;o.t.Uq=this.q6};
N.PJ.prototype.Rr=function(o){this.q6=null;this.op=[];if(o!=null){o.t.Uq=null;o.yW=!0}};N.PJ.prototype.xF=function(o,P,w,x){N.z$.prototype.xF.call(this,o,P,w,x);
if(x.d(i$.Sk)&&this.q6==null&&this.Uc&&o.e!=null){var z=new bO(G.E.z);z.I=N.cw;z.data={Q:"h_stepbck"};
P.j(z);this.yR(o,w,x,null);this.q6=this.Uc;return}if(this.q6==null)return;if(x.d(i$.bc)||x.d(i$.aa)){this.q6.i.pop();
this.q6.i.pop();this.q6.LG.pop();this.yH(o,w,x)}if(x.d(i$.w_)){if(this.q6.i.length>4){this.Uc=this.q6;
this.finish(o,w,x)}this.q6=null}if(x.d(i$.Sk)){this.q6=null}o.t.Uq=this.q6;o.yW=!0};N.PJ.prototype.getSelection=function(o,P,w,x){return N.z$.jt(this.q6.i,null,this.Yx.anta)};
N.fc=function(){N.z$.call(this,[10,10],N.a1i,"tools/mlasso");this.nM="crosshair";this.op=[];this.g=[];
this.LM=[];this.D3=[];this.aCL=null;this.aDG=0;this.lx=null;this.hE=null;this.Ba=0;this.aP=0};N.fc.prototype=new N.z$;
N.fc.prototype.disable=function(o,P,w,x){this.clear(o)};N.fc.prototype.Hg=function(o){return this.g.length!=0};
N.fc.prototype.vo=function(){return this.g.length!=0};N.fc.prototype.qD=function(o){return this.op.indexOf(o)!=-1};
N.fc.prototype.yR=function(o,P,w,x){this.op=[i$.bc,i$.aa];var z=this.Jh(this.FG,o);if(this.g.length!=0&&(eD.a_(z,this.g[0])<N.QC(o,x)||Date.now()-this.Ba<300)){this.sx(o,this.g[0]);
this.finish(o,P,w);this.clear(o);return}this.Ba=Date.now();if(this.g.length!=0)z=this.N2(z,o);else{var S=o.q,k=o._,f=o.Ey(),C=UZIP.adler(f,0,f.length);
if(C==this.aDG){}else{var H=e.U(S*k),b=S*k*4;for(var I=0;I<b;I+=4)H[I>>>2]=~~(.5+e.Rb(f[I],f[I+1],f[I+2])*(f[I+3]*(1/255)));
this.aCL=e.$c.a6U(H,S,k);this.aDG=C}this.hE=new Uint16Array(S*k)}this.sx(o,z);this.aP=w.d(i$.JV)?1:0;
this.qs(o)};N.fc.prototype.sx=function(o,P){var w=this.g;this.LM[w.length]=this.D3.length;if(w.length!=0){e.$c.gF(this.lx,P.y*o.q+P.x);
var x=this.Cq(o,P);x.reverse();var z=N.fc.axj(o,x);this.D3=this.D3.concat(z)}w.push(P);this.ave(o)};
N.fc.prototype.ave=function(o){var P=this.g[this.g.length-1],w=P.y*o.q+P.x;this.lx=e.$c.az5(this.aCL,w,o.q,o._);
this.hE.fill(0)};N.fc.prototype.Jh=function(o,P){return new eD(Math.floor(Math.max(0,Math.min(P.q-1,o.x))),Math.floor(Math.max(0,Math.min(P._-1,o.y))))};
N.fc.prototype.clear=function(o){this.D3=[];this.g=[];this.LM=[];this.lx=null;this.hE=null;if(o!=null){o.t.Uq=null;
o.t.Ra=[];o.yW=!0}this.op=[]};N.fc.prototype.yH=function(o,P,w,x){var z=this.g,S=z.length;if(S==0)return;
var k=this.N2(this.Jh(this.Aq,o),o),f=this.Cq(o,k);for(var I=0;I<f.length;I++){var C=f[I],H=new eD(C%o.q,Math.floor(C/o.q));
if(this.hE[C]>30&&eD.a_(H,z[S-1])>20){this.sx(o,H);return}this.hE[C]++}if(this.aP==1&&x.ZO)this.sx(o,k);
this.qs(o)};N.fc.prototype.qs=function(o){var P=this.g;if(P.length!=0){var w=this.N2(this.Jh(this.Aq,o),o),x=this.Cq(o,w);
x.reverse();var z=N.fc.axj(o,x),S=this.D3.concat(z),k=o.t.Uq={i:S,LG:["M"]};for(var I=2;I<S.length;I+=2)k.LG.push("L")}o.t.Ra=[];
for(var I=0;I<P.length;I++)o.t.Ra.push(P[I].x+.5,P[I].y+.5);o.yW=!0};N.fc.prototype.D4=function(o,P,w,x){};
N.fc.prototype.xF=function(o,P,w,x){if(this.g.length==0)return;if(x.d(i$.bc)||x.d(i$.aa)){this.g.pop();
this.D3=this.D3.slice(0,this.LM[this.g.length]);this.LM.pop();if(this.g.length==0)this.clear(o);else this.ave(o);
this.qs(o)}if(x.d(i$.w_)){var z=this.Jh(this.Aq,o);this.sx(o,z);this.finish(o,w,x);this.clear(o)}if(x.d(i$.Sk)){this.clear(o)}};
N.fc.prototype.getSelection=function(o,P,w,x){return N.z$.jt(this.D3,null,this.Yx.anta)};N.fc.prototype.Cq=function(o,P){var w=this.g[this.g.length-1],x=w.y*o.q+w.x,z=P.y*o.q+P.x;
if(this.aP==1)return[z,x];var S=[z];while(z!=x){z=z+this.lx.dR[z];S.push(z);if(S.length>5e3){console.log(S);
throw"e"}}return S};N.fc.axj=function(o,P){var w=[],x=o.q;for(var I=0;I<P.length;I++){var z=P[I];w.push(z%x+.5,Math.floor(z/x)+.5)}return w};
N.fc.prototype.N2=function(o,P){var w=P.q,x=P._,z=o.clone(),k=3;e.$c.gF(this.lx,o.y*w+o.x);var S=this.lx.RN[o.y*w+o.x];
for(var f=-k+1;f<k;f++)for(var C=-k+1;C<k;C++){var H=o.x+C,b=o.y+f;if(H<0||H>=w||b<0||b>=x)continue;
e.$c.gF(this.lx,b*w+H);if(this.lx.RN[b*w+H]<S)z.Mx(H,b)}return z};N.x2=function(){N.Qf.call(this,[10,36],N._n,"tools/ruler");
this.Qo=null;this.qy=null;this.A1=null;this.zQ=null;this.EK=null};N.x2.prototype=new N.Qf;N.x2.prototype.Hg=function(o){return o.ZO};
N.x2.prototype.enable=function(o,P,w,x){N.Qf.prototype.enable.call(this,o,P,x,w);if(o){this.N4(o)}};
N.x2.prototype.disable=function(o,P,w,x){if(o)this.Rr(o)};N.x2.prototype.eq=function(o,P,w,x,z){if(o.Q=="unit"){var S=this.Qo,k=o.P;
w.Pf={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:k[0]},logicalLength:{t:"doub",v:k[1]},logicalUnits:{t:"TEXT",v:k[2]}}}};
this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,jJ:S[0],Gt:S[1],$V:S[2],vz:w.vz,aeT:w.q,Pf:w.Pf})}if(o.Q=="reset"){this.Qo=this.A1=null;
this.N4(w)}};N.x2.prototype.aE=function(o,P,w,x,z){var S=N.QC(o,z),k=o.s.hI(z.x,z.y);k.x=Math.round(k.x);
k.y=Math.round(k.y);var f=this.Qo;this.qy=f?f.slice(0):null;var C=f&&eD.a_(k,f[0])<S,H=f&&eD.a_(k,f[1])<S,b=f&&f[2]&&eD.a_(k,f[2])<S;
if(C||H||b){if(x.d(i$.JV)&&f.length==2){if(H){var i=f[0];f[0]=f[1];f[1]=i}f[2]=f[0].clone();this.A1=[2]}else this.A1=[C?0:H?1:2]}else if(f&&N.x2.aie(f[0],f[1],k)<S&&Math.min(f[0].x,f[1].x)-5<=k.x&&k.x<=Math.max(f[0].x,f[1].x)+5&&Math.min(f[0].y,f[1].y)-5<=k.y&&k.y<=Math.max(f[0].y,f[1].y)+5){this.A1=[];
this.EK=[];for(var I=0;I<f.length;I++){this.A1.push(I);this.EK.push(f[I].clone())}this.zQ=k}else{this.Qo=[k.clone(),k.clone()];
this.A1=[1]}};N.x2.prototype.Dv=function(o,P,w,x,z){if(this.A1==null)return;var S=this.Qo,k=this.A1,f=o.s.hI(z.x,z.y);
f.x=Math.round(f.x);f.y=Math.round(f.y);if(k.length>1){var C=f.x-this.zQ.x,H=f.y-this.zQ.y;for(var I=0;
I<S.length;I++){S[I]=this.EK[I].clone();S[I].offset(C,H)}}else{S[k[0]].Mx(f.x,f.y);if(x.d(i$.W1)){S[k[0]]=N.BB.pz(S[1-k[0]],S[k[0]])}}this.N4(o);
this.$_(P,G.E.X,{Q:G.l.ay,I:this.id,jJ:S[0],Gt:S[1],$V:S[2],vz:o.vz,aeT:o.q,Pf:o.Pf});o.s.QF=e.a.RR([S[0].x,S[0].y,S[1].x,S[1].y])};
N.x2.prototype.I2=function(o,P,w,x,z,S){this.A1=null;if(S){this.Qo=this.qy.slice(0);this.N4(o)}};N.x2.prototype.$_=function(o,P,w){var x=new bO(P,!0);
x.data=w;o.j(x)};N.x2.prototype.N4=function(o){var P=this.Qo;if(P==null)this.Rr(o);else{var w=[P[1].x,P[1].y,P[0].x,P[0].y],x=["M","L"];
if(P.length>2){w.push(P[2].x,P[2].y);x.push("L")}o.t.Uq={LG:x,i:w};o.t.Ra=w}o.yW=!0};N.x2.prototype.Rr=function(o){o.t.Uq=null;
o.t.Ra=[]};N.x2.aie=function(o,P,w){var x=P.x-o.x,z=P.y-o.y,S=Math.abs(z*w.x-x*w.y+P.x*o.y-P.y*o.x),k=Math.sqrt(x*x+z*z);
return k==0?0:S/k};N.EY=function(){N.tB.call(this,[10,19],N.JR,"tools/sharpen");this.pw="copy"};N.EY.prototype=new N.tB;
N.EY.prototype.aE=function(o,P,w,x,z){var S=this.Yx.pdetail?j2.$l:j2.JR;if(x.d(i$.JV))S=j2.C3;this.XA(o,w,x,z,this.Yx.strn,S);
if(this.E9==null)return;this.cV(o)};N.EY.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.xH=function(){N.tB.call(this,[10,24],N.ma,"tools/shbrush");
this.pw="draw";this.Yx.opacity=.5};N.xH.prototype=new N.tB;N.xH.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,1);
if(this.E9==null)return;this.c4(o);this.cV(o)};N.xH.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);
if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.xH.prototype.I2=function(o,P,w,x,z){if(this.E9==null)return;
this.sC(o,"sheal",this.E9.$C(),this.E9.q_(),this.E9.wA(),null);this.N(o,this.E9.wA());N.tB.prototype.I2.call(this,o,P,w,x,z)};
N.vL=function(){N.tB.call(this,[10,20],N.MK,"tools/smudge");this.pw="copy"};N.vL.prototype=new N.tB;
N.vL.prototype.aE=function(o,P,w,x,z){var S=this.Yx.brush.toolOptions;this.XA(o,w,x,z,this.Yx.strn,j2.MK);
if(this.E9==null)return;this.cV(o)};N.vL.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.g1=function(){N.tB.call(this,[10,23],N.N6,"tools/sponge");
this.pw="sponge"};N.g1.prototype=new N.tB;N.g1.prototype.aE=function(o,P,w,x,z){this.XA(o,w,x,z,this.Yx.flow);
if(this.E9==null)return;this.cV(o)};N.g1.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);if(this.ls)this.HY(o,w,z);
if(this.E9==null)return;if(!z.ZO)return;this.N7(o,w,x,z);this.cV(o)};N.L0=function(){N.Qf.call(this,[10,17],N.QP,"tools/zoom");
this.Sd=!1;this.hc=!0;this.fL=!1;this.OU=0;this.Af=null;this.u8=null;this.nP=0;this.aw=null;this.aaV=0;
this.k5=new i4([{name:[8,0],$Y:"Ctrl + +"},{name:[8,1],$Y:"Ctrl + -",Pd:!0},{name:[20,3],$Y:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],$Y:"Ctrl + 1"}],[{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!0}},{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!1}},{K:G.E.z,I:N.QP,o:{Q:"adapt",P:"fitscr"}},{K:G.E.z,I:N.QP,o:{Q:"adapt",P:"pixel"}}])};
N.L0.prototype=new N.Qf;N.L0.prototype.Rd=function(o,P,w,x,z){var S=this.k5;S.S();S.parent=P;S.update(o,w);
var k=new bO(G.E.X,!0);k.data={Q:G.l.tZ,NP:S,x:z.P8+2,y:z.tm+1};P.j(k)};N.L0.prototype.enable=function(o,P,w,x){this.DX(P,x);
if(o&&Date.now()-this.OU<300)this.eq({Q:"adapt",P:"pixel"},P,o,x,w);this.OU=Date.now()};N.L0.prototype.aE=function(o,P,w,x,z){this.u8=new eD(z.x,z.y);
this.nP=o.s.D;this.aw=o.s.f.clone()};N.L0.prototype.Dv=function(o,P,w,x,z){if(this.u8==null)return;var S=Math.exp(Math.log(this.nP)+(z.x-this.u8.x)/64);
S=Math.max(.02,Math.min(N.L0.HJ[0],S));o.s.D=this.nP;o.s.f=this.aw.clone();this.eq({Q:"zoom",D:S,C$:this.u8,fL:this.fL},P,o,x,w)};
N.L0.prototype.I2=function(o,P,w,x,z){if(eD.a_(this.u8,z)<4){var S=this.afN(x);this.eq({Q:"zoom",hc:S,C$:z,fL:this.fL},P,o,x,w)}this.u8=null};
N.L0.HJ=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
N.L0.RF=function(o,P,w,x){var z=1;while(o*z*1/2>w||P*z*1/2>x)z*=1/2;if(o*z*2/3>w||P*z*2/3>x)z*=1/2;else if(o*z>w||P*z>x)z*=2/3;
return z};N.L0.a2G=function(o,P){var w=N.L0.ayJ(o);if(P&&w==0)return o;if(!P&&w==N.L0.HJ.length-1)return o;
return N.L0.HJ[P?w-1:w+1]};N.L0.ayJ=function(o){var P=0;while(N.L0.HJ[P]>o)P++;return P};N.L0.HG=function(o,P,w,x){var z=o.lg;
if(x==0||x==null){x=N.L0.a2G(o.D,w);if(x==o.D)return}var S=o.hI(P.x,P.y);S.x=Math.max(0,Math.min(z.q,S.x));
S.y=Math.max(0,Math.min(z._,S.y));if(!1){}else{var k=o.TL(),f=o.D/x;k.translate(-S.x,-S.y);k.scale(f,f);
k.translate(S.x,S.y);o.aAM(k)}};N.L0.prototype.eq=function(o,P,w,x,z){if(o.Q=="pzoom"){if(typeof o.P=="string")return;
o={Q:"zoom",D:o.P/100}}if(o.Q=="prvw"){w.add.prvw=1-w.add.prvw;w.yW=!0}var S=0,k=!1,f=null;if(o.Q=="adapt"){var C=0;
if(o.P=="pixel")C=1;if(o.P=="fitscr"){var C=0,H=w.s.Si.q,b=w.s.Si._,i=new fA(0,0,w.q,w._),M=e.a.R2(i).i,T=new ar;
T.rotate(w.s.$N);e.a.h(M,T,M);var O=e.a.w4(M),Y=z.xn?e.PX.Xo+4:8;C=Math.min((H-Y*2)/O.q,(b-Y*2)/O._);
w.s.f.Mx(0,0)}f=new eD(Math.round(w.s.Si.q/2),Math.round(w.s.Si._/2));S=C;N.L0.HG(w.s,f,k,S);w.dH=!0}if(o.Q.startsWith("multi")){function U(R){var Z=R[0].x-R[1].x,v=R[0].y-R[1].y;
return Math.sqrt(Z*Z+v*v)}function W(R){return new eD((R[0].x+R[1].x)/2,(R[0].y+R[1].y)/2)}function t(R){var Z=R[0].x-R[1].x,v=R[0].y-R[1].y;
return Math.atan2(v,Z)}var _=o.JQ,n=W(_);if(o.Q=="multidown"){this.Af=[_,w.s.D,w.s.hI(n.x,n.y),w.s.$N]}else{var y=N.L0.HJ,l=.15;
S=this.Af[1]*U(_)/U(this.Af[0]);S=Math.max(y[y.length-1],Math.min(y[0],S));if(S!=w.s.D)N.L0.HG(w.s,n,k,S);
var F=this.Af[2],a=w.s.vd(F.x,F.y),V=w.s.f;V.x=Math.round(V.x+n.x-a.x);V.y=Math.round(V.y+n.y-a.y);var D=this.Af[3]+(t(_)-t(this.Af[0]));
D=D%(2*Math.PI);while(D<0)D+=2*Math.PI;if(D<l||D>2*Math.PI-l)D=0;w.s.$N=D;w.dH=!0}}if(o.Q=="scroll"){f=o.C$;
var y=N.L0.HJ,Q=o.ci.y,m=1+Math.abs(Q)*8e-4*(o.akX?10:1);if(Q>0)m=1/m;S=w.s.D*m;N.L0.HG(w.s,f,k,Math.min(y[0],Math.max(y[y.length-1],S)));
w.dH=!0}if(o.Q=="zoom"){var R=o.fL?P.ux:[w];for(var I=0;I<R.length;I++){var $=R[I],p=$.s;f=o.C$?o.C$:new eD(Math.round(p.Si.q/2),Math.round(p.Si._/2));
if(o.D!=null)S=o.D;else k=o.hc;N.L0.HG(p,f,k,S);$.dH=!0}}if(o.Q=="mskView"){var c=w.R[w.T[0]];if(c.Zx<=0){c.Zx=1;
w.yS=!0}var B=c.Zx==3?c.fP(w).u:c.Jq();if(o.P==0){w.s.A=[1,1,1];B._8=!1}if(o.P==1){w.s.A=[1,1,1];B._8=!0}if(o.P==2){w.s.A=[0,0,0];
B._8=!0}for(var I=0;I<w.Cg.length;I++)w.Cg[I]._8=!1;w.jM=[];w.yW=!0}};N.L0.prototype.xF=function(o,P,w,x){if(this.Sd!=x.d(i$.JV)){this.Sd=x.d(i$.JV);
var z={Q:G.l.ay,I:this.id,Sd:this.Sd},S=new bO(G.E.X,!0);S.data=z;P.j(S);this.DX(P,x)}};N.L0.prototype.DX=function(o,P){var w=new bO(G.E.X,!0),x=this.afN(P);
w.data={Q:G.l.iu,GP:x?"zoom-in":"zoom-out"};o.j(w)};N.L0.prototype.KU=function(o,P,w,x){this.hc=o.hc;
this.fL=o.fL;this.DX(P,x)};N.L0.prototype.afN=function(o){var P=this.hc;if(o.d(i$.yi)&&o.d(i$.Jm))P=!0;
if(this.Sd)P=!P;return P};N.L0.akm=function(o,P){if(o.d(i$.wF)||o.d(i$.ahx)){P.I=N.QP;P.data={Q:"zoom",hc:!0}}if(o.d(i$.KZ)){P.I=N.QP;
P.data={Q:"zoom",hc:!1}}if(o.d(i$.pU)){P.I=N.QP;P.data={Q:"adapt",P:"fitscr"}}if(o.d(i$.x_)){P.I=N.QP;
P.data={Q:"adapt",P:"pixel"}}};N.b0=function(o,P,w){N.Qf.call(this,o,P,w);this.ya=null;this.r7=null;
this.BS=null;this.anF=0};N.b0.prototype=new N.Qf;N.b0.gU=function(o,P){var w={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},x=o==null?{classID:"null",null:w,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:w,Usng:{t:"type",v:{classID:o}},__name:"Stroke"};
if(P)x.Prs={t:"bool",v:!0};return{wQ:o==null?"fill":"stroke",WP:x}};N.b0.A2=function(I){var o={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},x;
if(I==3){var P=h7.TZ("Lyr",!0);P.v.unshift(o);return{wQ:"delete",WP:{classID:"Dlt",null:P}}}var P=h7.TZ("Path"),w={t:"obj ",v:[o]};
if(I<2)x={t:"enum",v:{vectorMaskEnabled:I==0?"RvlA":"HdAl"}};else x=h7.TZ("Path",!0);return{wQ:"make",WP:{classID:"Mk",null:P,At:w,Usng:x}}};
N.b0.prototype.enable=function(o,P,w,x,z){this.r7=w;var S=new bO(G.E.X,!0);S.data={Q:G.l.iu,GP:"default"};
P.j(S)};N.b0.prototype.Rd=function(o,P,w,x,z){var S=o.m0(),k=S[0],f=S[1];if(f.length==0)return;var C=k[f[0]],H=C.add.vmsk,b=o.s.hI(z.x,z.y),i=4*N.M()/o.s.D,M=new fA(b.x-i,b.y-i,i*2,i*2),T=e.n.Mj(H.g,M)[0];
if(T.length!=0){H.bg=T;o.yW=!0}var O=e.n.Vz(H.g,b).BG;if(O!=-1){H.T=[O];o.yW=!0}var Y=new bO(G.E.X,!0);
Y.data={Q:G.l.ay,I:this.id,rL:z,$n:o,T_:w};P.j(Y)};N.b0.prototype.acS=function(o,P){var w=new bO(G.E.X,!0);
w.data={Q:G.l.CA,JL:eB.ZM};if(!P.Ph)o.j(w);w.data={Q:G.l.CA,JL:eB.dF};if(!P.Xp.Fx)o.j(w)};N.b0.prototype.g4=function(o,P,w,x,z){N.Qf.aq2.call(this,o,P,w,x);
if(o==null)return;if(w.N5!=this.id&&z==null)return;if(o.T.length==0)return;var S=o.R[o.T[0]],k=S.add.vmsk,f=S.add.vstk;
if(bn==0){var C=iR.KT(S.add);this.ya=o;this.BS=P;if(S.aj()&&k!=null&&(JSON.stringify(f)!=JSON.stringify(w.j2)||JSON.stringify(C)!=JSON.stringify(w.Ev))){this.anF=Date.now();
var H=new bO(G.E.X,!0);H.data={Q:G.l.CA,JL:eB.jf,P:C};P.j(H);H.data={Q:G.l.CA,JL:eB.eF,P:f};P.j(H)}}else{var b=null;
for(var I=0;I<o.T.length;I++){var S=o.R[o.T[I]],i=S.add.vstl;if(i==null)continue;if(b==null)b=JSON.parse(JSON.stringify(i));
else{for(var M in i){if(b[M]==null)continue;if(i[M]==i.eJ){if(JSON.stringify(i[M])!=JSON.stringify(b[M]))delete b[M]}else if(i[M]==i.wm){if(JSON.stringify(i[M])!=JSON.stringify(b[M]))delete b[M]}else if(i[M]!=b[M])delete b[M]}}}if(b==null)return;
var T=JSON.stringify(b);if(T!=JSON.stringify(w.XO)){var H=new bO(G.E.X,!0);H.data={Q:G.l.CA,JL:eB.SX,P:b};
P.j(H)}}};N.b0.prototype.RU=function(o,P){if(P==eB.Ua||P==eB.qU)this.g4(null,null,o,null);if(this.ya==null)return;
if(P==eB.qU||P==eB.jf||P==eB.eF){if(Date.now()-this.anF<50)return;var w=P==eB.jf,x=this.ya,z=w?o.Ev:o.j2,S=[],k=x.T;
for(var I=0;I<k.length;I++){var f=k[I],C=x.R[f];if(!C.aj()||C.add.vmsk==null)continue;S.push(f)}var H=new bO(G.E.z,!0);
H.I=N.jc;H.data={Q:X.lV,XN:S,bq:w,P:z};if(S.length!=0)this.BS.j(H)}};N.b0.prototype.alH=function(o){if(typeof o=="number"){var P=new bO(G.E.qc,!0);
P.data=N.Qy.pZ(0);P.data.WP.Usng.v.Type.v.Clr.v=e.G.e1({$:o>>>16&255,H:o>>>8&255,b:o>>>0&255});this.BS.j(P)}};
N.b0.prototype.eq=function(o,P,w,x,z){this.BS=P;if(o.Q=="newfill"){if(o.Ct==0){var S=new bO(G.E.X,!0);
S.data={Q:G.l.y7,hq:"colorpicker",cz:z.AB,oO:this.alH.bind(this)};P.j(S)}}else if(o.Q=="smplp"){if(w==null)return;
var k=w.m0(),f=k[0],C=k[1];if(C.length==0){alert("No paths selected");return}var H=f[C[0]];if(H.add.vmsk.T.length<=0){alert("No paths selected");
return}if(this.om==null){this.om=H.add.vmsk.clone();this.wE=JSON.stringify(H.add.vogk);this.q6=H;this.ya=w}var S=new bO(G.E.X,!0);
S.data={Q:G.l.y7,hq:"simplifypath",Lz:100,eA:this.a4k.bind(this)};P.j(S)}else if(o.Q=="pathedit"){var b=o.Pw,i="",M=w.Fx.slice(0),T=w.lL.slice(0),O=w.Fx.slice(0),Y=w.lL.slice(0);
if(b=="rnm"){var U=-1-o.BG,W=M[U],t=da.xZ(o.name,W.add);if(U!=0)O[U]=t;else{Y=[O.length];O.push(t);O[0]=da.xZ("Work Path")}i="Rename"}else if(b=="new"){var t=da.xZ("Path "+M.length);
if(o.OE)t=o.OE;if(o.atO){var k=w.m0(),f=k[0],C=k[1],_=f[C[0]];t.add.vmsk=_.add.vmsk.clone();t.add.vogk=JSON.parse(JSON.stringify(_.add.vogk));
if(_.BG==-1){var n=O[Y[0]]=da.xZ("Path "+M.length);n.name=_.name;n.BG=_.BG}}O.push(t);Y=[O.length-1];
i="New"}else if(b=="del"){if(w.wJ&&w.wJ.length!=0){var S=new bO(G.E.qc,!0);S.data=N.b0.A2(3);P.j(S)}if(Y.length==0)return;
Y.sort(function(R,K){return R-K});if(Y[0]==0){O[0]=da.xZ(M[0].name);Y=Y.slice(1)}var y=0;while(Y.length!=0){O.splice(Y[0]-y,1);
Y=Y.slice(1);y++}i="Delete"}else if(b=="fromsel"){var H=O[0]=da.xZ("Work Path");Y=[0];if(w.e==null)return;
var F=w.e.channel.slice(0);for(var I=0;I<F.length;I++)F[I]=F[I]>128?2:1;var a=w.e.rect.clone();a.$b(1,1);
var V=e.U(a.c());e.d0(F,w.e.rect,V,a);var D=h1.dd(V,a.q,a._,Math.round(a.c()*5e-4)),f=h1.m0(D),l=new ar(1,0,0,1,-1+w.e.rect.x,-1+w.e.rect.y);
for(var I=0;I<f.length;I++)e.a.h(f[I].path.i,l,f[I].path.i);for(var I=0;I<f.length;I++){var Q=f[I];if(Q.color==1&&Q.parent==-1)continue;
var m=e.a.B6(f[I].path,!1);m[2].Hv=0;H.add.vmsk.g=H.add.vmsk.g.concat(m.slice(2))}H.add.vogk=X.h6(H.add.vmsk.g);
i="Selection to"}var R=new d5(i+" Path",this);R.data={qy:M,sW:T,a9F:O,LD:Y};if(b=="fromsel"){R.data.jO=w.e;
R.data.GM=null}w.Oi(R);this.Lv(R.data,w)}else{var $=o.Ka,k=w.m0(o.Q=="append"||o.Q=="fromAction"),f=k[0],C=k[1],H=f[C[0]],p=H.add.vmsk,c=H.add.vogk,B=p.clone(),Z=p.clone(),v=JSON.stringify(c);
if(o.Q=="fromAction"){var E=o.tU,g=E.wQ,u=E.WP,j=u.T;if(g=="set"){if(j){c=[e.KH.dN(j,w.q,w._)];Z.g.push({type:0,Hv:1,length:0});
e.KH.w3(c,Z);$=[12,76,0]}else throw u}else if(g=="draw"){c=[e.KH.dN(u.Shp,w.q,w._)];Z.g.push({type:0,Hv:1,length:0});
e.KH.w3(c,Z);N.b0.ak3(Z.g,u.AntA.v,z.AB,P);return}else throw g}else if(o.Q=="remove"){if(o.Ii&&Z.bg.length!=0){Z.g=e.n.aCj(Z.g,Z.bg,c,o.amG);
var A=e.n.f8(Z.g);for(var I=0;I<Z.T.length;I++)if(Z.T[I]>=A){Z.T.splice(I,1);I--}Z.bg=[];$="Delete Anchors"}else{if(Z.T.length==0)return;
var y=0;for(var I=0;I<Z.T.length;I++){c.splice(Z.T[I]+y,1);y--}Z.g=e.n.aAU(Z.g,Z.T);Z.T=[];Z.bg=[];if($==null)$="Delete Paths"}}if(o.Q=="append"){N.b0.kw(o.a8N,Z,c)}this.XX(w,H.BG,Z,c);
this.We(w,$,H.BG,B,Z.clone(),null,v,JSON.stringify(c))}};N.b0.ak3=function(o,P,w,x){var z=new X.tc;z.g=z.g.concat(o.slice(2));
var S=z.Jq();if(!P)e.round(S.channel);var k=e.U(S.rect.c()*4);e.ZT(k,(w&255)<<16|(w>>8&255)<<8|(w>>16&255)<<0);
e.lI(S.channel,k,3);var f=new bO(G.E.z,!0);f.I=N.Je;f.data={Q:"draw",a7:{buffer:k,rect:S.rect.clone()},Ka:this.name};
x.j(f)};N.b0.Ak=function(o,P){var w=e.n.aEd(o.g,o.T),x=[];for(var I=0;I<o.T.length;I++)x.push(JSON.parse(JSON.stringify(P[o.T[I]])));
return[w,x]};N.b0.kw=function(o,P,w){var x=e.n.f8(P.g),z=e.n.f8(o[0]);P.g=P.g.concat(o[0].slice(2));
P.T=[];for(var I=0;I<z;I++)P.T.push(x+I);for(var I=0;I<z;I++)w.push(JSON.parse(JSON.stringify(o[1][I])))};
N.b0.prototype.qD=function(o,P){if(P==null)return!1;var w=P.m0(),x=w[0],z=w[1];if(z.length==0)return!1;
var S=x[z[0]],k=S.add.vmsk;if(k&&k.T.length+k.bg.length!=0)return[i$.bc,i$.aa].indexOf(o)!=-1};N.b0.prototype.xF=function(o,P,w,x){if(o==null)return;
var z=o.m0(),S=z[0],k=z[1];if(k.length==0)return;var f=S[k[0]],C=f.add.vmsk;if(x.d(i$.Sk)||x.d(i$.w_)||this.id==N.$h&&x.d(i$.AP)&&C.bg.length==1){C.bg=[];
o.yW=!0}if(C.T.length!=0){var H=x.Tl(o?o.s.$N:0);if(H.x!=0||H.y!=0){var b=C.clone(),i=C.clone(),M=new ar(1,0,0,1,H.x,H.y),T=f.add.vogk,O=JSON.stringify(T);
if(x.d(i$.JV)){var Y=N.b0.Ak(i,T);N.b0.kw(Y,i,T)}e.n.G9(i.g,M,i.T);e.KH.h(T,e.W.G5(M),i.T);this.XX(o,f.BG,i,T);
this.We(o,"Move Paths",f.BG,b,i.clone(),!0,O,JSON.stringify(T))}if(x.d(i$.bc)||x.d(i$.aa))this.eq({Q:"remove",Ii:this.id==N.$h},P,o,x,w)}};
N.b0.prototype.We=function(o,P,w,x,z,S,k,f){var C=new d5(P,this);C.data={Uo:w,SG:x,xx:z,aGC:S,ae2:k,nN:f};
o.Oi(C)};N.b0.prototype.Lv=function(o,P){if(o.Uo!=null)this.XX(P,o.Uo,o.xx.clone(),JSON.parse(o.nN));
else{P.Fx=o.a9F.slice(0);P.lL=o.LD.slice(0);P.yW=P.yS=!0}if(o.jO||o.GM){P.e=o.GM;P.Gr=!0}};N.b0.prototype.kW=function(o,P){if(o.Uo!=null)this.XX(P,o.Uo,o.SG.clone(),JSON.parse(o.ae2));
else{P.Fx=o.qy.slice(0);P.lL=o.sW.slice(0);P.yW=P.yS=!0}if(o.jO||o.GM){P.e=o.jO;P.Gr=!0}};N.b0.prototype.XX=function(o,P,w,x){var z=P<0?o.Fx[-1-P]:P<1e6?o.R[P]:o.R[P-1e6].add.TySh,S=z.add.vmsk;
S.channel=null;S.RC=!0;if(S.ST){S.ST.channel=null;S.ST.RC=!0}z.add.vmsk=w;z.add.vogk=x;if(1e6<=P){fe.Jt(z);
var k=o.R[P-1e6],f=z,C=this.r7;eQ.tW(k,C.v7);o.N()}else if(0<=P){w.RC=!0;z.qX(o);o.N()}o.yW=o.yS=!0};
N.Qy=function(o,P,w,x){N.b0.call(this,o,P,w);this.Yx={shape:eR.bS(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{S$:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aae=x;this.lj=null;this.h9=null;this.Fr=null;this._R=new bX};N.Qy.prototype=new N.b0;N.Qy.prototype.Hg=function(o){return o.ZO&&this.id!=N.iZ};
N.Qy.prototype.enable=function(o,P,w,x,z){this.r7=w;var S=new bO(G.E.X,!0);S.data={Q:G.l.iu,GP:"crosshair"};
P.j(S)};N.Qy.prototype.xF=function(o,P,w,x){N.b0.prototype.xF.call(this,o,P,w,x);this._R.xF(x);this.eT(P,w)};
N.Qy.prototype.eT=function(o,P){var w=new bO(G.E.X,!0);w.data={Q:G.l.ay,I:this.id,ID:this.iY(P)};o.j(w)};
N.Qy.prototype.iY=function(o){var P=this._R.Pj(0),w=this._R.Nz(0),x=N.z$.gj(this.Yx.binop,P,w),z=this.id==N.iZ?o.al:o.xV;
if(z==1&&x==0)x=1;return x};N.Qy.prototype.zA=function(o,P,w,x){};N.Qy.prototype.aE=function(o,P,w,x,z){var S=this.id==N.iZ?w.al:w.xV;
if(S!=2)this.acS(P,w);if(S==2&&!o.p9())return;var k=o.s.hI(z.x,z.y);k=N.y9.Qx(o,k,w);this.Fr=[k.x,k.y];
this.lj=k;this.h9=new eD(0,0);this._R.aE(x)};N.Qy.prototype.axy=function(o,P,w,x){var z=[this.lj.clone(),P.clone()];
w=this._R.Pj(1)||w.d(i$.W1)||this._R.Nz(1)?w:null;if(this.aae)z=N.Qy.Oc(z[0],z[1],w,!0,this.Yx.cstr);
if(o)o.s.QF=new fA(z[0].x,z[0].y,z[1].x-z[0].x,z[1].y-z[0].y);return this.zA(z[0],z[1],this._R.Pj(1)&&w.d(i$.W1),this.Fr,o.s,x)};
N.Qy.prototype.ajh=function(o,P,w){var x=o.s.hI(P.x,P.y);if(this.id==N.iZ)return x;var z=this.Yx.cstr;
if(z.S$==2){var S=new fA(x.x-z.x,x.y-z.y,z.x,z.y),k=N.y9.wa(o,S,w);x.x+=k[0];x.y+=k[1];N.y9.FK(o,S,k)}else x=N.y9.Qx(o,x,w);
return x};N.Qy.prototype.Dv=function(o,P,w,x,z){if(this.lj==null)return;var S=this.Fr,k=S.length,f=z?this.ajh(o,z,w):new eD(S[k-2],S[k-1]);
if(x.d(i$.yi))this.lj=f.WJ(this.h9);else this.h9=f.WJ(this.lj);S.push(f.x,f.y);if(this.Yx.shape==null)this.Yx.shape=w.VX[0];
var C=this.axy(o,f,x,!0)[0],H=e.a.IY(C);o.t.Uq=H;if(this.id!=N.iZ&&this.id!=N.ar&&this.id!=N.ut)N.Qf.uo(z,o.s.QF,o,w);
o.yW=!0;this._R.Dv()};N.Qy.prototype.apP=function(o,P,w,x){var z=o[4].clone();if(x){z.x-=P/2;z.y-=w/2}if(this.id==N.ar){P/=2;
w/=2;z.x+=P;z.y+=w;w=-w;P=0}var S=this.zA(z,new eD(z.x+P,z.y+w),!1,this.Fr);this.agY(o[0],o[1],o[2],S)};
N.Qy.prototype.agY=function(o,P,w,x){var z=this.id==N.iZ?w.al:w.xV,S=new bO(G.E.qc,!0);if(z==0)S.data=N.Qy.avc(x[1],w);
else if(z==1){var k={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:x[1]};
S.data={wQ:"set",WP:k}}else{var k={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:x[1]};S.data={wQ:"draw",WP:k}}P.j(S);
if(x[1].v.classID=="customShape"&&x[1].v.Nm.v.startsWith("--")){var f=o.m0(),C=f[0],H=f[1],b=C[H.pop()],i=b.add.vmsk,M=b.add.vogk;
e.KH.alA(M);var T=i.clone();T.g=x[0];this.XX(o,b.BG,T,M)}};N.Qy.prototype.I2=function(o,P,w,x,z,S){if(this.lj==null)return;
var k=this.ajh(o,z,w),f=this.iY(w),C=this.id==N.iZ?w.al:w.xV,H=this.Fr,b=H.length;if(this.id==N.iZ&&b<=4){}else if(b<=4){k.x=Math.round(k.x);
k.y=Math.round(k.y);var i=new bO(G.E.X);i.data={Q:G.l.y7,hq:"createshape",a6E:this.apP.bind(this),azt:this.name,amM:[o,P,w,x,k]};
if(!S)P.j(i)}else if(b!=2){var M=this.axy(o,k,x),T=M[0],O=o.m0(!0),Y=O[0],U=O[1],W=U.length-1;if(C==1&&T.length>2||C==0&&f!=0&&W!=-1&&Y[U[W]].BG>=0){T[2].Hv=[1,2,3,0][f-1];
var t=Y[U.pop()],_=t.add.vmsk,n=t.add.vogk,y=_.clone(),F=_.clone(),a=JSON.stringify(n);F.g=F.g.concat(T.slice(2));
F.T=[e.n.f8(F.g)-1];var V=e.KH.dN(M[1]);n.push(V?V:e.KH.mM());this.XX(o,t.BG,F,n);this.We(o,this.name,t.BG,y,F,null,a,JSON.stringify(n))}else if(C==0){this.agY(o,P,w,M)}else if(C==2){N.b0.ak3(T,this.Yx.anta,w.AB,P)}}this.lj=null;
o.t.Uq=null;o.t.k2=null;o.t.ZB=[];o.s.QF=null;o.yW=!0;this._R.I2();this.eT(P,w)};N.Qy.prototype.KU=function(o,P,w,x,z){for(var w in o)this.Yx[w]=o[w]};
N.Qy.Oc=function(o,P,w,x,z){var S=o.x,k=o.y,f=P.x,C=P.y;if(z&&z.S$==2){if(x){f=Math.round(f);C=Math.round(C)}S=f-z.x;
k=C-z.y}else{var H=0;if(z&&z.S$==1)H=z.y/z.x;else if(w&&w.d(i$.W1))H=1;if(H!=0){if(x){if(S<f)S=Math.floor(S);
else S=Math.ceil(S);if(k<C)k=Math.floor(k);else k=Math.ceil(k)}var b=Math.abs(f-S),i=Math.abs(C-k),M=b;
if(i/b<H)M*=i/b/H;f=f>S?S+M:S-M;C=C>k?k+M*H:k-M*H}if(w&&w.d(i$.JV)){S-=f-S;k-=C-k}}var o=new eD(S,k),P=new eD(f,C);
if(x)N.Qy.azR(o,P);return[o,P]};N.Qy.azR=function(o,P){if(o.x>P.x){var w=o.x;o.x=P.x;P.x=w}if(o.y>P.y){var w=o.y;
o.y=P.y;P.y=w}o.x=Math.floor(o.x);o.y=Math.floor(o.y);P.x=Math.ceil(P.x);P.y=Math.ceil(P.y)};N.Qy.a3S=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
N.Qy.pZ=function(o,P){var w=N.Qy.a3S(),x=w.Usng.v.Type;if(P==null){x.v=JSON.parse(JSON.stringify(iR.P_[o]));
x.v.classID=["solidColorLayer","gradientLayer","patternLayer"][o]}else N.p0.oK(P,x.v,o);return{wQ:"make",WP:w}};
N.Qy.avc=function(o,P){var w=P.Ev,x=JSON.parse(JSON.stringify(P.j2));x.fillEnabled.v=w.Ya!=0;var z=N.Qy.pZ(Math.max(0,w.Ya-1),w.v4);
z.WP.Usng.v.Shp=o;z.WP.Usng.v.strokeStyle={t:"Objc",v:x};return z};N.Qd=function(o){N.b0.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][o],[N.$h,N.aAx,N.afm,N.axV,N.aBz][o],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][o]);
this.aP=o;this.ed=null;this.Pb=null;this.om=null;this.wE=null;this.Ax=0;this.h2=null;this.ap=!1;this.pm=!1;
this.hd=!1;this.NL=!1;this.Lj=!1;this.t_=!1;this.OU=0};N.Qd.prototype=new N.b0;N.Qd.prototype.Hg=function(o){return this.om!=null};
N.Qd.prototype.xF=function(o,P,w,x){if(!x.d(i$.JV))this.Lj=!1;if(this.aP==1&&(x.d(i$.bc)||x.d(i$.aa))&&this.qD(i$.bc,o)){this.eq({Q:"remove",Ii:!0},P,o,x,w);
return}if(this.Pb)this.O4(o,P,w,x,this.Pb);N.b0.prototype.xF.call(this,o,P,w,x)};N.Qd.prototype.Bp=function(o,P,w,x,z){var S=o.s.hI(x.x,x.y,!0),k=N.y9.Qx(o,S,P),f=this.aP,C=P.al,H=this.Ax;
if(C==2)C=0;var b=o.m0(z&&C==1),i=b[0],M=b[1],T=M.length==0?null:i[M.pop()],O=T?T.add.vmsk:null;if(C==0&&H!=0&&T&&T.BG>=0)C=1;
var Y=N.QC(o,x);if(f<2&&C==0&&(O==null||O.bg.length==0&&e.n.Vz(O.g,S,!0,Y).BG==-1))return["new",!0];
if(O==null)return[null];var U=O.g,W=e.n.Mj(U,new fA(S.x-Y,S.y-Y,Y*2,Y*2),O.bg,!0),t=e.n.Vz(U,S,!0,Y);
if(f<3&&t.BG!=-1&&W[0].length==0)return["add"];if((W[3]!=0||t.BG!=-1)&&(w.d(i$.JV)||f==4))return["cnv"];
var _=W[0].length==1&&U[W[0][0]-1]&&(U[W[0][0]-1].v!=null||U[W[0][0]-1].type==0||U[W[0][0]-1].length==1);
if(_)return[f==0||f==3?"del":f==2?"mva":"mov"];if(f<2){var n=e.n.iE(U,e.n.eN(U,O.bg[0]));if(n!=-1&&eD.a_(S,U[n+1].v)<Y)return["fin"];
if(O.bg.length!=1)return["new"];return["nrm"]}return[null]};N.Qd.prototype.aE=function(o,P,w,x,z){var S=o.lL.indexOf(0)!=-1,k=o.s.hI(z.x,z.y,!0),f=N.y9.Qx(o,k,w),C=this.aP,H=w.al,b=this.Ax;
if(H==2)H=0;var i=o.m0(H==1),M=i[0],T=i[1],O=M[T.pop()],Y=O?O.add.vmsk:null;if(H==0&&b!=0&&O&&O.BG>=0)H=1;
var U=N.QC(o,z),W=this.Bp(o,w,x,z,!0);if(W[0]==null)return;if(W[1]){var t=new bO(G.E.qc,!0),_=e.KH.dC("customShape",[0,0,1,1],null,null,null,"--");
t.data=N.Qy.avc(_,w);P.j(t);this.t_=!0;i=o.m0(!0);M=i[0];T=i[1];O=M[T.pop()];Y=O.add.vmsk;Y.g=Y.g.slice(0,2)}var n=O.add.vogk,y=Y.g;
this.om=Y.clone();this.wE=JSON.stringify(n);if(O.name=="Work Path"&&!S){y=Y.g=y.slice(0,2);n=[]}this.ed=z;
this.acS(P,w);var F=e.n.Mj(y,new fA(k.x-U,k.y-U,U*2,U*2),Y.bg,!0),a=e.n.Vz(y,k,!0,U);if(W[0]=="add"){var V=e.n.iE(y,a.BG),D=y[V].length;
while(D<=a.YO){a.YO-=D;V+=D+1}var l={type:4,Fm:f.clone(),v:f.clone(),AK:f.clone()},Q=V+2+a.YO,m=V+1+(1+a.YO)%D,R=y[Q-1],$=y[m];
if(!R.v.w6(R.AK)||!$.Fm.w6($.v)){var p=e.a.a3j(R.v,R.AK,$.Fm,$.v,a._C);R.AK=p[0];l.Fm=p[1];l.v=p[2];
l.AK=p[3];$.Fm=p[4]}this.NL=!0;y.splice(Q,0,l);y[V].length++;Y.bg=[Q];if(C==1){l.Fm.x+=2;this.im(Y)}}else if(W[0]=="cnv"){var c=-1;
if(F[0].length!=0){c=F[0][0];var B=y[c],Z=B.type>=3?3:0,v=c==y.length-1;B.type=Z+1;if(!(C==4&&x.d(i$.JV))&&!(C==0&&v))B.Fm=B.v.clone();
B.AK=B.v.clone();this.NL=!0;if(C==0&&!v)this.Lj=!0}else if(F[1].length+F[2].length!=0){var c=F[2][0];
if(c==null){c=F[1][0];this.pm=!0}var B=y[c],Z=B.type>=3?3:0;B.type=Z+2}else c=e.n.iE(y,a.BG)+a.YO+1;
if(c!=-1)Y.bg=[c]}else if(W[0]=="mva"){this.hd=!0;Y.bg=[F[0][0]]}else if(W[0]=="mov"){var c=F[0][0],E=y[c],g=E.v,u=Math.abs(e.a.uO(E.Fm.x,E.Fm.y,g.x,g.y,E.AK.x,E.AK.y));
if(u>.01){E.Fm=g.clone();E.AK=g.clone()}if(Date.now()-this.OU<300){var j=E.Fm.w6(g)&&E.AK.w6(g);if(j)E.AK.offset(2,2);
else{E.Fm=g.clone();E.AK=g.clone()}this.OU=0}else this.OU=Date.now();Y.bg=[c];this.im(Y)}else if(W[0]=="del"){var c=F[0][0],V=e.n.iE(y,e.n.eN(y,c)),_=y[V],A=V+_.length;
if(c!=A||_.type==0){y[V].length--;y.splice(c,1);A--;if(_.length==0){y.splice(V,1);A=-1}}if(A!=-1)Y.bg=[A];
else Y.bg=[]}else if(W[0]=="fin"){var V=e.n.iE(y,e.n.eN(y,Y.bg[0]));y[V].type=0;Y.bg=[V+1];this.h2=f;
this.ap=!0;this.NL=!0}else{var K=0;if(W[0]=="new"){Y.T=[e.n.f8(y)];y.push({type:3,length:1,Hv:[1,2,3,0][Math.max(0,b-1)],cI:0,p_:0,xd:0});
K=y.length;n.push(e.KH.mM())}if(W[0]=="nrm"){var V=e.n.iE(y,e.n.eN(y,Y.bg[0])),E=V+y[V].length;y[V].length++;
K=E+1;if(E==V+1&&y[V].length!=2)K=V+1}if(x.d(i$.W1)&&y[K-1]&&y[K-1].v)f=N.BB.pz(y[K-1].v,f);var l={type:4,Fm:f.clone(),v:f.clone(),AK:f.clone()};
y.splice(K,0,l);Y.bg=[K];this.h2=f;if(this.aP==1){l.Fm.x+=2;this.im(Y)}this.NL=!0;this.OU=Date.now()}this.XX(o,O.BG,Y,n);
o.yW=!0};N.Qd.prototype.im=function(o){var P=o.g,w=o.bg[0],x=e.n.iE(P,e.n.eN(P,w))+1,z=P[x-1].length;
if(z<3)return;var S=[],k=[];for(var I=0;I<5;I++){var f=x+(w-x-2+I+5*z)%z;k.push(f);var C=P[f].v;S.push(C.x,C.y)}var H=e.a.a8o(S);
for(var I=1;I<4;I++){var b=I*4,i=P[k[I]],C=i.v,M=i.Fm.w6(C)&&i.AK.w6(C);if(!M){i.Fm.Mx(H[b],H[b+1]);
i.AK.Mx(H[b+2],H[b+3])}else{i.Fm=C.clone();i.AK=C.clone()}}};N.Qd.prototype.O4=function(o,P,w,x,z){var S=this.Bp(o,w,x,z)[0],k=null;
if(S==null)k="default";else k=N.Qd.hN(S);var f=new bO(G.E.X,!0);f.data={Q:G.l.iu,GP:k};P.j(f)};N.Qd.prototype.Dv=function(o,P,w,x,z){this.Pb=z;
if(this.om==null){this.O4(o,P,w,x,z);return}var S=this.ed;if(S&&eD.a_(S,z)<N.QC({s:{D:1}},z))return;
this.ed=null;var k=o.s.hI(z.x,z.y),f=N.y9.Qx(o,k,w),C=o.m0(w.al==1),H=C[0],b=C[1],i=H[b.pop()],M=i.add.vmsk,T=M.g,O=T[M.bg[0]];
if(this.aP==1){var Y=O.v.w6(O.Fm)&&O.v.w6(O.AK);O.v=k.clone();O.Fm=k.clone();O.AK=k.clone();if(!Y)O.Fm.x+=2;
this.im(M)}else if(x.d(i$.yi)){if(x.d(i$.W1))f=N.BB.pz(this.h2,f);var U=O.v.WJ(O.AK),W=O.Fm.WJ(O.v);
O.AK=f;O.v=f.add(U);O.Fm=O.v.add(W)}else if(this.hd){var t=O.Fm.WJ(O.v),_=O.AK.WJ(O.v);O.v=f;O.Fm=O.v.add(t);
O.AK=O.v.add(_)}else{if(x.d(i$.W1))f=N.BB.pz(O.v,f);if(this.pm){var n=O.Fm;O.Fm=O.AK;O.AK=n}if(this.ap){var y=eD.a_(O.v,f),F=y==0?0:eD.a_(O.v,O.AK)/y;
O.AK.x=O.v.x+F*(f.x-O.v.x);O.AK.y=O.v.y+F*(f.y-O.v.y)}else O.AK=f;var a=O.type>=3?3:0;if(this.NL&&!this.Lj)O.type=a+x.d(i$.JV)?2:1;
if(O.type-a==1){O.Fm=O.v.add(O.v.WJ(f))}this.h2=f;if(this.pm){var n=O.Fm;O.Fm=O.AK;O.AK=n}}this.XX(o,i.BG,M,i.add.vogk);
o.yW=!0};N.Qd.prototype.I2=function(o,P,w,x,z){if(this.om==null)return;var S=o.m0(w.al==1),k=S[0],f=S[1],C=k[f.pop()],H=C.add.vmsk,b=C.add.vogk;
if(this.ap){H.bg=[];this.XX(o,C.BG,H,C.add.vogk)}var i=this.om.g.length,M=H.g.length;if(!this.t_)this.We(o,this.ap?"Close Path":(i==M?"Move":i<M?"Add":"Delete")+" Anchor Point",C.BG,this.om,H.clone(),null,this.wE,JSON.stringify(b));
this.t_=!1;this.ap=!1;this.pm=!1;this.hd=!1;this.NL=!1;this.om=null};N.Qd.prototype.KU=function(o,P,w,x,z){this.Ax=o.binop};
N.Qd.aD1={};N.Qd.hN=function(o){var P=N.Qd.aD1[o],w=64,f=2,C=10,H=25,b=5,i=35;if(P)return P;var x=new fA(0,0,w,w),z=-.38,S=e.Um(w,w);
S.clearRect(0,0,w,w);var k=N.M();S.save();S.lineWidth=f;S.translate(4-f/2,4-f/2);S.rotate(z);if(k<1.5){var M=.66;
C*=M;H*=M;b*=M;i*=M}S.lineJoin="miter";S.beginPath();if(o=="cnv"){S.moveTo(-C,H);S.lineTo(0,0);S.lineTo(C,H);
S.stroke()}else{S.moveTo(0,0);S.lineTo(C,H);S.lineTo(b,i);S.lineTo(-b,i);S.lineTo(-C,H);S.lineTo(0,0);
S.moveTo(0,0);S.lineTo(0,H);S.fillStyle="white";S.fill();S.stroke();S.fillStyle="black";S.fillRect(-b-1,i,2*b+2,6);
S.beginPath();S.arc(0,H-2,2.5,0,2*Math.PI,!1);S.fill();S.rotate(-z);S.translate(24,7);S.beginPath();
if(o=="add"||o=="del"||o=="new"){S.moveTo(-5,0);S.lineTo(5,0);if(o=="add"){S.moveTo(0,-5);S.lineTo(0,5)}if(o=="new"){S.moveTo(-2.5,-4.5);
S.lineTo(2.5,4.5);S.moveTo(2.5,-4.5);S.lineTo(-2.5,4.5)}}else if(o=="fin")S.arc(0,0,5,0,2*Math.PI,!1);
else if(o=="mov"||o=="mva"){for(var I=0;I<4;I++){S.moveTo(0,0);S.lineTo(-7,0);var T=1+f;S.moveTo(-7+T,-T);
S.lineTo(-7,0);S.lineTo(-7+T,T);S.rotate(Math.PI/2)}}S.stroke()}S.restore();var O=new Uint8Array(S.getImageData(0,0,w,w).data.buffer),Y=e.U(w*w);
e.JX(O,Y,3);var U=e.U(w*w),W=[3,5,3,4,8,4,3,5,3];W=e.qY.na(W);e.qY.Ld(Y,U,w,w,W);for(var I=0;I<U.length;
I++)U[I]=Math.min(255,U[I]*2);e.qY.Ld(U,Y,w,w,W);for(var I=0;I<Y.length;I++)Y[I]=Math.min(255,Y[I]*2);
var t=O.slice(0);O.fill(255);e.lI(Y,O,3);e.C.Iv("norm",t,x,O,x,x,1);N.Qd.aD1[o]=P={yp:O,sn:x,yK:new eD(4,4)};
return P};N.VD=function(){N.Qy.call(this,[10,30],N.iZ,"tools/fpen",!1)};N.VD.prototype=new N.Qy;N.VD.prototype.zA=function(o,P,w,x,z,S){var k=x.length-1,f=Math.sqrt((x[k-1]-x[0])*(x[k-1]-x[0])+(x[k]-x[1])*(x[k]-x[1]))<6/z.D;
return[e.n.Cv(x,f,S),e.KH.dC("customShape",[0,0,1,1],null,null,null,"--")]};N.sQ=function(){N.b0.call(this,[10,27],N.QV,"tools/pselect");
this.jz=null;this.Iz=!1;this.q6=null;this.om=null;this.R6=null;this.wE=null;this.Yb=null;this.sF=null;
this.LW=null;this.xU=null};N.sQ.prototype=new N.b0;N.sQ.prototype.Hg=function(o){return o.ZO};N.sQ.prototype.aE=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=o.m0(),f=k[0],C=k[1],H,b;
for(var I=0;I<C.length;I++){var i=f[C[I]],M=i.add.vmsk,T=e.n.Vz(M.g,S).BG;if(T!=-1){this.q6=H=i;b=T}for(var O=0;
O<M.Qo.length;O++){var Y=e.n.aBs(M.g,M.Qo[O]);if(Y==null)continue;var U=eD.a_(Y,S);if(U<4*N.M()/o.s.D){var W=o.R[i.BG-1e6].add.TySh,t=W.OY.Curve,_=W.h,n=t.Reversed;
t.Reversed=!1;var t=c5.n5(W.OY.Curve);t.Reversed=n;e.a.h(t[0],_,t[0]);this.LW=[t,O,_.F*_.RL-_.b*_.JJ];
this.q6=H=i;b=0}}if(this.LW)break}if(H!=null){var M=H.add.vmsk;M.bg=[];var y=M.T.indexOf(b);if(x.d(i$.W1)){if(y==-1){M.T.push(b);
this.Iz=!0}else M.T.splice(y,1)}else{if(y==-1)M.T=[b];this.Iz=!0}this.sF=e.n.$s(M.g,M.T)}this.jz=S;this.xU=new gv(S);
o.yS=!0;o.yW=!0};N.sQ.prototype.Dv=function(o,P,w,x,z){if(this.jz==null)return;var S=o.s.hI(z.x,z.y);
if(this.Iz){S=this.xU.i1(S,x);var k=this.q6;if(this.om==null){this.om=this.R6=k.add.vmsk.clone();this.wE=this.Yb=JSON.stringify(k.add.vogk);
if(x.d(i$.JV)){var f=this.om.clone(),C=JSON.parse(this.wE),H=N.b0.Ak(f,C);N.b0.kw(H,f,C);this.R6=f;this.Yb=JSON.stringify(C)}}var f=this.R6.clone(),C=JSON.parse(this.Yb);
if(this.LW){var b=this.LW,i=b[0][0],M=e.a.Rf(i,S.x,S.y);f.Qo[b[1]]=b[0][1][M];var T=i[M*2],O=i[M*2+1],Y=(i[M*2+2]-T)*(S.y-O)-(i[M*2+3]-O)*(S.x-T);
if(b[2]<0)Y=-Y;f.ue=Y>0}else{var U=this.sF.clone(),W=U.x,t=U.y;U.offset(S.x-this.jz.x,S.y-this.jz.y);
U.x=Math.round(U.x);U.y=Math.round(U.y);var _=N.y9.wa(o,U,w),n=new ar(1,0,0,1,U.x-W+_[0],U.y-t+_[1]);
e.n.G9(f.g,n,f.T);e.KH.h(C,e.W.G5(n),f.T);N.y9.FK(o,U,_)}this.XX(o,k.BG,f,C)}else{var y=this.jz;o.t.Uq=e.a.R2(new fA(y.x,y.y,S.x-y.x,S.y-y.y));
o.yW=!0}};N.sQ.prototype.I2=function(o,P,w,x,z){if(this.jz==null)return;var S=o.s.hI(z.x,z.y),k=this.q6,f=k?k.add.vmsk:null;
if(this.Iz){var C=JSON.stringify(k.add.vogk);if(!this.jz.w6(S))this.We(o,"Move Paths",k.BG,this.om,f,null,this.wE,C);
if(o!=null&&o.t.k2){o.t.k2=null;o.yW=!0}}else{var H=o.m0(),b=H[0],i=H[1];if(i.length!=0){var M=b[i[0]];
f=M.add.vmsk;var T=this.jz,O=new fA(T.x,T.y,S.x-T.x,S.y-T.y),Y=e.n.a6q(f.g,O);if(x.d(i$.W1)){for(var I=0;
I<Y.length;I++)if(f.T.indexOf(Y[I])==-1)f.T.push(Y[I])}else f.T=Y}o.t.Uq=null;o.yW=!0}this.jz=null;this.om=null;
this.LW=null;this.Iz=!1;this.xU=null};N.sQ.prototype.a4k=function(o){var P=this.q6,w=this.ya,x=P.add.vmsk,z=P.add.vogk,S=z.length;
if(o=="confirm"){if(x!=this.om)this.We(w,[12,94,2],P.BG,this.om,x,null,this.wE,JSON.stringify(z));this.Rr();
return}if(o=="cancel"){this.XX(this.ya,this.q6.BG,this.om.clone(),JSON.parse(this.wE));this.Rr()}else{var x=this.om.clone(),z=JSON.parse(this.wE);
x.g=e.n.aHe(x.g,x.T,o);this.XX(this.ya,this.q6.BG,x,z)}};N.sQ.prototype.Rr=function(){this.q6=null;this.om=null;
this.jz=null;this.B3=this.LC=-1;this.xU=null};N.sQ.prototype.g4=function(o,P,w,x){N.b0.prototype.g4.call(this,o,P,w,x);
if(w.N5!=this.id)return;if(o.T.length==0)return;var z=o.m0(),S=z[0],k=z[1];if(k.length==0)return;var f=S[k[0]],C=f.add.vmsk,H=f.add.vstk,b=f.add.vogk,i=new bO(G.E.X,!0);
i.data={Q:G.l.ay,I:this.id,Ot:"main",SY:C?C:null,KH:b};P.j(i)};N.sQ.prototype.KU=function(o,P,w,x,z){var S=o.bV;
if(S.SY){var k=w.m0(),f=k[0],C=k[1];if(C.length==0)return;var H=f[C[0]],b=H.add.vmsk.clone(),i=JSON.stringify(H.add.vogk),M=S.SY;
this.XX(w,H.BG,M,S.KH);var T=[18,5];if(b.g.length==M.g.length)T=b.T[0]==M.T[0]?"Fill Rule":"Path Order";
this.We(w,T,H.BG,b,M,null,i,JSON.stringify(S.KH))}};N.Su=function(){N.b0.call(this,[10,28],N.jK,"tools/dselect");
this.B3=-1;this.LC=-1;this.$E=null;this.jz=null;this.q6=null;this.om=null;this.wE=null;this.ya=null;
this.Ba=0;this.Kd={psnap:!1};this.xU=null};N.Su.prototype=new N.b0;N.Su.prototype.Hg=function(o){return o.ZO};
N.Su.prototype.KU=function(o){this.Kd=o};N.Su.prototype.eq=function(o,P,w,x,z){if(o.Q=="crnr"){if(w==null)return;
var S=w.m0(),k=S[0],f=S[1];if(f.length==0){alert("No paths selected");return}var C=k[f[0]],H=C.add.vmsk;
if(H.bg.length==0){alert("No corners selected");return}for(var I=0;I<H.bg.length;I++){var b=H.g[H.bg[I]];
if(!b.v.w6(b.AK)||!b.v.w6(b.Fm)){alert("Only sharp corners can be rounded");return}}if(this.om==null){this.om=C.add.vmsk.clone();
this.wE=JSON.stringify(C.add.vogk);this.q6=C;this.ya=w}var i=new bO(G.E.X,!0);i.data={Q:G.l.y7,hq:"cornerradius",Lz:5,eA:this.awD.bind(this)};
P.j(i)}else N.b0.prototype.eq.call(this,o,P,w,x,z)};N.Su.prototype.awD=function(o){if(o=="confirm"){var P=this.ya,w=this.q6,x=w.add.vmsk,z=w.add.vogk;
this.We(P,[12,94,0],w.BG,this.om,x,null,this.wE,JSON.stringify(z));this.Rr();return}var x=this.om.clone(),z=JSON.parse(this.wE),S=x.bg;
if(o=="cancel"){}else{var k=[];for(var I=0;I<S.length;I++){var f=S[I],C=e.n.eN(x.g,f,!0),i=0;if(k.indexOf(C)!=-1)continue;
k.push(C);var H=e.n.iE(x.g,C,!0),b=x.g[H].length,M=[];for(var T=0;T<b;T++){var O=x.bg.indexOf(H+T+1)==-1?0:o;
M.push(O);if(O!=0)i++}e.n.DG(x.g,H,M);for(var T=0;T<S.length;T++)if(S[T]>H+b)S[T]+=i}this.gI(x,z);x.bg=[]}this.XX(this.ya,this.q6.BG,x,z);
if(o=="cancel")this.Rr()};N.Su.prototype.disable=function(o,P,w,x){this.rp(o)};N.Su.prototype.aE=function(o,P,w,x,z){this.rp(o);
var S=o.s.hI(z.x,z.y),i,M,T;this.$E=S.clone();var k=o.m0(),f=k[0],C=k[1];if(C.length==0)return;var H=N.QC(o,z),b=new fA(S.x-H,S.y-H,H*2,H*2);
for(var O=0;O<C.length;O++){i=this.q6=f[C[O]];M=i.add.vmsk;T=e.n.Mj(M.g,b);if(T[0].length+T[1].length+T[2].length!=0)break}var Y=[!1,!1,!1];
for(var I=0;I<3;I++){for(var U=0;U<T[I].length;U++){var W=T[I][U],t=M.g[W];if(M.bg.indexOf(W)!=-1||I==1&&M.bg.indexOf(W-1)!=-1&&!t.v.w6(t.Fm)||I==2&&M.bg.indexOf(W+1)!=-1&&!t.v.w6(t.AK)){T[I]=[W];
Y[I]=!0;break}}}if(T[0].length!=0&&(Y[0]||!Y[1]&&!Y[2])){var _=T[0][0],n=M.bg.indexOf(_);if(x.d(i$.W1)){if(n==-1)M.bg.push(_);
else{M.bg.splice(n,1);o.yW=!0;return}}else if(n==-1)M.bg=[_];this.B3=_;this.LC=0}else if(T[1].length!=0&&Y[1]){this.B3=T[1][0];
this.LC=1}else if(T[2].length!=0&&Y[2]){this.B3=T[2][0];this.LC=2}else{var y=e.n.Vz(M.g,S,!0,H);if(y.BG==-1)this.jz=S;
else{M.T=[y.BG];M.bg=[]}}if(this.om==null){this.om=i.add.vmsk.clone();this.wE=JSON.stringify(i.add.vogk)}this.xU=new gv(S);
o.yW=!0};N.Su.prototype.Dv=function(o,P,w,x,z){if(o==null)return;var S=o.s.hI(z.x,z.y),k=this.q6;if(this.B3!=-1){var f=this.om.clone(),C=k.add.vogk,H=f.g[this.B3];
H=[H.v,H.Fm,H.AK][this.LC];if(x.d(i$.W1)){if(this.LC==0){S=this.xU.i1(S,x);S.x+=H.x-this.$E.x;S.y+=H.y-this.$E.y}else S=N.BB.pz(f.g[this.B3].v,S)}else{if(this.Kd.psnap){S.x=Math.round(S.x);
S.y=Math.round(S.y)}S=N.y9.Qx(o,S,w)}if(this.LC==0){var b=new ar(1,0,0,1,S.x-H.x,S.y-H.y);e.n.G9(f.g,b,null,f.bg)}else{var i=f.g[this.B3],M=i.Fm,T=i.AK;
if(this.LC==2){M=i.AK;T=i.Fm}if(x.d(i$.JV)&&(i.type==1||i.type==4))i.type++;M.Mx(S.x,S.y);if(i.type==1||i.type==4){var O=eD.a_(M,i.v),Y=eD.a_(T,i.v);
if(Y!=0){T.x=i.v.x-(M.x-i.v.x)*(Y/O);T.y=i.v.y-(M.y-i.v.y)*(Y/O)}}}this.gI(f,C);this.XX(o,k.BG,f,C)}else if(this.jz!=null){var U=this.jz;
o.t.Uq=e.a.R2(new fA(U.x,U.y,S.x-U.x,S.y-U.y));o.yW=!0}else{var W=o.m0(),t=W[0],_=W[1],k,f,F;if(_.length==0)return;
var n=N.QC(o,z),y=new fA(S.x-n,S.y-n,n*2,n*2);for(var a=0;a<_.length;a++){k=t[_[a]];f=k.add.vmsk;F=e.n.Mj(f.g,y);
if(F[0].length+F[1].length+F[2].length!=0)break}this.rp(o);for(var I=0;I<3;I++){for(var V=0;V<F[I].length;
V++){var D=F[I][V],l=f.g[D];l=I==0?l.v:I==1?l.Fm:l.AK;o.t.sA.push(l.x,l.y);o.yW=!0}}}};N.Su.prototype.rp=function(o){if(o&&o.t.sA.length!=0){o.t.sA=[];
o.yW=!0}};N.Su.prototype.I2=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=this.q6,f=k?k.add.vmsk:null,C=k?k.add.vogk:null;
if(this.B3!=-1){if(Date.now()-this.Ba<300){var H=f.g[this.B3],b=this.LC,i=null;if(b==0){var M=H.Fm.w6(H.v),T=H.AK.w6(H.v);
if(!M&&!T){i="Anchor Type";if(H.type==1||H.type==4)H.type++;else{H.type--;H.AK=H.v.add(H.v.WJ(H.Fm))}}else{i="Add Handles";
if(M&&T){H.Fm.x-=30;H.AK.x+=30}else if(M)H.Fm=H.v.add(H.v.WJ(H.AK));else if(T)H.AK=H.v.add(H.v.WJ(H.Fm))}}else{i="Remove Handle";
if(b==1)H.Fm.iB(H.v);else H.AK.iB(H.v)}this.gI(f,C);this.XX(o,k.BG,f,C);this.We(o,i,k.BG,this.om,f,null,this.wE,JSON.stringify(C))}else if(!this.$E.w6(S)){this.We(o,"Drag Anchors",k.BG,this.om,f,null,this.wE,JSON.stringify(C))}this.Ba=Date.now()}else if(this.jz!=null){var O=this.jz,Y=new fA(O.x,O.y,S.x-O.x,S.y-O.y);
if(Y.q<0)Y.x+=Y.q;if(Y._<0)Y.y+=Y._;Y.q=Math.abs(Y.q);Y._=Math.abs(Y._);var U=e.n.Mj(f.g,Y);f.bg=U[0].concat(x.d(i$.W1)?f.bg:[]);
o.t.Uq=null}this.Rr();o.yW=!0};N.Su.prototype.Rr=function(){this.q6=null;this.om=null;this.jz=null;this.B3=this.LC=-1;
this.xU=null};N.Su.prototype.gI=function(o,P){for(var I=0;I<o.bg.length;I++){var w=e.n.eN(o.g,o.bg[I]);
e.KH.rI(P,w)}};N.Su.prototype.xF=function(o,P,w,x){if(o==null)return;var z=o.m0(),S=z[0],k=z[1];if(k.length==0)return;
var f=S[k[0]],C=f.add.vmsk;if(C==null||C.bg.length==0)return;var H=f.add.vogk,b=JSON.stringify(H),i=x.Tl(o?o.s.$N:0);
if(i.x!=0||i.y!=0){var M=C.clone(),T=C.clone(),O=new ar(1,0,0,1,i.x,i.y);e.n.G9(T.g,O,null,T.bg);this.gI(T,H);
this.XX(o,f.BG,T,H);this.We(o,"Move Anchors",o.T[0],M,T.clone(),!0,b,JSON.stringify(H))}if(x.d(i$.bc)||x.d(i$.aa))this.eq({Q:"remove",Ii:!0,amG:!0},P,o,x,w)};
N.Su.prototype.We=function(o,P,w,x,z,S,k,f){var C=o.k8();if(S&&C!=null&&C.I==this&&C.data.aGC&&C.data.Uo==w&&JSON.stringify(C.data.SG.bg)==JSON.stringify(x.bg)){C.data.xx=z;
C.data.nN=f}else{var C=new d5(P,this);C.data={Uo:w,SG:x,xx:z,aGC:S,ae2:k,nN:f};o.Oi(C)}};N.Rect=function(){N.Qy.call(this,[10,32],N.Oa,"tools/rect",!0)};
N.Rect.prototype=new N.Qy;N.Rect.prototype.zA=function(o,P,w){var x=this.Yx.crad,z=P.x-o.x,S=P.y-o.y;
return[e.n.fg.Rect(o.x,o.y,z,S,x),e.KH.dC("Rctn",[o.x,o.y,P.x,P.y],[x,x,x,x])]};N.nT=function(){N.Qy.call(this,[10,33],N.lP,"tools/ellipse",!0)};
N.nT.prototype=new N.Qy;N.nT.prototype.zA=function(o,P,w){var x=P.x-o.x,z=P.y-o.y;return[e.n.fg.nT(o.x,o.y,x,z),e.KH.dC("Elps",[o.x,o.y,P.x,P.y])]};
N.MG=function(){N.Qy.call(this,[10,34],N.ar,"tools/pshape",!1);this.Yx.aopts=[!1,!0,50,100,0]};N.MG.prototype=new N.Qy;
N.MG.prototype.zA=function(o,P,w){var x=this.Yx.pshape,z=this.Yx.crad,S=this.Yx.irad/100,k=this.Yx.sides,f=this.Yx.width,C=this.Yx.aopts,H=this.Yx.length,U;
P=P.clone();var b=o.x,i=o.y,M=P.x,T=P.y,O=Math.sqrt((M-b)*(M-b)+(T-i)*(T-i)),Y=Math.atan2(-T+i,M-b);
if(w)Y=Math.round(Y*180/Math.PI/15)*15*Math.PI/180;if(x==0)U=e.n.fg.ff(b,i,O,Y,k,z);if(x==1)U=e.n.fg.a1X(b,i,O,Y,k,z,S);
if(x==2)U=e.n.fg.Jk(o.x,o.y,P.x,P.y,f,C);if(x==3)U=e.n.fg.a4q(b,i,O,Y,H);return[U,e.KH.dC("customShape",[o.x,o.y,P.x,P.y],null,null,null,"--")]};
N.MG.prototype.xF=function(o,P,w,x){N.Qy.prototype.xF.call(this,o,P,w,x);var z=x.Tl(),S=this.Yx,k,f;
if(z.y!=0){var C=-z.y,H=S.pshape;if(H<2){k="sides";f=Math.max(3,Math.min(100,S.sides+C))}else if(H==2){k="width";
f=Math.max(1,Math.min(100,S.width+C))}else if(H==3){k="length";f=Math.max(4,Math.min(40,S.length+C))}}if(z.x!=0){k="pshape";
f=Math.max(0,Math.min(3,S.pshape+z.x))}if(k){var b=new bO(G.E.X,!0),i={};i[k]=f;S[k]=f;b.data={Q:G.l.ay,I:this.id,Pw:"vals",alU:i};
P.j(b);this.Dv(o,P,w,x)}};N.sP=function(){N.Qy.call(this,[10,35],N.ut,"tools/line",!1)};N.sP.prototype=new N.Qy;
N.sP.prototype.zA=function(o,P,w){var x=this.Yx.width,z=this.Yx.aopts;P=P.clone();if(w){P=N.BB.pz(o,P)}if(bn==1)x=0;
return[e.n.fg.Jk(o.x,o.y,P.x,P.y,x,z),e.KH.dC("Ln",null,null,[o.x,o.y,P.x,P.y],x,null,z)]};N.C9=function(){N.Qy.call(this,[10,31],N.Jn,"tools/cshape",!0)};
N.C9.prototype=new N.Qy;N.C9.prototype.zA=function(o,P,w){var x=this.Yx.shape,z=x.aR.q/x.aR._,S=X.tc.tz(x.g);
P=P.clone();if(w){P.y=o.y+(P.x-o.x)/z}var k=P.x-o.x,f=P.y-o.y;e.n.G9(S,new ar(k,0,0,f,o.x,o.y));return[S,e.KH.dC("customShape",[o.x,o.y,P.x,P.y],null,null,null,x.HN)]};
N.DH=function(o,P,w){N.Qf.call(this,o,P,w);this.hQ=0;this.R=null;this.Yk=null;this.T_=null;this.JN=1;
this.V5=0;this.Zh=!0;this.Qw=!1;this.cursor=null;this.aA=null;this.jO=null;this.Nv=!1;this.bY=null;this.a9L=0;
this.AU=null;this.aP=0;this.Dh=null;this.Zt=null;this.Qm=null;this.FB=null;this.aFl=null;this.X$=null};
N.DH.prototype=new N.Qf;N.DH.hi=function(o,P,w){var x={classID:"null",null:h7.TZ(w?"Lyr":"Dcmn",!0)};
if(o)x.Angl={t:"UntF",v:{type:"#Ang",val:P}};else x.Axis={t:"enum",v:{Ornt:P}};return{wQ:o?"rotateEventEnum":"flip",WP:x}};
N.DH.prototype.Rd=function(o,P,w,x,z){var S=new bO(G.E.X,!0);S.data={Q:G.l.ay,I:this.id,rL:z,$n:o,T_:w};
P.j(S);this.LS=!1};N.DH.prototype.Hg=function(o){return this.Zt&&this.Zt.aDb()};N.DH.prototype.eq=function(o,P,w,x,z){this.T_=z;
if(o.Q=="again"&&this.AU==null)return;if(!this.Wg(w,z))return;if(this.Zt){this.ayO(o,this.Zt.xP(),P,w,x,z);
this.DS(w,z,0,!0);this.rq(w);return}this.au9(w,o.r==null,o.r);this.arT(w);this.ayO(o,o.agD,P,w,x,z);
this.J7(w,P,o.Ka,!1)};N.DH.prototype.ayO=function(o,P,w,x,z,S){var k=this.Dh;if(P==null){var f=o.Tj!=null?o.Tj:4;
P=this.Zt.abG()[f]}var C=P.x,H=P.y;if(o.Q=="rot"&&o.P!=Math.PI&&(k.q+k._&1)==1){C=Math.floor(C);H=Math.floor(H)}var b=new ar;
b.translate(-C,-H);if(o.Q=="rot")b.rotate(o.P);if(o.Q=="scl")b.scale(o.P.x,o.P.y);if(o.Q=="mat")b.concat(o.P);
b.translate(C,H);if(o.Q=="again")b=this.AU;var i=e.W.G5(b);if(o.Q=="dtr"){var M=e.W;i=M.j$(o.P,M.U(-C,-H));
i=M.j$(M.U(C,H),i)}var T=this.Zt.eE();e.W.h(i,T);this.Zt.Sn(T);if(o.CY){var O=o.CY.v;this.KU({Ot:"switchWarp"},w,x,z);
this.KU({Ot:"wrp",CY:O},w,x,z)}};N.DH.prototype.vo=function(){return!0};N.DH.prototype.Wg=function(o,P,w){if(o==null)return!1;
if(this.id==N.vX)return o.e!=null;var x=o.ea(!0,null,null,!0);if(this.id==N.DF&&o.R[x[0]].rect.Mw()){alert("Layer is empty.");
return!1}for(var I=0;I<x.length;I++){var z=o.R[x[I]];if(z.Fp(2)||z.Fp(31)){alert(kQ.get([6,57,0]));return!1}if(z.add.artb){alert("You can not transform the whole artboard");
return!1}if(z.add.TySh)if(!eQ.LU(z.add.TySh,P.v7))return!1;if(z.add.SoLd){if(x.length==1&&(w&&w.lk==-1)&&(z.Jq()&&z.Jq().Ud||z.add.vmsk&&z.add.vmsk.Ud)){alert("Unlink masks before transforming Smart Object");
return!1}if(!o.aiw(z.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+o.Mc(z.add.SoLd.Idnt.v).V8+")");
return!1}}}if(o.e==null)return!0;if(!o.p9())return!1;return o.a03()};N.DH.prototype.aE=function(o,P,w,x,z){var S=this.rj(z,o),k=S[0],f=S[1],C=this.aP==0?this.Zt:this.Qm;
o.s.D*=f;this.Qw=C.aE(o,w,x,k,null,null,z);if(!this.Qw&&bn==1){this.J7(o,P,null,!0);return}this.rq(o,k);
o.s.D/=f;if(this.Qw&&C.PB(k)){if(Date.now()-this.a9L<250)this.J7(o,P,null,!0);this.a9L=Date.now()}};
N.DH.prototype.O4=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.iu,GP:this.cursor};o.j(P)};N.DH.prototype.rj=function(o,P){var w=1;
o=P.s.hI(o.x,o.y);if(this.aP==1){var x=e.W.tV(this.Zt.eE(),this.Dh);w=e.W.L1(x).gz();var z=e.W.Sd(x);
o=e.W.apj(z,o)}return[o,w]};N.DH.prototype.Dv=function(o,P,w,x,z){var S=this.rj(z,o),k=S[0],f=S[1],C=this.aP==0?this.Zt:this.Qm;
if(!z.ZO){var H="default";if(C){var b=C.G1(k,o.s.D*f,null,z);if(b)H=b}if(H!=this.cursor){this.cursor=H;
this.O4(P)}if(this.Qm){this.rq(o,k)}}if(!this.Qw)return;o.s.D*=f;var i=this.uC=C.Dv(o,w,x,k,this.Zh);
o.s.D/=f;this.DS(o,w,0,!0);this.rq(o,k);this.sc(P)};N.DH.prototype.I2=function(o,P,w,x,z){var S=this.rj(z,o),k=S[0],f=S[1];
this.Zt.I2(o,w,x,k);if(this.Qm){var C=this.Qm.I2(o,w,x,k);if(C){this.sc(P,!0);this.rq(o)}}if(this.uC){var H=this.gb(),b=e.a.R2(this.Dh).i;
e.W.h(H,b);this.Zt.Sn(b);this.uC=null}this.Qw=!1};N.DH.prototype.xF=function(o,P,w,x){if(x.d(i$.w_))this.J7(o,P,null,!0);
else if(x.d(i$.Sk))this._1(o,P);else{var z=this.Zt.xF(o,w,x);if(z){this.DS(o,w,0,!0);this.sc(P)}}};N.DH.prototype.KU=function(o,P,w,x){if(o.Ot=="commit")this.J7(w,P,null,!0);
else if(o.Ot=="cancel")this._1(w,P);else if(o.Ot=="switchWarp"){this.aP=1-this.aP;this.akI();this.rq(w);
this.sc(P)}else if(o.Ot=="wrp"){this.Qm.aAa(o.CY);this.rq(w);this.DS(w,this.T_,0,!0)}else if(o.Ot=="splt")this.Qm.aAT(o.P);
else if(o.Ot=="ctyp"){this.Zt.ajy(o.aB);this.rq(w);this.sc(P)}else if(o.Ot=="cen"){this.Zt.a80(o.yK);
this.rq(w);this.DS(w,this.T_,0,!0)}else if(o.Ot=="trn"){var z=e.W.G5(o.JG),S=this.Dh,k=e.W.tV(this.Zt.eE(),this.Dh);
z[6]=k[6],z[7]=k[7];var f=[S.x,S.y,S.x+S.q,S.y,S.x+S.q,S.y+S._,S.x,S.y+S._];e.W.h(z,f);this.JN=o.JN;
if(o.V5!=this.V5){this.V5=o.V5;this.a6X(w)}this.Zh=o.Zh;this.Zt.Sn(f);this.rq(w);this.DS(w,this.T_,0,!0)}};
N.DH.prototype.rq=function(o,P){if(this.aP==0)this.Zt.L_(o,this.T_);else{this.Qm.L_(o,P);var w=this.gb();
e.W.h(w,o.t.PT.i);e.W.h(w,o.t.AS);e.W.h(w,o.t.iC)}};N.DH.prototype.J7=function(o,P,w,x){this.DS(o,this.T_,this.JN);
var z=new d5(w?w:this.name,this),y="";if(this.hQ==0)z.data={type:this.hQ,R:this.R,bY:this.Yk,As:N.DH.R5(o,this.R)};
else if(this.hQ==1){var S=o.R[this.R[0]],k;if(S.YK.Zx<=0){k=e.U(S.YK.Yz.c());e.JX(S.YK.k0,k,3)}else k=o.e.channel;
var f={rect:S.YK.Yz.clone(),channel:k};z.data={type:this.hQ,r:this.R[0],jO:this.jO,GM:f,aA:this.aA,Nv:this.Nv,YK:S.YK,bY:this.bY,As:{sn:S.YK.Yz,Du:S.YK.k0}}}else if(this.hQ==2){z.data={type:this.hQ,jO:this.jO,GM:{rect:o.e.rect.clone(),channel:o.e.channel.slice(0)}}}o.Oi(z);
var C=this.Dh,H=e.W.tV(this.Zt.eE(),C),b=this.Yk,i=b?b[0]:null;if(b&&b.length==1&&i[4]){var M=N.DH.PU(i[4].nonAffineTransform),C=e.a.w4(e.lD.Qc(i[4].quiltWarp.v)[3]),T=e.W.tV(M,C);
H=e.W.j$(H,e.W.Sd(T))}var O=e.W.L1(H),Y=this.Zt.xP(),U=new ar;U.translate(Y.x,Y.y);U.concat(O);U.translate(-Y.x,-Y.y);
O=U.clone();var W=-Math.atan2(-O.b,O.F),t=new ar;t.rotate(W);O.concat(t);function _(l,Q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][Q],val:l}}}var n=h7.TZ("Lyr",!0);
if(this.id==N.vX)n.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var F=N.DH.a2A;for(var a in F)if(F[a]==this.Zt.$M)y=a;
if(y==""){y="Qcsi";U.$X=U.Ar=0}var V={classID:"null",null:n,FTcs:{t:"enum",v:{QCSt:y}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:_(U.$X,0),Vrtc:_(U.Ar,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:_(Math.atan(O.JJ/O.RL)*180/Math.PI,2),Vrtc:_(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:_(100*0,1),Vrtc:_(100*0,1)}},Wdth:_(O.F*100,1),Hght:_(O.RL*100,1),Angl:_(W*180/Math.PI,2)};
if(y=="Qcsi")V.Pstn={t:"Objc",v:{Hrzn:_(Y.x,0),Vrtc:_(Y.y,0)}};var D=this.Qm?this.Qm.fv():null;if(D&&!e.lD.tN(D)){V.quiltWarp={t:"Objc",v:D}}this.BS=P;
this.track({wQ:"transform",WP:V});this.escape(o,P,x)};N.DH.a2A={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
N.DH.prototype._1=function(o,P){if(this.hQ==0)N.DH.OD(o,this.R,this.Yk);else if(this.hQ==1){var w=o.R[this.R[0]];
o.e=this.jO;if(!this.Nv){w.YK.Yz=this.bY.sn;w.YK.k0=this.bY.Du;w.yD(o,0,0,o.e)}else{w.JE(o,this.aA)}o.N();
o.Gr=!0}else if(this.hQ==2){o.e=this.jO;o.Gr=!0}this.escape(o,P,!0)};N.DH.prototype.escape=function(o,P,w){this.Zt.clear(o);
if(this.Qm)this.Qm.clear(o);this.Zt=null;this.Qm=null;this.X$=null;this.aP=0;if(w)this.$_(P,G.E.X,{Q:G.l.xz})};
N.DH.prototype.Lv=function(o,P){if(o.type==0)N.DH.OD(P,o.R,o.As);else{if(o.type==1){var w=P.R[o.r];if(o.Nv){w.YK=o.YK}else{w.YK.Yz=o.As.sn;
w.YK.k0=o.As.Du}w.yD(P,0,0,P.e);P.N()}P.e={rect:o.GM.rect.clone(),channel:o.GM.channel.slice(0)};P.Gr=!0}};
N.DH.prototype.kW=function(o,P){if(o.type==0)N.DH.OD(P,o.R,o.bY);else{if(o.type==1){var w=P.R[o.r];if(o.Nv){w.JE(P,o.aA)}else{w.YK.Yz=o.bY.sn;
w.YK.k0=o.bY.Du;w.yD(P,0,0,P.e)}P.N()}P.e=o.jO;P.Gr=!0}};N.DH.prototype.au9=function(o,P,w){o.m0();var x=[];
if(w==null)for(var I=0;I<o.lL.length;I++)if(o.Fx[o.lL[I]].add.vmsk.g.length>2)x.push(-1-o.lL[I]);var z=[],S=o.s.A;
if(S[0]+S[1]+S[2]==3)if(w!=null||x.length==0||o.wJ!=null&&o.wJ.length!=0){if(o.T.length==1){var k=o.R[o.T[0]];
if(k.Pe()&&k.yJ)z=[o.T[0]]}if(z.length==0)z=o.ea(P,w,null,!0)}z=z.concat(x);for(var I=0;I<o.jM.length;
I++)z.push(-1e3-o.jM[I]);this.R=z};N.DH.prototype.enable=function(o,P,w,x,z,S){if(this.cursor==null)this.cursor="default";
this.O4(P);if(this.Zt)return;this.T_=w;this.au9(o,!0);this.arT(o,S&&S.lk!=null&&S.lk!=-1?S.lk:null);
this.sc(P,null,o);this.rq(o);if(S&&S.lk==-1)this.KU({Ot:"switchWarp"},P,o,x)};N.DH.prototype.Xj=function(){return[this.Zh?1:0]};
N.DH.prototype.nX=function(o,P,w){if(o&&o[0]!=null)this.Zh=o[0]==1};N.DH.prototype.sc=function(o,P,w){var x={Q:G.l.ay,I:this.id};
if(this.aP==0){var z=e.W.tV(this.Zt.eE(),this.Dh),S=e.W.L1(z);x.JG={zr:S,aB:this.Zt.a3b(),yK:this.Zt.xP(),sn:this.Dh.clone(),Zh:this.Zh}}else{x.ac5=P;
x.CY=this.Qm.fv()}if(w){x.Cg=["---"];for(var I=0;I<w.Cg.length;I++)x.Cg.push(w.Cg[I].name)}x.a2$=this.Qm!=null;
this.$_(o,G.E.X,x)};N.DH.prototype.arT=function(o,P){var w=this.id==N.vX,x=!0,z=this.R[0],S=o.R[z],f=null,C=null,H=null,M=null;
if(w){this.hQ=2;this.jO=o.e}else if(o.e&&this.R.length==1&&z>=0&&!S.rect.Mw()){this.hQ=1;this.jO=o.e;
this.aA=S.YK;this.Nv=!1;if(!S.x5(o,o.e)){this.Nv=!0;S.ZH(o,o.e,!1)}this.bY={Du:S.YK.k0,sn:S.YK.Yz}}else{this.hQ=0;
this.Yk=N.DH.R5(o,this.R,null);for(var I=0;I<this.Yk.length;I++)if(this.Yk[I][3]!=null)x=!1}var k=this.hQ==1;
if(this.Yk&&this.Yk.length==1){var b=this.Yk[0];if(b[2]!=null)C=b[2].SY;if(b[3]==null)k=!0;if(b[3]!=null)H=b[3];
if(b[4]!=null){f=o.R[this.R[0]].add.SoLd;if(b[1]||b[2])k=!1}}var i=w?o.e.rect.clone():N.DH.q_(o,this.R);
this.Dh=i;if(!w&&C&&bn==1){M=C.Lc();this.FB=e.W.tV(M,this.Dh)}else if(!w&&H&&bn==1){var T=o.R[this.R[0]],H=T.add.TySh;
M=e.a.R2(T.Mn.Ux).i;e.a.h(M,H.h,M);this.FB=e.W.tV(M,this.Dh)}else if(!w&&f){M=N.DH.PU(f.nonAffineTransform);
this.Dh=e.a.w4(e.lD.Qc(f.quiltWarp.v)[3]);if(k)this.Qm=new bc(f.quiltWarp.v);this.FB=e.W.tV(M,this.Dh)}else{if(k||w)this.Qm=new bc(e.lD.U(this.Dh));
this.FB=[1,0,0,0,1,0,0,0];if(this.id==N.DF)P=3;M=[i.x,i.y,i.x+i.q,i.y,i.x+i.q,i.y+i._,i.x,i.y+i._]}this.Zt=new jT(M,!0,!0,x,!1,!1,P);
this.aFl=[1,0,0,0,1,0,0,0];this.a6X(o)};N.DH.prototype.a6X=function(o){if(this.id==N.DF){var P,w,S=null;
if(this.Yk&&o.e==null){var x=this.Yk[0][0],z=x.bd;P=z[0];w=z[1]}else if(this.bY){P=this.bY.Du;w=this.bY.sn}if(this.V5!=0)S=o.Cg[this.V5-1].Hz(w);
this.X$=e.XI.aCf(P,w.q,w._,S)}};N.DH.q_=function(o,P){if(P==null)P=o.ea(!0,null,null,!0);var w=new fA,x=new fA;
if(o.e&&P.length==1&&P[0]>=0)w=o.e.rect.clone();else for(var I=0;I<P.length;I++){var z=P[I],S=0<=z?o.R[z]:-1e3<z?o.Fx[-1-z]:o.Cg[-1e3-z],k=S.add?S.add.vmsk:null,f=0<=z?S.yq(o,P.length==1,!1,!0):-1e3<z?e.n.$s(k.g,P.length==1&&k.T.length!=0?k.T:null):S.rect.clone();
w=w.It(f);if(z>0&&S.add.artb)x=x.It(S.sK())}return!x.Mw()?x:w};N.DH.prototype.$_=function(o,P,w,x){var z=new bO(P,!0);
z.data=w;if(x)z.I=x;o.j(z)};N.DH.R5=function(o,P,w){var x=[];for(var I=0;I<P.length;I++){var z=P[I],S,k;
if(z>=0){S=o.R[z];k=S.ZC(o,w,!0)}else if(z>-1e3){S=o.Fx[-1-z];k=[2]}else{x.push([null,null,null,null,null,null,null,o.Cg[-1e3-z].clone()]);
continue}var f=[],C=k.indexOf(0)!=-1;if(C){var H={bd:S.add.SoLd?null:[S.buffer.slice(0),S.rect.clone()]};
f.push(H);if(S.zO()){var b=S.fP(o);H.a22=b.buffer.slice(0);H.aCD=b.rect.clone()}}else f.push(null);if(k.indexOf(1)!=-1)f.push(S.Jq().clone());
else f.push(null);if(k.indexOf(2)!=-1)f.push({SY:S.add.vmsk.clone(),Vq:S.add.vstk?JSON.parse(JSON.stringify(S.add.vstk)):null,v4:S.add.vstk?iR.KT(o.R[z].add):null,XO:S.add.vstl?JSON.stringify(S.add.vstl):null,KH:S.add.vogk?JSON.parse(JSON.stringify(S.add.vogk)):null});
else f.push(null);if(S.add.TySh&&C){fe.Jt(S.add.TySh);f.push(S.add.TySh.h.clone())}else f.push(null);
if(S.add.SoLd&&C)f.push(JSON.parse(JSON.stringify(S.add.SoLd)));else f.push(null);if(k.indexOf(3)!=-1)f.push(S.fP(o).u.clone());
else f.push(null);if(S.add.lmfx)f.push(JSON.stringify(S.add.lmfx));else f.push(null);x.push(f)}return x};
N.DH.OD=function(o,P,w){for(var I=0;I<P.length;I++){var x=P[I],z=0<=x?o.R[x]:-1e3<x?o.Fx[-1-x]:o.Cg[-1e3-x],S=w[I];
if(S[0]){if(S[0].bd){z.rect=S[0].bd[1].clone();z.buffer=S[0].bd[0].slice(0)}if(z.zO()){var k=z.fP(o);
k.buffer=S[0].a22.slice(0);k.rect=S[0].aCD.clone()}}if(S[1]){z.Jq().channel=S[1].channel.slice(0);z.Jq().rect=S[1].rect.clone();
z.Jq().RC=!0}if(S[2]){z.add.vmsk=S[2].SY.clone();if(S[2].v4)iR.bu(z.add,S[2].v4);if(S[2].Vq)z.add.vstk=JSON.parse(JSON.stringify(S[2].Vq));
if(S[2].KH)z.add.vogk=JSON.parse(JSON.stringify(S[2].KH));if(S[2].XO)z.add.vstl=JSON.parse(S[2].XO)}if(S[3]){z.add.TySh.h=S[3].clone();
fe.zq(z.add.TySh)}if(S[4]){z.add.SoLd=JSON.parse(JSON.stringify(S[4]))}if(S[5]){var f=z.fP(o).u;f.channel=S[5].channel.slice(0);
f.rect=S[5].rect.clone()}if(S[6]){z.add.lmfx=JSON.parse(S[6])}if(S[7]){z.channel=S[7].channel.slice(0);
z.rect=S[7].rect.clone();z.RC=!0}if(0<=x){z.qX(o);z.N();if(S[4])z.w2(o,!1)}}o.N()};N.DH.mO=function(o,P,w,x,z,S,k,f,C,H){if(typeof S[0]=="number"){var b=[];
for(var I=0;I<w.length;I++)b[I]=S;S=b}for(var I=0;I<w.length;I++){var i=S[I],M=e.W.L1(i),T=M.gz(),O=w[I],Y=0<=O?o.R[O]:-1e3<O?o.Fx[-1-O]:o.Cg[-1e3-O],U=x[I];
if(Y.add&&Y.add.lmfx&&f)iO.w7(Y.add.lmfx,T);if(U[0]&&!U[3]&&!U[4]&&!U[5]){var W=U[0].bd;if(C){var t=C.SN(W[1]),_=e.U(t.c()*4);
e.sR(W[0],W[1],_,t);W=[_,t]}var n=N.DH.lH(W,z,i,k,z==0?Y.buffer.buffer:null,null,null,H);if(n){Y.rect=n.rect;
Y.buffer=n.buffer}}if(U[1]){var y=Y.Jq();N.DH.kZ(o,U[1],y,z,i,k,y.Ud&&k&&!e.lD.tN(k)&&U[0]?U[0].bd[1]:null);
if(C){var t=y.rect.SN(C),F=e.U(t.c());e.d0(y.channel,y.rect,F,t);y.channel=F;y.rect=t}}if(U[2]){var a=k&&!e.lD.tN(k),V=U[2].SY.clone(),D=w.length==1&&V.T.length!=0,l=w.length==1&&V.bg.length>1;
if(l)D=!1;var Q=D?V.T:null,m=l?V.bg:null;if(a){var R=e.lD.Qc(k);e.W.h(i,R[3]);e.n.aAm(V.g,R,Q,m)}else e.n.aiJ(V.g,i,Q,m);
if(Y.add.vstk&&f){Y.add.vstk.strokeStyleLineWidth.v.val=U[2].Vq.strokeStyleLineWidth.v.val*T;var $=U[2].v4;
if($&&$.Ya==3){$=JSON.parse(JSON.stringify($));var p=$.v4.phase.v;$.v4.Scl.v.val=Math.round($.v4.Scl.v.val*T);
p.Hrzn.v=Math.round(p.Hrzn.v*T);p.Vrtc.v=Math.round(p.Vrtc.v*T);iR.bu(Y.add,$)}}if(Y.add.vogk){Y.add.vogk=JSON.parse(JSON.stringify(U[2].KH));
if(a||l)e.KH.alA(Y.add.vogk);else e.KH.h(Y.add.vogk,i,w.length>1?[]:V.T,f)}if(Y.add.vstl){var c=Y.add.vstl=JSON.parse(U[2].XO);
for(var B=0;B<2;B++){var Z=B==0?c.wm:c.eJ;if(Z==null||Z[3]==null)continue;var v=Z[3],E=new ar(v[0],v[1],v[2],v[3],v[4],v[5]);
E.concat(M);Z[3]=[E.F,E.b,E.JJ,E.RL,E.$X,E.Ar]}}V.yy*=T;var g=new ar;g.rotate(V.Jc);g.concat(M);V.Jc=Math.atan2(-g.b,g.F);
Y.add.vmsk=V;if(Y.add.vogk)e.KH.w3(Y.add.vogk,Y.add.vmsk)}if(U[3]){var E=U[3].clone();E.concat(M);Y.add.TySh.h=E;
fe.zq(Y.add.TySh);eQ.tW(Y,P.v7)}if(U[4]){var u=Y.add.SoLd,j=N.DH.PU(U[4].nonAffineTransform);e.W.h(i,j);
var A=e.a.RR(j);if(jT.RV(j)){if(k){var K=e.a.w4(e.lD.Qc(U[4].quiltWarp.v)[3]),F=e.W.tV(j,K),s=e.a.w4(e.lD.Qc(k)[3]);
j=[s.x,s.y,s.x+s.q,s.y,s.x+s.q,s.y+s._,s.x,s.y+s._];e.W.h(F,j);u.quiltWarp.v=k}var r=e.W.tV(j),h=j;if(!e.W.vY(r)){r[6]=r[7]=0;
h=[0,0,1,0,1,1,0,1];e.W.h(r,h)}u.Trnf=N.DH.Co(h);u.nonAffineTransform=N.DH.Co(j);if(u.filterFX)u.filterFX=JSON.parse(JSON.stringify(U[4].filterFX));
N.DH.atJ(u,M);Y.w2(o,z==0,P.v7)}}if(U[5])N.DH.kZ(o,U[5],Y.fP(o).u,z,i,k);if(U[7])N.DH.kZ(o,U[7],Y,z,i,k);
if(0<=O){if(!H)Y.wW();Y.qX(o);Y.N();if(Y.Mn)Y.Mn.U0=!0}}o.N()};N.DH.IE=function(o,P){var w=P.gz(),x=0;
e._I(o);var z=e.a9a(o,P,.3,4);x=z[0];P=z[1];var S=o[x],k=o[x+1],f=k.q,C=k._,H=e.a.R2(k).i;e.a.h(H,P,H);
var b=e.a.RR(H),i=e.U(b.c()),M=b.x,T=b.y,O=b.q,Y=b._,U=P.clone();U.Sd();var W=U.Zc(new eD(0,0)),t=U.Zc(new eD(1,0)),_=t.x-W.x,n=t.y-W.y;
for(var y=0;y<Y;y++){var F=U.F*(M+.5)+U.JJ*(y+T+.5)+U.$X,a=U.b*(M+.5)+U.RL*(y+T+.5)+U.Ar;for(var V=0;
V<O;V++){i[y*O+V]=Math.floor(.5+e.W.aby(F,a,S,f,C));F+=_;a+=n}}return{rect:b,channel:i}};N.DH.x$=function(o,P,w,x,z,S){if(w==null)w=!1;
return N.DH.lH(o,w?0:1,e.W.G5(P),null,x,z,S,w)};N.DH.lH=function(o,P,w,x,z,S,k,f){if(f==null)f=!1;if(f&&k)throw"e";
var C={},b=0;if(x&&!e.lD.tN(x)){var H=e.lD.Qc(x);e.W.h(w,H[3]);C.rect=e.a.RR(H[3]);C.buffer=e.U(C.rect.c()*4);
e.V0.drawImage(H,o[0],o[1].clone(),e.lD.q_(x),C.buffer,C.rect,P==0);return C}if(e.W.vY(w)){e.nJ(o);var i=.3,b=0,M=e.W.L1(w),T=o[1],O=T.c()*M.gz();
if(f&&O>4e6)i=O>8e6?2.2:1.2;var Y=e.a9a(o,M,i,16);b=Y[0];w=e.W.G5(Y[1])}var U=o[b],T=o[b+1],W=e.W.j$(w,e.W.G5(new ar(T.q,0,0,T._,T.x,T.y))),t=[0,0,1,0,1,1,0,1];
e.W.h(W,t);C.rect=e.a.RR(t);if(k)C.rect=C.rect.SN(k);if(f){while((C.rect.q&3)!=0)C.rect.q++;while((C.rect._&3)!=0)C.rect._++}if(!jT.RV(t)||C.rect.q>1e5||C.rect._>1e5||C.rect.c()>3e4*3e4)return null;
var _=C.rect.c()*4;if(z&&z.byteLength>=_&&_>=z.byteLength>>2){C.buffer=new Uint8Array(z)}else{C.buffer=e.U(_)}e.W.drawImage(W,U,T.q,T._,C.buffer,C.rect,P==0,S,f);
if(P==2&&C.buffer){var n=C.rect.q,y=C.rect._,F;F=[0,-1,0,-1,16,-1,0,-1,0];F=e.qY.na(F);var a=C.buffer.slice(0);
e.qY.jn(a,C.buffer,n,y,F,255,!1,!0)}if(C.buffer)return C};N.DH.kZ=function(o,P,w,x,z,S,k){var f=P.rect,C=P.channel;
if(k){f=k;C=P.Hz(f)}if(P.color==255)e.Sd(C);var H=e.U(f.c()*4);e.lI(C,H,3);var b=N.DH.lH([H,f],x,z,S);
if(b){w.rect=b.rect;w.channel=e.U(b.rect.c());e.JX(b.buffer,w.channel,3);w.RC=!0}if(P.color==255){e.Sd(C);
if(b)e.Sd(w.channel)}};N.DH.atJ=function(o,P){var w=o.filterFX;if(w)w=w.v.filterFXList;if(w)w=w.v;if(w)for(var x=0;
x<w.length;x++){var z=w[x].v.Fltr;if(z==null)continue;var S=z.v.classID;z=z.v;if(S!="rigidTransform"&&S!="blurbTransform")continue;
var k=[];for(var f=0;f<4;f++)k.push(z["PuX"+f].v,z["PuY"+f].v);var C=k.slice(0);e.a.h(k,P,k);for(var f=0;
f<4;f++){z["PuX"+f].v=k[f*2];z["PuY"+f].v=k[f*2+1]}if(S=="rigidTransform"){var H=["PinP","posFinalPins"],b=["originalVertexArray","deformedVertexArray"],i=z.puppetShapeList.v;
for(var M=0;M<i.length;M++){var T=i[M].v;for(var O=0;O<H.length;O++){var Y=N.DH.PU(T[H[O]]);e.a.h(Y,P,Y);
T[H[O]]=N.DH.Co(Y);var U=new Uint8Array(T[b[O]].v),C=new Float32Array(U.buffer);e.a.h(C,P,C);var W=[];
for(var t=0;t<U.length;t++)W[t]=U[t];T[b[O]].v=W}}}if(S=="blurbTransform"){var _=[[0,1],[0,1,2,3,4,5,6,7,8,9],[],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]],n=e.Cm.VK(z)[0];
for(var y=0;y<6;y++){var F=n[y],a=_[y];for(var I=0;I<F.length;I++){var V=F[I],C=[];for(var D=0;D<a.length;
D++)C[D]=V[a[D]];e.a.h(C,P,C);for(var D=0;D<a.length;D++)V[a[D]]=C[D]}}e.Cm.jC(n,z)}}};N.DH.PU=function(o){var P=[],w=o.v.length;
for(var I=0;I<w;I++)P.push(o.v[I].v);return P};N.DH.Co=function(o){var P={t:"VlLs",v:[]},w=o.length;
for(var I=0;I<w;I++)P.v.push({t:"doub",v:o[I]});return P};N.DH.prototype.akI=function(){var o=e.a.w4(e.lD.Qc(this.Qm.fv())[3]),P=e.W.tV(this.Zt.eE(),this.Dh),w=[o.x,o.y,o.x+o.q,o.y,o.x+o.q,o.y+o._,o.x,o.y+o._];
e.W.h(P,w);this.Zt.Sn(w);this.Dh=o};N.DH.prototype.gb=function(){var o=e.W.tV(this.Zt.eE(),this.Dh);
if(this.uC)o=e.W.j$(o,e.W.G5(this.uC));return o};N.DH.prototype.DS=function(o,P,w,x){var z=this.gb();
z=e.W.j$(z,e.W.Sd(this.FB));var S=this.Qm?this.Qm.fv():null;if(this.hQ==0){var k=this.AU=e.W.L1(z);if(this.id==N.DF){var f=this.Yk[0][0],C=f.bd,H=C[1],b=~~(H.q*Math.max(0,k.F)),i=~~(H._*Math.max(0,k.RL)),M=new fA(Math.round(k.F*H.x+k.$X),Math.round(k.RL*H.y+k.Ar),b,i),T=e.XI.h(this.X$,M),O=o.R[this.R[0]];
O.buffer=T;O.rect=M;O.N();o.N()}else N.DH.mO(o,P,this.R,this.Yk,w,z,S,null,null,x)}else if(this.hQ==1){var Y=o.R[this.R[0]],H=this.bY.sn;
if(Y.Zx<=0){var U=this.bY.Du,W=this.jO,t=null;if(S&&!e.lD.tN(S)&&!W.rect.w6(H)){var T=e.U(W.rect.c()*4);
e.sR(U,H,T,W.rect);U=T;H=W.rect}if(this.id==N.DF){var k=this.AU=e.W.L1(z),b=~~(H.q*Math.max(0,k.F)),i=~~(H._*Math.max(0,k.RL)),M=new fA(Math.round(k.F*H.x+k.$X),Math.round(k.RL*H.y+k.Ar),b,i),T=e.XI.h(this.X$,M);
t={buffer:T,rect:M}}else t=N.DH.lH([U,H],w,z,S);if(t){Y.YK.k0=t.buffer;Y.YK.Yz=t.rect;var _=e.U(t.rect.c());
e.JX(Y.YK.k0,_,3);o.e={channel:_,rect:Y.YK.Yz.clone()}}}else{var n=e.U(H.c()*4);e.lI(this.bY.Du,n,3);
var t=N.DH.lH([n,H],w,z,S);if(t){Y.YK.k0=e.U(t.rect.c());e.JX(t.buffer,Y.YK.k0,3);Y.YK.Yz=t.rect}this.aCB(o,w,z,S)}Y.yD(o,0,0,o.e);
if(w!=0){Y.wW();e.wW(o.e)}o.Gr=!0;o.N()}else if(this.hQ==2)this.aCB(o,w,z,S)};N.DH.prototype.aCB=function(o,P,w,x){var z=this.jO.rect,S=e.U(z.c()*4);
e.lI(this.jO.channel,S,3);var k=N.DH.lH([S,z],P,w,x),f=e.U(k.rect.c());e.JX(k.buffer,f,3);o.e={channel:f,rect:k.rect};
o.Gr=!0};N.DH.prototype.disable=function(o,P,w,x){if(this.Zt)this.J7(o,P,null,!0)};N.aAr=function(){N.DH.call(this,[10,16],N.fd,"tools/transform")};
N.aAr.prototype=new N.DH;N.a4l=function(){N.DH.call(this,[7,10],N.vX,"tools/transform")};N.a4l.prototype=new N.DH;
N.azI=function(){N.DH.call(this,[10,48],N.DF,"tools/transform")};N.azI.prototype=new N.DH;N.H_=function(o,P,w){N.Qf.call(this,o?o:[10,40],P?P:N.ta,w?w:"tools/slice");
this.Ow=null;this.BS=null;this.KF={S$:0,x:0,y:0};this.$U=null;this.aCo=null;this.rz=null;this.k5=null};
N.H_.prototype=new N.Qf;N.H_.Vz=function(o,P){var w=-1;for(var I=0;I<o.length;I++){var x=N.H_.R$(o,I);
if(x[0]<=P.x&&P.x<=x[2]&&x[1]<=P.y&&P.y<=x[3]){w=I;break}}return w};N.H_.prototype.eq=function(o,P,w,x,z){if(w==null)return;
this.W2(w);if(o.Q=="fromAction"){var S=o.tU,k=S.wQ,f=S.WP,C=w.nr(),H=w.Qq(),b=H==-1?new fA(0,0,w.q,w._):w.R[H].sK();
if(k=="divide"){if(w.gf.length!=0){var i=w.gf[0],M=N.H_.R$(w.zV,i);b=new fA(M[0],M[1],M[2]-M[0],M[3]-M[1]);
w.zV.splice(i,1);w.gf=[]}C=[[],[]];for(var T=0;T<2;T++){var O=["Across","Down"][T],Y=f["pixels"+O]?0:1,U=f[["pixels","slices"][Y]+O];
if(U==null)continue;U=U.v;var W=T==0?b.x:b.y,t=T==0?b.q:b._;if(Y==0)for(var I=1;I*U<t;I++){C[0].push([T,W+I*U]);
C[1].push(H)}else{var _=Math.floor(t/U);for(var I=1;I<U;I++){C[0].push([T,W+I*_]);C[1].push(H)}}}}var n=[b.x,b.x+b.q],y=[b.y,b.y+b._];
for(var I=0;I<C[0].length;I++){var F=C[0][I],a=Math.round(F[1]),V=C[1][I];if(V!=-1&&V!=H)continue;if(F[0]==0&&n.indexOf(a)==-1)n.push(a);
if(F[0]==1&&y.indexOf(a)==-1)y.push(a)}n.sort(function(Z,v){return Z-v});y.sort(function(Z,v){return Z-v});
for(var D=1;D<y.length;D++)for(var l=1;l<n.length;l++){w.zV.push(N.H_.BO());N.H_.hT(w.zV,w.zV.length-1,[n[l-1],y[D-1],n[l],y[D]]);
w.yW=!0}}else if(o.Q=="reorder"){if(w.gf.length==0)return;var Q=w.zV,m=w.gf;m.sort(function(Z,v){return Z-v});
console.log(m);var R=Q.slice(0),$=[],p=[];for(var I=0;I<m.length;I++){var i=m[I],c=Q[i];p.push(c);R.splice(R.indexOf(c),1)}var B=Math.max(0,Math.min(R.length,m[0]-o.dir));
for(var I=0;I<p.length;I++){R.splice(B+I,0,p[I]);$.push(B+I)}w.zV=R;w.gf=$}else if(o.Q=="delete"){var Q=w.zV.slice(0);
for(var I=0;I<w.gf.length;I++)w.zV.splice(w.zV.indexOf(Q[w.gf[I]]),1);w.gf=[]}else if(o.Q=="deleteAll"){w.zV=[];
w.gf=[]}else{w.zV[w.gf[0]].v=o;w.yW=!0}this.fX(w)};N.H_.prototype.enable=function(o,P,w,x,z,S){N.Qf.prototype.enable.call(this,o,P,w,x,z,S);
if(!w.Xp.zV){var k=new bO(G.E.X,!0);k.data={Q:G.l.CA,JL:eB.wZ};P.j(k)}};N.H_.prototype.disable=function(){this.Ow=null;
this.BS=null};N.H_.prototype.Rd=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=N.H_.Vz(o.zV,S);if(k==-1)return;
this.Ow=o;this.BS=P;o.gf=[k];o.yW=!0;if(this.k5==null){this.k5=new i4([{name:[5,4]},{name:[8,11,1],Na:!0}]);
this.k5.J("select",this.Lh,this)}var f=this.k5;f.parent=P;f.S();f.update(o,w);var C=new bO(G.E.X,!0);
C.data={Q:G.l.tZ,NP:f,x:z.P8+2,y:z.tm+1};P.j(C)};N.H_.prototype.Lh=function(o){var P=this.k5.vm()[0],w=this.Ow;
if(P==0){this.W2(w);w.zV.splice(w.gf[0],1);w.gf=[];w.yW=!0;this.fX(w)}if(P==1){var x=new bO(G.E.X,!0);
x.data={Q:G.l.y7,hq:"soptions",P:w.zV[w.gf[0]].v};this.BS.j(x)}};N.H_.prototype.aE=function(o,P,w,x,z){if(o==null)return;
this.W2(o);var S=o.s.hI(z.x,z.y);S=N.y9.Qx(o,S,w,[!0,null,!1]);S.x=Math.round(S.x);S.y=Math.round(S.y);
this.rz=S;o.zV.unshift(N.H_.BO());o.gf=[0];N.H_.hT(o.zV,0,[S.x,S.y,S.x+20,S.y+20]);o.yW=!0};N.H_.prototype.Dv=function(o,P,w,x,z){if(this.$U==null)return;
var S=o.s.hI(z.x,z.y),k=this.rz;S=N.y9.Qx(o,S,w,[!0,null,!1]);var f=N.Qy.Oc(k,S,x,!0,this.KF);k=f[0];
S=f[1];var C=[k.x,k.y,S.x,S.y];N.H_.aBJ(C);N.H_.hT(o.zV,0,C);o.yW=!0};N.H_.prototype.I2=function(o,P,w,x,z){this.fX(o);
this.rz=null};N.H_.prototype.W2=function(o){this.$U=JSON.stringify(o.zV);this.aCo=JSON.stringify(o.gf)};
N.H_.prototype.fX=function(o){var P=JSON.stringify(o.zV);if(P!=this.$U){var w=new d5(this.name,this);
w.data={bY:this.$U,As:P,atQ:this.aCo,a9C:JSON.stringify(o.gf)};o.Oi(w)}this.$U=null};N.H_.prototype.kW=function(o,P){P.zV=JSON.parse(o.bY);
P.gf=JSON.parse(o.atQ);P.yW=!0};N.H_.prototype.Lv=function(o,P){P.zV=JSON.parse(o.As);P.gf=JSON.parse(o.a9C);
P.yW=!0};N.H_.prototype.qD=function(o,P){return P!=null&&P.gf.length!=0&&(o==i$.bc||o==i$.aa)};N.H_.prototype.xF=function(o,P,w,x){if(o==null)return;
if(x.d(i$.bc)||x.d(i$.aa))this.eq({Q:"delete"},P,o,x,w);var z=x.Tl();if(z.x!=0||z.y!=0){this.W2(o);N.H_.VC(o,z);
this.fX(o)}};N.H_.prototype.KU=function(o,P,w,x,z){this.KF=o.$L};N.H_.ae4=function(o,P,w,x){var z=new eD(-P.x,-P.y),S=P.q/w.q,k=P._/w._,f=[0,0,P.q,P._];
for(var I=0;I<o.length;I++){var C=N.H_.R$(o,I);if(x){C[0]=Math.round(C[0]*S);C[1]=Math.round(C[1]*k);
C[2]=Math.round(C[2]*S);C[3]=Math.round(C[3]*k)}else{N.H_.nU(C,z);N.H_.amW(C,f)}if(C[0]>=C[2]||C[1]>=C[3]){o.splice(I,1);
I--;continue}N.H_.hT(o,I,C)}};N.H_.VC=function(o,P){var w=o.zV;for(var I=0;I<o.gf.length;I++){var x=N.H_.R$(w,o.gf[I]);
N.H_.nU(x,P);N.H_.hT(w,o.gf[I],x)}};N.H_.amW=function(o,P){if(o[0]<P[0])o[0]=P[0];if(o[1]<P[1])o[1]=P[1];
if(P[2]<o[2])o[2]=P[2];if(P[3]<o[3])o[3]=P[3]};N.H_.nU=function(o,P){o[0]=Math.round(o[0]+P.x);o[2]=Math.round(o[2]+P.x);
o[1]=Math.round(o[1]+P.y);o[3]=Math.round(o[3]+P.y)};N.H_.hT=function(o,I,P){var w=o[I].v.bounds.v;w.Left.v=P[0];
w.Top.v=P[1];w.Rght.v=P[2];w.Btom.v=P[3]};N.H_.R$=function(o,I){var P=o[I].v.bounds.v;return[P.Left.v,P.Top.v,P.Rght.v,P.Btom.v,I]};
N.H_.aBJ=function(o){if(o[2]<o[0]){var P=o[0];o[0]=o[2];o[2]=P}if(o[2]==o[0])o[2]++;if(o[3]<o[1]){var P=o[1];
o[1]=o[3];o[3]=P}if(o[3]==o[1])o[3]++};N.H_.w4=function(o,P){var w=1e9,x=-1e9,z=1e9,S=-1e9;for(var I=0;
I<P.length;I++){var k=N.H_.R$(o,P[I]);w=Math.min(w,k[0]);z=Math.min(z,k[1]);x=Math.max(x,k[2]);S=Math.max(S,k[3])}return[w,z,x,S]};
N.H_.BO=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
N.u4=function(){N.H_.call(this,[10,41],N.N0,"tools/sselect");this.rz=null;this.qI=null;this.mT=null;
this._H=null;this.Wo=!1};N.u4.prototype=new N.H_;N.u4.prototype.aE=function(o,P,w,x,z){if(o==null)return;
var S=o.s.hI(z.x,z.y),k=N.u4.azi(S,4/o.s.D,o.zV,o.gf);k.pop();if(k.length!=0){this.rz=S;this.mT=k;this.W2(o);
return}var f=o.zV,C=N.H_.Vz(f,S);if(C==-1)o.gf=[];else{var H=o.gf.indexOf(C);if(x.d(i$.W1)){if(H==-1)o.gf.push(C);
else o.gf.splice(H,1)}else{o.gf.sort(function(Y,U){return Y-U});if(H==-1)o.gf=[C];this.rz=S;this.W2(o);
this.qI=N.H_.w4(f,o.gf);this._H=[];for(var I=0;I<o.gf.length;I++)this._H.push(N.H_.R$(f,o.gf[I]));if(x.d(i$.JV)){var b=f.slice(0),i=o.gf,M=[];
for(var I=0;I<i.length;I++){var C=i[I],T=b[C],O=f.indexOf(T);M.push(O);f.splice(O,0,JSON.parse(JSON.stringify(T)))}o.gf=M}}}o.yW=!0};
N.u4.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y);if(this.rz==null){var k=N.u4.azi(S,4/o.s.D,o.zV,o.gf),f=k.pop(),C=k.length==0?"default":["ew","nwse","ns","nesw"][f]+"-resize",H=new bO(G.E.X,!0);
H.data={Q:G.l.iu,GP:C};P.j(H);return}if(!this.Wo&&S.w6(this.rz))return;this.Wo=!0;var b=o.zV,k=this.mT;
if(k){S=N.y9.Qx(o,S,w,[!0,null,!1]);var i=Math.round(S.x),M=Math.round(S.y);for(var I=0;I<k.length;I+=2){var T=N.H_.R$(b,k[I]),O=k[I+1];
T[O]=(O&1)==0?i:M;N.H_.aBJ(T);N.H_.hT(b,k[I],T)}}else{var Y=S.WJ(this.rz),U=this.qI.slice(0);N.H_.nU(U,Y);
var W=new fA(U[0],U[1],U[2]-U[0],U[3]-U[1]),t=N.y9.wa(o,W,w,[!0,null,!1],!0);N.y9.FK(o,W,t);Y.x+=t[0];
Y.y+=t[1];for(var I=0;I<o.gf.length;I++)N.H_.hT(b,o.gf[I],this._H[I]);N.H_.VC(o,Y)}o.yW=!0};N.u4.prototype.I2=function(o,P,w,x,z){if(this.rz==null)return;
this.fX(o);o.t.k2=null;o.yW=!0;this.rz=null;this.mT=null;this._H=null;this.Wo=!1};N.u4.azi=function(o,P,w,x){var z=o.x,S=o.y,k=[],f=-1,C=[];
for(var I=0;I<x.length;I++){var H=x[I],b=N.H_.R$(w,H),i=b[0],M=b[1],T=b[2],O=b[3];if(z<i-P||T+P<z||S<M-P||O+P<S)continue;
var Y=[z<i+P,S<M+P,T-P<z,O-P<S],U=-1;for(var W=0;W<4;W++){if(Y[W]&&Y[W+1&3])U=1+2*(W&1);if(Y[W])k.push(H,W)}if(U==-1){if(Y[0]||Y[2])U=0;
if(Y[1]||Y[3])U=2}if(U!=-1){f=U;C.push(H)}}var t=k.length;for(var I=0;I<t;I+=2){var H=k[I],_=k[I+1],n=N.H_.R$(w,H)[_];
for(var W=0;W<x.length;W++){var y=x[W];if(C.indexOf(y)!=-1)continue;var b=N.H_.R$(w,y);if(b[_&1]==n)k.push(y,_&1);
if(b[2+(_&1)]==n)k.push(y,2+(_&1))}}k.push(f);return k};N.f9=function(o,P,w){N.Qf.call(this,o,P,w);this.Bs=null;
this.a7h=null;this.JD=null;this.FA=null;this.Nn=null;this.p5=null;this.Pb=null;this.fo=[]};N.f9.prototype=new N.Qf;
N.f9.prototype.vo=function(){return!0};N.f9.fO=function(o){if(o==null)return!1;if(o.T.length!=1)return!1;
var P=o.R[o.T[0]];return P.add.SoLd||o.p9(!1)};N.f9.prototype.Wg=function(o,P){return N.f9.fO(o)};N.f9.prototype.qD=function(o,P){return o==i$.bc||o==i$.aa};
N.f9.prototype.enable=function(o,P,w,x,z,S,k){this.a7h=S.ii;var f=S.ii,C,O=null;if(f){var H=o.R[f.r];
if(H.add.SoLd.filterFX!=null){var b=H.add.SoLd.filterFX.v.filterFXList.v;if(b[f.index])C=JSON.parse(JSON.stringify(b[f.index].v.Fltr.v))}}var H=o.R[o.T[0]],i=H.buffer,M=H.rect,T=H.add.SoLd;
if(T){var Y=T.nonAffineTransform.v;O=[];for(var I=0;I<4;I++)O.push(Y[I*2].v,Y[I*2+1].v);if(C==null)this.Hh("edit",P);
var U=H.fP(o);i=U.buffer;M=U.rect}this.FA={buffer:i.slice(0),rect:M.clone(),aw8:O};this.a6v(C,o,P,S.vl);
this.aG9(P);var W=new bO(G.E.X,!0);W.data={Q:G.l.iu,GP:"default"};P.j(W)};N.f9.prototype.aG9=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.ay,I:this.id,JL:this.Nn};o.j(P)};N.f9.prototype.disable=function(o,P,w,x){if(this.p5)this.J7(o,P,!0)};
N.f9.prototype.Hh=function(o,P){var w=new bO(G.E.z,!0);w.I=N.bk;w.data={Q:o,ii:this.a7h,Bs:this.Bs,IN:this.JD};
P.j(w)};N.f9.prototype.J7=function(o,P,w){this.Hh("confirm",P);this.escape(o,P,w)};N.f9.prototype._1=function(o,P,w){this.Hh("cancel",P);
this.escape(o,P,w)};N.tw=function(o,P,w){N.f9.call(this,[10,46],N.Yq,"tools/transform");this.Bs="rigidTransform";
this.Nn=[1,1,2,!0]};N.tw.prototype=new N.f9;N.tw.prototype.a6v=function(o,P,w){this.JD=o?o:N.tw.jE(this.FA,this.Nn);
this.p5=N.tw.Q5(this.JD,this.Nn);this.jx();this.N4(P);if(o==null)this.xW(w)};N.tw.prototype.jx=function(o){var P=this.p5;
this.fo=[];for(var I=0;I<P.length;I++){var w=P[I];for(var x=0;x<w.T.length;x++)this.fo.push([I,w.T[I]]);
w.rx=e.nd.a30(w);if(o)e.nd.a8T(w)}};N.tw.prototype.KU=function(o,P,w,x){if(o.Ot=="commit")this.J7(w,P,!0);
else if(o.Ot=="cancel")this._1(w,P,!0);else if(o.Ot=="prm"){var z=!1;for(var I=0;I<3;I++)if(this.Nn[I]!=o.JL[I])z=!0;
this.Nn=o.JL;if(z){this.JD=N.tw.jE(this.FA,this.Nn,this.JD);this.p5=N.tw.Q5(this.JD,this.Nn);this.jx(!0);
this.xW(P)}this.N4(w)}else if(o.Ot=="moveDepth"){var S=this.p5;for(var k=0;k<S.length;k++){var f=S[k];
for(var I=0;I<f.T.length;I++){var C=f.T[I];f.YN[C]+=o.alI?1:-1}}this.xW(P)}};N.tw.prototype.xF=function(o,P,w,x){var z=x.Tl();
if(x.d(i$.w_))this.J7(o,P,!0);else if(x.d(i$.Sk))this._1(o,P,!0);else if(x.d(i$.bc)||x.d(i$.aa)){var S=this.p5;
for(var k=0;k<S.length;k++){var f=S[k];f.T.sort(function(b,i){return i-b});for(var I=0;I<f.T.length;
I++){var C=f.T[I],H=C*2;f.YN.splice(C,1);f.K7.splice(C,1);f.S4.splice(C,1);f.b5.splice(C,1);f.YU.splice(H,2);
f._Z.splice(H,2)}f.T=[];if(f.b5.length==0){f.pE=f.O7.slice(0);f.lt=f.O7.slice(0)}}this.jx(!0);this.xW(P);
this.N4(o)}else if(z.x!=0||z.y!=0){this.amo(o,z.x,z.y,P);this.T2=null}};N.tw.prototype.escape=function(o,P,w){o.t.Uq=null;
o.t.sA=[];o.t.rX=[];o.yW=!0;this.p5=null;var x=new bO(G.E.X,!0);x.data={Q:G.l.xz};if(w)P.j(x)};N.tw.prototype.aE=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=S.x,f=S.y,C=this.p5,H=null,b=[0,2,4,1.2,1.2,1.2],i=-1,M=N.QC(o,z);
for(var I=0;I<C.length;I++){var T=C[I],O=e.a.Rf(T._Z,k,f,M);if(O!=-1)H=[I,O];if(i==-1&&e.nd.aDf.agd(T.lt,T.Yg,k,f))i=I}if(H==null&&i!=-1){var T=C[i];
N.tw.ahq(T,k,f,k,f,0);H=[i,T.b5.length-1];T.rx=e.nd.a30(T)}this.Pb=S;if(H){var Y=C[H[0]].T.indexOf(H[1])!=-1;
if(x.d(i$.W1)&&!Y){C[H[0]].T.push(H[1]);this.fo.push(H)}else if(!Y){C[H[0]].T=[H[1]];this.fo=[H]}}this.N4(o)};
N.tw.ahq=function(o,P,w,x,z,S){var k=e.a.Rf(o.lt,P,w);o.b5.push(k);o._Z.push(x,z);o.YU.push(o.lt[k*2]-P,o.lt[k*2+1]-w);
o.S4.push(0);o.K7.push(!1);o.YN.push(S)};N.tw.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=this.Pb;
if(k)this.amo(o,S.x-k.x,S.y-k.y,P)};N.tw.prototype.amo=function(o,P,w,x){var z={},S=this.fo,k=this.p5;
if(this.T2==null){this.T2=[];for(var I=0;I<k.length;I++)this.T2.push(k[I]._Z.slice(0))}for(var I=0;I<S.length;
I++){var f=this.fo[I],C=f[0],H=k[f[0]],b=f[1]*2;H._Z[b+0]=this.T2[C][b+0]+P;H._Z[b+1]=this.T2[C][b+1]+w;
z[C]=C}for(var C in z)e.nd.a8T(this.p5[z[C]]);this.N4(o);this.xW(x)};N.tw.prototype.I2=function(o,P,w,x,z){this.Pb=null;
this.T2=null};N.tw.prototype.xW=function(o){N.tw.aA7(this.p5,this.Nn,this.JD);this.Hh("edit",o)};N.tw.prototype.N4=function(o){var P=this.p5,w=this.JD;
o.t.Uq={i:[],LG:[]};o.t.sA=[];o.t.rX=[];for(var I=0;I<P.length;I++){var x=P[I];for(var z=0;z<x._Z.length;
z+=2){var S=o.t.rX;if(x.T.indexOf(z>>>1)!=-1)S=o.t.sA;S.push(x._Z[z],x._Z[z+1])}if(this.Nn[3])e.a.concat(o.t.Uq,e.a.akG(x.lt,x.Yg))}o.yW=!0};
N.tw.jE=function(o,P,w){var x=o.buffer,z=o.rect,S=o.aw8,k=cM.bS("rigidTransform");if(S)for(var I=0;I<4;
I++){k["PuX"+I].v=S[I*2];k["PuY"+I].v=S[I*2+1]}var f=k.puppetShapeList.v,C=e.nd.agO(x,z.q,z._,P[1],P[2]),H=[];
for(var b=0;b<C.length;b++){var i={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
i.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var M=C[b];f.push({t:"Objc",v:i});var T=M.O7.slice(0);e.a.h(T,new ar(1,0,0,1,z.x,z.y),T);var O=M.Yg;
for(var I=0;I<O.length;I+=3){var Y=O[I+1];O[I+1]=O[I+2];O[I+2]=Y}H.push({Yg:O,O7:T,pE:T,lt:T,b5:[],YU:[],_Z:[],rx:null,T:[],S4:[],K7:[],YN:[]})}if(w){var U=N.tw.Q5(w,[]),W=H[0];
for(var I=0;I<U.length;I++){var t=U[I];for(var _=0;_<t.T.length;_++)W.T.push((W._Z.length>>>1)+t.T[_]);
for(var _=0;_<t.b5.length;_++){var n=t.b5[_]*2,y=t.O7[n]-t.YU[_*2],F=t.O7[n+1]-t.YU[_*2+1];N.tw.ahq(W,y,F,t._Z[_*2],t._Z[_*2+1],t.YN[_])}}}N.tw.aA7(H,P,k);
return k};N.tw.Q5=function(o,P){var w=N.DH.PU,x=o.puppetShapeList.v,z=[];for(var S=0;S<x.length;S++){var k=x[S].v;
P[0]=k.meshRigidity.v-1;P[1]=k.meshQuality.v-1;P[2]=k.meshExpansion.v;var f=k.pinVertexIndices.v.length,C=k.meshBoundaryPath.v.pathComponents.v;
if(C.length!=0){var H=C[0].v.SbpL.v[0].v.Pts;H.v=[]}var b=new Uint32Array(new Uint8Array(k.indexArray.v).buffer),i=new Float32Array(new Uint8Array(k.originalVertexArray.v).buffer),M=new Float32Array(new Uint8Array(k.deformedVertexArray.v).buffer),T=[],O=[],Y=[];
for(var I=0;I<b.length;I++)T.push(b[I]);for(var I=0;I<i.length;I++){O.push(i[I]);Y.push(M[I])}var U=w(k.pinVertexIndices),W=w(k.pinOffsets),t=w(k.posFinalPins),_=w(k.PnRt),n=w(k.PnOv),y=w(k.PnDp),F=w(k.selectedPin);
z.push({Yg:T,O7:O,pE:Y.slice(0),lt:Y,b5:U,YU:W,_Z:t,rx:null,S4:_,K7:n,YN:y,T:F})}return z};N.tw.aA7=function(o,P,w){function x(M,T){var O=[];
for(var I=0;I<M.length;I++)O.push({t:T,v:M[I]});return O}function z(M,T,O){var Y=new(O?Uint32Array:Float32Array)(M),U=new Uint8Array(Y.buffer);
for(var I=0;I<U.length;I++)T[I]=U[I]}var S=w.puppetShapeList.v;for(var k=0;k<S.length;k++){var f=o[k],C=S[k].v;
C.meshRigidity.v=P[0]+1;C.meshQuality.v=P[1]+1;C.meshExpansion.v=P[2];z(f.Yg,C.indexArray.v,!0);z(f.O7,C.originalVertexArray.v);
z(f.lt,C.deformedVertexArray.v);var H=[];for(var I=0;I<f.b5.length;I++){var b=f.b5[I]*2,i=I*2;H[i]=f.O7[b]-f.YU[i];
H[i+1]=f.O7[b+1]-f.YU[i+1]}C.PinP.v=x(H,"doub");C.pinVertexIndices.v=x(f.b5,"long");C.pinOffsets.v=x(f.YU,"doub");
C.posFinalPins.v=x(f._Z,"doub");C.PnRt.v=x(f.S4,"long");C.PnOv.v=x(f.K7,"bool");C.PnDp.v=x(f.YN,"doub");
C.selectedPin.v=x(f.T,"long")}};N.zK=function(){N.f9.call(this,"Blur Gallery",N.aCu,"tools/ruler");this.Bs="blurbTransform";
this.Nn=[0,[],null];this.sd=-1};N.zK.prototype=new N.f9;N.zK.prototype.a6v=function(o,P,w,x){var z=o==null;
if(o==null){o=cM.bS(this.Bs);e.Cm.agL(o,x,P.q/2,P._/2);var S=[!1,!1,!1,!1,!1,!1];S[x]=!0;e.Cm.ahK(o,S)}this.JD=o;
this.Nn[0]=e.Cm.acW(o);this.Nn[1]=e.Cm.ao5(o);this.N4(P);if(z)this.Hh("edit",w)};N.zK.prototype.xF=function(o,P,w,x){if(x.d(i$.w_))this.J7(o,P,!0);
else if(x.d(i$.Sk))this._1(o,P,!0);else if(x.d(i$.bc)||x.d(i$.aa)){var z=this.sd;if(z==-1)return;var S=this.Nn[0],k=e.Cm.VK(this.JD)[0],f=k[S];
if(S==0)f.splice(z,1);if(S==1||S==5)f.splice(Math.floor(z/6),1);if(S==3)f.splice(Math.floor(z/5),1);
if(S==4)f.splice(Math.floor(z/4),1);e.Cm.jC(k,this.JD);e.Cm.ih(this.JD,S);this.sd=-1;this.N4(o);this.Hh("edit",P)}};
N.zK.prototype.KU=function(o,P,w,x){if(o.Ot=="commit")this.J7(w,P,!0);else if(o.Ot=="cancel")this._1(w,P,!0);
else{this.Nn=o.JL;var z=this.Nn[0],S=this.sd;e.Cm.ahK(this.JD,this.Nn[1]);if(this.Nn[2]){var k=e.Cm.VK(this.JD)[0],f=k[z];
if(z==0)f[S][2]=this.Nn[2][0];if(z==1||z==5)f[Math.floor(S/6)][14]=this.Nn[2][0];if(z==3)f[Math.floor(S/5)][10]=this.Nn[2][0];
if(z==4){f[0][4]=this.Nn[2][0]/100;var C=(S&3)<2?0:5,H=f[Math.floor(S/4)],b=H[C],i=H[C+1],M=H[C+2]-b,T=H[C+3]-i,O=Math.sqrt(M*M+T*T),Y=this.Nn[2][1];
if(O==0){H[C+2]=b+Y;H[C+3]=i}else{H[C+2]=b+Y*M/O;H[C+3]=i+Y*T/O}}e.Cm.jC(k,this.JD)}e.Cm.ih(this.JD,z);
this.N4(w);this.Hh("edit",P)}};N.zK.prototype.escape=function(o,P,w){o.t.PT=null;o.t.q5=null;o.t.do=null;
o.t.sA=[];o.t.rX=[];o.yW=!0;this.p5=null;var x=new bO(G.E.X,!0);x.data={Q:G.l.xz};if(w)P.j(x)};N.zK.prototype.N4=function(o){var P=e.Cm.VK(this.JD)[0];
o.t.sA=[];o.t.rX=[];var w=o.t.PT={i:[],LG:[]},x=o.t.q5={i:[],LG:[]},z=o.t.do={i:[],LG:[]};this.fo=[];
this.azg=[];var S=this.Nn[0],k=this.sd,f=P[S];for(var I=0;I<f.length;I++){var C=f[I];if(S==0){if(I==k){o.t.sA.push(C[0],C[1]);
this.Nn[2]=[C[2]]}else o.t.rX.push(C[0],C[1]);this.azg.push([]);this.fo.push(C[0],C[1])}else if(S==1||S==5){var H=e.Cm.auG(C);
H.Sd();var b=[0,-1,1,0,0,1,-1,0,0,0,1-C[10],0];e.a.h(b,H,b);for(var i=0;i<b.length;i+=2){if(k==I*6+(i>>>1)){o.t.sA.push(b[i],b[i+1]);
this.Nn[2]=[C[14]]}else o.t.rX.push(b[i],b[i+1]);this.fo.push(b[i],b[i+1])}var M=e.a.IY(e.n.fg.nT(-1,-1,2,2));
e.a.concat(w,M,H)}else if(S==3){var T=C[0],O=C[1],Y=C[2]-C[0],U=C[3]-C[1],W=Math.sqrt(Y*Y+U*U),t=U*1e4/W,_=-Y*1e4/W;
for(var i=0;i<10;i+=2){if(k==I*5+(i>>>1)){o.t.sA.push(C[i],C[i+1]);this.Nn[2]=[C[10]]}else o.t.rX.push(C[i],C[i+1]);
this.fo.push(C[i],C[i+1]);if(i==0)continue;if(Math.floor(k/5)!=I)continue;w.i.push(C[i]-t,C[i+1]-_,C[i]+t,C[i+1]+_);
w.LG.push("M","L")}}else if(S==4){z.i.push(C[0],C[1],C[5],C[6]);z.LG.push("M","L");for(var i=0;i<2;i++){var n=i*5,T=C[n],O=C[n+1],y=C[n+2],F=C[n+3],Y=y-T,U=F-O,a=Math.sqrt(Y*Y+U*U),V=25;
if(a!=0){Y/=a;U/=a}if((k&14)==I*4+i*2){o.t.sA.push(T,O,y,F);this.Nn[2]=[C[4]*100,a]}else o.t.rX.push(T,O,y,F);
x.i.push(T,O,y,F);x.LG.push("M","L");this.fo.push(T,O,y,F);if(a==0)continue;var D=-Y*V*2,l=-U*V*2;x.i.push(y,F,y+(-U*V+D),F+(Y*V+l));
x.i.push(y,F,y+(U*V+D),F+(-Y*V+l));x.LG.push("M","L","M","L","M","L")}}}o.yW=!0};N.zK.prototype.Dv=function(o,P,w,x,z){function S(A,I,K){var F=A[I]-A[K],a=A[I+1]-A[K+1];
return Math.sqrt(F*F+a*a)}var k=o.s.hI(z.x,z.y),f=e.a.Rf(this.fo,k.x,k.y,6/o.s.D);if(this.Pb){var C=this.sd,H=this.Nn,b=H[0],i=e.Cm.VK(this.JD)[0],M=i[b];
if(b==0){M[C][0]=k.x;M[C][1]=k.y}if(b==1||b==5){var T=Math.floor(C/6),O=C-T*6,Y=M[T],U=S(Y,0,2)/2,W=S(Y,2,4)/2,t=Y[8],_=Y[9],n=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),y=Y[10],F=k.x-t,a=k.y-_,V=Math.sqrt(F*F+a*a);
if(O<4){n=Math.atan2(-a,F)+(-1+O)*Math.PI/2;if(O==0||O==2)W=V;else U=V}if(O==4){t=k.x;_=k.y}if(O==5)y=Math.max(0,Math.min(1,1-V/U));
var D=new ar;D.scale(U,W);D.rotate(n);D.translate(t,_);var l=M[T]=[-1,-1,1,-1,1,1,-1,1,0,0];e.a.h(l,D,l);
l.push(y,y,y,y,Y[14])}if(b==3){var T=Math.floor(C/5),O=C-T*5,Y=M[T],Q=Y[0],m=Y[1],R=S(Y,0,2),$=S(Y,0,4),p=S(Y,0,6),c=S(Y,0,8),n=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),F=k.x-Q,a=k.y-m,V=Math.sqrt(F*F+a*a);
if(O==0){Q=k.x;m=k.y}if(O==1)R=Math.max(p*1.1,V);if(O==2)$=Math.max(c*1.1,V);if(O==3)p=Math.min(R,V);
if(O==4)c=Math.min($,V);if(O==1)n=Math.atan2(-a,F);if(O==2)n=Math.atan2(a,-F);var l=M[T]=[0,0,-R,0,$,0,-p,0,c,0],D=new ar;
D.rotate(n+Math.PI);D.translate(Q,m);e.a.h(l,D,l);l.push(Y[10])}if(b==4){var T=Math.floor(C/4),O=C-T*4,Y=M[T],B=O<2?0:5;
if((O&1)==0){var Z=[Y[2]-Y[0],Y[3]-Y[1],Y[7]-Y[5],Y[8]-Y[6]],v=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]);Y[B]=k.x;
Y[B+1]=k.y;var E=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]),D=new ar;D.rotate(E-v);for(var I=0;I<2;I++){var g=new eD(Z[I*2],Z[I*2+1]);
g=D.Zc(g);Y[I*5+2]=Y[I*5]+g.x;Y[I*5+3]=Y[I*5+1]+g.y}}else{Y[B+2]=k.x;Y[B+3]=k.y}}e.Cm.jC(i,this.JD);
e.Cm.ih(this.JD,b);this.N4(o)}else{var u="default";if(f!=-1)u="pointer";var j=new bO(G.E.X,!0);j.data={Q:G.l.iu,GP:u};
P.j(j)}};N.zK.prototype.aE=function(o,P,w,x,z){var S=this.Nn[0],k=o.s.hI(z.x,z.y),f=k.x,C=k.y,H=e.a.Rf(this.fo,f,C,10/o.s.D);
if(H==-1){H=e.Cm.agL(this.JD,S,f,C)}this.Pb=k;this.sd=H;this.N4(o)};N.zK.prototype.I2=function(o,P,w,x,z){if(this.Pb){this.Hh("edit",P);
this.aG9(P)}this.Pb=null};N.Nr=function(){N.z$.call(this,[10,44],N.abD,"tools/oselect");this.nM="crosshair";
this.a8d=0};N.Nr.prototype=new N.z$;N.Nr.prototype.yR=function(o,P,w,x){if(Math.random()<1/(1+this.a8d)){alert("The cross should be fully inside the object.",3500);
this.a8d++}};N.Nr.prototype.yH=function(o,P,w,x){N.dx.kL(o,N.z$.u9,this.BS);if(!x.ZO||!this.g8)return;
var z=this.q_(o,w,!1),S=z.q,k=z._,f=z.x,C=z.y,H=z.x+S,b=z.y+k,i=f+S/2,M=C+k/2,T=N.Nr.asT;o.t.Uq={i:[f,C,H,C,H,b,f,b,i-S*T,M,i+S*T,M,i,M-k*T,i,M+k*T],LG:"M L L L Z M L M L".split(" ")};
o.yW=!0};N.Nr.asT=.12;N.Nr.prototype.D4=function(o,P,w,x){o.t.Uq=null;o.yW=!0;this.finish(o,P,w,x)};
N.Nr.prototype.getSelection=function(o,P,w,x){if(this.FG.w6(this.Aq)||!this.g8)return null;var z=this.q_(o,w,!1),S=o.R[o.T[0]];
if(z.Mw()||!z.EI(S.rect))return null;return N.z$.vS("ObSl",z)};N.dx=function(){N.tB.call(this,[10,37],N.iL,"tools/qselect");
this.pw="qselect"};N.dx.prototype=new N.tB;N.dx.prototype.aE=function(o,P,w,x,z){if(o.T.length==0){alert("Select a layer first.");
return}N.dx.kL(o,N.z$.u9,P,!0);this.XA(o,w,x,z,1);if(this.E9==null)return;this.cV(o)};N.dx.prototype.Dv=function(o,P,w,x,z){this.o$(o,P,w);
N.dx.kL(o,N.z$.u9,P);if(this.ls)this.HY(o,w,z);if(this.E9==null)return;if(!z.ZO)return;var S=this.N7(o,w,x,z);
if(S!=1)this.cV(o)};N.dx.kL=function(o,P,w,x){if(o.T.length==0)return;if(o&&P.key!=N.dx.Nt(o)){P.key=N.dx.Nt(o);
var z=o.R[o.T[0]].rect.c(),k="Image Analysis ...";if(z==0)return;var S=z>1e6&&x!=!0,f=new bO(G.E.X,!0);
f.data={Q:G.l._K,Sp:k};if(S)w.j(f);var C=function(){var H=N.dx.ao_(o);for(var b in H)P[b]=H[b];var f=new bO(G.E.X,!0);
f.data={Q:G.l.uz,Sp:k};if(S)w.j(f)};if(x)C();else setTimeout(C,30)}};N.dx.Nt=function(o){var P=o.T[0],w=o.R[P],x=w.rect,z=x.q,S=x._,k=z*S,f=w.buffer;
return[P,x.x,x.y,z,S,f[0],f[1],f[2],f[3]].join(",")};N.dx.ao_=function(o){var P=o.T[0],w=o.R[P],x=w.rect,z=x.q,S=x._,k=z*S,f=w.buffer,C=Date.now(),H=e.U(k);
H.fill(128);var b=e.mZ.I8(f,z,S);console.log(Date.now()-C);var i={key:N.dx.Nt(o),Wz:f,rect:x.clone(),V:z,Y:S,ym:12,jm:H,s_:b,e:e.U(k),Yf:null,_m:null,Hy:null};
N.dx.Kb(i,null,o);return i};N.dx.Kb=function(o,P,w){var x=o.V,z=o.Y,S=0,k=0,f=Date.now(),C=o.Yf!=null&&e.mZ.q7(o.Yf.Yg,o.Yf.gM,o.jm)==-1;
S=Date.now()-f;f=Date.now();if(!C){var H=e.mZ.q7(o.s_.Yg,o.s_.gM,o.jm),b=0;while(H!=-1){var i=[],M=[],T=o.s_.Yg;
for(var O=0;O<z;O++)for(var Y=0;Y<x;Y++){var I=O*x+Y;if(T[I]==H){var U=o.jm[I];if(U==0)i.push(Y,O);if(U==255)M.push(Y,O)}}var W=w.R[w.T[0]],t=W.buffer;
e.mZ.I8.K1(t,x,z,o.s_,i,M);H=e.mZ.q7(o.s_.Yg,o.s_.gM,o.jm);b++;if(b>=10){console.log("too many subdivisions");
break}}o.Yf=e.mZ.Cv(o.s_,x,z,o.jm,o.ym);o._m=e.mZ.aal(o.Wz,x,z,o.Yf.Yg,o.Yf.gM);o.Hy=[o._m[0].slice(0),[]];
k=Date.now()-f;f=Date.now()}var f=Date.now();if(P){o.Hy[0].set(o._m[0]);var _=o._m[1],n=o.Hy[1];for(var y=0;
y<_.length;y++)n[y]=_[y].slice(0);e.mZ.ase(o.Yf.Yg,x,z,o.Yf.gM,o.jm,o.e,o.Hy)}};N.RQ=function(){N.Qf.call(this,[10,50],N.jd,"tools/artb");
this.o2=null;this.i2=!1;this.Zt=null;this.Ti=!1;this.aGK=null;this.nw=100;this.J$=null;this.Ba=0};N.RQ.prototype=new N.Qf;
N.RQ.prototype.eq=function(o,P,w,x,z){this.de(w,o.aiX,P,o.lk)};N.RQ.aa8=function(o,P){var w=o[0],x=0,z=0;
if(w==0)z=-1;else if(w==1)x=1;else if(w==2)z=1;else x=-1;return[20/P.z0,o[1]+x*60/P.z0,o[2]+z*60/P.z0]};
N.RQ.prototype.KU=function(o,P,w,x,z){this.o2=o.JL;this.Ba=Date.now()};N.RQ.prototype.g4=function(o,P,w,x){if(w.N5!=this.id)return;
if(o==null||o.T.length!=1){this.Rr(o);return}var z=o.T[0],S=o.R[z],k=S.add.artb;if(k==null){this.Rr(o);
return}if(this.Ti)return;if(Date.now()-this.Ba>50){this.o2={};var f=["artboardBackgroundType","Clr"];
for(var I=0;I<f.length;I++)if(k[f[I]])this.o2[f[I]]=JSON.parse(JSON.stringify(k[f[I]]));var C=new bO(G.E.X,!0);
C.data={Q:G.l.ay,I:this.id,J0:this.o2};P.j(C)}var H=S.sK(),b=e.a.R2(H).i,i=this.Zt=new jT(b,!0,!1,!1,!0,!1,3,!1);
i.L_(o,w,!1);var M={i:[1,0],LG:["M"]};for(var I=1;I<30;I++){var T=Math.PI*2*I/30;M.i.push(Math.cos(T),Math.sin(T));
M.LG.push("L")}M.LG.push("Z","M","L","M","L");M.i.push(-.5,0,.5,0,0,-.5,0,.5);var O=H.x+H.q/2,Y=H.y+H._/2,U=this.nw*1.1,W=this.aGK=[O,H.y,H.x+H.q,Y,O,H.y+H._,H.x,Y],t=[0,-U,U,0,0,U,-U,0],_=o.root.children;
o.t.uL=[];for(var I=0;I<4;I++){var n=new eD(W[I*2]+t[I*2],W[I*2+1]+t[I*2+1]),y=!1;for(var F=0;F<_.length;
F++){var S=_[F].r;if(S.add.artb==null)continue;var H=S.sK();if(H.ga(n))y=!0}if(y){W[I*2]=1e9;continue}o.t.uL.push([I,W[I*2],W[I*2+1]])}};
N.RQ.prototype.disable=function(o,P,w,x,z){this.Rr(o)};N.RQ.prototype.Rr=function(o){if(this.Zt){this.Zt.clear(o);
this.Zt=null;o.t.uL=null}};N.RQ.prototype.aE=function(o,P,w,x,z){this.Ba=Date.now();var S=o.s.hI(z.x,z.y),k=this.Zt;
if(k){var f=new bO(G.E.z),C=k.Bp(null,S,o,z);if(C<9){this.Ti=k.aE(o,w,x,S,null,!0,z);return}else if(k.PB(S)){f.I=N.pl;
f.data={Q:"disabAuto"};P.j(f);var H=new bO(G.E.X);H.data={Q:G.l.HB,I:N.pl,a3w:!0};P.j(H);return}else{var b=-1,i=o.t.uL;
for(var I=0;I<i.length;I++){var M=N.RQ.aa8(i[I],o.s);if(eD.a_(S,new eD(M[1],M[2]))<M[0])b=i[I][0]}if(b!=-1){var T=o.R[o.T[0]].sK(),O=T.clone(),Y=(b==0||b==2?T._:T.q)+this.nw;
if(b==0||b==3)Y=-Y;if(b==0||b==2)T.y+=Y;else T.x+=Y;if(x.d(i$.JV)){var U=new fA(0,0,o.q,o._);f.I=N.jc;
f.data={Q:X.Ck};P.j(f);N.y9.D8(o,o.ea(null,o.T[0],null,!0),null,T.x-O.x,T.y-O.y);o.T=o.T.slice(o.T.length-1);
var W=N.A0.Sh(o);if(W){var t=o.k8();t.data.Dh=U;t.data.Ip=W;t.data.Tg=o.T}}else this.de(o,T,P);return}}}this.J$=N.y9.Qx(o,S,w)};
N.RQ.prototype.de=function(o,P,w,x){if(x==null)x=0;var z=o.R.slice(0),S=[o.R.length+1],k=o._L();k.bx(kQ.get([1,16,0])+" "+(o.add.artd==null?1:o.root.children.length+1));
k.add.lsct=jS.KC;k.VZ(P);if(this.o2){var f=k.add.artb,C=this.o2;for(var H in C)f[H]=C[H]}k.gS="pass";
k.Yo=24;if(x==0){if(o.add.artd||P.SN(new fA(0,0,o.q,o._)).Mw())z.push(o.VY());else z.unshift(o.VY())}else{var b=o.ea();
b.sort(function(Y,U){return Y-U});var i=N.p0.oM(o,b,z.length-1,!1,null,!1),M=i.pop(),T=i.pop();z=i.pop();
z.splice(o.R.length-b.length,0,o.VY())}z.push(k);var O=new bO(G.E.z);O.I=N.jc;O.data={Q:X.v2,O$:z,GM:S,Ka:[1,16,2]};
w.j(O)};N.RQ.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=this.Zt,f=this.J$;if(k){if(this.Ti){k.Dv(o,w,x,S)}else{var C=k.G1(S,o.s.D,null,z);
if(C==null)C="default";var H=new bO(G.E.X,!0);H.data={Q:G.l.iu,GP:C};P.j(H)}}if(f){var b=this.R$(o,S,x,w);
o.t.Uq=e.a.R2(b);o.yW=!0;N.Qf.uo(z,b,o,w)}};N.RQ.prototype.I2=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=this.J$;
if(this.Ti){this.Zt.I2(o,w,x,S);this.Ti=!1;var f=e.a.RR(this.Zt.eE()),C=X.$j(f),H=o.R[o.T[0]],b=JSON.parse(JSON.stringify(H.add.artb));
b.artboardRect.v=C;var i=new bO(G.E.z,!0);i.I=N.jc;i.data={Q:X.nC,Hn:b};P.j(i)}if(k){var M=this.R$(o,S,x,w);
if(M.c()>20)this.de(o,M,P);o.t.Uq=null;o.yW=!0;this.J$=null;o.t.ZB=[]}};N.RQ.prototype.R$=function(o,P,w,x){var z=this.J$,S=N.y9.Qx(o,P,x),k=N.Qy.Oc(z,S,w,!0);
z=k[0];S=k[1];return e.a.RR([z.x,z.y,S.x,S.y])};N.Zz=function(){N.Qf.call(this,[10,50],N.bm,"tools/artb");
this.Zt=null;this.sU=!1;this.r7=null;this.hD=null;this.kA=null;this.km=null;this.auk=null;this.hX=null;
this.ml=null};N.Zz.prototype=new N.Qf;N.Zz.prototype.qD=function(o,P){return o==i$.bc||o==i$.aa};N.Zz.prototype.xF=function(o,P,w,x){if(x.d(i$.bc)||x.d(i$.aa))this.eq({Q:"del"},P,o,x,w)};
N.Zz.prototype.eq=function(o,P,w,x,z){var S=w.add.arts;this.hD=JSON.stringify(S);if(o.Q=="del"){for(var I=0;
I<S.length;I++)if(S[I].T){S.splice(I,1);I--}}if(o.Q=="new"){for(var I=0;I<S.length;I++)S[I].T=!1;var k=w.A_(),f=k.x+k.q+20;
S.push({uD:"Artboard "+(S.length+1),aR:[f,k.y,f+100,k.y+100],T:!0})}if(o.Q=="rpl"){var C=0;for(var I=0;
I<S.length;I++)if(S[I].T)C=I;S[C]=o.P}this.a53(w);this.Bn(w)};N.Zz.prototype.disable=function(o,P,w,x,z){this.sU=!1};
N.Zz.prototype.enable=function(o,P,w,x,z){this.sU=!0;this.r7=w;this.Bn(o)};N.Zz.prototype.Rr=function(o){};
N.Zz.prototype.aE=function(o,P,w,x,z){var S=this.ml=o.s.hI(z.x,z.y),k=o.add.arts;this.hD=JSON.stringify(k);
var f=this.Zt,C=f?f.G1(S,o.s.D,null,z):null,H=x.d(i$.Jm)||x.d(i$.W1);if(f&&!H&&(e.a.w4(f.eE()).ga(S)||C)){}else{var b=-1;
for(var I=0;I<k.length;I++)if(e.a.w4(k[I].aR).ga(S))b=I;if(b==-1)this.pO(o,-1);else if(H)k[b].T=!k[b].T;
else this.pO(o,b);this.Bn(o)}if(this.Zt){this.Zt.aE(o,w,x,S,null,!0,z)}o.yW=!0};N.Zz.prototype.Dv=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=o.add.arts,f=JSON.parse(this.kA);
if(this.Zt){this.Zt.Dv(o,w,x,S);if(z.ZO){var C=e.a.w4(this.Zt.eE()),H=this.auk,b=new ar;b.translate(-H.x,-H.y);
b.scale(C.q/H.q,C._/H._);b.translate(C.x,C.y);var i=this.Zt.Bp(x,S,o,z);for(var I=0;I<k.length;I++){var M=k[I];
if(!M.T)continue;if(e.a.w4(f[I].aR).Mw())M.aR=[C.x,C.y,C.x+C.q,C.y+C._];else{M.aR=f[I].aR.slice(0);e.a.h(M.aR,b,M.aR)}}if(i==10){N.y9.D8(o,this.km,null,C.x-this.hX.x,C.y-this.hX.y);
this.hX=C}o.N()}var T="default",O=this.Zt.G1(S,o.s.D,null,z);if(O)T=O;var Y=new bO(G.E.X,!0);Y.data={Q:G.l.iu,GP:T};
P.j(Y)}else if(z.ZO&&eD.a_(S,this.ml)>=6/o.s.D){k.push({uD:"Artboard "+(k.length+1),aR:[0,0,0,0],T:!0});
this.Bn(o);this.Zt.aE(o,w,x,this.ml,null,!0,z)}};N.Zz.prototype.I2=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y),k=o.add.arts,f=JSON.parse(this.kA),C=x.d(i$.Jm)||x.d(i$.W1);
if(!C&&eD.a_(this.ml,S)<6/o.s.D){var H=-1;for(var I=0;I<k.length;I++)if(e.a.w4(k[I].aR).ga(S))H=I;if(H!=-1){this.pO(o,H);
this.Bn(o)}if(e.a.w4(f[f.length-1].aR).Mw()){this.Zt.clear(o);k.pop()}}if(this.Zt){var b=this.Zt.Bp(x,S,o,z);
this.Zt.I2(o,w,x,S);if(!S.w6(this.ml))this.a53(o,b==10?S.WJ(this.ml):null)}};N.Zz.prototype.a53=function(o,P){var w=new d5([10,50],this);
w.data={Lz:this.hD,OL:JSON.stringify(o.add.arts)};if(P){w.data.T=this.km;w.data.AV=P}o.Oi(w)};N.Zz.prototype.Bn=function(o){var P=o.add.arts,w=new fA,x=0,z=[];
for(var I=0;I<P.length;I++)if(P[I].T){var S=e.a.w4(P[I].aR);w=w.It(S);o.root.fH(S,z);x++}if(x==0){if(this.Zt)this.Zt.clear(o);
o.yW=!0;this.Zt=null;return}this.kA=JSON.stringify(P);this.km=z;this.auk=this.hX=w;var k=e.a.R2(w).i;
this.Zt=new jT(w.Mw()?null:k,!0,!1,!1,!1,!1,3);if(!w.Mw())this.Zt.L_(o,this.r7)};N.Zz.prototype.pO=function(o,P){var w=o.add.arts;
for(var I=0;I<w.length;I++)w[I].T=P==I};N.Zz.prototype.Lv=function(o,P){P.add.arts=JSON.parse(o.OL);
if(o.T)N.y9.D8(P,o.T,null,o.AV.x,o.AV.y);if(this.sU)this.Bn(P);P.yW};N.Zz.prototype.kW=function(o,P){P.add.arts=JSON.parse(o.Lz);
if(o.T)N.y9.D8(P,o.T,null,-o.AV.x,-o.AV.y);if(this.sU)this.Bn(P);P.yW};function jT(o,P,w,x,z,S,k,f){this.qy=null;
this.Qo=o?o.slice(0):null;this.Wc=1;this.$M=4;this.Aq=null;this.bo=null;this.cJ=null;this.C7=-1;this.rd=null;
this.aCI=!1;this.a72=[];for(var I=0;I<8;I++)this.a72.push(eu.ahX(0,PIMG.rotate,-.5,-.5,-45-I*45));this.aFa=P;
this.aFC=w;this.agB=x;this.ahS=z;this.amV=S;this.lk=k;this.asI=f==null?1:f}jT.prototype.aDb=function(){return this.C7!=-1};
jT.prototype.eE=function(){return this.Qo.slice(0)};jT.prototype.Sn=function(o){this.Qo=o};jT.prototype.abG=function(){return this.cM(this.Qo)};
jT.prototype.a3b=function(){return this.$M};jT.prototype.ajy=function(o){this.$M=o};jT.prototype.xP=function(o){if(o==null)o=this.Qo;
if(this.$M==9)return this.Aq;else return this.cM(o)[this.$M]};jT.prototype.a80=function(o){if(this.$M==9)this.Aq=o.clone();
else{var P=this.xP(),w=new ar(1,0,0,1,o.x-P.x,o.y-P.y);e.a.h(this.Qo,w,this.Qo)}};jT.prototype.bN=function(o){this.Wc=o};
jT.prototype.G1=function(o,P,w,x,z){var S=this.TD(null,o,P,x),k;if(S==9)return"default";if(S==10){if(w)return null;
return!this.aFa?"move":null}if(S==-1||S==4)return null;if(S==11){var f=this.xP().WJ(o);if(z==null)z=Math.atan2(f.y,f.x);
k=90-z*180/Math.PI;var C=Math.round(8*(k/360));C=(C+8)%8;return this.a72[C]}else{var H=this.Ze(o,this.Qo);
k=[135,90,45,180,0,0,225,270,315][S]*Math.PI/180;var b=e.W.tV(this.Qo);return jT.axm(b[0],b[3],k)}};
jT.axm=function(o,P,w){var x=Math.atan2(-P,o);if(w)x+=w;var z="ew nesw ns nwse ew nesw ns nwse".split(" "),S=Math.round(8*(x/(2*Math.PI)));
S=(S+8)%8;return z[S]+"-resize"};jT.prototype.Ze=function(o,P){var w=e.W.Sd(e.W.tV(P)),x=new Float64Array(2);
e.W.P5(o.x,o.y,w,x);return new eD(x[0],x[1])};jT.prototype.PB=function(o){var P=this.Ze(o,this.Qo);return 0<=P.x&&P.x<=1&&0<=P.y&&P.y<=1};
jT.prototype.aE=function(o,P,w,x,z,S,k,f){this.aCI=S;this.rd=x;var C=o.s.D,H;if(this.Qo==null)x=N.y9.Qx(o,x,P);
this.cJ=x.clone();if(this.Qo==null){if(f==null)f=0;var b=new ar;b.rotate(f);var i=b.Zc(new eD(1,1));
this.cJ.offset(i.x,i.y);var M=z==null?1:1/z,T=this.Qo=[0,0,1,0,1,M,0,M];b.translate(x.x,x.y);e.a.h(this.Qo,b,this.Qo);
H=8}else{H=this.TD(w,x,C,k);if(0<=H&&H<=8)this.cJ=this.cM(this.Qo)[H];if(H==9){this.$M=9;this.Aq=x.clone()}}this.qy=this.Qo.slice(0);
this.C7=H;this.L_(o,P);this.bo=this.xP();return H!=-1};jT.prototype.Bp=function(o,P,w,x){return this.TD(o,P,w.s.D,x)};
jT.prototype.TD=function(o,P,w,x){var z=-1,S=this.cM(),k=[0,2,6,8,1,3,5,7],f=x?N.QC({s:{D:w}},x):8*N.M()/w,C=eD.a_(S[0],S[2]),H=eD.a_(S[0],S[6]),b=this.Ze(P,this.Qo);
b.x*=C;b.y*=H;var i=new fA(0,0,C,H);i.$b(f,f);if(z==-1)if(eD.a_(this.xP(),P)<f)z=9;if(z==-1)for(var I=0;
I<k.length;I++)if(eD.a_(S[k[I]],P)<f)z=k[I];if(z==-1&&i.ga(b)){if(Math.abs(b.y-0)<f)z=1;if(Math.abs(b.x-0)<f)z=3;
if(Math.abs(b.y-H)<f)z=7;if(Math.abs(b.x-C)<f)z=5}if(z==-1&&o&&o.d(i$.JV))z=9;if(z==-1||this.lk==4){if(this.PB(P)){if(this.aFa)z=10}else{var M=[3,.85][bn];
i.$b(M*f,M*f);z=i.ga(b)&&this.lk!=3?11:10;if(z==10&&bn==1)z=-1}}return z};jT.prototype.Dv=function(o,P,w,x,z){if(this.C7==-1)return;
this.rd=x;var S=w&&w.d(i$.W1),k=w&&w.d(i$.JV),f=w&&w.d(i$.Jm),C=o.s.D,H=this.cJ,b=this.C7,i=this.cM(),M=N.y9.Qx(o,H,P),T=N.y9.Qx(o,x,P),O,Y;
if(b==9){var i=this.cM(),U=-1;for(var I=0;I<i.length;I++)if(eD.a_(i[I],T)*C<10)U=I;this.$M=U==-1?9:U;
this.Aq=S?N.BB.pz(M,T):T.clone()}else if(b==10){Y=e.a.w4(this.qy);var W=Y.x,t=Y.y;Y.offset(x.x-H.x,x.y-H.y);
if(this.aBZ()){Y.x=Math.round(Y.x);Y.y=Math.round(Y.y)}O=N.y9.wa(o,Y,P);var _=new ar(1,0,0,1,Y.x-W+O[0],Y.y-t+O[1]);
e.a.h(this.qy,_,this.Qo)}else if(b==11){var n=this.xP(this.qy),y=n.WJ(x),F=n.WJ(H),a=Math.atan2(y.y,y.x),V=Math.atan2(F.y,F.x),_=new ar(1,0,0,1,-n.x,-n.y),D=Math.PI/12;
if(S)_.rotate(Math.round((V-a)/D)*D);else _.rotate(V-a);_.translate(n.x,n.y);e.a.h(this.qy,_,this.Qo)}else{var l=S,Q;
if(z&&!f)l=!l;if(this.amV)l=!0;var m=this.qy,R=b==0||b==2||b==6||b==8;if(this.lk==1){if(R)S=k=f=!0}else if(this.lk==2&&R&&this.aCI!=!0)f=!0;
if(this.lk==3)f=!1;else if(this.lk==5){S=f=!0}if(this.agB&&R&&f){var I=[0,0,2,0,0,0,6,0,4,0][b],$=-1,p=T.x,c=T.y;
if(S){var B=I+6&7,Z=I+10&7,v=jT.a67(m[I],m[I+1],m[B],m[B+1],T.x,T.y),E=jT.a67(m[I],m[I+1],m[Z],m[Z+1],T.x,T.y),g=v[2]<E[2]?v:E;
p=g[0];c=g[1];if(k)$=v[2]<E[2]?B:Z}else if(k)$=I+4&7;Q=m.slice(0);if($!=-1){var u=m[$],j=m[$+1],A=(m[I]+u)/2,K=(m[I+1]+j)/2;
Q[$]=A-(p-A);Q[$+1]=K-(c-K)}Q[I]=p;Q[I+1]=c}else if(R&&k){var n=this.bo,s=n.x,r=n.y,h=M.x-s,jC=M.y-r,d=1,q=1;
if(Math.abs(h)>=1)d=(T.x-s)/h;if(Math.abs(jC)>=1)q=(T.y-r)/jC;if(l)d=q=(d+q)/2;var _=new ar;_.translate(-s,-r);
_.scale(d,q);_.translate(s,r);Q=m.slice(0);e.a.h(Q,_,Q)}else{if(this.aBZ()){T.x=Math.round(T.x);T.y=Math.round(T.y)}var hc=[0,1,2,5,8,7,6,3],dk=hc[(hc.indexOf(b)+4)%8],c6=[];
for(var I=0;I<3;I++)for(var $=0;$<3;$++)c6.push(new eD($/2,I/2));var n=this.bo,e3=k&&(this.$M==4||this.$M==9)?this.Ze(n,m):c6[dk],ks=k&&(this.$M==4||this.$M==9)?n:i[dk];
if(R&&l){function cH(du,bq,hn){var aK=bq[0]-du[0],cQ=bq[1]-du[1],jR=e.a.LA(hn[0],hn[1],-cQ,aK,du[0],du[1],aK,cQ);
return[hn[0]-cQ*jR,hn[1]+aK*jR]}while(!0){var bI=cH([ks.x,ks.y],[H.x,H.y],[T.x,T.y]);bI=new eD(bI[0],bI[1]);
bI=N.y9.Qx(o,bI,P);if(eD.a_(bI,T)<1e-6)break;T=bI}}var aR=this.Ze(T,m),ak=this.Ze(H,m),cN=new ar,gC=new ar,d=(aR.x-e3.x)/(ak.x-e3.x);
if(d==0)d=1e-4;var q=(aR.y-e3.y)/(ak.y-e3.y);if(q==0)q=1e-4;if(this.ahS){d=Math.max(d,0);q=Math.max(q,0)}if(R){if(l)cN.scale(d,d);
else cN.scale(d,q)}else if(b!=4){var bD=l,cu=f&&S;if(cu)bD=!1;if(b==1||b==7)cN.scale(bD?q:1,cu?1:q);
else cN.scale(cu?1:d,bD?d:1);if(this.aFC&&f){if(b==1||b==7)gC.JJ=(aR.x-e3.x)/(aR.y-e3.y);else gC.b=(aR.y-e3.y)/(aR.x-e3.x)}}var _=new ar;
_.translate(-e3.x,-e3.y);_.concat(cN);_.concat(gC);_.translate(e3.x,e3.y);Q=[0,0,1,0,1,1,0,1];e.a.h(Q,_,Q);
var g=e.W.tV(m);e.W.h(g,Q)}if(jT.RV(Q))this.Qo=Q}this.L_(o,P);if(O)N.y9.FK(o,Y,O)};jT.a67=function(o,P,w,x,z,S){var k=w-o,f=x-P,C=z-o,H=S-P,b=k*k+f*f,i=C*k+H*f,M=i/b,T=o+M*k,O=P+M*f,Y=z-T,U=S-O;
return[T,O,Math.sqrt(Y*Y+U*U)]};jT.prototype.aBZ=function(){var o=this.Qo;return Math.abs(o[1]-o[3])<1e-6&&Math.abs(o[2]-o[4])<1e-6||Math.abs(o[0]-o[2])<1e-6&&Math.abs(o[3]-o[5])<1e-6};
jT.RV=function(o){return e.a.aAR(o)||e.a.aAR([o[6],o[7],o[4],o[5],o[2],o[3],o[0],o[1]])};jT.prototype.I2=function(o,P,w,x){this.C7=-1;
this.rd=null;o.t.k2=null;o.t.ZB=[];o.yW=!0};jT.prototype.xF=function(o,P,w){var x=w.Tl(o?o.s.$N:0);if(x.x||x.y){var z=new ar(1,0,0,1,x.x,x.y);
e.a.h(this.Qo,z,this.Qo);this.L_(o,P);return!0}return!1};jT.prototype.cM=function(o){if(o==null)o=this.Qo;
var P=o[6]-o[0],w=o[7]-o[1],x=o[4]-o[2],z=o[5]-o[3],S=[o[0],o[1],o[2],o[3],o[0]+P/2,o[1]+w/2,o[2]+x/2,o[3]+z/2,o[6],o[7],o[4],o[5]],k=[];
for(var I=0;I<3;I++){var f=I*4,C=S[f+0],H=S[f+1],b=S[f+2],i=S[f+3];k.push(new eD(C,H));k.push(new eD(C+(b-C)/2,H+(i-H)/2));
k.push(new eD(b,i))}return k};jT.prototype.L_=function(o,P,w){if(o.t==null)return;if(w==null)w=!1;var x=this.Wc,z=this.cM(),S=z[0],k=z[2],f=z[6],C=z[8],H={LG:[],i:[]};
if(x==0)o.t.Uq=H;else o.t.PT=H;H.LG.push("M","L","L","L","Z");H.i.push(S.x,S.y,k.x,k.y,C.x,C.y,f.x,f.y);
var b=this.asI;if(b>1){o.t.x7=JSON.parse(JSON.stringify(H));var i=k.WJ(S),M=f.WJ(S),T=C.WJ(k),O=C.WJ(f);
for(var I=1;I<b;I++){H.LG.push("M","L","M","L");var Y=I/b;H.i.push(S.x+i.x*Y,S.y+i.y*Y,f.x+O.x*Y,f.y+O.y*Y);
H.i.push(S.x+M.x*Y,S.y+M.y*Y,k.x+T.x*Y,k.y+T.y*Y)}}o.s.QF=new fA(0,0,eD.a_(z[0],z[2]),eD.a_(z[0],z[6]));
if(this.C7!=-1&&this.C7<9&&this.rd){var U=o.s.vd(this.rd.x,this.rd.y);N.Qf.uo(U,o.s.QF,o,P)}if(!w){var W=[];
if(x==0)o.t.Ra=W;else o.t.AS=W;for(var I=0;I<z.length;I++)if(I!=4)W.push(z[I].x,z[I].y);var t=this.xP();
W.push(t.x,t.y)}o.yW=!0};jT.prototype.clear=function(o){o.s.QF=null;o.t.k2=null;o.t.Uq=null;o.t.PT=null;
o.t.x7=null;o.t.Ra=[];o.t.AS=[];o.yW=!0};function bc(o){this.lD=null;this.C7=-1;this.Gz=null;this.a3l=null;
this.th=null;this.y0=-1;this.a4p=null;this.aAa(o)}bc.prototype.fv=function(){return JSON.parse(JSON.stringify(this.lD))};
bc.prototype.aAa=function(o){this.lD=JSON.parse(JSON.stringify(o))};bc.prototype.aAT=function(o){this.y0=o};
bc.prototype.PB=function(o){return!0};bc.prototype.G1=function(o,P,w,x){var z=this.TD(o,P,x);if(z==-1)return"default";
return"pointer"};bc.prototype.aE=function(o,P,w,x,z,S,k){if(this.y0!=-1)return!0;this.C7=this.TD(x,o.s.D,k);
var f=e.lD.Qc(this.lD),C=e.V0.mW(f,x),H=0<C[0]&&C[0]<1&&0<C[1]&&C[1]<1;this.Gz=H?C:null;this.a3l=JSON.stringify(f);
this.a4p=JSON.stringify(this.lD);this.th=x;return this.C7!=-1||H};bc.prototype.TD=function(o,P,w){var x=w?N.QC({s:{D:P}},w)*2:20*N.M()/P,z=this.lD,S=bc.aqF(z),k=-1;
if(S){k=e.a.Rf(S,o.x,o.y,x);if(k!=-1)k+=1e6}else{var f=e.lD.Qc(z);k=e.a.Rf(f[3],o.x,o.y,x);if(k!=-1&&this.xT(f,k)==null)k=-1}return k};
bc.prototype.Dv=function(o,P,w,x){if(this.y0!=-1)return;var z=this.lD,S=this.C7,k=this.Gz,f=JSON.parse(this.a3l),C=f[0],H=f[1],b=f[3];
if(S>=1e6){var i=z.warpStyle.v.warpStyle,M=e.lD.q_(z);if(i=="warpCylinder"){this.lD=z=JSON.parse(this.a4p);
var T=N.DH.PU(z.warpValues),O=(T[2]-T[0])/(T[1]-T[3]),Y=T[4]*O*M._,U=T[5]*O*M._,W=x.x-this.th.x,t=x.y-this.th.y;
T[0]=M.x;T[1]=M.y+M._;T[2]=M.x+M.q;T[3]=M.y;S-=1e6;if(S==0){T[0]+=W;T[1]+=t}if(S==1){T[2]+=W;T[3]+=t}if(S==2){Y+=2*t;
U+=2*t}if(S==3){U+=2*t}if(S==4){T[6]=Math.max(0,Math.min(1,T[6]-2*W/M.q))}var _=e.a.w4(T.slice(0,4)),n=_.q/M.q,y=_._/M._;
T[4]=Y/_.q;T[5]=U/_.q;z.warpValues=N.DH.Co(T);var F=new ar;F.translate(-M.x,-M.y);F.scale(n,y);F.translate(_.x,_.y);
if(S<4)return F}else{var a=z.warpRotate.v.Ornt,V=a=="Vrtc",D=e.lD.ax0[i],l=V?-x.x/M.q:-x.y/M._;l+=D[1];
if(D[1]>.5)l=-l;l/=D[2];var n=M.q/M._;if(V)n=1/n;if(D[3])l/=n;z.warpValue.v=100*Math.max(-1,Math.min(1,l))}}else if(S!=-1){var Q=[S],W=x.x-b[S*2],t=x.y-b[S*2+1];
if(C*H>16){var m=this.xT(f,S);if(m[0]==0){var R=Math.floor(S/C),$=S-R*C;if($>0)Q.push(S-1);if($<C-1)Q.push(S+1);
if(R>0)Q.push(S-C);if(R<H-1)Q.push(S+C)}}for(var I=0;I<Q.length;I++){b[Q[I]*2]+=W;b[Q[I]*2+1]+=t}e.lD.Ng(z,f)}else if(k){e.V0.aeJ(f,k[0],k[1],x.x-this.th.x,x.y-this.th.y);
e.lD.Ng(z,f)}};bc.prototype.I2=function(o,P,w,x){var z=this.y0;this.Gz=null;this.y0=-1;if(z!=-1){var S=e.lD.Qc(this.lD),k=e.V0.mW(S,x);
if(z==0||z==1)e.V0.split(S,0,k[0]);if(z==0||z==2)e.V0.split(S,1,k[1]);e.lD.Ng(this.lD,S)}o.yW=!0;return z!=-1};
bc.prototype.xF=function(o,P,w){var x=w.Tl();if(x.x||x.y){var z=new ar(1,0,0,1,x.x,x.y);e.a.h(this.Qo,z,this.Qo);
this.L_(o)}};bc.prototype.xT=function(o,I){var P=o[0],w=o[1],x=this.C7,z=Math.floor(x/P),S=x-z*P,k=x%3,f=x%3,C=k==0&&f==0,z=Math.floor(I/P),S=I-z*P,k=S%3,f=z%3;
if(k!=0&&f!=0)return null;if(k==0&&f==0)return[0];else{var H=0;if(f==0)H=k==1?I-1:I+1;if(k==0)H=f==1?I-P:I+P;
if(P*w>16){var b=x==I||x==I+1||x==I-1||x==I+P||x==I-P;if(C&&(b||x==I+2||x==I-2||x==I+2*P||x==I-2*P)){}else if(!C&&b){}else return null}return[1,H]}};
bc.aqF=function(o,P){var P=o.warpStyle.v.warpStyle,x;if(P=="warpCustom"||P=="warpNone")return null;var w=e.lD.Qc(o);
if(P=="warpCylinder"){var z=o.warpValues.v;x=[0,1,1,0,.5,0,.5,1,.75-.25*z[6].v,.5]}else{var S=o.warpRotate.v.Ornt,k=e.lD.ax0[P];
x=S=="Hrzn"?[k[0],k[1]]:[k[1],k[0]]}e.V0.h(w,x,new fA(0,0,1,1));return x};bc.prototype.L_=function(o,P){var w=this.lD,x=w.warpStyle.v.warpStyle,z=e.lD.Qc(w),S=z[0],k=z[1],f=z[3],C=o.t.PT={LG:[],i:[]},H=o.t.AS=[],b=o.t.iC=[],i=this.C7;
if(x=="warpCustom")for(var M=0;M<k;M++)for(var T=0;T<S;T++){var I=M*S+T,O=this.xT(z,I);if(O==null)continue;
var Y=f[2*I],U=f[2*I+1],W=b;if(O[0]==0)W=I==i&&S*k>16?b:H;else{var t=O[1];C.LG.push("M","L");C.i.push(Y,U,f[2*t],f[2*t+1])}W.push(Y,U)}else{var _=bc.aqF(w);
if(_)for(var I=0;I<_.length;I++)H.push(_[I])}for(var M=0;M+1<k;M+=3)for(var T=0;T+1<S;T+=3){C.LG.push("M","C","C","C","C");
var I=M*S+T,n=I+S+S,y=[I,I+1,I+2,I+3,I+S+3,n+3,n+S+3,n+S+2,n+S+1,n+S,n,I+S,I];for(var I=0;I<y.length;
I++){var Y=f[y[I]*2],U=f[y[I]*2+1];C.i.push(Y,U)}}var F=[],a=[];function V(D,T,m){for(var y=0;y<=m;y++){a.push(y==0?"M":"L");
if(D==0)F.push(T,y/m);else F.push(y/m,T)}}if(P)P=e.V0.mW(z,P);for(var D=0;D<2;D++){var l=z[2][D],Q=D==0?S:k,m=Q*5;
for(var R=1;R<Q;R++){var $=Math.floor((R-1)/3),p=R-(1+$*3);if(p==0)continue;var T=l[$]+p/3*(l[$+1]-l[$]);
V(D,T,m)}var c=this.y0;if(P&&c!=-1&&(c==0||c-1==D))V(D,P[D],m)}e.V0.h(z,F,new fA(0,0,1,1));e.a.concat(C,{i:F,LG:a});
o.yW=!0};bc.prototype.clear=function(o){o.t.PT=null;o.t.AS=[];o.t.iC=[];o.yW=!0};function bX(){this.h3=!1;
this.QJ=!1;this.aG4=!1;this.azL=!1;this.Dd=!1;this.Fa=!1;this.pH=0;this.q9=0}bX.prototype.aE=function(o){this.h3=!0;
this.QJ=!1;this.Dd=o.d(i$.W1);this.Fa=o.d(i$.JV);this.pH=this.Dd?0:1;this.q9=this.Fa?0:1};bX.prototype.xF=function(o){var P=this.azL=o.d(i$.W1),w=this.aG4=o.d(i$.JV);
if(this.QJ){if(this.pH==0&&!P)this.pH++;if(this.pH==1&&P)this.pH++;if(this.q9==0&&!w)this.q9++;if(this.q9==1&&w)this.q9++}};
bX.prototype.Dv=function(){this.QJ=!0};bX.prototype.I2=function(){this.h3=!1};bX.prototype.Nz=function(I){if(I==0)return this.h3?this.Fa:this.aG4;
if(I==1)return this.QJ?this.q9==2:!1};bX.prototype.Pj=function(I){if(I==0)return this.h3?this.Dd:this.azL;
if(I==1)return this.QJ?this.pH==2:!1};N.History=function(){N.Qf.call(this,"History",N.cw);this.SW=!0;
this.aus=0};N.History.prototype=new N.Qf;N.History.prototype.eq=function(o,P,w,x){w.dH=!0;if(o.Q=="h_itemchange"){if(o.index<w.Mi)for(var I=w.Mi;
I>o.index;I--)this.n3(w);if(o.index>w.Mi)for(var I=w.Mi;I<o.index;I++)this.t5(w)}if(o.Q=="h_stepfwd")this.t5(w);
if(o.Q=="h_stepbck")this.n3(w);if(o.Q=="h_undoredo"){var z=this.SW||this.aus!=w.Mi;if(z){this.n3(w);
z=!1}else{this.t5(w);z=!0}this.SW=z;this.aus=w.Mi}if(o.Q=="h_clear"){if(o.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
w.history=[new d5([1,0],null)];w.Mi=0}else this.SW=!0};N.History.prototype.n3=function(o){if(o.Mi==0)return;
var P=o.history[o.Mi];P.I.kW(P.data,o);o.Mi--};N.History.prototype.t5=function(o){if(o.Mi==o.history.length-1)return;
var P=o.history[o.Mi+1];P.I.Lv(P.data,o);o.Mi++};N.p0=function(){N.Qf.call(this,"Layers",N.jc);this.BS=null};
N.p0.prototype=new N.Qf;N.p0.prototype.eq=function(o,P,w,x,z){this.BS=P;var S=o.Q,k=o.r!=null?o.r:w.T.length!=0?w.T[0]:w.R.length-1,f=w.R[k];
w.yS=!0;var C=x.d(i$.JV),H=x.d(i$.W1),b=x.d(i$.Jm);if(S==X.sg&&w.e==null&&(w.T.length>1||!w.p9(!1)||w.R[w.T[0]].Pe()))S=X.Ck;
if(S==X.Cz){var i=new d5([6,33],this),M=f.Pe()?["pass"].concat(jK.gg):jK.gg,T=M[o.OL],O=o.r!=null?[o.r]:w.T,Y=JSON.stringify(O),U=[];
for(var I=0;I<O.length;I++)U.push(w.R[O[I]].gS);i.data={Q:S,XN:Y,cB:U,OL:T};w.Oi(i);this.Lv(i.data,w);
this.track(h7.xA("Md",{t:"enum",v:{BlnM:jK.W_(T)}}))}if(S==X.pV){var i,W=w.k8(),O=o.r!=null?[o.r]:w.T,Y=JSON.stringify(O);
if(W&&W.data&&W.data.Q==S&&W.data.XN==Y)i=W;else{var t=h7.xA("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(t);var U=[];for(var I=0;I<O.length;I++)U.push(w.R[O[I]].opacity);i=new d5([6,32],this);i.data={Q:S,XN:Y,cB:U,OL:o.OL,l4:t.WP};
w.Oi(i)}i.data.OL=o.OL;i.data.l4.T.v.Opct.v.val=Math.round(o.OL*100/255);this.Lv(i.data,w)}if(S==X.s1){if(f.add.iOpa==null)f.add.iOpa=255;
var i,W=w.k8();if(W&&W.data&&W.data.Q==S&&W.data.r==k)i=W;else{i=new d5("Fill Opacity Change",this);
i.data={Q:S,r:k,cB:f.add.iOpa,OL:o.OL};w.Oi(i)}i.data.OL=o.OL;this.Lv(i.data,w)}if(S==X.CU){var _=o.OL,n=o.r!=null?[o.r]:w.T.slice(0),y=[],F=[],i;
for(var a=0;a<n.length;a++){var V=w.R[n[a]];if(V.add.lspf==null)V.add.lspf=0;var U=V.add.lspf,T=U;for(var I=0;
I<_[0].length;I++){var D=_[1][I],l=1<<D;if((T&l)==0&&_[0][I])T^=l;else if((T&l)!=0&&!_[0][I])T^=l}y.push(U);
F.push(T)}var W=w.k8(),O=JSON.stringify(n);if(W&&W.data&&W.data.Q==S&&JSON.stringify(W.data.XN)==O){i=W;
i.data.OL=F}else{var i=new d5([6,57,1],this);i.data={Q:S,XN:O,cB:y,OL:F};w.Oi(i)}this.Lv(i.data,w)}if(S==X.kV){var Q="----",m=o.Kn,T=null;
for(var I=0;I<e8.dB.f_.length;I++)if(f.add[e8.dB.f_[I]])Q=e8.dB.f_[I];var R=f.add[Q];if(m=="TySh")T=fe.AH(50,50,z.xp);
var i=new d5("Layer Type",this);i.data={Q:S,r:k,awx:[Q,R],Kn:[m,T]};w.Oi(i);this.Lv(i.data,w)}if(S==X.PZ){var n=[];
if(C){var $=w.k8(),p=$?$.data:null;if($!=null&&$.I==this&&p.Q==X.PZ&&p.XN.length!=1){var c=new bO(G.E.z);
c.I=N.cw;c.data={Q:"h_stepbck"};P.j(c);if(p.r==k)return}var B=w.root.wX(k),Z=B,v=[o.r];while(Z.parent!=w.root){v.push(Z.parent.index);
Z=Z.parent}for(var I=0;I<w.R.length;I++){var E=w.R[I],Z=w.root.wX(I),g=v.indexOf(I)!=-1?!0:E.ny()&&B.depth<Z.depth;
if(g!=E.ny())n.push(I)}}else if(o.XN)n=o.XN;else{n.push(k);var u=w.R[k].ny(),t={wQ:u?"hide":"show",WP:{classID:u?"Hd":"Shw",null:{t:"VlLs",v:[h7.TZ("Lyr",!0)]}}};
this.track(t)}var i=new d5("Layer visibility",this,!0);i.data={Q:S,XN:n,r:k};w.Oi(i);this.Lv(i.data,w)}if(S==X.GL){if(z.N5==N.jd){var j=new bO(G.E.X);
j.data={Q:G.l.HB,I:N.pl};P.j(j)}var A=o.aq0,K=o.dJ,h,escape=!1,jC=!1;if(o.uq){if(b&&(K==0||K==1||K==2)){var s=0;
if(H)s++;if(C)s+=2;var r=new bO(G.E.z,!0);r.I=N.mC;r.data={Q:"fromlayer",bV:[o.r,K,s]};P.j(r);return}}var t={wQ:"select",WP:{classID:"null",MkVs:{t:"bool",v:!1}}};
w.a00();if(x.d(i$.Jm)||o.sL==0){var d=w.T.indexOf(k);if(d==-1)w.T.push(k);else if(w.T.length>1){if(o.sL!=0)w.T.splice(d,1)}w.T.sort(function(i,hq){return i-hq});
t.WP.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};h=k}else if(H&&!C&&K>0){S=K==1?X.lp:K==2?X.c8:X.Pc;
escape=!0}else if((H||o.sL==1)&&w.T.length>0){var q=Math.min(k,w.T[0]),hc=Math.max(k,w.T[w.T.length-1]);
w.T=[];for(var I=q;I<=hc;I++)if(w.R[I].add.lsct!=jS.iz)w.T.push(I);t.WP.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
h=k}else{h=k;if(k>=w.R.length)return;var E=w.R[k];if(E&&E.Pe()&&o.a6$)E.add.lsct=jS.KC;else if(w.T.length==1&&w.T[0]==k&&Math.max(0,K)==E.Zx){jC=!0;
w.yS=!1}if(!jC){w.T=[k];w._5()}}if(!jC){if(h!=null&&h<w.R.length){t.WP.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:w.R[h].getName()}}]},this.track(t)}if(!escape){console.log("no escape");
if(w.T.length==1){var dk=w.T[0];for(var I=0;I<w.R.length;I++){if(I==dk)continue;var V=w.R[I];V.Zx=0;
V.yJ=!1}var f=w.R[dk];if(K==2){f.yJ=!f.yJ;w.lL=[]}else if(f){f.Zx=K<=0?0:K}}else for(var I=0;I<w.R.length;
I++){var V=w.R[I];V.Zx=0;V.yJ=!1}w.wJ=null;w.dH=!0}}if(o.uq&&C){if((K==1||K==3)&&A!=null){var r=new bO(G.E.z,!0);
r.I=N.QP;r.data={Q:"mskView",P:A!=0?0:H?1:2};P.j(r)}else{this.eq({Q:X.q3,r:o.r},P,w,x,z)}}}if(S==X.lp||S==X.Pc){var c6=S==X.lp,e3=c6?f.Jq():f.fP(w).u;
if(e3==null)return;var i=new d5(e3.isEnabled?c6?[6,15]:[6,42]:c6?[6,14]:[6,41],this);i.data={Q:S,r:k};
w.Oi(i);this.Lv(i.data,w)}if(S==X.c8){var e3=f.add.vmsk;if(e3==null)return;var i=new d5(e3.isEnabled?[6,17]:[6,16],this);
i.data={Q:S,r:k};w.Oi(i);this.Lv(i.data,w)}if(S==X.a4L){var ks=f.add.lsct==jS.KC?jS.v_:jS.KC,Z=w.root.wX(w.R.indexOf(f)),aR=!1;
if(x.d(i$.Jm)){var cH=Z.parent;for(var I=0;I<cH.children.length;I++){var bI=cH.children[I].r;if(bI.Pe())bI.add.lsct=ks}}else f.add.lsct=ks;
for(var I=0;I<w.T.length;I++){var ak=w.T[I];if(Z.Er<ak&&ak<Z.index)aR=!0}if(aR)w.T=[Z.index];w.dH=!0}if(S==X.q3){if(!w.EB(k))return;
var i=new d5(f.gH?[6,19]:[6,18],this);i.data={Q:S,r:k};w.Oi(i);if(o.OL==null||o.OL!=f.gH)this.Lv(i.data,w)}if(S==X.as$){if(f.qO())f.Yo-=32;
else f.Yo+=32;w.dH=!0}if(S==X.Op||S==X.vq){var i;if(S==X.Op)i=new d5(f.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(S==X.vq)i=new d5(f.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);i.data={Q:S,r:k};w.Oi(i);this.Lv(i.data,w)}if(S==X.Db||S==X.RK){var dk=o.index,i;
if(S==X.Db)i=new d5(f.add.lmfx[iR._7[dk[0]]].v[dk[1]].v.enab.v?[6,30,0]:[6,29],this);if(S==X.RK)i=new d5(f.add.SoLd.filterFX.v.filterFXList.v[dk].v.enab.v?[6,44]:[6,43],this);
i.data={Q:S,r:k,index:o.index};w.Oi(i);this.Lv(i.data,w)}if(S==X.go){if(o.src==o.it)return;var cN=w.R[o.src],gC=w.R[o.it],bD=cN.add.lmfx?JSON.stringify(cN.add.lmfx):"",cu=gC.add.lmfx?JSON.stringify(gC.add.lmfx):"";
if(gC.add.lmfx==null){gC.add.lmfx=JSON.parse(iR.default);for(var I=0;I<iR.order.length;I++)gC.add.lmfx[iR._7[I]]={t:"VlLs",v:[]}}if(o.wS==null){gC.add.lmfx=JSON.parse(bD);
if(!C)delete cN.add.lmfx}else{var du=o.wS[0],bq=iR._7[du];if(iR.ail.indexOf(iR.order[du])==-1)gC.add.lmfx[bq].v=[];
gC.add.lmfx[bq].v.push(cN.add.lmfx[bq].v[o.wS[1]]);if(!C)cN.add.lmfx[bq].v.splice(o.wS[1],1)}var hn=cN.add.lmfx?JSON.stringify(cN.add.lmfx):"",aK=gC.add.lmfx?JSON.stringify(gC.add.lmfx):"";
if(!gC.qO())gC.Yo+=32;var i=new d5("Move Layer Styles",this);i.data={Q:S,On:o.src,Z2:o.it,ayt:bD,aEL:cu,a39:hn,ajn:aK};
w.Oi(i);this.Lv(i.data,w)}if(S==X.IB){if(o.src!=null)k=o.src;var V=w.R[k],cQ=JSON.stringify(V.add.SoLd),jR=JSON.parse(cQ),ch=jR.filterFX.v.filterFXList.v;
ch.splice(o.wS,1);var i=new d5([6,53],this);i.data={Q:X.Z6,xK:[{Uo:k,z3:[cQ,JSON.stringify(jR)]}]};w.Oi(i);
this.Lv(i.data,w)}if(S==X.amJ){var bx=C,cN=w.R[o.src],gC=w.R[o.it],jf=[];if(cN!=gC&&gC.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(cN==gC&&!bx&&o.wS==o.Sw)return;if(cN==gC&&o.wS==-1)return;var dW=cN.fP(w),cQ=JSON.stringify(cN.add.SoLd),jR=JSON.parse(cQ),ch=jR.filterFX.v.filterFXList.v;
if(cN==gC){ch.splice(o.Sw,0,ch[o.wS]);if(!bx)ch.splice(o.wS+(o.wS<o.Sw?0:1),1);jf.push({Uo:o.src,z3:[cQ,JSON.stringify(jR)]})}else if(o.wS==-1){var bf=jR.filterFX;
if(!bx){delete jR.filterFX;jf.push({Uo:o.src,z3:[cQ,JSON.stringify(jR)],Xq:[dW,null]})}var iu=gC.zO()?gC.fP(w):null,dV=da.azT(dW),gb=JSON.stringify(gC.add.SoLd),gP=JSON.parse(gb);
gP.placed.v=dV.id;gP.filterFX=bf;jf.push({Uo:o.it,z3:[gb,JSON.stringify(gP)],Xq:[iu,dV]})}else{var eJ=ch[o.wS];
if(!bx){ch.splice(o.wS,1);jf.push({Uo:o.src,z3:[cQ,JSON.stringify(jR)]})}var gb=JSON.stringify(gC.add.SoLd),gP=JSON.parse(gb);
if(gP.filterFX==null)gP.filterFX=cM.Gn();var c1=gP.filterFX.v.filterFXList.v;c1.splice(o.Sw,0,eJ);var ku={Uo:o.it,z3:[gb,JSON.stringify(gP)]};
if(!gC.zO()){var dV=da.aoo(gC.add.SoLd.placed.v);ku.Xq=[null,dV]}jf.push(ku)}var i=new d5([6,52],this);
i.data={Q:X.Z6,xK:jf};w.Oi(i);this.Lv(i.data,w)}if(S==X.qT){var e3=f.Jq(),i=new d5(e3.Ud?[6,26]:[6,25],this);
i.data={Q:S,r:k};w.Oi(i);this.Lv(i.data,w);this.track({wQ:"set",WP:{classID:"setd",null:{t:"obj ",v:[h7.TZ("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:e3.Ud}}}}})}if(S==X.fp){var e3=f.add.vmsk,i=new d5(e3.Ud?[6,28]:[6,27],this);
i.data={Q:S,r:k};w.Oi(i);this.Lv(i.data,w)}if(S==X.g0){var i=new d5("Variables / Datasets",this),aC=JSON.stringify([w.fA,w.kr]);
if(aC==o.P)return;i.data={Q:S,aog:aC,aG_:o.P};w.Oi(i);this.Lv(i.data,w)}if(S==X.zP){var gU=[],i;for(var I=0;
I<w.T.length;I++){var a=w.T[I],E=w.R[a];if(E.add.vogk)gU.push(a,JSON.stringify(E.add.vogk))}for(var I=0;
I<w.lL.length;I++){var a=w.lL[I],E=w.Fx[a];if(E.add.vogk)gU.push(-1-a,JSON.stringify(E.add.vogk))}e.KH.axQ(w,o.P,o.a76);
var hR=[];for(var I=0;I<w.T.length;I++){var a=w.T[I],E=w.R[a];if(E.add.vogk)hR.push(a,JSON.stringify(E.add.vogk))}for(var I=0;
I<w.lL.length;I++){var a=w.lL[I],E=w.Fx[a];if(E.add.vogk)hR.push(-1-a,JSON.stringify(E.add.vogk))}var W=w.k8();
if(W&&W.data&&W.data.Q==S){var a7=!0;for(var I=0;I<gU.length;I+=2)if(gU[I]!=W.data.ri[I])a7=!1;if(a7){i=W;
i.data.O6=hR}}if(i==null){var i=new d5([12,91,1],this);i.data={Q:S,ri:gU,O6:hR};w.Oi(i)}this.Lv(i.data,w)}if(S==X.nC){var dh=JSON.stringify(f.add.artb),eS=JSON.stringify(o.Hn),i;
w.R[k].add.artb=JSON.parse(eS);var d0=new fA(0,0,w.q,w._),cJ=N.A0.vG(w),W=w.k8();if(W&&W.data&&W.data.Q==S&&W.data.r==k){i=W;
i.data.Hn=eS}if(i==null){var i=new d5("Editing Artboard",this);i.data={Q:S,r:k,akP:dh,Hn:eS,Dh:d0};w.Oi(i)}i.data.Ip=cJ;
this.Lv(i.data,w)}if(S==X.Q_){var hR=w.Cg.slice(0),aO=w.jM.slice(0),a9=w.e,ac=w.e,g=w.s.A.slice(0);if(o.Pw=="seltochannel"){var e7=o.bV[0],b2=hR[e7]=hR[e7].clone(),Z=e.mH.N$(w.e,b2,o.bV[1]);
b2.channel=Z.channel;b2.rect=Z.rect}if(o.Pw=="fromAction"){var jQ=o.P.wQ,g9=o.P.WP;if(jQ=="make"||jQ=="duplicate"){var cx=hR.length,fw=!1,hi=!1;
if(w.um())cx--;var i8=new X.wy;i8.name="Alpha "+(cx+1);if(jQ=="make"){var dU=g9.Nw.v;i8.color=0;aO=[cx];
i8._8=!0;i8.eV=dU.Opct.v;if(dU.Nm)i8.name=dU.Nm.v;if(dU.classID=="SCch"){fw=!0;ac=null;i8.Ct=1}for(var I=0;
I<w.Cg.length;I++)w.Cg[I]._8=!1;g=[0,0,0]}else{var E=w.R[w.T[0]],dv=E.Zx==1?E.Jq():E.Zx==3?E.fP(w).u:null,bo=g9.null.v[0].v;
if(g9.Nm)i8.name=g9.Nm.v;if(bo.keyID=="fsel")fw=!0;else if(dv){i8.channel=dv.channel.slice(0);i8.rect=dv.rect.clone();
i8.color=dv.color}else{var fV=N.z$.abi(w);ac=N.z$.avG(w,fV);i8.color=0;i8.rect=ac.rect;i8.channel=ac.channel}}if(fw){i8.color=0;
if(w.e){i8.rect=w.e.rect.clone();i8.channel=w.e.channel.slice(0)}if(hi){i8.color=255-i8.color;e.Sd(i8.channel)}}hR.splice(cx,0,i8)}else if(jQ=="delete"){if(f&&f.Jq()&&f.Zx==1){this.eq({Q:X.ic},P,w,x,z);
return}var ck=w.jM;ck.sort(function(i,hq){return hq-i});if(ck.length==0)return;for(var I=0;I<ck.length;
I++)hR.splice(ck[I],1);aO=[];g=[1,1,1]}else if(jQ=="show"||jQ=="hide"){var h8=g9.null.v,fS=null,iS=!1;
for(var I=0;I<h8.length;I++){var fh=h8[I].v[0].v,h9=fh.enum;if(h9=="Trgt"){if(hR[aO[0]]==null)continue;
hR[aO[0]]=hR[aO[0]].clone();hR[aO[0]]._8=jQ=="show";iS=!0}else{var e7=["Rd","Grn","Bl"].indexOf(h9);
if(fS==null)fS=w.s.A.slice(0);fS[e7]=jQ=="show"?1:0}}if(fS){var c=new bO(G.E.z,!0);c.I=N.ws;c.data={Q:"setcls",A:fS};
P.j(c);if(!iS)return}}}if(o.Pw=="rnm"){hR[o.BG]=hR[o.BG].clone();hR[o.BG].name=o.name}var i=new d5("Channel Edit",this);
i.data={Q:S,ri:w.Cg.slice(0),sW:w.jM.slice(0),O6:hR,LD:aO,jO:a9,GM:ac,ajg:w.s.A.slice(0),a1T:g};this.Lv(i.data,w);
w.Oi(i)}if(S==X.v2){var gi=new fA(0,0,w.q,w._),i=new d5(o.Ka,this);i.data={Q:X.v2,vc:w.R.slice(0),O$:o.O$,I3:w.T.slice(0),Tg:o.GM};
w.Oi(i);this.Lv(i.data,w);var dX=N.A0.Sh(w);if(dX){i.data.Dh=gi;i.data.Ip=dX}}if(S==X.L3){var f8=w.ea(null,o.r),jJ=1e10;
if(f8.length==0)return;if(w.R.length==f8.length){alert("Project must have at least 1 layer");return}var kS=[];
for(var I=0;I<w.R.length;I++)if(f8.indexOf(I)==-1)kS.push(w.R[I]);for(var I=0;I<f8.length;I++)jJ=Math.min(jJ,f8[I]);
while(jJ>kS.length-1)jJ--;jJ=Math.max(jJ,0);while(kS[jJ].name=="</Layer group>")jJ++;this.track({wQ:"delete",WP:{classID:"Dlt",null:h7.TZ("Lyr",!0)}});
var d0=new fA(0,0,w.q,w._),i=new d5([6,31],this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[jJ]};
w.Oi(i);this.Lv(i.data,w);var cJ=N.A0.vG(w);if(cJ){i.data.Ip=cJ;i.data.Dh=d0;N.A0.Sh(w)}}if(S==X.Q3){if(!x.d(i$.W1))return;
var i=new d5("Switch Layer Link",this);i.data={Q:S,r:o.r};w.Oi(i);this.Lv(i.data,w)}if(S==X.kP){var ck=o.a0h?o.a0h:w.T,gj=0,ib=!1;
if(ck.length==0)return;if(ck.length==1&&w.R[ck[0]].FU==0){alert(kQ.get([15,7,5]));return}var k8=[];for(var I=0;
I<w.R.length;I++){var g$=w.R[I].FU;k8.push(g$);gj=Math.max(gj,g$)}var eo=-1,iP=-1;for(var I=0;I<ck.length;
I++){var g$=w.R[ck[I]].FU;if(g$==0)ib=!0;else if(eo==-1||eo==g$)eo=g$;else iP=g$}if(!ib)for(var I=0;
I<ck.length;I++)w.R[ck[I]].FU=0;else if(eo!=-1&&iP==-1)for(var I=0;I<ck.length;I++)w.R[ck[I]].FU=eo;
else for(var I=0;I<ck.length;I++)w.R[ck[I]].FU=gj+1;var fc=[];for(var I=0;I<w.R.length;I++){var g$=w.R[I].FU;
if(fc[g$]==null)fc[g$]=0;fc[g$]++}for(var I=0;I<w.R.length;I++){var g$=w.R[I].FU;if(fc[g$]==1)w.R[I].FU=0}var kL=k8;
k8=[];for(var I=0;I<w.R.length;I++){var g$=w.R[I].FU;k8.push(g$);gj=Math.max(gj,g$)}var i=new d5(ib?[6,54,0]:[6,54,1],this);
i.data={Q:X.kP,amC:kL,a9u:k8};w.Oi(i);this.Lv(i.data,w)}if(S==X.Ck&&(o.r!=null||w.T.length!=0)||S==X.s2){var hC=w.JT(S==X.Ck?o.r:k,null,o.asq),em;
if(S==X.s2){var V=hC[0],jQ=V.add.SoLd.Idnt.v,aS=w.Mc(jQ).clone();V.add.SoLd.Idnt.v=aS.QQ=da.Yc()+jQ.slice(8);
w.add.lnk2.push(aS)}if(S==X.Ck){var cY={wQ:"duplicate",WP:{classID:"null",null:h7.TZ("Lyr",!0)}};if(o.PV){hC[hC.length-1].bx(o.PV);
cY.Nm={t:"TEXT",v:o.PV}}this.track(cY);o.ak2=o.r}S=X._J;o.R=hC;o.Dy=w;o.vT=w}if(S==X._J){var cl,cf,hb=o.Dy,fE=o.vT,cK=0,ka=0,hj=hb.Qq(),iF=!1,j1,cz=0,fU=0;
if(hb!=fE){console.log("ADDLAYERS different projs");var cl=new fA(0,0,hb.q,hb._),cf=new fA(0,0,fE.q,fE._),hS=[],cW=[],cn=new fA;
for(var I=0;I<o.R.length;I++){var V=o.R[I];cn=cn.It(V.rect);if(V.add.SoLd==null)continue;var jQ=V.add.SoLd.Idnt.v;
if(hS.indexOf(jQ)==-1){hS.push(jQ);cW.push(da.Yc()+jQ.slice(8))}V.add.SoLd.Idnt.v=cW[hS.indexOf(jQ)];
var dW=V.fP(hb);if(dW){hb.R1(dW);fE.w9(dW)}}if(hj==-1&&!o.US&&o.ahD&&!cf.EI(cn)){cK=-cn.x;ka=-cn.y}if(hS.length>0){if(fE.add.lnk2==null)fE.add.lnk2=[];
for(var I=0;I<hS.length;I++){var dz=hb.Mc(hS[I]),aS=dz.clone();aS.QQ=cW[I];fE.add.lnk2.push(aS)}}}var a9=fE.T.slice(0);
a9.sort(function(i,hq){return i-hq});var kS=fE.R.slice(0),ac=[],iD=-1;for(var I=0;I<a9.length;I++)iD=Math.max(iD,a9[I]);
if(o.ak2!=null)iD=o.ak2;if(o.US){iD=o.US-1;var dy=fE.R[o.US].sK();cK+=dy.x;ka+=dy.y}if(hj!=-1&&(hb!=fE||o.US)){var ef=hb.R[hj].sK();
cK-=ef.x;ka-=ef.y}var bd=fE.nr();for(var I=0;I<bd[0].length;I++){var kv=bd[1][I];if(kv!=-1)bd[1][I]=kS[kv]}iD++;
for(var I=0;I<o.R.length;I++){var E=o.R[I],cP=E.add.artb;kS.splice(iD,0,E);ac.push(iD);iD++;if(cP){j1=!0;
var kc=cP.guideIndeces;if(kc){kc=kc.v;for(var e4=0;e4<kc.length;e4++){bd[0].push(hb.r_[kc[e4].v].slice(0));
bd[1].push(E);iF=!0}}}}for(var I=0;I<bd[0].length;I++){var kv=bd[1][I];if(kv!=-1)bd[1][I]=kS.indexOf(kv)}for(var I=0;
I<o.R.length;I++){var E=o.R[I];if(E.add.lsct==jS.iz){if(cz==0)fU++;cz++}else if(E.Pe())cz--}if(fU==1)ac=[iD-1];
var i=new d5([6,0],this);i.data={Q:X.v2,vc:fE.R.slice(0),O$:kS,I3:a9,Tg:ac};if(iF){i.data.Ft=[fE.nr(),bd]}fE.Oi(i);
this.Lv(i.data,fE);if(cK!=0||ka!=0)N.y9.D8(fE,fE.ea(),null,cK,ka);if(j1){i.data.Dh=new fA(0,0,fE.q,fE._);
i.data.Ip=N.A0.vG(fE);N.A0.Sh(fE)}}if(S==X.Lq){var cT=o.r!=null?[o.r]:w.ea(),kS=w.R.slice(0);for(var I=0;
I<cT.length;I++){var E=w.R[cT[I]].clone();E.QT(w);kS.splice(cT[I],1,E)}var i=new d5([6,8],this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:w.T.slice(0)};
w.Oi(i);this.Lv(i.data,w)}if(S==X.a5Q){var kS=w.R.slice(0),E=kS[w.T[0]]=kS[w.T[0]].clone(),jW=E.add.lmfx,iz,dy;
delete E.add.lmfx;var ii=w.T[0],hs=ii+1;if(E.Pe()){var cw=w.R[w.T[0]].Mn;dy=cw.a4o;iz=cw.sw;var Z=w.root.wX(ii);
ii=Z.Er}else{dy=E.rect;iz=e.U(dy.c());e.JX(E.buffer,iz,3)}var e6=iO.og(jW,E.add.fxrp,iz,dy,w,dy).type;
for(var I=0;I<iR.order.length;I++){var jt=iR.order[I],cR=e6[jt];cR.reverse();for(var e4=0;e4<cR.length;
e4++){var k4=cR[e4],O=w._L(),aM=I>7;if(jt=="ebbl"){if(k4.Qe||k4.ey){var aq=k4.Qe?k4.Qe:k4.ey;if(k4.Qe)delete k4.Qe;
else delete k4.ey;if(k4.ey||k4.JA)e4--}else if(k4.JA||k4.mL){var aq=k4.mL?k4.mL:k4.JA;if(k4.mL){delete k4.mL;
if(k4.JA)e4--}aM=!0}k4=aq}O.gS=k4.Hl;O.opacity=Math.round(255*k4.ID);O.buffer=k4.eD;O.rect=k4.$I.clone();
O.rect.offset(dy.x,dy.y);if(jt=="FrFX"){O.buffer=O.buffer.slice(0);e.lI(k4.zb?k4.zb:k4.Z$,O.buffer,3);
if(k4.zb){aM=!0;delete k4.zb;if(k4.Z$)e4--}}O.gH=!aM;O.bx(E.getName()+"'s "+kQ.get(iR.names[I]));kS.splice(aM?ii:hs,0,O);
if(aM)hs++}}var i=new d5("Styles to Layers",this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[hs-1]};
w.Oi(i);this.Lv(i.data,w)}if(S==X.aky){var cT=w.ea(),kS=w.R.slice(0),e$=new fA(0,0,w.q,w._);for(var I=0;
I<cT.length;I++){var kP=w.R[cT[I]],bR=kP.ny();kP.Kt(!0);var kE=w.root.wX(cT[I]);if(kP.Pe())continue;
if(kE==null)continue;var E=kP.clone();E.QT(w);var iw=kE.q_(w,!0),k9=w.R;w.V4([kP]);w.N();w.cj();E.buffer=e.U(iw.c()*4);
e.sR(w.Ey(),e$,E.buffer,iw);E.rect=iw;E.opacity=255;E.add.iOpa=255;E.gS="norm";E.N();E.Mn.U0=!0;w.V4(k9);
if(E.add.lmfx)delete E.add.lmfx;E.u=E.ST=null;kS.splice(cT[I],1,E);E.Kt(bR);kP.Kt(bR)}var i=new d5([6,34],this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:w.T.slice(0)};w.Oi(i);this.Lv(i.data,w)}if(S==X.rE){var cT=w.ea(),kS=w.R.slice(0);
for(var I=0;I<cT.length;I++){var E=w.R[cT[I]],iH=E.add.TySh;if(iH==null)continue;var V=new c5(iH.OY,z.v7,iH.cN),gX=e.a.e_(eQ.GH(V,iH,!0));
for(var jz in gX){var e2=gX[jz],bI=E.clone();delete bI.add.TySh;bI.Yo=bI.Yo|1<<4;bI.add.SoCo=JSON.parse(JSON.stringify(iR.P_[0]));
var ho=bI.add.SoCo.Clr.v;ho.Rd.v=parseInt(jz.slice(1,3),16);ho.Grn.v=parseInt(jz.slice(3,5),16);ho.Bl.v=parseInt(jz.slice(5,7),16);
var dB=new X.tc;dB.g=e.a.B6(e2,!1);if(bI.add.vmsk!=null){bI.add.vmsk.aba();dB.concat(bI.add.vmsk)}bI.add.vmsk=dB;
bI.add.vstk=iR.Vq.bS(!0);bI.h6();bI.qX(w);kS.splice(kS.indexOf(E),0,bI)}kS.splice(kS.indexOf(E),1)}var ac=w.T.slice(0);
for(var I=ac.length-1;I>=0;I--)if(ac[I]>=kS.length)ac.splice(I,1);var i=new d5([6,40],this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:ac};
w.Oi(i);this.Lv(i.data,w)}if(S==X.agb){var g4=w.T.length,jv,iI;if(g4<2){alert("Select two or more layers.");
return}for(var I=0;I<g4;I++){var ef=w.R[w.T[I]].rect;jv=I==0?ef:jv.SN(ef);iI=I==0?ef:iI.It(ef)}if(jv.c()*1.2>iI.c()){alert("stacking images");
var hz=[],jb=[];for(var I=0;I<g4;I++){var E=w.R[w.T[I]];hz.push(E.buffer);jb.push(E.rect)}var ee=e.aBH.m3(hz,jb),fZ=ee[0],kC=ee[1],ko=[];
for(var I=0;I<g4;I++){var e3=new X.wy;e3.color=255;e3.rect=kC;e3.channel=fZ[I];ko.push(w.T[I],null,e3)}var i=new d5("Focus-Stack",this);
i.data={Q:X.gv,z7:ko};w.Oi(i);this.Lv(i.data,w);return}if(!w.M_())return;var bI=w.R[w.T[0]].clone(),kS=[];
for(var I=0;I<w.R.length;I++)if(w.T.indexOf(I)==-1)kS.push(w.R[I]);kS.splice(w.T[0],0,bI);for(var I=1;
I<g4;I++)if(w.R[w.T[I]].rect.c()>2e6){alert("Blended areas are too large.");return}for(var I=1;I<g4;
I++){var E=w.R[w.T[I]],kC=E.rect.clone();kC.$b(1,1);var hq=e.U(kC.c()*4);e.sR(E.buffer,E.rect,hq,kC);
bI.extend(kC);var hT=e.U(kC.c()*4);e.sR(bI.buffer,bI.rect,hT,kC);var i=e.U(kC.c());e.JX(hq,i,3);e.round(i,200);
e.lI(i,hq,3);e.C.Iv("norm",hq,kC,hT,kC,kC,1);e.Pa.Tx(hT,i,kC);e.sR(hT,kC,bI.buffer,bI.rect)}var i=new d5([2,10,0],this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[w.T[0]]};w.Oi(i);this.Lv(i.data,w)}if(S==X.XR){var kS=w.R.slice(0),aO=w.T.slice(0);
for(var I=0;I<kS.length;I++){var E=kS[I],gV=E.add.vmsk;if(E.aj()&&gV&&E.add.vstk.strokeEnabled.v&&!E.add.vstk.fillEnabled.v){var cg=gV.g,br=0,iL=-1;
for(var e4=0;e4<cg.length;e4++){if((cg[e4].type==0||cg[e4].type==3)&&cg[e4].Hv!=-1){br++;if(cg[e4].type==3&&iL==-1){cg[e4].cI=cg[e4].Hv=1;
iL=e4}}}if(br>1&&iL!=-1&&br<10){console.log("separating an open path into a new layer");E=E.clone();
gV=E.add.vmsk;cg=gV.g;var O=cg[iL].length,hU=E.clone();hU.add.lyid=w.FI();gV.g=cg.slice(0,2).concat(cg.slice(iL,iL+O+1));
gV.T=[];E.qX(w);E.N();var je=hU.add.vmsk.g;hU.add.vmsk.g=je.slice(0,iL).concat(je.slice(iL+O+1,je.length));
hU.add.vmsk.T=[];hU.qX(w);kS[I]=E;kS.splice(I+1,0,hU);for(var e4=0;e4<aO.length;e4++)if(aO[e4]>I)aO[e4]++;
var gp=aO.indexOf(I);if(gp!=-1){aO.splice(gp+1,0,I+1)}}}}if(kS.length!=w.R.length){var i=new d5("Splitting open paths",this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:aO};w.Oi(i);this.Lv(i.data,w)}}if(S==X.WF){this.eq({Q:X.XR},P,w,x,z);
var a9=w.T.slice(0),k9=w.R.slice(0),cT=w.ea();if(cT.length==0)return;w.azv(cT,!1,o.pr);var i=new d5([6,36,0],this);
i.data={Q:X.v2,vc:k9,O$:w.R.slice(),I3:a9,Tg:w.T.slice(0)};w.Oi(i);this.Lv(i.data,w)}if(S==X.aAh){var cQ=f.add.SoLd;
if(cQ==null)return;var jQ=cQ.Idnt.v,fB=w.Mc(jQ);fB.Ey(!1);var gL=fB.iT[0],kC=fB.iT[1];if(e.Y9(gL)){alert("The smart object contains transparency.");
return}var dK=eu.oi("jpg").D7([[gL.buffer]],kC.q,kC._,[90]);this.eq({Q:X.rC,data:new Uint8Array(dK),V8:"image.jpg"},P,w,x,z);
console.log(w.add);return}if(S==X.rC){var e$=o.lg,jQ=o.id;if(e$==null)e$=w;if(jQ==null)jQ=f.add.SoLd.Idnt.v;
var dz=e$.Mc(jQ),aS=dz.clone();aS.raw=o.data;aS.V8=o.V8;var kW=eu.IL(o.data.buffer);if(kW=="psd"){aS.dW="8BIM";
aS.Ya="8BPB"}else{aS.dW="    ";aS.Ya="    "}aS.Ey(!1);dz.Ey(!1);var i=new d5([6,36,1],this);i.data={Q:X.rC,id:jQ,Lt:dz,B4:aS};
e$.Oi(i);this.Lv(i.data,e$)}if(S==X.Ok){var i=new d5([6,36,4],this);i.data={Q:S,r:k,Lz:f.add.SoLd.Impr.v.classID,OL:o.OL};
w.Oi(i);this.Lv(i.data,w)}if(S==X.aej){var g8,bE;if(o.Mv){g8=o.lg;bE=o.Mv}else{o.lg.GO();o.lg.TW();o.lg.N();
o.lg.cj();o.lg.Ey();g8=eu.oi("PSD").D7(o.lg,0,0,[!0,!0]);bE=o.lg.name}if(!(g8 instanceof ArrayBuffer))throw"e";
g8=new Uint8Array(g8);var d=o.sJ;if(d==null){if(w.T.length==0)d=w.T.length;else{var ak=w.T[w.T.length-1],O=w.R[ak];
d=O.Pe()?ak:ak+1}}var gr=new fA(0,0,w.q,w._),bp=w.Qq();if(bp!=-1)gr=w.R[bp].sK();var aw=w.to(g8,bE,null,null,gr,z.v7,P),kS=w.R.slice(0);
kS.splice(d,0,aw);var i=new d5([6,36,2],this);i.data={Q:X.v2,vc:w.R.slice(),O$:kS,I3:w.T.slice(0),Tg:[kS.indexOf(aw)]};
w.Oi(i);this.Lv(i.data,w)}if(S==X._W&&o.Pw=="merge"){var c2=[],bP=w.root.children,dl=0;for(var I=0;I<bP.length;
I++){var Z=bP[I],E=Z.r,bW=Z.children,be=!0;if(!E.Pe()||bW.length==0)continue;for(var e4=0;e4<bW.length;
e4++)if(!bW[e4].r.getName().startsWith("_a_")){be=!1;break}if(be)c2.push(w.R.indexOf(E))}var jd=[];for(var I=0;
I<c2.length;I++)if(w.T.indexOf(c2[I])!=-1)jd.push(c2[I]);if(jd.length>=2)c2=jd;if(c2.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gq=[];for(var I=0;I<c2.length;I++)gq.push(w.R[c2[I]].getName());var cR=[];for(var c7=0;c7<c2.length;
c7++){var Z=w.root.wX(c2[c7]),ku=[[],[],0,c7];cR.push(ku);for(var I=0;I<Z.children.length;I++){var a=Z.children[I].index,E=Z.children[I].r,i8=E.getName(),dM=20,gY=i8.split(",");
if(gY.length>1){var hK=parseInt(gY.pop());if(!isNaN(hK)&&hK!=0)dM=hK}if(dM<17)dM=17;ku[0].push(E);ku[1].push(dM);
ku[2]+=dM}}cR.sort(function(i,hq){return hq[2]-i[2]});if(cR[0][2]>2e3){var jV=0,d8=0;for(var I=0;I<cR.length;
I++){var kK=cR[I][1].length/cR[I][2];if(kK>d8){d8=kK;jV=I}}var er=(cR[0][2]/1e3).toFixed(1),fq=window.confirm("- \""+gq[cR[0][3]]+"\" is "+er+" seconds long\n"+"- \""+gq[cR[jV][3]]+"\" is playing at "+Math.round(d8*1e3)+" frames per second\n"+"A merged animation must be "+er+" sec, up to "+Math.round(cR[0][2]*d8)+" frames. Proceed?");
if(!fq)return}var b9=cR[0],h5=b9[2];for(var kv=1;kv<cR.length;kv++){var ku=cR[kv],eH=1,i3=ku[1].slice(0),aB=0;
while((eH+1)*ku[2]<=b9[2]){eH++;i3=i3.concat(ku[1])}ku[1]=i3;ku[2]*=eH;var i_=b9[2]/ku[2];for(var I=0;
I<ku[1].length;I++){var cV=Math.floor(ku[1][I]*i_);ku[1][I]=cV;aB+=cV}while(aB<h5){aB++;ku[1][ku[1].length-1]++}ku[2]=aB}var fP=[],ex=[],cV=[];
for(var I=0;I<cR.length;I++){fP.push(0);ex.push(0)}while(dl<h5){var dw=1e9,cx=-1;for(var I=0;I<cR.length;
I++){var e5=cR[I][1],ii=fP[I];if(ii!=e5.length&&ex[I]+e5[ii]<dl+dw){cx=I;dw=ex[I]+e5[ii]-dl}}ex[cx]+=cR[cx][1][fP[cx]];
fP[cx]++;if(dw!=0){cV.push(dw);dl+=dw}}for(var I=1;I<cV.length;I++){var jj=cV[I];if(jj<16&&(cV[I-1]<16||I<cV.length-1&&16<=cV[I+1])){cV[I-1]+=jj;
cV.splice(I,1);I--}}var bR=[],e$=new fA(0,0,w.q,w._);for(var I=0;I<w.R.length;I++){bR[I]=w.R[I].ny();
w.R[I].Kt(!1)}var hA=w.T.slice(0);w.T=c2;var f8=w.ea();f8.sort(function(i,hq){return i-hq});var kS=[];
for(var I=0;I<w.R.length;I++){if(f8.indexOf(I)==-1)kS.push(w.R[I])}cR.sort(function(i,hq){return i[3]-hq[3]});
function kg(e5,b8){var I=0,km=0;while(km+e5[I]<=b8){km+=e5[I];I++}return I}dl=0;kS.splice(f8[0],0,w.VY());
for(var al=0;al<cV.length;al++){var n=[];for(var I=0;I<cR.length;I++){var ii=kg(cR[I][1],dl)%cR[I][0].length,E=cR[I][0][ii];
n.push(E)}var E=w._L();for(var I=0;I<cR.length;I++){var aV=n[I],cH=w.R[c2[I]];aV.Kt(!0);cH.Kt(!0)}w.N();
w.cj();var gL=w.Ey();E.rect=e.rR(gL,e$,2);E.buffer=e.U(E.rect.c()*4);e.sR(gL,e$,E.buffer,E.rect);for(var I=0;
I<cR.length;I++){var aV=n[I],cH=w.R[c2[I]];aV.Kt(!1);cH.Kt(!1)}E.Kt(al==0);E.bx("_a_frm"+al+","+cV[al]);
kS.splice(f8[0]+1+al,0,E);dl+=cV[al]}var E=w._L();E.bx(gq.join(" + "));E.gS="pass";E.add.lsct=jS.v_;
E.Yo=24;kS.splice(f8[0]+1+cV.length,0,E);for(var I=0;I<w.R.length;I++)w.R[I].Kt(bR[I]);var i=new d5([6,12,0],this);
i.data={Q:X.v2,vc:w.R,O$:kS,I3:hA,Tg:[f8[0]+1+cV.length]};w.Oi(i);this.Lv(i.data,w)}if(S==X.xN||S==X.fx){var bv=w.T.length==1&&!w.R[w.T[0]].Pe(),kG=!0,aw=null,ac;
if(bv&&w.T[0]==0)return;var hd=S==X.xN&&o.r!=null&&w.T.indexOf(o.r)==-1,k9=w.R.slice(0),a9=w.T.slice(0);
if(bv||hd)w.T=[k,k-1];if(S==X.fx){w.T=[];for(var I=0;I<w.R.length;I++)if(w.R[I].ny())w.T.push(I)}var cT=w.ea();
cT.sort(function(i,hq){return i-hq});var fM=new fA,e$=new fA(0,0,w.q,w._);for(var I=0;I<cT.length;I++){var a=cT[I],E=w.R[a];
if(E.Pe()||E.getName()=="</Layer group>")continue;kG=kG&&E.aj()&&E.add.vmsk!=null;fM=fM.It(w.root.wX(a).q_(w,!0))}if(o.mH!=null&&!kG){alert("Select shape layers only.");
return}if(kG){var gV=null,b0=o.mH;for(var I=0;I<cT.length;I++){var O=w.R[cT[I]];if(O.rect.c()==0)continue;
if(aw==null){aw=O.clone();gV=aw.add.vmsk}else{var O=w.R[cT[I]],je=X.tc.tz(O.add.vmsk.g);if(b0!=null)for(var e4=0;
e4<je.length;e4++)if(je[e4].Hv!=null&&je[e4].Hv!=-1)je[e4].Hv=[1,2,3,0][b0];gV.g=gV.g.concat(je.slice(2));
aw.add.vogk=aw.add.vogk.concat(JSON.parse(JSON.stringify(O.add.vogk)))}}aw.add.vmsk.RC=!0;aw.qX(w)}else if(e$.rf(fM)){aw=w._L();
aw.bx(w.R[cT[cT.length-1]].getName());aw.rect=fM;aw.buffer=e.U(fM.c()*4);var aZ=w.add.artd;delete w.add.artd;
var fa=w.Ey(cT);if(aZ)w.add.artd=aZ;e.sR(fa,e$,aw.buffer,fM);aw.wW();aw.N()}else{w.azv(cT,!0);aw=w.R[w.T[0]];
w.R.splice(w.T[0],1);var jD=w.Mc(aw.add.SoLd.Idnt.v);w.add.lnk2.splice(w.add.lnk2.indexOf(jD),1);delete aw.add.SoLd}var aD=C,gm=-1;
if(o.WP&&o.WP.Dplc&&o.WP.Dplc.v)aD=!0;if(aD&&S==X.fx&&a9.length!=0&&w.R[a9[0]].Fn()&&w.R[a9[0]].rect.Mw()){gm=a9[0]}if(gm!=-1||bv){var kq=w.R[gm!=-1?gm:k-1];
aw.bx(kq.getName());aw.add.lclr=kq.add.lclr}var kS=[];for(var I=0;I<w.R.length;I++)if(aD||cT.indexOf(I)==-1)if(I!=gm)kS.push(w.R[I]);
var jw=cT[cT.length-1],cp=jw==w.R.length-1?null:w.R[jw+1],hw=cp?kS.indexOf(cp):kS.length;kS.splice(hw,0,aw);
ac=[hw];if(hd)ac=a9.slice(0);var i=new d5([6,12,0],this);i.data={Q:X.v2,vc:k9,O$:kS,I3:a9,Tg:ac};w.Oi(i);
this.Lv(i.data,w)}if(S==X.a9S){var bI=w._L();bI.rect=new fA(0,0,w.q,w._);bI.buffer=e.U(bI.rect.c()*4);
e.ZT(bI.buffer,4294967295);e.C.Iv("norm",w.Ey(),bI.rect,bI.buffer,bI.rect,bI.rect,1);bI.bx("Background");
bI.add.lspf=1<<2;var i=new d5([6,12,1],this);i.data={Q:X.v2,vc:w.R.slice(),O$:[bI],I3:w.T.slice(0),Tg:[0]};
w.Oi(i);this.Lv(i.data,w)}var ht=S==X.sg||S==X.ky;if(S==X.H7||S==X.vJ||S==X.rV||S==X.y5||ht){var E=ht?w.JT()[0]:w._L(),cr=kQ.get([0,3]),dt=o.PV,d3=!1,kD,jB;
if(S==X.rV)cr=kQ.get([12,76,1]);if(ht){if(w.e){var kP=w.R[w.T[0]],jq=kP.yU(w,w.e);if(jq==null){alert("Copied area is empty");
return}E.rect=jq.rect;E.buffer=jq.Du;E.QT(w);E.Kt(!0)}else dt=E.getName();E.add.lspf=0;E.gH=!1;if((E.Yo&1)!=0)E.Yo--}if(S==X.y5){E.rect=N.p0.a45(o.a7,w);
E.buffer=o.a7.buffer.slice(0);if(o.aEZ&&w.e){E.u=new X.wy;E.u.rect=w.e.rect;E.u.color=0;E.u.channel=w.e.channel.slice(0)}}if(S==X.H7){this.track({wQ:"make",WP:{classID:"Mk",null:h7.TZ("Lyr")}})}if(S==X.vJ){E.Yo|=16;
var c0=o.WP.Usng.v,d$=c0.Type.v,jr=ft.oz[d$.classID];cr=kQ.get(ft.names[jr]);if(c0.Nm)dt=c0.Nm.v;E.add[jr]=cM.bS(jr);
if(E.add[jr]==null)E.add[jr]={};for(var hD in d$)E.add[jr][hD]=JSON.parse(JSON.stringify(d$[hD]));E.u=N.p0.ax8(w);
E.Zx=1}if(S==X.rV){E.Yo|=16;var g9=o.WP,c0=g9.Usng.v,hN=c0.Type.v,hu=c0.Shp;if(c0.Nm)dt=c0.Nm.v;if(hu==null){var ik=w.m0(),gX=ik[0],dH=ik[1];
if(dH.length!=0&&gX[dH[0]].BG<0){var f_=gX[dH[0]].add;E.add.vmsk=f_.vmsk.clone();E.add.vstk=iR.Vq.bS(!0);
E.add.vogk=JSON.parse(JSON.stringify(f_.vogk));w.lL=[]}else E.u=N.p0.ax8(w)}else{E.add.vmsk=new X.tc;
E.add.vstk=JSON.parse(JSON.stringify(c0.strokeStyle?c0.strokeStyle.v:iR.Vq.bS(!0)));E.add.vogk=[];if(hu){var hL=e.KH.dN(hu,w.q,w._);
if(hL){E.add.vogk=[hL];E.add.vmsk.g.push({type:0,Hv:1,length:0});e.KH.w3(E.add.vogk,E.add.vmsk)}else{hu=hu.v;
var aI=hu.classID;if(aI=="Plgn"){var fh=hu.Cntr.v,ef=hu.corner.v;fh=new eD(fh.Hrzn.v.val,fh.Vrtc.v.val);
ef=new eD(ef.Hrzn.v.val,ef.Vrtc.v.val);E.add.vmsk.g=e.n.fg.ff(fh.x,fh.y,Math.sqrt(ef.x*ef.x+ef.y*ef.y),Math.atan2(ef.y,ef.x),hu.sides.v,0)}else if(aI=="customShape"){var gg=e.KH.JU(hu),fv=gg[2]-gg[0],bH=gg[3]-gg[1],cy=z.VX,ey,jy;
for(var I=0;I<cy.length;I++)if(cy[I].HN==hu.Nm.v)ey=cy[I];if(ey){jy=X.tc.tz(ey.g);e.n.G9(jy,new ar(fv,0,0,bH,gg[0],gg[1]))}else jy=e.n.fg.Rect(gg[0],gg[1],fv,bH,0);
E.add.vmsk.g=jy}E.h6()}}}if(bn==0){var ir={solidColorLayer:0,gradientLayer:1,patternLayer:2}[hN.classID],g5=["SoCo","GdFl","PtFl"][ir];
E.add[g5]=JSON.parse(JSON.stringify(iR.P_[ir]));if(ir==0)E.add[g5].Clr.v=e.G.e1(e.AE(z.AB));N.p0.oK(hN,E.add[g5],ir);
if(hu==null)cr=kQ.get([6,48,0,ir]);if(g5=="PtFl"){var iq=E.add[g5].Ptrn.v,gY=iO.HE(iq,z.a2);if(gY==null)gY=iO.HE(iq,w.add.Patt);
if(gY==null)gY=z.a2[0];iq.Idnt.v=gY.id;w.dO(gY)}E.qX(w)}else{E.add.vstl=JSON.parse(JSON.stringify(z.ahW))}}var g4=N.p0.Df(w,cr+" ");
E.bx(cr+" "+(g4+1));if(dt)E.bx(dt);var bL=w.T.length==0?w.R.length-1:w.T[w.T.length-1],iJ=w.R[bL];if(bn==0&&S==X.rV&&iJ.Fn()&&iJ.rect.Mw()){d3=!0;
E.bx(iJ.getName());kD=bL}else{kD=bL+(S==X.H7&&b&&!H?0:1);if(iJ&&iJ.add.lsct==jS.KC)kD--}if(o.a2c)kD=Math.max(0,kD-1);
var kS=w.R.slice(0);if(S==X.ky){var eM=kS[w.T[0]]=kS[w.T[0]].clone(),cZ=w.e.channel.slice(0);e.Sd(cZ);
e.Cn(cZ,w.e.rect,eM.buffer,eM.rect)}kS.splice(kD,d3?1:0,E);var h2=[5,2];if(S==X.H7)h2=[6,13];if(S==X.vJ)h2=[6,1];
if(S==X.rV){h2=[6,48,1];var hu=o.WP.Usng.v.Shp;if(hu){var dT={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hu.v.classID];
if(dT)h2=dT}}if(ht){h2=[6,49,S==X.sg?0:1]}if(ht||S==X.rV||S==X.y5||S==X.vJ)if(w.e)jB=[w.e,null];var i=new d5(h2,this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[kD],l7:jB};w.Oi(i);this.Lv(i.data,w);if(S==X.rV&&hu==null&&ir!=0||S==X.vJ){var j=new bO(G.E.X);
j.data={Q:G.l.d7,hq:a1.Rz.Gu};P.j(j)}}if(S==X.azE){var kS=w.R.slice(0),E=w.R[w.T[0]],kM=E.rect.c(),hk=kM*4,dk=kS.indexOf(E),kq=w._L();
kq.bx("Decomposition");kq.add.lsct=jS.KC;kq.gS="pass";kq.Yo=24;kS.splice(dk+1,0,kq);kS.splice(dk+1,0,w.VY());
var ai=E.clone();ai.bx("Residual");kS.splice(dk+2,0,ai);function dw(i,hq,I){hq[I]+=128-i[I];hq[I+1]+=128-i[I+1];
hq[I+2]+=128-i[I+2];hq[I+4]+=128-i[I+4];hq[I+5]+=128-i[I+5];hq[I+6]+=128-i[I+6]}kS.splice(dk,0);var gt=Date.now();
for(var eF=0;eF<5;eF++){var hU=ai.clone();kS.splice(dk+3,0,hU);hU.opacity=128;hU.gS="lLit";hU.bx("Scale "+(eF+1));
cM.JP(1<<eF,e.uY.yX,ai.buffer,E.rect);var gg=ai.buffer,aJ=new Uint8ClampedArray(hU.buffer.buffer);for(var I=0;
I<hk;I+=8)dw(gg,aJ,I)}var i=new d5("Wavelet Decompose",this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[dk+2]};
w.Oi(i);this.Lv(i.data,w)}if(S==X.Qk){var E=w._L(),cr=kQ.get([0,4]),g4=N.p0.Df(w,cr+" ");E.bx(cr+" "+(g4+1));
E.gS="pass";E.add.lsct=jS.KC;E.Yo=24;if(o.PV)E.bx(o.PV);if(o.qQ!=null)E.add.lclr=o.qQ;var ew=w.VY(),bL=k,kD=bL+(b?0:1),kS=w.R.slice(0);
kS.splice(kD,0,ew,E);var i=new d5([6,20],this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[kD+1]};
w.Oi(i);this.Lv(i.data,w)}if(S==X.ba||S==X.hY){var b$=S==X.ba?o.source:w.T[0],a0,cs,cv=w.T.indexOf(b$)!=-1,gD=C|o.aGN,iV,dw=null;
if(cv)iV=w.ea();else iV=w.f0(b$);iV.sort(function(i,hq){return i-hq});if(S==X.ba){a0=o.target;cs=o.j9>.5}else if(o.target!=null){a0=Math.min(o.target,w.R.length-1);
cs=o.target<w.R.length;w.ZY=!0}else{var jI=o.Pw;cs=jI>1;if(jI==0){a0=w.R.length-1}if(jI==1){a0=iV[iV.length-1]+1;
var O=w.f0(a0);if(O.indexOf(b$)==-1)a0+=O.length-1}if(jI==2){a0=iV[0]-1;var O=w.f0(a0);if(O.indexOf(b$)==-1)a0-=O.length-1}if(jI==3){a0=0;
if(w.R[0].add.lnsr=="bgnd")a0++}if(a0<0||a0>w.R.length-1)return;w.ZY=!0}if(iV.indexOf(a0)!=-1&&!gD)return;
var dx=N.p0.oM(w,iV,a0,cs,gD?w.JT(cv?null:b$):null,S==X.ba&&o.j9>.8),j0=dx.pop(),aO=dx.pop(),kS=dx.pop(),i6=w.T;
w.T=[b$];var hj=w.Qq();w.T=[a0];var kn=w.Qq();if(kn==a0&&!cs)kn=-1;w.T=i6;if(b$==hj){}else if(hj!=kn){var dw=new eD(0,0);
if(hj!=-1){var kC=w.R[hj].sK();dw.x-=kC.x;dw.y-=kC.y}if(kn!=-1){var kC=w.R[kn].sK();dw.x+=kC.x;dw.y+=kC.y}}var i=new d5(gD?[6,0]:[6,35],this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:aO,PM:dw};w.Oi(i);this.Lv(i.data,w);var g9={classID:"move",null:h7.TZ("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:j0+(cs?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:gD}};
this.track({wQ:"move",WP:g9})}if(S==X.n$){var iJ=o.u_;if(o.kE){if(f==null||!f.Pe())return;var Z=w.root.wX(k),iM=w.R.indexOf(Z.cF),kS=w.R.slice(0);
kS.splice(k,1);kS.splice(iM,1);var aO=[];for(var I=iM;I<k-1;I++)aO.push(I);if(iJ){var q=k-2;kS[q]=kS[q].clone();
kS[q].u_=!1}var i=new d5(iJ?[6,6,0]:"Ungroup Layers",this);i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:aO};
w.Oi(i);this.Lv(i.data,w)}else{var E=w._L(),dj=kQ.get([0,4])+" ";E.bx(dj+(N.p0.Df(w,dj)+1));E.gS="pass";
if(iJ){if(w.T.length==1){alert("Select more than one layer for a clipping group.");return}E.bx("<Clip Group>")}if(o.PV)E.bx(o.PV);
if(o.qQ!=null)E.add.lclr=o.qQ;E.add.lsct=w.T.length==1?jS.KC:jS.v_;E.Yo=24;var ew=w.VY(),iV=w.ea();if(iV.length==0)return;
iV.sort(function(i,hq){return i-hq});var kS=[];for(var I=0;I<w.R.length;I++)if(iV.indexOf(I)==-1)kS.push(w.R[I]);
var bL=w.T[w.T.length-1]-iV.length;kS.splice(bL+1,0,ew);for(var I=0;I<iV.length;I++)kS.splice(bL+2+I,0,w.R[iV[I]]);
kS.splice(bL+2+iV.length,0,E);if(iJ){var q=bL+iV.length+1;kS[q]=kS[q].clone();kS[q].u_=!0}var i=new d5(iJ?[6,6,0]:[6,9],this);
i.data={Q:X.v2,vc:w.R.slice(0),O$:kS,I3:w.T.slice(0),Tg:[kS.indexOf(E)]};w.Oi(i);this.Lv(i.data,w);var t={wQ:"make",_$:!0};
t.WP={classID:"Mk",null:h7.TZ("layerSection"),From:h7.TZ("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:E.getName()}}}};
this.track(t)}}if(S==X.aFQ){if(w.T.length!=1)return;var d=w.T[0],fm=C;if(w.R[d].Jq()==null&&!x.d(i$.Jm)){S=X.gE;
o.lk=w.e?!fm?"RvlS":"HdSl":!fm?"RvlA":"HdAl"}else{S=X.n7;o.a7L=!0}}if(S==X.gE){if(w.T.length!=1)return;
var d=w.T[0],E=w.R[d];if(E.add.vmsk&&E.u==null)E.qX(w);var dN=E.Jq();if(dN==null||o.azP){var i=new d5(o.PV?o.PV:[6,21],this),ip=new X.wy,ji=o.lk,bQ=ji=="RvlS"||ji=="HdSl";
if(ji=="RvlS"||ji=="HdAl"||ji=="Trns")ip.color=0;if(bQ){ip.channel=w.e.channel.slice(0);ip.rect=w.e.rect.clone();
if(ji=="HdSl")e.Sd(ip.channel)}if(ji=="Trns"){ip.rect=E.rect.clone();ip.channel=e.U(E.rect.c());e.JX(E.buffer,ip.channel,3)}i.data={Q:X.gv,z7:[d,dN,ip],l7:bQ?[w.e,null]:null,a6Y:ji=="Trns"};
w.Oi(i);this.Lv(i.data,w);w.R[d].Zx=1;this.track({wQ:"make",WP:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ji}}}})}}else if(S==X.ar$){var cN=w.R[o.src],gC=w.R[o.it],i=new d5([6,21],this),iG=cN.Jq(),aP=gC.Jq(),e3=[o.src,iG,null,o.it,aP,iG];
if(C||H){var i8=iG.clone();if(C)e3=[o.it,aP,i8];else e3[5]=i8;if(H){e.Sd(i8.channel);i8.color=255-i8.color}}i.data={Q:X.gv,z7:e3};
w.Oi(i);this.Lv(i.data,w)}if(S==X.ic){if(w.T.length!=1)return;var d=k,i1=w.R[d].Jq();if(i1!=null){var i=new d5([6,22],this);
i.data={Q:X.gv,z7:[k,i1,null]};w.Oi(i);this.Lv(i.data,w)}}if(S==X.S2){var k9=w.R.slice(0),bI=f.clone(),dv=bI.Jq();
e.Cn(dv.Hz(bI.rect),bI.rect,bI.buffer,bI.rect);N.p0.fy(w,bI);bI.wW();w.R[w.T[0]]=bI;var i=new d5([5,8],this);
i.data={Q:X.v2,vc:k9,O$:w.R.slice(),I3:w.T.slice(0),Tg:w.T.slice(0)};w.Oi(i);this.Lv(i.data,w)}if(S==X.Mf){if(w.T.length!=1)return;
var d=w.T[0];if(w.R[d].fP(w).u==null){var i=new d5([6,45],this);i.data={Q:S,r:d,u:new X.wy};w.Oi(i);
this.Lv(i.data,w)}}if(S==X.B8){if(w.T.length!=1)return;var d=w.T[0];if(w.R[d].fP(w).u!=null){var i=new d5([6,46],this);
i.data={Q:S,r:d,u:w.R[d].fP(w).u};w.Oi(i);this.Lv(i.data,w)}}if(S==X.Zn){if(o.src==null&&w.T.length!=1)return;
if(o.src!=null)k=o.src;if(w.R[k].zO()){var i=new d5([6,47],this),cQ=JSON.stringify(w.R[k].add.SoLd),jR=JSON.parse(cQ);
delete jR.filterFX;i.data={Q:X.Z6,xK:[{Uo:k,z3:[cQ,JSON.stringify(jR)],Xq:[w.R[k].fP(w),null]}]};w.Oi(i);
this.Lv(i.data,w)}}if(S==X.n7){if(w.T.length!=1)return;if(f.add.vmsk==null){var i=new d5([6,23],this),cg=w.m0(),ck=cg[1],cg=cg[0],ip,hL;
if(o.a7L&&ck.length!=0){var f_=cg[ck[0]].add;ip=f_.vmsk.clone();hL=f_.vogk}else{ip=new X.tc;hL=[];ip.g[1].all=o.an2?0:1}i.data={Q:S,r:k,UA:!0,u:ip,KH:JSON.stringify(hL),Vq:null};
if(f.aj()){i.data.Vq=Stroke.Vq.bS(!0)}w.Oi(i);this.Lv(i.data,w)}}if(S==X.Dz){var cN=w.R[o.src],gC=w.R[o.it];
if(gC.add.vmsk)return;var i=new d5([6,23],this),gV=cN.add.vmsk;i.data={r:o.it,UA:cN.yJ,u:gV.clone(),KH:JSON.stringify(cN.add.vogk),Vq:cN.add.vstk?JSON.stringify(cN.add.vstk):null};
if(C){i.data.Q=X.n7}else{i.data.Q=S;i.data.src=o.src;i.data.it=o.it}w.Oi(i);this.Lv(i.data,w)}if(S==X.a6||S==X.lw){if(w.T.length!=1)return;
var E=w.R[k],gV=E.add.vmsk;if(gV!=null){var ea=S==X.lw,i=new d5(ea?[6,8]:[6,24],this);i.data={Q:X.a6,r:k,UA:E.yJ,u:gV,KH:JSON.stringify(E.add.vogk),Vq:E.add.vstk?JSON.stringify(E.add.vstk):null};
if(ea){i.data.ST=gV.Jq(E.add.vstk);i.data.ST.Gb=!1}w.Oi(i);this.Lv(i.data,w)}}if(S==X.AJ){var i=new d5("Metadata",this);
i.data={Q:S,bY:JSON.stringify(w.wz),As:JSON.stringify(o.As)};w.Oi(i);this.Lv(i.data,w)}if(S==X.c3){var ax=o.it?o.it:w,dJ=ax.name,dt=o.P+".psd";
if(dJ==dt)return;var i=new d5([6,37],this);i.data={Q:S,aeq:dJ,PV:dt};if(o.apc!=!0)ax.Oi(i);this.Lv(i.data,ax)}if(S==X._W&&o.Pw.endsWith("makeframes")){var b3=[],gR=o.Pw.startsWith("make");
for(var I=0;I<w.T.length;I++){var a=w.T[I],E=w.R[a],fQ=E.getName(),ez=fQ.startsWith("_a_");if(gR==ez||E.add.lsct==jS.iz)continue;
var eU=gR?"_a_"+fQ:fQ.slice(3);b3.push([a,fQ,eU,E.add.lnsr,null])}var i=new d5([6,37],this);i.data={Q:X.BV,JL:b3};
w.Oi(i);this.Lv(i.data,w)}if(S==X.BV){var dJ=f.getName(),dt=o.name.substring(0,255);if(dJ==dt)return;
var i=new d5([6,37],this);i.data={Q:S,JL:[[k,dJ,dt,f.add.lnsr,null]]};w.Oi(i);this.Lv(i.data,w);this.track(h7.xA("Nm",{t:"TEXT",v:dt}))}if(S==X.Ig){var kX=w.ea(),i9=[],eX=[];
for(var I=0;I<kX.length;I++){i9.push(w.R[kX[I]].add.lclr);eX.push(o.ayQ)}var i=new d5([6,38],this);i.data={Q:S,R:kX,aig:i9,qQ:eX};
w.Oi(i);this.Lv(i.data,w)}if(S==X.Rk){var i=w.history[w.Mi];if(i!=null&&i.I==this&&i.data.Q==S&&i.data.r==o.n6&&i.data.OL.bf==o.mt.bf)i.data.OL=o.mt;
else{i=new d5("Mask Density / Feather",this);i.data={Q:S,r:o.n6,Lz:w.R[o.n6].LV(o.mt.bf),OL:o.mt};w.Oi(i)}this.Lv(i.data,w)}if(S==X.lV){var d_=JSON.stringify(o.P),ap=JSON.parse(d_),i=w.history[w.Mi];
if(i!=null&&i.I==this&&i.data.Q==S&&i.data.bq==o.bq&&i.data.XN.join(",")==o.XN.join(",")){for(var I=0;
I<o.XN.length;I++)i.data.ke[I]=ap;if(i.data.WP&&ap.Ya!=0)N.p0.oK(ap.v4,i.data.WP.T.v,ap.Ya-1)}else{i=new d5([11,6],this);
i.data={Q:S,XN:o.XN,bq:o.bq,ai4:[],ke:[]};var ic=!1;for(var I=0;I<o.XN.length;I++){var a=o.XN[I],E=w.R[a],dg=o.bq?iR.KT(E.add):JSON.parse(JSON.stringify(E.add.vstk));
i.data.ai4.push(dg);i.data.ke.push(ap);if(JSON.stringify(dg)!=d_)ic=!0}if(!ic)return;w.Oi(i);if(o.bq&&ap.Ya>0){var g9=i.data.WP={classID:"setd",null:h7.TZ("contentLayer",!0),T:{t:"Objc",v:{}}};
N.p0.oK(ap.v4,g9.T.v,ap.Ya-1);this.track({wQ:"set",WP:g9})}}if(o.bq&&ap.Ya==3)w.dO(iO.HE(ap.v4.Ptrn.v,z.a2));
if(!o.bq){var ih=ap.strokeStyleContent.v;if(ih.classID==iR.Vq.Fs[2])w.dO(iO.HE(ih.Ptrn.v,z.a2))}this.Lv(i.data,w)}if(S==X.v$){var hJ=z.XO,gS=[];
for(var I=0;I<w.T.length;I++){var a=w.T[I],E=w.R[a],hB=E.add.vstl;if(hB==null)continue;var dg=JSON.stringify(hB);
for(var e$ in hJ)hB[e$]=hJ[e$];var ap=JSON.stringify(hB);if(dg==ap)continue;gS.push([a,dg,ap])}if(gS.length!=0){var $=w.k8();
if($&&$.I==this&&$.data.Q==S&&$.data.ly.length==gS.length){var a7=!0;for(var I=0;I<gS.length;I++)if(gS[I][0]!=$.data.ly[I][0])a7=!1;
if(a7){for(var I=0;I<gS.length;I++)$.data.ly[I][2]=gS[I][2];w.N();return}}var i=new d5("Style Change",this);
i.data={Q:S,ly:gS};w.Oi(i);w.N()}}};N.p0.oM=function(o,P,w,x,z,S){var k=o.R[w],f=[];if(z)f=o.R.slice(0);
else for(var I=0;I<o.R.length;I++)if(P.indexOf(I)==-1)f.push(o.R[I]);var C=f.indexOf(k);if(S&&k.Pe()&&k.add.lsct==jS.v_)C-=o.f0(w).length-1;
var H=[];for(var I=0;I<P.length;I++){var b=C+(x?0:1)+I,i=z?z[I]:o.R[P[I]];f.splice(b,0,i);H.push(b)}return[f,H,C]};
N.p0.oK=function(o,P,w){var x=[iR.pL,iR.d$,iR.pg][w];if(P.classID==null)P.classID=["solidColorLayer","gradientLayer","patternLayer"][w];
for(var I=0;I<x.length;I++)if(o[x[I]])P[x[I]]=JSON.parse(JSON.stringify(o[x[I]]))};N.p0.ax8=function(o){var P=new X.wy;
if(o.e!=null){P.color=0;P.channel=o.e.channel.slice(0);P.rect=o.e.rect.clone()}return P};N.p0.Ox=function(o,P,w,x,z){var S=x.q/w.q,k=x._/w._,f=x.q/2,C=x._/2,H=e.a.R2(x).i;
for(var I=0;I<o.R.length;I++){var b=o.R[I],i=b.add.SoLd;if(i==null||i.Idnt.v!=P)continue;var M=S!=1||k!=1;
if(M){var T=N.DH.PU(i.nonAffineTransform),O=e.W.tV(T,x),Y=new ar;Y.translate(-f,-C);Y.scale(S,k);Y.translate(f,C);
var U=e.W.j$(O,e.W.G5(Y)),W=H.slice(0);e.W.h(U,W);i.Trnf=N.DH.Co(W);i.nonAffineTransform=N.DH.Co(W);
if(e.lD.tN(i.quiltWarp.v)){var t=i.quiltWarp.v.bounds.v;t.Rght.v.val=x.q;t.Btom.v.val=x._}}b.w2(o,null,z,!M)}o.N()};
N.p0.az_=function(o,P,w){P.color=255-P.color;e.Sd(P.channel);P.RC=!0;o.qX(w);w.N()};N.p0.prototype.kW=function(o,P){var w=o.Q,x=P.R[o.r];
P.yS=!0;if(w==X.rC){P.add.lnk2.splice(P.add.lnk2.indexOf(o.B4),1,o.Lt);N.p0.Ox(P,o.id,o.B4.vH,o.Lt.vH)}if(w==X.Ok){x.add.SoLd.Impr.v.classID=o.Lz;
x.w2(P)}if(w==X.Cz){var z=JSON.parse(o.XN);for(var I=0;I<z.length;I++)P.R[z[I]].gS=o.cB[I];P.N()}if(w==X.pV){var z=JSON.parse(o.XN);
for(var I=0;I<z.length;I++)P.R[z[I]].opacity=o.cB[I];P.N()}if(w==X.CU){var z=JSON.parse(o.XN);for(var I=0;
I<z.length;I++)if(P.R[z[I]].add.lsct!=jS.iz)P.R[z[I]].add.lspf=o.cB[I]}if(w==X.kV){var S=o.Kn,k=o.awx;
delete x.add[S[0]];if(k[0]!="----")x.add[k[0]]=k[1]}if(w==X.s1){x.add.iOpa=o.cB;P.N()}if(w==X.PZ){for(var I=0;
I<o.XN.length;I++){var f=P.R[o.XN[I]];f.Kt(!f.ny())}P.N()}if(w==X.lp){var C=x.Jq();C.isEnabled=!C.isEnabled;
x.qX(P);P.N()}if(w==X.Pc){var C=x.fP(P).u;C.isEnabled=!C.isEnabled;x.N();P.N()}if(w==X.c8){var C=x.add.vmsk;
C.isEnabled=!C.isEnabled;if(!C.isEnabled){if(x.ST){x.u=x.ST;x.ST=null}else x.u=null}else if(x.u){x.ST=x.u;
x.u=null}x.qX(P);P.N()}if(w==X.q3){x.gH=!x.gH;P.N()}if(w==X.Op){x.add.lmfx.masterFXSwitch.v=!x.add.lmfx.masterFXSwitch.v;
x.Mn.U0=!0;P.N()}if(w==X.vq){x.add.SoLd.filterFX.v.enab.v=!x.add.SoLd.filterFX.v.enab.v;x.pY(P);P.N()}if(w==X.Db){var H=o.index,b=x.add.lmfx[iR._7[H[0]]].v[H[1]].v;
b.enab.v=!b.enab.v;x.Mn.U0=!0;P.N()}if(w==X.go){var i=P.R[o.On],M=P.R[o.Z2],T=o.ayt,O=o.aEL;if(T=="")delete i.add.lmfx;
else i.add.lmfx=JSON.parse(T);if(O=="")delete M.add.lmfx;else M.add.lmfx=JSON.parse(O);i.Mn.U0=!0;M.Mn.U0=!0;
P.N()}if(w==X.RK){var Y=x.add.SoLd.filterFX.v.filterFXList.v[o.index].v;Y.enab.v=!Y.enab.v;x.pY(P);P.N()}if(w==X.aD9){x.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(o.at3));
x.pY(P);P.N()}if(w==X.qT){var C=x.Jq();C.Ud=!C.Ud}if(w==X.fp){var C=x.add.vmsk;C.Ud=!C.Ud}if(w==X.g0){var U=JSON.parse(o.aog);
P.fA=U[0];P.kr=U[1]}if(w==X.zP){var U=o.ri;for(var I=0;I<U.length;I+=2){var W=U[I],f=W>=0?P.R[W]:P.Fx[-1-W];
f.add.vogk=JSON.parse(U[I+1]);e.KH.w3(f.add.vogk,f.add.vmsk);if(W>=0)f.qX(P)}P.N()}if(w==X.nC){x.add.artb=JSON.parse(o.akP);
P.N();N.A0.u7(P,o)}if(w==X.Q_){P.e=o.jO;if(o.ajg)P.s.A=o.ajg.slice(0);P.Cg=o.ri.slice(0);P.jM=o.sW.slice(0);
P.yW=P.dH=!0}if(w==X.Q3){x.Yv=!x.Yv}if(w==X.kP){var t=o.amC;for(var I=0;I<t.length;I++)P.R[I].FU=t[I]}if(w==X.v2){if(o.PM)N.y9.D8(P,P.T,null,-o.PM.x,-o.PM.y);
if(o.I3)P.T=o.I3;if(o.l7)P.e=o.l7[0];P.wJ=null;P.N();N.A0.u7(P,o);P.V4(o.vc);if(o.Ft)P.sp(o.Ft[0])}if(w==X.gv){for(var I=0;
I<o.z7.length;I+=3)N.p0.fy(P,P.R[o.z7[I]],o.z7[I+1]);if(o.l7){var _=o.l7[0];if(_==null)delete P.e;else P.e=_}if(o.a6Y){var f=P.R[o.z7[0]];
e.lI(o.z7[2].channel,f.buffer,3)}}if(w==X.Mf){x.fP(P).u=null;x.N();P.N()}if(w==X.B8){x.fP(P).u=o.u;x.N();
P.N()}if(w==X.Z6){N.p0.a7I(P,o.xK,0)}if(w==X.n7){N.p0.dp(P,x,!0)}if(w==X.Dz){N.p0.dp(P,P.R[o.it],o.u.isEnabled);
N.p0.zR(P,P.R[o.src],o)}if(w==X.a6){if(o.ST)N.p0.fy(P,x,null);N.p0.zR(P,x,o)}if(w==X.AJ){P.wz=JSON.parse(o.bY)}if(w==X.c3){P.name=o.aeq}if(w==X.BV){for(var I=0;
I<o.JL.length;I++){var n=o.JL[I],f=P.R[n[0]];f.bx(n[1]);if(n[3])f.add.lnsr=n[3];else delete f.add.lnsr}}if(w==X.Ig){for(var I=0;
I<o.R.length;I++)P.R[o.R[I]].add.lclr=o.aig[I]}if(w==X.lV){var y=o.ai4;for(var I=0;I<o.XN.length;I++){var f=P.R[o.XN[I]],F=y[I];
if(!o.bq)f.add.vstk=JSON.parse(JSON.stringify(F));else iR.bu(f.add,JSON.parse(JSON.stringify(F)));f.mw(P)}P.N()}if(w==X.v$){for(var I=0;
I<o.ly.length;I++){var a=o.ly[I];P.R[a[0]].add.vstl=JSON.parse(a[1])}P.N()}if(w==X.Rk){x.aq$(o.Lz);x.qX(P);
P.N()}P.dH=!0};N.p0.prototype.Lv=function(o,P){var w=o.Q,x=P.R[o.r];P.yS=!0;if(w==X.rC){P.add.lnk2.splice(P.add.lnk2.indexOf(o.Lt),1,o.B4);
N.p0.Ox(P,o.id,o.Lt.vH,o.B4.vH)}if(w==X.Ok){x.add.SoLd.Impr.v.classID=o.OL;x.w2(P)}if(w==X.Cz){var z=JSON.parse(o.XN);
for(var I=0;I<z.length;I++)P.R[z[I]].gS=o.OL;P.N()}if(w==X.pV){var z=JSON.parse(o.XN);for(var I=0;I<z.length;
I++)P.R[z[I]].opacity=o.OL;P.N()}if(w==X.CU){var z=JSON.parse(o.XN);for(var I=0;I<z.length;I++)if(P.R[z[I]].add.lsct!=jS.iz)P.R[z[I]].add.lspf=o.OL[I]}if(w==X.kV){var S=o.awx,k=o.Kn;
delete x.add[S[0]];if(k[0]!="----")x.add[k[0]]=k[1]}if(w==X.s1){x.add.iOpa=o.OL;P.N()}if(w==X.PZ){for(var I=0;
I<o.XN.length;I++){var f=P.R[o.XN[I]];f.Kt(!f.ny())}P.N()}if(w==X.lp){var C=x.Jq();C.isEnabled=!C.isEnabled;
x.qX(P);P.N()}if(w==X.Pc){var C=x.fP(P).u;C.isEnabled=!C.isEnabled;x.N();P.N()}if(w==X.c8){var C=x.add.vmsk;
C.isEnabled=!C.isEnabled;if(!C.isEnabled){if(x.ST){x.u=x.ST;x.ST=null}else x.u=null}else if(x.u){x.ST=x.u;
x.u=null}x.qX(P);P.N()}if(w==X.q3){x.gH=!x.gH;P.N()}if(w==X.Op){x.add.lmfx.masterFXSwitch.v=!x.add.lmfx.masterFXSwitch.v;
x.Mn.U0=!0;P.N()}if(w==X.vq){x.add.SoLd.filterFX.v.enab.v=!x.add.SoLd.filterFX.v.enab.v;x.pY(P);P.N()}if(w==X.Db){var H=o.index,b=x.add.lmfx[iR._7[H[0]]].v[H[1]].v;
b.enab.v=!b.enab.v;x.Mn.U0=!0;P.N()}if(w==X.go){var i=P.R[o.On],M=P.R[o.Z2],T=o.a39,O=o.ajn;if(T=="")delete i.add.lmfx;
else i.add.lmfx=JSON.parse(T);if(O=="")delete M.add.lmfx;else M.add.lmfx=JSON.parse(O);i.Mn.U0=!0;M.Mn.U0=!0;
P.N()}if(w==X.RK){var Y=x.add.SoLd.filterFX.v.filterFXList.v[o.index].v;Y.enab.v=!Y.enab.v;x.pY(P);P.N()}if(w==X.aD9){x.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(o.aDq));
x.pY(P);P.N()}if(w==X.qT){var C=x.Jq();C.Ud=!C.Ud}if(w==X.fp){var C=x.add.vmsk;C.Ud=!C.Ud}if(w==X.g0){var U=JSON.parse(o.aG_);
P.fA=U[0];P.kr=U[1]}if(w==X.zP){var U=o.O6;for(var I=0;I<U.length;I+=2){var W=U[I],f=W>=0?P.R[W]:P.Fx[-1-W];
f.add.vogk=JSON.parse(U[I+1]);e.KH.w3(f.add.vogk,f.add.vmsk);if(W>=0)f.qX(P)}P.N()}if(w==X.nC){x.add.artb=JSON.parse(o.Hn);
P.N();N.A0.hF(P,o)}if(w==X.Q_){P.e=o.GM;if(o.a1T)P.s.A=o.a1T.slice(0);P.Cg=o.O6.slice(0);P.jM=o.LD.slice(0);
P.yW=P.dH=!0}if(w==X.Q3){x.Yv=!x.Yv}if(w==X.kP){var t=o.a9u;for(var I=0;I<t.length;I++)P.R[I].FU=t[I]}if(w==X.v2){P.a00();
var _=o.O$,n=0,y;for(var I=0;I<_.length;I++){var f=_[I],F=f.add.lsct;if(F==jS.iz)n++;else if(F==jS.KC||F==jS.v_)n--;
if(f.add.artb&&n!=0)y="Artboards can not be inside folders."}if(y){P.history.pop();P.Mi--;alert(y);return}if(o.Tg)P.T=o.Tg;
if(o.l7)P.e=o.l7[1];P.wJ=null;P.N();P.V4(o.O$);N.A0.hF(P,o);if(o.PM)N.y9.D8(P,P.T,null,o.PM.x,o.PM.y);
if(o.Ft)P.sp(o.Ft[1])}if(w==X.gv){for(var I=0;I<o.z7.length;I+=3)N.p0.fy(P,P.R[o.z7[I]],o.z7[I+2]);if(o.l7){var a=o.l7[1];
if(a==null)delete P.e;else P.e=a}if(o.a6Y){var f=P.R[o.z7[0]],V=f.buffer;for(var I=0;I<V.length;I+=4)V[I+3]=255}}if(w==X.Mf){x.fP(P).u=o.u;
x.Zx=0;x.N();P.N()}if(w==X.B8){x.fP(P).u=null;x.Zx=0;x.N();P.N()}if(w==X.Z6){N.p0.a7I(P,o.xK,1)}if(w==X.n7){N.p0.zR(P,x,o)}if(w==X.Dz){N.p0.dp(P,P.R[o.src],o.u.isEnabled);
N.p0.zR(P,P.R[o.it],o)}if(w==X.a6){N.p0.dp(P,x,o.u.isEnabled);if(o.ST)N.p0.fy(P,x,o.ST)}if(w==X.AJ){P.wz=JSON.parse(o.As)}if(w==X.c3){P.name=o.PV}if(w==X.BV){for(var I=0;
I<o.JL.length;I++){var D=o.JL[I],f=P.R[D[0]];f.bx(D[2]);if(D[4])f.add.lnsr=D[4];else delete f.add.lnsr}}if(w==X.Ig){for(var I=0;
I<o.R.length;I++)P.R[o.R[I]].add.lclr=o.qQ[I]}if(w==X.lV){var l=o.ke;for(var I=0;I<o.XN.length;I++){var f=P.R[o.XN[I]],Q=l[I];
if(!o.bq)f.add.vstk=JSON.parse(JSON.stringify(Q));else iR.bu(f.add,JSON.parse(JSON.stringify(Q)));f.mw(P)}P.N()}if(w==X.v$){for(var I=0;
I<o.ly.length;I++){var m=o.ly[I];P.R[m[0]].add.vstl=JSON.parse(m[2])}P.N()}if(w==X.Rk){x.aq$(o.OL);x.qX(P);
P.N()}P.dH=!0};N.p0.Df=function(o,P){var w=0;for(var I=0;I<o.R.length;I++){var x=o.R[I].getName();if(x.startsWith(P)){var z=x.slice(P.length).trim(),S=parseInt(z);
if(!isNaN(S)&&S+""==z&&S>w)w=S}}return w};N.p0.a7I=function(o,P,w){for(var I=0;I<P.length;I++){var x=P[I],z=o.R[x.Uo];
if(x.z3){z.add.SoLd=JSON.parse(x.z3[w])}if(x.Xq){if(x.Xq[1-w]!=null)o.R1(x.Xq[1-w]);if(x.Xq[w]!=null)o.w9(x.Xq[w]);
else z.Zx=0}z.w2(o)}};N.p0.a45=function(o,P){var w=o.UQ,x=o.rect.clone();if(w!=null&&(w.x!=P.q||w.y!=P._)){x.x=Math.floor((P.q-x.q)/2);
x.y=Math.floor((P._-x._)/2)}else if(w==null){var z=new fA(0,0,P.q,P._),S=P.Qq();if(S!=-1)z=P.R[S].sK();
x.x+=z.x;x.y+=z.y}return x};N.p0.anY=function(o,P){if(P.ST)P.ST=null;else P.u=null;P.qX(o);o.N();P.Zx=0};
N.p0.fy=function(o,P,w){var x=P.Jq();if(x==null&&w==null)return;if(x)N.p0.anY(o,P);if(w==null)return;
if(P.u)P.ST=w;else P.u=w;P.qX(o);o.N()};N.p0.dp=function(o,P,w){if(P.ST&&w){P.u=P.ST;P.ST=null}else if(P.u&&w){P.u=null}delete P.add.vogk;
delete P.add.vstk;delete P.add.vmsk;P.qX(o);P.yJ=!1;o.wJ=[];o.N()};N.p0.zR=function(o,P,w){P.add.vogk=JSON.parse(w.KH);
if(w.Vq)P.add.vstk=JSON.parse(w.Vq);else delete P.add.vstk;P.add.vmsk=w.u.clone();if(P.u&&P.add.vmsk.isEnabled)P.ST=P.u;
P.qX(o);P.yJ=w.UA;o.wJ=[o.R.indexOf(P)];o.lL=[];o.N()};N._V=function(){N.Qf.call(this,"Layer Styles",N.dX);
this.fB=null;this.BX=null;this.Tq=null;this.lC=[];this.os=null};N._V.prototype=new N.Qf;N._V.prototype.eq=function(o,P,w,x,z){var S=o.r;
if(S==null)S=w.T[0];var k=w.R[S],f=o.BG;if(this.fB==null){this.Tq=N._V.uT(w,k);this.fB=JSON.stringify(this.Tq);
if(k.add.lmfx)this.BX=JSON.stringify(k.add.lmfx)}if(k.add.lmfx==null){k.add.lmfx=JSON.parse(iR.default);
for(var I=0;I<iR.order.length;I++)k.add.lmfx[iR._7[I]]={t:"VlLs",v:[]}}if(o.Q=="scaleeffects"){if(o.P=="confirm"||o.P=="cancel"){this.eq({Q:o.P},P,w,x,z);
return}k.add.lmfx=JSON.parse(this.BX);iO.w7(k.add.lmfx,o.P/100)}else if(o.Q=="changeprop"){var C=null;
if(f!=0){var H=this.lC[f[0]];if(H==null)H=iR.lC[f[0]];H=JSON.parse(H);var b=k.add.lmfx[iR._7[f[0]]].v;
if(b[f[1]]==null)b[f[1]]={t:"Objc",v:H};C=b[f[1]].v;for(var i in H)if(C[i]==null)C[i]=H[i]}if(o.Q=="changeprop"){if(f==0){this.Tq[o.G_].v=o.P;
N._V.sO(w,k,this.Tq)}else if(o.G_=="lagl"){if(C.uglg&&C.uglg.v){w.Ro(o.P.val);this.Tq.gagl.v.val=w.t8()}else C[o.G_].v=o.P}else if(o.G_=="Lald"){if(C.uglg.v){w.Pv(o.P.val);
this.Tq.aBQ=w.KP()}else C[o.G_].v=o.P}else if((f[0]==3||f[0]==8)&&(o.G_=="Clr"||o.G_=="Grad")){if(o.G_=="Clr"){C.Clr={t:"Objc",v:o.P};
delete C.Grad}if(o.G_=="Grad"){C.Grad={t:"Objc",v:o.P};delete C.Clr}}else{C[o.G_].v=o.P}if(f!=0)this.lC[f[0]]=JSON.stringify(C)}if(f!=0)if(C.Ptrn)w.dO(iO.HE(C.Ptrn.v,z.a2))}else if(o.Q=="setstl"){var M=o.P.Lefx;
if(M)iO.ad2(M,w,z.a2);iO.axO(o.P,k,null,w);this.Tq=N._V.uT(w,k)}else if(o.Q=="st_dupsingle"){var T=k.add.lmfx[iR._7[o.QB[0]]].v;
if(T[o.QB[1]]==null)return;var O=JSON.parse(JSON.stringify(T[o.QB[1]]));T.splice(o.QB[1],0,O)}else if(o.Q=="st_movsingle"){var Y=o.QB[1],T=k.add.lmfx[iR._7[o.QB[0]]].v;
if(T[o.QB[1]]==null)return;var U=Math.max(0,Math.min(T.length-1,Y+o.a4Y)),W=T[U];T[U]=T[Y];T[Y]=W}else if(o.Q=="cancel"){if(this.BX==null)delete k.add.lmfx;
else k.add.lmfx=JSON.parse(this.BX);N._V.sO(w,k,JSON.parse(this.fB));this.fB=null;this.BX=null}else if(o.Q=="confirm"){var t=JSON.stringify(k.add.lmfx),_=new d5([11,6],this);
_.data={R:[S],YL:[this.BX],BK:[t],tP:[this.fB],DU:[JSON.stringify(this.Tq)]};w.Oi(_);this.fB=null;this.BX=null;
if(t!=null){var n=JSON.parse(t);fy.sf(n);n.classID="Lefx";delete n.masterFXSwitch;var y=new bO(G.E.qc);
y.N8=!0;y.data={wQ:"set",_$:!0};var F=h7.TZ("Lyr",!0);F.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
y.data.WP={__name:"Set",classID:"setd",null:F,T:{t:"Objc",v:n}};P.j(y)}}else if(o.Q=="st_copy"){this.os=[this.fB,this.BX];
this.fB=null;this.BX=null}else if(o.Q=="st_paste"||o.Q=="st_clear"){if(o.Q=="st_paste"&&this.os==null)return;
var a=o.r!=null?[o.r]:w.T.slice(0),V=[],D=[],l=[],Q=[];for(var I=0;I<a.length;I++){var k=w.R[a[I]],m=N._V.uT(w,k);
V.push(k.add.lmfx?JSON.stringify(k.add.lmfx):null);l.push(JSON.stringify(m));if(o.Q=="st_paste"){D.push(this.os[1]);
Q.push(this.os[0])}else{D.push(null);m.lrMd.v=0;m.Opct.v.val=100;m.iOpa.v.val=100;m.blIf={v:[]};for(var R=0;
R<10;R++)m.blIf.v.push(0,0,255,255);Q.push(JSON.stringify(m))}}var _=new d5([11,6],this);_.data={R:a,YL:V,BK:D,tP:l,DU:Q};
this.Lv(_.data,w);w.Oi(_);this.fB=null;this.BX=null}else{var $=this.Tq,n=null;if(o.Q=="st_delsingle"){n=JSON.parse(this.BX);
n[iR._7[o.QB[0]]].v.splice(o.QB[1],1);n=JSON.stringify(n)}if(n==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(n);
if($!=null)N._V.sO(w,k,$);var _=new d5([11,6],this);_.data={R:[o.r],YL:[this.BX],BK:[n],tP:[this.fB],DU:[JSON.stringify($)]};
w.Oi(_);this.fB=null;this.BX=null}k.Mn.U0=!0;w.yS=!0;w.N()};N._V.uT=function(o,P){if(P.add.iOpa==null)P.add.iOpa=255;
if(P.add.brst==null)P.add.brst=[1,1,1];var w=P.Pe()?["pass"].concat(jK.gg):jK.gg;return{lrMd:{v:w.indexOf(P.gS)},Opct:{v:{type:"#Prc",val:Math.round(P.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(P.add.iOpa*100/255)},t:"UntF"},blIf:{v:P.Xa.slice(0)},brst:{v:P.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:o.t8()}},aBQ:o.KP(),Pe:P.Pe()}};
N._V.sO=function(o,P,w){var x=P.Pe()?["pass"].concat(jK.gg):jK.gg;P.gS=x[w.lrMd.v];P.opacity=Math.round(w.Opct.v.val*255/100);
P.add.iOpa=Math.round(w.iOpa.v.val*255/100);P.Xa=w.blIf.v.slice(0);P.add.brst=w.brst.v.slice(0);o.Ro(w.gagl.v.val);
o.Pv(w.aBQ)};N._V.prototype.kW=function(o,P){for(var I=0;I<o.R.length;I++){var w=P.R[o.R[I]],x=o.YL[I];
if(x==null)delete w.add.lmfx;else w.add.lmfx=JSON.parse(x);N._V.sO(P,w,JSON.parse(o.tP[I]));w.Mn.U0=!0}P.yS=!0;
P.N()};N._V.prototype.Lv=function(o,P){for(var I=0;I<o.R.length;I++){var w=P.R[o.R[I]],x=o.BK[I];if(x==null)delete w.add.lmfx;
else w.add.lmfx=JSON.parse(x);N._V.sO(P,w,JSON.parse(o.DU[I]));w.Mn.U0=!0}P.yS=!0;P.N()};N.vk=function(){N.Qf.call(this,"Layer Comps",N.iH)};
N.vk.prototype=new N.Qf;N.vk.prototype.eq=function(o,P,w,x){var z=JSON.parse(JSON.stringify(w.NZ)),S=JSON.parse(JSON.stringify(w.NZ)),k=null,f=null,C=null,H=-1,b=!1;
if(o.Q=="delLC"){var i=N.vk.bb(w.NZ,o.BG),M=w.NZ.lastAppliedComp?w.NZ.lastAppliedComp.v:0;S.list.v.splice(i,1);
if(M==o.BG)delete S.lastAppliedComp;k="Delete Layer Comp"}if(o.Q=="editLC"){var i=N.vk.bb(w.NZ,o.BG),T=S.list.v[i].v;
if(o.PV!=null)T.Nm.v=o.PV;if(o.aqm!=null){var O=o.aqm,Y=T.capturedInfo.v,U=Y&(1<<O)-1;Y=Y>>O;if((Y&1)==1)Y--;
else Y++;T.capturedInfo.v=(Y<<O)+U}k="Layer Comp properties"}if(o.Q=="setLC"){N.vk.LT(w);if(o.BG==0)delete S.lastAppliedComp;
else S.lastAppliedComp={t:"long",v:o.BG};k="Switch Layer Comp";b=!0}if(o.Q=="updLC"){N.vk.LT(w);f=N.vk.a2t(w,o.BG);
C=N.vk._f(w,o.BG);S.lastAppliedComp={t:"long",v:o.BG};k="Update Layer Comp";H=o.BG;b=!0}if(o.Q=="addLC"){N.vk.LT(w);
var W=1;for(var I=0;I<S.list.v.length;I++)W=Math.max(W,S.list.v[I].v.compID.v)+1;W+=Math.floor(Math.random()*1e4);
var t={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(S.list.v.length+1)},compID:{t:"long",v:W},capturedInfo:{t:"long",v:7}}};
S.list.v.push(t);S.lastAppliedComp={t:"long",v:W};k="New Layer Comp";var _=N.vk._f(w,W);N.vk.Ad(w,_,W)}var n=new d5(k,this);
n.data={asM:z,arb:S,agy:f,aDF:C,BG:H,qs:b};this.Lv(n.data,w);w.Oi(n)};N.vk.prototype.Lv=function(o,P){P.NZ=o.arb;
P.yS=!0;if(o.aDF)N.vk.Ad(P,o.aDF,o.BG);if(o.qs){var w=P.NZ.lastAppliedComp?P.NZ.lastAppliedComp.v:0,x=N.vk.bb(P.NZ,w),z=x==-1?null:P.NZ.list.v[x].v,S=z?z.capturedInfo.v:7;
N.vk.YI(P,w,S);P.N()}};N.vk.prototype.kW=function(o,P){P.NZ=o.asM;P.yS=!0;if(o.agy)N.vk.Ad(P,o.agy,o.BG);
if(o.qs){var w=P.NZ.lastAppliedComp?P.NZ.lastAppliedComp.v:0,x=N.vk.bb(P.NZ,w),z=x==-1?null:P.NZ.list.v[x].v,S=z?z.capturedInfo.v:7;
N.vk.YI(P,w,S);P.N()}};N.vk.LT=function(o){if(o.NZ.lastAppliedComp!=null||!o.mk)return;var P=N.vk._f(o,0);
N.vk.Ad(o,P,0);o.mk=!1};N.vk.B$=function(o,P,w){o.v.Hrzn.v+=P;o.v.Vrtc.v+=w};N.vk.bb=function(o,P){var w=o.list.v;
for(var I=0;I<w.length;I++)if(w[I].v.compID.v==P)return I;return-1};N.vk.aeA=function(o){var P=o.layerSettings.v,z=null;
if(P.length==0)return;var w="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),x=P[0].v;
if(x.enab==null)x.enab={t:"bool",v:!0};if(x.Ofst==null)x.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var I=0;I<P.length;I++){var S=P[I].v;if(z==null)z=JSON.parse(JSON.stringify(S));else for(var k=0;
k<w.length;k++){var f=w[k];if(S[f])z[f]=JSON.parse(JSON.stringify(S[f]))}P[I].v=JSON.parse(JSON.stringify(z))}};
N.vk.ayx=function(o,P){var w=o.add.shmd.cmls,x=w.layerSettings.v;for(var z=0;z<x.length;z++){var S=x[z].v,k=S.compList.v[0].v;
if(k==P)return z}return-1};N.vk.ajK=function(o,P){var w=N.vk.ayx(o,P);return w==-1?null:o.add.shmd.cmls.layerSettings.v[w].v};
N.vk.YI=function(o,P,w){for(var I=0;I<o.R.length;I++){var x=o.R[I],z=x.add.shmd.cmls;if(z==null)continue;
var S=z.layerSettings.v,k=N.vk.ajK(x,P);if(k==null){x.Kt(!1);continue}if((w&1)!=0){if(k.enab)x.Kt(k.enab.v);
else x.Kt(!0)}if((w&2)!=0){if(k.Ofst){var f=k.Ofst.v,C=x.yq(o),H=Math.round(f.Hrzn.v-C.x),b=Math.round(f.Vrtc.v-C.y);
if(H!=0||b!=0)N.y9.D8(o,[I],null,H,b)}}if((w&4)!=0){if(k.Lefx){var i=JSON.parse(JSON.stringify(k.Lefx.v));
fy.oc(i);if(JSON.stringify(i)!=JSON.stringify(x.add.lmfx)){x.add.lmfx=i;x.Mn.U0=!0}}else delete x.add.lmfx;
if(k.blendOptions){var M=k.blendOptions.v;if(M.Opct)x.opacity=Math.round(255*M.Opct.v.val/100);if(M.fillOpacity)x.add.iOpa=Math.round(255*M.fillOpacity.v.val/100);
if(M.Md)x.gS=x.add.lsct==jS.iz?"norm":jK.RD(M.Md.v.BlnM)}else{x.opacity=255;x.gS=x.Pe()?"pass":"norm";
x.add.iOpa=255}}}};N.vk.a2t=function(o,P){var w={};for(var I=0;I<o.R.length;I++){var x=o.R[I];if(x.add.shmd==null||x.add.shmd.cmls==null)continue;
w["l"+x.add.lyid]=JSON.parse(JSON.stringify(N.vk.ajK(x,P)))}return w};N.vk._f=function(o,P){var w={};
for(var I=0;I<o.R.length;I++){var x=o.R[I],z=x.add.lyid;w["l"+z]=N.vk.amR(o,x,P)}return w};N.vk.amR=function(o,P,w){var x=P.add.shmd?P.add.shmd.cmls:null,z={classID:"null"},S=P.yq(o),k={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:S.x},Vrtc:{t:"long",v:S.y}}};
z.compList={t:"VlLs",v:[{t:"long",v:w}]};z.enab={t:"bool",v:P.ny()};z.Ofst=JSON.parse(JSON.stringify(k));
z.FXRefPoint=JSON.parse(JSON.stringify(x&&x.origFXRefPoint?x.origFXRefPoint:k));z.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:jK.W_(P.gS)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*P.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:P.add.iOpa!=null?100*P.add.iOpa/255:100}}}};
if(P.add.vmsk){z.vectorMask={t:"Objc",v:{classID:"null"}};z.vectorMask.v.Ofst=JSON.parse(JSON.stringify(k))}if(P.add.lmfx){z.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(P.add.lmfx))};
fy.sf(z.Lefx.v)}return z};N.vk.avN=function(o,P){var w=P.add.lyid;if(P.add.shmd==null)P.add.shmd={};
if(P.add.shmd.cmls==null){P.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:w},layerSettings:{t:"VlLs",v:[{t:"Objc",v:N.vk.amR(o,P,0)}]}}}};
N.vk.Ad=function(o,P,w){for(var I=0;I<o.R.length;I++){var x=o.R[I],z=x.add.lyid;N.vk.avN(o,x);var S=x.add.shmd.cmls,k=S.layerSettings.v,f=P["l"+z];
if(f!=null)f={t:"Objc",v:JSON.parse(JSON.stringify(f))};var C=N.vk.ayx(x,w);if(C==-1){if(f==null)continue;
else k.push(f)}else{if(f==null)k.splice(C,1);else k[C]=f}}};N.vk.xk=function(o,P){for(var I=0;I<o.R.length;
I++){var w=o.R[I],x=w.add.lyid;if(w.add.shmd==null||w.add.shmd.cmls==null)continue;var z=w.yq(o),S=Math.round(z.x),k=Math.round(z.y);
if(!P){S=-S;k=-k}var f=w.add.shmd.cmls,C=f.layerSettings.v;if(f.origFXRefPoint)N.vk.B$(f.origFXRefPoint,-S,-k);
for(var H=0;H<C.length;H++){var b=C[H].v;N.vk.B$(b.Ofst,S,k);var i=b.imageMask,M=b.vectorMask;if(i&&i.v.Ofst)N.vk.B$(i.v.Ofst,S,k);
if(M&&M.v.Ofst)N.vk.B$(M.v.Ofst,S,k)}}};N.pX=function(){N.Qf.call(this,"Adjust Edit",N.vg);this.As=null;
this.gK=null};N.pX.prototype=new N.Qf;N.pX.m4=function(o,P,w,x){if(x)P/=4;var z=0,S=0,k=255,f=0,C=0,H=255;
while(S+o[z]<P){S+=o[z];z++}while(f+o[k]<P){f+=o[k];k--}if(x){z-=Math.round(o[z]/(w/32));k+=Math.round(o[k]/(w/32));
if(z<0)C=Math.round(-z*255/(k-z));if(k>255)H=255-Math.round((k-255)*255/(k-z))}return[Math.max(z,0),Math.min(k,255),C,H,100]};
N.pX.prototype.eq=function(o,P,w,x,z){var S=o.Q;if(S=="auto"){var k=o.Zi,f=N.pX.getData(w);for(var I=0;
I<f.length;I++){var C=f[I],H;if(k<3){}else{var b=cM.bS("hue2");gw.I$(b,0,[0,-100,0]);H=ft.C1("hue2",b)}ft.wM(H,C.Du,C.Ou,C.sn)}N.pX.Te(w,f);
N.pX.Rh(w,f,k<3?[4,16,k]:[19,7,0],this);w.N()}if(S=="edit_layer")this.aEY(o,P,w,x);if(S=="edit"||S=="confirm"||S=="cancel")this.OX(o,P,w,z,!0);
if(S=="start"){if(w.T.length==0)return;var i=w.R[w.T[0]];if(i.add.SoLd&&i.Zx<=0&&w.jM.length==0){var M=new bO(G.E.z,!0);
M.I=N.bk;M.data={Q:"start",Bs:o._X,IN:o.IN};P.j(M);return}if(!w.M_(P,null,!0))return;if(cq[o._X]&&o.IN==null){if(w.T.length!=1)alert("Will be applied to "+w.T.length+" layers.");
var M=new bO(G.E.X,!0);M.data={Q:G.l.y7,hq:"afw_"+o._X};P.j(M)}else{this.OX({Q:"edit",IN:o.IN,Bs:o._X},P,w,z);
this.OX({Q:"confirm",Bs:o._X},P,w,z)}}};N.pX.prototype.aEY=function(o,P,w,x){var z=o.Q,S=w.T[0],k=w.R[S],f=ft.get(k.add),M;
if(k.add[f]==null)return;var C=JSON.parse(JSON.stringify(k.add[f]));for(var H in o.P)C[H]=o.P[H];var b=JSON.parse(JSON.stringify(C));
for(var H in ft.oz)if(ft.oz[H]==f)b.classID=H;var i=w.history[w.Mi];if(i&&i.I==this&&i.data.Lz!=null&&i.data.r==S)M=i;
else{var T=new bO(G.E.qc,!0),O={classID:"setd",null:h7.TZ("AdjL",!0),T:{t:"Objc",v:b}};T.data={_$:!0,wQ:"set",WP:O};
P.j(T);var M=new d5([6,39],this);M.data={r:S,Lz:k.add[f],OL:C,l4:O};w.Oi(M)}M.data.OL=C;M.data.l4.T.v=b;
this.Lv(M.data,w)};N.pX.getData=function(o,P,w){var x=[],z=new fA(0,0,o.q,o._),S=o.jM.length!=0?[-1-o.jM[0]]:o.T;
for(var I=0;I<S.length;I++){var k=S[I],f=k<0?null:o.R[k],C={r:k,Gc:k<0?1:f.Zx};x.push(C);var H=o.Cg[-1-k];
if(0<=k)H=f.Zx<=0?null:f.Zx==1?f.Jq():f.fP(o).u;var b=H?H.rect:f.rect;if(o.e){C.sn=o.e.rect.SN(P||H!=null?z:b)}else C.sn=P||H!=null?b.It(z):b.clone();
if(w)C.sn=w[I].sn.clone();var i=C.sn.c();C.Du=e.U(i*4);if(H)N.tB.V7(H.channel,H.rect,H.color,C.Du,C.sn);
else e.sR(f.buffer,b,C.Du,C.sn);C.Ou=C.Du.slice(0);if(o.e){C.z7=e.U(i);e.d0(o.e.channel,o.e.rect,C.z7,C.sn)}}return x};
N.pX.aqd=function(o,P,w){if(P==null)return P;var x=ft.cx(o,P),S;if(x==-1)return P;var z=w.length>>>2,k=e.DM(w),f=.001*z;
if(x==0||x==2)S=[[0,255,0,255,100],N.pX.m4(k[1],f,z,x==2),N.pX.m4(k[2],f,z,x==2),N.pX.m4(k[3],f,z,x==2)];
if(x==1)S=[N.pX.m4(k[0],f*.33,z,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var C=cM.bS("levl");
for(var I=0;I<4;I++)cX.I$(C,I,S[I]);return C};N.pX.aiW=function(o,P,w,x){var z,S;if(w.t=="name"){var k=0;
for(var f=0;f<o.R.length;f++)if(o.R[f].getName()==w.v.val)k=f;if(o==P&&k==x.r){z=x.Du;S=x.sn}else{var C=o.R[k];
z=C.buffer;S=C.rect}}else{S=new fA(0,0,o.q,o._);z=o==P?x.yp:o.Ey()}return[z,S]};N.pX.prototype.OX=function(o,P,w,x){if(this.As==null){if(o.Bs=="aply")w.R[w.T[0]].extend(new fA(0,0,w.q,w._));
this.As=N.pX.getData(w,null,o.Bs=="fade"?w.k8().data:null);if(o.Bs=="aply"||o.Bs=="matc")this.As[0].yp=w.Ey()}if(o.Q=="edit"){this.gK=[o.Bs,o.IN];
var z=this.As[0],S=N.pX.aqd(o.Bs,o.IN,z.Du),k=ft.C1(o.Bs,S);if(o.Bs=="fade"||o.Bs=="matc"||o.Bs=="aply")k=o.IN;
if(k!=null){for(var f=0;f<this.As.length;f++){var C=this.As[f];if(o.zn)e.L9(C.Du,C.Ou);else if(o.Bs=="fade"){var H=jK.RD(o.IN.Md.v.BlnM),b=o.IN.Opct.v.val/100,i=w.k8().data[f];
e.L9(i.Du,C.Ou);if(H=="norm")e.C.RH(C.Du,C.sn,C.Ou,C.sn,null,null,null,C.sn,b);else{var M=iO.ax();M.hH=!0;
for(var I=0;I<i.Du.length;I+=4)if(i.Du[I+3]!=C.Du[I+3]){M=null;break}e.C.Iv(H,C.Du,C.sn,C.Ou,C.sn,C.sn,b,M)}}else if(o.Bs=="matc"){var T;
if(k.noReference&&k.noReference.v)T=C.Du;else{var O=k.Srce.v,Y=O[1].v.val,U=P.ux,W=w;for(var I=0;I<U.length;
I++)if(U[I].name==Y)W=U[I];var t=N.pX.aiW(W,w,O[0],C);T=t[0]}aj(C.Du,C.sn.q,C.sn._,T,C.Ou,[k.Lght.v,k.ClrR.v,k.Fade.v,k.neutralizeColor?k.neutralizeColor.v:!1])}else if(o.Bs=="aply"){k=k.With.v;
var _=k.T.v,t=N.pX.aiW(w,w,_[1],C),T=t[0],n=t[1],y=k.Clcl?k.Clcl.v.Clcn:null,H=y?jK.RD(y):"norm",b=k.Opct?k.Opct.v.val/100:1,F=["RGB","Rd","Grn","Bl","Trsp"].indexOf(_[0].v.enum),S=k.Invr&&k.Invr.v;
if(S||F!=0){T=T.slice(0);if(S)e.auv(T);if(F!=0){var a=e.U(n.c());e.JX(T,a,F-1);if(F==4)e.Sd(a);for(var V=0;
V<3;V++)e.lI(a,T,V)}}if(y=="Add"||y=="Sbtr"){var D=1/k.Scl.v,l=k.Ofst.v,Q=y=="Add"?1:-1,m=new Uint8ClampedArray(C.Ou.buffer);
for(var I=0;I<T.length;I+=4){m[I]=(C.Du[I]+Q*T[I])*D+l;m[I+1]=(C.Du[I+1]+Q*T[I+1])*D+l;m[I+2]=(C.Du[I+2]+Q*T[I+2])*D+l}}else{var M=iO.ax();
M.hH=k.PrsT&&k.PrsT.v;C.Ou.fill(0);C.Ou.set(C.Du);e.C.Iv(H,T,n,C.Ou,C.sn,C.sn,b,M)}}else ft.wM(k,C.Du,C.Ou,C.sn)}N.pX.Te(w,this.As)}}if(o.Q=="cancel"){N.pX.at6(w,this.As);
this.As=null}if(o.Q=="confirm"){var R={fade:[2,11],aply:[2,12],matc:[4,18]},$=R[o.Bs];if($==null)$=ft.names[o.Bs];
var p=ft.cx(o.Bs,this.gK[1]);if(p!=-1)$=[4,16,p];N.pX.Rh(w,this.As,$,this);this.As=null;if(p==-1)N.pX.Oh(P,this.gK)}w.N()};
N.pX.Oh=function(o,P){var w=P[0],x=P[1],z,S;if(ft.Q9[w]){z=ft.Q9[w];if(cq[w])S=x}if(cM.Q9[w]){z=cM.Q9[w];
if(cq[w])S=x}if(w=="fade"){z="fade";S=x}if(w=="matc"){z="matchColor";S=x}if(w=="aply"){z="applyImageEvent";
S=x}if(w=="GEfc"){if(S.GEfs)S=S.GEfs.v[0].v}if(z==null)return;var k=new bO(G.E.qc,!0);k.data={_$:!0,wQ:z};
if(S){S=JSON.parse(JSON.stringify(S));k.data.WP=S}o.j(k)};N.pX.at6=function(o,P){N.pX.gX(o,P)};N.pX.Rh=function(o,P,w,x){for(var I=0;
I<P.length;I++){var z=P[I],S=o.R[z.r],k=z.r<0?o.Cg[-1-z.r]:z.Gc<=0?null:z.Gc==1?S.Jq():S.fP(o).u;if(k){k.wW();
k.RC=!0;if(S)S.qX(o)}else{S.wW();S.N()}delete z.Ou;delete z.z7}var f=new d5(w,x);f.data=P;o.Oi(f);o.yS=!0};
N.pX.Te=function(o,P,w){for(var I=0;I<P.length;I++){var x=P[I],z=o.R[x.r],S=w?x.Du:x.Ou,k=x.sn;if(x.Gc==0){z.extend(k);
if(x.z7){e.sR(x.Du,k,z.buffer,z.rect);e.C.RH(S,k,z.buffer,z.rect,x.z7,k,0,k,1)}else e.sR(S,k,z.buffer,z.rect)}else{var f=x.r<0?o.Cg[-1-x.r]:x.Gc==1?z.Jq():z.fP(o).u;
f.extend(k);if(x.z7){var C=e.U(k.c()*4);e.L9(x.Du,C);e.C.RH(S,k,C,k,x.z7,k,0,k,1);N.tB.fR(C,k,f)}else N.tB.fR(S,k,f);
f.RC=!0;if(z)z.qX(o)}if(z)z.N()}if(!w)N.pX.abh(o,P)};N.pX.gX=function(o,P){for(var I=0;I<P.length;I++){var w=P[I],x=o.R[w.r],z=w.sn,S=e.U(z.c()*4);
if(w.Gc==0){e.sR(x.buffer,x.rect,S,z);x.extend(z);e.sR(w.Du,z,x.buffer,x.rect);x.wW()}else{var k=w.r<0?o.Cg[-1-w.r]:w.Gc==1?x.Jq():x.fP(o).u;
N.tB.V7(k.channel,k.rect,k.color,S,z);k.extend(z);N.tB.fR(w.Du,z,k);k.wW();k.RC=!0;if(x)x.qX(o)}w.Du=S;
if(x)x.N()}o.yS=!0};N.pX.gL=function(o){var P=0;for(var I=0;I<o.length;I++)P+=o[I].Du.length;return P};
N.pX.abh=function(o,P){var w=N.pX.arJ(o),x=~w;if(w==16777215)return;for(var I=0;I<P.length;I++){var z=P[I],S=o.R[z.r],k=z.sn;
if(z.Gc!=0)continue;S.extend(k);var f=k.x-S.rect.x,C=k.y-S.rect.y,H=S.rect.q,b=new Uint32Array(z.Du.buffer),i=new Uint32Array(S.buffer.buffer);
for(var M=0;M<k._;M++)for(var T=0;T<k.q;T++){var O=M*k.q+T,Y=(M+C)*H+(T+f);i[Y]=i[Y]&w|b[O]&x}S.wW();
S.N()}o.N()};N.pX.arJ=function(o){var P=o.s.A;return P[2]*16711680|P[1]*65280|P[0]*255};N.pX.prototype.kW=function(o,P){var w=P.R[o.r];
if(o.Lz!=null)w.add[ft.get(w.add)]=o.Lz;else N.pX.gX(P,o);P.N()};N.pX.prototype.Lv=function(o,P){var w=P.R[o.r];
if(o.Lz!=null)w.add[ft.get(w.add)]=o.OL;else N.pX.gX(P,o);P.N()};N.pX.prototype.gL=function(o){return o.Lz==null?N.pX.gL(o):0};
N.lv=function(){N.Qf.call(this,"Filter Edit",N.bk);this.As=null;this.LX=null;this.Q=null;this.gK=null};
N.lv.prototype=new N.Qf;N.lv.prototype.eq=function(o,P,w,x,z){if(o.Q=="start"){if(w.T.length==0)return;
var S=w.R[w.T[0]];if(S.add.SoLd&&S.Zx<=0&&w.jM.length==0){}else if(!w.M_(P,null,!0))return;var k=o.Bs;
if((cq[k]||cM.L[k])&&o.IN==null){if(w.T.length!=1)alert("Will be applied to "+w.T.length+" layers.");
var f=new bO(G.E.X,!0);f.data=N.lv.ad0(k,this.zw(w,k),o.vl);P.j(f)}else{var C={Q:"edit",Bs:k,IN:o.IN,ii:this.zw(w)};
this.eq(C,P,w,x,z);C.Q="confirm";delete C.IN;this.eq(C,P,w,x,z)}}if(o.Q=="edit"||o.Q=="cancel"||o.Q=="confirm"){if(o.Q=="edit")this.gK=[o.Bs,o.IN];
if(o.ii)this.auq(o,P,w,z);else this.auO(o,P,w,z)}if(o.Q=="applylast"&&this.gK!=null){var C={Q:"edit",Bs:this.gK[0],IN:this.gK[1],ii:this.zw(w)};
this.eq(C,P,w,x,z);C.Q="confirm";delete C.IN;this.eq(C,P,w,x,z)}};N.lv.ad0=function(o,P,w){var x=cM.L[o];
if(x)return{Q:G.l.HB,I:x,J0:{ii:P,vl:w}};else return{Q:G.l.y7,hq:"afw_"+o,ii:P}};N.lv.prototype.zw=function(o,P){var w=o.R[o.T[0]],x;
if(w.add.SoLd&&w.Zx<=0&&o.jM.length==0){x={r:o.T[0],index:0};if(w.add.SoLd.filterFX!=null){var z=w.add.SoLd.filterFX.v.filterFXList.v;
x.index=z.length;for(var I=0;I<z.length;I++)if(cM.qF(z[I].v)=="rigidTransform")x.index=I}}return x};
N.lv.prototype.auq=function(o,P,w,x){var z=w.R[o.ii.r],S=o.Bs;if(o.Q=="edit"){if(this.Q==null){var k=cM.names[S];
if(k==null)k=ft.names[S];if(S=="blendOptions")k=[14,10];this.Q=new d5(k,this);this.Q.data={ii:o.ii,ayj:JSON.parse(JSON.stringify(z.add.SoLd))}}if(!z.zO()){z.add.SoLd.filterFX=cM.Gn();
var f=this.Q.data.Xq=da.aoo(z.add.SoLd.placed.v);w.w9(f);if(w.e){f.u.channel=w.e.channel.slice(0);f.u.rect=w.e.rect.clone();
f.u.color=0;this.Q.data.jO=w.e;w.e=null}z.w2(w)}var C=z.add.SoLd.filterFX.v.filterFXList.v;if(C[o.ii.index]==null){C.push(cM.ip(S,x))}if(o.IN){C[o.ii.index].v.enab.v=o.zn!=!0;
if(S=="blendOptions")C[o.ii.index].v.blendOptions.v=o.IN;else C[o.ii.index].v.Fltr.v=o.IN}this.Q.data.a6o=JSON.parse(JSON.stringify(z.add.SoLd));
this.Lv(this.Q.data,w)}if(o.Q=="cancel"){if(this.Q)this.kW(this.Q.data,w);this.Q=null}if(o.Q=="confirm"){if(this.Q)w.Oi(this.Q);
N.pX.Oh(P,this.gK);this.Q=null}};N.lv.prototype.cK=function(o){return{$:o>>>16,H:o>>>8&255,b:o&255}};
N.lv.prototype.auO=function(o,P,w,x){if(this.As==null){var z=cM.T5(o.Bs,o.IN);this.As=N.pX.getData(w,z.x!=0||z.y!=0,o.Bs=="VaPo"?[{sn:o.yp[1]}]:null)}if(o.Q=="edit"){var S=JSON.stringify(o.IN);
if((o.IN==null||S!=this.LX)&&o.zn!=!0)for(var I=0;I<this.As.length;I++){var k=this.As[I],f={rect:k.sn,buffer:k.Du},C={rect:k.sn,buffer:k.Ou};
if(o.Bs=="Avrg"&&k.z7){f.buffer=k.Du.slice(0);e.aS(k.z7,f.buffer)}cM.wM(o.Bs,f,o.IN,this.cK(x.AB),this.cK(x.eI),C,[w.add.lnk2?w.add.lnk2:[],w.R[w.T[0]].Jq(),w.Cg,w.m0()]);
if(o.Bs=="VaPo"){e.sR(o.yp[0],o.yp[1],C.buffer,C.rect)}if(o.Bs=="Avrg"&&k.z7){var H=k.Du.length;for(var I=0;
I<H;I+=4)k.Ou[I+3]=k.Du[I+3]}this.LX=S}N.pX.Te(w,this.As,o.zn)}if(o.Q=="cancel"){N.pX.at6(w,this.As);
this.As=null;this.LX=null}if(o.Q=="confirm"){if(o.Bs=="VaPo"){this.As.a05=JSON.stringify(w.Ef);this.As.IV=JSON.stringify(o.P);
w.Ef=o.P}N.pX.Rh(w,this.As,cM.names[o.Bs],this);this.As=null;this.LX=null;N.pX.Oh(P,this.gK)}w.N();w.yS=!0};
N.lv.prototype.kW=function(o,P){if(o.IV)P.Ef=JSON.parse(o.a05);if(o.ii){var w=P.R[o.ii.r];if(o.Xq)P.R1(o.Xq);
if(o.jO)P.e=o.jO;w.add.SoLd=JSON.parse(JSON.stringify(o.ayj));if(w.zO())w.pY(P);else{w.w2(P);w.Zx=0}}else N.pX.gX(P,o);
P.N();P.yS=!0};N.lv.prototype.Lv=function(o,P){if(o.IV)P.Ef=JSON.parse(o.IV);if(o.ii){var w=P.R[o.ii.r];
if(o.Xq)P.w9(o.Xq);if(o.jO)P.e=null;w.add.SoLd=JSON.parse(JSON.stringify(o.a6o));if(w.zO())w.pY(P);else w.w2(P);
if(!w.qO())w.Yo+=32}else N.pX.gX(P,o);P.N();P.yS=!0};N.lv.prototype.gL=function(o){return o.ii==null?N.pX.gL(o):0};
var eB={qU:"0",Je:"1",wr:"2",Z9:"3",vp:"3.5",HM:"4",OK:"5",sv:"6",cS:"7",z:"8",J4:"8.5",EP:"8.8",zC:"9",Wh:"10",Q7:"11",jf:"12",eF:"13",hL:"14",MI:"15",c7:"16",O9:"17",qW:"18",SX:"19",P6:"21",ad:"22",ZM:"23",Ua:"23.0",IK:"23.1",BY:"23.2",dF:"23.3",oE:"23.4",wZ:"23.5",fr:"23.6",acc:"30",Cd:"31",Cj:"40",eS:"41",Io:"42"};
eB.R7={};eB.R7[eB.Je]=["abr","brushes",cL,[9,3],3];eB.R7[eB.wr]=["grd","gradients",kT,[12,37],4];eB.R7[eB.Z9]=["shc","contours",d1,[12,21],0];
eB.R7[eB.vp]=["acv","curves",jP,[4,2],0];eB.R7[eB.HM]=["asl","styles",d2,[12,22],5];eB.R7[eB.OK]=["pat","patterns",jF,[12,62],6];
eB.R7[eB.sv]=["csh","shapes",eR,[12,77],7];eB.R7[eB.cS]=["aco","swatches",bz,[9,8],0];eB.R7[eB.z]=["atn","actions",b4,[9,9],2];
eB.R7[eB.J4]=["tpl","tpresets",fD,[9,12],0];eB.R7[eB.EP]=["icc","profiles",j7,"LUTs",8];function d5(o,P,w){if(w==null)w=!1;
this.name=o;this.I=P;this.BZ=w;this.data=null;this.aAK=Date.now()}d5.prototype.gL=function(){return this.I?this.I.gL(this.data):0};
var h7={};h7.TZ=function(o,P){var w={t:"Clss",v:{classID:o}};if(P)w={t:"Enmr",v:{classID:o,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[w]}};h7.xA=function(o,P){var w={classID:"Lyr"};w[o]=P;return{wQ:"set",WP:{classID:"null",null:h7.TZ("Lyr",!0),T:{t:"Objc",v:w}}}};
h7.ad8=function(o,P,w,x,z){var S=new bO(G.E.qc,!0),k=[],I=0,f=h7.Rx(P,w,x,k);while(k.length!=0){var C=k.pop();
I++;if(!C.B)continue;console.log(I-1);if(C.wQ=="conditional"){var H=o.R[o.T[0]],b=C.WP.null.v.Cndt,i=!1;
if(b=="Bckg")i=!1;else if(b=="Pxel"&&o.p9(!1))i=!0;else if(b=="Adjs"&&ft.get(H.add))i=!0;else if(b=="Shp"&&H.add.vogk)i=!0;
else if(b=="Grup"&&H.Pe())i=!0;else if(b=="Opn"&&o!=null)i=!0;else if(b=="32Bt")i=!1;else if(b=="RGB")i=!0;
var M=C.WP.then,T=C.WP.else;if(i&&M)h7.Rx(P,M.v[0].v.val,M.v[1].v.val,k);if(!i&&T)h7.Rx(P,T.v[0].v.val,T.v[1].v.val,k)}else if(C.wQ=="stop"){if(C.WP.Cntn&&C.WP.Cntn.v==!0)window.confirm(C.WP.Msge.v);
else{alert(C.WP.Msge.v);break}}else if(C.wQ=="play"){var O=C.WP.null.v,Y=new bO(G.E.X,!0);Y.data={Q:G.l.Ho,bV:[O[0].v.val,O[1].v.val]};
z.j(Y)}else{S.data={wQ:C.wQ,WP:C.WP};z.j(S)}}};h7.h_=function(o,P,w){var x;for(var I=0;I<o.length;I++){if(o[I].Ka!=w)continue;
var z=o[I].Si;for(var S=0;S<z.length;S++){if(z[S].Ka!=P)continue;x=z[S]}}return x};h7.Rx=function(o,P,w,x){var z=h7.h_(o,P,w).Si,S=z.length;
for(var I=0;I<S;I++)x.push(z[S-1-I])};h7.aFx=function(o){var P=o.wQ,w=o.WP,x,k,f,C,H;if(w&&w.null)x=w.null.v[0];
if(w&&x==null&&w.At)x=w.At.v[0];if(x&&x.t=="obj ")x=x.v[0];var z=x&&x.v?x.v.classID:null,S=["purge"];
if(S.indexOf(P)!=-1)return P[0].toUpperCase()+P.slice(1);if(P=="GEfc"||P=="paintDaubs")return cF.names[w.GEfk.v.GEft][1];
H=ft.Q9;for(k in H)if(H[k]==P)f=k;H=cM.Q9;for(k in H)if(H[k]==P)C=k;H=cM.Q9;for(k in H)if(k==P)C=k;if(f){var b=ft.cx(f,w);
if(b!=-1)return[4,16,b];return ft.names[f]}if(C)return cM.names[C];var i=h7.azh;if(P=="make"){if(x){if(z=="AdjL")return[6,1];
else if(z=="layerSection")return w.From?[6,9]:[6,20];else if(z=="Lyr")return[6,13];else if(z=="Chnl"&&x.v.enum=="Msk")return[6,2];
else if(z=="contentLayer")return[6,48,1];else if(z=="BckL")return"Make Background Layer";else if(z=="Path")return"Make Path";
else if(z=="TxLr")return"Make Text Layer";else if(z=="slice")return"Make Slices";else if(z=="Dcmn")return[11,7];
else if(z=="Gd")return[23,4];else if(z=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(w.Nw){z=w.Nw.v.classID;
if(z=="Dcmn")return[11,7];else if(z=="Chnl"||z=="SCch")return"New Channel"}}else if(P=="deselect"){if(z=="Path")return"Deselect current path";
else throw z}else if(P=="draw"){return"Draw"}else if(P=="select"){if(z=="Chnl"){var M={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[x.v.enum];
if(M==null)M="";return"Select "+M+" Channel"}else if(z=="Mn")return"Select Panel \""+x.v.enum+"\"";else if(z=="Lyr"){if(x.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[x.v.enum]+" Layer";
return"Select Layer \""+x.v.val+"\""}else if(z=="Path")return"Select Path";else if(z=="Brsh")return"Select Brush";
else if(z=="Dcmn")return"Select Document"}else if(i[P]&&z=="Chnl"){var T=x.v.keyID=="fsel";return i[P]+" "+(T?"Selection":"Channel")}else if(P=="set"){if(z=="Lyr")return"Set Current Layer";
else if(z=="AdjL")return[6,39];else if(z=="contentLayer")return[6,48,2];else if(z=="Prpr"){var O=x.v.keyID;
if(O=="TxtS")return"Set Text Style";else if(O=="paragraphStyle")return"Set Paragraph Style";else if(O=="Lefx")return[11,6];
else console.log(O)}else if(z=="Clr")return"Set "+(x.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(z=="Brsh")return"Set Brush";else if(z=="Path")return"Set Work Path";else console.log(z)}else if(P=="move"){if(z=="Lyr")return"Move Layer";
else if(z=="Chnl"&&x.v.keyID=="fsel")return[7,7];else console.log(z)}else if(P=="show"||P=="hide"){var Y="";
if(z=="Lyr")Y="Layer";if(z=="Chnl")Y="Channel";if(z=="filterFX")Y="Filter Effect";return(P=="show"?"Show":"Hide")+" "+Y}else if(P=="reset"){if(z=="Clr")return"Reset Colors"}else if(P=="exchange"){if(z=="Clr")return[22,7,0]}else if(P=="rotateEventEnum")return[2,5];
else if(P=="flip"){var U=w.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,U?2:3]]}if(P=="duplicate"&&z=="Dcmn")return"Duplicate first document";
if(z=="Chnl"){if(P=="duplicate"){if(x.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(P=="delete")return"Delete Channel"}if(P=="transform")return x&&x.v.keyID=="fsel"?[7,10]:[10,16];
var W={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:w?z=="Lyr"?[6,31]:z=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},t=W[P];
if(t==null)t=h7.aqy[P];if(t)return t;return P};h7.aqy={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
h7.azh={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
h7.ak9=function(o,P,w,x){var z=o.wQ,S=o.WP,k=!1,f=new bO(G.E.z,!0),i,M,T,O;f.I=N.jc;var C=new bO(G.E.X,!0),H=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(H.indexOf(z)!=-1)return;var b=z;while(b.length<4)b+=" ";O=ft.Q9;for(i in O)if(O[i]==b)M=i;O=cM.Q9;
for(i in O)if(O[i]==b)T=i;O=cM.Q9;for(i in O)if(i==b)T=i;if(z=="fade")M=z;if(z=="matchColor")M="matc";
if(z=="applyImageEvent")M="aply";if(M){f.I=N.vg;f.data={Q:"start",_X:M,IN:S}}else if(T){f.I=N.bk;f.data={Q:"start",Bs:T,IN:S}}else if(z=="GEfc"||z=="paintDaubs"){f.I=N.bk;
f.data={Q:"start",Bs:"GEfc",IN:S}}else if(z=="imageSize"||z=="canvasSize"||z=="revealAll"||z=="trim"||z=="crop"){f.I=N.U6;
f.data={Q:"fromAction",tU:o}}else if(z=="fill"||z=="stroke"||z=="delete"&&S==null){var Y=null;if(x.T.length!=0)Y=x.R[x.T[0]];
var U=e.AE(w.AB);if(Y!=null&&z=="fill"&&Y.add.TySh){var W="var c = new SolidColor();  c.rgb.red="+U.$+";  c.rgb.green="+U.H+";  c.rgb.blue="+U.b+";  app.activeDocument.activeLayer.textItem.color = c;";
C.data={Q:G.l.JW,Ee:W}}else if(Y!=null&&z=="delete"&&Y.add.TySh){f.I=N.cR;f.data={Q:"insertText",P:""}}else if(Y!=null&&z=="fill"&&Y.aj()){var f=new bO(G.E.qc,!0),S={classID:"setd",null:h7.TZ("contentLayer",!0),T:{t:"Objc",v:{}}};
N.p0.oK({Clr:{t:"Objc",v:e.G.e1(e.AE(w.AB))}},S.T.v,0);f.data={wQ:"set",WP:S};P.j(f);return}else if(z=="stroke"&&S&&S.null==null){f.I=N.aL;
f.data={Q:"stroke",a2x:S}}else{if(z=="stroke"&&S&&S.Usng)f.I=N.Q9[S.Usng.v.classID];else f.I=w.N5==N.XL?N.XL:N.Je;
f.data={Q:"fromAction",tU:o}}}else if(z=="colorRange"||z=="grow"||z=="similar"){f.I=N.PA;f.data={Q:"fromAction",tU:o}}else if(z=="set"&&S&&S.T&&S.T.v.Ordn=="Al"&&w.N5==N.cR&&P.Di().vo()){f.I=N.cR;
f.data={Q:"selectAll"}}else if(h7.aqy[z]||h7.azh[z]&&(!1||S.With&&S.With.v[0].v.keyID=="fsel"||S.From&&S.From.v[0].v.keyID=="fsel"||S.null&&S.null.v[0].v.keyID=="fsel"||S.T.v[0]&&S.T.v[0].v.keyID=="fsel")){f.I=N.mC;
f.data={Q:"fromAction",tU:o}}else if(z=="rasterizeLayer"){f.data={Q:S.What?S.What.v.rasterizeItem=="vectorMask"?X.lw:X.aky:X.Lq}}var t={copyToLayer:X.sg,cutToLayer:X.ky,mergeLayersNew:X.xN,mergeVisible:X.fx,flattenImage:X.a9S,newPlacedLayer:X.WF};
if(t[z])f.data={Q:t[z],WP:S};if(f.data){P.j(f);return}if(z=="collapseAllGroupsEvent"){for(var I=0;I<x.R.length;
I++){var Y=x.R[I];if(Y.Pe())Y.add.lsct=jS.v_}x.dH=!0;return}if(z=="desaturate"||z=="Dstt"){f.I=N.vg;
f.data={Q:"auto",Zi:3};if(x&&x.R[x.T[0]].add.SoLd==null)P.j(f);return}if(z=="close"){if(S&&S.Svng.v.YsN=="Ys"){C.data={Q:G.l.qS};
P.j(C)}C.data={Q:G.l.Jr,bQ:x};P.j(C);return}if(z=="save"){C.data={Q:G.l.qS};P.j(C);return}if(z=="copyMerged"){C.data={Q:G.l.D9,ND:!0,A$:!0};
P.j(C);return}if(z=="placedLayerReplaceContents")C.data={Q:G.l.Ul,Fg:!0};var t={placedLayerEditContents:G.l.ae7,placedLayerExportContents:G.l.asd,copyEvent:G.l.D9,paste:G.l.d6};
if(t[z])C.data={Q:t[z],A$:!0};if(C.data){P.j(C);return}var _=S.null?S.null.v:null,n=_?_[0].v.classID:"";
if(z=="make"){if(S.null==null&&S.Nw)n=S.Nw.v.classID;if(n=="AdjL"){f.data={Q:X.vJ,WP:S}}else if(n=="layerSection"){f.data=S.From?{Q:X.n$}:{Q:X.Qk};
if(S.Usng){var y=S.Usng.v;if(y.Nm)f.data.PV=y.Nm.v;if(y.Clr)f.data.qQ=h7.Zf(y)}}else if(n=="Lyr"){if(S.Usng&&S.Usng.v.length==2)f.data={Q:X.a5Q};
else{f.data={Q:X.H7};if(S.Usng)f.data.PV=S.Usng.v.Nm.v;if(S.below&&S.below.v)f.data.a2c=!0}}else if(n=="Chnl"&&S.At&&S.At.v[0].v.enum=="Msk"){f.data={Q:X.gE,lk:S.Usng.v.UsrM}}else if(n=="Chnl"||n=="SCch"){f.data={Q:X.Q_,Pw:"fromAction",P:o}}else if(n=="contentLayer"){f.data={Q:X.rV,WP:S}}else if(n=="BckL"){x.R[x.T[0]].aq4();
return}else if(n=="Dcmn"){if(S.Nw==null)return;var F=S.Nw.v;C.data={Q:G.l.cA,lg:da.agf(F,w)}}else if(n=="Ptrn")C.data={Q:G.l.Ag,JL:0};
else if(n=="Brsh")C.data={Q:G.l.Ag,JL:1};else if(n=="Path"){var a=S.At;if(a&&a.v&&a.v[0]&&a.v[0].v&&a.v[0].v.enum=="vectorMask"){f.I=N.jc;
var V=!1,D=!1;if(S&&S.Usng){var y=S.Usng.v;V=y.vectorMaskEnabled=="RvlA";D=y[0]&&y[0].v.classID=="Path"}f.data={Q:X.n7,an2:!V,a7L:D}}else{f.I=N.QV;
f.data={Q:"pathedit",Pw:"fromsel"}}}else if(n=="TxLr"){f.I=N.cR;f.data={Q:"fromAction",tU:o}}else if(n=="slice"){f.I=N.ta;
f.data={Q:"fromAction",tU:o}}else if(n=="Gd"){var l=[[],[]],F=S.Nw.v;l[F.Ornt.v.Ornt=="Vrtc"?0:1].push(F.Pstn.v.val);
var Q=iB.HW(l);N.y9.BH(Q,x.nr());f.I=N.pl;f.data={Q:"gids",Mm:Q}}else{console.log(z,n,S);throw"e"}}else if(z=="divide"){f.I=N.ta;
f.data={Q:"fromAction",tU:o}}else if(z=="deselect"){if(n=="Path"){x.lL=[];x.wJ=[];x.dH=x.yW=!0;return}else throw n}else if(z=="selectNoLayers"){x.T=[];
x.yS=!0}else if(z=="selectAllLayers"){x.T=[];for(var I=0;I<x.R.length;I++)x.T.push(I);x.yS=!0;return}else if(z=="select"){var m=N.Q9;
if(n=="Lyr"){var R=S.selectionModifier,$=R?R.v.selectionModifierType:null,p=h7.yx(x,_[0]),c=0;if(p==-1){alert("Layer "+_[0].v.val+" does not exist.");
return}var Y=x.R[p];if(Y.Pe()&&Y.Jq()&&R==null)c=1;f.data={Q:X.GL,r:p,sL:$?["addToSelection","addToSelectionContinuous"].indexOf($):null,dJ:c}}else if(n=="Path"){if(_[0].v.keyID=="WrPt"){x.lL=[0];
x.dH=x.yW=!0;return}else if(_[0].t=="name"){for(var I=0;I<x.Fx.length;I++)if(x.Fx[I].name==_[0].v.val){x.lL=[I];
x.dH=x.yW=!0;return}}else throw _[0]}else if(n=="Chnl"){var B=_?_[0].v.enum:"",Z=["Rd","Grn","Bl"].indexOf(B);
if(Z!=-1){var v=S.Extd&&S.Extd.v?x.s.A.slice(0):[0,0,0];v[Z]=1;f.I=N.ws;f.data={Q:"setcls",A:v}}else f.data={Q:X.GL,r:p,dJ:B=="RGB"?0:1}}else if(n=="Dcmn"){if(P.ux.length<2)return;
C.data={Q:G.l.azM,dir:S.null.v[0].v.val}}else if(n=="Brsh"){var E=w.E8.list,g;for(var I=0;I<E.length;
I++){if(E[I].v.Nm.v.split("/").pop()==_[0].v.val)g=E[I].v}if(w.N5==N.pl){C.data={Q:G.l.HB,I:N.Je};P.j(C)}C.data={Q:G.l.CA,JL:eB.hL,Bb:g}}else if(n=="Mn"){if(_[0].v.enum=="Scl")C.data={Q:G.l.HB,I:N.fd,J0:{lk:3}};
if(_[0].v.enum=="Plce")C.data={Q:G.l.Ul,a9V:!0};if(_[0].v.enum=="ZmIn"){f.I=N.QP;f.data={Q:"zoom",hc:!0}}if(_[0].v.enum=="ZmOt"){f.I=N.QP;
f.data={Q:"zoom",hc:!1}}if(_[0].v.enum=="FtOn"){f.I=N.QP;f.data={Q:"adapt",P:"fitscr"}}}else if(m[n]){C.data={Q:G.l.HB,I:m[n]}}else throw n}else if(z=="draw"){f.I=N.QV;
f.data={Q:"fromAction",tU:o}}else if(z=="gradientClassEvent"){f.I=N.WC;f.data={Q:"fromAction",tU:o}}else if((z=="set"||z=="reset"||z=="exchange")&&n=="Clr"){C.data={Q:G.l.CA,JL:eB.P6,Pw:z=="reset"?3:2};
if(z=="set"){C.data.Pw=_[0].v.keyID=="FrgC"?0:1;var u=e.G.dQ(S.T.v);C.data.P=u.$<<16|u.H<<8|u.b}}else if(z=="set"){if(n=="AdjL"){var j=S.T.v.classID;
j=ft.oz[j];f.I=N.vg;if(j)f.data={Q:"edit_layer",P:S.T.v}}else if(n=="Lyr"){var A=S.T.v,p=h7.yx(x,_[0]);
for(var K in A){if(K=="classID")continue;f.I=N.jc;if(K=="Nm")f.data={Q:X.BV,name:A.Nm.v};else if(K=="Opct")f.data={Q:X.pV,OL:Math.round(A.Opct.v.val*255/100)};
else if(K=="fillOpacity")f.data={Q:X.s1,OL:Math.round(A.fillOpacity.v.val*255/100)};else if(K=="Md")f.data={Q:X.Cz,OL:jK.VB.indexOf(A.Md.v.BlnM)+(x.R[p].Pe()?1:0)};
else if(K=="Usrs")f.data={Q:X.qT,r:p};else if(K=="Blnd"){f.I=N.dX;f.data={Q:"setstl",r:p,P:{blendOptions:{t:"objc",v:A}}};
P.j(f);f.data={Q:"confirm",r:p}}else if(K=="userMaskFeather"||K=="userMaskDensity"){var s=A.userMaskFeather,r=A.userMaskDensity,p=x.T[0],h=x.R[p].LV(0);
if(s)h.oA=s.v.val;if(r)h.Xk=r.v.val;f.data={Q:X.Rk,n6:p,mt:h}}else if(K=="Clr"){var U=h7.Zf(A);f.data={Q:X.Ig,ayQ:U}}else if(K=="Lefx")h7.arA(P,p,A.Lefx.v,w);
else{console.log(S);throw K}if(f.data){P.j(f);delete f.data}}f.data={};var Y=x.R[p];Y.a1E()}else if(n=="Prpr"){var A=JSON.parse(JSON.stringify(S.T.v)),p=h7.yx(x,S.null.v[1]),Y=x.R[p],jC=_[0].v.keyID;
if(jC=="TxtS"||jC=="paragraphStyle"){var d=Y.add.TySh,q=JSON.parse(JSON.stringify(d.OY)),hc=fe.YJ(q),dk=fe.Zv(q,0,hc.length-2);
if(jC=="TxtS")fe.avM(A,dk);else fe.arZ(A,dk);fe.Bi(q,0,hc.length-1,dk);f.I=N.cR;f.data={Q:"newED",aZ:p,bG:q}}else if(jC=="Lefx"){for(var c6 in A)if(A[c6].v){if(c6=="Scl")A[c6].v.val=100}h7.arA(P,p,A,w);
f.data={}}else throw jC}else if(n=="contentLayer"){var p=h7.yx(x,_[0]),A=S.T.v,e3=!0;if(A.classID=="shapeStyle"){if(A.strokeStyle){A=A.strokeStyle.v;
e3=!1}else A=A.FlCn.v}if(e3){var ks={solidColorLayer:0,gradientLayer:1,patternLayer:2}[A.classID],bI=iR.KT(x.R[p].add),T=bI.Ya==ks+1?bI.v4:iR.P_[ks];
T=JSON.parse(JSON.stringify(T));N.p0.oK(A,T,ks);f.data={Q:X.lV,XN:[p],bq:!0,P:{Ya:ks+1,v4:T}}}else{var aR=JSON.parse(JSON.stringify(x.R[p].add.vstk));
for(var c6 in A)aR[c6]=A[c6];f.data={Q:X.lV,XN:[p],bq:!1,P:aR}}}else if(n=="Brsh"){var g=JSON.parse(JSON.stringify(w.E8.Ac)),ak=S.T.v;
if(ak.masterDiameter)g.Brsh.v.Dmtr.v.val=ak.masterDiameter.v.val;else console.log("unknown brush parameters");
C.data={Q:G.l.CA,JL:eB.hL,Bb:g}}else if(n=="Path"){f.I=N.QV;f.data={Q:"fromAction",tU:o}}else if(n=="TxLr"){f.I=N.cR;
f.data={Q:"fromAction",tU:o}}else{console.log(_[0],S);throw n}}else if(z=="move"){if(n=="Lyr"){var A=S.T.v;
if(A.classID=="Ofst"){f.data={Q:"trsl",q1:A.Hrzn.v.val,le:A.Vrtc.v.val};f.I=N.pl}else{var cN,gC;if(A[0].t=="Enmr"){if(A[0].v.enum=="Frnt")gC=0;
else if(A[0].v.enum=="Nxt")gC=1;else if(A[0].v.enum=="Prvs")gC=2;else if(A[0].v.enum=="Back")gC=3;else throw"e"}else cN=A[0].v.val;
f.data={Q:X.hY,target:cN,Pw:gC,aGN:S.Dplc?S.Dplc.v:!1}}}else if(n=="Chnl"&&_[0].v.keyID=="fsel"){f.I=N.mC;
f.data={Q:"fromAction",tU:o}}}else if(z=="groupEvent"||z=="ungroup")f.data={Q:X.q3};else if(z=="show"||z=="hide"){var bD=S.null.t;
if(bD=="obj "){if(_[0].v.val!=null)f.data={Q:X.RK,index:_[0].v.val-1};else f.data={Q:X.vq}}else if(bD=="VlLs"){var n=_[0].v[0].v.classID;
if(n=="Chnl")f.data={Q:X.Q_,Pw:"fromAction",P:o};else{var cu=n=="filterFX"?_:_[0].v;for(var I=0;I<cu.length;
I++){if(n=="filterFX")f.data={Q:X.RK,index:cu[I].v[0].v.val-1};else{var p=h7.yx(x,cu[I]),du=x.R[p].ny();
if(z=="show"&&du||z=="hide"&&!du)continue;f.data={Q:X.PZ,XN:[p]}}P.j(f)}return}}else throw bD}else if(z=="rotateEventEnum"){f.I=n=="Lyr"?N.fd:N.U6;
var bq=S.Angl.v.val;f.data={Q:"rot",Ka:[2,5],P:-bq*Math.PI/180}}else if(z=="flip"){f.I=n=="Lyr"?N.fd:N.U6;
var hn=S.Axis.v.Ornt=="Hrzn",aK=hn?new eD(-1,1):new eD(1,-1);f.data={Q:"scl",Ka:[[2,6],[22,4,hn?2:3]],P:aK}}else if(z=="transform"){var cQ=1,jR=1,ch=0,bx=0,jf=0,dW=0,bf=0,eJ=null,c1=null;
if(S.Wdth)cQ=S.Wdth.v.val/100;if(S.Hght)jR=S.Hght.v.val/100;if(S.Skew){var iu=S.Skew.v;ch=iu.Hrzn.v.val;
bx=iu.Vrtc.v.val}if(S.Ofst){var dV=S.Ofst.v;dW=dV.Hrzn.v.val;bf=dV.Vrtc.v.val}if(S.Angl)jf=S.Angl.v.val;
var gb=new ar;gb.concat(new ar(cQ,cQ*Math.tan(bx*Math.PI/180),jR*Math.tan(ch*Math.PI/180),jR,0,0));gb.rotate(-jf*Math.PI/180);
gb.translate(dW,bf);var gP=e.W.G5(gb);if(S.Usng){var dV=S.Usng.v;gP[6]=dV.Hrzn.v.val/100;gP[7]=dV.Vrtc.v.val/100}var ku=S.FTcs.v.QCSt;
if(ku=="Qcsi"){var aC=S.Pstn.v;eJ=new eD(aC.Hrzn.v.val,aC.Vrtc.v.val)}else c1=N.DH.a2A[ku];var _=S.null;
if(_&&_.v instanceof Array)_=_.v[0];var p=_?h7.yx(x,_):null;if(p==-1)p=null;f.I=_&&_.v.keyID=="fsel"?N.vX:N.fd;
f.data={Q:"dtr",Tj:c1,P:gP,CY:S.warp,agD:eJ}}else if(z=="duplicate"){if(n=="Chnl")f.data={Q:X.Q_,Pw:"fromAction",P:o};
else if(n=="Dcmn"){var gU=eu.oi("PSD").D7(x);b_.xI({url:x.name},gU,P);return}else if(n=="Actn"){var hR=w.p7,a7=_[1].v.val,dh=null;
for(var I=0;I<hR.length;I++)if(hR[I].Ka==a7)dh=hR[I];var eS=h7.h_(hR,_[0].v.val,a7);eS=JSON.parse(JSON.stringify(eS));
eS.Ka+=" copy";dh.Si.push(eS);return}else f.data={Q:X.Ck,PV:S.Nm?S.Nm.v:null}}else if(z=="delete"){if(n=="filterFX"){if(_[0].v.val!=null)f.data={Q:X.IB,wS:_[0].v.val-1};
else f.data={Q:X.Zn}}else if(n=="Path"){if(_&&_.length==2&&_[0].v.enum=="vectorMask"&&_[1].v.classID=="Lyr"){f.I=N.jc;
f.data={Q:X.a6}}else{f.I=N.QV;f.data={Q:"pathedit",Pw:"del"}}}else if(n=="Lyr")f.data={Q:X.L3};else if(n=="Chnl"&&_[0].v.enum=="Msk")f.data={Q:X.ic};
else if(n=="Chnl")f.data={Q:X.Q_,Pw:"fromAction",P:o};else if(n=="Cmnd"){var hR=w.p7,a7=_[2].v.val,eS=h7.h_(hR,_[1].v.val,a7);
eS.Si.splice(_[0].v.val-1,1);return}else if(n=="Actn"){var hR=w.p7,a7=_[1].v.val,dh=null;for(var I=0;
I<hR.length;I++)if(hR[I].Ka==a7)dh=hR[I];var eS=h7.h_(hR,_[0].v.val,a7);dh.Si.splice(dh.Si.indexOf(eS),1);
return}else if(n=="ASet"){var hR=w.p7,a7=_[0].v.val,dh=null;for(var I=0;I<hR.length;I++)if(hR[I].Ka==a7)dh=hR[I];
if(dh==null)return;hR.splice(hR.indexOf(dh),1);x.yS=!0;return}else throw n}else if(z=="align"){if(S.Aply&&S.Aply.v.projection=="Auto"){f.I=N.U6;
f.data={Q:"auto-align"}}else{f.I=N.pl;var d0=S.Usng.v.ADSt,M={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[d0];
if(M==null)throw d0;f.data={Q:"algn",P:M}}}else if(z=="applyLocking"){var cJ=S.layerLocking.v,aO;if(cJ.protectTransparency)aO=[[cJ.protectTransparency.v],[0]];
else if(cJ.protectNone)aO=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(cJ);throw"e"}f.data={Q:X.CU,OL:aO}}if(f.data)P.j(f);
else if(C.data)P.j(C);else{console.log(o);alert("Unknown action \""+z+"\"");throw"e"}};h7.arA=function(o,P,w,x){w=JSON.parse(JSON.stringify(w));
fy.oc(w);if(w.masterFXSwitch==null)w.masterFXSwitch={t:"bool",v:!0};console.log(w);var z=iR._7;for(var S=0;
S<z.length;S++)if(w[z[S]]){for(var I=0;I<w[z[S]].v.length;I++){var k=w[z[S]].v[I].v;for(var f=0;f<2;
f++){var C=k[f==0?"TrnS":"MpgS"];if(C&&C.v.Crv==null){var H=C.v,b=H.Nm.v.split("=").pop(),i=x.vi,M=0;
for(var T=0;T<i.length;T++){var O=i[T].Nm.v.split("=").pop();if(O==b)M=T}H.Crv=JSON.parse(JSON.stringify(i[M].Crv))}}}}var Y=new bO(G.E.z,!0);
Y.I=N.dX;Y.data={Q:"setstl",r:P,P:{Lefx:{t:"objc",v:w}}};o.j(Y);Y.data={Q:"confirm",r:P};o.j(Y)};h7.Zf=function(o){var P={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[o.Clr.v.Clr];
if(P==null)throw o.Clr.v.Clr;return P};h7.yx=function(o,P){var w=1e6,x=0,z=o.R.length;for(var I=0;I<o.T.length;
I++){w=Math.min(w,o.T[I]);x=Math.max(x,o.T[I])}var S=P.t,k=-1;if(S=="name"){var f=P.v.val,k=-1;for(var I=0;
I<z;I++)if(o.R[I].getName()==f){k=I;break}}else if(S=="Enmr"){if(o.T.length!=0)k=o.T[0];if(P.v.enum=="Frwr")k=x+1;
if(P.v.enum=="Bckw")k=w-1;if(P.v.enum=="Back")k=0;if(P.v.enum=="Frnt")k=z-1;k=(k+z)%z}else if(S=="prop"){if(P.v.keyID=="Bckg")k=0}else if(S=="indx")k=P.v.val-1;
return k};var ft={};ft.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
ft.a9G=["expA","clrL","selc"];ft.UP=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];ft.apx=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
ft.uI=[[13,1,1],[13,1,4],[13,1,5]];ft.cg={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
ft.oz=function(){var o=JSON.parse(JSON.stringify(ft.cg));delete o.GrMp;o.GdMp="grdm";return o}();ft.Q9={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
ft.keys={levl:[i$.Jm,i$.s$],curv:[i$.Jm,i$.CF],hue2:[i$.Jm,i$.Jj],nvrt:[i$.Jm,i$.pW],blnc:[i$.Jm,i$.yA]};
ft.xw=function(o){var P=cM.bS("mixr");P.Mnch={t:"bool",v:o._A};function w(x,I){var z={classID:"ChMx"},S={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var k in S)z[k]={t:"UntF",v:{type:"#Prc",val:x[I+S[k]]}};return{t:"Objc",v:z}}if(o._A)P.Gry=w(o.P,0);
else{P.Rd=w(o.P,0);P.Grn=w(o.P,5);P.Bl=w(o.P,10)}return P};ft.Qb=function(o){function P(x,z,I){var S={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var k in S)if(x[k])z[I+S[k]]=x[k].v.val}var w={_A:!1,P:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(o.Mnch&&o.Mnch.v)w._A=!0;if(w._A)P(o.Gry.v,w.P,0);else{P(o.Rd.v,w.P,0);P(o.Grn.v,w.P,5);P(o.Bl.v,w.P,10)}return w};
ft.get=function(o){for(var P in ft.names)if(o[P]!=null)return P;return null};ft.C1=function(o,P){var w=ft.Ek,x;
if(o=="brit"){var z=P.Brgh?P.Brgh.v:0,S=P.Cntr?P.Cntr.v:0,k=P.useLegacy?P.useLegacy.v:!1;if(k){var f=z/255,C=1+S/100;
if(C>1)C=1+Math.tan(Math.PI/2*S/101);var H=(1-C)/2,b=e.ww.AM(f,f,f),i=[C,0,0,H,0,C,0,H,0,0,C,H,0,0,0,1],M=e.ww.multiply(i,b),T=new e.fC(256);
for(var I=0;I<256;I++)T.$[I]=I;e.ww.transform(T,T,M);x={type:w.DZ,Ky:T.$,OQ:T.$,Hl:T.$,xq:!1,oP:!1}}else{var O=1024,Y=-30+60*(S+100)/200,U=[];
for(var I=0;I<4;I++)U.push(e.Kh.ts(I/3*255,I/3*255,!0));U[1].v.Hrzn.v=64;U[1].v.Vrtc.v=64-Y;U[2].v.Hrzn.v=128+64;
U[2].v.Vrtc.v=128+64+Y;U.sort(function(hb,fE){return hb.v.Hrzn.v-fE.v.Hrzn.v});var W=e.Kh.NX(U,O);function t(hb,O){var U=[],eK=3;
for(var I=0;I<eK+1;I++)U.push(e.Kh.ts(I/eK*255,I/eK*255,!0));U[1].v.Hrzn.v=130-hb*26;U[1].v.Vrtc.v=130+hb*51;
U[2].v.Hrzn.v=233-hb*48;U[2].v.Vrtc.v=233+hb*10;return e.Kh.NX(U,O)}var _=t(Math.abs(z)/100,O);if(z<0){var n=[],y=1/O;
for(var I=0;I<O;I++){var F=I*y,a=I;while(_[a]>F&&a>1)a--;n[I]=a*y}_=n}var V=new Uint8Array(O);for(var I=0;
I<O;I++){var D=Math.round((O-1)*_[I]);V[I]=Math.round(255*W[D])}x={type:w.DZ,Ky:V,OQ:V,Hl:V,xq:!1,oP:!1}}}if(o=="levl"){var l=[],Q,m,b,R,$,p;
for(var I=0;I<4;I++)l.push(cX.mc(P,I));Q=-l[0][0]/255;m=1/(l[0][1]/255-l[0][0]/255);b=e.ww.multiply(e.ww.Bj(m,m,m),e.ww.AM(Q,Q,Q));
R=e.ww.Bj(1/(l[1][1]/255-l[1][0]/255),1/(l[2][1]/255-l[2][0]/255),1/(l[3][1]/255-l[3][0]/255));$=e.ww.AM(-l[1][0]/255,-l[2][0]/255,-l[3][0]/255);
p=e.ww.multiply(R,$);var V=new e.fC(256);for(var I=0;I<256;I++)V.$[I]=V.H[I]=V.b[I]=I;var c=1/(l[0][4]/100),B=1/(l[1][4]/100),Z=1/(l[2][4]/100),v=1/(l[3][4]/100);
e.ww.transform(V,V,p);for(var I=0;I<256;I++){V.$[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.$[I]/255,B))));
V.H[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.H[I]/255,Z))));V.b[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.b[I]/255,v))))}e.ww.transform(V,V,b);
for(var I=0;I<256;I++){V.$[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.$[I]/255,c))));V.H[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.H[I]/255,c))));
V.b[I]=Math.round(Math.max(0,Math.min(255,255*Math.pow(V.b[I]/255,c))))}Q=l[0][2]/255;m=l[0][3]/255-l[0][2]/255;
b=e.ww.multiply(e.ww.AM(Q,Q,Q),e.ww.Bj(m,m,m));R=e.ww.Bj(l[1][3]/255-l[1][2]/255,l[2][3]/255-l[2][2]/255,l[3][3]/255-l[3][2]/255);
$=e.ww.AM(l[1][2]/255,l[2][2]/255,l[3][2]/255);p=e.ww.multiply($,R);e.ww.transform(V,V,e.ww.multiply(b,p));
x={type:w.DZ,Ky:V.$,OQ:V.H,Hl:V.b,xq:!1,oP:!1}}if(o=="curv"){var E=jP.mc(P,0).length==256?1:0,g=[];if(E==0){var u=e.Kh.hM(jP.mc(P,0),256);
for(var I=1;I<4;I++){var j=e.Kh.hM(jP.mc(P,I),256);g.push(e.Kh.acb(j,u))}}else{var A=[];for(var I=0;
I<4;I++){var K=new Uint8Array(256);A.push(K);var s=jP.mc(P,I);for(var a=0;a<256;a++)K[a]=s[a]}for(var I=1;
I<4;I++)g.push(e.Kh.acb(A[I],A[0]))}x={type:w.DZ,Ky:g[0],OQ:g[1],Hl:g[2],xq:!1,oP:!1}}if(o=="expA"){var r=P.Exps,h=P.Ofst,jC=P.gammaCorrection,d=r?r.v:0,q=h?h.v:0,hc=jC?jC.v:1,V=new Uint8Array(256);
for(var I=0;I<256;I++){var P=I/255,dk=Math.pow(Math.abs(q),1/(Math.PI/2));if(q>0){P=Math.max(q/Math.E,P);
P=P*Math.exp(q/1.75+d/Math.PI);P=(1-dk)*P+dk*1}else{P=P*Math.exp(-q*1.75+d/Math.PI);P=P+-dk*1.14}P=Math.pow(P,1/hc);
P=Math.max(0,Math.min(1,P));V[I]=Math.round(P*255)}x={type:w.DZ,Ky:V,OQ:V,Hl:V,xq:!1,oP:!1}}if(o=="vibA"){var c6=(P.vibrance?P.vibrance.v:0)/100,e3=(P.Strt?P.Strt.v:0)/100,dk=1+c6*(c6>0?.25:.5),ks=.8+.2/dk;
x={type:w.Ne,JL:[c6,e3,ks,dk]}}if(o=="hue2"){var cH=[],bI=[],aR=[],ak=P.Clrz?P.Clrz.v:!1;for(var I=0;
I<256;I++){cH[I]=I/255;bI[I]=0;aR[I]=0}var cN=gw.mc(P,0),gC=ft.PK(cN[1]/100);if(ak){var bD=cN[0]/360;
for(var I=0;I<256;I++){cH[I]=bD;bI[I]=gC}}else{for(var I=0;I<256;I++){var cu=cH[I],du=bI[I];cH[I]+=cN[0]/360;
for(var a=0;a<6;a++){var bq=gw.mc(P,a+1),hn=bq.pA,aK=bq.QE,dk=0;for(var cQ=1;cQ<4;cQ++)if(aK[cQ]<aK[0])aK[cQ]+=360;
var jR=aK[0],ch=aK[1],bx=aK[2],jf=aK[3],dW=cu*360;if(dW<aK[0])dW+=360;var bf=(dW-jR)/(ch-jR),iu=(dW-bx)/(jf-bx);
if(bf<0)dk=0;else if(bf<1)dk=bf;else if(iu<0)dk=1;else if(iu<1)dk=1-iu;else dk=0;var C=ft.PK(hn[1]/100);
cH[I]+=dk*hn[0]/360;bI[I]+=dk*C;aR[I]+=dk*hn[2]/100}}for(var I=0;I<256;I++){bI[I]=(1+bI[I])*(1+gC)-1;
aR[I]=Math.max(-1,Math.min(1,aR[I]))}}var dV=new Uint8Array(256),gb=new Uint8Array(256),gP=new Uint8Array(256);
for(var I=0;I<256;I++){var eJ=cH[I],e3=bI[I],c1=aR[I];if(eJ>1)eJ--;if(eJ<0)eJ++;e3=ft.amK(e3);e3=(1+e3)*.5;
c1=(1+c1)*.5;dV[I]=Math.round(255*eJ);gb[I]=Math.round(255*e3);gP[I]=Math.round(255*c1)}var ku=cN[2]/100,aC=ku<0?-ku:ku,gU=ku<0?0:1;
x={type:w.SM,aFg:dV,gm:gb,ab7:gP,asr:aC*gU,Hw:1-aC,aEX:cN[2]/100,akK:ak?1:0}}if(o=="nvrt"){var V=new Uint8Array(256);
for(var I=0;I<256;I++)V[I]=255-I;x={type:w.DZ,Ky:V,OQ:V,Hl:V,xq:!1,oP:!1}}if(o=="post"){var hR=P.Lvls.v,V=new Uint8Array(256),dk=hR/255.001,a7=255/(hR-1);
for(var I=0;I<256;I++)V[I]=Math.floor(I*dk)*a7;x={type:w.DZ,Ky:V,OQ:V,Hl:V,xq:!1,oP:!1}}if(o=="grdm"){var dh=P.Grad.v,eS=P.Rvrs,O=1024,d0;
if(dh.Clrs){var cJ=e.G.IF(dh,0,0);d0=e.G.ahL(dh,cJ,O,eS?eS.v:!1)}else{d0=e.G.akS(dh,O,eS?eS.v:!1)}var aO=e.U(O),a9=e.U(O),ac=e.U(O);
e.JX(d0,aO,0);e.JX(d0,a9,1);e.JX(d0,ac,2);x={type:w.DZ,Ky:aO,OQ:a9,Hl:ac,xq:!0,oP:!1}}if(o=="selc"){var e7=new Float32Array(9*3*2),b2=P.Pl,jQ=P.Mthd?P.Mthd.v.CrcM=="Absl":!1;
for(var a=0;a<9;a++){var g9=a*6,cx=bT.mc(P,a),i8=cx[0]/100,fw=cx[1]/100,hi=cx[2]/100,dU=cx[3]/100;if(jQ){e7[g9]=e7[g9+1]=e7[g9+2]=1;
e7[g9+3]=i8*(1+dU)+dU;e7[g9+4]=fw*(1+dU)+dU;e7[g9+5]=hi*(1+dU)+dU}else{e7[g9+0]=(1+i8)*(1+dU);e7[g9+1]=(1+fw)*(1+dU);
e7[g9+2]=(1+hi)*(1+dU)}}x={type:w._2,auz:e7}}if(o=="blwh"){var dv="Rd Yllw Grn Cyn Bl Mgnt".split(" "),x=[],iS=0,fh=0;
for(var I=0;I<6;I++)x.push(P[dv[I]].v);x.push(P.useTint.v,P.tintColor.v);var bo=[];for(var I=0;I<6;I++)bo.push((x[I]-50)/50);
var fV=e.G.dQ(x[7]);fV.$/=255;fV.H/=255;fV.b/=255;var ck=e.j1(fV.$,fV.H,fV.b),c1=e.GQ(e.yN(ck.Y,1,.5)),h8=ck.zp*ck.IN;
if(c1==.5)iS=fh=.5;else{iS=h8*(.5-c1)/(.5/c1-1);fh=1-h8*(.5-c1)-1/(2*(1-c1));fh/=1-1/(2*(1-c1))}x={type:w.Rm,aBu:bo,r6:x[6]?1:0,amQ:ck.Y,GQ:c1,ap1:h8,U3:iS,a1w:fh}}if(o=="blnc"){var l=[],h9=["ShdL","MdtL","HghL"];
for(var I=0;I<3;I++){if(P[h9[I]]==null){l[I]=[0,0,0];continue}var hR=P[h9[I]].v,gi=hR[0].v/100,dX=hR[1].v/100,f8=hR[2].v/100,kS=P.PrsL==null||P.PrsL.v?(Math.min(gi,dX,f8)+Math.max(gi,dX,f8))/2:0;
l[I]=[gi-kS,dX-kS,f8-kS]}var g=[e.U(256),e.U(256),e.U(256)];for(var a=0;a<3;a++)for(var I=0;I<256;I++){var F=I*(1/255),jJ=0,Y=0,gj=0;
Y=l[2][a];gj=Math.abs(Y);if(Y<0)jJ=Math.pow(F,Math.SQRT2);else jJ=1.63*(Math.pow(F+.04,.5)-.2);F=gj*jJ+(1-gj)*F;
Y=l[1][a];gj=Math.abs(Y);if(Y<0)jJ=Math.pow(F,2);else jJ=Math.min(2.35*(Math.pow(F+.09,.5)-.3),Math.pow(F,1/2));
F=gj*jJ+(1-gj)*F;Y=l[0][a];gj=Math.abs(Y);if(Y<0)jJ=F<.4?0:Math.pow((F-.4)/.6,Math.SQRT2);else jJ=Math.pow(F,Math.SQRT2/2);
F=gj*jJ+(1-gj)*F;F=Math.max(0,Math.min(1,F));g[a][I]=Math.round(F*255)}x={type:w.DZ,Ky:g[0],OQ:g[1],Hl:g[2],xq:!1,oP:!1}}if(o=="phfl"){var g$=e.G.dQ(P.Clr.v),ib=[g$.$/255,g$.H/255,g$.b/255],eo=P.Dnst.v/100,g=[e.U(256),e.U(256),e.U(256)];
for(var a=0;a<3;a++)for(var I=0;I<256;I++){var F=I*(1/255),iP=F*ib[a];iP=Math.max(0,Math.min(1,iP));
F=eo*iP+(1-eo)*F;g[a][I]=Math.round(F*255)}x={type:w.DZ,Ky:g[0],OQ:g[1],Hl:g[2],xq:!1,oP:P.PrsL.v}}if(o=="thrs"){var V=e.U(256);
for(var I=P.Lvl.v;I<256;I++)V[I]=255;x={type:w.DZ,Ky:V,OQ:V,Hl:V,xq:!0,oP:!1}}if(o=="mixr"){var fc=ft.Qb(P),M=[];
for(var I=0;I<fc.P.length;I++)if(I%5!=3)M.push(fc.P[I]/100);if(fc._A){for(var kL=1;kL<3;kL++)for(var F=0;
F<4;F++)M[kL*4+F]=M[F]}x={type:w.Ia,zr:M}}if(o=="rplc"){var hC=P.Mnm.v,em=P.Mxm.v;x={type:w.La,cT:[hC.Lmnc.v,hC.A.v,hC.B.v],G8:[em.Lmnc.v,em.A.v,em.B.v],shift:[P.H.v/360,P.Strt.v/100,P.Lght.v/100],ym:P.Fzns.v/150}}if(o=="clrL"&&P.profile){var aS=new Uint8Array(P.profile.v),cY=ICC.R(aS.buffer),cl=[],cf=17,cl=ICC.U.sampleLUT(cY,cf);
x={type:w.iU,Du:ICC.U.lutToRGBA8(cl,cf),apW:cl,pN:cf}}return x};ft.cx=function(o,P){var w=-1;if(o!="levl"||P==null)w=-1;
else if(P.Auto)w=0;else if(P.AuCo)w=1;else if(P.autoBlackWhite)w=2;return w};ft.Ek={DZ:0,SM:1,Ne:2,_2:3,Rm:4,Ia:5,La:6,iU:7};
ft.PK=function(o){if(o<0)return o;return Math.pow(Math.tan(Math.PI/2*o),1.3)};ft.amK=function(o){if(o<0)return o;
o=Math.pow(o,1/1.3);return Math.atan2(o,1)/(Math.PI/2)};ft.wM=function(o,P,w,x){var z=ft.Ek,S=Date.now();
if(fj.Dx&&x.c()>300*300&&o.type!=z.DZ&&o.type!=z.iU){x=x.clone();x.x=x.y=0;var k=fj.nR(0,x.q,x._);k.set(P);
fj.kU(k,x);k.ty(x);ft.xS(o,k.dA,x);k.get(w);return}if(o.type==z.iU){var f=o.apW,C=o.pN;ICC.U.applyLUT(f,C,P,w);
var H=P.length;for(var I=0;I<H;I+=4)w[I+3]=P[I+3]}if(o.type==z.Ia)e.ww.abR(P,w,o.zr);if(o.type==z.Rm){var b=o.ap1,i=o.GQ,M=o.U3,T=o.a1w,H=P.length;
for(var I=0;I<H;I+=4){var x=P[I]*(1/255),O=P[I+1]*(1/255),Y=P[I+2]*(1/255),U=e.Rs(x,O,Y),W=0;for(var t=0;
t<6;t++)W+=Math.min(1,1.7*(1-U.h8))*U.zp*o.aBu[t]*ft.aBp(U.Y,t*(1/6));var _=Math.max(0,Math.min(1,U.h8*(1+W)));
if(o.r6==1){var n=0;if(_<M)n=_*(.5/i);else if(_<T)n=_+b*(.5-i);else n=1-(1-_)*.5/(1-i);U.Y=o.amQ;U.zp=Math.min(1,b+3*b*Math.abs(_-.5*(M+T)));
U.h8=n}else{U.Y=0;U.zp=0;U.h8=_}var y=e.yN(U.Y,U.zp,U.h8);w[I]=Math.round(y.$*255);w[I+1]=Math.round(y.H*255);
w[I+2]=Math.round(y.b*255)}}if(o.type==z._2){var F=o.auz,H=P.length,a=1/255;for(var I=0;I<H;I+=4){var x=P[I]*a,O=P[I+1]*a,Y=P[I+2]*a,U=e.Rs(x,O,Y),V=Math.max(x,Math.max(O,Y)),D=Math.min(x,Math.min(O,Y)),l=1-x,Q=1-O,m=1-Y,R=0,$=0,p=0;
for(var t=0;t<9;t++){var c=t*6,E=0;if(F[c]==1&&F[c+1]==1&&F[c+2]==1&&F[c+3]==0&&F[c+4]==0&&F[c+5]==0)continue;
var B=l*F[c]+F[c+3],Z=Q*F[c+1]+F[c+4],v=m*F[c+2]+F[c+5];if(t<6)E=ft.aBp(U.Y,t*(1/6))*U.zp*2*Math.min(U.h8,1-U.h8);
else if(t==6)E=Math.max(0,D-.5)*2;else if(t==7)E=1-(Math.abs(V-.5)+Math.abs(D-.5));else E=Math.max(0,.5-V)*2;
R+=(Math.max(0,Math.min(1,B))-l)*E;$+=(Math.max(0,Math.min(1,Z))-Q)*E;p+=(Math.max(0,Math.min(1,v))-m)*E}l=Math.max(0,Math.min(1,l+R));
Q=Math.max(0,Math.min(1,Q+$));m=Math.max(0,Math.min(1,m+p));x=1-l;O=1-Q;Y=1-m;w[I]=Math.round(x*255);
w[I+1]=Math.round(O*255);w[I+2]=Math.round(Y*255)}}if(o.type==z.DZ){e.a1c(P,w,o.Ky,o.OQ,o.Hl,o.xq,o.oP)}if(o.type==z.SM){var g=new Uint32Array(P.buffer),u=new Uint32Array(w.buffer),H=g.length;
if(ft.wN==null){ft.wN=new Float64Array(256);for(var I=0;I<256;I++)ft.wN[I]=ft.PK(-1+2*I/255)}var j=ft.wN;
for(var I=0;I<H;I++){var A=g[I],x=(A&255)*(1/255),O=(A>>>8&255)*(1/255),Y=(A>>>16&255)*(1/255),K=A>>>24,s=Math.min(x,O,Y),r=Math.max(x,O,Y),h=0,jC=0,d=0;
h=e.Rs(x,O,Y).Y;var q=~~(h*255+.5),hc=o.aFg[q]*(1/255),dk=o.gm[q]*(1/255)*2-1,c6=o.ab7[q]*(1/255)*2-1,W=-c6,e3=s;
if(0<c6){W=c6;e3=r}var ks=o.asr+o.Hw*W*e3,cH=o.Hw*(1-W);x=ks+cH*x;O=ks+cH*O;Y=ks+cH*Y;r=Math.max(x,O,Y);
s=Math.min(x,O,Y);d=(r+s)*.5;if(r!=s){var bI=r-s;jC=d>.5?bI/(2-(r+s)):bI/(r+s)}var aR=dk;if(o.akK==0){dk=j[Math.floor((1+dk)*127.5)];
aR=Math.min(jC*(1+dk),1)}var y=e.yN(hc,aR,d);x=y.$;O=y.H;Y=y.b;u[I]=K<<24|Y*255<<16|O*255<<8|x*255}}if(o.type==z.La){e.L9(P,w);
var g=new Uint32Array(P.buffer),u=new Uint32Array(w.buffer),H=g.length,ak=o.ym,cN=1/ak,gC={s$:o.cT[0],F:o.cT[1],b:o.cT[2]},bD={s$:o.G8[0],F:o.G8[1],b:o.G8[2]};
for(var I=0;I<H;I++){var A=g[I],cu=A&255,du=A>>>8&255,bq=A>>>16&255,x=cu*(1/255),O=du*(1/255),Y=bq*(1/255),K=A>>>24,hn=e.Us(cu,du,bq),aK=e.ab4(hn,gC,bD,ak,cN);
if(aK==0)continue;var U=e.Rs(x,O,Y),hc=2+U.Y+o.shift[0];U.Y=hc-~~hc;U.zp=Math.max(0,Math.min(1,U.zp+o.shift[1]));
U.h8=Math.max(0,Math.min(1,U.h8+o.shift[2]));var y=e.yN(U.Y,U.zp,U.h8);x=(1-aK)*x+aK*y.$;O=(1-aK)*O+aK*y.H;
Y=(1-aK)*Y+aK*y.b;u[I]=K<<24|Y*255<<16|O*255<<8|x*255}}if(o.type==z.Ne){var g=new Uint32Array(P.buffer),u=new Uint32Array(w.buffer),H=g.length,cQ=o.JL[0],jR=o.JL[1],ch=o.JL[2],W=o.JL[3],bx=e.ww.Jg([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),jf=e.ww.Sd(bx),dW=2.4;
function C(gP){return Math.max(0,Math.min(1,gP))}function bf(gP){return Math.pow(gP,dW)}function iu(gP){return Math.pow(gP,1/dW)}function dV(x,O,Y,gP){x=bf(x);
O=bf(O);Y=bf(Y);var eJ=e.ww.tM(bx,[x,O,Y,1]);eJ[0]*=ch;eJ[1]*=W;eJ[2]*=W;var y=e.ww.tM(jf,eJ);y[0]=iu(C(y[0]));
y[1]=iu(C(y[1]));y[2]=iu(C(y[2]));return y}for(var I=0;I<H;I++){var A=g[I],x=(A&255)*(1/255),O=(A>>>8&255)*(1/255),Y=(A>>>16&255)*(1/255),K=A>>>24,y=dV(x,O,Y,cQ);
x=y[0];O=y[1];Y=y[2];var gb=e.Rs(x,O,Y);gb.zp=Math.max(0,Math.min(1,gb.zp*(1+jR)));y=e.yN(gb.Y,gb.zp,gb.h8);
x=y.$;O=y.H;Y=y.b;u[I]=K<<24|Y*255<<16|O*255<<8|x*255}}};ft.xS=function(o,P,w){fj._X.xS(o,P)};ft.aBp=function(o,P){var w=e._U(P,o)*6;
return Math.max(0,Math.min(1,w<0?1+w:1-w))};var cM={};cM.qF=function(o){var P=o.filterID.v;return P>16777215?L.aE1(P):o.Fltr.v.classID};
cM.Gs=[{v4:"GEfc"},{v4:"LnCr"},{v4:"Adobe Camera Raw Filter"},{v4:"LqFy"},{v4:"VaPo",Pd:!0},{MU:"3D",rM:["lightFilterGradient","Dila"]},{MU:[24,2],rM:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{MU:[24,3,11],rM:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{MU:[24,4],rM:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{MU:[24,6],rM:["AdNs","Dspc","DstS","Mdn ","denoise"]},{MU:[24,8],rM:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{MU:[24,10],rM:["Flam","Clds","DfrC","Fbrs","LnsF"]},{MU:[24,12],rM:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{MU:[24,14],rM:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{MU:[24,16],rM:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{MU:"Fourier",rM:["dDFT","iDFT"]}];
cM.Q9={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
cM._4={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
cM.L={rigidTransform:N.Yq,blurbTransform:N.aCu};cM.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
cM.bS=function(o){var P=null;if(o=="GEfc")P={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:cF.bS("GlwE")}]}};
if(o=="LqFy"){var w={V:5,Y:5,map:new Float32Array(5*5*2)},x=new Uint8Array(iE.Fv(w)),z=[];for(var I=0;
I<x.length;I++)z.push(x[I]);P={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:z}}}if(o=="rigidTransform"){P={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(o=="blurbTransform"){P={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(o=="LnCr")P={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(o=="adaptCorrect")P={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(o=="Dfs ")P={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(o=="Fbrs")P={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(o=="Embs")P={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(o=="oilPaint")P={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(o=="TrcC")P={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(o=="Wnd ")P={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(o=="lightFilterGradient")P={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(o=="boxblur")P={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(o=="GsnB")P={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(o=="Bokh")P={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(o=="MtnB")P={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(o=="RdlB")P={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(o=="surfaceBlur")P={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(o=="denoise")P={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(o=="Dspl")P={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(o=="Pnch")P={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(o=="Plr ")P={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(o=="Rple")P={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(o=="Shr ")P={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(o=="Sphr")P={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(o=="Twrl")P={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(o=="Wave")P={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(o=="ZgZg")P={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(o=="AdNs")P={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(o=="DstS")P={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(o=="Mdn ")P={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(o=="ClrH")P={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(o=="Crst")P={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(o=="Mztn")P={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(o=="Msc ")P={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(o=="Pntl")P={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(o=="LnsF")P={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(o=="Dthr")P={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(o=="Part")P={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(o=="Adobe Camera Raw Filter")P={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(o=="smartSharpen")P={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(o=="UnsM")P={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(o=="HghP")P={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(o=="HsbP")P={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(o=="Mxm ")P={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(o=="Mnm ")P={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(o=="Ofst")P={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(o=="Kale")P={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(o=="Rept")P={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(o=="Flam")P={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(o=="Ctoa")P={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(o=="brit")P={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(o=="levl")P={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(o=="curv")P={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(o=="expA")P={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(o=="vibA")P={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(o=="hue2")P={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(o=="blnc")P={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(o=="blwh")P={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(o=="phfl")P={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(o=="grdm")P={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(iR.lC[6]).Grad};
if(o=="selc")P={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(o=="thrs")P={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(o=="mixr")P={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(o=="clrL")P={__name:"Color Lookup",classID:"colorLookup"};if(o=="post")P={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(o=="rplc")P={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(o=="fade")P={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(o=="aply")P={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(o=="matc"){P={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(o=="Dila")P={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(o=="blendOptions")P={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return P};cM.wb={sFlam:function(o,P){P[0]=o.Type.v;P[1]=o.Leng.v;P[2]=o.RndL.v;P[3]=o.Widt.v;P[4]=o.Angl.v;
P[5]=o.Intr.v;P[6]=o.Adpt.v;P[7]=o.Clr.v;P[8]=o.Qual.v;P[9]=o.Turb.v;P[10]=o.Jag.v;P[11]=o.Opct.v.val;
P[12]=o.Lins.v;P[13]=o.Botm.v;P[14]=o.Styl.v;P[15]=o.Shap.v;P[16]=o.RnSh.v;P[17]=o.Arng.v},gFlam:function(o,P){o.Type.v=P[0];
o.Leng.v=P[1];o.RndL.v=P[2];o.Widt.v=P[3];o.Angl.v=P[4];o.Intr.v=P[5];o.Adpt.v=P[6];o.Clr.v=P[7];o.Qual.v=P[8];
o.Turb.v=P[9];o.Jag.v=P[10];o.Opct.v.val=P[11];o.Lins.v=P[12];o.Botm.v=P[13];o.Styl.v=P[14];o.Shap.v=P[15];
o.RnSh.v=P[16];o.Arng.v=P[17]},sAdNs:function(o,P){P[0]=o.Nose.v.val;P[1]=["Gsn","Unfr"].indexOf(o.Dstr.v.Dstr);
P[2]=o.Mnch.v},gAdNs:function(o,P){o.Nose.v.val=P[0];o.Dstr.v.Dstr=["Gsn","Unfr"][P[1]];o.Mnch.v=P[2]},sDstS:function(o,P){P[0]=o.Rds.v;
P[1]=o.Thsh.v},gDstS:function(o,P){o.Rds.v=P[0];o.Thsh.v=P[1]},sGsnB:function(o,P){P[0]=o.Rds.v.val},gGsnB:function(o,P){o.Rds.v.val=P[0]},sDila:function(o,P){P[0]=o.Crop.v.val;
P[1]=o.Rds.v.val},gDila:function(o,P){o.Crop.v.val=P[0];o.Rds.v.val=P[1]},sHghP:function(o,P){P[0]=o.Rds.v.val},gHghP:function(o,P){o.Rds.v.val=P[0]},sHsbP:function(o,P){var w=["RGBC","HSBl","HSLC"];
P[0]=w.indexOf(o.Inpt.v.ClrS);P[1]=w.indexOf(o.Otpt.v.ClrS)},gHsbP:function(o,P){var w=["RGBC","HSBl","HSLC"];
o.Inpt.v.ClrS=w[P[0]];o.Otpt.v.ClrS=w[P[1]]},"sMxm ":function(o,P){var w="preserveShape";P[0]=o.Rds.v.val;
P[1]=o[w]?["squareness","Rndn"].indexOf(o[w].v[w]):0},"gMxm ":function(o,P){var w="preserveShape";o.Rds.v.val=P[0];
o[w]={t:"enum",v:{preserveShape:["squareness","Rndn"][P[1]]}}},"sMnm ":function(o,P){var w="preserveShape";
P[0]=o.Rds.v.val;P[1]=o[w]?["squareness","Rndn"].indexOf(o[w].v[w]):0},"gMnm ":function(o,P){var w="preserveShape";
o.Rds.v.val=P[0];o[w]={t:"enum",v:{preserveShape:["squareness","Rndn"][P[1]]}}},sMtnB:function(o,P){P[0]=[o.Angl.v];
P[1]=o.Dstn.v.val;console.log(P)},gMtnB:function(o,P){o.Angl.v=typeof P[0]=="number"?P[0]:P[0][0];o.Dstn.v.val=P[1]},sOfst:function(o,P){P[0]=o.Hrzn.v;
P[1]=o.Vrtc.v;P[2]=["Rpt","Bckg","Wrp"].indexOf(o.Fl.v.FlMd)},gOfst:function(o,P){o.Hrzn.v=P[0];o.Vrtc.v=P[1];
o.Fl.v.FlMd=["Rpt","Bckg","Wrp"][P[2]]},sPnch:function(o,P){P[0]=o.Amnt.v},gPnch:function(o,P){o.Amnt.v=P[0]},"sPlr ":function(o,P){P[0]=["RctP","PlrR"].indexOf(o.Cnvr.v.Cnvr)},"gPlr ":function(o,P){o.Cnvr.v.Cnvr=["RctP","PlrR"][P[0]]},sRple:function(o,P){P[0]=o.Amnt.v;
P[1]=["Sml","Mdm","Lrg"].indexOf(o.RplS.v.RplS)},gRple:function(o,P){o.Amnt.v=P[0];o.RplS.v.RplS=["Sml","Mdm","Lrg"][P[1]]},sTwrl:function(o,P){P[0]=o.Angl.v},gTwrl:function(o,P){o.Angl.v=P[0]},sZgZg:function(o,P){P[0]=o.Amnt.v;
P[1]=o.NmbR.v;P[2]=["ArnC","OtFr","PndR"].indexOf(o.ZZTy.v.ZZTy)},gZgZg:function(o,P){o.Amnt.v=P[0];
o.NmbR.v=P[1];o.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][P[2]]},sUnsM:function(o,P){P[0]=o.Amnt.v.val;P[1]=o.Rds.v.val;
P[2]=o.Thsh.v},gUnsM:function(o,P){o.Amnt.v.val=P[0];o.Rds.v.val=P[1];o.Thsh.v=P[2]},sWave:function(o,P){P[0]=o.NmbG.v;
P[1]=o.WLMn.v;P[2]=o.WLMx.v;P[3]=o.AmMn.v;P[4]=o.AmMx.v;P[5]=o.SclH.v;P[6]=o.SclV.v;P[7]=["WvSn","WvTr","WvSq"].indexOf(o.Wvtp.v.Wvtp);
P[8]=["WrpA","RptE"].indexOf(o.UndA.v.UndA);P[9]=o.RndS.v},gWave:function(o,P){o.NmbG.v=P[0];o.WLMn.v=P[1];
o.WLMx.v=P[2];o.AmMn.v=P[3];o.AmMx.v=P[4];o.SclH.v=P[5];o.SclV.v=P[6];o.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][P[7]];
o.UndA.v.UndA=["WrpA","RptE"][P[8]];if(P[9]!=null){var w=parseInt(P[9]);if(isNaN(w))w=248325464;w=Math.max(0,Math.min(268435455,w));
o.RndS.v=w}},sDspl:function(o,P){P[0]=o.HrzS.v;P[1]=o.VrtS.v;P[2]=0;P[3]=["WrpA","RptE"].indexOf(o.UndA.v.UndA)},gDspl:function(o,P){o.HrzS.v=P[0];
o.VrtS.v=P[1];o.UndA.v.UndA=["WrpA","RptE"][P[3]];o.DspF.v.pth=P[4]},sbrit:function(o,P){P[0]=o.Brgh?o.Brgh.v:0;
P[1]=o.Cntr?o.Cntr.v:0;P[2]=o.useLegacy?o.useLegacy.v:!1},gbrit:function(o,P){o.Brgh.v=P[0];o.Cntr.v=P[1];
if(P[2]!=null)o.useLegacy.v=P[2]}};cM.aGE=function(o){var P=new eD(0,0);if(o.enab.v==!1)return P;var w=o.filterFXList.v;
for(var I=0;I<w.length;I++){var x=w[I].v;if(x.enab.v==!1)continue;var z=cM.qF(x),S=cM.T5(z,x.Fltr?x.Fltr.v:null);
if(S.x>P.x)P.x=S.x;if(S.y>P.y)P.y=S.y}return P};cM.T5=function(o,P){var w=0,x=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(o)!=-1){var z=P.Rds?P.Rds.v.val:1;
w=x=z*2.57}if(o=="MtnB")w=x=P.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(o)!=-1){w=x=1e4}if(o=="GEfc")return cF.T5(P);
return new eD(Math.ceil(w),Math.ceil(x))};cM.Gn=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
cM.ip=function(o,P){var w={$:P.AB>>16,H:P.AB>>8&255,b:P.AB&255},x={$:P.eI>>16,H:P.eI>>8&255,b:P.eI&255},z=cM.names[o];
if(z==null)z=ft.names[o];var S=o;for(var k in ft.cg)if(ft.cg[k]==o)S=k;var f={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:kQ.get(z)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:e.G.e1(w)},BckC:{t:"Objc",v:e.G.e1(x)},filterID:{t:"long",v:S.length==4?L.aue(S):777}}},C=cM.bS(o);
if(C)f.v.Fltr={t:"Objc",v:C};return f};cM.JP=function(o,P,w,x){var z=Date.now(),S=fj.Dx&&Math.max(x.q,x._)<=fj.QA.getParameter(fj.QA.MAX_TEXTURE_SIZE);
if(o<1){var k=Math.round(o*5),f=[1,2,1,2,[40,26,13,6,4,2][k],2,1,2,1];f=e.qY.na(f);if(!S){e.i8(w);var C=w.slice(0);
e.qY.jn(C,w,x.q,x._,f,255);e.m$(w)}else{var H=x.q,b=x._,i=fj.nR(0,H,b);i.set(w);var M=fj.nR(1,H,b),T=new Float32Array([1/H,1/b]);
fj.kU(M);fj.filter.xS({type:fj.filter.a9h,w5:T,aaQ:new Float32Array(f)},i.wH);M.get(w)}}else{var O=P==e.uY.pJ?0:P==e.uY.yX?1:2,Y=[];
while(O!=2&&o*[1,2.4][O]>20&&Y.length<4){var U=e.EA(w,x);Y.push(w,x);w=U.eD;x=U.rect;o/=2}var H=x.q,b=x._;
if(!S||O==2&&o>15){e.i8(w);P(w,x,o);e.m$(w)}else{var i=fj.nR(0,H,b);i.set(w);var M=fj.nR(1,H,b),T=new Float32Array([1/H,1/b]);
if(O==0){var W=1;while(W<o)W<<=1;fj.kU(M);fj.filter.xS({type:fj.filter.C3,w5:T,Tb:o,J0:[0,0,W]},i.wH);
fj.kU(i);fj.filter.xS({type:fj.filter.C3,w5:T,Tb:o,J0:[0,1,W]},M.wH);i.get(w)}else if(O==1){var t=3,_=e.uY.TO(o,t);
for(var I=0;I<t;I++){var n=_[I]>>>1,y=1;while(y<n)y<<=1;if(n==0)continue;fj.kU(M);fj.filter.xS({type:fj.filter.C3,w5:T,Tb:n,J0:[0,0,y]},i.wH);
fj.kU(i);fj.filter.xS({type:fj.filter.C3,w5:T,Tb:n,J0:[0,1,y]},M.wH)}i.get(w)}else{var W=1;while(W<o)W<<=1;
fj.kU(M);fj.filter.xS({type:fj.filter.C3,w5:T,Tb:o,J0:[0,0,W]},i.wH);M.get(w)}}var F=Date.now();while(Y.length!=0){var a=Y.pop(),V=Y.pop();
e.scale.au4(w,x.q,x._,V,a.q,a._);w=V;x=a}}};cM.a1C=function(o,P,w,x){for(var I=0;I<o.length;I++){w[I]=o[I]*(1/255);
x[I]=0}FFT.fft2d(w,x);var z=P>>>1,S=16384,k=128,C=100;while(k<P){k<<=1;S<<=2}var f=255/Math.log(S),H=-100;
for(var b=0;b<P;b++)for(var i=0;i<z;i++){var M=P+z+b&P-1,T=w[M*P+i],O=x[M*P+i],Y=Math.sqrt(T*T+O*O),U=Math.atan2(O,T);
o[b*P+i]=Math.round(f*Math.log(Y+1));o[b*P+z+i]=Math.round((Math.PI+U)*(255*.5/Math.PI))}};cM.apE=function(o,P,w,x){w.fill(0);
x.fill(0);var z=P>>>1,S=16384,k=128;while(k<P){k<<=1;S<<=2}var f=255/Math.log(S),C=[],H=[],b=[];for(var I=0;
I<256;I++){C[I]=Math.exp(I/f)-1;var i=I*(2*Math.PI/255)-Math.PI;H[I]=Math.sin(i);b[I]=Math.cos(i)}for(var M=0;
M<P;M++)for(var T=0;T<z;T++){var O=P+z+M&P-1,Y=C[o[M*P+T]],i=o[M*P+z+T],U=Y*b[i],W=Y*H[i];w[O*P+T]=U;
x[O*P+T]=W;if(T!=0){var t=O==0?O*P+P-T:(P-O)*P+(P-T);w[t]=U;x[t]=-W}}FFT.ifft2d(w,x);for(var I=0;I<o.length;
I++){o[I]=Math.max(0,Math.min(255,~~(.5+255*w[I])))}};cM.an8=new ArrayBuffer(512);cM.asG=function(o){var P=cM.an8,w=o.length;
if(P.byteLength<w)cM.an8=P=new ArrayBuffer(w);var x=new Uint8Array(P);for(var I=0;I<w;I+=4){x[I]=o[I];
x[I+1]=o[I+1];x[I+2]=o[I+2];x[I+3]=o[I+3]}return P};cM.wM=function(o,P,w,x,z,S,k){if(S==null)S={buffer:e.U(P.buffer.length),rect:P.rect.clone()};
S.buffer.set(P.buffer);var f=w&&w.RndS?w.RndS.v>>>1:0;if(o=="GEfc"){var C=[];if(w.GEfs){var H=w.GEfs.v;
for(var I=0;I<H.length;I++){var b=H[I].v;if(b.GELv&&b.GELv.v==!1)continue;C.push(b)}}else C=[w];for(var I=0;
I<C.length;I++){var i;if(I==0)cF.wM(o,P,C[I],x,z,S,k);else{if(i==null)i={buffer:e.U(P.buffer.length),rect:P.rect.clone()};
e.L9(S.buffer,i.buffer);cF.wM(o,i,C[I],x,z,S,k)}}}if(o=="Dila"){var M=w.Crop.v.val,T=w.Rds.v.val+M;T=T*T;
if(T==0)return;var O=P.rect,Y=O.q,U=O._,W=Y*U,t=P.buffer,i=S.buffer,_=e.U(W);e.JX(t,_,3);if(M!=0){var n=O.clone();
n.$b(1,1);var y=e.U(n.c());e.d0(_,O,y,n);e.Sd(y);e.style.stroke(y,y,n,M);e.Sd(y);e.d0(y,n,_,O)}var F=e.style.Ss(_,Y,U);
i.fill(0);for(var a=0;a<U;a++)for(var V=0;V<Y;V++){var I=a*Y+V,D=I<<1,l=I<<2,Q=F[D],m=F[D+1];if(Q*Q+m*m<T){var R=(a+m)*Y+(V+Q)<<2;
i[l]=t[R];i[l+1]=t[R+1];i[l+2]=t[R+2];i[l+3]=255}}}if(o=="Adobe Camera Raw Filter"){var O=P.rect,Y=O.q,U=O._,W=Y*U,$=W*4,p=W*3,c=new Float32Array(Y*U*3),B=P.buffer;
for(var I=0;I<W;I++){var Z=I*3,l=I*4;c[Z]=B[l]*(1/255);c[Z+1]=B[l+1]*(1/255);c[Z+2]=B[l+2]*(1/255)}var v=JSON.parse(JSON.stringify(w));
delete v.Upri;delete v.GuUr;var E=c.slice(0);gc(c,Y,U,E,v);c=E;B=S.buffer;for(var I=0;I<W;I++){var Z=I*3,l=I*4;
B[l]=255*Math.max(0,Math.min(1,c[Z]));B[l+1]=255*Math.max(0,Math.min(1,c[Z+1]));B[l+2]=255*Math.max(0,Math.min(1,c[Z+2]))}}if(o=="Fct "){var O=P.rect,Y=O.q,U=O._,W=Y*U,$=W*4;
function g(bH){var jf=bH.slice(0);for(var a=0;a<3;a++)for(var V=0;V<3;V++)jf[a*3+V]=bH[(2-V)*3+a];return jf}function u(fM,hH,jB,dT){var jb=0;
for(var a=0;a<3;a++)for(var V=0;V<3;V++)jb+=hH[a*3+V]*fM[(dT-1+a)*Y+jB-1+V];return jb}var j=[8,5,2,5,2,-1,2,-1,-4],K=[5,5,5,2,2,2,-1,-1,-1],s=[2,2,2,2,2,2,2,2,2],r=[];
r.push(j);for(var I=0;I<3;I++)r.push(g(r[r.length-1]));r.push(K);for(var I=0;I<3;I++)r.push(g(r[r.length-1]));
r.push(s);for(var I=0;I<9;I++)r[I]=e.qY.na(r[I]);var h=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1],jC=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],d=e.U(W),q=new Float32Array(W),E=e.U(W);
for(var hc=0;hc<3;hc++){e.JX(P.buffer,d,hc);for(var dk=0;dk<1;dk++){for(var a=1;a<U-1;a++)for(var V=1;
V<Y-1;V++){var c6=a*Y+V,e3=d[c6];q[c6]=1e9;for(var I=0;I<9;I++){var ks=u(d,r[I],V,a),cH=(ks-e3)*(ks-e3);
if(cH<q[c6])q[c6]=cH}}for(var a=1;a<U-1;a++)for(var V=1;V<Y-1;V++){var bI=0,aR=1e9;for(var I=0;I<9;I++){var ak=a*Y+V+h[I],cH=q[ak];
if(cH<aR){aR=cH;bI=d[ak]}}E[a*Y+V]=bI}d.set(E)}e.lI(E,S.buffer,hc)}}if(o=="adaptCorrect"){var O=P.rect,Y=O.q,U=O._,W=Y*U,$=W*4,cN=w.sdwM.v,gC=cN.Amnt.v.val/100,bD=cN.Wdth.v.val/100,cu=cN.Rds.v,du=w.hglM.v,bq=du.Amnt.v.val/100,hn=du.Wdth.v.val/100,aK=du.Rds.v;
e.ait.m3(P.buffer,S.buffer,Y,U,gC,bD,cu,bq,hn,aK,w.ClrC.v/100,w.Cntr.v/100)}if(o=="denoise"){var O=P.rect,Y=O.q,U=O._,cQ=w.channelDenoise.v[0].v;
e.ai5.ah7(P.buffer,Y,U,S.buffer,cQ.Amnt.v/10,cQ.EdgF.v/100)}if(o=="HsbP"){var jR=w.Inpt.v.ClrS,ch=w.Otpt.v.ClrS,O=P.rect,Y=O.q,U=O._,W=Y*U;
for(var I=0;I<W;I++){var l=I*4,dk=P.buffer[l]*(1/255),bx=P.buffer[l+1]*(1/255),jf=P.buffer[l+2]*(1/255);
if(jR=="RGBC"){}else if(jR=="HSLC"){var E=e.yN(dk,bx,jf);dk=E.$;bx=E.H;jf=E.b}else if(jR=="HSBl"){var E=e.a6T(dk,bx,jf);
dk=E.$;bx=E.H;jf=E.b}var dW=dk,bf=bx,iu=jf;if(ch=="RGBC"){}else if(ch=="HSLC"){var E=e.Rs(dk,bx,jf);
dW=E.Y;bf=E.zp;iu=E.h8}else if(ch=="HSBl"){var E=e.ahR(dk,bx,jf);dW=E.Y;bf=E.zp;iu=E.b}S.buffer[l]=~~(255*dW);
S.buffer[l+1]=~~(255*bf);S.buffer[l+2]=~~(255*iu)}}if(o=="Fbrs"){var O=P.rect,Y=O.q,U=O._;e.p.ahM(P.buffer,Y,U,S.buffer,[w.Vrnc.v,w.Strg.v,f]);
var dV=e.U(Y*U);e.JX(S.buffer,dV,0);e.Sd(dV);cF.gY(dV,S.buffer,x,z)}if(o=="Frgm"){var O=P.rect,Y=O.q,U=O._,gb=P.buffer.slice(0);
e.i8(gb);e.p.a9W(gb,Y,U,S.buffer);e.m$(S.buffer)}if(o=="Flam"){var O=P.rect,Y=O.q,U=O._,gP=w.Clr.v,eJ={type:w.Type.v+1,length:w.Leng.v,avS:w.RndL.v,CI:w.Widt.v,a6t:w.Angl.v,avr:w.Intr.v,adT:w.Adpt.v,color:{$:gP.Rd.v,H:gP.Grn.v,b:gP.Bl.v},i4:w.Qual.v+1,Ru:w.Turb.v,C5:w.Jag.v,opacity:w.Opct.v.val,QN:w.Lins.v,apY:w.Botm.v,style:w.Styl.v+1,shape:w.Shap.v+1,aeE:w.RnSh.v,alO:w.Arng.v,a5g:!1},c1=k[3],ku=c1[0],aC=c1[1],gU=ku[aC.length!=0?aC[0]:0];
if(gU==null){alert("Make a path first");return}var hR=gU.add.vmsk.g,a7=e.n.f8(hR),dh=[];for(var R=0;
R<a7;R++){var eS=e.n.iE(hR,R),d0=hR[eS];if(d0.length<2)continue;var cJ=[];dh.push(cJ);var aO=d0.length-(d0.type==3?1:0);
for(var c6=0;c6<aO;c6++){var a9=hR[eS+1+c6],ac=c6==d0.length-1?hR[eS+1]:hR[eS+1+c6+1],e7=a9.v,b2=a9.AK,j=ac.Fm,jQ=ac.v,g9=Math.round(eD.a_(e7,jQ)/5);
for(var cx=0;cx<g9;cx++){var i8=cx/g9,fw=1-i8,V=fw*fw*fw*e7.x+3*fw*fw*i8*b2.x+3*fw*i8*i8*j.x+i8*i8*i8*jQ.x,a=fw*fw*fw*e7.y+3*fw*fw*i8*b2.y+3*fw*i8*i8*j.y+i8*i8*i8*jQ.y;
cJ.push(V,a)}}}var hi=[dh,eJ],dU=Date.now(),dv=a6(hi);iy(P.buffer,Y,U,S.buffer,dv,hi)}if(o=="Dfs "){var O=P.rect,Y=O.q,U=O._,bo=["Nrml","DrkO","LghO","anisotropic"].indexOf(w.Md.v.DfsM);
if(bo<3)e.p.aho(P.buffer,Y,U,S.buffer,[bo]);else{var hi=[1.4,1.6,1,4,!1,2,[0,0,.001]],O=P.rect.clone();
O.x=O.y=0;e.yY.filter(P.buffer,O,S.buffer,hi)}}if(o=="TrcC"){var O=P.rect,Y=O.q,fV=Y<<2,U=O._,ck=w.Lvl.v,h8=w.Edg.v.CntE=="Lwr",fS=P.buffer,iS=S.buffer;
e.ZT(iS,16777215,4278190080);function fh(d$,jr){gi(d$,jr);gi(d$+1,jr+1);gi(d$+2,jr+2)}function h9(d$,jr){dX(d$,jr);
dX(d$+1,jr+1);dX(d$+2,jr+2)}function gi(d$,jr){var dW=fS[d$],bf=fS[jr];if(dW>=ck&&bf<ck)iS[d$]=0;if(dW<ck&&bf>=ck)iS[jr]=0}function dX(d$,jr){var dW=fS[d$],bf=fS[jr];
if(dW>ck&&bf<=ck)iS[jr]=0;if(dW<=ck&&bf>ck)iS[d$]=0}if(h8)for(var a=1;a<U;a++)for(var V=1;V<Y;V++){var l=a*Y+V<<2;
fh(l,l-4);fh(l,l-fV)}else for(var a=1;a<U;a++)for(var V=1;V<Y;V++){var l=a*Y+V<<2;h9(l,l-4);h9(l,l-fV)}}if(o=="Embs"){var O=P.rect,Y=O.q,U=O._,f8=-w.Angl.v*Math.PI/180,kS=w.Hght.v,jJ=w.Amnt.v/100;
kS/=2;var Q=Math.cos(f8)*kS,m=Math.sin(f8)*kS,fS=P.buffer,iS=S.buffer;iS.fill(0);var gj=new Uint32Array(fS.buffer),E=new Uint8Array(4),k8=new Uint32Array(E.buffer);
for(var a=0;a<U;a++)for(var V=0;V<Y;V++){var g$=0,ib=0,eo=0;if(0<=V+Q&&V+Q<Y&&0<=a+m&&a+m<U){e.W.Xd(V+Q+.5,a+m+.5,gj,Y,U,k8,0,0);
g$+=E[0]-128;ib+=E[1]-128;eo+=E[2]-128}if(0<=V-Q&&V-Q<Y&&0<=a-m&&a-m<U){e.W.Xd(V-Q+.5,a-m+.5,gj,Y,U,k8,0,0);
g$-=E[0]-128;ib-=E[1]-128;eo-=E[2]-128}var l=a*Y+V<<2;iS[l]=Math.max(0,Math.min(255,g$*jJ+128));iS[l+1]=Math.max(0,Math.min(255,ib*jJ+128));
iS[l+2]=Math.max(0,Math.min(255,eo*jJ+128));iS[l+3]=fS[l+3]}}if(o=="ShrE"){var O=P.rect,Y=O.q,U=O._;
e.p.a9o(P.buffer,Y,U,S.buffer)}if(o=="Dspc"){var O=P.rect,Y=O.q,U=O._;e.p.a0r(P.buffer,Y,U,S.buffer)}if(o=="Slrz"){var iP=S.buffer,d6=128;
for(var I=0;I<iP.length;I+=4){if(iP[I]>d6)iP[I]=255-iP[I];if(iP[I+1]>d6)iP[I+1]=255-iP[I+1];if(iP[I+2]>d6)iP[I+2]=255-iP[I+2]}}if(o=="Wnd "){var O=P.rect,Y=O.q,U=O._,fc=["Wnd","Blst","Stgr"],kL=w.WndM.v.WndM;
e.p.hq(P.buffer,Y,U,S.buffer,[fc.indexOf(kL),w.Drct.v.Drct!="Left"])}if(o=="Bokh"){var O=P.rect,Y=O.q,U=O._,W=Y*U,$=W*4,hC=P.buffer.slice(0),em=w.BkDi.v.BtDi,aS=w.BkDc,cY=w.BkDs.v,cl=w.BkDp.v/255;
if(em=="BeIn")cl=0;var cf=57*(.3+.7*((Y+U)/2)/1750)*(w.BkIb.v/100)*(1+.2*Math.pow(cl,.1)),eK=parseInt(w.BkIs.v.BtIs.slice(3)),hb=-w.BkIr.v*Math.PI/180,fE=[];
for(var I=0;I<8;I++){var cK=hb+I*(Math.PI*2/eK),ka=hb+(I+1)*(Math.PI*2/eK),hj=Math.cos(cK),hS=Math.sin(cK),cW=Math.cos(ka),cn=Math.sin(ka),dz=[0,0,0];
e.zr.lX([[hj,hS,1,0],[cW,cn,1,0],[1,1,1,1]],dz);if(dz[2]>0){dz[0]*=-1;dz[1]*=-1;dz[2]*=-1}fE.push(dz[0],dz[1],dz[2],0)}if(em=="BeIn"){e.ZT(hC,0,16777215);
cl=1}else if(em=="BeIt"&&aS.v.BtDc=="BeCt"){}else{var iD;if(em=="BeIt"&&aS.v.BtDc=="BeCm")iD=k[1];else if(em=="BeIa")iD=k[2][aS.v];
if(iD==null){e.ZT(hC,0,16777215)}else{var d;if(iD.rect.w6(O))d=iD.channel;else d=iD.Hz(O);e.lI(d,hC,3)}}if(cY)for(var I=0;
I<$;I+=4)hC[I+3]=255-hC[I+3];if(fj.Dx){var dy=hC,ef=Y,bd=U,iF=1,j1=(w.BkSb.v==0||w.BkSt.v==255)&&em=="BeIn";
if(!j1){var kv=0;for(var I=0;I<$;I+=4)kv+=Math.abs(cl-hC[I+3]*(1/255));kv=kv/W*cf;var cP=3.14*kv*kv*Y*U/3e6;
if(cP>2e3){alert("too large radius");return}}while(j1&&3*(cf/iF)*(cf/iF)*Y*U>500*2e3*2e3){var kc=e.a50(hC,new fA(0,0,ef,bd));
hC=kc.eD;ef=kc.rect.q;bd=kc.rect._;iF*=2}var dU=Date.now(),t=fj.nR(0,ef,bd);t.set(hC);var e4=fj.nR(1,Y,U);
fj.kU(e4);fj.filter.xS({type:fj.filter.a5a,w5:new Float32Array([1/ef,1/bd]),a98:cl,VU:cf/iF,aox:new Float32Array([w.BkSb.v/100,w.BkSt.v/255]),aGj:new Float32Array([w.BkNa.v/100,w.BkNt.v.BtNt=="BeNu"?0:1,w.BkNm.v?1:0]),as8:new Float32Array(fE.slice(0,16)),asf:new Float32Array(fE.slice(16))},t.wH);
e4.get(S.buffer);var cz=S.buffer;for(var I=0;I<$;I+=4)cz[I+3]=P.buffer[I+3]}}if(o=="blurbTransform"){e.Cm.apply(w,P,S)}if(o=="rigidTransform"){var dU=Date.now(),fU=cM.asG,t=P.buffer.slice(0),cw=0,e6=0;
e.i8(t);var Y=P.rect.q,U=P.rect._,cT=w.puppetShapeList.v,jW=[],iz=[],ii=[],hs=[];for(var c6=0;c6<cT.length;
c6++){var jt=cT[c6].v,D=cw*2,Z=e6*3,cR=jt.originalVertexArray.v.length>>>2,k4=jt.indexArray.v.length>>>2,aM=new Float32Array(fU(jt.originalVertexArray.v));
for(var I=0;I<cR;I++)jW[D+I]=aM[I];var aq=new Float32Array(fU(jt.deformedVertexArray.v));for(var I=0;
I<cR;I++)iz[D+I]=aq[I];var e$=new Uint32Array(fU(jt.indexArray.v));for(var I=0;I<k4;I++)ii[Z+I]=cw+e$[I];
var kP=[],bR=[],kE=jt.PnDp.v;for(var I=0;I<kE.length;I++){kP.push(jt.pinVertexIndices.v[I].v);bR.push(kE[I].v)}var iw=e.nd.avd(aM,e$,kP,bR);
for(var I=0;I<iw.length;I++)hs[cw+I]=iw[I];cw+=cR>>>1;e6+=~~(k4/3)}var k9=new ar(1,0,0,1,-P.rect.x,-P.rect.y);
e.a.h(jW,k9,jW);e.a.h(iz,k9,iz);S.buffer.fill(0);e.nd.Ps(t,Y,U,S.buffer,Y,U,jW,iz,hs,ii);e.m$(S.buffer)}if(o=="lightFilterGradient"){function iH(e7){var hH=1/Math.sqrt(e7[0]*e7[0]+e7[1]*e7[1]+e7[2]*e7[2]);
e7[0]*=hH;e7[1]*=hH;e7[2]*=hH}var Y=P.rect.q,U=P.rect._,W=Y*U,dU=Date.now(),gX=e.U(W),bf=.3,iu=.7;e.KN(S.buffer,gX);
var jz=e.U(W);e.uY.xf(gX,jz,S.rect,16);var e2=e.U(W);e.uY.xf(gX,e2,S.rect,8);var ho=gX,dB=new Float32Array(W),g4=w.Dtl.v,jv=g4[2].v,iI=g4[1].v,hz=g4[0].v,jb=w.Scl.v*40*w.textureScale.v/(jv+iI+hz);
jv*=jb;iI*=jb;hz*=jb;for(var I=0;I<W;I++){var ee=jz[I]*(1/255),fZ=e2[I]*(1/255),kC=ho[I]*(1/255);kC=kC*kC;
dB[I]=jv*ee+iI*fZ+hz*kC}var ko=w.blur.v;if(ko!=0){e.uY.P1(dB,S.rect,ko)}var hq=Y-1,hT=U-1;for(var a=0;
a<U;a++)for(var V=0;V<Y;V++){var I=a*Y+V,l=I*4,gV=dB[I],Q=bf*(dB[I+(V==hq?0:1)]-gV)+iu*(gV-dB[I-(V==0?0:1)]),m=bf*(dB[I+(a==hT?0:Y)]-gV)+iu*(gV-dB[I-(a==0?0:Y)]),e7=[1,0,Q],b2=[0,1,m];
iH(e7);iH(b2);var ka=e7[0],cg=e7[2],br=b2[1],iL=b2[2],hU=-cg*br,je=-ka*iL,gp=ka*br;S.buffer[l]=~~(127.5+hU*127.5);
S.buffer[l+1]=~~(127.5+je*127.5);S.buffer[l+2]=~~(127.5+gp*127.5)}}if(o=="defr"){var Y=P.rect.q,U=P.rect._;
b7(P.buffer,Y,U,S.buffer)}if(o=="dDFT"||o=="iDFT"){function fB(eK){if(eK==0)return 1;eK--;eK|=eK>>1;
eK|=eK>>2;eK|=eK>>4;eK|=eK>>8;eK|=eK>>16;return eK+1}var Y=P.rect.q,U=P.rect._,gL=fB(Math.max(Y,U)),dK=gL>>>1,kW=new fA(0,0,gL,gL),g8=new fA(0,0,Y,U);
g8.y=gL-U>>>1;var bE=Y>>>1,gr=new fA(0,g8.y,bE,U),bp=new e.fC(Y*U);e.X1(P.buffer,bp);var aw=new Float64Array(gL*gL),c2=new Float64Array(gL*gL),d=e.U(gL*gL);
FFT.init(gL);var bP=[bp.$,bp.H,bp.b];for(var I=0;I<3;I++){var bW=bP[I];d.fill(0);if(o=="dDFT"){e.d0(bW,g8,d,kW);
cM.a1C(d,gL,aw,c2);e.d0(d,kW,bW,g8,gr);gr.x+=bE;kW.x-=dK-bE;e.d0(d,kW,bW,g8,gr);gr.x-=bE;kW.x+=dK-bE}else{e.d0(bW,g8,d,kW,gr);
gr.x+=dK;g8.x+=dK-bE;e.d0(bW,g8,d,kW,gr);gr.x-=dK;g8.x-=dK-bE;cM.apE(d,gL,aw,c2);e.d0(d,kW,bW,g8)}}e.Vo(bp,S.buffer)}if(o=="Avrg"){var be=0,jd=0,gq=0,c7=0,dM=1;
for(var I=0;I<P.buffer.length;I+=4){var _=P.buffer[I+3];gq+=P.buffer[I]*_;jd+=P.buffer[I+1]*_;be+=P.buffer[I+2]*_;
c7+=_}var gY=1/c7;be=Math.round(dM*(be*gY)+(1-dM)*255);jd=Math.round(dM*(jd*gY)+(1-dM)*255);gq=Math.round(dM*(gq*gY)+(1-dM)*255);
e.ZT(S.buffer,be<<16|jd<<8|gq,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(o)!=-1){var jV=w.Rds?w.Rds.v.val:1,kK=o=="boxblur"?e.uY.pJ:e.uY.yX;
cM.JP(jV,kK,S.buffer,S.rect);if(o=="UnsM"||o=="smartSharpen"){var jJ=(w.Amnt?w.Amnt.v.val:200)/100,er=0;
if(o=="UnsM")er=w.Thsh.v;else jJ*=.75;for(var I=0;I<P.buffer.length;I++){if((I&3)==3){S.buffer[I]=P.buffer[I];
continue}var e3=P.buffer[I],ks=S.buffer[I],fq=jJ*(e3-ks);if(fq>0)fq=Math.max(0,fq-er);else fq=Math.min(0,fq+er);
S.buffer[I]=Math.max(0,Math.min(255,e3+fq))}}if(o=="HghP")for(var I=0;I<P.buffer.length;I++){if((I&3)==3){S.buffer[I]=P.buffer[I];
continue}var e3=P.buffer[I],ks=S.buffer[I];S.buffer[I]=Math.max(0,Math.min(255,128+e3-ks))}}if(o=="AdNs"){var b9=new Uint8ClampedArray(S.buffer.buffer),h5=255*w.Nose.v.val/100,eH;
if(w.Dstr.v.Dstr=="Gsn")eH=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else eH=function(){return Math.random()*2-1};for(var I=0;I<b9.length;I+=4){var dk=b9[I],bx=b9[I+1],jf=b9[I+2],i3,i_,go;
if(w.Mnch.v){i3=i_=go=eH()}else{i3=eH();i_=eH();go=eH()}dk+=h5*i3;bx+=h5*i_;jf+=h5*go;b9[I]=dk;b9[I+1]=bx;
b9[I+2]=jf}}var dU=Date.now();if(o=="Mdn "||o=="DstS"||o=="Mxm "||o=="Mnm "||o=="surfaceBlur"){var dk=0,il=w.Thsh,jt=0;
if(il)il=il.v;else il=0;if(o=="Mdn "||o=="Mxm "||o=="Mnm "||o=="surfaceBlur")dk=w.Rds.v.val;else dk=w.Rds.v;
var aB=10*Math.ceil(dk/10),Y=P.rect.q,U=P.rect._,cV=["Mnm ","Mxm ","surfaceBlur"].indexOf(o),dl=(jt==0?1:.75)*[.73,.73,1.2][cV]*(Y*U*Math.pow(aB*aB,1.05))/6022387,fP=.6*(Y*U*Math.pow(dk,1/2.6))/6500;
if(o=="Mxm "||o=="Mnm ")fP=Y*U/13e3;var ex=w.preserveShape;if(ex&&ex.v.preserveShape=="Rndn")jt=1;if(fj.Dx&&cV!=-1&&(dl<fP||jt==1)&&dl<500){var t=fj.nR(0,Y,U);
t.set(P.buffer);var i=fj.nR(1,Y,U);fj.kU(i);fj.filter.xS({type:fj.filter.aa_,w5:new Float32Array([1/Y,1/U]),VU:dk,ajl:il/255,J0:[jt,cV,aB]},t.wH);
i.get(S.buffer)}else if(o=="Mxm "||o=="Mnm "){var Y=P.rect.q,U=P.rect._;e.lm.aqQ(P.buffer,S.buffer,Y,U,1+Math.floor(w.Rds.v.val)*2,o=="Mxm ")}else{dk=Math.round(dk);
e.t6.L2=.5;e.t6.Po=il;var kK=o=="surfaceBlur"?1:0;e.t6.aq(P.buffer,S.buffer,Y,U,dk,kK);if(o=="DstS")for(var I=0;
I<Y*U*4;I++){var dw=Math.abs(P.buffer[I]-S.buffer[I]);if(dw<=il)S.buffer[I]=P.buffer[I]}}}if(o=="ClrH"){var gr=P.rect.clone(),hd=0;
gr.x=gr.y=0;var dk=w.Rds.v;dk=dk*Math.sqrt(2);var Y=gr.q,U=gr._,e5=e.Um(Y,U),jj=new Float32Array(256);
for(var I=0;I<256;I++){var gP=I/255,jV=Math.sqrt(gP*(1/Math.PI));if(jV>.5)jV=.5+Math.pow((jV-.5)/(.564-.5),1.35)*.2;
jj[I]=dk*jV}var al=Math.floor(2*Y/dk),an=Math.floor(2*U/dk),aV=10-(dk-54*Math.sqrt(2))*1.5,bv=[P.buffer,gr];
e.nJ(bv);while(bv[hd*2+1].q>1.5*Y/dk)hd++;var g$=bv[hd*2+1],eo=bv[hd*2],kG=e.U(g$.c()),iF=1/(1<<hd),ef=g$.q,bd=g$._,d=e.U(Y*U);
for(var fM=0;fM<3;fM++){e.JX(eo,kG,fM);e.Sd(kG);var f8=Math.PI*w["Ang"+(fM+1)].v/180,b0=new ar;b0.translate(-Y/2,-U/2);
b0.rotate(-f8);b0.translate(Y/2,U/2);e5.clearRect(0,0,Y,U);for(var a=-(an>>>2);a<an;a++)for(var V=-(al>>>2);
V<al;V++){var aZ=b0.Zc(new eD((V+.5)*dk-aV,(a+.5)*dk-aV)),jD=Math.max(0,Math.min(aZ.x*iF,ef-.51)),aD=Math.max(0,Math.min(aZ.y*iF,bd-.51)),W=~~e.W.cC(jD,aD,kG,ef,bd);
e5.beginPath();e5.arc(aZ.x,aZ.y,jj[W],0,2*Math.PI);e5.fill()}var gm=e5.getImageData(0,0,Y,U);e.JX(gm.data,d,3);
e.Sd(d);e.lI(d,S.buffer,fM)}}if(o=="Crst"||o=="Pntl"){var Y=P.rect.q,U=P.rect._,kK=o=="Crst"?e.Ly.a6C:e.Ly.adK;
kK(P.buffer,Y,U,S.buffer,w.ClSz.v,[Math.round(z.$),Math.round(z.H),Math.round(z.b)])}if(o=="Mztn"){var Y=P.rect.q,U=P.rect._,W=Y*U,bp=new e.fC(W),ia=[bp.$,bp.H,bp.b];
e.X1(P.buffer,bp);var kL=w.MztT.v.MztT,kq={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[kL],dU=Date.now(),cp=[];
for(var I=0;I<W;I++){cp[I]=Math.random()}var W=Y*U,hw=Math.round(W*kq[0]),ht=W-Y-1;for(var I=0;I<hw;
I++){var jq=Math.random(),c0=1;if(jq<.5){c0=Y;jq*=2}else jq=2*(jq-.5);var d$=Math.floor(jq*ht),jr=d$+c0;
cp[d$]=cp[jr]}var hD=Math.round(Y*kq[1]);for(var a=0;a<U;a++)for(var I=0;I<hD;I++){var jq=e.C.GI(a*W+I),d$=a*Y+Math.floor(jq*(Y-1));
cp[d$]=cp[d$+1]}var hN=new Float64Array(256);for(var I=0;I<256;I++){var hu=I/255,ik=2*(hu<.5?hu:1-hu);
ik=kq[2]+Math.pow(ik,kq[3])*(1-kq[2]);hu=hu<.5?ik*.5:1-ik*.5;hN[I]=hu}for(var hc=0;hc<3;hc++){var d=ia[hc];
for(var a=0;a<U;a++){for(var V=0;V<Y;V++){var I=a*Y+V,dH=d[I],hu=hN[dH],jq=cp[I];d[I]=jq>hu?0:255}}}e.Vo(bp,S.buffer)}if(o=="Msc "){var a7=w.ClSz.v.val,Y=P.rect.q,U=P.rect._,f_=Math.ceil(Y/a7),hL=Math.ceil(U/a7),aI=e.U(f_*hL*4);
e.scale.KM(P.buffer,Y,U,aI,f_,hL,1/a7);e.scale.KM(aI,f_,hL,S.buffer,Y,U,a7)}if(o=="Clds"||o=="DfrC"){var Y=S.rect.q,U=S.rect._,W=Y*U,gg=e.U(W);
if(o=="Clds")e.ZT(S.buffer,4278190080);var fv=e.U(256*4);for(var I=0;I<256;I++){var l=I<<2,bH=I/255,e$=1-bH;
fv[l]=Math.round(bH*x.$+e$*z.$);fv[l+1]=Math.round(bH*x.H+e$*z.H);fv[l+2]=Math.round(bH*x.b+e$*z.b)}e.p.aBE(P.buffer,Y,U,gg);
var cy=S.buffer;for(var I=0;I<W;I++){var l=I<<2,hc=gg[I]<<2,dk=fv[hc],bx=fv[hc+1],jf=fv[hc+2];if(o=="Clds"){cy[l]=dk;
cy[l+1]=bx;cy[l+2]=jf}else{cy[l]=Math.abs(cy[4*I]-dk);cy[l+1]=Math.abs(cy[4*I+1]-bx);cy[l+2]=Math.abs(cy[4*I+2]-jf)}}}if(o=="LnsF"){var Y=P.rect.q,U=P.rect._,kL=["Zm","Nkn","Nkn1","PnVs"].indexOf(w.Lns.v.Lns),ey=w.FlrC.v,jy=[Math.min(kL,2),w.Brgh.v/100,ey.Hrzn.v,ey.Vrtc.v],dU=Date.now();
e.agV(P.buffer,Y,U,S.buffer,jy)}var ir=["Blr ","BlrM","Shrp","ShrM"].indexOf(o);if(ir!=-1){var g5=ir>1,Y=P.rect.q,U=P.rect._,iq=e.qY.we[ir],bL=P.buffer.slice(0);
if(!g5)e.i8(bL);e.qY.jn(bL,S.buffer,Y,U,iq,255,!1,g5);if(!g5)e.m$(S.buffer)}if(o=="MtnB"){var iJ=-w.Angl.v*Math.PI/180,d3=w.Dstn.v.val/2,dU=Date.now(),Y=P.rect.q,U=P.rect._,O=P.rect.clone();
O.x=O.y=0;if(fj.Dx){var dU=Date.now(),kD=S.buffer;kD.set(P.buffer);e.i8(kD);var eM=fj.nR(0,Y,U);eM.set(kD);
var fS=e.U(4);fS[0]=Math.round(128+127*Math.cos(iJ));fS[1]=Math.round(128+127*Math.sin(iJ));new Uint32Array(kD.buffer).fill(new Uint32Array(fS.buffer)[0]);
var cZ=fj.nR(1,Y,U);cZ.set(kD);fj.kU(eM,O);eM.ty(O);fj.filter.xS({type:fj.filter.qd,qg:cZ.wH,w5:new Float32Array([1/Y,1/U]),ej:d3/2,K4:1},eM.dA);
eM.get(kD);e.m$(kD)}else{var k9=new ar;k9.rotate(iJ);var E=N.DH.x$([P.buffer,P.rect],k9,!1,null,!0);
cM.JP(d3,e.uY.ah3,E.buffer,E.rect);k9.Sd();E=N.DH.x$([E.buffer,E.rect],k9,!1,S.buffer.buffer,!0,S.rect)}console.log(Date.now()-dU)}if(o=="RdlB"){var Y=P.rect.q,U=P.rect._,jJ=w.Amnt.v,h2=w.BlrM.v.BlrM=="Zm",fM=w.Cntr.v,jB=fM.Hrzn.v,dT=fM.Vrtc.v,Q=Math.max(jB,1-jB)*Y,m=Math.max(dT,1-dT)*U,jV=Math.sqrt(Q*Q+m*m),kM=2*Math.PI*jV*1.5,hk=Math.round(kM),ai=Math.round(jV),gr=new fA(0,0,hk,ai),gt=e.U(hk*ai*4),eF=h2?4:1,aJ=h2?.6:8*((Y+U)/2)/1400,ew=.1,iF=1,al=1;
e.W.aAy(P.buffer,Y,U,gt,hk,ai,jB,dT,eF,ew,iF,al);var b$=h2?e.U(hk*ai*4):null;if(h2){e.W.VI(gt,b$,hk,ai);
var i8=b$;b$=gt;gt=i8;gr.q=ai;gr._=hk}cM.JP(aJ*jJ,e.uY.ah3,gt,gr);if(h2){e.W.VI(gt,b$,ai,hk);var i8=b$;
b$=gt;gt=i8;gr.q=hk;gr._=ai}e.W.a3z(gt,hk,ai,S.buffer,Y,U,jB,dT,eF,ew,iF,al)}if(o=="Plr "){var Y=P.rect.q,U=P.rect._;
if(w.Cnvr.v.Cnvr=="RctP")e.W.a3z(P.buffer,Y,U,S.buffer,Y,U,.5,.5,1,0,2,Y/U);else e.W.aAy(P.buffer,Y,U,S.buffer,Y,U,.5,.5,1,0,2,Y/U)}if(o=="FndE"){var Y=P.rect.q,U=P.rect._;
e.qY.azk(P.buffer,S.buffer,Y,U)}if(o=="oilPaint"){var f8=w.LghD.v*Math.PI/180,a0=[Math.cos(f8),Math.sin(f8),.001],hi=[w.stylization.v,w.cleanliness.v,w.brushScale.v,w.microBrush.v,w.lightingOn.v,w.specularity.v,a0],O=P.rect.clone();
O.x=O.y=0;e.yY.filter(P.buffer,O,S.buffer,hi)}if(o=="Ofst"){var Y=P.rect.q,U=P.rect._,cs=new Uint32Array(P.buffer.buffer),cv=new Uint32Array(S.buffer.buffer),gD=w.Hrzn.v,iV=w.Vrtc.v,jI=w.Fl.v.FlMd;
e.ZT(cv,0);if(jI=="Bckg"||jI=="Rpt"){var gr=P.rect.clone();gr.offset(gD,iV);e.sR(cs,gr,cv,S.rect)}if(jI=="Rpt"){var hj,hS,cW,cn,dx;
gD=Math.max(-Y,Math.min(Y,gD));iV=Math.max(-U,Math.min(U,iV));hj=gD>0?gD:0;cW=gD>0?Y:Y+gD;hS=iV>0?0:iV+U;
cn=iV>0?iV:U;dx=iV>0?0:Y*(U-1);for(var a=hS;a<cn;a++)for(var V=hj;V<cW;V++)cv[a*Y+V]=cs[dx+V-gD];hj=gD>0?0:Y+gD;
cW=gD>0?gD:Y;hS=iV>0?iV:0;cn=iV>0?U:U+iV;dx=gD>0?0:Y-1;for(var a=hS;a<cn;a++)for(var V=hj;V<cW;V++)cv[a*Y+V]=cs[dx+Y*(a-iV)];
if(gD>=0&&iV>=0){hj=0;cW=gD;hS=0;cn=iV;dx=0}if(gD>=0&&iV<0){hj=0;cW=gD;hS=U+iV;cn=U;dx=Y*(U-1)}if(gD<0&&iV>=0){hj=Y+gD;
cW=Y;hS=0;cn=iV;dx=Y-1}if(gD<0&&iV<0){hj=Y+gD;cW=Y;hS=U+iV;cn=U;dx=Y*U-1}for(var a=hS;a<cn;a++)for(var V=hj;
V<cW;V++)cv[a*Y+V]=cs[dx]}if(jI=="Wrp"){gD=(gD+100*Y)%Y;iV=(iV+100*U)%U;var gr=new fA(gD-Y,iV-U,Y,U);
e.sR(cs,gr,cv,S.rect);gr.offset(Y,0);e.sR(cs,gr,cv,S.rect);gr.offset(0,U);e.sR(cs,gr,cv,S.rect);gr.offset(-Y,0);
e.sR(cs,gr,cv,S.rect)}}if(o=="Rept"){var j0=w.Rsft.v.val/100,i6=w.SpcX.v.val/100;i6=Math.max(i6,-.99);
var kn=w.SpcY.v.val/100;kn=Math.max(kn,-.99);var iF=w.Scl.v.val/100,k9=new ar;k9.rotate(w.Angl.v*Math.PI/180);
k9.scale(iF,iF);var iM={buffer:P.buffer,rect:P.rect};e.fM(iM);if(iM.rect.Mw()){iM.buffer=P.buffer;iM.rect=P.rect}var cy=iM.buffer,gr=iM.rect,dj=e.rR(cy,gr,0),fm=new Uint32Array(cy.buffer)[0];
if(!dj.Mw()&&!dj.w6(gr)){var dN=e.U(dj.c()*4);e.sR(cy,gr,dN,dj);cy=dN;gr=dj}gr.x=gr.y=0;fm=i6==0&&kn==0&&!e.Y9(P.buffer)||w.SpcC.v?fm:0;
function ip(V){return V<0?Math.ceil(V):Math.floor(V)}var ji=k9.Zc(new eD(gr.q,0));ji.x=ip(ji.x);ji.y=ip(ji.y);
var bQ=k9.Zc(new eD(0,gr._));bQ.x=ip(bQ.x);bQ.y=ip(bQ.y);var E=N.DH.x$([cy,gr],k9,!1),g8=E.rect,iS=E.buffer,iG=Math.round(g8.x),aP=Math.round(g8.y),i1=Math.max(S.rect.q,S.rect._)/Math.min(gr.q*iF*(1+i6),gr._*iF*(1+kn));
i1=Math.ceil(i1*1.7);e.ZT(S.buffer,fm);for(var a=-i1;a<i1;a++){for(var V=-i1;V<i1;V++){var ea=(V+a*j0)*(1+i6),ax=a*(1+kn);
g8.x=iG+Math.round(ea*ji.x+ax*bQ.x);g8.y=aP+Math.round(ea*ji.y+ax*bQ.y);if(g8.EI(S.rect))e.C.Iv("norm",iS,g8,S.buffer,S.rect,g8,1)}}}if(o=="Ctoa"){var z=e.G.dQ(w.Clr.v),il=w.Trsp.v.val/100,dJ=w.Opct.v.val/100;
il=dJ==0?0:il/dJ;var Y=P.rect.q,U=P.rect._,b3=~~z.$,gR=~~z.H,fQ=~~z.b,dx=P.buffer,ak=S.buffer;for(var a=0;
a<U;a++)for(var V=0;V<Y;V++){var I=a*Y+V,l=I<<2,gr=dx[l],ez=dx[l+1],cy=dx[l+2],eU=Math.abs(b3-gr),kX=Math.abs(gR-ez),i9=Math.abs(fQ-cy),eX=Math.max(eU,kX,i9)*(1/255);
eX=Math.max(0,Math.min(1,eX/dJ));var d_=eX==0?0:1/eX,ap=il==1?1:Math.max(0,Math.min(1,(eX-il)/(1-il)));
ak[l]=Math.max(0,Math.min(255,(gr-b3*(1-eX))*d_));ak[l+1]=Math.max(0,Math.min(255,(ez-gR*(1-eX))*d_));
ak[l+2]=Math.max(0,Math.min(255,(cy-fQ*(1-eX))*d_));ak[l+3]=Math.min(ak[l+3],~~(.5+ap*255))}}if(o=="Dthr"){function ic(V){return~~(.5+255*e.LK(V/255))}var c6=w.Plte.v,dg;
if(c6==0)dg=[4278190080,4294967295];else{var ih=[[1,1,1],[2,2,2],[3,3,2]][c6-1],hJ=[1<<ih[0],1<<ih[1],1<<ih[2]],gS=[~~(255/(hJ[0]-1)),~~(255/(hJ[1]-1)),~~(255/(hJ[2]-1))];
dg=[];for(var dk=0;dk<hJ[0];dk++)for(var bx=0;bx<hJ[1];bx++)for(var jf=0;jf<hJ[2];jf++)dg.push(255<<24|ic(jf*gS[2])<<16|ic(bx*gS[1])<<8|ic(dk*gS[0]))}var Y=P.rect.q,U=P.rect._,W=Y*U,hB=W*4,eo=P.buffer.slice(0),b8=S.buffer;
for(var I=0;I<hB;I++)eo[I]=~~(.5+255*e.LK(eo[I]/255));var km=e.U(Y*U);UPNG.encode.dither(eo,Y,U,dg,b8,km,w.Mthd?w.Mthd.v:1);
for(var I=0;I<hB;I++)b8[I]=~~(.5+255*e.Yd(b8[I]/255))}if(o=="Part"){var bM=[w.RndS.v,w.Cont.v/100,w.Size.v,w.Dpth.v/100,w.Brgh.v/100,e.G.dQ(w.Clr.v),w.Time.v,w.Blnk.v,w.Fall.v,w.Turb.v/100];
e.g$.np(S.buffer,P.rect.q,P.rect._,bM)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(o)!=-1){var kr=k[0],Y=P.rect.q,U=P.rect._,hN,aW=0;
if(o=="LqFy")hN=iE.M3(new Uint8Array(w.LqMe.v).buffer);else{var iA=3;if(o=="Wave")iA=Math.min(3,w.WLMn.v);
hN={V:Math.floor(Y/iA),Y:Math.floor(U/iA)};hN.map=new Float32Array(hN.V*hN.Y*2);if(o=="LnCr"){var jB=.5*(hN.V-1),dT=.5*(hN.Y-1),f9=Math.max(Math.abs(0-jB),Math.abs(1-jB)),iZ=Math.max(Math.abs(0-dT),Math.abs(1-dT)),b0=Math.sqrt(f9*f9+iZ*iZ),i0=0,kR=0,fr=-1,h_=2,iF=w.LnSi.v/100,h2=1/iF,f3=w.LnIa.v/100,a2=f3==0?1e-6:f3*4.6,dP=h2/b0;
for(var a=0;a<hN.Y;a++){for(var V=0;V<hN.V;V++){var Q=(V-jB)*dP,m=(a-dT)*dP,dk=Math.sqrt(Q*Q+m*m)*a2,kz=Math.atan(dk),kx=f3>0?kz/dk:dk/kz,al=jB+b0*kx*Q,an=dT+b0*kx*m,I=a*hN.V+V<<1;
hN.map[I]=al-V;hN.map[I+1]=an-a}}}else if(o=="Kale"){var f_=hN.V,hL=hN.Y,fp=(f_-1)*.5,hT=(hL-1)*.5,dd=w.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,fg=w.Mirr.v,hQ=Math.PI*2/fg,av=.5*hQ;
for(var a=0;a<hL;a++)for(var V=0;V<f_;V++){var Q=V-fp,m=a-hT,gN=Math.sqrt(Q*Q+m*m),f8=Math.atan2(m,Q)+dd;
f8=f8%hQ;if(f8>av)f8=hQ-f8;var al=fp+Math.cos(f8-dd)*gN,an=hT+Math.sin(f8-dd)*gN,I=(a*f_+V)*2;hN.map[I]=al-V;
hN.map[I+1]=an-a}}else if(o=="Dspl"&&kr.length!=0){aW=w.UndA.v.UndA=="WrpA"?2:1;var ie=w.DspF.v.pth,kb,j3=w.DspD,fI,dL,bu;
if(j3){var be=j3.v;dL=be[1]*256+be[0];fI=be[5]*256+be[4];bu=new Uint8Array(be.slice(10,10+fI*dL))}else{for(var I=0;
I<kr.length;I++)if(kr[I].QQ==ie)kb=kr[I];if(kb==null)kb=kr[0];kb.Ey();var eU=kb.iT[1],bu=e.U(eU.c());
e.KN(kb.iT[0],bu);fI=eU.q;dL=eU._}hN={V:fI,Y:dL};hN.map=new Float32Array(hN.V*hN.Y*2);var jc=2.54*w.HrzS.v*fI/Y,aY=2.54*w.VrtS.v*dL/U;
for(var a=0;a<hN.Y;a++){for(var V=0;V<hN.V;V++){var dw=-.5+bu[a*fI+V]*(1/255),I=a*hN.V+V<<1;hN.map[I]=dw*jc;
hN.map[I+1]=dw*aY}}}else if(o=="Pnch"||o=="Twrl"||o=="Sphr"||o=="ZgZg"){var jJ=1,iJ=Math.PI,gA=0,eI=1,ah=0,fM=3,a7=1.53,kx=1;
if(o=="Pnch"||o=="Sphr"||o=="ZgZg")jJ=w.Amnt.v/100;if(o=="ZgZg"){eI=w.NmbR.v;ah=["ArnC","OtFr","PndR"].indexOf(w.ZZTy.v.ZZTy)}if(o=="Twrl")iJ=w.Angl.v*Math.PI/180;
if(o=="Sphr")gA=["Nrml","HrzO","VrtO"].indexOf(w.SphM.v.SphM);function kK(V){V=Math.pow(V,1-V*.3-V*V*(V*V)*.5);
return-.225*Math.sin(V*Math.PI)}function bw(U,hH,dk,hj,hS,cW,cn,kx){var Q=cW-hj,m=cn-hS,fG=hj-U,bm=hS-hH,bH=Q*Q+m*m,jf=2*(Q*fG+m*bm),fM=fG*fG+bm*bm-dk*dk,gF=Math.sqrt(jf*jf-4*bH*fM),hf=kx/(2*bH),aL=(-jf+gF)*hf,e1=(-jf-gF)*hf;
return kx*Math.min(aL,e1)}var f_=hN.V,hL=hN.Y,fp=hN.V/2,hT=hN.Y/2,iT=1/fp,dk=Math.sqrt(fM*fM+1)/fM,bW=fM+Math.sqrt(1/(fM*fM));
if(jJ<0){fM=1.72;dk=1;bW=fM;a7=-1;kx=-1}for(var a=0;a<hL;a++){var m=(a-hT)/hT;for(var V=0;V<f_;V++){var Q=(V-fp)*iT;
if(gA==1)m=0;else if(gA==2)Q=0;var cc=Math.sqrt(Q*Q+m*m);if(cc<1&&cc!=0){var I=a*hN.V+V<<1;if(o=="Pnch"){var hM=-jJ*kK(cc)/cc;
hN.map[I]=Q*hM*fp;hN.map[I+1]=m*hM*hT}else if(o=="Sphr"){var i8=bw(0,bW,dk,0,0,cc,fM,kx),aV=a7*jJ*(i8-1);
hN.map[I]=Q*aV*fp;hN.map[I+1]=m*aV*hT}else if(o=="Twrl"){var f8=Math.atan2(m,Q)-iJ*(1-cc)*(1-cc),gE=Math.cos(f8),ek=Math.sin(f8);
hN.map[I]=(cc*gE-Q)*fp;hN.map[I+1]=(cc*ek-m)*hT}else if(o=="ZgZg"){var gE=0,ek=0,fT=jJ*(.5-.5*Math.cos(cc*eI*2*Math.PI))*(1-cc);
if(ah==0){var f8=Math.atan2(m,Q)-3.5*fT;gE=cc*Math.cos(f8);ek=cc*Math.sin(f8)}if(ah==1){fT=100/Y*fT/cc;
gE=(1-fT)*Q;ek=(1-fT)*m}if(ah==2){var s=512/Y*fT*Math.PI/4;gE=s+Q;ek=s+m}hN.map[I]=(gE-Q)*fp;hN.map[I+1]=(ek-m)*hT}}}}}else if(o=="Shr "){var hR=JSON.parse(JSON.stringify(w.ShrP.v));
e.Kh.h(hR,new ar(0,255/127,255/127,0,-2,0));var bU=e.Kh.NX(hR,hN.Y,!0);aW=w.UndA.v.UndA=="WrpA"?2:1;
for(var a=0;a<hN.Y;a++){var Q=-bU[a]*hN.V;for(var V=0;V<hN.V;V++){var I=a*hN.V+V<<1;hN.map[I]=Q}}}else if(o=="Wave"){var j_=w.NmbG.v,hh=w.WLMn.v,dq=w.WLMx.v,jN=w.AmMn.v*(Math.PI/4),eT=w.AmMx.v*(Math.PI/4),eC=w.SclH.v/100,cj=w.SclV.v/100,kL=w.Wvtp.v.Wvtp,fT=Math.sin;
if(kL=="WvTr")fT=function(V){V*=2/Math.PI;return-.5+Math.abs(V%2-1)};if(kL=="WvSq")fT=function(V){V*=2/Math.PI;
return 1+2*Math.floor(V%2-1)};var jx=[],aQ=new e.C.hh(w.RndS.v);for(var I=0;I<j_;I++){jx.push(aQ.get()*10);
jx.push(Math.PI*iA/(hh+aQ.get()*(dq-hh)));jx.push(eC*(jN+aQ.get()*(eT-jN))/iA);jx.push(aQ.get()*10);
jx.push(Math.PI*iA/(hh+aQ.get()*(dq-hh)));jx.push(cj*(jN+aQ.get()*(eT-jN))/iA)}var de=[],eh=[],jo=Math.max(hN.V,hN.Y);
for(var I=0;I<jo;I++){var Q=0,m=0;for(var cx=0;cx<j_;cx++){var k5=cx*6;Q+=jx[k5+2]*fT(jx[k5]+I*jx[k5+1]);
m+=jx[k5+5]*fT(jx[k5+3]+I*jx[k5+4])}de[I]=m;eh[I]=Q}for(var a=0;a<hN.Y;a++){for(var V=0;V<hN.V;V++){var I=a*hN.V+V<<1;
hN.map[I]=eh[a];hN.map[I+1]=de[V]}}aW=w.UndA.v.UndA=="WrpA"?2:1}else if(o=="Rple"){aW=1;var jJ=w.Amnt.v/100,ig=4,ej=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],kk=1,et=1,fG=0,kB=["Sml","Mdm","Lrg"].indexOf(w.RplS.v.RplS);
if(kB==0){kk=1;et=.2;fG=3}if(kB==2){kk=1;et=2;fG=-1;ej=ej.reverse()}var aa=function(V,a){var fM=Math.cos,jb=0;
for(var I=0;I<ig;I++)for(var cx=0;cx<ig;cx++)jb+=ej[I*ig+cx]*fM(V*(I+fG)-a*(cx+fG));return jb},bj=Math.floor(50/iA),g3=new Float32Array(bj*bj*2),bg=et*jJ*.5/iA;
for(var a=0;a<bj;a++)for(var V=0;V<bj;V++){var jB=kk*V*2*Math.PI/bj,dT=kk*a*2*Math.PI/bj,eG=aa(jB,dT),Q=(aa(jB+.01,dT)-eG)*100,m=(aa(jB,dT+.01)-eG)*100,I=(a*bj+V)*2;
g3[I]=Q*bg;g3[I+1]=m*bg}for(var a=0;a<hN.Y;a++)for(var V=0;V<hN.V;V++){var ek=a%bj,gE=V%bj,I=a*hN.V+V<<1,kH=ek*bj+gE<<1;
hN.map[I]=g3[kH];hN.map[I+1]=g3[kH+1]}}}e.zo.EV(P.buffer,S.buffer,Y,U,null,hN.map,hN.V,hN.Y,aW)}return S};
var cF={};cF.aD6="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");cF.Sm="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
cF.eB=["ScrC","ScrD","ScrL"];cF.Y7=["SDRD","SDHz","SDLD","SDVt"];cF.NE="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
cF.Gj="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");cF.VP="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
cF.Gs=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];cF.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
cF.bS=function(o){var P;if(o=="ClrP")P={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(o=="Ct")P={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(o=="DryB")P={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(o=="FlmG")P={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(o=="Frsc")P={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(o=="NGlw")P={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(o=="PntD")P={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(o=="PltK")P={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(o=="PlsW")P={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(o=="PstE")P={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(o=="RghP")P={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(o=="SmdS")P={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(o=="Spng")P={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(o=="Undr")P={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(o=="Wtrc")P={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(o=="AccE")P={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(o=="AngS")P={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(o=="Crsh")P={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(o=="DrkS")P={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(o=="InkO")P={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(o=="Smie")P={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(o=="Spt")P={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(o=="SprS")P={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(o=="DfsG")P={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(o=="Gls")P={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(o=="OcnR")P={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(o=="BsRl")P={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(o=="ChlC")P={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(o=="Chrc")P={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(o=="Chrm")P={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(o=="CntC")P={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(o=="GraP")P={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(o=="HlfS")P={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(o=="NtPr")P={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(o=="Phtc")P={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(o=="Plst")P={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(o=="Rtcl")P={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(o=="Stmp")P={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(o=="TrnE")P={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(o=="WtrP")P={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(o=="GlwE")P={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(o=="Crql")P={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(o=="Grn")P={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(o=="MscT")P={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(o=="Ptch")P={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(o=="StnG")P={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(o=="Txtz")P={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
P.__name="Filter Gallery";P.classID="GEfc";P.GEfk={t:"enum",v:{GEft:o}};P.GELv={t:"bool",v:!0};return P};
cF.xq=function(o,P){for(var I=0;I<P.length;I++)~~(P[I]=(o[4*I]+o[4*I+1]+o[4*I+2])*(1/3))};cF.adS=function(o,P,w,x,z,S){var k=UPNG.quantize(o,P);
k={Yg:k.inds,Yf:k.plte};if(S){var f=new Uint32Array(k.Yf.length);for(var I=0;I<f.length;I++)f[I]=k.Yf[I].est.rgba;
k.Yg=e.anc(new Uint8Array(o),w,x,new Uint8Array(f.buffer))}var C=Math.floor((w+x)*.015);if(C!=0&&z)e.mZ.a3T(k.Yg,w,x,C);
return k};cF.wM=function(o,P,w,x,z,S,k){o=w.GEfk.v.GEft;var f=P.rect,C=f.q,H=f._,b=C*H,i=w.FlRs?w.FlRs.v>>>1:0;
function M(y){return y.$<<24|y.H<<16|y.b<<8|255}if(o=="ClrP")e.p.a17(P.buffer,C,H,S.buffer,[w.Pncl.v,w.StrP.v,w.PprB.v]);
if(o=="Ct"){var T=w.NmbL.v,O=w.EdgS.v,Y=cF.adS(P.buffer.buffer,T*2,C,H,!0);for(var I=0;I<Y.Yg.length;
I++)Y.Yg[I]++;var U=new Uint8Array((C+2)*(H+2));e.d0(Y.Yg,new fA(1,1,C,H),U,new fA(0,0,C+2,H+2));var W=e.a.hz(U,C+2,H+2,O,!1),t=new ar(1,0,0,1,-1,-1);
for(var I=0;I<W.length;I++)e.a.h(W[I].path.i,t,W[I].path.i);var _=[],n=Y.Yf;for(var I=0;I<n.length;I++){var y=n[I].est.q;
_.push({$:Math.round(255*y[0]),H:Math.round(255*y[1]),b:Math.round(255*y[2]),F:Math.round(255*y[3])})}var F=e.Um(C,H);
for(var I=0;I<W.length;I++){var a=W[I],y=_[a.color-1];if(y.F==0)continue;F.fillStyle="rgba("+y.$+","+y.H+","+y.b+","+y.F/255+")";
F.beginPath();Typr.U.pathToContext({crds:a.path.i,cmds:a.path.LG},F);F.fill()}if(!f.Mw()){var V=F.getImageData(0,0,C,H);
e.L9(V.data,S.buffer)}}if(o=="DryB")e.p.a8$(P.buffer,C,H,S.buffer,[w.BrsS.v,w.BrsD.v,w.Txtr.v]);if(o=="FlmG")e.p.aFM(P.buffer,C,H,S.buffer,[w.Grn.v,w.HghA.v,w.Intn.v,i]);
if(o=="Frsc")e.p.ahI(P.buffer,C,H,S.buffer,[w.BrsS.v,w.BrsD.v,w.Txtr.v]);if(o=="NGlw")e.p.aDO(P.buffer,C,H,S.buffer,[w.Sz.v,w.Brgh.v,M(e.G.dQ(w.Clr.v)),M(x),M(z)]);
if(o=="PltK")e.p.aAZ(P.buffer,C,H,S.buffer,[w.StrS.v,w.StDt.v,w.Sftn.v]);if(o=="PstE")e.p.ajc(P.buffer,C,H,S.buffer,[w.EdgT.v,w.EdgI.v,w.Pstr.v]);
if(o=="RghP")e.p.atE(P.buffer,C,H,S.buffer,[w.StrL.v,w.StDt.v,cF.NE.indexOf(w.TxtT.v.TxtT),w.Scln.v,w.Rlf.v,cF.Sm.indexOf(w.LghD.v.LghD),w.InvT.v]);
if(o=="SmdS")e.p.acD(P.buffer,C,H,S.buffer,[w.StrL.v,w.HghA.v,w.Intn.v,w.FlRs?w.FlRs.v:0,i]);if(o=="Spng")e.p.ai6(P.buffer,C,H,S.buffer,[w.BrsS.v,w.Dfnt.v,w.Smth.v,w.FlRs?w.FlRs.v:0,i]);
if(o=="Undr")e.p.ah6(P.buffer,C,H,S.buffer,[w.BrsS.v,w.TxtC.v,cF.NE.indexOf(w.TxtT.v.TxtT),w.Scln.v,w.Rlf.v,cF.Sm.indexOf(w.LghD.v.LghD),w.InvT.v]);
if(o=="Wtrc")e.p.adu(P.buffer,C,H,S.buffer,[w.BrsD.v,w.ShdI.v,w.Txtr.v]);if(o=="AccE")e.p.aDK(P.buffer,C,H,S.buffer,[w.EdgW.v,w.EdgB.v,w.Smth.v]);
if(o=="AngS")e.p.aaF(P.buffer,C,H,S.buffer,[w.DrcB.v,w.StrL.v,w.Shrp.v]);if(o=="Crsh")e.p.aHl(P.buffer,C,H,S.buffer,[w.StrL.v,w.Shrp.v,w.Strg.v]);
if(o=="DrkS")e.p.ata(P.buffer,C,H,S.buffer,[w.Blnc.v,w.BlcI.v,w.WhtI.v]);if(o=="InkO")e.p.a26(P.buffer,C,H,S.buffer,[w.StrL.v,w.DrkI.v,w.LghI.v]);
if(o=="Smie")e.p.anJ(P.buffer,C,H,S.buffer,[w.StrW.v,w.StrP.v,w.Cntr.v]);if(o=="DfsG")e.p.axv(P.buffer,C,H,S.buffer,[w.Grns.v,w.GlwA.v,w.ClrA.v,M(z),i]);
if(o=="CntC")e.p.aAs(P.buffer,C,H,S.buffer,[w.FrgL.v,w.BckL.v,cF.NE.indexOf(w.TxtT.v.TxtT),w.Scln.v,w.Rlf.v,cF.Sm.indexOf(w.LghD.v.LghD),w.InvT.v,M(z),M(x)]);
if(o=="ChlC")e.p.aay(P.buffer,C,H,S.buffer,[w.ChrA.v,w.ChlA.v,w.StrP.v,i,M(z),M(x)]);var D=o=="GraP"||o=="Chrc"||o=="Plst"||o=="Rtcl"||o=="Stmp"||o=="TrnE";
if(D){var l=e.U(C*H);if(o=="GraP")e.p.apr(P.buffer,C,H,S.buffer,[w.StrL.v,w.LgDr.v,cF.Y7.indexOf(w.SDir.v.StrD),i]);
if(o=="Chrc")e.p.asX(P.buffer,C,H,S.buffer,[w.ChAm.v,w.Dtl.v,w.LgDr.v]);if(o=="Plst")e.p.a0O(P.buffer,C,H,S.buffer,[w.ImgB.v,cF.Gj.indexOf(w.LghP.v.LghP),w.Smth.v]);
if(o=="Rtcl")e.p.aik(P.buffer,C,H,S.buffer,[w.Dnst.v,w.BlcL.v,w.WhtL.v,i]);if(o=="Stmp")e.p.a7U(P.buffer,C,H,S.buffer,[w.LgDr.v,w.Smth.v]);
if(o=="TrnE")e.p.aac(P.buffer,C,H,S.buffer,[w.ImgB.v,w.Smth.v,w.Cntr.v,i]);e.JX(S.buffer,l,0);cF.gY(l,S.buffer,x,z)}if(o=="NtPr")e.p.a6f(P.buffer,C,H,S.buffer,[w.ImgB.v,w.Grns.v,w.Rlf.v,M(x),M(z),i]);
if(o=="WtrP")e.p.alv(P.buffer,C,H,S.buffer,[w.FbrL.v,w.Brgh.v,w.Cntr.v,i>>>1]);if(o=="Crql")e.p.aBg(P.buffer,C,H,S.buffer,[w.CrcS.v,w.CrcD.v,w.CrcB.v,i]);
if(o=="Grn")e.p.a9U(P.buffer,C,H,S.buffer,[w.Intn.v,cF.VP.indexOf(w.Grnt.v.Grnt),w.Cntr.v,M(x),M(z),i]);
if(o=="MscT")e.p.a5M(P.buffer,C,H,S.buffer,[w.TlSz.v,w.GrtW.v,w.LghG.v,i]);if(o=="Ptch")e.p.a4g(P.buffer,C,H,S.buffer,[w.SqrS.v,w.Rlf.v,i]);
if(o=="Phtc"){function Q(hR,a7,f,f8){e.uY.K6(hR,a7,f,f8);for(var I=0;I<b;I++)a7[I]=Math.max(0,Math.min(255,128+hR[I]-a7[I]))}var m=w.Dtl.v,R=w.Drkn.v,$=e.U(b);
e.KN(P.buffer,$);var p=e.U(b);Q($,p,f,1);if(m==1){m=2;R=Math.round(R/4)}var c=e.U(b);Q($,c,f,m);for(var I=0;
I<b;I++)$[I]=Math.max(0,Math.min(255,255-(p[I]-c[I])*R));cF.gY($,S.buffer,x,z)}if(o=="Spt"||o=="SprS"){var B,Z=1,v=1;
B={V:Math.floor(C/v),Y:Math.floor(H/v)};B.map=new Float32Array(B.V*B.Y*2);var E=new e.C.hh(i),g=new Float32Array(8192),u=w.SprR.v,j=u<20?.018*u:.36+(u-20)*.128;
if(o=="SprS"){j=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][u]}for(var I=0;
I<8192;I++)g[I]=(-1+2*E.get())*j*70;for(var K=0;K<H;K++)for(var s=0;s<C;s++){var r=K*C+s<<1;B.map[r]=g[r%7919];
B.map[r+1]=g[(r+1)%7919]}var h=B.map.slice(0),jC=o=="Spt"?w.Smth.v-1:1;if(o=="Spt"&&jC!=0){cF.aEs(B.map,h,C,H,jC);
cF.aed(h,B.map,C,H,jC)}if(o=="SprS"){var d=w.StrL.v>>>1,q=d==0?2:1;cF.aEs(B.map,h,C,H,q);cF.aed(h,B.map,C,H,q);
if(d!=0){var hc=cF.Y7.indexOf(w.SDir.v.StrD),dk=[1,1,1,0][hc],c6=[-1,0,1,1][hc],e3=2*d+1,ks=1/e3;for(var K=0;
K<H;K++)for(var s=0;s<C;s++){var r=K*C+s<<1,cH=0,bI=0;for(var I=0;I<e3;I++){var aR=Math.max(0,Math.min(C-1,s-(d+I)*dk)),ak=Math.max(0,Math.min(H-1,K-(d+I)*c6)),cN=ak*C+aR<<1;
cH+=B.map[cN];bI+=B.map[cN+1]}h[r]=cH*ks;h[r+1]=bI*ks}B.map=h}}e.zo.EV(P.buffer,S.buffer,C,H,null,B.map,B.V,B.Y,Z)}if(o=="BsRl"||o=="PlsW"||o=="Chrm"){var gC=Date.now(),bD=e.U(b),cu=bD.slice(0);
e.KN(P.buffer,bD);var m=w.Dtl.v,du=w.Smth.v;if(m!=15){e.uY.xf(bD,cu,f,Math.round((15-m)*.5));e.L9(cu,bD)}var bq=1.4/C,hn=1.4/H,aK=new Float32Array(b),cQ=new Float32Array(b),jR=new Float32Array(S.buffer.buffer);
for(var K=0;K<H;K++)for(var s=0;s<C;s++){var I=K*C+s,dk=s==C-1?bD[I]-bD[I-1]:bD[I+1]-bD[I],c6=K==H-1?bD[I]-bD[I-C]:bD[I+C]-bD[I],ch=s*bq-.7,bx=K*hn-.7;
aK[I]=dk==0?ch:dk*.4;cQ[I]=c6==0?bx:c6*.4}if(o=="BsRl"){var jf=(2+cF.Sm.indexOf(w.LghD.v.LghD))*Math.PI*.25,cH=Math.cos(jf);
if(Math.abs(cH)<.1)cH=0;cH=Math.sign(cH);var bI=Math.sin(jf);if(Math.abs(bI)<.1)bI=0;bI=Math.sign(bI);
var dW=1/(cH*cH+bI*bI);for(var K=0;K<H;K++)for(var s=0;s<C;s++){var I=K*C+s,bf=Math.max(-1,Math.min(1,cH*aK[I])),iu=Math.max(-1,Math.min(1,bI*cQ[I]));
cu[I]=128+127*(bf+iu)*dW}if(du!=1){e.uY.xf(cu,bD,f,Math.round((du-1)*.5));e.L9(bD,cu)}cF.gY(cu,S.buffer,x,z)}else{if(o=="Chrm")du=5+du;
if(du>1)cF.JP(aK,cQ,jR,f,du-1);if(o=="PlsW"){var dV=new Uint8Array(aK.buffer);for(var I=0;I<b;I++){var gb=I<<2,dk=aK[I],c6=cQ[I],gP=1/(Math.sqrt(1+dk*dk)*Math.sqrt(1+c6*c6)),eJ=gP*gP,c1=eJ*eJ,y=~~(255*(c1*c1*eJ));
dV[gb+0]=y;dV[gb+1]=y;dV[gb+2]=y;dV[gb+3]=y}S.buffer.set(P.buffer);e.C.Iv("norm",dV,f,S.buffer,f,f,w.HghS.v/20)}else if(o=="Chrm"){var ku=S.buffer,aC=C>>>1,gU=H>>>1;
for(var I=0;I<b;I++){var gb=I<<2,dk=aK[I],c6=cQ[I],hR={x:1,y:0,af:dk};iO.ha(hR);var a7={x:0,y:1,af:c6};
iO.ha(a7);var dh=iO.arm(hR,a7),eS=1/dh.af,d0=~~Math.max(0,Math.min(C-1,aC-dh.x*eS*aC)),cJ=~~Math.max(0,Math.min(H-1,gU-dh.y*eS*gU)),y=bD[cJ*C+d0];
ku[gb+0]=y;ku[gb+1]=y;ku[gb+2]=y}}}}if(o=="Gls"||o=="OcnR"||o=="Txtz"){var aO=o=="OcnR"?2:cF.NE.indexOf(w.TxtT.v.TxtT),a9=cF.qa(aO),ac=a9[0],bD=a9[1],e7=ac.q,b2=ac._,e3=24,bo=0,fV,ck;
function jQ(dz,iD,dy){return~~(g9*(dz+iD)+8192)&127}var aK=new Float32Array(b),cQ=new Float32Array(b),jR=new Float32Array(S.buffer.buffer),g9=o=="OcnR"?1/(1+(w.RplS.v-1)*.1):100/w.Scln.v;
if(aO==3)g9*=32/22.2;var gC=Date.now(),cx=g9,bq=1.4/C,hn=1.4/H;if(o=="Txtz"){cx*=1/255;e3=256}for(var K=0;
K<H;K++){var i8=jQ(K,f.y,b2),ak=i8+1&127;for(var s=0;s<C;s++){var I=K*C+s,fw=jQ(s,f.x,e7),aR=fw+1&127,hi=0,dU=0,dv=0;
if(o=="Txtz"){hi=e.W.cC(g9*s,g9*K,bD,128,128);dU=e.W.cC(g9*s,g9*K+1,bD,128,128);dv=e.W.cC(g9*s+1,g9*K,bD,128,128)}else{hi=bD[i8*e7+fw];
dU=bD[ak*e7+fw];dv=bD[i8*e7+aR]}aK[I]=Math.max(-e3,Math.min((dv-hi)*cx,e3));cQ[I]=Math.max(-e3,Math.min((dU-hi)*cx,e3))}}if(o=="Txtz")cF.aur(aK,cQ,jR,f,6);
else cF.JP(aK,cQ,jR,f,o=="Txtz"?1:o=="OcnR"?3.5/g9:w.Smth.v);if(o=="Txtz")bo=w.InvT.v?-1:1;else if(o=="Gls"){bo=[1,.4,.5,.5,.5,.5,.5][aO]*(Math.exp(w.Dstr.v*.155)-1);
if(w.InvT.v)bo=-bo}else{bo=.5*(Math.exp(w.RplM.v*.155)-1)}var ku=S.buffer;if(o=="Txtz"){var jf=(2+cF.Sm.indexOf(w.LghD.v.LghD))*Math.PI*.25,cH=Math.cos(jf),bI=Math.sin(jf);
fV={x:cH,y:bI,af:0};iO.ha(fV);ck=w.Rlf.v;ck=ck/4+Math.max(0,(ck-35)*2)}function h8(hR,a7,iS){var ib=e.C.overF(a7,hR,1),dz=(1-iS)*hR+iS*(iS*a7+(1-iS)*ib);
return dz*255}for(var K=0;K<H;K++)for(var s=0;s<C;s++){var I=K*C+s,gb=I<<2,dk=aK[I],c6=cQ[I],hR={x:1,y:0,af:dk};
iO.ha(hR);var a7={x:0,y:1,af:c6};iO.ha(a7);var dh=iO.arm(hR,a7);if(o=="Txtz"){var fS=iO.a3n(dh,fV)*bo,iS=1,y=1;
if(fS<0){y=0;fS=-fS}iS=Math.min(1,fS*ck);ku[gb+0]=~~h8(P.buffer[gb]*(1/255),y,iS);ku[gb+1]=~~h8(P.buffer[gb+1]*(1/255),y,iS);
ku[gb+2]=~~h8(P.buffer[gb+2]*(1/255),y,iS)}else{var eS=bo/dh.af,d0=~~Math.max(0,Math.min(C-1,s-dh.x*eS)),cJ=~~Math.max(0,Math.min(H-1,K-dh.y*eS)),fh=cJ*C+d0<<2;
ku[gb+0]=P.buffer[fh];ku[gb+1]=P.buffer[fh+1];ku[gb+2]=P.buffer[fh+2]}}}if(o=="PntD"){var h9=w.Shrp.v*.4,gi=w.BrsT.v.BrsT,dX={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gi],f8=Math.round(w.Sz.v*.5);
e.t6.L2=dX[0];e.t6.aq(P.buffer,S.buffer,C,H,f8,0,[]);var kS=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];kS=e.qY.na(kS);
var jJ=S.buffer.slice(0);e.qY.jn(jJ,S.buffer,C,H,kS,0);for(var I=0;I<P.buffer.length;I++){var gj=S.buffer[I]-jJ[I];
S.buffer[I]=Math.max(0,Math.min(255,jJ[I]+h9*gj))}}if(o=="GlwE"){var k8=S.buffer.slice(0);e.t6.L2=.5;
e.t6.aq(P.buffer,k8,C,H,w.Smth.v>>>1,0,[]);e.qY.azk(k8,S.buffer,C,H);e.L9(S.buffer,k8);e.Sd(k8);e.ZT(k8,4278190080,16777215);
e.lm.aqQ(k8,S.buffer,C,H,(w.EdgW.v>>>1)*2+1,!0);var g$=w.EdgB.v/10;for(var I=0;I<k8.length;I++){if((I&3)==3)continue;
var ib=S.buffer[I];S.buffer[I]=Math.max(0,Math.min(255,ib*g$))}}if(o=="StnG"){e.Ly.a9J(P.buffer,C,H,S.buffer,w.ClSz.v,[Math.round(x.$),Math.round(x.H),Math.round(x.b)],w.BrdT.v)}if(o=="HlfS"){var eo=w.HlSz.v,iP=eo*2+1,d6=w.Cntr.v,fc=cF.eB.indexOf(w.ScrT.v.ScrT),b=C*H,kL=b*4,hC=e.U(b),em=P.buffer,hb=0,fE=0;
cF.xq(em,hC);var aS=hC.slice(0);e.uY.a18(aS,hC,f,eo);var cY=Math.PI/iP,cl=new Float64Array(C),cH=new Float64Array(C),cf=new Float64Array(2*C);
for(var s=0;s<C;s++){var fw=(s-(C>>>1))*cY;cl[s]=fw*fw;cH[s]=Math.cos(fw);var dk=s<<1;cf[dk]=Math.sin(dk*(1/4.5));
cf[dk+1]=Math.sin((dk+1)*(1/4.5))}for(var K=0;K<H;K++){var i8=(K-(H>>>1))*cY,bI=Math.cos(i8),cK=i8*i8;
for(var s=0;s<C;s++){var y=bI;if(fc==0){var ka=.5+Math.sqrt(cl[s]+cK)*4.5;y=cf[~~ka]}else if(fc==1){y=cH[s]*bI}var I=K*C+s,hj=hC[I]*(.75+.25*y),iS=em[(I<<2)+3]*(1/255),hS=Math.max(0,Math.min(255,~~hj));
hb+=hS*iS,fE+=iS;hC[I]=hS}}hb/=fE;var cW=128+1.26*(hb-128),g$=.08+.25*Math.abs((128-hb)/128),cn=1+g$*d6;
for(var I=0;I<b;I++){var hj=cW+(hC[I]-cW)*cn;hC[I]=Math.max(0,Math.min(255,~~hj))}if(d6>46)e.round(hC);
cF.gY(hC,S.buffer,x,z)}for(var I=0;I<P.buffer.length;I+=4)S.buffer[I+3]=P.buffer[I+3]};cF.gY=function(o,P,w,x){var z=o.length,S=w.$,k=w.H,f=w.b,C=x.$,H=x.H,b=x.b;
for(var I=0;I<z;I++){var i=o[I]*(1/255),M=1-i,T=I<<2;P[T]=~~(S*M+C*i);P[T+1]=~~(k*M+H*i);P[T+2]=~~(f*M+b*i)}};
cF.qa=function(o){if(o==6)o=2;var P="blocks canvas frosted tinylens brick burlap".split(" ")[o];if(cF.UK==null)cF.UK=[];
if(cF.UK[o]==null){var w,x;if(o==2){x=new fA(0,0,128,128);var z=cM.bS("AdNs");z.Mnch.v=!0;z.Dstr.v.Dstr="Gsn";
z.Nose.v.val=50;var w=e.U(x.c()*4),S=w.slice(0);new Uint32Array(S.buffer).fill(4286611584);cM.wM("AdNs",{buffer:S,rect:x},z,0,0,{buffer:w,rect:x})}else{var k=eu.hP.get("tex/"+P,!0)[0];
x=k.pv;w=new Uint8Array(k.data)}var f=e.U(x.c());e.JX(w,f,0);cF.UK[o]=[x,f]}return cF.UK[o]};cF.JP=function(o,P,w,x,z){if(z<=1){z=Math.round(z);
cF.aur(o,P,w,x,[1,16,4][z]);return}var S=z*.42;if(o){e.uY.P1(o,x,S,3)}if(P){e.uY.P1(P,x,S,3)}};cF.aur=function(o,P,w,x,z){var S=e.qY.na([1,2,1,2,z,2,1,2,1]);
if(o){w.set(o);e.qY.a7s(o,w,x.q,x._,S);o.set(w)}if(P){w.set(P);e.qY.a7s(P,w,x.q,x._,S);P.set(w)}};cF.T5=function(o){if(o==null)return new eD(0,0);
var P=0,w=o.GEfs?o.GEfs.v:[{v:o}];for(var I=0;I<w.length;I++){var x=w[I].v,S=1e4;if(x.GELv&&!x.GELv.v)continue;
var z=x.GEfk.v.GEft;if(z=="GlwE"||z=="Phtc"||z=="BsRl"||z=="PlsW"||z=="Chrm"||z=="Gls"||z=="OcnR"||z=="InkO")S=0;
P=Math.max(P,S)}return new eD(P,P)};cF.ala=function(o){var P=[0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][o];
for(var I=0;I<13;I++){var x=I-6;P[I]=1/(w*Math.sqrt(2*Math.PI))*Math.exp(-.5*(x/w)*(x/w))}return P};
cF.aEs=function(o,P,w,x,z){var S=cF.ala(z),k=6,f=13;for(var C=0;C<x;C++)for(var H=0;H<w;H++){var b=C*w+H<<1,i=0,M=0;
for(var I=0;I<f;I++){var T=H+I-k,O=T<0?0:T>=w?w-1:T,Y=(C*w+O)*2,U=S[I];i+=U*o[Y];M+=U*o[Y+1]}P[b]=i;
P[b+1]=M}};cF.aed=function(o,P,w,x,z){var S=cF.ala(z),k=6,f=13;for(var C=0;C<x;C++)for(var H=0;H<w;H++){var b=C*w+H<<1,i=0,M=0;
for(var I=0;I<f;I++){var T=C+I-k,O=T<0?0:T>=x?x-1:T,Y=(O*w+H)*2,U=S[I];i+=U*o[Y];M+=U*o[Y+1]}P[b]=i;
P[b+1]=M}};function jK(){}jK.jX=[2,5,5,7,4,4];jK.gg="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
jK.VB="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
jK.NR=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
jK.Sa=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
jK.RD=function(o){if(o=="passThrough")return"pass";return jK.gg[jK.VB.indexOf(o)]};jK.W_=function(o){if(o=="pass")return"passThrough";
return jK.VB[jK.gg.indexOf(o)]};jK.getName=function(o){return jK.NR[jK.gg.indexOf(o)]};function X(){this.rect=null;
this.buffer=null;this.gS="norm";this.opacity=255;this.gH=!1;this.u_=!1;this.Yo=0;this.FU=0;this.Yv=!0;
this.Xa=[];for(var I=0;I<10;I++)this.Xa.push(0,0,255,255);this.name=null;this.add={};this.tq=null;this.tj=null;
this.u=null;this.ST=null;this.a0x=30;this.kb=null;this.HK=null;this.E6=null;this.JS=null;this.Zx=0;this.yJ=!1;
this.YK=null;this.Mn=new X.hs}X.hs=function(){this.s0=!0;this.U0=!0;this.sw=e.U(0);this.abT=e.U(0);this.e2=null;
this.Wt={};this.anT=null;this.rt=null;this.YP=null;this.Ds=null;this.Tz=null;this.Sg=null;this.bh=null;
this.bz=null;this.hp=null;this.pD=null;this.Ns=null;this.rD=null;this.z2=!1};X.hs.prototype.a1M=function(){this.s0=null;
this.U0=!1;this.e2=null;this.z2=fj.Dx};X.hs.prototype.aF1=function(){iO.a6R(this.Wt);this.sw=e.U(0);
this.abT=e.U(0);if(this.Ds)this.Ds.delete();if(this.Tz)this.Tz.delete();this.Ds=null;this.Tz=null;var o=[this.Sg,this.bh,this.bz,this.hp,this.pD,this.Ns];
for(var I=0;I<6;I++)if(o[I]!=null&&o[I]instanceof fj.fC)o[I].delete();this.Sg=null;this.bh=null;this.bz=null;
this.hp=null;this.pD=null;this.Ns=null};X.prototype.N=function(o){if(o==null)o=this.rect.clone();if(this.Mn.e2==null)this.Mn.e2=o;
else this.Mn.e2=this.Mn.e2.It(o)};X.prototype.Pe=function(){return this.add.lsct==jS.KC||this.add.lsct==jS.v_};
X.prototype.aj=function(){var o=this.add;return o.SoCo!=null||o.GdFl!=null||o.PtFl!=null||o.vstl!=null};
X.prototype.a0k=function(){var o=this.add.lmfx;if(o==null)return;var P=["GrFl","patternFill"];for(var I=0;
I<P.length;I++){var w=iR._7[iR.order.indexOf(P[I])],x=o[w].v;if(x.length==0)continue;for(var z=0;z<x.length;
z++){var S=x[z].v;if(S.enab.v&&(S.Algn==null||!S.Algn.v))this.Mn.U0=!0}}};X.prototype.awR=function(){var o=this.u,P=this.Mn.s0;
if(this.aj())o=this.Jq();if(!fj.Dx)return o.TR();if(this.Mn.Tz==null||P||fj.Dx!=this.Mn.z2){var w=o.q_(),x=this.Mn.Tz,z=null;
if(P!=!0&&P!=null){z=P.clone();z.offset(-w.x,-w.y)}if(x==null||x.q!=w.q||x._!=w._){x=this.Mn.Tz=new fj.qK(w.q,w._);
z=null}x.set(o.TR(),z)}return this.Mn.Tz};X.prototype.aoC=function(o){var P=this.rect,w=this.buffer;
if(!fj.Dx){var x=this.tp(o,w,P);if(x){w=x.eD;P=x.rect}return w}if(this.Mn.e2!=null||fj.Dx!=this.Mn.z2){var x=this.tp(o,w,P);
if(x){w=x.eD;P=x.rect}var z=P;if(fj.Dx!=this.Mn.z2||this.Mn.Ds==null||this.Mn.Ds.q!=z.q||this.Mn.Ds._!=z._){if(this.Mn.Ds)this.Mn.Ds.delete();
this.Mn.Ds=new fj.fC(z.q,z._);this.Mn.Ds.set(w)}else{var S=this.Mn.e2.clone();S.offset(-P.x,-P.y);this.Mn.Ds.set(w,S)}}return this.Mn.Ds};
X.prototype.FS=function(){var o=this.u;if(this.aj())o=this.Jq();return o!=null&&o.isEnabled&&(!o.rect.Mw()||o.dQ()!=255)};
X.prototype.tp=function(o,P,w){if(this.zO()){var x=this.fP(o);if(x.u&&x.u.isEnabled&&(!x.u.rect.Mw()||x.u.color==0)){var z=this.add.SoLd.filterFX.v;
x.u._F=z.filterMaskDensity?z.filterMaskDensity.v:255;x.u.yy=z.filterMaskFeather?z.filterMaskFeather.v:0;
var S=x.buffer,k=x.rect;if(k.c()<w.c()){k=w;S=e.U(k.c()*4);e.sR(x.buffer,x.rect,S,k)}var f=x.u.Hz(w);
e.Sd(f);P=P.slice(0);e.C.RH(S,k,P,w,f,w,0,w,1);return{eD:P,rect:w}}}};X.prototype.a4F=function(){var o={mA:!1,Cl:!1,xL:0,gt:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)o.Cl=!0;if(this.Jq()&&this.Jq().isEnabled)o.mA=!0;if(o.mA&&o.Cl){o.xL=this.Jq().rect.x-this.add.vmsk.Jq().rect.x;
o.gt=this.Jq().rect.y-this.add.vmsk.Jq().rect.y}return o};X.prototype.qX=function(o,P){if(bn!=0)return;
if(P&&this.Jq().yy!=0){P=P.clone();var w=Math.round(this.Jq().yy*2.4);P.$b(w,w)}var x=!1;if(this.add.lsct==jS.iz)return;
var z=this,S=this.Jq()!=null&&this.Jq().RC,k=this.add.vmsk!=null&&this.add.vmsk.RC,f=this.a4F(),C=JSON.stringify(f)!=this.Mn.anT||f.mA&&S||f.Cl&&k;
if(C){if(f.Cl){var H=this.add.vmsk.Jq();if(f.mA){this.u=this.Jq().j$(H);this.Mn.rt=new eD(this.u.rect.x-this.Jq().rect.x,this.u.rect.y-this.Jq().rect.y)}else this.u=H}if(this.u)x=!0;
if(this.u)this.Mn.YP=new eD(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);if(f.mA)this.Jq().RC=!1;
if(f.Cl)this.add.vmsk.RC=!1;this.N(P)}else{if(f.mA&&f.Cl){this.u.rect.x=this.Jq().rect.x+this.Mn.rt.x;
this.u.rect.y=this.Jq().rect.y+this.Mn.rt.y}}if(z.aj()){this.mw(o)}if(z.Fn()){var b;if(this.u)b=new eD(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);
if(this.u&&this.u.isEnabled&&(this.Mn.YP==null||!b.w6(this.Mn.YP))){this.Mn.YP=b;this.N(P);x=!0}}if(ft.get(z.add)!=null)x=!0;
if(x){var i=this.Mn.s0;if(P&&i&&i!=!0)i=i.It(P);else i=P?P:!0;this.Mn.s0=i}this.Mn.anT=JSON.stringify(f)};
X.prototype.mw=function(o){if(bn!=0)return;var P=this,w=P.add.vstk,x=new fA(0,0,o.q,o._),z,S=P.add.vmsk?this.add.vmsk.Jq():null,C=!0,i;
if(S&&S.isEnabled&&S.dQ()==0)z=S.q_().clone();else z=x;var k=P.Jq();if(k&&k.isEnabled&&k.dQ()==0)z=z.SN(P.u.q_());
var f=S&&w;if(w&&(!w.strokeEnabled.v||w.strokeStyleLineWidth.v.val==0))f=!1;if(w&&!w.fillEnabled.v&&f)C=!1;
var H=e.U(z.c()*4);if(C){if(P.add.SoCo)iO.sy(H,P.add.SoCo.Clr.v);if(P.add.GdFl){var b=S&&S.color==0?e.n.$s(P.add.vmsk.g,null,!0):null;
iO.OI(P.add.GdFl,H,z,o,null,b)}if(P.add.PtFl)iO.UX(P.add.PtFl,H,z,o.add.Patt,P.add.fxrp)}if(f)i=iR.Vq.cv.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(S){var M=S._F;if(f)S._F=255;var T=e.U(z.c());if(S.dQ()!=0)T.fill(Math.round(S.dQ()));if(S&&S.isEnabled){var O=S.q_(),Y=S.TR();
if(O.w6(z))e.L9(Y,T);else e.d0(Y,O,T,z)}if(f&&i==2){}else{if(P.add.SoCo&&C){e.lI(T,H,3)}else e.Cn(T,z,H,z)}if(f)S._F=M}P.buffer=H;
P.rect=z;if(f){var U=w.strokeStyleContent.v,W=iR.Vq.Fs.indexOf(U.classID),t=this.add.vmsk.Jq(w);if(i!=0&&!P.rect.w6(x))P.extend(P.rect.It(t.q_()));
var M=t._F;t._F=255;var _=t.Hz(P.rect);t._F=M;if(t.color==255)e.Sd(_);var n=e.U(P.rect.c()*4);if(W==0)iO.sy(n,U.Clr.v);
if(W==1)iO.OI(U,n,P.rect,o,null,S.color==0?S.rect:null);if(W==2)iO.UX(U,n,P.rect,o.add.Patt,P.add.fxrp);
var y=w.strokeStyleOpacity.v.val/100;if(y!=1)e.l5(_,y);if(t.color==255)i=2-i;if(i<2){e.C.RH(n,P.rect,P.buffer,P.rect,_,P.rect,255,P.rect,1,!1);
if(i==0)e.aS(T,P.buffer)}if(i==2){e.aS(_,n);e.Sd(T);e.C.RH(n,P.rect,P.buffer,P.rect,T,z,255,P.rect,1,!1);
e.Sd(T)}if(t._F!=255){var F=n.slice(0);e.ZT(F,4278190080,16777215);e.C.Iv("norm",F,P.rect,P.buffer,P.rect,P.rect,1-t._F/255)}M=S._F;
S._F=255;this.abT=S.Hz(P.rect);S._F=M}this.N()};X.prototype.w2=function(o,P,w,x,z){var S=this,k=S.add.SoLd.Idnt.v,f=S.add.SoLd,C=N.DH.PU(f.nonAffineTransform),H=e.a.w4(C),b=o.xM(k,f.Crop?f.Crop.v:null,[H.q,H._],f.Impr.v.classID,w),_=null;
if(b==null)return;var i=b.iT;if(z&&e.p8(i[0],0))return;f.Sz.v.Wdth.v=b.vH.q;f.Sz.v.Hght.v=b.vH._;if(bn!=0)return;
var M=b.vz==null?f.Rslt.v.val:b.vz,T=f.quiltWarp.v;if(e.lD.tN(T))T=null;var O=e.W.tV(C,b.vH);if(T){var H=e.a.w4(e.lD.Qc(T)[3]),Y=H.x,U=H.y,W=1/H.q,t=1/H._;
O=e.W.tV(C);O=e.W.j$(O,[W,0,-Y*W,0,t,-U*t,0,0])}if(!P&&!S.zO()&&T==null){var n=o.R.indexOf(S),y=X.t9(S);
for(var I=0;I<n;I++){var F=o.R[I];if(F.add.SoLd&&!F.zO()&&X.t9(F)[0]==y[0]){var a=X.t9(F);_={buffer:F.buffer.slice(0),rect:F.rect.clone()};
_.rect.offset(Math.round(y[1]-a[1]),Math.round(y[2]-a[2]));break}}}if(_==null)_=N.DH.lH(i,P?0:1,O,T,null,null,null,P);
if(_==null){S.buffer=e.U();S.rect=new fA}else if(S.zO()){var V=S.fP(o);if(x){V.buffer.fill(0);e.sR(_.buffer,_.rect,V.buffer,V.rect)}else{V.buffer=_.buffer;
V.rect=_.rect.clone()}this.pY(o,P)}else{S.buffer=_.buffer;S.rect=_.rect}S.qX(o);S.N();o.N()};X.t9=function(o){var P=o.add.SoLd,w=P.Idnt.v,x=N.DH.PU(P.nonAffineTransform),z=e.W.tV(x,new fA(0,0,1e3,1e3)),S=P.quiltWarp.v;
if(e.lD.tN(S))S=null;return[[w,z[0],z[1],z[3],z[4],z[6],z[7],S==null].join(":"),z[2],z[5]]};X.prototype.pY=function(o,P){if(P==null)P=!1;
var w=this.fP(o),x=this.add.SoLd.filterFX.v,z=cM.aGE(x),S=new fA(0,0,o.q,o._),k=w.rect.It(S),f=w.rect.clone();
f.$b(z.x,z.y);var C={buffer:null,rect:k.SN(f)};C.buffer=e.U(C.rect.c()*4);e.sR(w.buffer,w.rect,C.buffer,C.rect);
if(x.enab.v&&P==!1){var H=x.filterFXList.v;for(var I=0;I<H.length;I++){var b=H[I].v;if(b.enab.v==!1)continue;
var i=b.blendOptions.v,M=jK.RD(i.Md.v.BlnM),T=i.Opct.v.val/100,O=e.G.dQ(b.FrgC.v),Y=e.G.dQ(b.BckC.v),U=cM.qF(b),W={buffer:e.U(C.buffer.length),rect:C.rect.clone()},t=b.Fltr?b.Fltr.v:null;
if(ft.cg[U]!=null){var _=ft.cg[U],n=ft.C1(_,t);if(n)ft.wM(n,C.buffer,W.buffer,C.rect)}else cM.wM(U,C,t,O,Y,W,[o.add.lnk2?o.add.lnk2:[],this.Jq(),o.Cg]);
if(M=="norm"&&T==1)C=W;else if(M=="norm"){e.C.RH(W.buffer,W.rect,C.buffer,C.rect,null,null,null,C.rect,T)}else{e.C.Iv(M,W.buffer,W.rect,C.buffer,C.rect,C.rect,T)}}}this.rect=C.rect;
this.buffer=C.buffer;this.wW();this.N();o.N()};X.prototype.ZH=function(o,P,w){this.YK=this.azJ(o,P,w)};
X.prototype.yU=function(o,P){var w=this.azJ(o,P,!0);if(w==null)return null;var x={dJ:w.Zx,Du:w.k0,rect:w.Yz};
if(x.dJ==1||x.dJ==3){var z=x.rect,S=e.U(z.q*z._*4);e.lI(x.Du,S,0);e.lI(x.Du,S,1);e.lI(x.Du,S,2);e.aEE(o.e.channel,o.e.rect,S,z);
x.Du=S}return x};X.prototype.azJ=function(o,P,w){var x,z,S,k,f,C,H;if(this.Zx<=0){var b=e.U(this.rect.c());
e.JX(this.buffer,b,3);x=e.mH.N$(P,{channel:b,rect:this.rect},3);if(x==null)return null;var i=e.zG(x.channel,x.rect);
k=x.rect.clone();f=this.rect.clone();z=e.U(k.c()*4);e.sR(this.buffer,f,z,k);e.lI(x.channel,z,3);S=this.buffer.slice(0);
if(!w){var M=P.channel.slice(0);e.Sd(M);e.Cn(M,P.rect,S,f)}C=this.buffer.slice(0);H=this.rect.clone()}if(this.Zx==1||this.Zx==3){var T=this.Zx==1?this.Jq():this.fP(o).u;
k=P.rect.clone();f=T.rect.clone();z=T.CC(k);var S=T.channel.slice(0);if(!w)e.C.I7(T.color==255?e.am(k.c()):e.mM(k.c()),k,S,f,P.channel,k,1);
C=T.channel.slice(0);H=T.rect.clone()}return{Zx:this.Zx,k0:z,Yz:k,aR:S,by:f,WV:C,Rl:H}};X.prototype.JE=function(o,P){var w=this.YK;
if(w.Zx==0){this.rect=w.Rl;this.buffer=w.WV;this.N()}if(w.Zx==1||w.Zx==3){var x=w.Zx==1?this.Jq():this.fP(o).u;
x.channel=w.WV;x.rect=w.Rl;if(this.Zx==1){x.RC=!0;this.qX(o)}if(this.Zx==3)this.N()}this.YK=P};X.prototype.x5=function(o,P){if(this.Zx<=0&&P.rect.w6(this.rect)){var w=e.U(this.rect.c());
e.JX(this.buffer,w,3);if(e.w6(o.e.channel,w)){var x=this.rect,z=this.buffer;this.YK={Zx:this.Zx,k0:z.slice(0),Yz:x.clone(),aR:e.U(0),by:new fA,WV:e.U(0),Rl:new fA};
return!0}}var S=this.YK;if(S==null)return!1;if(S.Zx!=this.Zx)return!1;if(!P.rect.w6(S.Yz))return!1;var k=S.by.It(S.Yz);
if(S.Zx<=0){if(!k.w6(this.rect))return!1;var f=e.U(S.k0.length>>2);e.JX(S.k0,f,3);if(!e.w6(P.channel,f))return!1;
var C=e.U(k.q*k._*4);e.sR(S.aR,S.by,C,k);e.C.Iv("norm",S.k0,S.Yz,C,k,k,1);return e.w6(C,this.buffer)}if(S.Zx==1||S.Zx==3){var H=S.Zx==1?this.Jq():this.fP(o).u;
if(!k.w6(H.rect))return!1;var b=e.U(k.c());b.fill(H.color);e.d0(S.aR,S.by,b,k);e.C.I7(S.k0,S.Yz,b,k,P.channel,k,1);
return e.w6(b,H.channel)}};X.prototype.yD=function(o,P,w,x){var z=this.YK;z.Yz.offset(P,w);var S=z.by.It(z.Yz);
if(z.Zx<=0){var k=e.U(S.c()*4);e.sR(z.aR,z.by,k,S);e.C.Iv("norm",z.k0,z.Yz,k,S,S,1);this.buffer=k;this.rect=S;
this.N()}else{var f=this.Zx==1?this.Jq():this.fP(o).u,C=e.U(S.c());C.fill(f.color);e.d0(z.aR,z.by,C,S);
e.C.I7(z.k0,z.Yz,C,S,x.channel,S,1);f.channel=C;f.rect=S.clone();if(this.Zx==1){f.RC=!0;this.qX(o)}if(this.Zx==3)this.N()}};
X.prototype.aAn=function(o){var P=[-1,0,1,2];if(o)P.push(3);if(this.u)P.push(-2);if(this.ST)P.push(-3);
return P};X.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};X.prototype.bx=function(eK){this.add.luni=this.name=eK};
X.prototype.Tr=function(o){var P=this.add.lnsr,w=this.add.TySh;if(P=="rend"&&w){var x=fe.YJ(w.OY);this.bx(x.slice(0,x.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
X.prototype.ny=function(){return(this.Yo&1<<1)==0};X.prototype.Fn=function(){return(this.Yo&1<<4)==0};
X.prototype.qO=function(){return(this.Yo&1<<5)!=0};X.prototype.aq4=function(){var o=this;if(o.add.lnsr!="bgnd"){o.add.lnsr="bgnd";
o.bx("Background");o.add.lspf=1<<2}};X.prototype.a1E=function(){var o=this;if(o.add.lnsr=="bgnd"){delete o.add.lnsr;
o.bx("Layer 0");o.add.lspf=0}};X.prototype.Fp=function(o){var P=this.add.lspf;return P==null?!1:(P>>o&1)!=0};
X.prototype.Kt=function(o){if(o&&!this.ny())this.Yo-=2;if(!o&&this.ny())this.Yo+=2};X.prototype.yT=function(){var o=this.add.lmfx;
if(o==null)return!1;for(var P in o){if(P=="masterFXSwitch")continue;if(P=="Scl")continue;if(P=="classID")continue;
if(o[P].v.length>0)return!0}return!1};X.prototype.zO=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
X.prototype.Sf=function(){var o=this.add.lmfx;if(o==null)return!1;if(!o.masterFXSwitch.v)return!1;for(var P in o){if(P=="masterFXSwitch")continue;
if(P=="Scl")continue;if(P=="classID")continue;var w=o[P].v;for(var I=0;I<w.length;I++)if(w[I].v.enab.v)return!0}return!1};
X.prototype.Zy=function(){var o=this,P=o.add.SoLd,w=o.add.TySh,x=o.add.vmsk,z=[];if(P)z=N.DH.PU(P.nonAffineTransform);
if(w&&this.Mn.Ux){z=e.a.R2(o.Mn.Ux).i;e.a.h(z,w.h,z)}if(x)z=e.a.R2(x.aG8()).i;return z};X.prototype.yq=function(o,P,w,x){if(bn==1)return e.a.w4(this.Zy());
var z=new fA,S=this.ZC(o,w,x);if(S.indexOf(0)!=-1)z=z.It(this.rect);if(S.indexOf(1)!=-1){var k=this.Jq(),f=k.q_();
z=w&&k.dQ()==0?z.Mw()?f:z.SN(f):z.It(f)}if(S.indexOf(2)!=-1){var C=this.add.vmsk,H=this.add.vstk,b;if(P){if(C.bg.length>1){var i=e.n.Nl(C.g,null,C.bg);
b=e.a.w4(i);if(b.Mw())b=null}if(b==null)b=e.n.$s(C.g,C.T.length!=0?C.T:null)}else b=e.n.$s(C.g);if(!x&&H&&H.strokeEnabled.v){var M=H.strokeStyleLineAlignment.v.strokeStyleLineAlignment,T=H.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(M!="strokeStyleAlignInside"){var O=H.strokeStyleLineWidth.v.val;if(T=="strokeStyleMiterJoin")b=new fA(0,0,o.q,o._);
else b.$b(O,O)}}z=z.It(b)}if(S.indexOf(3)!=-1)z=z.It(this.fP(o).u.q_());if(S.length==0&&this.aj())z=x?new fA(0,0,0,0):new fA(0,0,o.q,o._);
return z};X.prototype.PN=function(){var o=this.add.artb,P=o.artboardBackgroundType.v,w=0;if(P==1)w=4294967295;
else if(P==2)w=4278190080;else if(P==3)w=0;else if(P==4){w=o.Clr.v;w=255<<24|w.Bl.v<<16|w.Grn.v<<8|w.Rd.v}else throw P;
return w};X.prototype.sK=function(){var o=this.add.artb.artboardRect.v,P=o.Btom.v,w=o.Left.v,x=o.Rght.v,top=o.Top.v;
return new fA(w,top,x-w,P-top)};X.prototype.VZ=function(o){var P=X.$j(o);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=P};X.$j=function(o){var P={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
P.Btom.v=o.y+o._;P.Left.v=o.x;P.Rght.v=o.x+o.q;P.Top.v=o.y;return P};X.prototype.ZC=function(o,P,w){var x=[],z=this;
if(!P&&z.yJ&&w){x.push(2)}else if(z.Zx<=0||P){if(z.Fn()){if(bn==1&&z.add.TySh)x.push(0);if(bn==1&&z.add.SoLd)x.push(0);
else if(!this.rect.Mw()||z.add.SoLd)x.push(0)}if(z.Jq()&&!z.Jq().rect.Mw())if(z.Jq().Ud||P)x.push(1);
if(z.add.vmsk)if(z.add.vmsk.Ud||P)x.push(2);if(z.zO()&&z.fP(o).u&&!z.fP(o).u.rect.Mw())x.push(3)}else if(z.Zx==1){x.push(1);
if(z.Jq().Ud&&!z.Jq().rect.Mw()){if(z.Fn())if(!this.rect.Mw())x.push(0);if(z.add.vmsk)if(z.add.vmsk.Ud)x.push(2)}}else if(z.Zx==3&&!z.fP(o).u.rect.Mw())x.push(3);
if(z.add.artb&&x.indexOf(0)==-1)x.push(0);x.sort();return x};X.prototype.Jq=function(){var o=this;return o.ST?o.ST:o.add.vmsk&&o.add.vmsk.isEnabled?null:o.u};
X.prototype.fP=function(o){var P=this.add.SoLd.placed.v,w=o.add.FEid;if(w==null)return null;for(var I=0;
I<w.length;I++)if(w[I].id==P)return w[I];return null};X.prototype.extend=function(o){e.aBq(this,o)};
X.prototype.atM=function(o,P,w){var x=o.clone();if(this.Sf()){var z=this.add.lmfx,S=P.root.wX(P.R.indexOf(this)),k=z.gradientFillMulti.v,f=!1;
for(var I=0;I<k.length;I++)if(k[I].v.enab.v&&k[I].v.Algn.v)f=!0;if(f)x=x.It(S.q_(P,!1));var C=iO.aD5(this.add.lmfx,P,w);
x.offset(C.x,C.y);x.q+=C.q;x._+=C._}return x};X.prototype.wW=function(){if(this.Fn())e.fM(this);var o=this.Jq();
if(o)o.wW()};X.prototype.clone=function(){var o=new X;o.rect=this.rect.clone();o.buffer=this.buffer.slice(0);
o.gS=this.gS;o.opacity=this.opacity;o.gH=this.gH;o.Yo=this.Yo;o.name=this.name;o.Xa=this.Xa.slice(0);
if(this.u)o.u=this.u.clone();if(this.ST)o.ST=this.ST.clone();for(var P in this.add)o.add[P]=fy.clone(P,this.add[P]);
return o};X.prototype.QT=function(o){var P=this;if(P.add.TySh)delete P.add.TySh;if(P.add.SoLd){var w=this.tp(o,this.buffer,this.rect);
if(w){this.buffer=w.eD;this.rect=w.rect;this.N()}delete P.add.SoLd}if(P.add.SoCo||P.add.GdFl||P.add.PtFl){if(P.add.vogk)delete P.add.vogk;
if(P.add.SoCo)delete P.add.SoCo;if(P.add.GdFl)delete P.add.GdFl;if(P.add.PtFl)delete P.add.PtFl;if(P.add.vmsk){console.log(P.ST,P.u);
delete P.add.vmsk;if(P.ST==null&&P.u)delete P.u;else if(P.ST!=null&&P.u!=null){P.u=P.ST;delete P.ST}}}if(!P.Pe()&&ft.get(P.add)==null&&!this.Fn())this.Yo-=16};
X.prototype.LV=function(o){var P=255,w=0;if(o==2){var x=this.add.SoLd.filterFX.v;if(x.filterMaskDensity)P=x.filterMaskDensity.v;
if(x.filterMaskFeather)w=x.filterMaskFeather.v}else{var z=o==0?this.Jq():this.add.vmsk;P=z._F;w=z.yy}return{bf:o,Xk:P,oA:w}};
X.prototype.aq$=function(o){if(o.bf==2){var P=this.add.SoLd.filterFX.v;if(o.Xk==255)delete P.filterMaskDensity;
else P.filterMaskDensity={t:"long",v:o.Xk};if(o.oA==0)delete P.filterMaskFeather;else P.filterMaskFeather={t:"doub",v:o.oA};
this.N()}else{var w=o.bf==0?this.Jq():this.add.vmsk;w._F=o.Xk;w.yy=o.oA;w.RC=!0}};X.prototype.h6=function(){var o=this,P=o.add.vmsk;
if(P==null)return;o.add.vogk=e.KH.afS(P.g)};X.h6=function(o){var P=[],w=e.n.f8(o);for(var x=0;x<w;x++)P.push(e.KH.mM());
return P};var jS={qi:0,KC:1,v_:2,iz:3};X.wy=function(){this.name="Mask";this._8=!1;this.cz={$:255,H:0,b:0};
this.eV=50;this.Ct=0;this.color=255;this.Ud=!0;this.isEnabled=!0;this.Gb=!1;this._F=255;this.yy=0;this.rect=new fA;
this.channel=e.U(0);this.yf=null;this.a6w=null;this.RC=!0};X.wy.prototype.j$=function(o){if(!this.isEnabled)return o;
var P=new X.wy;P.color=Math.round(this.dQ()*o.dQ()/255);if(this.dQ()==0&&o.dQ()==0)P.rect=this.q_().SN(o.q_());
else if(o.dQ()==0)P.rect=o.q_().clone();else if(this.dQ()==0)P.rect=this.q_().clone();else P.rect=this.q_().It(o.q_());
P.channel=this.Hz(P.rect);P._F=255;P.yy=0;var w=o.Hz(P.rect);e.aoK(w,P.rect,P.channel,P.rect);return P};
X.wy.prototype.q_=function(){if(this.yy==0)return this.rect;var o=Math.ceil(this.yy*2.2),P=this.rect.clone();
if(P.y==0){if(P.x==0)P.q+=o;else P.$b(o,0);P._+=o}else P.$b(o,o);return P};X.wy.prototype.TR=function(){if(this.yy==0&&this._F==255)return this.channel;
if(this.yy==0){var o=this.channel.slice(0);e.Sd(o);e.l5(o,this._F/255);e.Sd(o);return o}var P=this.q_(),w=this.CC(P),o=e.U(P.c());
e.uY.xf(w,o,P,this.yy);if(this._F!=255){e.Sd(o);e.l5(o,this._F/255);e.Sd(o)}return o};X.wy.prototype.dQ=function(){return Math.round(255-(255-this.color)*(this._F/255))};
X.wy.prototype.extend=function(o){e.extend(this,o,this.color)};X.wy.prototype.wW=function(){if(this.color==255)e.Sd(this.channel);
e.wW(this);if(this.color==255)e.Sd(this.channel)};X.wy.prototype.clone=function(){var o=new X.wy;o.name=this.name;
o._8=this._8;o.cz=this.cz;o.eV=this.eV;o.Ct=this.Ct;o.color=this.color;o.Ud=this.Ud;o.isEnabled=this.isEnabled;
o.Gb=this.Gb;o._F=this._F;o.yy=this.yy;o.rect=this.rect.clone();o.channel=this.channel.slice(0);return o};
X.wy.prototype.CC=function(o,P){if(P==null)P=e.U(o.c());P.fill(this.color);e.d0(this.channel,this.rect,P,o);
return P};X.wy.prototype.Hz=function(o,P){var w=this.q_(),x=this.TR();if(P==null)P=e.U(o.c());P.fill(this.dQ());
e.d0(x,w,P,o);return P};X.tc=function(){this.Ud=!0;this.isEnabled=!0;this._F=255;this.yy=0;this.Jc=0;
this.Hv=1;this.g=[{type:6},{type:8,all:0}];this.Qo=[-3,-3];this.ue=!1;this.ST=null;this.RC=!0;this.T=[];
this.bg=[]};X.tc.prototype.aG8=function(o){var P=X.tc.tz(this.g),w=new ar;if(o)w.rotate(-this.Jc);e.n.G9(P,w);
return e.n.$s(P)};X.tc.prototype.Lc=function(){var o=this.aG8(!0),P=e.a.R2(o).i,w=new ar;w.rotate(this.Jc);
e.a.h(P,w,P);return P};X.tc.prototype.offset=function(o,P){this.ST=this.Jq();e.n.G9(this.g,new ar(1,0,0,1,o,P));
this.ST.rect.offset(o,P)};X.tc.prototype.Jq=function(o){if(!this.RC&&this.ST&&o==null){this.ST.isEnabled=this.isEnabled;
return this.ST}var P=e.n.$s(this.g),w="strokeStyleLineAlignment",x="strokeStyleLineJoinType";if(P.c()>2e4*2e4)P=new fA(0,0,100,100);
if(o&&o[w].v[w]!="strokeStyleAlignInside"){var z=1;if(o[x].v[x]=="strokeStyleMiterJoin"){var S=e.n.a5J(this.g),k=S/2,f=Math.sin(k),C=Math.cos(k);
C/=f;f=1;var z=Math.sqrt(C*C+f*f);if(isNaN(z)||z<1)z=1}z*=o[w].v[w]=="strokeStyleAlignOutside"?1:.5;
var H=Math.ceil(o.strokeStyleLineWidth.v.val*z);H=Math.min(H,600);P.$b(H,H)}P=e.a.lY(P);var b=new X.wy;
b.color=e.n.mI(this.g)?0:255;b.Ud=this.Ud;b.isEnabled=this.isEnabled;b.Gb=!0;b.rect=P;b._F=this._F;b.yy=this.yy;
b.channel=e.U(b.rect.c());if(!P.Mw())e.n.aEf(this.g,b.channel,b.rect,o);if(o==null){this.ST=b;this.RC=!1}return b};
X.tc.prototype.clone=function(){var o=new X.tc;o.Ud=this.Ud;o.isEnabled=this.isEnabled;o._F=this._F;
o.yy=this.yy;o.Jc=this.Jc;o.g=X.tc.tz(this.g);o.Qo=this.Qo.slice(0);o.ue=this.ue;o.T=this.T.slice(0);
o.bg=this.bg.slice(0);return o};X.tc.prototype.concat=function(o){var P=o.g.slice(2);if(P.length==0)return;
P[0].Hv=3;this.g=this.g.concat(P)};X.tc.tz=function(o){var P=[];for(var I=0;I<o.length;I++){var w=o[I];
if(w.type>5||w.type==0||w.type==3)P.push(JSON.parse(JSON.stringify(w)));else P.push({type:w.type,Fm:w.Fm.clone(),v:w.v.clone(),AK:w.AK.clone()})}return P};
X.tc.ayS=function(o,P,w){if(o.length!=P.length)return!1;for(var I=2;I<o.length;I++){var x=o[I],z=P[I];
if(x.type!=z.type)return!1;if(x.type==0||x.type==3){if(x.length!=z.length||!w&&x.Hv!=z.Hv)return!1}else if(!x.Fm.w6(z.Fm)||!x.v.w6(z.v)||!x.AK.w6(z.AK))return!1}return!0};
X.tc.prototype.aba=function(){var o=this.g;for(var I=3;I<o.length;I++)if(o[I].type==0||o[I].type==3)o[I].Hv=-1};
X.ZF=function(){this.type=null;this.ur=2;this.QQ=null;this.V8="";this.Ya="";this.dW="";this.open=0;this.raw=null;
this.iT=null;this.am_="none";this._0=!1;this.vz=null;this.vH=null};X.ZF.prototype.clone=function(){var o=new X.ZF;
o.type=this.type;o.ur=this.ur;o.QQ=this.QQ;o.V8=this.V8;o.Ya=this.Ya;o.dW=this.dW;o.open=this.open;o.raw=new Uint8Array(this.raw.buffer.slice(0));
return o};X.ZF.prototype.Ey=function(o,P,w,x,z){if(w==null)w="none";var S=this,k=eu.IL(S.raw.buffer),f=k=="svg"||k=="pdf"||k=="ai";
if(S.iT){var C=P&&f&&Math.max(S.iT[1].q,S.iT[1]._)<Math.max(P[0],P[1]);if(!C&&w==this.am_&&!S._0)return}this.am_=w;
if(!f)o=0;if(k==null){alert("Unsupported format: "+L.AW(S.raw,0,4));return null}var H=eu.oi(k);if(k=="psd"&&bn==1){var b=eg.ajF(S.raw)[0],i=new Uint8Array(b.data);
S.iT=[i,b.pv]}else if(H.VV){var M=new da(name+(k=="psd"?"":"-"+k)+".psd"),i;H.mJ(S.raw.buffer,M,P);var T=new fA(0,0,M.q,M._);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(w)!=-1){var O=[];for(var I=0;I<M.R.length;
I++){var Y=M.R[I],U=Y.buffer;if(!Y.rect.w6(T)){U=e.U(T.c()*4);e.sR(Y.buffer,Y.rect,U,T);console.log("resizing")}O.push(U)}i=e.U(T.c()*4);
e.stack.stack(O,i,w)}else{for(var I=0;I<M.R.length;I++)if(M.R[I].aj())M.R[I].qX(M);if(x&&M._0){var W=eQ.xh(M,x,z);
S._0=!W;if(W)eQ.Kz(M,x,z)}M.GO();M.N();M.cj();i=M.Ey()}S.iT=[i,T];S.vz=M.vz!=null&&M.vz!=0?M.vz:72}else if(H){var t=H.mJ(S.raw.buffer)[0];
S.iT=[new Uint8Array(t.data),t.pv];S.vz=t.vz!=null&&t.vz!=0?t.vz:72}if(S.iT){S.vH=S.iT[1].clone();if(o==1){var U=S.iT[0],_=S.iT[1],n=e.U(_.c());
e.JX(U,n,3);var y=e.zG(n,_),F=e.U(y.c()*4);e.sR(U,_,F,y);y.x=y.y=0;S.iT=[F,y]}else{var U=S.iT[0],_=S.iT[1],y=e.rR(U,_,2,null,4278190080);
if(y.Mw())y=new fA(0,0,1,1);while((y.x&15)!=0){y.x--;y.q++}while((y.y&15)!=0){y.y--;y._++}if(!y.w6(_)){var F=e.U(y.c()*4);
e.sR(U,_,F,y);S.iT=[F,y]}}e.nJ(S.iT)}};X.Ck="0";X.L3="2";X.kP="2.5";X.Q3="2.6";X.WF="3";X.rC="4";X.Ok="4.5";
X.aAh="4.6";X.aej="5";X.s2="5.5";X.Lq="6";X.aky="7";X.a5Q="8";X.xN="9";X.fx="9.3";X.a9S="9.5";X._W="9.6";
X.lp="10";X.c8="11";X.Pc="12";X.gE="13";X.ic="13.1";X.ar$="13.2";X.S2="13.3";X.gv="13.4";X.n7="14";X.a6="14.1";
X.Dz="14.2";X.lw="14.3";X.qT="17";X.fp="18";X.aFQ="19";X.zP="19.5";X.Q_="19.6";X.nC="19.7";X.g0="19.8";
X.Cz="20";X.pV="21";X.CU="21.5";X.s1="22";X.kV="22.5";X.PZ="23";X.anu="24";X.GL="25";X.a4L="26";X.as$="27";
X.Op="28";X.Db="29";X._J="30";X.q3="31";X.H7="32";X.azE="32.5";X.Qk="33";X.vJ="34";X.y5="35";X.ba="36";
X.go="36.5";X.n$="37";X.hY="37.5";X.aoT="37.6";X.BV="38";X.c3="38.5";X.AJ="38.6";X.v2="39";X.Ig="40";
X.rE="41";X.agb="42";X.vq="50";X.RK="51";X.Mf="52";X.B8="53";X.Zn="54";X.amJ="54.5";X.IB="54.6";X.aD9="54.7";
X.Z6="54.8";X.lV="55";X.v$="55.5";X.rV="56";X.sg="57";X.ky="58";X.Rk="59";X.XR="60";function kF(){this.depth=0;
this.index=-1;this.r=null;this.cF=null;this.Er=-1;this.children=null;this.parent=null;this.OS=null}kF.prototype.a1L=function(o,P){if(this.depth!=0)o.push(this.r.getName());
if(this.children)for(var I=0;I<this.children.length;I++)this.children[I].a1L(o,P);if(o.length>P.IN.length)P.IN=o.slice(0);
if(this.depth!=0)o.pop()};kF.prototype.a2b=function(){var o=0;if(this.r.Pe()){for(var I=0;I<this.children.length;
I++)o+=this.children[I].a2b()}else if(this.r.buffer)o+=this.r.buffer.length;return o};kF.prototype.wX=function(o){var P=this.OS[o];
return this.OS[o]};kF.prototype.fH=function(o,P){var w=this.r;if(!w.ny()||w.Fp(2)||w.Fp(31))return null;
if(w.FS()){var x=w.u.rect.EI(o);if(!x&&w.u.color==0)return}if(w.Pe()){for(var I=0;I<this.children.length;
I++){var eK=this.children[I];eK.fH(o,P)}}else if(bn==1){var z=w.Zy();if(o.EI(e.a.w4(z))&&P.indexOf(this.index)==-1)P.push(this.index)}else if(w.rect.EI(o))P.push(this.index)};
kF.prototype.Vz=function(o,P){var w=this.r;if(!w.ny()||w.Fp(2)||w.Fp(31))return null;if(w.FS()){if(w.u.rect.ga(o)){if(!e.Vz(o,w.u.channel,w.u.rect))return null}else if(w.u.color==0)return null}if(w.Pe()){if(w.add.artb&&!w.sK().ga(o))return null;
for(var I=this.children.length-1;I>=0;I--){var eK=this.children[I],x=eK.Vz(o,P);if(x&&P==null)return x}return null}else if(bn==1){if(w.add.vmsk){var z=w.add.vstk,S=!z.fillEnabled.v&&!w.u_,k=z.strokeStyleLineWidth.v.val*.5,f=e.n.Vz(w.add.vmsk.g,o,S,k);
return f.BG==-1?null:this}var C=w.Zy();if(h1.J9(C,o.x,o.y))return this}else if(w.add.TySh&&w.rect.ga(o)||e.ace(o,w.buffer,w.rect)){if(P==null)return this;
else P.push(this.index)}return null};kF.prototype.a2l=function(o){var P=this.r;if(!P.ny()||P.Fp(2)||P.Fp(31))return null;
var w=P.add.vmsk;if(w&&w.isEnabled){var x=e.n.Vz(w.g,o).BG;if(x!=-1)return{agl:this,aFh:x}}if(P.Pe()){if(P.add.artb&&!P.sK().ga(o))return null;
for(var I=this.children.length-1;I>=0;I--){var eK=this.children[I],z=eK.a2l(o);if(z)return z}return null}return null};
kF.prototype.Of=function(o,P){o.push(this.index);if(this.r.Pe()){o.push(this.Er);if(P)if(this.r.Zx==1&&this.r.Jq().Ud==!1)return;
for(var I=0;I<this.children.length;I++)this.children[I].Of(o)}};kF.xt=function(){var o=document.createElement("canvas");
return o.getContext("2d")};kF.acn=function(o,P){var w,x;if(o.q>o._){w=Math.floor(P);x=Math.floor(P*(o._/o.q))}else{w=Math.floor(P*(o.q/o._));
x=Math.floor(P)}return new eD(w,x)};kF.ki=32;kF.yv=1;kF.prototype.Tu=function(o,P,w){var x=kF.yv,z=this.r;
if(z.Pe()&&z.add.artb!=null)P=z.sK();var S=x==0?z.rect:P;if(S.Mw()||z.add.TySh)S=P;var k=kF.ki*N.M(),f=kF.acn(S,k),C=f.x,H=f.y,b=kF.acn(P,k),i=ft.get(z.add)!=null;
if(z.aj()&&z.add.vmsk==null||z.add.TySh||i)C=H=Math.max(H,16);else if(z.Pe()){C=H=Math.round(18*N.M())}else{C=Math.max(C,6);
H=Math.max(H,6)}if(w&&z.kb==null){z.kb=kF.xt();if(bn==0){z.HK=kF.xt();z.E6=kF.xt();z.JS=kF.xt()}}var M=z.aj()&&z.add.vmsk;
if(bn==1&&!z.Pe()){if(w)e.KJ.aDJ(z.kb,C,H,o,this)}else if(M){if(w&&z.add.vstk)e.KJ.rm(z.kb,C,H,S,z.buffer,z.rect,!1,null,!z.add.vstk.fillEnabled.v&&!z.add.vstk.strokeEnabled.v);
if(w)e.KJ.asQ(z.kb,C,H)}else if(z.add.TySh){if(w)e.KJ.ajZ(z.kb,H,H,z.add.TySh)}else if(z.add.SoCo){if(w)e.KJ.avR(z.kb,H,H,z.add.SoCo)}else if(z.add.GdFl){if(w)e.KJ.aDp(z.kb,H,H,z.add.GdFl)}else if(z.add.PtFl){if(w)e.KJ.a1d(z.kb,H,H,z.add.PtFl,o)}else if(i){if(w)e.KJ.a4i(z.kb,H,H,z.add)}else if(z.add.SoLd){if(w)e.KJ.rm(z.kb,C,H,S,z.buffer,z.rect,!1);
if(w)e.KJ.ay6(z.kb,C,H,z.add.SoLd)}else if(z.Pe()){}else{if(w){if(z.Fn())e.KJ.rm(z.kb,C,H,S,z.buffer,z.rect,!1);
else{e.KJ.a9m(z.kb,H,H)}}}var T=z.Jq();if(w){if(T)e.KJ.P9(z.HK,b.x,b.y,P,T);if(z.zO()&&z.fP(o)&&z.fP(o).u){var O=z.fP(o).u;
e.KJ.P9(z.JS,b.x,b.y,P,O)}if(!M&&z.add.vmsk){e.KJ.P9(z.E6,b.x,b.y,P,z.add.vmsk.Jq(),!0)}}if(T||z.add.vmsk)H=Math.max(H,b.y);
z.a0x=Math.max(H,16);if(w!=!0&&z.Pe()&&(z.add.lsct==jS.KC||o.R.length<4e3))for(var I=0;I<this.children.length;
I++)this.children[I].Tu(o,P)};kF.prototype.axC=function(o,P,w,x){this.depth=w;var z=o[P];if(x==null)x=[];
this.OS=x;if(z.add.lsct==jS.iz){this.cF=z;this.Er=P-1;this.children=[];var I=P+1;while(!0){var S=o[I];
if(S==null)console.log(I,o.length);if(S.add.lsct==jS.KC||S.add.lsct==jS.v_){if(z.add.lyid==S.add.lyid)z.add.lyid+=16777215;
this.r=S;this.index=I-1;x[this.index]=this;x[P-1]=this;break}var k=new kF;k.parent=this;I=k.axC(o,I,w+1,x);
this.children.push(k)}return I+1}else{this.r=z;this.index=P-1;x[this.index]=this;return P+1}};kF.prototype.LE=function(o,P,w,x){var z=this.wX(w),S=o;
while(z.parent!=null){S=z.r.atM(S,P,x);z=z.parent}return S};kF.prototype.q_=function(o,P){var w=this.r,x=new fA;
if(!w.ny())return x;var z=w.Jq();if(w.Pe())for(var I=0;I<this.children.length;I++){var S=this.children[I].q_(o,!0);
x=x.It(S)}else if(ft.get(w.add)!=null)x=w.FS()&&w.u.color==0?w.u.q_().clone():new fA(0,0,o.q,o._);else if(w.aj()&&w.add.vmsk&&w.add.vmsk.isEnabled&&w.add.vstk){x=w.rect.clone()}else if(w.aj()&&z&&z.isEnabled&&z.dQ()!=0)x=new fA(0,0,o.q,o._);
else{x=w.yq(o,!1,!0);if(w.add.vmsk)x=e.a.lY(x)}return P?w.atM(x,o):x};kF.Jj={delete:function(o){if(o&&o.q)o.delete()},U:function(o,P){return fj.Dx?new fj.fC(o,P):e.U(o*P*4)},UG:function(o,P,w){if(fj.Dx){if(o==null||o.q!=P||o._!=w){kF.Jj.delete(o);
return new fj.fC(P,w)}}else{if(o==null||!(o instanceof Uint8Array)||o.length!=P*w*4){kF.Jj.delete(o);
return e.U(P*w*4)}}return o},d0:function(o,P,w,x,z){(fj.Dx?fj.qz:e.sR)(o,P,w,x,z)},RH:function(o,P,w,x,z,S,k,f,I,C,H){(fj.Dx?fj.C.$t:e.C.RH)(o,P,w,x,z,S,k,f,I,C,H)},a3h:function(o,P,w,x,z,S,k,f){var C=w.clone(),H=z.q,b=z._,i=C.x,M=C.y,T=C.x+C.q>H?-1:0,O=C.x<0?2:1,Y=C.y+C._>b?-1:0,U=C.y<0?2:1;
for(var W=Y;W<U;W++)for(var t=T;t<O;t++){C.x=i+t*H;C.y=M+W*b;kF.Jj.Iv(o,P,C,x,z,S,k,f)}},Iv:function(o,P,w,x,z,S,k,f){if(fj.Dx)fj.C.akB(o,P,w,x,z,S,k,f);
else e.C.Iv(o,P,w,x,z,S,k,f)},ZT:function(o,P,w){if(fj.Dx){fj.kU(o);fj.cG(P,w)}else e.ZT(o,P,w)},a9M:function(o,P,w,x,z){if(fj.Dx){fj.C.$t(null,null,x,z,o,P,w,z,1,!1)}else{if(w==255)e.Cn(o,P,x,z);
else{var S=e.U(P.c());e.zt(x,z,S,P);e.mV(o,S);e.ZT(x,0,16777215);e.aEE(S,P,x,z)}}},VS:function(o,P,w,x){if(fj.Dx)fj.C.$t(null,null,w,x,o,P,0,x,1,!1);
else e.VS(o,P,w,x)}};kF.prototype.ph=function(o,P,w,x,z,S){var k=typeof S=="number";if(!this.r.Pe()&&(k&&this.index>S||!k&&S.indexOf(this.index)==-1)){return}var f=this.r,C=iO.uT(f),H=kF.Jj,b=f.aj()?f.Jq():f.u;
if(!f.ny())return;if(f.FS()&&b.rect.Mw()&&b.dQ()==0){return}if(f.add.vstk==null&&this.q_(x,!1).Mw()){return}if(f.aj()&&f.rect.Mw())return;
var i=this.q_(x,!0).SN(w);if(!P.w6(w)&&!w.EI(i))return;if(f.Pe()&&f.add.artb){var M=f.sK();w=w.SN(M)}var T=kF.a95(f,z,C);
if(!T){this.aqU(o,P,w,x,z,S);return}f.Mn.Sg=H.UG(f.Mn.Sg,i.q,i._);H.d0(o,P,f.Mn.Sg,i,w);this.aqU(f.Mn.Sg,i,w,x,z,S);
H.RH(f.Mn.Sg,i,o,P,null,null,0,w,f.opacity/255,f.gS=="diss",C.hW)};kF.a95=function(o,P,w){if(w.hW[0]*w.hW[1]*w.hW[2]==0)return!0;
return o.opacity!=255&&(P.length!=0||o.Pe()||o.Sf())};kF.auu={Mn:{}};kF.prototype.aqU=function(o,P,w,x,z,S){var k=this.r,f=iO.uT(k),C=ft.get(k.add)!=null,H=kF.Jj,b=kF.a95(k,z,f),i=b?1:k.opacity/255,M=k.aj()?k.Jq():k.u,T=k.Pe()&&f.qq==null&&(k.gS=="pass"||k.add.artb)&&!(z.length>0||f.fill!=1||k.Sf()),O=!k.Pe()&&!C&&!k.Sf()&&z.length==0,Y=C&&!k.Sf()&&z.length==0,y=null,F=null,a=null,m;
if(T||O||Y){var U=o,W=P;if(k.FS()){W=this.q_(x,!1);U=k.Mn.hp=H.UG(k.Mn.hp,W.q,W._);H.d0(o,P,k.Mn.hp,W)}if(T)this.ZE(U,W,w,x,S);
if(O)H.Iv(k.gS,k.aoC(x),k.rect,U,W,w,i,f);if(Y){var t=k.FS()&&M.dQ()==0?M.q_().clone():W.clone(),_=k.Mn;
if(t.w6(new fA(0,0,x.q,x._)))_=kF.auu;_.bz=this.a9q(U,W,_.bz,t,k.add);f.hH=!0;H.Iv(k.gS,_.bz,t,U,W,w,i,f)}if(k.FS())H.RH(U,W,o,P,k.awR(),M.q_(),M.dQ(),w,1,k.gS=="diss");
k.Mn.a1M();return}var n=k.Pe()&&k.gS=="pass"&&(z.length>0||f.fill!=1||k.Sf()),t=k.rect;if(k.Pe()){t=this.q_(x,!1);
a=k.Mn.bz=H.UG(k.Mn.bz,t.q,t._);H.ZT(a,0);this.ZE(a,t,t,x,S);F=H.UG(k.Mn.bh,t.q,t._);H.d0(a,t,F,t)}else if(C){t=k.FS()&&M.dQ()==0?M.q_().clone():P.clone();
F=H.UG(k.Mn.bh,t.q,t._);H.ZT(F,4294967295)}else{t=k.rect;y=k.aoC(x);F=H.UG(k.Mn.bh,t.q,t._);H.d0(y,t,F,t)}k.Mn.bh=F;
if(k.FS())H.a9M(k.awR(),M.q_(),M.dQ(),F,t);if(k.Sf())if(k.Mn.e2||k.Mn.U0||k.Mn.z2!=fj.Dx||k.Mn.s0||k.Pe()){var V=k.add.vmsk,D=e.U(t.c());
if(iO.akn(k.add.lmfx)){if(fj.Dx){if(!k.Pe()&&k.Jq()==null&&k.rect.w6(t)&&V==null)e.JX(k.buffer,D,3);
else{var l=e.U(t.c()*4);F.get(l);e.JX(l,D,3)}}else e.JX(F,D,3)}if(k.Mn.U0||k.Mn.z2!=fj.Dx||!e.w6(D,k.Mn.sw)){var Q=null;
if(k.aj()&&V&&V.isEnabled&&V.Jq().color==0)Q=V.Jq().rect;iO.a6R(k.Mn.Wt);k.Mn.Wt=iO.a8y(D,t,k.add.lmfx,k.add.fxrp,x,Q);
k.Mn.sw=D;k.Mn.a4o=t}}if(k.Sf())iO.a7x(k.add.lmfx,k.Mn.Wt,t,o,P,w);if(k.Pe()){y=H.UG(k.Mn.hp,t.q,t._);
H.ZT(y,0);if(k.gS=="pass")H.d0(o,P,y,t);if(n)H.VS(a,t,y,t);this.ZE(y,t,w,x,S);k.Mn.hp=y}if(C){y=k.Mn.hp=this.a9q(o,P,k.Mn.hp,t,k.add)}if(k.Pe()||C)m=y;
else{m=H.UG(k.Mn.hp,t.q,t._);H.d0(y,t,m,t,w);k.Mn.hp=m}H.ZT(m,4278190080,16777215);for(var I=0;I<z.length;
I++)z[I].ph(m,t,w,x,[],S);var R=k.Mn.pD=H.UG(k.Mn.pD,t.q,t._);H.d0(o,P,R,t,w);if(C)f.hH=!0;H.Iv(k.gS=="pass"?"norm":k.gS,m,t,R,t,w,1,f);
if(k.Sf()){var $=k.Mn.Wt.type.FrFX,p=null;if($.length!=0){p=$[0];for(var I=0;I<$.length;I++)if($[I].AT.q>p.AT.q)p=$[I];
k.Mn.Ns=H.UG(k.Mn.Ns,p.AT.q,p.AT._);H.d0(o,P,k.Mn.Ns,p.AT,w);k.Mn.rD=H.UG(k.Mn.rD,p.AT.q,p.AT._)}iO.aj4(k.add.lmfx,k.Mn.Wt,t,o,P,w,R,k.Mn.Ns,k.Mn.rD,p?p.AT:null)}if(!fj.Dx){var c=e.U(t.c());
e.JX(F,c,3);F=c}H.RH(R,t,o,P,F,t,0,w,1,k.gS=="diss");k.Mn.a1M()};kF.prototype.a9q=function(o,P,w,x,z){var S=ft.get(z),k;
if(S)k=ft.C1(S,z[S]);var f=kF.Jj;w=f.UG(w,x.q,x._);if(!(fj.Dx&&P.w6(x)))f.d0(o,P,w,x);if(k){if(fj.Dx){var C=x.clone();
C.x=C.y=0;if(P.w6(x)){fj.kU(w,C);ft.xS(k,o.wH,C)}else{fj.kU(w,x);w.ty(x);ft.xS(k,w.dA,C)}}else ft.wM(k,w,w,x)}return w};
kF.prototype.ZE=function(o,P,w,x,z){var S=P.q,k=P._,f=P.x,C=P.y,eK=w,H=eK.x,b=eK.y,i=-1,M=-1,T=2,O=2;
if(!x.kz){i=M=0;T=O=1}var Y=this.children;for(var I=0;I<Y.length;I++){var U=ft.get(Y[I].r.add)!=null,W=[];
for(var t=I+1;t<Y.length;t++)if(Y[t].r.gH)W.push(Y[t]);else break;for(var _=M;_<O;_++)for(var n=i;n<T;
n++){P.x=f+n*S;P.y=C+_*k;eK.x=H+n*S;eK.y=b+_*k;if((n!=0||_!=0)&&U)continue;Y[I].ph(o,P,eK,x,W,z)}I+=W.length}P.x=f;
P.y=C;eK.x=H;eK.y=b};(function(){kF.prototype._h=function(z,S,k,f){var C=this.r,H=C.add.lmfx,b=C.add.TySh,i=C.add.SoLd,T=null;
if(!C.ny())return;S.save();var M=C.opacity/255*(C.add.iOpa?C.add.iOpa/255:1);S.globalAlpha*=M;S.globalCompositeOperation=jK.Sa[jK.gg.indexOf(C.gS)];
var O=z.add.prvw==0;if(O){S.lineWidth=1/z.s.D;S.fillStyle="black"}var Y=iO.a7F(C,!1);if(Y){T=S;var U=document.createElement("canvas");
U.width=S.canvas.width;U.height=S.canvas.height;var W=S.getTransform();S=U.getContext("2d");S.setTransform(W.a,W.b,W.c,W.d,W.e,W.f)}if(C.Pe()){var t=this.children,_=null;
for(var I=0;I<t.length;I++)if(t[I].r.u_&&t[I].r.ny())_=t[I].r;if(_&&!O){S.beginPath();P(_,S);S.clip()}for(var I=0;
I<t.length;I++)t[I]._h(z,S,k,f)}else if(b){var n=!0;if(C.Mn.path==null){n=eQ.LU(b,k.v7);if(n)eQ.tW(C,k.v7,!1)}if(n){{var y=b.h;
S.save();o(S,y);var F=C.Mn.path;if(O){var a=F.LG.slice(0);for(var I=0;I<a.length;I++)if(a[I][0]=="#")a[I]="#000000";
F={LG:a,i:F.i}}eQ.avx(F,S);S.restore()}}}else if(C.aj()&&C.add.vmsk&&(!C.u_||O)){var V=C.add.vmsk;S.beginPath();
P(C,S);if(O){S.stroke()}else{var D=C.add.vstl;if(D.wm.length!=0){var l=w(D.wm,V.g,z,S);if(l[1]){S.save();
o(S,l[1])}S.fillStyle=l[0];S.fill(["nonzero","evenodd"][V.Hv]);if(l[1]){S.restore()}}if(D.eJ.length!=0){e.n.C4(D,S);
S.strokeStyle=w(D.eJ,V.g,z,S,!0)[0];S.stroke()}}}else if(i){var Q=i.filterFX;if(Q){var l=Q.v.filterFXList.v;
for(var I=0;I<l.length;I++){var m=l[I].v;if(!m.enab.v)continue;var R=cM.qF(m);if(R=="GsnB"){S.filter="blur("+m.Fltr.v.Rds.v.val*z.s.D+"px)"}}}var $=i.Idnt.v,p=z.xM($,i.Crop?i.Crop.v:null),y=e.W.dn(i),c=p.iT;
if(O){var B=N.DH.PU(i.Trnf);S.moveTo(B[0],B[1]);for(var I=2;I<8;I+=2)S.lineTo(B[I],B[I+1]);S.closePath();
S.stroke()}else x(z,C,S,y,c)}if(Y){T.save();T.setTransform(1,0,0,1,0,0);T.drawImage(S.canvas,0,0);T.restore();
S=T}S.globalAlpha/=M;S.globalCompositeOperation="source-over";S.restore()};function o(z,S){z.transform(S.F,S.b,S.JJ,S.RL,S.$X,S.Ar)}function P(z,S){var k=z.add.vmsk.g;
for(var I=0;I<k.length;I++){if(k[I].type>5)continue;var f=k[I].length;if(f==0)continue;var C=k[I].type==3;
e.n.aED(S,k,I+1,f,0,0,C);if(!C)S.closePath();I+=f}}function w(z,S,k,f,C){if(z.length==3)return[CSS.abg(z),null];
else if(z.length==2){var H=k.P7[z[0]],b=1,i=H.$v;if(i==null){var M=document.createElement("canvas"),T=M.getContext("2d");
M.width=Math.round(H.q*b);M.height=Math.round(H._*b);T.scale(b,b);H.root._h(H,T,{},null);i=H.$v=f.createPattern(M,"repeat")}var O=new ar(1/b,0,0,1/b,0,0),Y=k.vz/72,U=new ar;
U.concat(O);var W=z[1][1];U.concat(new ar(W[0],W[1],W[2],W[3],Y*W[4],Y*W[5]));U.scale(1,-1);return[i,U]}else{var t=z[0],_=z[1],n=z[2],y=-n[5]*Math.PI/180,F=gn.a4(z,S),a,O;
if(t==0){var V=[0,0,1,0];e.a.h(V,F,V);a=f.createLinearGradient(V[0],V[1],V[2],V[3])}else{var V=[Math.cos(y)*n[6],Math.sin(y)*n[6],0,0,1,0],D=Math.abs(F.F*F.b+F.JJ*F.RL)<1e-9,l=Math.abs(F.F*F.F+F.b*F.b-F.JJ*F.JJ-F.RL*F.RL)<1e-9,Q=D&&l;
if(Q||C){e.a.h(V,F,V);var m=V[4]-V[2],R=V[5]-V[3];a=f.createRadialGradient(V[0],V[1],0,V[2],V[3],Math.sqrt(m*m+R*R))}else{a=f.createRadialGradient(V[0],V[1],0,0,0,1);
O=F}}e.G.fS(a,_);return[a,O]}}function x(z,S,k,f,C){if(f==null)f=new ar;var H=S.buffer,b=S.rect;if(C){var i=f.gz()*z.s.D,M=0;
while(1<<M/2<.5/i&&M+2<C.length)M+=2;H=C[M];b=C[M+1];b=b.clone();b.x=b.y=0;var i=1<<M/2,T=new ar;T.scale(i,i);
T.concat(f);f=T}if(b.Mw())return;var O=document.createElement("canvas");O.width=b.q;O.height=b._;var Y=O.getContext("2d");
Y.putImageData(new ImageData(new Uint8ClampedArray(H.buffer),b.q,b._),0,0);k.transform(f.F,f.b,f.JJ,f.RL,f.$X,f.Ar);
k.drawImage(O,b.x,b.y);f.Sd();k.transform(f.F,f.b,f.JJ,f.RL,f.$X,f.Ar)}}());function da(o){this.Ty="psd";
this.eM=!1;this.name=o;this.rU=-1;this.kz=!1;this.Cw=null;this.hS=null;this.Vw=null;this.Uh=null;this.q=0;
this._=0;this.buffer=null;this.R=[];this.xX={};this.add={};this.aJ=[];this.P7={};this.Yf=[];this.$v=null;
this.so=4;this.T3=null;this.vz=72;this.wz={};this.T=[];this.r_=[];this.BP=!1;this.zV=[];this.gf=[];this.Fx=[da.xZ("Work Path")];
this.lL=[];this.wJ=null;this.NZ={classID:"CompList",list:{t:"VlLs",v:[]}};this.Pf=null;this.Ef=[];this.fA=[];
this.kr=[];this.root=null;this.ti=null;this._0=!1;this.am9=!1;this.afp=!1;this.mk=!1;this.Gr=!1;this.yW=!1;
this.dH=!1;this.yS=!1;this.wI=!1;this.ZY=!1;this.e2=null;this.$x=null;this.e=null;this.Cg=[];this.jM=[];
this.t={D5:{},Ra:[],AS:[],iC:[],sA:[],rX:[],Uq:null,PT:null,q5:null,do:null,hy:null,k2:null,x7:null,Vb:null,he:[],ZB:[],uL:null};
this.history=[new d5([1,0],null)];this.Mi=0;this.y$=0;this.gk=0;this.Rq=0;this.k7=null;this.pi=!1;this.s=new ij(this);
this.hx=null;this.wP=null}da.prototype.aGm=function(){var o=this,P=o.add.artd;return P!=null&&P.Cnt.v>1||o.add.arts&&o.add.arts.length>1};
da.prototype.f$=function(o){if(o){if(o.length==30240){this.f$(null);return}this.xX.r1039=o;var P=ICC.R(o.buffer),z=null,S=17,C,H;
if(P==null){this.f$(null);return}var w=P.header.spaceIn.toLowerCase(),x=JSON.stringify(P.tags.desc).toLowerCase();
try{z=ICC.U.profileName(P)}catch(bF){}if(w!="rgb "||z==null||w=="rgb "&&this.add.fcmy==1){this.f$(null);
return}console.log("We got an ICC profile!",P,z);try{var k=ICC.U.sampleLUT(P,S)}catch(bF){this.f$(null);
return}var f=k.slice(0),b=e.U(4),i=e.SA("rgbToRgbC"),M=i[2],T=i[3];for(var I=0;I<k.length;I+=3){b[0]=k[I]*255;
b[1]=k[I+1]*255;b[2]=k[I+2]*255;ICC.U.applyLUT(T,M,b,b);f[I]=b[0]/255;f[I+1]=b[1]/255;f[I+2]=b[2]/255}if(fj.Dx){C=new fj.fC(S,S*S);
C.set(ICC.U.lutToRGBA8(k,S));H=new fj.fC(S,S*S);H.set(ICC.U.lutToRGBA8(f,S))}this.hx=[o,P,S,k,C,f,H]}else{delete this.xX.r1039;
this.hx=null}};da.prototype.M1=function(){return this.hx};da.prototype.KA=function(){if(this.hx)return this.hx;
if(this.add.fcmy==1){if(this.wP==null){var o=e.SA("rgbToRgbC"),P=o[2],w=o[3],x;if(fj.Dx){x=new fj.fC(P,P*P);
x.set(ICC.U.lutToRGBA8(w,P))}this.wP=[null,null,P,null,null,w,x]}return this.wP}};da.prototype.a00=function(){var o=this;
if(o.s.A.join("")!="111"){o.s.A=[1,1,1];o.yW=!0}for(var I=0;I<o.R.length;I++){var P=o.R[I],w=P.add.vmsk;
if(P.zO()){var x=P.fP(o);if(x&&x.u&&x.u._8){x.u._8=!1;o.yW=!0}}var z=P.Jq();if(z&&z._8){z._8=!1;o.yW=!0}if(w){if(w.T.length!=0)w.T=[];
if(w.bg.length!=0)w.bg=[]}}};da.prototype.a8b=function(){var o=this;return o.e!=null||o.m0()[1].length!=0||o.T.length>1};
da.prototype.nr=function(){var o=this.r_,P=[];for(var I=0;I<o.length;I++)P[I]=-1;var w=this.root.children;
for(var I=0;I<w.length;I++){var x=w[I],z=x.r.add.artb;if(z==null)continue;var S=z.guideIndeces;S=S?S.v:[];
for(var k=0;k<S.length;k++)P[S[k].v]=x.index}return[JSON.parse(JSON.stringify(o)),P]};da.prototype.sp=function(o){this.r_=JSON.parse(JSON.stringify(o[0]));
var P=o[1],w=this.root.children;for(var I=0;I<w.length;I++){var x=w[I],z=x.r.add.artb;if(z==null)continue;
z.guideIndeces={t:"VlLs",v:[]}}for(var I=0;I<P.length;I++)if(P[I]!=-1)this.R[P[I]].add.artb.guideIndeces.v.push({t:"long",v:I})};
da.prototype.a25=function(o){var P=this;if(o[0])P.add.lnk2=o[0];else delete P.add.lnk2;if(o[1])P.add.FEid=o[1];
else delete P.add.FEid;if(o[2])P.add.Patt=o[2];else delete P.add.Patt};da.prototype.aqC=function(o){var P=this,w=[],x=[],z=[],O=null,Y=null,U=null;
for(var I=0;I<o.length;I++){var S=o[I];if(S.add.SoLd){w.push(S.add.SoLd.Idnt.v);x.push(S.add.SoLd.placed.v)}if(S.add.PtFl)z.push(S.add.PtFl.Ptrn.v.Idnt.v);
if(S.add.lmfx){for(var k=0;k<iR._7.length;k++){var f=S.add.lmfx[iR._7[k]].v;for(var C=0;C<f.length;C++)if(f[C].v.Ptrn){var H=f[C].v;
if(H.classID=="FrFX"&&H.PntT.v.FrFl!="Ptrn")continue;z.push(H.Ptrn.v.Idnt.v)}}}var b=S.add.vstk;if(b&&b.strokeStyleContent.v.classID=="patternLayer"){z.push(b.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var i=P.add.lnk2,M=P.add.FEid,T=P.add.Patt;
if(i){O=[];for(var I=0;I<i.length;I++)if(w.indexOf(i[I].QQ)!=-1)O.push(i[I]);if(O.length==0)O=null}if(M){Y=[];
for(var I=0;I<M.length;I++)if(x.indexOf(M[I].id)!=-1)Y.push(M[I]);if(Y.length==0)Y=null}if(T){U=[];for(var I=0;
I<T.length;I++)if(z.indexOf(T[I].id)!=-1)U.push(T[I]);if(U.length==0)U=null}return[O,Y,U]};da.prototype.eu=function(o){var P=this,w=P.root.wX(o==null?P.T[0]:o),x=!1;
while(w.parent!=null){x=x||w.r.Fp(31);w=w.parent}return x};da.prototype.um=function(){var o=this.Cg,P=this.Cg.length;
if(P!=0&&o[P-1].name=="Quick Mask")return o[P-1]};da.prototype.Li=function(){return this.Ty==ct.j4("% |/!)")||this.Ty==ct.GG("gP")};
da.prototype.oj=function(o){var P=this.add.artd;if(o!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:o},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};da.prototype.w9=function(o){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(o)==-1)this.add.FEid.push(o)};
da.prototype.R1=function(o){var P=this.add.FEid.indexOf(o);this.add.FEid.splice(P,1);if(this.add.FEid.length==0)delete this.add.FEid};
da.prototype.N=function(o){if(o==null)o=new fA(0,0,this.q,this._);if(this.e2==null)this.e2=o;else this.e2=this.e2.It(o)};
da.prototype.a9d=function(o){return this.e2!=null};da.prototype.EB=function(o){var P=this.R[o],w=this.root.wX(o);
if(w==null)return!1;if(P.Pe()||w.parent.children.indexOf(w)==0)return!1;return!0};da.a91=function(o){if(o.add.lnk2)for(var I=0;
I<o.add.lnk2.length;I++){var P=o.add.lnk2[I].QQ;o.add.lnk2[I].QQ=da.Yc()+P.slice(8);for(var w=0;w<o.R.length;
w++){var x=o.R[w].add.SoLd;if(x&&x.Idnt.v==P)x.Idnt.v=o.add.lnk2[I].QQ}}};da.prototype.mu=function(o,P,w){o.sort(function(i,M){return i-M});
var top=o[o.length-1],x=this.R.slice(0),z=this.T.slice(0),S=[],k=[];for(var I=0;I<this.R.length;I++){if(o.indexOf(I)!=-1)k.push(this.R[I]);
else S.push(this.R[I])}this.V4(k);this.T=[];var f=this.root.q_(this,!0);if(P)f=f.SN(P);if(w)f=f.It(w);
if(f.Mw())f=new fA(0,0,100,100);var C=new fA(-f.x,-f.y,this.q,this._),H=new Uint8Array(eu.oi("PSD").D7(this,0,0,[!0,!1]));
this.V4(x);this.T=z;var b=new da(this.R[top].getName());eu.oi("PSD").mJ(H.buffer,b);delete b.add.artd;
b.zV=[];b.V4(b.R);b.sp([[],[]]);da.a91(b);N.A0.De(b,f);b.N();b.cj();b.Ey();return[b,f,S,top]};da.prototype.azv=function(o,P,w){var x=this.mu(o),z=x[0],S=x[1],k=x[2],top=x[3],f;
if(w=="jpg")f=new Uint8Array(eu.oi("JPG").D7([[z.Ey().buffer]],z.q,z._,[80]));else f=new Uint8Array(eu.oi("PSD").D7(z,null,null,[!0,!1]));
if(P)k=this.R.slice(0);var C=this.to(f,z.name,S.x,S.y);if(top==this.R.length-1)k.push(C);else k.splice(P?top+1:top-o.length+1,0,C);
this.V4(k);this.T=[k.indexOf(C)]};da.Yc=function(o){if(o==null)o="";var P="";while(P==""||P==o){P="";
for(var I=0;I<8;I++)P+=Math.floor(Math.random()*16).toString(16)}return P};da.prototype.dO=function(o){if(o==null)return;
if(this.add.Patt==null)this.add.Patt=[];var P=this.add.Patt;for(var I=0;I<P.length;I++)if(P[I].id==o.id)return;
P.push(o)};da.prototype.a8s=function(o){for(var I=0;I<this.R.length;I++){var P=this.R[I],w=P.add.SoLd;
if(w&&w.Idnt.v==o)P.w2(this)}};da.prototype.to=function(o,P,w,x,z,S,k){if(this.add.lnk2==null)this.add.lnk2=[];
var f=null;for(var I=0;I<this.add.lnk2.length;I++)if(e.w6(o,this.add.lnk2[I].raw)){f=this.add.lnk2[I].QQ;
break}if(f==null){var C=eu.IL(o.buffer);f=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f";var H=new X.ZF;H.QQ=f;
H.dW=C=="psd"?"8BIM":"    ";H.V8=P+"."+C;H.Ya=C=="psd"?"8BPB":"    ";H.open=0;H.raw=o;H.type="liFD";
H.ur=2;this.add.lnk2.push(H)}var b=this.xM(f,null,null,null,S,k),i=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f",M=this._L(),T=b?b.vH:new fA;
M.bx(P);M.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:f},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:i},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:e.lD.U(T)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:T.q},Hght:{t:"doub",v:T._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:b?b.vz:72}}};
var O=T.clone();if(w!=null)O.offset(w,x);if(b!=null&&z){var C=eu.IL(o.buffer),Y=z.x,U=z.y,W=z.q,t=z._;
O=b.vH.clone();O.offset(Y+w,U+x);var _=_=this.vz/(C=="pdf"?144:b.vz?b.vz:this.vz);O.q=O.q*_;O._=O._*_;
var n=Math.max(O.q/W,O._/t);if(n>1.0001){O.q=O.q/n;O._=O._/n}O.x=Math.round(Y+(W-O.q)/2);O.y=Math.round(U+(t-O._)/2)}var y=e.a.R2(O).i;
M.add.SoLd.Trnf=N.DH.Co(y);M.add.SoLd.nonAffineTransform=N.DH.Co(y);if(b){if(z)M.w2(this,!1);else if(bn==0){M.rect=b.iT[1].clone();
M.rect.offset(O.x,O.y);M.buffer=b.iT[0].slice(0)}}return M};da.prototype.A_=function(){var o=this.add.arts,P=new fA;
for(var I=0;I<o.length;I++)P=P.It(e.a.RR(o[I].aR));return P};da.prototype.anb=function(o,P,w){var x=this.A_();
if(P==null){P=x.q;w=x._}var z=e.Um(P,w);z.save();z.translate(-x.x,-x.y);z.scale(P/x.q,w/x._);this.root._h(this,z,o,new fA(0,0,P,w));
z.restore();return z.getImageData(0,0,P,w).data.buffer};da.prototype.Ey=function(o){if(o!=null){this.N();
this.cj(o);var P=this.buffer;if(fj.Dx)this.ti.get(P);else P=P.slice(0);this.N();this.cj();return P}if(this.e2){this.cj();
this.e2=null}if(fj.Dx&&this.$x){this.ti.get(this.buffer);this.$x=null;this.dH=!0}return this.buffer};
da.prototype.a4Z=function(){for(var I=0;I<this.R.length;I++)this.R[I].a0k();this.N()};da.prototype.a57=function(){for(var I=0;
I<this.R.length;I++)if(this.R[I].add.lmfx)this.R[I].Mn.U0=!0};da.prototype.FI=function(){var o=this.xX.r1044;
if(o==null){o=this.xX.r1044=new Uint8Array(4);var P=0;for(var I=0;I<this.R.length;I++)P=Math.max(P,this.R[I].add.lyid);
L.Eu(o,0,P)}var w=L.RS(o,0);L.Eu(o,0,w+1);return w+1};da.prototype.p9=function(o,P,w){if(o==null)o=!0;
var x=this;if(x.jM.length!=0)return!0;if(x.T.length!=1){if(o)alert(x.T.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.M_(o,P,w)};da.prototype.M_=function(o,P,w){if(o==null)o=!0;if(P==null)P=!1;var x=this;
if(x.jM.length!=0)return!0;for(var I=0;I<x.T.length;I++){var z=x.R[x.T[I]],S=P||z.Zx<=0;if(z.add.lsct!=null&&z.add.lsct!=jS.qi&&z.Zx!=1){if(o)alert(kQ.get([15,7,2]));
return!1}if(S&&!z.Fn()){if(o)alert(kQ.get([15,7,2]));return!1}if(S&&z.add.TySh){return this.aji(o,[15,7,3],w)}if(S&&z.add.SoLd){return this.aji(o,[15,7,4],w)}if(z.Fp(1)||x.eu(x.T[I])){if(o)alert(kQ.get([6,57,0]));
return!1}}return!0};da.prototype.aji=function(o,P,w){if(o&&typeof o=="object"){var x=new bO(G.E.X);x.data={Q:G.l.y7,hq:"confirm"};
x.data.P=kQ.get(P)+". "+kQ.get([6,8])+"?";var z=o;x.data.eA=function(){var S=new bO(G.E.qc,!0);S.data={wQ:"rasterizeLayer",WP:{classID:"rasterizeLayer",null:h7.TZ("Lyr",!0)}};
z.j(S)};o.j(x);return!1}if(o)alert(kQ.get(P));return!1};da.prototype.a9Q=function(o){var P=this.root.wX(o);
if(P.parent)return P.r.ny()&&this.a9Q(P.parent.index);else return P.r.ny()};da.prototype.Qq=function(o){var P=this;
if(o){var w=0;for(var I=0;I<P.T.length;I++)if(P.R[P.T[I]].add.artb)w++;if(w>1)return-1}if(P.add.artd&&P.T.length!=0){var x=P.root.wX(P.T[0]);
while(x.parent.parent)x=x.parent;if(x.r.add.artb)return x.index}return-1};da.prototype.pT=function(){var o=this.Qq();
if(o!=-1){var P=this.R[o].sK();return new eD(P.x,P.y)}return new eD(0,0)};da.prototype.a03=function(){var o=this.R[this.T[0]];
if(o.Zx<=0&&!o.rect.EI(this.e.rect)){alert("Selected area is empty.");return!1}if(this.T.length==1&&this.e){var P=e.U(this.e.channel.length);
e.zt(o.buffer,o.rect,P,this.e.rect);e.mV(this.e.channel,P);if(e.p8(P,0)){alert("Selected area is empty.");
return!1}}return!0};da.prototype.t8=function(){if(this.xX["r"+1037]==null)this.Ro(30);return L.jS(this.xX["r"+1037],0)};
da.prototype.Ro=function(o){if(this.xX["r"+1037]==null)this.xX["r"+1037]=new Uint8Array(4);if(L.jS(this.xX["r"+1037],0)==o)return;
L.at(this.xX["r"+1037],0,o);this.a57()};da.prototype.KP=function(){if(this.xX["r"+1049]==null)this.Pv(30);
return L.jS(this.xX["r"+1049],0)};da.prototype.Pv=function(o){if(this.xX["r"+1049]==null)this.xX["r"+1049]=new Uint8Array(4);
if(L.jS(this.xX["r"+1049],0)==o)return;L.at(this.xX["r"+1049],0,o);this.a57()};da.prototype.Mc=function(o){if(this.add.lnk2==null)return null;
for(var I=0;I<this.add.lnk2.length;I++)if(this.add.lnk2[I].QQ==o)return this.add.lnk2[I];return null};
da.prototype.aiw=function(o){var P=this.Mc(o);if(P==null)return!1;var w=eu.IL(P.raw.buffer);if(w==null)return!1;
if(eu.oi(w)!=null||w=="psd")return!0;return!1};da.prototype.xM=function(o,P,w,x,z,S){var k=this.Mc(o);
if(k==null)return null;k.Ey(P,w,x,z,S);if(k.iT)return k};da.prototype.atZ=function(){var o=this.q,P=this._;
if(fj.Dx&&this.ti==null)this.ti=new fj.fC(o,P,!0);if(this.buffer==null||this.buffer.length!=o*P*4||fj.Dx&&(this.ti.q!=o||this.ti._!=P)){this.buffer=e.U(o*P*4);
if(this.ti)this.ti.delete();if(fj.Dx)this.ti=new fj.fC(o,P,!0)}};da.prototype.aam=function(){this.atZ();
if(fj.Dx){this.ti.set(this.buffer)}};da.prototype.cj=function(o){if(bn!=0)throw"redrawing in vector mode";
var P=this.q,w=this._,x=new fA(0,0,P,w),z=this.kz?x:x.SN(this.e2);this.atZ();if(z.Mw())return;if(!z.w6(x)){if(!fj.Dx){var S=e.mM(z.c()*4);
e.sR(S,z,this.buffer,x)}if(fj.Dx){fj.kU(this.ti,z);fj.cG(0)}}else{if(fj.Dx){this.ti.set(null)}else{this.buffer.fill(0)}}var k=Date.now(),f=fj.Dx?this.ti:this.buffer;
if(o==null)o=1e9;var C=this.root.children;for(var I=0;I<C.length;I++){var H=C[I].r;if(H.ny()&&H.add.artb&&this.add.artd){var b=H.sK(),i=z.SN(b),M=H.PN();
if(M!=0){if(fj.Dx){fj.kU(f,i);fj.cG(M);fj.cG(M)}else e.ag4(f,x,i,M)}}}this.root.ph(f,x,z,this,[],o);
this.$x=this.e2.clone()};da.prototype._L=function(o){var P=new X;P.rect=new fA(0,0,0,0);P.buffer=e.U(1);
P.add.luni=new eD(0,0);if(o!=!0)P.add.lyid=this.FI();P.add.lsct=jS.qi;P.add.lclr=0;P.add.fxrp=new eD(0,0);
return P};da.prototype.VY=function(o){var P=this._L(o);P.bx("</Layer group>");P.add.lsct=jS.iz;P.Yo=24;
return P};da.prototype.P2=function(){return this.Mi!=this.y$};da.prototype.Oi=function(o){while(this.history.length>this.Mi+1)this.history.pop();
if(this.y$>this.Mi)this.y$=-1;if(o.I.id!=N.iH){this.mk=!0;if(this.NZ.lastAppliedComp){delete this.NZ.lastAppliedComp;
this.dH=!0}}this.history.push(o);this.Mi++;this.dH=!0;var P=jM.lO()?60:30,w=0;for(var I=this.history.length-1;
I>=0;I--){var x=this.history[I];if(x.BZ)continue;w++;if(w==P){this.Mi-=I;this.history=this.history.slice(I);
break}}};da.prototype.k8=function(){if(this.Mi!=this.history.length-1)return null;return this.history[this.history.length-1]};
da.prototype.ea=function(o,P,w,x){if(o==null)o=!1;var z=P!=null?[P]:this.T.slice(0);if(x){var S=[];for(var I=0;
I<z.length;I++){var k=this.R[z[I]],f=k.FU;if(k.Yv&&f!=0&&S.indexOf(f)==-1)S.push(f)}if(S.length!=0)for(var I=0;
I<this.R.length;I++){var k=this.R[I],f=k.FU;if(k.Yv&&f!=0&&S.indexOf(f)!=-1&&z.indexOf(I)==-1)z.push(I)}}var C=[];
for(var I=0;I<z.length;I++){var H=this.f0(z[I],o);for(var b=0;b<H.length;b++)if(C.indexOf(H[b])==-1)C.push(H[b]);
if(w){var eK=this.root.wX(z[I]);while(eK.parent!=null&&eK.parent.parent!=null){eK=eK.parent;if(C.indexOf(eK.index)==-1){C.push(eK.index,eK.Er)}}}}return C};
da.prototype.JT=function(o,P,w){var x=this,z=x.ea(!1,o,null,w);z.sort(function(_,n){return _-n});var S={};
for(var k=0;k<x.R.length;k++){var f=x.R[k].getName();S[f]=!0}var C=[];for(var I=0;I<z.length;I++){var H=x.R[z[I]].clone(),U,W;
H.add.lyid=x.FI();H.add.lspf=0;if(H.zO()){var b=H.fP(x),i=da.azT(b);x.w9(i);H.add.SoLd.placed.v=i.id}else if(H.add.SoLd){var M=H.add.SoLd.placed.v;
H.add.SoLd.placed.v=da.Yc(M.slice(0,8))+M.slice(8)}H.qX(x);var T=H.getName(),O=T.length;while(48<=T.charCodeAt(O-1)&&T.charCodeAt(O-1)<=57)O--;
var Y=parseInt(T.slice(O));if(isNaN(Y)){if(T.endsWith(" copy")){Y=1;U=T.slice(0,T.length-5)}else{Y=0;
U=T}}else if(T.slice(0,O).endsWith(" copy ")){Y=Y;U=T.slice(0,O-6)}else{Y=0;U=T}Y++;while(!0){W=U+" copy"+(Y==1?"":" "+Y);
if(S[W]==null)break;Y++}var t=z.indexOf(this.root.wX(z[I]).parent.index)!=-1;if(T=="Background"&&x.R.length==1)W="Layer 1";
if(P!=!0&&!t)H.bx(W);S[W]=!0;C.push(H)}return C};da.azT=function(o){return{id:da.Yc(o.id.slice(0,8))+o.id.slice(8),buffer:o.buffer.slice(0),rect:o.rect.clone(),u:o.u?o.u.clone():null}};
da.aoo=function(o){return{id:o,rect:new fA,buffer:e.U(1),u:new X.wy}};da.xZ=function(o,P){if(P==null)P={vmsk:new X.tc};
if(P.vogk==null){P.vogk=[];var w=e.n.f8(P.vmsk.g);for(var x=0;x<w;x++)P.vogk.push(e.KH.mM())}return{name:o,BG:0,add:P}};
da.prototype.m0=function(o){var P=[],w=[],x=this;for(var I=1;I<x.Fx.length;I++){var z=x.Fx[I];z.BG=-1-I;
P.push(z);if(x.lL.indexOf(I)!=-1)w.push(P.length-1)}if(x.Fx[0].add.vmsk.g.length>2){var z=x.Fx[0];z.BG=-1;
P.push(z);if(x.lL.indexOf(0)!=-1)w.push(P.length-1)}var S=x.wJ==null;if(S)x.wJ=[];for(var I=x.T.length-1;
I>=0;I--){var k=x.T[I],f=x.R[k],C=f.add.TySh;if(f.add.vmsk!=null){var z=da.xZ("\""+f.getName()+"\" Shape Path",f.add);
z.BG=k;P.push(z);if(S&&(f.yJ||f.aj()))x.wJ.push(k);if(x.wJ.indexOf(k)!=-1)w.push(P.length-1)}if(o!=!0&&C&&C.add&&e.lD.tN(C.c5)){var z=da.xZ("\""+f.getName().slice(0,10)+"..\" Text Path",C.add);
z.BG=1e6+x.T[I];P.push(z);w.push(P.length-1)}}if(w.length==0&&o){x.Fx[0].BG=-1;x.lL=[0];w.push(P.length);
P.push(x.Fx[0])}return[P,w]};da.prototype.f0=function(I,o){var P=[],eK=this.root.wX(I);if(eK)eK.Of(P,o);
return P};da.prototype.TW=function(){this.root.Tu(this,new fA(0,0,this.q,this._))};da.prototype.V4=function(o){for(var I=0;
I<this.R.length;I++){var P=this.R[I];if(o.indexOf(P)==-1){P.Mn.aF1();P.N()}}var w=0;for(var I=0;I<o.length;
I++)if(o[I].add.artb)w++;this.oj(w);this.R=o.slice(0);this.GO()};da.prototype.GO=function(){var o=this.R,P=o.length;
this.root=new kF;var w=this._L(!0);w.gS="pass";w.add.lsct=jS.KC;w.bx("");var x=this.VY(!0),z=[x];for(var I=0;
I<P;I++)z.push(o[I]);z.push(w);this.root.axC(z,0,0);if(this.T.length==0)this.T=[P-1]};da.prototype._5=function(){if(this.T.length!=1)return;
var o=this.root.wX(this.T[0]);while(o.parent!=null){var P=o.parent.r;P.add.lsct=jS.KC;o=o.parent}this.yW=this.ada=!0};
da.prototype.abz=function(){this.GO();var o=[this.root],dY=0;while(o.length!=0){var top=o.pop();dY++;
if(top.r.add.lsct==jS.KC)for(var I=0;I<top.children.length;I++)o.push(top.children[I])}if(dY>1e3){var P=this.root.children;
for(var I=0;I<P.length;I++)if(P[I].r.add.lsct==jS.KC)P[I].r.add.lsct=jS.v_}};da.zX=function(o,P,w,x,z,S,k,f){if(f==null)f="sRGB IEC61966-2.1";
var C={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:x},artboard:{t:"bool",v:S},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:o*72/w}},Hght:{t:"UntF",v:{type:"#Rlt",val:P*72/w}},Rslt:{t:"UntF",v:{type:"#Rsl",val:w}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:z}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:f}}}};
if(z=="Clr")C.Nw.v.FlCl={t:"Objc",v:k};return{wQ:"make",WP:C}};da.agf=function(o,P){var w=0,x=0,z=72,S=P.aka,k=o.preset&&o.preset.v=="Clipboard";
if(k){w=S.q;x=S._}else{w=o.Wdth.v.val;x=o.Hght.v.val;z=o.Rslt.v.val;w=Math.round(w*z/72);x=Math.round(x*z/72)}var f=new da((o.Nm?o.Nm.v:kQ.get([11,7]))+".psd");
f.q=w;f._=x;f.vz=z;var C=o.Fl?o.Fl.v.Fl:"Wht";if(o.artboard&&o.artboard.v){var H=f._L();H.bx(kQ.get([1,16,0])+" 1");
H.add.lsct=jS.KC;H.VZ(new fA(0,0,w,x));H.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[C]};
if(C=="Clr")H.add.artb.Clr={t:"Objc",v:e.G.e1(e.G.dQ(o.FlCl.v))};H.gS="pass";H.Yo=24;var b=f._L();b.bx("Layer 1");
f.V4([f.VY(),b,H]);f.oj(1);f.T=[1]}else if(bn==0){var i=f._L(),M=0;i.bx("Background");f.V4([i]);i.add.lspf=1<<2;
if(C=="Clr"){M=e.G.dQ(o.FlCl.v);M=255<<24|Math.round(M.b)<<16|Math.round(M.H)<<8|Math.round(M.$)}else{var T=P.eI;
T=(T&255)<<16|(T>>>8&255)<<8|T>>>16;M={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|T}[C]}i.rect=new fA(0,0,w,x);
i.buffer=e.U(w*x*4);e.ZT(i.buffer,M);i.wW()}if(bn==0)f.buffer=e.U(w*x*4);var O=o.profile;if(O){var Y={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[O.v];
if(Y)f.f$(eu.hP.get(Y))}return f};da.prototype.aBj=function(){var o=this,P=o.add.arts=[],w=!0;o.add.prvw=1;
o.GO();var x=o.root.children;for(var I=0;I<x.length;I++)if(!x[I].r.Pe())w=!1;if(!w||o.R.length==0){o.R.unshift(o.VY());
var z=o._L();z.bx("Layer 1");z.add.lsct=jS.KC;z.gS="pass";z.Yo=24;o.R.push(z);for(var I=0;I<o.T.length;
I++)o.T[I]++;o.yS=!0}if(o.add.artd){delete o.add.artd;var S=[];for(var I=0;I<o.R.length;I++){var z=o.R[I],k=z.add.artb;
if(k==null)continue;var f=z.sK();delete z.add.artb;P.push({uD:z.getName(),aR:[f.x,f.y,f.x+f.q,f.y+f._],T:!1});
var C=k.artboardBackgroundType.v;if(C!=1&&C!=3){var H=o.root.wX(I).cF;S.push([H,C,f,e.G.dQ(k.Clr.v)])}}for(var I=0;
I<S.length;I++){var H=S[I][0],C=S[I][1],f=S[I][2],b=S[I][3],z=o._L();z.bx("Background");z.add.vmsk=new X.tc;
z.add.vmsk.g=e.n.fg.Rect(f.x,f.y,f.q,f._);z.add.vstk=iR.Vq.bS(!0);z.add.vstl=iR.XO.bS();z.add.vstl.wm=[null,[1,1,1],[0,0,0],[],[b.$/255,b.H/255,b.b/255],[1,1,1]][C];
z.h6();o.R.splice(o.R.indexOf(H)+1,0,z);o.GO()}console.log(S)}else P.push({uD:"Artboard",aR:[0,0,o.q,o._],T:!1});
if(o.name.endsWith(".psd"))o.name=o.name.slice(0,-4)+".ai";if(o.buffer)o.buffer=null;for(var I=0;I<o.R.length;
I++){var z=o.R[I],f=z.rect;if(z.Pe()&&z.add.vmsk){var i=o._L();o.R.splice(I,0,i);i.bx("<Clipping Path>");
i.u_=!0;i.add.vogk=z.add.vogk;delete z.add.vogk;i.add.vmsk=z.add.vmsk;delete z.add.vmsk;i.add.vstk=iR.Vq.bS();
i.add.SoCo=JSON.parse(iR.lC[iR.order.indexOf("SoFi")]);i.add.vstl={};console.log("mask here!")}else if(z.aj()&&z.add.vstl==null){if(z.add.vmsk==null){z.add.vmsk=new X.tc;
z.add.vmsk.g=e.n.fg.Rect(0,0,o.q,o._);z.add.vstk=iR.Vq.bS(!0);z.h6()}var M=z.add.vstl=da.TQ(z.add)}delete z.add.lmfx;
if(z.add.SoLd||z.add.TySh||z.add.vmsk||f.Mw())continue;var T=f.q,O=f._,Y=e.Nm(z.buffer,T,O)?"JPG":"PNG";
if(T*O<700*700)Y="PNG";var U=eu.oi(Y).D7([[z.buffer.buffer]],T,O),W=o.R[I]=o.to(new Uint8Array(U),z.getName(),f.x,f.y);
W.Kt(z.ny())}};da.TQ=function(o,P){var w=o.vstk,C=null,H=null;if(w==null)w=iR.Vq.bS(!0);var x=iR.Vq.EO(w),z=iR.KT(o),S=iR.Hb(w);
function k(C){var Y=e.G.dQ(C.Clr.v);return[Y.$/255,Y.H/255,Y.b/255]}var f=o.lmfx;if(f)C=f.solidFillMulti.v[0];
if(C)C=C.v;if(C&&(!C.enab.v||C.Opct.v.val<50))C=null;if(f)H=f.frameFXMulti.v[0];if(H)H=H.v;if(H&&(!H.enab.v||H.Opct.v.val<50))H=null;
var b=o.vmsk,i=b?b.g:e.n.fg.Rect(0,0,P.q,P._);for(var M=0;M<2;M++){var T=M==0?z:S,O=[];if(T.Ya==1)O=c8.Nb(T.v4.Clr.v);
if(T.Ya==2){O=o[M==0?"_fstl":"_sstl"];if(O==null||bn==0)O=gn.AF(T.v4,i,P)}if(M==0&&C)O=k(C);if(M==1&&H){O=k(H);
x.dy=H.Sz.v.val;x.pu=iR.stroke.types.indexOf(H.Styl.v.FStl);x.F0=1}if(M==0)x.wm=O;else x.eJ=O}return x};
function ij(o){this.lg=o;this.D=0;this.z0=1;this.f=new eD(0,0);this.s4=new eD(0,0);this.$N=0;this.A=[1,1,1];
this.bO=0;this.Si=new fA(0,0,1,1);this.awT=new fA(0,0,o.q,o._);this.QF=null;this.Yu=null;this.qL=new Uint32Array(0);
this.bi=null;this.Yl=null;this.vv=e.U(0);this.MM=null;this.ku=null}ij.prototype.TL=function(o){var P=new ar,w=this.Si,x=this.lg,z=o?this.z0:this.D,S=o?this.s4:this.f,k=Math.round((w.q-x.q*z)/2+S.x),f=Math.round((w._-x._*z)/2+S.y);
P.translate(-k,-f);P.scale(1/z,1/z);var C=x.q/2,H=x._/2;P.translate(-C,-H);P.rotate(this.$N);P.translate(C,H);
return P};ij.prototype.aAM=function(o){var P=this.Si,w=this.lg,x=Math.atan2(-o.b,o.F),z=w.q/2,S=w._/2;
o.translate(-z,-S);o.rotate(-x);o.translate(z,S);var k=1/o.gz();o.scale(k,k);var f=-o.$X,C=-o.Ar,H=Math.round(f-(P.q-w.q*k)/2),b=Math.round(C-(P._-w._*k)/2);
if(Math.abs(k-Math.round(k))<1e-6)k=Math.round(k);this.$N=x;this.D=k;this.f=new eD(H,b)};ij.prototype.hI=function(o,P,w){var x=this.TL(),z=x.Zc(new eD(o,P));
if(w){z.x=Math.round(z.x);z.y=Math.round(z.y)}return z};ij.prototype.vd=function(o,P){var w=this.TL();
w.Sd();return w.Zc(new eD(o,P))};function iR(){}iR.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
iR._7="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
iR.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];iR.ail=["DrSh","IrSh","SoFi","GrFl","FrFX"];
iR.pL=["Clr"];iR.d$="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");iR.pg=["Ptrn","Angl","Scl","Algn","phase"];
iR.GV={iv:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aAz:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aHp:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aeH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",po:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
iR.GV.iv="\"Clr\": "+iR.GV.iv;iR.GV.G="\"Grad\":"+iR.GV.aAz+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
iR.GV.po="\"Ptrn\":"+iR.GV.po+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
iR.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
iR.lC=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+iR.GV.iv+","+iR.GV.G+","+iR.GV.po+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iR.GV.iv+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iR.GV.G+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iR.GV.po+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
iR.G={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
iR.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],$Q:["SClr","GrFl","Ptrn"],a8q:[[13,0],[12,37],[12,62]]};
iR.EZ={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aE7:["SrcC","SrcE"],aqW:[[19,5,1],[12,69]]};iR.K_={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a9I:["SfBL","PrBL","Slmt"],aBS:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
iR.Vq={xr:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],cv:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Fs:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+iR.GV.iv+"}")},strokeStyleResolution:{t:"doub",v:72}},bS:function(o,P){var w=JSON.parse(iR.Vq.aqs);
if(o)w.fillEnabled.v=!0;if(P)w.strokeEnabled.v=!0;return w},EO:function(o,P,w){if(P==null)P={};if(w==null)w=1;
var x=o.strokeStyleLineDashSet.v,z=P.dy=o.strokeStyleLineWidth.v.val*w;P.Pm=o.strokeStyleMiterLimit.v;
P.f7=o.strokeStyleLineDashOffset.v.val;P.F0=iR.Vq.join.indexOf(o.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
P.UR=iR.Vq.xr.indexOf(o.strokeStyleLineCapType.v.strokeStyleLineCapType);P.pu=iR.Vq.cv.indexOf(o.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
P.iW=[];for(var I=0;I<x.length;I++)P.iW.push(x[I].v.val*z);if(P.iW.length==1&&P.iW[0]==0)P.iW=[];return P},write:function(o,P,w){if(w==null)w=1;
var x=P.dy,z=P.Pm,S=P.iW,k=P.f7,f=P.F0,C=P.UR,H=P.pu;if(x!=null)x=o.strokeStyleLineWidth.v.val=Math.max(.4,x*w);
else x=o.strokeStyleLineWidth.v.val;if(H!=null)o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[H];
if(z!=null)o.strokeStyleMiterLimit.v=z;if(S!=null)o.strokeStyleLineDashSet.v=iO.YQ(S,w/x);if(k!=null)o.strokeStyleLineDashOffset.v.val=k;
if(f!=null)o.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iR.Vq.join[f];if(C!=null)o.strokeStyleLineCapType.v.strokeStyleLineCapType=iR.Vq.xr[C]}};
iR.Vq.aqs=JSON.stringify(iR.Vq.default);iR.XO={bS:function(){return{wm:[1,1,1],eJ:[0,0,0],dy:1,Pm:0,iW:[],f7:0,F0:0,UR:0,pu:1}},aqp:function(o){var P=fe.dQ(o.StrokeColor),w=iR.XO.bS();
w.pu=o.FillFirst?1:2;var x=o._LineCap,z=o._LineJoin,S=o._MiterLimit,k=o._LineDashOffset,f=o._LineDashArray,C=o.OutlineWidth;
if(x)w.UR=x;if(z)w.F0=z;if(S)w.Pm=S;if(f)w.iW=f;if(C!=null)w.dy=C;w.eJ=[P.$/255,P.H/255,P.b/255];return w},aCZ:function(o,P){P.FillFirst=o.pu==1;
P._LineCap=o.UR;P._LineJoin=o.F0;P._MiterLimit=o.Pm;P._LineDashArray=o.iW}};iR.Hb=function(o){var P=o.strokeEnabled.v,w=o.strokeStyleContent.v;
return P?{Ya:1+iR.Vq.Fs.indexOf(w.classID),v4:w}:{Ya:0}};iR.C4=function(o,P){var w=P.Ya;o.strokeEnabled.v=w!=0;
if(w!=0){o.strokeStyleContent.v=P.v4;P.v4.classID=iR.Vq.Fs[w-1]}};iR.KT=function(o){var P=o.vstk,w=null;
if(P&&!P.fillEnabled.v)w={Ya:0};else if(o.SoCo)w={Ya:1,v4:o.SoCo};else if(o.GdFl)w={Ya:2,v4:o.GdFl};
else if(o.PtFl)w={Ya:3,v4:o.PtFl};return w};iR.bu=function(o,P){var w=o.vmsk,x=o.vstk,z=P.Ya;if(x)x.fillEnabled.v=z!=0;
if(z>0){var S=["SoCo","GdFl","PtFl"][z-1];for(var I=0;I<3;I++)delete o[["SoCo","GdFl","PtFl"][I]];o[S]=P.v4}};
iR.P_=[{classID:"null",Clr:JSON.parse(iR.lC[5]).Clr},{classID:"null",Grad:JSON.parse(iR.lC[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(iR.lC[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var iO={};iO.a3O=function(o,P){function w(o,M){if(o==null||!o.masterFXSwitch.v)return null;var T=o[M].v,O;
if(T.length!=0){O=T[0].v;if(!O.enab.v)O=null}return O}var x=P.SoCo,z=P.GdFl,S=w(o,"solidFillMulti"),k=w(o,"gradientFillMulti");
if(S==null&&k==null)return[x,z];var f=iO.ahU;if(x&&S&&k==null){var C=JSON.parse(JSON.stringify(x));C.Clr.v=f(S.Clr.v,x.Clr.v,S);
return[C,null]}if(z&&S&&k==null){var H=JSON.parse(JSON.stringify(z)),b=H.Grad.v.Clrs.v;for(var I=0;I<b.length;
I++){var i=b[I].v.Clr;i.v=f(S.Clr.v,i.v,S)}return[null,H]}if(x&&k){var H=JSON.parse(JSON.stringify(k)),b=H.Grad.v.Clrs.v;
for(var I=0;I<b.length;I++){var i=b[I].v.Clr;i.v=f(i.v,x.Clr.v,k)}return[null,H]}return[S,k]};iO.T6={zM:e.U(4),GZ:e.U(4),$:new fA(0,0,1,1)};
iO.ahU=function(o,P,w){var x=jK.RD(w.Md.v.BlnM),z=w.Opct.v.val/100,S=iO.T6;o=e.G.dQ(o);P=e.G.dQ(P);S.zM[0]=o.$;
S.zM[1]=o.H;S.zM[2]=o.b;S.zM[3]=255;S.GZ[0]=P.$;S.GZ[1]=P.H;S.GZ[2]=P.b;S.GZ[3]=255;e.C.Iv(x,S.zM,S.$,S.GZ,S.$,S.$,z);
return{classID:"RGBC",Rd:{t:"doub",v:S.GZ[0]},Grn:{t:"doub",v:S.GZ[1]},Bl:{t:"doub",v:S.GZ[2]}}};iO.a0b=function(o,P,w){var x=o;
o=o.slice(0);var z=jK.gg[jK.VB.indexOf(P.Md.v.BlnM)],S=e.G.dQ(P.Clr.v),k=4278190080|Math.round(S.b)<<16|Math.round(S.H)<<8|Math.round(S.$),f=e.U(w.c()*4);
e.ZT(f,k);e.C.Iv(z,f,w,o,w,w,P.Opct.v.val/100);for(var I=0;I<o.length;I+=4)o[I+3]=x[I+3];return o};iO.w7=function(o,P){var w=["Sz","blur","Sftn","Dstn"];
for(var I=0;I<iR.order.length;I++){var x=iR.order[I],z=o[iR._7[I]].v;for(var S=0;S<z.length;S++){var k=z[S].v;
for(var f=0;f<w.length;f++){var C=k[w[f]];if(C){var H=C.v.val,b=H;b=Math.max(H==0?0:1,b*P);if(x=="ChFX")b=Math.min(b,250);
if(x=="ebbl"){if(w[f]=="blur")b=Math.min(b,250);if(w[f]=="Sftn")b=Math.min(b,16)}C.v.val=Math.round(b)}}if(x=="ebbl"||x=="patternFill"||x=="FrFX")if(k.Ptrn&&k.Scl)k.Scl.v.val=Math.max(1,Math.min(1e3,k.Scl.v.val*P))}}};
iO.aD5=function(o,P,w){var x=new fA(-.5,-.5,1,1);for(var I=0;I<iR.order.length;I++){var z=iR.order[I],S=o[iR._7[I]].v;
for(var k=0;k<S.length;k++){var f=S[k].v,i;if(!f.enab.v)continue;var C=f.blur?f.blur.v.val+1:0,H=f.Ckmt?f.Ckmt.v.val/100:0,b=Math.round(C*H);
if(z=="DrSh"||z=="IrSh"&&w){i=new fA(-.5,-.5,1,1);i.$b(C,C);iO.n0(i,f,P,0)}if(z=="St3D"){i=new fA(-.5,-.5,1,1);
iO.n0(i,f,P,Math.PI,"Angl")}if(z=="OrGl"||z=="IrGl"&&w){i=new fA(-.5,-.5,1,1);i.$b(C,C)}if(z=="FrFX"){var M=iO.Fz(f),T=M[1];
if(w)T=Math.max(M[0],T);i=new fA(-.5,-.5,1,1);i.$b(Math.ceil(T),Math.ceil(T))}if(z=="ebbl"){var C=f.blur.v.val,O=f.bvlS.v.BESl;
if(O=="Embs"||O=="PlEb")C/=2;var Y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],U=["SfBL","PrBL","Slmt"],W=["In","Out"],t=f.bvlT.v.bvlT!="SfBL"?C:C*.43,_=Math.round(C);
i=new fA(-_-1,-_-1,2*_+2,2*_+2)}if(w&&z=="ChFX"){i=new fA(-.5,-.5,1,1);i.$b(C,C);var n=i.clone();iO.n0(i,f,P,0);
iO.n0(n,f,P,Math.PI);i=i.It(n)}if(i)x=x.It(i)}}if(x.x!=Math.ceil(x.x)){x.x=Math.ceil(x.x);x.q-=1}if(x.y!=Math.ceil(x.y)){x.y=Math.ceil(x.y);
x._-=1}x.q=Math.floor(x.q);x._=Math.floor(x._);return x};iO.Fz=function(o){var P,w,x=0,z=0;if(o.Sz){P=o.Sz.v.val;
w=iR.stroke.types.indexOf(o.Styl.v.FStl)}else{P=o.Wdth.v;w=["Insd","Cntr","Otsd"].indexOf(o.Lctn.v.StrL)}if(w==0)x=P;
if(w==1)x=z=P/2;if(w==2)z=P;return[x,z]};iO.akj=function(o){if(fj.Dx&&o.Ei==null){o.Ei=new fj.fC(o.$I.q,o.$I._);
o.Ei.set(o.eD);delete o.eD;if(o.Z$){o.Va=new fj.qK(o.$I.q,o.$I._);o.Va.set(o.Z$);delete o.Z$}if(o.zb){o.fI=new fj.qK(o.$I.q,o.$I._);
o.fI.set(o.zb);delete o.zb}}};iO.akO=function(o){if(o.Ei)o.Ei.delete();if(o.Va)o.Va.delete();if(o.fI)o.fI.delete()};
iO.a6R=function(o){if(o.all==null)return;for(var I=0;I<o.all.length;I++){iO.akO(o.all[I])}};iO.a8y=function(o,P,w,x,z,S){var k=iO.og(w,x,o,P,z,S);
for(var I=0;I<k.all.length;I++)iO.akj(k.all[I]);return k};iO.akn=function(o){for(var I=0;I<iR.order.length;
I++){var P=iR.order[I],w=iR._7[I],x=o[w].v;for(var z=0;z<x.length;z++){var S=x[z].v;if(S.enab.v&&["patternFill","GrFl","SoFi"].indexOf(P)==-1)return!0}}return!1};
iO.og=function(o,P,w,x,z,S){if(S==null)S=x;var k=0,f=0;for(var I=0;I<iR.order.length;I++){var C=iR.order[I],H=iR._7[I],b=o[H].v;
for(var i=0;i<b.length;i++){var M=b[i].v;if(C=="DrSh"&&M.enab.v&&M.Ckmt.v.val>0&&M.blur.v.val>0)k=Math.max(k,Math.ceil(M.Ckmt.v.val*M.blur.v.val/100));
if(C=="OrGl"&&M.enab.v&&M.Ckmt.v.val>0&&M.blur.v.val>0&&M.GlwT.v.BETE=="SfBL")k=Math.max(k,Math.ceil(M.Ckmt.v.val*M.blur.v.val/100));
if(C=="OrGl"&&M.enab.v&&M.blur.v.val>0&&M.GlwT.v.BETE=="PrBL")k=Math.max(k,M.blur.v.val);if(C=="FrFX"&&M.enab.v&&M.Sz.v.val>0){if(M.Styl.v.FStl=="OutF")k=Math.max(k,M.Sz.v.val);
if(M.Styl.v.FStl=="CtrF")k=Math.max(k,Math.ceil(M.Sz.v.val/2));f=Math.max(f,iO.Fz(M)[1])}}}var T=new iO.oG(w,x,k,iO.akn(o)),O=-x.x,Y=-x.y,U={type:{},all:[]};
for(var W=0;W<iR.order.length;W++){var C=iR.order[W],H=iR._7[W];U.type[C]=[];for(var t=o[H].v.length-1;
t>=0;t--){var _=o[H].v[t].v,a;if(!_.enab.v)continue;var n=_.blur?_.blur.v.val:0,y=_.Ckmt?_.Ckmt.v.val/100:0,F=n*y;
if(C=="St3D"){var V=Math.max(1e-4,1-_.Srnk.v.val/100),$=2,cH=0;function D(l,gC,_){var aM=_.Angl.v.val;
aM*=Math.PI/180;var u=_.Dstn.v.val,aq=Math.cos(aM)*u,e$=-Math.sin(aM)*u,kP=V+gC*(1-V),cu=new ar;cu.translate(-l.q/2,-l._/2);
cu.scale(kP,kP);cu.translate(l.q/2,l._/2);cu.translate((1-gC)*aq,(1-gC)*e$);return cu}var l=x.clone(),Q=w;
l.x=l.y=0;var m=Date.now(),R=l.clone();R.$b($,$);var p=e.U(R.c());e.d0(Q,l,p,R);R.x=R.y=0;e.uY.xf(p,p,R,2);
var c=e.U(R.c()*4);c.fill(255);e.K0(p,c);var B=e.U(l.c()),Z=l.q,v=l._,E=R.q,g=iO.abe(_,z),u=Math.cos(g[1]),j=-Math.cos(g[0])*u,A=Math.sin(g[0])*u;
if(Math.abs(j)<.001&&Math.abs(A)<.001)j=A=0;for(var K=0;K<v;K++)for(var s=0;s<Z;s++){var I=(K+$)*E+s+$,r=p[I+1]-p[I-1],h=p[I+E]-p[I-E],jC=r*r+h*h;
if(jC>10){var d=1/Math.sqrt(jC);B[K*Z+s]=Math.max(0,Math.min(255,128+127*(j*d*r+A*d*h)))}}var q=[Q,l],hc=D(l,0,_),dk=e.a.R2(l).i,c6=dk.slice(0);
e.a.h(dk,hc,c6);var e3=l.It(e.a.RR(c6)),ks=e.U(e3.c()*4);for(var I=0;I<8;I+=2){var r=dk[I]-c6[I],h=dk[I+1]-c6[I+1];
cH=Math.max(cH,Math.sqrt(r*r+h*h))}var bI=Math.round(cH/2),aR=e.G.dQ(_.Clr.v);aR.$/=255;aR.H/=255;aR.b/=255;
var ak=_.Drkn.v.val/100;for(var cN=0;cN<bI;cN++){var gC=cN/bI,bD=1-ak+gC*ak,cu=D(l,gC,_),du=l.clone(),bq=Q;
if(V!=1){var hn=N.DH.IE(q,cu);du=hn.rect;bq=hn.channel}else{var aK=cu.Zc(new eD(0,0));du.x+=Math.round(aK.x);
du.y+=Math.round(aK.y)}var cQ=e.U(du.c()*4);if(j!=0||A!=0){var jR=du.q,ch=du._,bx=aR.$,jf=aR.H,dW=aR.b,bf=cu.clone();
bf.Sd();var iu=bf.Zc(new eD(.5,.5)),dV=bf.Zc(new eD(1.5,1.5)),r=dV.x-iu.x,h=dV.y-iu.y;for(var K=0;K<ch;
K++){for(var s=0;s<jR;s++){var I=K*jR+s,gb=I*4,gP=Math.max(0,Math.min(Z-1,~~(.5+r*s))),eJ=Math.max(0,Math.min(v-1,~~(.5+h*K))),c1=B[eJ*Z+gP],ku=-1+2*c1*(1/255),aC=-ku,gU=0;
if(ku>0){aC=0;gU=ku}cQ[gb]=255*(1-aC)*(gU+(1-gU)*bx)*bD;cQ[gb+1]=255*(1-aC)*(gU+(1-gU)*jf)*bD;cQ[gb+2]=255*(1-aC)*(gU+(1-gU)*dW)*bD}}}else iO.sy(cQ,_.Clr.v,null,bD);
e.lI(bq,cQ,3);e.C.Iv("norm",cQ,du,ks,e3,du,1)}a={eD:ks,$I:e3}}else if(C=="DrSh"){var hR=T.ME(F,n-F,!0),a7=hR.lh,dh=hR.sn.clone();
iO.nZ(a7,_,!1);if(_.Cntn&&_.Cntn.v){var eS=new fA;iO.n0(eS,_,z,0);var d0=dh.clone();d0.offset(-eS.x,-eS.y);
d0=d0.It(dh);var cJ=e.U(d0.c());e.d0(a7,dh,cJ,d0);var aO=Math.sqrt(eS.x*eS.x+eS.y*eS.y),a9=a7.slice(0);
for(var I=0;I<aO-1;I++){var r=Math.round(-eS.x*I/aO),h=Math.round(-eS.y*I/aO),ac=hR.sn.clone();ac.offset(r,h);
e.ad7(a9,ac,cJ,d0)}a7=cJ;dh=d0}dh.offset(O,Y);iO.n0(dh,_,z,0);var ks=e.U(dh.c()*4);iO.sy(ks,_.Clr.v);
e.lI(a7,ks,3);a={eD:ks,$I:dh,aCv:_.layerConceals.v}}else if(C=="IrSh"){var hR=T.ME(F,n-F,!1);iO.n0(hR.sn,_,z,0);
var dh=T.rect().clone(),a7=e.U(dh.c());a7.fill(255);e.d0(hR.lh,hR.sn,a7,dh);iO.nZ(a7,_,!0,!0);var ks=e.U(dh.c()*4);
iO.sy(ks,_.Clr.v);e.lI(a7,ks,3);dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="GrFl"){var ks=e.U(T.rect().c()*4);
iO.OI(_,ks,T.rect(),z,null,S);var dh=T.rect().clone();dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="SoFi"){var ks=e.U(T.lh().length*4);
iO.sy(ks,_.Clr.v);var dh=T.rect().clone();dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="ebbl"){var e7=!1;
if(e7)console.log(_);var m=Date.now(),b2=m,jQ=_.bvlS.v.BESl,g9=_.bvlT.v.bvlT;if(jQ=="strokeEmboss"){var cx=o.frameFXMulti.v;
if(cx.length==0)continue;cx=cx[0].v;if(!cx.enab.v)continue;var i8=cx.Styl.v.FStl;if(i8=="OutF")jQ="OtrB";
if(i8=="CtrF")jQ="Embs";if(i8=="InsF")jQ="InrB"}var n=_.blur.v.val;if(n==0)n=.7;if(jQ=="Embs"||jQ=="PlEb")n/=2;
var fw=["OtrB","InrB","Embs","PlEb","strokeEmboss"],hi=["SfBL","PrBL","Slmt"],dU=["In","Out"],dv=g9!="SfBL"?n:n*.45,bo=Math.round(n),fV=T.rect().clone(),ck=fV.clone();
ck.$b(bo,bo);var Z=ck.q,v=ck._,h8=Z*v,fS=e.U(h8);e.d0(T.lh(),fV,fS,ck);var iS=e.style.Vu(fS,Z,v);e.Sd(fS);
var fh=e.style.Vu(fS,Z,v);if(e7)console.log("distTransform computed",Date.now()-m);m=Date.now();iO.agg(dv,iS,fh);
if(e7)console.log("summing + cropping",Date.now()-m);m=Date.now();if(g9=="SfBL"){var h9=Math.pow(n*.21,1.22);
if(!0)h9=Math.max(h9,2);e.uY.P1(fh,ck,h9,2)}if(e7)console.log("blurring",Date.now()-m);m=Date.now();
var gi=fh,dX=iS;dX.set(gi);if(_.useShape.v){var f8=Math.min(100,_.Inpr.v.val+1)/100;if(jQ!="OtrB"&&jQ!="InrB")f8=1;
var kS=e.Kh.NX(_.MpgS.v.Crv.v,2e3),jJ=Math.round(2e3/f8);kS=e.Kh.aGI(kS,jJ,jQ=="InrB");var gj=.5/dv;
for(var I=0;I<h8;I++){var k8=gi[I],g$=.99999*(k8+dv)*gj;gi[I]=-dv+2*dv*kS[~~(g$*(jJ-1))]}if(e7)console.log("applying shape",Date.now()-m);
m=Date.now()}if(_.useTexture.v){var cQ=e.U(Z*v*4);iO.UX(_,cQ,ck,z.add.Patt,P);var ib=e.U(Z*v);e.KN(cQ,ib);
e.uY.a18(ib,ib,ck,1);var eo=n*_.textureDepth.v.val*(1/100)*(1/255);if(_.InvT.v)eo=-eo;for(var I=0;I<h8;
I++)gi[I]+=-eo*ib[I];if(e7)console.log("applying texture",Date.now()-m);m=Date.now()}var iP=jQ=="PlEb",d6=new Float32Array(h8),fc=d6;
if(iP){fc=new Float32Array(h8)}var kL=iO.as4(Z,v,_,z,gi,d6,fc,iP);if(e7)console.log("raycasting",Date.now()-m);
m=Date.now();if(_.Sftn.v.val!=0){e.uY.P1(d6,ck,_.Sftn.v.val*.43,2);if(iP)e.uY.P1(fc,ck,_.Sftn.v.val*.43,2)}if(e7)console.log("softening",Date.now()-m);
m=Date.now();var hC=new Uint8Array(d6.buffer),em=new Uint32Array(hC.buffer),aS=new Uint8Array(gi.buffer),cY=new Uint32Array(aS.buffer),cl=hC,cf=aS,hb=em,fE=cY;
if(iP){cl=new Uint8Array(fc.buffer);hb=new Uint32Array(cl.buffer);cf=new Uint8Array(dX.buffer);fE=new Uint32Array(cf.buffer)}iO.aHA(_,Z,v,kL,dv,iP,dX,em,cY,hb,fE,d6,fc);
if(e7)console.log("baking textures",Date.now()-m);m=Date.now();ck=T.rect().clone();ck.$b(bo,bo);ck.offset(O,Y);
a={a5d:_.bvlS.v.BESl=="strokeEmboss"};var cK=jK.RD(_.hglM.v.BlnM),ka=_.hglO.v.val/100,hj=jK.RD(_.sdwM.v.BlnM),hS=_.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(jQ)!=-1){a.ey={eD:hC,$I:ck,Hl:cK,ID:ka};a.Qe={eD:aS,$I:ck,Hl:hj,ID:hS}}if(["OtrB","Embs","PlEb"].indexOf(jQ)!=-1){a.JA={eD:cl,$I:ck,Hl:cK,ID:ka};
a.mL={eD:cf,$I:ck,Hl:hj,ID:hS}}if(e7)console.log(Date.now()-b2)}else if(C=="patternFill"){var cW=T.rect(),ks=e.U(cW.c()*4);
iO.UX(_,ks,cW,z.add.Patt,P);var dh=cW.clone();dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="ChFX"){var ks=e.U(T.lh().length*4);
iO.sy(ks,_.Clr.v);var n=_.blur.v.val,cn=T.rect().clone();cn.$b(n,n);var dz=e.U(cn.c()),iD=e.U(cn.c());
e.d0(T.lh(),T.rect(),iD,cn);e.uY.xf(iD,dz,cn,n*.43);var dy=e.Kh.hM(_.MpgS.v.Crv.v,256,!0);e.a7W(dz,dy);
var ef=e.U(T.lh().length),bd=e.U(T.lh().length),iF=T.rect().clone();iO.n0(iF,_,z,0);e.d0(dz,cn,ef,iF);
iF=T.rect().clone();iO.n0(iF,_,z,Math.PI);e.d0(dz,cn,bd,iF);var j1=ef.length;for(var I=0;I<j1;I++)ks[4*I+3]=Math.abs(ef[I]-bd[I]);
if(_.Invr.v)for(var I=0;I<j1;I++)ks[4*I+3]=255-ks[4*I+3];var dh=T.rect().clone();dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="OrGl"){var hR;
if(_.GlwT.v.BETE=="SfBL")hR=T.ME(F,n-F,!0);else hR=T.anw(n,y,!0);var a7=hR.lh,dh=hR.sn,kv=a7.slice(0);
iO.a93(a7,_);var ks=e.U(dh.c()*4);if(_.Grad==null){iO.sy(ks,_.Clr.v);iO.nZ(a7,_,!1)}else{iO.nZ(a7,_,null);
var cP={nw:a7,Vv:255,HI:0,p$:dh};iO.OI(_,ks,dh,z,cP);var kc=_.Nose.v.val/100,e4=dh.q;for(var I=0;I<kv.length;
I++){var cz=255,fU=kv[I];if(fU<32){var cT=(fU+kv[I-1]+kv[I+1]+kv[I-e4]+kv[I+e4])*.2-1;cz=Math.min(255,Math.round(Math.max(0,cT)*8))}a7[I]=cz}iO.aGt(a7,_)}e.lI(a7,ks,3);
dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="IrGl"){var hR;if(_.GlwT.v.BETE=="SfBL")hR=T.ME(F,n-F,!1);
else hR=T.anw(n,y,!1);var a7=hR.lh,dh=hR.sn;iO.a93(a7,_);if(_.glwS.v.IGSr=="SrcC")e.Sd(a7);var ks=e.U(dh.c()*4);
if(_.Grad==null){iO.sy(ks,_.Clr.v);iO.nZ(a7,_,!0)}else{iO.nZ(a7,_,null);var cP={nw:a7,Vv:255,HI:0,p$:dh};
iO.OI(_,ks,dh,z,cP);a7.fill(255);iO.aGt(a7,_)}e.lI(a7,ks,3);dh.offset(O,Y);a={eD:ks,$I:dh}}else if(C=="FrFX"){var jW=iO.Fz(_),iz=jW[0],ii=jW[1],dh=T.rect().clone(),hs=null,cw=null;
dh.$b(Math.ceil(f),Math.ceil(f));if(ii>0){var hR=T.ME(ii,0,!0);cw=hR.lh;if(cw.length<dh.c()){cw=e.U(dh.c());
e.d0(hR.lh,hR.sn,cw,dh)}}if(iz>0){var hR=T.ME(iz,0,!1);hs=e.U(dh.c());hs.fill(255);e.d0(hR.lh,hR.sn,hs,dh)}dh.offset(O,Y);
var ks=e.U(dh.c()*4),e6=_.PntT.v.FrFl;if(e6=="SClr")iO.sy(ks,_.Clr.v);if(e6=="GrFl")iO.OI(_,ks,dh,z,T.aaa(iz,ii));
if(e6=="Ptrn")iO.UX(_,ks,dh,z.add.Patt,P);var jt=_.overprint,cR=jt?jt.v:!1;if(cR){var k4=hs?hs:cw;if(hs&&cw)e.mH.SN(hs,cw,k4);
e.lI(k4,ks,3)}a={eD:ks,$I:dh,zb:cw,Z$:hs,awi:cR}}U.type[C].push(a);if(C=="ebbl"){if(a.ey)U.all.push(a.ey,a.Qe);
if(a.JA)U.all.push(a.JA,a.mL)}else{a.Hl=jK.RD(_.Md.v.BlnM);a.ID=_.Opct.v.val/100,U.all.push(a)}}}return U};
iO.ha=function(o){var P=1/Math.sqrt(o.x*o.x+o.y*o.y+o.af*o.af);o.x*=P;o.y*=P;o.af*=P};iO.arm=function(o,P){return{x:o.y*P.af-o.af*P.y,y:o.af*P.x-o.x*P.af,af:o.x*P.y-o.y*P.x}};
iO.a3n=function(o,P){return o.x*P.x+o.y*P.y+o.af*P.af};iO.aGt=function(o,P){var w=P.Nose.v.val/100;if(w>0)for(var I=0;
I<o.length;I++){var x=o[I];x=Math.min(510-(1+w)*e.style.GI(I),x);o[I]=x}};iO.agg=function(o,P,w){var x=P.length;
for(var I=0;I<x;I++){var z=w[I]-P[I];w[I]=z}for(var I=0;I<x;I++){var z=w[I];if(z<-o)w[I]=-o;else if(z>o)w[I]=o}};
iO.as4=function(o,P,w,x,z,S,k,f){var C=iO.abe(w,x),H=C[0],b=C[1],i=Math.cos(H)*Math.cos(b),M=-Math.sin(H)*Math.cos(b),T=Math.sin(b);
S.fill(T);if(f)k.fill(T);var O=(w.bvlT.v.bvlT=="SfBL"?1:.5)*(w.bvlD.v.BESs=="In"?1:-1)*w.srgR.v.val/100,Y=-.125*O;
for(var U=0;U<P;U++){var W=U==0?0:-o,t=U==P-1?0:o,I=U*o;for(var _=0;_<o;_++,I++){var n=_==0?I:I-1,y=_==o-1?I:I+1,F=z[y]-z[n],a=z[I+t]-z[I+W];
if(F*F+a*a<.005)continue;var V=z[n+W],D=z[y+W],l=z[n+t],Q=z[y+t],m=Y*(D+2*F+Q-V-l),R=Y*(l+2*a+Q-V-D),$=1/Math.sqrt(m*m+R*R+1);
m*=$;R*=$;S[I]=Math.max(0,m*i+R*M+$*T);if(f)k[I]=Math.max(0,-m*i-R*M+$*T)}}return T};iO.aHA=function(o,P,w,x,z,S,k,f,C,H,b,i,M){var T=1/x,O=1/(1-x),Y=1/z,U=e.Kh.NX(o.TrnS.v.Crv.v,1024),W=iO.vs(o.hglC.v,0),t=iO.vs(o.sdwC.v,0),_=new Float32Array(2500);
for(var I=0;I<2500;I++){var n=Math.max(0,Math.min(1,(I-500)*.001));_[I]=Math.pow(n,.2)}var y=new Float32Array(1024),F=new Float32Array(1024);
for(var I=0;I<1024;I++){var a=U[I];y[I]=255*(1-Math.min(1,a*T));F[I]=255*(1-Math.min(1,(1-a)*O))}for(var V=0;
V<w;V++)for(var n=0;n<P;n++){var I=V*P+n,D=(k[I]+z*.993)*Y,l=_[~~(500+D*1e3)],Q=~~(i[I]*1023),m=l*y[Q],R=l*F[Q];
C[I]=~~(.5+m)<<24|t;f[I]=~~(.5+R)<<24|W;if(S){Q=~~(M[I]*1023);m=l*y[Q];R=l*F[Q];b[I]=~~(.5+m)<<24|t;
H[I]=~~(.5+R)<<24|W}}};iO.uT=function(o){var P=iO.ax(),w=o.Xa,x=!1;for(var I=0;I<32;I+=8)if(w[I]+w[I+1]+w[I+4]+w[I+5]!=0||w[I+2]+w[I+3]+w[I+6]+w[I+7]!=1020)x=!0;
if(x){w=w.slice(0);for(var I=0;I<40;I+=4){var z=w[I]/255,S=w[I+1]/255,k=w[I+2]/255,f=w[I+3]/255;w[I]=z-.001;
w[I+1]=z==S?1e6:1/(S-z);w[I+2]=k==f?-1e6:1/(k-f);w[I+3]=f+.001}}var C=o.add.iOpa!=null?o.add.iOpa/255:P.fill,H=o.add.vstk;
if(H&&!H.fillEnabled.v&&(!H.strokeEnabled.v||H.strokeStyleLineWidth.v.val==0))C=0;return{fill:C,qq:x?w:null,hW:o.add.brst!=null?o.add.brst:P.hW,adM:o.add.knko!=null?o.add.knko:P.adM,style:!1,hH:!1}};
iO.ax=function(){return{fill:1,qq:null,hW:[1,1,1],adM:0,style:!1,hH:!1}};iO.aEe=function(o,P,w,x,z,S,k,f){if(f==null)f=1;
if(k==null)k=new ar;var C=o.kR[1].q,H=o.kR[1]._,b=new ar,i=z<2;if(i)b.translate(-C/2,-H/2);if(z==0){f*=Math.max(w/C,x/H)}else if(z==1){f*=Math.min(w/C,x/H)}else if(z==2){b.scale(1/C,1/H);
b.concat(k);b.scale(w,x)}else if(z==3){f=f}b.scale(f,f);if(i)b.translate(w/2,x/2);b.concat(S);P.Ptrn.v.Idnt.v=o.id;
P.Scl.v.val=Math.round(100*b.gz());P.Angl.v.val=Math.round(180*Math.atan2(-b.b,b.F)/Math.PI);P.Algn.v=!0;
var M=P.phase.v;M.Hrzn.v=Math.round(b.$X);M.Vrtc.v=Math.round(b.Ar)};iO.HE=function(o,P){if(P==null)return null;
var w=o.Idnt.v,x=o.Nm.v;for(var I=0;I<P.length;I++)if(P[I].id==w)return P[I];for(var I=0;I<P.length;
I++)if(P[I].name==x)return P[I];return null};iO.ad2=function(o,P,w){var x=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var I=0;I<x.length;I++){var z=o.v[x[I]].v;for(var S=0;S<z.length;S++)if(z[S].v.Ptrn)P.dO(iO.HE(z[S].v.Ptrn.v,w))}};
iO.a3p=function(o,P,w){var x=["patternFillMulti","ebblMulti","frameFXMulti"];for(var I=0;I<x.length;
I++){var z=o.v[x[I]].v;for(var S=0;S<z.length;S++)if(z[S].v.Ptrn){var k=z[S].v.Ptrn.v,f=iO.HE(k,w),C=iO.HE(k,P.add.Patt);
if(f==null&&C)w.push(C)}}};iO.UX=function(o,P,w,x,z){var S=iO.HE(o.Ptrn.v,x);if(S!=null&&!w.Mw()){var k=S.kR,f=k[0],C=k[1],H=0;
e.nJ(k);var b=(o.Scl?o.Scl.v.val:100)/100;while((b<.3||b==.5)&&k[H+2]){b*=C.q/k[H+3].q;H+=2;f=k[H];C=k[H+1]}var i=e.scale.UX(f,C.q,C._),M=o.phase?o.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},T=o.Angl?o.Angl.v.val:0,O=-w.x+M.Hrzn.v-1,Y=-w.y+M.Vrtc.v-1;
if(o.Algn!=null&&!o.Algn.v){}else{O+=z.x;Y+=z.y}if(P)e.scale.ach(i,P,w.q,w._,b,b,O+1,Y+1,T*Math.PI/180);
else return[i,b,O+1,Y+1,T*Math.PI/180]}};iO.OI=function(o,P,w,x,z,S,k,f){if(S==null)S=w;var C=o.Type?o.Type.v.GrdT:"shapeburst",H=o.Algn&&o.Algn.v?S:new fA(0,0,x.q,x._),b=o.Angl?e.G.am4(o,H):[new eD(0,0),new eD(100,0)],i=b[0].x,M=b[0].y,T=b[1].x-i,O=b[1].y-M,Y=Math.sqrt(T*T+O*O);
Y=1/(2*Y*Y);var U=[T*Y,O*Y,-O*Y,T*Y],W=o.Rvrs?o.Rvrs.v:!1,t=o.Dthr?o.Dthr.v:!1;e.G.i6(o.Grad.v,P,w,U,i,M,W,iR.G.types.indexOf(C),k==null?0:k,f==null?0:f,z,t)};
iO.a8r=function(o,P,w){for(var I=0;I<o.all.length;I++){var x=o.all[I];x.AT=x.$I.clone();x.AT.offset(P,w)}};
iO.a7x=function(o,P,w,x,z,S){var k=fj.Dx?iO.a4S:iO.aum;iO.a8r(P,w.x,w.y);var f=P.type.DrSh;for(var I=0;
I<f.length;I++)if(!f[I].aCv)k(f[I],x,z,S)};iO.aj4=function(o,P,w,x,z,S,k,f,C,H){var b=w,i=fj.Dx?iO.a4S:iO.aum,M=fj.Dx?fj.C.$t:e.C.RH,T;
T=P.type.DrSh;for(var I=0;I<T.length;I++)if(T[I].aCv)i(T[I],x,z,S);T=P.type.St3D;for(var I=0;I<T.length;
I++)i(T[I],x,z,S);T=P.type.OrGl;for(var I=0;I<T.length;I++)i(T[I],x,z,S);var O="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var Y=0;Y<O.length;Y++){var T=P.type[O[Y]];for(var I=0;I<T.length;I++)i(T[I],k,b,S)}var U=P.type.ebbl[0],W=U!=null&&U.a5d;
T=P.type.FrFX;for(var I=0;I<T.length;I++){var t=T[I];kF.Jj.d0(f,H,C,H,S);i(t,C,H,S);if(W&&I==T.length-1){if(U.mL)i(U.mL,C,H,S);
if(U.JA)i(U.JA,C,H,S);if(U.Qe)i(U.Qe,C,H,S);if(U.ey)i(U.ey,C,H,S)}if(t.awi){if(t.Z$||t.Va){i(t,k,b,S)}if(t.zb||t.fI){i(t,x,z,S)}}else{if(t.Z$||t.Va)M(C,H,k,b,fj.Dx?t.Va:t.Z$,t.AT,0,S,1);
if(t.zb||t.fI)M(C,H,x,z,fj.Dx?t.fI:t.zb,t.AT,0,S,1)}}if(!W&&U!=null){if(U.mL)i(U.mL,x,z,S);if(U.JA)i(U.JA,x,z,S);
if(U.Qe)i(U.Qe,k,b,S);if(U.ey)i(U.ey,k,b,S)}};iO.aum=function(o,P,w,x){var z=iO.ax();z.fill=o.ID;z.style=!0;
e.C.Iv(o.Hl,o.eD,o.AT,P,w,x,1,z)};iO.a4S=function(o,P,w,x){var z=iO.ax();z.fill=o.ID;z.style=!0;fj.C.akB(o.Hl,o.Ei,o.AT,P,w,x,1,z)};
iO.a93=function(o,P){var w=1-P.Inpr.v.val/100,x=1+Math.tan(w*(Math.PI/2)),z=o.length;for(var I=0;I<z;
I++)o[I]=Math.min(255,Math.round(o[I]*x))};iO.nZ=function(o,P,w,x){var z=P.blur.v.val,S=Math.round(z*(P.Ckmt.v.val/100));
if(z>S){var k=e.Kh.hM(P.TrnS.v.Crv.v,256,x!=!0);e.a7W(o,k)}if(w!=null&&P.Nose.v.val>0)e.style.lz(o,P.Nose.v.val/100,w)};
iO.vs=function(o,P,w){if(P==null)P=255;var x=e.G.dQ(o);if(w!=null){x.$=Math.round(x.$*w);x.H=Math.round(x.H*w);
x.b=Math.round(x.b*w)}return P<<24|x.b<<16|x.H<<8|x.$};iO.sy=function(o,P,w,x){var z=new Uint32Array(o.buffer);
z.fill(iO.vs(P,w,x))};iO.n0=function(o,P,w,x,z){var S=P.uglg&&P.uglg.v?w.t8():P[z?z:"lagl"].v.val;S=S*Math.PI/180+x;
var k=Math.cos(S)*P.Dstn.v.val,f=Math.sin(S)*P.Dstn.v.val;o.x-=Math.round(k);o.y+=Math.round(f)};iO.abe=function(o,P){var w=o.uglg&&o.uglg.v?P.t8():o.lagl.v.val;
w=w*(Math.PI/180);var x=o.uglg&&o.uglg.v?P.KP():o.Lald.v.val;x=x*(Math.PI/180);return[w,x]};iO.a4h=function(o){if(o==null||!o.masterFXSwitch.v)return null;
var P=o.frameFXMulti.v,w=null;for(var I=0;I<P.length;I++)if(P[I].v.enab.v)w=P[I].v;if(w==null)return null;
var x=iR.Vq.bS();iO.aDQ(w,x);return x};iO.aDQ=function(o,P){var w=iR.stroke.$Q.indexOf(o.PntT.v.FrFl),x=[iR.pL,iR.d$,iR.pg][w],z=P.strokeStyleContent.v={classID:iR.Vq.Fs[w]};
for(var I=0;I<x.length;I++)z[x[I]]=o[x[I]];P.strokeEnabled=o.enab;P.strokeStyleLineWidth=o.Sz;P.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iR.Vq.cv[iR.stroke.types.indexOf(o.Styl.v.FStl)];
P.strokeStyleOpacity=o.Opct;P.strokeStyleBlendMode=o.Md;P.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
iO.YQ=function(o,P){var w=[];for(var I=0;I<o.length;I++)w.push({t:"UntF",v:{type:"#Nne",val:o[I]*P}});
return w};iO.a7F=function(o,P){var w=o.opacity/255*(o.add.iOpa?o.add.iOpa/255:1),x=o.add.TySh,z=o.Pe()||o.aj()&&o.add.vmsk&&o.add.vstk.fillEnabled.v&&o.add.vstk.strokeEnabled.v;
if(x){var S=x.OY.EngineDict.StyleRun.RunArray,k=S[0].StyleSheet.StyleSheetData,f=0;if(k.FillFlag)f++;
if(k.StrokeFlag)f++;if(k._FillBackgroundFlag)f++;if(f>1)z=!0}return z&&(P||w!=1||o.gS!="pass"&&o.gS!="norm")};
iO.oG=function(o,P,w,x){this.gs=P.clone();this.aFR=P.clone();this.aFR.$b(w,w);if(x){this.gs.$b(1,1);
this.rb=e.U(this.gs.c());e.d0(o,P,this.rb,this.gs)}else this.rb=o;this.Np=null;this.vU=null;this.Mp=null};
iO.oG.prototype.lh=function(){return this.rb};iO.oG.prototype.rect=function(){return this.gs};iO.oG.prototype.ee=function(){return this.aFR};
iO.oG.prototype.kE=function(){if(this.Np)return this.Np;this.Np=this.lh().slice(0);e.Sd(this.Np);return this.Np};
iO.oG.prototype.IG=function(){if(this.vU)return this.vU;this.vU=e.style.Vu(this.kE(),this.rect().q,this.rect()._);
return this.vU};iO.oG.prototype.qb=function(){if(this.Mp)return this.Mp;var o=this.ee(),P=e.U(o.c());
e.d0(this.lh(),this.rect(),P,o);var w=Date.now();this.Mp=e.style.Vu(P,o.q,o._);return this.Mp};iO.oG.prototype.aaa=function(o,P){var w={Vv:-P,HI:o,p$:null,nw:null};
if(P==0){w.p$=this.rect();w.nw=this.IG();return w}var x=this.qb().slice(0),z=this.ee();w.p$=z;w.nw=x;
for(var I=0;I<x.length;I++)x[I]=-x[I];if(o==0)return w;var S=this.IG(),k=this.rect();for(var f=0;f<k._;
f++)for(var C=0;C<k.q;C++){var H=f*k.q+C,b=(f+k.y-z.y)*z.q+C+k.x-z.x;x[b]+=S[H]}return w};iO.oG.prototype.ME=function(o,P,w){var x=Math.ceil(o+P),z={sn:this.rect().clone(),lh:null};
z.sn.$b(x,x);z.lh=e.U(z.sn.c());if(o==0&&P==0)e.L9(w?this.lh():this.kE(),z.lh);else{var S=e.U(z.sn.c());
e.d0(this.lh(),this.rect(),S,z.sn);if(!w)e.Sd(S);if(o!=0){if(w)e.style.yn(S,z.sn,this.qb(),this.ee(),o);
else e.style.yn(S,z.sn,this.IG(),this.rect(),o)}if(P!=0)e.uY.xf(S,z.lh,z.sn,Math.max(1,P*.43));else z.lh=S}return z};
iO.oG.prototype.anw=function(o,P,w){var x=o*(P-.5),z={sn:this.rect().clone(),lh:null};if(w)z.sn.$b(o,o);
z.lh=e.U(z.sn.c());var S=z.sn.q,k=z.sn._,f=w?this.qb():this.IG(),C=w?this.ee():this.rect(),H=z.sn,b=H.SN(C),S=b.q,k=b._,i=b.x-H.x,M=b.y-H.y,T=b.x-C.x,O=b.y-C.y,Y=1-P*2;
for(var U=0;U<k;U++)for(var W=0;W<S;W++){var t=f[(U+O)*C.q+W+T],_=t/o;z.lh[(U+M)*H.q+W+i]=Math.max(0,Math.min(255,255-255*((_+Y)/(1+Y))))}return z};
iO.axO=function(o,P,w,x){var z=o.Lefx,S=o.blendOptions;if(z){var k=P.add.lmfx;if(w==null)w=k?k.Scl.v.val:100;
P.add.lmfx=JSON.parse(JSON.stringify(z.v));if(P.add.lmfx.Scl==null)P.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
iO.w7(P.add.lmfx,w/P.add.lmfx.Scl.v.val);if(k)P.add.lmfx.Scl.v.val=k.Scl.v.val;var f=z.v.gagl;if(f&&x)x.Ro(f.v.val)}else delete P.add.lmfx;
if(S){S=S.v;if(S.Md)P.gS=jK.RD(S.Md.v.BlnM);if(S.Opct)P.opacity=Math.round(S.Opct.v.val*255/100);if(S.fillOpacity)P.add.iOpa=Math.round(S.fillOpacity.v.val*255/100);
if(S.Blnd){var C=[];for(var I=0;I<10;I++)C.push(0,0,255,255);var H=S.Blnd.v,b="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var I=0;I<H.length;I++){var i=H[I].v,M=8*["Gry","Rd","Grn","Bl"].indexOf(i.Chnl.v[0].v.enum);for(var T=0;
T<8;T++){C[M+T]=i[b[T]].v}}P.Xa=C}}};iO.agF=function(o){var P="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),w=[],x=o.Xa;
for(var I=0;I<4;I++){var z=I*8;if(x[z]+x[z+1]+x[z+4]+x[z+5]==0&&x[z+2]+x[z+3]+x[z+6]+x[z+7]==4*255)continue;
var S={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][I]}}]}}};
w.push(S);for(var k=0;k<8;k++)S.v[P[k]]={t:"long",v:x[I*8+k]}}var f={classID:"blendOptions"};if(o.gS!="norm")f.Md={t:"enum",v:{BlnM:jK.W_(o.gS)}};
if(o.opacity!=255)f.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100/255)}};if(o.add.iOpa!=null)f.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)}};
if(w.length!=0)f.Blnd={t:"VlLs",v:w};var C={hb:{classID:"null",Idnt:{t:"TEXT",v:da.Yc()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},M6:{classID:"Styl",blendOptions:{t:"Objc",v:f}}},H=o.add.lmfx;
if(H)C.M6.Lefx={t:"Objc",v:H};return C};function bh(){}bh.Ri=function(o){return JSON.parse(JSON.stringify(o))};
bh.ja=function(o){var P=bh.Ri(bh.aA8),w=P.Brsh.v;if(o!=null){delete w.Hrdn;w.classID="sampledBrush";
w.sampledData={t:"TEXT",v:o}}return P};bh.aA8={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bh.art=function(o,P){var w=["opVr","szVr"],x=["usePaintDynamics","useTipDynamics"];for(var I=0;I<2;I++){var z=w[I];
if(o[z]==null)o[z]=JSON.parse(bh.ha.du[z]);o[z].v.bVTy.v=P[I]?2:0;if(P[I])o[x[I]].v=!0}bh.ha.akd(o)};
bh.ha={};bh.ha.check=function(o){var P=bh.ha.z5;for(var I=0;I<P.length;I++)if(o[P[I]]==null)o[P[I]]=JSON.parse(bh.ha.du[P[I]]);
var w=[];for(var I=0;I<P.length;I++)w.push(P[I]);var x=bh.ha.a4x;for(var I=0;I<x.length;I++){var z=x[I][0],S=x[I][1],k=!0;
for(var f=0;f<z.length;f++)k=k&&o[z[f]].v==!0;if(k)for(var f=0;f<S.length;f++){if(o[S[f]]==null)console.log("Missing conditional parameter "+S[f]);
else w.push(S[f])}}for(var C in o)if(w.indexOf(C)==-1&&C!="toolOptions")console.log("Extra parameter "+C);
o=o.Brsh.v;P=bh.ha.Bb.z5;for(var I=0;I<P.length;I++)if(o[P[I]]==null)o[P[I]]=JSON.parse(bh.ha.Bb.du[P[I]]);
w=[];for(var I=0;I<P.length;I++)if(o[P[I]])w.push(P[I]);else console.log("Missing default parameter "+P[I]);
x=bh.ha.Bb.ad_[o.classID];for(var I=0;I<x.length;I++)if(o[x[I]]==null&&x[I]!="dtipsGridSize"&&x[I]!="dtipsErodibleTipHeightMap"&&o.a5K!=1)console.log("Missing conditional parameter "+x[I]);
else w.push(x[I]);for(var C in o)if(w.indexOf(C)==-1)console.log("Extra parameter "+C)};bh.ha.akd=function(o){var P=bh.ha.a4x;
for(var I=0;I<P.length;I++){var w=P[I][0],x=P[I][1],z=!0;for(var S=0;S<w.length;S++)z=z&&o[w[S]]&&o[w[S]].v==!0;
if(z){for(var S=0;S<x.length;S++)if(o[x[S]]==null){o[x[S]]=JSON.parse(bh.ha.du[x[S]])}}else for(var S=0;
S<x.length;S++)if(o[x[S]]!=null){delete o[x[S]]}}};bh.ha.Bb={};bh.ha.Bb.z5="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bh.ha.Bb.du={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bh.ha.Bb.ad_={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bh.ha.a4x=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bh.ha.z5="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bh.ha.du={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function gv(o,P){this.a8w=o;this.$N=P==null?0:P;this.dir=0}gv.prototype.i1=function(o,P){var w=this.a8w,x=new eD(o.x-w.x,o.y-w.y),z=new ar;
z.rotate(-this.$N);x=z.Zc(x);if(this.dir==0&&!w.w6(o))this.dir=Math.abs(x.x)<Math.abs(x.y)?1:2;if(P.d(i$.W1)){if(this.dir==1)x.x=0;
if(this.dir==2)x.y=0}z.Sd();x=z.Zc(x);var S=new eD(w.x+x.x,w.y+x.y);return S};gv.prototype.abu=function(o){if(o.d(i$.W1))return this.dir;
return 0};var kO=function(){function o(){this.a0w={}}o.acH=function(P,w){var x=P.clone();x.$X-=Math.floor(x.$X);
x.Ar-=Math.floor(x.Ar);var z=new eD(w,0),S=new eD(0,w),k=x.Zc(z),f=x.Zc(S),C=new eD(x.$X,x.Ar);return[k,f,C]};
o.aoO=function(P,w){var x=eD.a_;return x(P[0],w[0])+x(P[1],w[1])+x(P[2],w[2]);return dsum};o.prototype.a2Q=function(P){var w=this.a0w,x=w[P];
if(x==null)x=w[P]={nl:[],nn:0,c:0,a6Q:0,agM:0};x.nn=Date.now();while(Object.keys(w).length>3){var z="",S=Date.now();
for(var k in w){var f=w[k].nn;if(f<S){S=f;z=k}}delete w[z]}return x};o.prototype.aGF=function(P,w){var x=P.nl,z,S=1e6;
for(var I=0;I<x.length;I++){var k=x[I],f=o.aoO(k.yy,w);if(f<S){z=k;S=f}}return z};o.prototype.aq_=function(P,w){var x=P.nl;
x.push(w);P.c+=w.rect.c();if(x.length>1e3||P.c>100*100*1600){console.log("pruning",P.c,x.length);x.sort(function(S,k){return k.nn-S.nn});
while(x.length>500||P.c>100*100*800){var z=x.pop();P.c-=z.rect.c()}}};return o}();function j2(o,P,w,x,z,S,k,f,C){this.MH=P;
this.Nc=w;this.eI=S;this.bV=x;this.zZ=null;this.yh=null;this.cU=0;this.av1=0;this.a5E=0;this.Vh=0;this.X5=0;
this.Zs=C==null?Math.floor(Math.random()*16777215):C;this.OW=C==null?Math.floor(Math.random()*16777215):C;
this.pv=new fA;this.ck=new fA;if(f!=null){this.eD=f}else{var H=j2.afv;if(H.length!=k.c()*4)H=e.U(k.c()*4);
else H.fill(0);this.eD=j2.afv=H}this.rect=k.clone();this.$r=[];this.GS=[];this.Aq=null;this.AB=0;this.b=null;
this.aeO="";this.Pr=null;this.amw(o,z)}j2.afv=e.U(16);j2.prototype.amw=function(o,P){this.AB=P;this.b=o;
this.aeO=JSON.stringify(o)+JSON.stringify(this.bV.Qn);this.Pr=j2.a2U(this.b,this.MH,this.Nc)};j2.prototype.moveTo=function(o,P,w){w=this.ar0(w);
this.cU=w;var x=new eD(o,P),z=this.b.Brsh.v.Dmtr.v.val;this.zZ=x.clone();this.yh=x.clone();this.Aq=x.clone();
this.$r=[o,P];this.GS=[w];if(this.bV.KX!=j2.MK){var S=this.b.angleDynamics,k=S?S.v.bVTy.v==6:!1;this.KS(k?new fA:this.a8O(x,this.aHx(w),w,new eD(0,0)))}this.Vh=x.clone()};
j2.prototype.lineTo=function(o,P,w){w=this.ar0(w);var x=this.$r,z=x.length,S=x[z-2],k=x[z-1];if(o==S&&P==k)return;
var f=this.b.Brsh.v.Dmtr.v.val,C=Math.ceil(f)+1,H=new fA(Math.round(S),Math.round(k),0,0);H.$b(C,C);
var b=new fA(Math.round(o),Math.round(P),0,0);b.$b(C,C);this.$r.push(o,P);this.GS.push(w);z+=2;if(z>=6)this.KS(this.aCP(z))};
j2.prototype.ar0=function(o){if(o==null)o=1;o=Math.max(.05,Math.min(5,o));if(isNaN(o)){alert("Pressure is not a number");
throw"e"}return o};j2.prototype.KS=function(o){this.pv=o;this.ck=this.ck.It(o)};j2.prototype.finish=function(){var o=this.$r,P=o.length,w;
if(P==4)w=this.Fj(o[P-2],o[P-1],this.GS[(P>>1)-1],!0);if(P>4)w=this.aCP(P+2);if(w)this.KS(w)};j2.prototype.q_=function(){return this.rect.clone()};
j2.prototype.xv=function(){return this.pv.SN(this.rect)};j2.prototype.wA=function(){return this.ck.SN(this.rect)};
j2.prototype.$C=function(){return this.eD};j2.prototype.aCP=function(o){var P=this.$r,w=this.GS,x=P[o-6],z=P[o-5],S=P[o-4],k=P[o-3],f=w[(o>>1)-3],C=w[(o>>1)-2],H=new eD(0,0),b=new eD(0,0);
if(8<=o)H=j2.a7a(P[o-8],P[o-7],x,z,S,k);if(o<=P.length)b=j2.a7a(P[o-2],P[o-1],S,k,x,z);var i=x+H.x,M=z+H.y,T=S+b.x,O=k+b.y,Y=new fA,U=this.a56()?1:10;
for(var I=0;I<U;I++){var W=(I+1)/U,t=1-W,_=t*t*t*x+3*W*t*t*i+3*W*W*t*T+W*W*W*S,n=t*t*t*z+3*W*t*t*M+3*W*W*t*O+W*W*W*k,y=this.Fj(_,n,f+W*(C-f));
Y=Y.It(y)}return Y};j2.a7a=function(o,P,w,x,z,S){var k=o-w,f=P-x,C=z-w,H=S-x,b=Math.sqrt(k*k+f*f),i=Math.sqrt(C*C+H*H),M=Math.acos((k*C+f*H)/(b*i))/Math.PI,T=.35,O=.1;
M=O+M*(T-O);var Y=z-o,U=S-P,W=Math.sqrt(Y*Y+U*U),t=M*i/W;return new eD(Y*t,U*t)};j2.prototype.Fj=function(o,P,w,x){var z=new fA,S=this.bV.a7e;
if(S==null)S=0;if(S==0||x){z=this.az9(o,P,w);return z}var k=this.Aq,f=o-k.x,C=P-k.y,H=Math.sqrt(f*f+C*C);
f/=H;C/=H;if(H>S){var b=k.x+f*(H-S),i=k.y+C*(H-S);z=this.az9(b,i,w);this.Aq.Mx(b,i)}return z};j2.prototype.a56=function(){var o=this.b,P=o.Brsh.v.Dmtr.v.val;
return this.bV.Qn&&P==1};j2.prototype.az9=function(o,P,w){var x=new fA,z=new eD(o,P),S=this.bV.KX,k=z.WJ(this.yh);
k.normalize(1);var f=eD.a_(this.yh,z),C=-this.av1,H=this.yh.clone();if(this.a56()){if(f>.99){var b=this.yh;
j2.af3(b,z,this.eD,this.rect,this.Zf(this.b));x=e.a.RR([b.x,b.y,z.x,z.y]);C=f}else z=this.yh}else while(!0){var i=this.cU+(w-this.cU)*(Math.max(0,C)/f),M=this.aHx(i),T=this.arD()*(M+this.a5E)/2*this.Pr.asR;
if(S==j2.MK)T=1;T=Math.max(T,.5);if(C+T<f){C+=T;this.X5+=T;var O=new eD(this.yh.x+k.x*C,this.yh.y+k.y*C),W=1;
if(S==j2.MK){var Y=H.clone();Y.x+=k.x>0?1:-1;var U=H.clone();U.y+=k.y>0?1:-1;if(eD.a_(Y,O)<eD.a_(U,O))O=Y;
else O=U;C=eD.a_(O,this.yh)}if(this.b.useScatter.v==!0){W=this.b.Cnt.v;var t=this.b.countDynamics.v.jitter.v.val/100,_=t*(-1+2*this.o8());
W+=Math.round(W*_)}for(var I=0;I<W;I++){var n=this.a8O(O,M,w,k);x=x.It(n)}H=O}else break}this.av1=f-C;
this.yh=z;this.cU=w;return x};j2.prototype.arD=function(){var o=this.b.Brsh.v,P=o.Spcn.v.val,w=Math.max(5,o.Rndn.v.val);
return w/100*(P/100)};j2.prototype.aHx=function(o){var P=this.b,w=P.Brsh.v.Dmtr.v.val;if(P.useTipDynamics.v){var x=w*(P.minimumDiameter.v.val/100);
w=x+(w-x)*(1-this.o8(this.OW)*(P.szVr.v.jitter.v.val/100));w*=j2.If(P,"szVr",o,this.X5)}return w};j2.If=function(o,P,w,x){var z=1,S=o[P].v,k=S.bVTy.v,f=S.fStp.v;
if(k==1)z*=Math.max(0,(f-x)/f);if(k==2)z*=w;return z};j2.prototype.a8O=function(o,P,w,x){var z=this.bV.CB,Y=0;
z=Math.min(1,z);var S=this.b,k=this.b.Brsh.v,f=k.Dmtr.v.val,C=this.bV,H=C.KX,b=C.aqa,i=this.Pr.kR[1],M=new ar;
M.translate(-i.q/2,-i._/2);M.scale(1/this.Pr.aGD,1/this.Pr.aGD);M.scale(P/f,P/f);M.scale(1,Math.max(5,k.Rndn.v.val)/100);
if(S.usePaintDynamics&&S.usePaintDynamics.v){var T=S.opVr.v.jitter.v.val/100,O=S.prVr.v.jitter.v.val/100;
z*=1-this.o8()*T;z*=1-this.o8()*O;z*=j2.If(S,"opVr",w,this.X5)*j2.If(S,"prVr",w,this.X5)}if(S.useTipDynamics.v){var U=S.angleDynamics.v,W=S.minimumRoundness.v.val/100;
M.scale(1,W+(1-W)*Math.round(100-this.o8()*S.roundnessDynamics.v.jitter.v.val)/100);Y+=(-.5+this.o8())*4*Math.PI*(U.jitter.v.val/100);
Y+=j2.If(S,"angleDynamics",w,this.X5)*2*Math.PI;if(U.bVTy.v==6)Y+=Math.atan2(-x.y,x.x)}Y+=k.Angl.v.val*(Math.PI/180);
M.rotate(Y);if(S.useScatter.v){var t=(-1+2*this.o8())*S.scatterDynamics.v.jitter.v.val/100;M.translate(-t*P*x.y,t*P*x.x)}M.translate(o.x,o.y);
var _=this.avU(M,o,P),n=_.rect.clone();if(H==null){var y=this.Zf(S);e.ZT(_.dl,Math.round(y.b*255)<<16|Math.round(y.H*255)<<8|Math.round(y.$*255)<<0,4278190080);
if(this.ck.Mw()&&this.rect.w6(_.rect)&&z==1)this.eD=_.dl.slice(0);else{var F=-1,a=2,V=-1,D=2;if(!C.kz){F=V=0;
a=D=1}for(var l=V;l<D;l++)for(var Q=F;Q<a;Q++){var m=_.rect.clone();m.x+=Q*this.rect.q;m.y+=l*this.rect._;
if(m.EI(this.rect)){n=n.It(m);e.C.asl(_.dl,m,this.eD,this.rect,m,z)}}}}if(H==j2.MK){var R=new eD(_.rect.x+_.rect.q/2,_.rect.y+_.rect._/2),$=Math.round(R.x-this.Vh.x),p=Math.round(R.y-this.Vh.y),c=_.rect.clone();
c.offset(-$,-p);var B=c.SN(this.rect);B.offset($,p);e.sR(this.eD,this.rect,_.dl,c);e.C.aCC(_.dl,_.rect,this.eD,this.rect,_.jm,_.rect,z)}if(H==j2.C3||H==j2.JR||H==j2.$l){var Z=_.rect.SN(this.rect),v;
if(Z.w6(_.rect))v=_.jm;else{v=e.U(Z.c());e.d0(_.jm,_.rect,v,Z)}var E=e.U(Z.c()*4);e.sR(this.eD,this.rect,E,Z);
if(H==j2.JR){var g=E.slice(0),u=e.qY.na([-1,-1,-1,-1,25,-1,-1,-1,-1]);e.qY.jn(E,g,Z.q,Z._,u,0);e.L9(g,E)}else if(H==j2.$l){var j=cM.bS("UnsM");
j.Amnt.v.val=15;j.Thsh.v=0;j.Rds.v.val=5;var g=e.U(E.length);cM.wM("UnsM",{buffer:E,rect:Z},j,0,0,{buffer:g,rect:Z});
e.L9(g,E)}else{cM.JP(1,e.uY.pJ,E,Z)}e.C.aCC(E,Z,this.eD,this.rect,v,Z,z)}this.a5E=P;this.Vh=R;this.OW++;
return n};j2.prototype.Zf=function(o){var P=j2.at$(this.AB);if(o.useColorDynamics&&o.useColorDynamics.v){var w=1-this.o8()*o.clVr.v.jitter.v.val/100,x=j2.at$(this.eI);
P.$=w*P.$+(1-w)*x.$;P.H=w*P.H+(1-w)*x.H;P.b=w*P.b+(1-w)*x.b;var z=(-.5+this.o8())*o.H.v.val/100,S=(-1+2*this.o8())*o.Strt.v.val/100,k=(-1+2*this.o8())*o.Brgh.v.val/100,f=e.j1(P.$,P.H,P.b);
f.Y=(f.Y+z+1)%1;f.zp=f.zp+S;if(f.zp<0)f.zp=-f.zp;if(f.zp>1)f.zp=1-(f.zp-1);f.IN=f.IN+k;if(f.IN<0)f.IN=-f.IN;
if(f.IN>1)f.IN=1-(f.IN-1);P=e.MR(f.Y,f.zp,f.IN)}return P};j2.prototype.ha=function(o){return Math.max(0,Math.min(1,o))};
j2.prototype.o8=function(o){if(o==null){o=this.Zs++}return j2.hash(o)};j2.at$=function(o){return{$:(o>>16&255)/255,H:(o>>8&255)/255,b:(o>>0&255)/255}};
j2.hash=function(o){o=o^61^o>>16;o=o+(o<<3);o=o^o>>4;o=o*668265261;o=o^o>>15;return(o&16777215)/16777215};
j2.avk=new kO;j2.prototype.avU=function(o,P,w){var x=Math.sqrt(this.Pr.kR[1].c()),z=x*o.gz(),S=z<10?1:z<50?1.5:z<200?3:8;
if(z<30)S=0;var k=j2.avk,f=k.a2Q(this.aeO),C=this.bV.Qn,H=kO.acH(o,x),b=k.aGF(f,H);if(b&&kO.aoO(b.yy,H)>S)b=null;
if(b){b.rect.x=Math.round(b.aDM.x+o.$X);b.rect.y=Math.round(b.aDM.y+o.Ar);b.nn=Date.now()}else{var i=Math.round(this.b.Brsh.v.Dmtr.v.val),M;
if(C&&i<=3){M={channel:e.U(i*i),rect:new fA(Math.round(P.x-i/2),Math.round(P.y-i/2),i,i)};M.channel.fill(255)}else if(o.F==1&&o.b==0&&o.JJ==0&&o.RL==1){M={channel:this.Pr.kR[0],rect:this.Pr.kR[1].clone()};
M.rect.x=Math.round(o.$X);M.rect.y=Math.round(o.Ar)}else{if(o.gz()>1e-4)M=N.DH.IE(this.Pr.kR,o)}if(M==null)M={channel:e.U(0),rect:new fA};
if(C){for(var I=0;I<M.channel.length;I++)M.channel[I]=M.channel[I]>127?255:0}b={dl:e.U(M.rect.c()*4),jm:M.channel,rect:M.rect,aDM:new eD(M.rect.x-o.$X,M.rect.y-o.Ar),yy:H,nn:Date.now()};
e.lI(b.jm,b.dl,3);if(f)k.aq_(f,b)}return b};j2.a2U=function(o,P,w){var x,z,S,k=o.Brsh.v.Dmtr.v.val,f=o.Brsh.v.classID;
if(f=="computedBrush"){var C=o.Brsh.v.Hrdn.v.val/100;z=k<100?1.4:1;S=1;x=e.ah4.asB(k,C,z)}if(f=="sampledBrush"){var H;
for(var I=0;I<P.length;I++)if(P[I].id==o.Brsh.v.sampledData.v)H=P[I];x=H.kR;var b=x[1];z=Math.max(b.q,b._)/k;
S=Math.min(b.q,b._)/Math.max(b.q,b._)}return{aGD:z,asR:S,kR:x}};j2.hj=null;j2.QA=null;j2.Tu=function(o,P,w,x,z,S){var k=j2.hj,f=j2.QA;
if(k==null){j2.hj=k=document.createElement("canvas");j2.QA=f=k.getContext("2d")}if(S==null)S=x;if(k.width!=S||k.height!=z){k.width=S;
k.height=z}else f.clearRect(0,0,S,z);f.fillStyle="#000000";f.font=Math.floor(10*N.M())+"px sans-serif";
var C=o.Brsh.v.Dmtr.v.val,H=""+C,b=o.useBrushSize;if(b&&b.v)H="---";var i=f.measureText(H);f.fillText(H,(x-i.width)/2,z-2);
var M=x,T=z-10*N.M(),O=Math.min(M,T),Y=o.Brsh.v.classID;if(Y=="computedBrush"){f.translate(M/2,T/2);
f.rotate(-o.Brsh.v.Angl.v.val*Math.PI/180);f.scale(1,.1+.9*o.Brsh.v.Rndn.v.val/100);var U=Math.min(.95*O/2,C/2)+.5,W=.9*o.Brsh.v.Hrdn.v.val/100,t=f.createRadialGradient(0,0,0,0,0,U);
t.addColorStop(W,"rgba(0,0,0,1)");t.addColorStop((.5+W)/1.5,"rgba(0,0,0,.5)");t.addColorStop(1,"rgba(0,0,0,0)");
f.fillStyle=t;f.fillRect(-U,-U,2*U,2*U);f.setTransform(1,0,0,1,0,0)}else if(Y=="sampledBrush"){var _,V=0;
for(var I=0;I<P.length;I++)if(P[I].id==o.Brsh.v.sampledData.v)_=P[I];var n=_.kR;e._I(n);var y=n[0],F=n[1].q,a=n[1]._;
while((F>M||a>T)&&n[V+2]){V+=2;y=n[V];F=n[V+1].q;a=n[V+1]._}if(F*a!=0){var D=e.U(F*a*4);e.lI(y,D,3);
var l=new ImageData(new Uint8ClampedArray(D.buffer),F,a);f.putImageData(l,Math.round((M-F)/2),Math.round((T-a)/2))}}else{}return k.toDataURL()};
j2.gR=function(o,P,w,x){if(w==0)w=1;var z=o.Brsh.v,S=z.Dmtr.v.val,k=z.Dmtr.v.val=Math.min(x!=null?Math.round(x*2.6):3e3,S*w),f=z.Hrdn?z.Hrdn.v.val/100:1,C=x!=null?x:Math.round(k*(1+.55*(1-f)))+4,i;
C=Math.max(15,Math.min(C,3e3));var H=new fA(0,0,C,C),b=new j2(o,P,null,{CB:1},16711712,0,H);z.Dmtr.v.val=S;
b.moveTo(H.q/2,H._/2);var M=b.$C(),T=b.q_();if(H.w6(T))i=M;else{i=e.U(H.c()*4);e.sR(M,T,i,H)}return[i,H,k]};
j2.ab_=function(o,P,w,x){var z=P.q,S=z>>>1;for(var I=0;I<4;I++){var k=6-I;o[z*(S-k)+S-1]=x;o[z*(S-k)+S]=w;
o[z*(S-k)+S+1]=x;o[z*(S+k)+S-1]=x;o[z*(S+k)+S]=w;o[z*(S+k)+S+1]=x;o[z*(S-1)+S-k]=x;o[z*S+S-k]=w;o[z*(S+1)+S-k]=x;
o[z*(S-1)+S+k]=x;o[z*S+S+k]=w;o[z*(S+1)+S+k]=x}};j2.hN=function(o,P,w,x){var z=j2.gR(o,P,w),S=z[0].slice(0),k=z[1],f=z[2],C=k.c(),H=e.U(C);
e.JX(S,H,3);var b=e.U(C);e.e.as0(H,b,k,N.M()>1.9);if(f<3||e.p8(b,0)||x&&f>12){j2.ab_(b,k,255,0)}var i=[3,5,3,4,8,4,3,5,3];
i=e.qY.na(i);e.qY.Ld(b,H,k.q,k._,i);e.ZT(S,4294967295);e.lI(H,S,3);for(var I=0;I<C;I++)if(b[I]==255){S[I<<2]=S[(I<<2)+1]=S[(I<<2)+2]=0;
S[(I<<2)+3]=255}return{yp:S,sn:k,yK:new eD(k.q/2,k._/2)}};j2.af3=function(o,P,w,x,z){var S=4278190080|Math.round(z.b*255)<<16|Math.round(z.H*255)<<8|Math.round(z.$*255)<<0;
w=new Uint32Array(w.buffer);var k=Math.floor(o.x),f=Math.floor(o.y),C=Math.floor(P.x),H=Math.floor(P.y),b=Math.abs(C-k),i=Math.abs(H-f),M=k<C?1:-1,T=f<H?1:-1,O=b-i;
while(!0){w[f*x.q+k]=S;if(k==C&&f==H)break;var Y=2*O;if(Y>-i){O-=i;k+=M}if(Y<b){O+=b;f+=T}}};j2.MK="0";
j2.C3="1";j2.JR="2";j2.$l="3";var eQ={};eQ.tW=function(o,P,w){if(w==null)w=!0;var x=o.add.TySh,z=x.OY,S=new c5(z,P,x.cN);
o.Mn.Ux=S.X2();var k=o.Mn.path=eQ.GH(S,x);if(bn!=0)return[k,S,null];var f=eQ.Ps(k,x.h,fe.u5(x));if(w){o.rect=f.sn;
o.buffer=f.eD;o.N()}return[k,S,f]};eQ.Ps=function(o,P,w){o={LG:o.LG,i:o.i.slice(0)};e.a.h(o.i,P,o.i);
var x=e.a.RR(o.i),z=0;if(x.Mw())return{eD:e.U(0),sn:new fA};for(var I=0;I<o.LG.length;I++){var S=o.LG[I];
if(S[0]=="O"&&S[1]=="-")z=Math.max(z,parseFloat(S.split("-")[2]))}z=Math.ceil(z*P.gz()/2);x.$b(z,z);
var k=e.Um(x.q,x._);k.translate(-x.x,-x.y);eQ.avx(o,k);var f=k.getImageData(0,0,x.q,x._),C=new Uint8Array(f.data.buffer);
if(w==0)for(var I=0;I<C.length;I+=4)C[I+3]=C[I+3]>80?255:0;if(w==3)for(var I=0;I<C.length;I+=4)C[I+3]=Math.min(255,C[I+3]*1.5);
k.resetTransform();k.beginPath();return{eD:C,sn:x}};eQ.GH=function(o,P,w){var x=P.h,z=P.OY;eQ.f4=x.gz();
var S=fe.u5(P),k=Math.max(x.b*x.b,x.JJ*x.JJ)<1e-9?x:null;if(S==3||S==4)k=null;var f={LG:[],i:[]};eQ.a41(o,f,k,!0);
eQ.a41(o,f,k,!1);f=eQ.tQ(f,P,o,w);return f};eQ.f4=1;eQ.tQ=function(o,P,w,x){if(o==null)return o;if(w&&w.Ky)e.a.h(o.i,w.Ky,o.i);
if(w&&!e.lD.tN(P.c5)){var z=fe.q_(P,w);if(!z.Mw()){if(o.LG){o=e.a.fG(o);var S=Math.min(z.q,z._)/8;if(S<1)S=1;
o=e.a.K1(o,S)}var k=e.lD.Qc(P.c5,z);e.V0.h(k,o.i,z)}}var f=P.h;if(x)e.a.h(o.i,f,o.i);return o};eQ.avx=function(o,P){P.save();
P.miterLimit=2;Typr.U.pathToContext({crds:o.i,cmds:o.LG},P);P.restore()};eQ.LU=function(o,P,w){var x=c5.aER(w),z=o.OY,S=z.ResourceDict.FontSet,k=z.ResourceDict.StyleSheetSet[0].StyleSheetData,f=z.EngineDict.StyleRun.RunLengthArray,C=z.EngineDict.StyleRun.RunArray,H=fe.YJ(z),b=!0,i={},M=0;
for(var I=0;I<C.length;I++){var T=C[I].StyleSheet.StyleSheetData.Font;if(T==null)T=k.Font;for(var O=0;
O<f[I];O++){var Y=H.charCodeAt(M+O),U=T+","+(Y>128?Y:-1);if(i[U]==null){i[U]=1;if(P.M2(S[T].Name,Y)==null)b=!1}}M+=f[I]}return b&&x};
eQ.xh=function(o,P,w){var x=!0;for(var z=0;z<o.R.length;z++){var S=o.R[z],k=S.add.TySh;if(k!=null&&!eQ.LU(k,P,w))x=!1}return x};
eQ.Kz=function(o,P,w){for(var x=0;x<o.R.length;x++){var z=o.R[x],S=z.add.TySh;if(S!=null&&eQ.LU(S,P,w)){eQ.tW(z,P);
o.N()}}};eQ.a41=function(o,P,w,x){var z=new ar;for(var I=0;I<o.bp.length;I++)eQ.afC(o.OR,o.bp[I],P,z,w,x)};
eQ.afC=function(o,P,w,x,z,S){x.translate(P.gu.x,P.gu.y);for(var I=0;I<P.D3.length;I++){var k={},f=P.D3[I];
if(!f.EJ)break;var C=x.clone();C.translate(f.gu.x,f.gu.y);if(z){var H=z.Ar+C.Ar*z.RL;C.Ar=(Math.round(H)-z.Ar)/z.RL}for(var b=f.start;
b<f.end;b++)eQ.ass(o,P.BR[b],P,k,w,C,S)}x.translate(-P.gu.x,-P.gu.y)};eQ.ass=function(o,P,w,x,z,S,k){S.translate(P.gu.x,P.gu.y);
for(var f=P.gd;f<=P.wc;f++){var C=w.lM[f],H=C.sn.q,b=o[w.aBm+C.AY],i=b.M0._FillBackgroundFlag;if(b.YS=="\n"||k&&!i)continue;
var M=b.M0.FontSize/b.bj.head.unitsPerEm,T=S.clone();T.translate(C.gu.x+C.xL*M,C.gu.y-C.gt*M);var O=new ar;
O.scale(M,-M);if(b.M0.FauxItalic)O.concat(new ar(1,0,-Math.tan(.18),1,0,0));O.translate(0,b.AG);O.scale(b.scale.x,b.scale.y);
if(b.M0.BaselineShift!=null)O.translate(0,-b.M0.BaselineShift);if(C.$N!=0){O.rotate(-C.$N)}O.concat(T);
var Y=(b.M0.OutlineWidth?b.M0.OutlineWidth:1)*eQ.f4;if(k){z.LG.push(eQ.Zf(b.M0._FillBackgroundColor));
var U=1.005*C.sn._/M,W=new fA(-C.xL,-U*.27,1.03*C.sn.q/(M*b.scale.x),U);if(b.M0.StrokeFlag)W.$b(Y/M,Y/M);
e.a.concat(z,e.a.R2(W),O);z.LG.push("X");continue}if(b.M0.FillFlag)z.LG.push(eQ.Zf(b.M0.FillColor));
if(b.M0.StrokeFlag){var t=iR.XO.aqp(b.M0);z.LG.push(eQ.a3g(t))}if(C.path.LG.length!=0&&b.YS!="\t"){if(b.M0.FauxBold){var _=b.M0.FontSize/2048*27*b.scale.x,n=Math.cos(C.$N)*_,y=Math.sin(C.$N)*_;
O.$X+=n;O.Ar+=y;e.a.concat(z,C.path,O);O.$X-=n+n;O.Ar-=y+y;e.a.concat(z,C.path,O)}else e.a.concat(z,C.path,O)}if(b.YS!="\n"){var F=C.sn.q/M;
if(b.M0.Underline){if(x.B0==null)x.B0=b.bj.post.underlineThickness;if(x.a8G==null)x.a8G=b.bj.post.underlinePosition;
var a=0,V=x.a8G-x.B0/2,D=-x.B0;e.a.concat(z,{LG:["M","L","L","L","Z"],i:[a,V,a+F,V,a+F,V+D,a,V+D]},O)}if(b.M0.Strikethrough){var l=b.bj["OS/2"].yStrikeoutSize,Q=b.bj["OS/2"].yStrikeoutPosition,a=0,V=Q+l/2,D=-l;
e.a.concat(z,{LG:["M","L","L","L","Z"],i:[a,V,a+F,V,a+F,V+D,a,V+D]},O)}}var m=b.M0.FillFlag,R=b.M0.FillFirst;
if(R==null)R=!0;if(m&&R)z.LG.push("X");if(b.M0.StrokeFlag)z.LG.push("OX");if(m&&!R)z.LG.push("X")}S.translate(-P.gu.x,-P.gu.y)};
eQ.a3g=function(o){var P=o.eJ,w=["O","#"+e.UM(e.Oq({$:P[0],H:P[1],b:P[2]},1)),o.dy];w.push(o.UR,o.F0,o.Pm,o.f7,o.iW.join(","));
return w.join("-")};eQ.aB4=function(o){var P=parseFloat,w=o.split("-"),x=e.AE(parseInt(w[1].slice(1),16));
return{eJ:[x.$/255,x.H/255,x.b/255],dy:P(w[2]),UR:P(w[3]),F0:P(w[4]),Pm:P(w[5]),f7:P(w[6]),iW:w[7].split(",").map(P),pu:w[8]=="1"?2:0}};
eQ.Zf=function(o){return"#"+e.UM(e.Oq(fe.dQ(o)))};function c5(o,P,w){var x=fe.bU(o),z,S,k=fe.vw(o),f=o._LineOrientation==2?new ar:null,i,T;
if(o.Curve)S=c5.n5(o.Curve);if(x!=0){z=new fA(k[0],k[1],k[2],k[3]);if(f){var C=z.q;z.q=z._;z._=C;f.translate(0,-k[2])}if(x==2){z.q=S[5]-S[4];
z._=9999}}this.bp=[];this.OR=[];this.Ct=x;this.Ky=f;var H=this.a2k=fe.YJ(o),b=-1,M=-1;for(var I=0;I<H.length;
I++){var O=i,Y=fe.aCt(o,I);if(Y!=b){b=Y;O=i=fe.ab5(o,Y)}var U=T,Y=fe.adh(o,I);if(Y!=M){M=Y;U=T=fe.apz(o,Y)}var W={YS:H.charAt(I),M0:O,bj:null,Zg:!1,iO:-1,Eq:fe.aB_(o,I),AG:0,scale:new eD(0,0),d5:0,lineHeight:0,Rn:0},t=o.ResourceDict.FontSet[O.Font].Name,_=W.bj=P.M2(t,H.charCodeAt(I));
if(O.FontCaps==1)W.Zg=_&&_.GSUB&&_.GSUB.smcp?!1:!0;W.scale.x=O.HorizontalScale==null?1:O.HorizontalScale;
W.scale.y=O.VerticalScale==null?1:O.VerticalScale;var n=_["OS/2"],y=_.hhea;if(W.Zg&&W.YS!=W.YS.toUpperCase()){var F=n.sxHeight?n.sxHeight/n.sTypoAscender:.76;
W.scale.x*=F;W.scale.y*=F}var a=1/_.head.unitsPerEm*O.FontSize;if(O.FontBaseline==1){var F=o.ResourceDict.SuperscriptSize;
W.scale.x*=F;W.scale.y*=F;W.AG-=o.ResourceDict.SuperscriptPosition*O.FontSize}if(O.FontBaseline==2){var F=o.ResourceDict.SubscriptSize;
W.scale.x*=F;W.scale.y*=F;W.AG+=o.ResourceDict.SubscriptPosition*O.FontSize}W.d5=c5.d5(_)*O.FontSize;
var V=U.AutoLeading;W.lineHeight=O.FontSize*(V==null?1.2:V);if(O.AutoLeading==!1)W.lineHeight=O.Leading;
if(W.YS=="\n"&&H[I-1]!="\n")W.lineHeight=0;if(W.lineHeight==0)W.lineHeight=.01;this.OR.push(W)}var D=this.bp,l=[0];
for(var I=0;I<o.EngineDict.ParagraphRun.RunLengthArray.length;I++){var Q=new c5.OZ(o,P,this.OR,I,z,l,x==1?S:null);
D.push(Q)}if(f){if(x==0)f.translate(0,D[0].BR[0].d5/2);f.rotate(-Math.PI/2)}if(x==2){var m=o.Curve.Points,R=S[0],$=S[1],p=S[2],c=S[3],B=S[4],Z=S[5];
for(var I=0;I<D.length;I++)for(var v=0;v<D[I].D3.length;v++)if(!(I==0&&v==0))D[I].D3[v].EJ=!1;var Q=D[0],E=Q.D3[0];
Q.gu.Mx(0,0);E.gu.Mx(0,0);for(var v=E.start;v<E.end;v++){var g=Q.BR[v],u=g.gu.x;g.gu.x=0;for(var j=g.gd;
j<=g.wc;j++){var A=Q.lM[j],K=A.sn.q/2;A.gu.x+=u;var s=c5.azz(R,(B+A.gu.x+K)%c);A.gu.x=s[0]-K*s[2];A.gu.y=s[1]-K*s[3];
A.$N=Math.atan2(s[3],s[2])}}}if(w){var r=w.VAlign.v;if(r!=0&&fe.bU(o)==1){var h=fe.vw(o)[3],jC=this.X2()._,d=0;
if(r==1)d=h-jC;if(r==2)d=(h-jC)/2;for(var I=0;I<this.bp.length;I++)this.bp[I].gu.y+=d}}}c5.d5=function(o){var P=o._hhhh;
if(P==null){var w=Typr.U,x=w.codeToGlyph(o,104),z=e.a.w4(Typr.U.glyphToPath(o,x).crds)._;P=o._hhhh=z*(1/o.head.unitsPerEm)}return P};
c5.prototype.awu=function(){return!this.a7p(0)};c5.prototype.apu=function(){return this.a7p(1)};c5.prototype.a7p=function(o){var P=this.bp,w=!0,x=0;
for(var I=0;I<P.length;I++){var z=P[I].D3,S=z.length;x+=S;for(var k=0;k<S;k++)w&=z[k].EJ}return[w,x][o]};
c5.n5=function(o,P,w){if(P==null)P=.25;var x=o.Points,z=x.length,S=z>>>3,k=o.TextOnPathTRange,f=o.Reversed,M=0,T=0;
if(f){var C=x.slice(0);for(var I=0;I<z;I+=2){C[I]=x[z-2-I];C[I+1]=x[z-1-I]}x=C;k=[S-k[1]%S,S-k[0]%S]}var H=[],b=[0],i=[0];
for(var I=0;I<z;I+=8){var O=x[I+6]-x[I+0],Y=x[I+7]-x[I+1],U=Math.round(Math.sqrt(O*O+Y*Y)/P),W=w&&I==z-8?U+1:U;
for(var t=0;t<W;t++){var _=t/U,n=1-_,y=n*n*n*x[I+0]+3*n*n*_*x[I+2]+3*n*_*_*x[I+4]+_*_*_*x[I+6],F=n*n*n*x[I+1]+3*n*n*_*x[I+3]+3*n*_*_*x[I+5]+_*_*_*x[I+7];
H.push(y,F);if(I+t!=0){var O=y-M,Y=F-T;i.push(i[i.length-1]+Math.sqrt(O*O+Y*Y));b.push((I>>>3)+_)}M=y;
T=F}}var P=i.length,a=i[P-1],V=c5.Kl(k[0]%S,b),D=c5.Kl(k[1]%S,b),l=i[V%P],Q=i[D%P];if(l>=Q)Q+=a;return[H,b,i,a,l,Q]};
c5.Kl=function(o,P){var I=0;while(P[I]<o)I++;return I};c5.azz=function(o,P){var w=0,I=0,x,z,S;while(w<P){x=o[I+2]-o[I];
z=o[I+3]-o[I+1];S=Math.sqrt(x*x+z*z);w+=S;I+=2}return[o[I],o[I+1],x/S,z/S]};c5.prototype.ana=function(o){return this.OR[o]};
c5.prototype.aAu=function(o){for(var P=0;P<this.bp.length;P++){var w=this.bp[P];for(var x=0;x<w.D3.length;
x++){var z=w.D3[x],S=w.BR[z.start].start,k=w.BR[z.end-1].end;if(S<o&&o<k)return[S,k-1]}}return[0,1]};
c5.prototype.avH=function(o,P){var w=-1,x=this.bp;if(this.Ct==2){var z=1e9,S=0,k=x[0],f=k.D3[0];for(var C=f.start;
C<f.end;C++){var H=k.BR[C];for(var b=H.gd;b<=H.wc;b++){var i=k.lM[b],M=i.sn.q,T=o.x-i.gu.x,O=o.y-i.gu.y,Y=T*T+O*O;
if(Y<z){z=Y;S=i.AY}}}if(S!=0&&this.a2k.codePointAt(S-1)>65535)S--;return S}for(var U=0;U<x.length;U++){var k=x[U];
for(var W=0;W<k.D3.length;W++){w++;var f=k.D3[W],t=k.D3[W+1];if(t==null&&U<x.length-1)t=x[U+1].D3[0];
if(P!=null){if(w!=P)continue}else{if(t!=null&&k.gu.y+f.gu.y<o.y)continue}for(var C=f.start;C<f.end;C++){var H=k.BR[C];
for(var b=H.gd;b<=H.wc;b++){var i=k.lM[b],M=i.sn.q,_=k.gu.x+f.gu.x+H.gu.x,n=_+i.gu.x,y=_+(b<H.wc?k.lM[b+1].gu.x:i.gu.x+M);
if(o.x<=y||C+1==f.end&&b==H.wc){var F=k.aBm+i.AY,a=this.OR[F],V=a.Rn&1;if(a.YS!="\n"&&(V==0&&o.x>n+M/2||V==1&&o.x<n+M/2))F+=this.a2k.codePointAt(F)>65535?2:1;
return F}}}}}};c5.prototype.aO=function(o){var P={sn:new fA,Cy:0},w=0;for(var x=0;x<this.bp.length;x++){var z=this.bp[x];
for(var S=0;S<z.D3.length;S++){var k=z.D3[S];P.Cy=w;w++;for(var f=k.start;f<k.end;f++){var C=z.BR[f];
for(var H=C.start;H<C.end;H++){if(H==o){var b=this.OR[H],i=b.iO,M=z.lM[i].AY,T=1;while(z.lM[i]!=null&&z.lM[i].AY==M){var O=z.lM[i],Y=z.gu.x+k.gu.x+C.gu.x+O.gu.x,U=z.gu.y+k.gu.y+C.gu.y+O.gu.y;
P.sn=P.sn.It(new fA(Y,U-b.lineHeight,O.sn.q,b.lineHeight));P.$N=O.$N;i+=T}return P}}}}}};c5.prototype.X2=function(){var o=Infinity,P=Infinity,w=-Infinity,x=-Infinity;
for(var I=0;I<this.bp.length;I++){var z=this.bp[I];for(var S=0;S<z.D3.length;S++){var k=z.D3[S];if(!k.EJ)break;
for(var f=k.start;f<k.end;f++){var C=z.BR[f];for(var H=C.gd;H<=C.wc;H++){var b=z.lM[H],i=b.sn,M=z.gu.x+k.gu.x+C.gu.x+b.gu.x,T=z.gu.y+k.gu.y+C.gu.y+b.gu.y;
o=Math.min(o,M+i.x);P=Math.min(P,T+i.y);w=Math.max(w,M+i.x+i.q);x=Math.max(x,T+i.y+i._)}}}}return new fA(o,P,w-o,x-P)};
c5.D1=function(o){return 19968<=o&&o<=40959||12288<=o&&o<=12543};c5.y0=function(o,P,w,x,z,S,k){var f=[S],C=0;
for(var I=S;I<k;I++){if(w[I]==null)console.log(I,S,k,w);var H=w[I].YS,b=H.charCodeAt(0);if(b==32||b==9){f.push(C,I,1,I+1);
C=0}else if(b==3851){f.push(C+1,I+1);C=0}else if(c5.D1(b)){f.push(C,I);C=1}else if(I!=S&&w[I].Rn!=w[I-1].Rn){f.push(C,I);
C=1}else C++}f.push(C);var i=[];for(var I=0;I<f.length;I+=2){var M=f[I],T=f[I+1];if(T==0)continue;i.push(new c5.ajW(o,P,w,x,z,M,T))}return i};
c5.aeF=function(o,P,w,x,z,S,k){var f=[0,P?P.q:1e9],C=[];if(x){var H=o[S].d5,b=z+(z==0?H:o[S].lineHeight),i=b-H*.9,M=e.a.a1U(x[0],i),T=M.length,O=e.a.a1U(x[0],b),Y=O.length;
if(T!=0&&Y!=0){var U=0,W=0,t=[];while(U<T&&W<Y){var _=Math.max(M[U],O[W]),n=M[U+1],y=O[W+1],F=Math.min(n,y);
if(_<F)t.push(_,F);if(n<y)U+=2;else W+=2}if(t.length!=0)f=t}}for(var a=0;a<f.length;a+=2){var V=0,D=S,l=P?f[a+1]-f[a]-w.StartIndent-w.EndIndent-(S==0?w.FirstLineIndent:0):Infinity;
while(S!=o.length){var Q=o[S],m=V==0||(Q.A3||Q.bv)||V+Q.sn.q<l;if(!m)break;V+=Q.sn.q;S++}C.push(S-D)}k[0]=C;
k[1]=f;k[2]=S};c5.a0m=function(o,P){var w=o.length,x=new Uint32Array(w),z=new Uint8Array(w),S=0;for(var I=0;
I<w;I++){z[I]=0;var k=o.charCodeAt(I);x[I]=k;if(k>S)S=k}if(S>1424)z=c5.awk(x,P);return z};c5.aop=function(o){return o=="ß"?o:o.toUpperCase()};
c5.OZ=function(o,P,w,x,z,S,k){this.BR=[];this.D3=[];this.gu=new eD(0,0);this.lM=null;this.BR=null;this.M0=fe.apz(o,x);
var f=this.M0,i=0,O="",y=0,F=1,d=0;if(x!=0){var C=f.SpaceBefore;if(C!=null)S[0]+=C}var H=o.EngineDict.ParagraphRun.RunLengthArray,b=H[x];
for(var I=0;I<x;I++)i+=H[I];var M=f._Direction?f._Direction:0;this.aBm=i;var T=fe.YJ(o).slice(i,i+b);
for(var Y=0;Y<T.length;Y++){var U=w[i+Y],W=U.M0.FontCaps,t=T.charAt(Y);if(W==0)O+=t;if(W==1)O+=U.Zg?c5.aop(t):t;
if(W==2)O+=c5.aop(t)}T=O;var _=c5.a0m(T,M),n=[],a=_[0]&1,V=w[i].bj;w[i].Rn=_[0];for(var I=1;I<T.length;
I++){var t=w[i+I],D=_[I];t.Rn=D;if(D!=a||t.bj!=V){n.push(y,F);y=I;F=1;a=D;V=t.bj}else F++}n.push(y,F);
var l=this.lM=[];for(var I=0;I<n.length;I+=2){var Q=n[I],m=n[I+1],R=(w[i+Q].Rn&1)==0,$=T.slice(Q,Q+m),p=[],j=0;
for(var Y=0;Y<m;Y++){var c=w[i+Y].M0,B=[];p.push(B);for(var Z=0;Z<8;Z++)B.push(c[fe.cE[Z]]?1:0);B.push(c.FontCaps==1?1:0)}p=c5.aw$(p);
var v=Typr.U.shapeHB(w[i+Q].bj,$,R,p),E=[];for(var Y=0;Y<v.length;Y++){var g=v[Y];E.push({H:g.g,AY:g.cl,P8:g.ax,tm:g.ay,xL:g.dx,gt:g.dy})}v=E;
var u=v.slice(0);if(!R)u.reverse();for(var Y=0;Y<$.length;Y++){while(j+1<u.length&&u[j+1].AY<=Y){j++}while(j>0&&u[j-1].AY==Y)j--;
w[i+Q+Y].iO=l.length+(R?j:u.length-j-1)}for(var Y=0;Y<v.length;Y++){l.push(v[Y]);v[Y].AY+=Q;var t=w[i+v[Y].AY];
if(t.Eq!=-1&&t.Eq<t.bj.maxp.numGlyphs){v[Y].H=t.Eq;var K=t.bj.hmtx;if(K){var s=Object.keys(K)[0];v[Y].P8=K[s][t.Eq]}}if(t.YS=="\n")v[Y].P8=0;
if(t.YS=="\t")v[Y].P8=t.bj.head.unitsPerEm*36/t.M0.FontSize}}var r=fe.R_(f),h=this.BR=c5.y0(o,P,w,i,l,i,i+b),jC=this.D3,q=-1,O=[null,null,0];
while(d<h.length){c5.aeF(h,z,f,k,S[0],d,O);q++;var hc={start:d,end:0,sn:new fA,gu:new eD(0,0),EJ:!0},cQ=0,jR=0;
jC.push(hc);hc.end=O[2];if(hc.start==hc.end)throw"e";var dk=hc.end==h.length;function c6(u,Q,jf){var dW=jf-Q>>>1;
for(var I=0;I<dW;I++){var bf=u[Q+I];u[Q+I]=u[jf-1-I];u[jf-1-I]=bf}}for(var e3=1;e3<5;e3++){var ks=-1;
for(var I=hc.start;I<hc.end;I++){var D=w[h[I].start].Rn;if(ks==-1&&D>=e3)ks=I;else if(ks!=-1&&D<e3){c6(h,ks,I);
ks=-1}}var cH=hc.end;if(M==0&&h[cH-1].A3)cH--;if(ks!=-1)c6(h,ks,cH)}var bI=O[0],aR=O[1],ks=d,ak=d;for(var cN=0;
cN<aR.length;cN+=2){var gC=z?aR[cN+1]-aR[cN]-f.StartIndent-f.EndIndent-(d==0?f.FirstLineIndent:0):Infinity,cu=0;
ks=ak;ak+=bI[cN>>>1];var du=this.aBb(ks,ak,h,M,z!=null);if(z){if(r==1||dk&&r==4)cu=du[1]+(gC-du[0]);
if(r==2||dk&&r==5)cu=du[1]+(gC-du[0])/2;if(ak-ks==1&&h[ks].sn.q>gC)cu=0;if(q==0)cu+=f.FirstLineIndent;
cu+=f.StartIndent}else{if(r==0)cu=f.StartIndent+f.FirstLineIndent;if(r==1)cu=-du[0]-f.EndIndent;if(r==2)cu=-du[0]/2}cu+=aR[cN];
if(z&&r>2&&(r==6||!dk))this.a16(ks,ak,h,gC,M,cu);else{var bq=cu;for(var I=ks;I<ak;I++){var hn=h[I],aK=hn.sn.q;
hn.gu.x=bq;if(hn.MB=="\t")aK=Math.ceil((bq+4)/36)*36-bq;bq+=aK}}}d=hc.end;for(var I=hc.start;I<hc.end;
I++){var ch=h[I].sn.clone();ch.a5S(h[I].gu);hc.sn=hc.sn.It(ch);cQ=Math.max(cQ,h[I].d5);jR=Math.max(jR,h[I].lineHeight)}hc.gu.y=q==0?0:jC[q-1].gu.y+jR;
if(q==0){if(x==0&&z)S[0]+=cQ;if(x!=0)S[0]+=jR;this.gu.y=S[0]}else S[0]+=jR;if(z)hc.EJ=this.gu.y+hc.gu.y<z.y+z._||x==0&&q==0}var bx=f.SpaceAfter;
if(bx!=null)S[0]+=bx};c5.OZ.prototype.aBb=function(o,P,w,x,z){var S=0,k=0;for(var I=o;I<P;I++)S+=w[I].sn.q;
if(z){if(x==0)for(var I=P-1;I>=o;I--)if(w[I].A3||w[I].bv)S-=w[I].sn.q;else break;if(x==1)for(var I=o;
I<P;I++)if(w[I].A3||w[I].bv){var f=w[I].sn.q;S-=f;k-=f}else break}return[S,k]};c5.OZ.prototype.a16=function(o,P,w,x,z,S){var k=0,f=0,C=0,H=0;
for(var I=o;I<P;I++)if(w[I].A3)C++;else{k+=w[I].sn.q;f++}if(z==0)for(var I=P-1;I>=o;I--)if(w[I].A3||w[I].bv){if(w[I].A3){C--}}else break;
if(z==1)for(var I=o;I<P;I++)if(w[I].A3||w[I].bv){if(w[I].A3){C--;H++}}else break;if(f<=1||C==0){if(f==1)w[o].gu.x=S;
return}var b=(x-k)/C,i=-H*b;for(var I=o;I<P;I++){if(w[I].A3)this.lM[w[I].gd].sn.q=w[I].sn.q=b;w[I].gu.x=S+i;
i+=w[I].sn.q}};c5.ajW=function(o,P,w,x,z,S,k){this.MB="";for(var I=0;I<k;I++)this.MB+=w[S+I].YS;this.A3=k==1&&(w[S].YS==" "||w[S].YS=="\t");
this.bv=k==1&&w[S].YS=="\n";this.start=S;this.end=S+k;this.sn=new fA;this.gu=new eD(0,0);this.d5=0;this.lineHeight=0;
var f=0,C=0;if(k==0){this.lineHeight=w[S].lineHeight;this.d5=w[S].d5;this.sn=new fA(0,-w[S].lineHeight,0,w[S].lineHeight)}var H=w[S].iO,b=w[S+k-1].iO;
if(b<H){var i=H;H=b;b=i}while(b+1<z.length&&z[b].AY==z[b+1].AY){b++}this.gd=H;this.wc=b;for(var M=H;
M<=b;M++){var T=z[M],O=w[x+T.AY],Y=o._LineOrientation==2&&(O.M0.BaselineDirection!=2||c5.D1(O.YS.charCodeAt(0))),U=Typr.U.glyphToPath(O.bj,T.H),y=0;
T.path={LG:U.cmds,i:U.crds};var W=O.M0.FontSize,t=1/O.bj.head.unitsPerEm*W;if(!O.M0.AutoKerning)f+=O.M0.Kerning*2*t*O.scale.x;
T.gu=new eD(f,0);T.$N=0;if(Y&&T.path.i.length>0){T.$N=-Math.PI/2;T.gu.x+=W*.83;T.gu.y=-W*.3+T.P8*t/2;
T.P8=W/t}var _=T.P8*t*O.scale.x;T.sn=new fA(0,-O.lineHeight,_,O.lineHeight);var n=T.sn.clone();n.a5S(T.gu);
if(O.M0.Tracking!=null)y=O.M0.Tracking*.001*W;if(O.M0.FauxBold==!0)y+=.027*W;f+=_+y;if(M<z.length-2)T.sn.q+=y;
if(k==1&&O.YS==" "){n.q+=2*y;T.gu.x+=y}else if(k==1&&O.YS!=null&&c5.D1(O.YS.charCodeAt(0)))n.q+=y;this.sn=this.sn.It(n);
this.d5=Math.max(this.d5,O.d5);this.lineHeight=Math.max(this.lineHeight,O.lineHeight)}};c5.uK=0;c5.aER=function(o){if(c5.uK==2)return!0;
if(c5.uK==1)return!1;c5.uK=1;function P(){fetch(jM.$D("code/ext/fribidi.wasm")).then(function(w){return w.arrayBuffer()}).then(function(w){return WebAssembly.instantiate(w)}).then(function(w){var x=w.instance.exports,z=x.memory,S=16,k=256,f=1,C=S|k,H=S|k|f;
c5.awk=function(i,M){var T=i.length,O=T*4+4+T*4+T*4+T;eu.gi(x,O+T+1e7);var Y=new Uint8Array(z.buffer),U=new Uint32Array(z.buffer),W=x.calloc(O,1),t=W+T*4,_=t+4,n=_+T*4,y=n+T*4;
U.set(i,W>>>2);U[t>>>2]=M==0?C:H;x.fribidi_get_bidi_types(W,T,_);x.fribidi_get_bracket_types(W,T,_,n);
x.fribidi_get_par_embedding_levels_ex(_,n,T,t,y);var F=Y.slice(y,y+T);x.free(W);return F};c5.uK=2;var b=new bO(G.E.X,!0);
b.data={Q:G.l.CA,Cw:"add",JL:eB.Wh,rc:null};o.j(b)})}Typr.U.initHB(jM.$D("code/ext/hb.wasm"),P);return!1};
c5.aw$=function(o){var P=[],w=o.length,x=fe.atA;for(var z=0;z<9;z++){var S=x[z],f=null;if(S==null)continue;
var k=-1;for(var I=0;I<w;I++){var C=o[I][z];if(C!=k){if(f)f[3]=I;f=[S,C,I,I+1];P.push(f);k=C}}f[3]=w}return P};
function fe(){}fe.Ri=function(o){return JSON.parse(JSON.stringify(o))};fe.jg=function(o,P){for(var w in P)o[w]=P[w]};
fe.cE="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
fe.AA=[18,20,19,25,28,26,24,23];fe.ab0="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
fe.atA="liga calt dlig swsh salt titl ordn frac smcp".split(" ");fe.AH=function(o,P,w,x){var z=fe.at1();
if(w)fe.Bi(z,0,0,w);var S=new ar;if(x!=null)S.rotate(x);S.translate(Math.round(o),Math.round(P));var k={h:S,OY:z};
k.cN=fe.axX();k.c5=e.lD.U();k.Fy=new fA;return k};fe.a7K=function(o){var P=["CharacterDirection",0];
for(var I=0;I<P.length;I+=2){if(o[P[I]]!=null&&o[P[I]]!=P[I+1]){throw"e";console.log(P[I],o[P[I]])}}if(o instanceof Array)for(var I=0;
I<o.length;I++)fe.a7K(o[I]);else if(o instanceof Object)for(var w in o)fe.a7K(o[w])};fe.R_=function(o,P){if(P==null)P=o.Justification;
var w=o._Direction?o._Direction:0;if(w==1){if(P==0||P==3)P++;else if(P==1||P==4)P--}return P};fe.Jt=function(o){if(o.add==null)return;
var P=o.OY,w=P.Curve,x=o.add.vmsk,z=x.g,S=e.a.IY(z,2).i,k=o.h.clone();k.Sd();e.a.h(S,k,S);var f=S.slice(0,8);
for(var C=8;C<S.length;C+=6)f.push(S[C-2],S[C-1],S[C],S[C+1],S[C+2],S[C+3],S[C+4],S[C+5]);w.Points=f;
w.TextOnPathTRange=x.Qo.slice(0);w.Reversed=x.ue;if(fe.bU(P)==1){var w=c5.n5(P.Curve),H=e.a.w4(w[0]);
fe.SP(P,[0,0,H.q,H._].map(Math.round));for(var I=0;I<f.length;I+=2){f[I]-=H.x;f[I+1]-=H.y}var b=new ar(1,0,0,1,H.x,H.y);
b.concat(o.h);o.h=b}};fe.zq=function(o){if(o.add==null)return;var P=o.add.vmsk,w=o.OY.Curve,x=w.Points,z={LG:["M"],i:[x[0],x[1]]};
for(var I=0;I<x.length;I+=8){z.LG.push("C");z.i.push(x[I+2],x[I+3],x[I+4],x[I+5],x[I+6],x[I+7])}e.a.h(z.i,o.h,z.i);
var S=e.a.B6(z,!0);P.g=S;P.ue=w.Reversed;P.Qo=w.TextOnPathTRange.slice(0);o.add.vogk=X.h6(S)};fe.dQ=function(o){var P={$:0,H:0,b:0};
if(o){var w=o.Values;if(o.Type==1)P={$:w[1]*255,H:w[2]*255,b:w[3]*255};else if(o.Type==2){var x={classID:"CMYC",Cyn:{t:"doub",v:w[1]*100},Mgnt:{t:"doub",v:w[2]*100},Ylw:{t:"doub",v:w[3]*100},Blck:{t:"doub",v:w[4]*100}};
P=e.G.dQ(x)}else console.log("Unknown color type")}return P};fe.auL=function(o){for(var I=0;I<o.length;
I++){var P=o[I].StyleSheet.StyleSheetData,w=P.FillColor;if(w&&w.Type==2){var x=fe.dQ(w);w.Type=1;w.Values=[1,x.$/255,x.H/255,x.b/255]}}};
fe.q_=function(o,P){var w;if(fe.bU(o.OY)==1){var x=fe.vw(o.OY);w=new fA(0,0,x[2]-x[0],x[3]-x[1])}else{w=P.X2();
if(P.Ky){var z=P.Ky.clone(),S=e.a.R2(w);e.a.h(S.i,z,S.i);w=e.a.w4(S.i)}}return w};fe.j$=function(o){var P=o[0];
for(var I=0;I<o.length;I++)P=fe.ais(P,o[I]);return P};fe.ais=function(o,P){var w={};for(var x in o)if(JSON.stringify(o[x])==JSON.stringify(P[x]))w[x]=o[x];
return w};fe.bB=function(o,P){var w=o.Dm,x=-1;for(var I=0;I<w.length;I++)if(w[I].Name==P)x=I;if(x==-1){x=w.length;
w.push({FontType:1,Name:P,Script:0,Synthetic:0})}o.OR.Font=x};fe.YJ=function(o){return o.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fe.Ks=function(o,P){o.EngineDict.Editor.Text=P.replace(/\n/g,"\r")};fe.bU=function(o){return o.Curve&&o.Curve.TextOnPathTRange[0]>=0?2:o.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fe.mn=function(o,P){var w=o.EngineDict.Rendered.Shapes.Children[0];w.ShapeType=P;var x=w.Cookie.Photoshop;
x.ShapeType=P;x.Base.ShapeType=P;if(P==0){delete x.BoxBounds;x.PointBase=[0,0]}if(P==1){delete x.PointBase;
x.BoxBounds=[0,0,1,1]}};fe.vw=function(o){return o.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fe.SP=function(o,P){o.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=P};fe.aB_=function(o,P){var w=o.EngineDict.AlternateGlyphRun;
if(w==null)return-1;var x=fe.yd(w.RunLengthArray,P).$i;if(w.RunArray[x]==null)return-1;var z=w.RunArray[x].Glyph;
return z==null?-1:z};fe.a2F=function(o,P,w){var x=o.EngineDict.AlternateGlyphRun;if(x==null){x=o.EngineDict.AlternateGlyphRun=fe.aea();
x.RunArray.push({});x.RunLengthArray.push(fe.YJ(o).length)}var z=fe.yd(x.RunLengthArray,P),S=z.$i,k=P-z.Ch,f=x.RunArray[S],C=JSON.stringify(f),H=x.RunLengthArray[S];
if(k!=0){x.RunArray.splice(S,0,JSON.parse(C));x.RunLengthArray.splice(S,0,k);x.RunLengthArray[S+1]-=k;
S++;H-=k;k=0}if(H!=1){x.RunArray.splice(S+1,0,JSON.parse(C));x.RunLengthArray.splice(S+1,0,H-1);x.RunLengthArray[S]=1;
H=1}f.Glyph=w};fe.aCt=function(o,P){var w=o.EngineDict.StyleRun.RunLengthArray;return fe.yd(w,P).$i};
fe.ab5=function(o,P){var w=o.ResourceDict.StyleSheetSet[0].StyleSheetData,x={};for(var z in w)x[z]=w[z];
var S=o.EngineDict.StyleRun.RunArray[P].StyleSheet.StyleSheetData;fe.jg(x,S);return x};fe.adh=function(o,P){var w=o.EngineDict.ParagraphRun.RunLengthArray;
return fe.yd(w,P).$i};fe.apz=function(o,P){var w=o.ResourceDict.ParagraphSheetSet[0].Properties,x={};
for(var z in w)x[z]=w[z];var S=o.EngineDict.ParagraphRun.RunArray[P].ParagraphSheet.Properties;fe.jg(x,S);
var k=["StartIndent","EndIndent","FirstLineIndent"];for(var I=0;I<3;I++)if(x[k[I]]==null)x[k[I]]=0;return x};
fe.EF=function(o,P,w){if(w=="")return;var x=fe.YJ(o);fe.Ks(o,x.substring(0,P)+w+x.substring(P,x.length));
var z=o.EngineDict.StyleRun,S=z.RunLengthArray,k=fe.yd(S,P-1);S[k.$i]+=w.length;var f=o.EngineDict.AlternateGlyphRun;
if(f){var S=f.RunLengthArray,k=fe.yd(S,P-1);S[k.$i]+=w.length}var C=o.EngineDict.ParagraphRun,S=C.RunLengthArray,H=fe.yd(S,P),b=w.split("\n");
if(b.length==1){S[H.$i]+=w.length;return}S.splice(H.$i+1,0,S[H.$i]-(P-H.Ch));C.RunArray.splice(H.$i+1,0,fe.Ri(C.RunArray[H.$i]));
S[H.$i]-=S[H.$i+1];S[H.$i]+=b[0].length+1;for(var I=1;I<b.length-1;I++){C.RunArray.splice(H.$i+I,0,fe.Ri(C.RunArray[H.$i+I-1]));
C.RunLengthArray.splice(H.$i+I,0,b[I].length+1)}S[H.$i+b.length-1]+=b[b.length-1].length};fe.kg=function(o,P,w){var x=fe.YJ(o);
fe.Ks(o,x.substring(0,P)+x.substring(w,x.length));fe.gA(o.EngineDict.ParagraphRun,P,w,!0);fe.gA(o.EngineDict.StyleRun,P,w,!1);
var z=o.EngineDict.AlternateGlyphRun;if(z)fe.gA(z,P,w,!1)};fe.gA=function(o,P,w,x){var z=o.RunLengthArray,S=fe.yd(z,P),k=fe.yd(z,w),f=[];
for(var I=0;I<z.length;I++)for(var C=0;C<z[I];C++)f.push(I);f.splice(P,w-P);var H=[];for(var I=0;I<z.length;
I++)H.push(0);for(var I=0;I<f.length;I++)H[f[I]]++;for(var I=0;I<z.length;I++){if(H[I]==0){H.splice(I,1);
z.splice(I,1);o.RunArray.splice(I,1);I--}else if(H[I]<z[I])z[I]=H[I]}if(x&&S.$i!=k.$i&&S.Ch!=P){z[S.$i]+=z[S.$i+1];
z.splice(S.$i+1,1);o.RunArray.splice(S.$i+1,1)}};fe.Bi=function(o,P,w,x){var z=o.EngineDict.Editor.Text.length;
if(w==z-2)w++;if(x.OR.Font!=null)o.ResourceDict.FontSet=x.Dm.slice(0);if(P<=w)fe.aFk(o.EngineDict.StyleRun,x.OR,P,w,!0);
fe.aFk(o.EngineDict.ParagraphRun,x.bp,P,w,!1)};fe.Zv=function(o,P,w){var x={Dm:o.ResourceDict.FontSet.slice(0),OR:[],bp:[]},z=o.EngineDict.StyleRun.RunLengthArray,S=fe.yd(z,P).$i,k=fe.yd(z,w).$i;
for(var I=S;I<=k;I++){var f=fe.Ri(o.ResourceDict.StyleSheetSet[0].StyleSheetData),C=o.EngineDict.StyleRun.RunArray;
if(C.length==0)continue;var H=C[I].StyleSheet.StyleSheetData;fe.jg(f,H);x.OR.push(f)}var b=o.EngineDict.ParagraphRun.RunLengthArray,i=fe.yd(b,P).$i,M=fe.yd(b,w).$i;
for(var I=i;I<=M;I++){var T=o.EngineDict.ParagraphRun.RunArray;if(T.length==0)continue;x.bp.push(fe.Ri(T[I].ParagraphSheet.Properties))}x.OR=x.OR.length==0?{}:fe.j$(x.OR);
x.bp=x.bp.length==0?{}:fe.j$(x.bp);return x};fe.aFk=function(o,P,w,x,z){var S=o.RunLengthArray;if(z){var k=fe.yd(S,w);
if(k.Ch!=w){var f=S[k.$i];S.splice(k.$i,0,w-k.Ch);S[k.$i+1]=f-S[k.$i];o.RunArray.splice(k.$i+1,0,fe.Ri(o.RunArray[k.$i]))}var C=fe.yd(S,x);
if(C.Ch+S[C.$i]-1!=x){var f=S[C.$i];S.splice(C.$i,0,x-C.Ch+1);S[C.$i+1]=f-S[C.$i];o.RunArray.splice(C.$i+1,0,fe.Ri(o.RunArray[C.$i]))}}var k=fe.yd(S,w),C=fe.yd(S,x);
if(z)for(var I=k.$i;I<=C.$i;I++)fe.jg(o.RunArray[I].StyleSheet.StyleSheetData,P);else for(var I=k.$i;
I<=C.$i;I++)fe.jg(o.RunArray[I].ParagraphSheet.Properties,P)};fe.a6s=function(o,P,w){var x=o.EngineDict.StyleRun.RunLengthArray,z=[],S=0;
for(var I=0;I<x.length;I++){var k=x[I];for(var f=0;f<k;f++)if(P<=S+f&&S+f<w)z.push(I);S+=k}var C=z[0],H=[];
for(var I=0;I<z.length;I++){var b=z[I]-C;if(b==H.length)H.push(0);H[b]++}return H};fe.ate=function(o){var P=o.EngineDict.StyleRun,w=P.RunArray,x=P.RunLengthArray;
for(var I=0;I<x.length-1;I++){var z=w[I].StyleSheet.StyleSheetData,S=w[I+1].StyleSheet.StyleSheetData;
if(JSON.stringify(z)==JSON.stringify(S)){w.splice(I+1,1);x[I]+=x[I+1];x.splice(I+1,1);I--}}};fe.u5=function(o){var P=o.cN.AntA.v.Annt;
P=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(P);if(P==-1)P=1;return P};fe.cs=function(o,P){o.cN.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][P]};
fe.e4=function(o,P){var w,x;w=["FontSize","Leading","BaselineShift","OutlineWidth"];x=o.OR;for(var I=0;
I<w.length;I++)if(x[w[I]]!=null)x[w[I]]*=P;w=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
x=o.bp;for(var I=0;I<w.length;I++)if(x[w[I]]!=null)x[w[I]]*=P};fe.aaT=function(){return fe.Zv(fe.Ri(fe.ay3),0,0)};
fe.axX=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
fe.yd=function(o,P){var w=0,I=0;while(w+o[I]<=P){w+=o[I];I++}return{$i:I,Ch:w}};fe.at1=function(){var o=fe.Ri(this.ay3);
return o};fe.arZ=function(o,P){var w=P.bp};fe.avM=function(o,P){var w=P.OR,x;x=o.Undl;if(x&&x.v.Undl=="underlineOnLeftInVertical")w.Underline=!0;
x=o.syntheticItalic;if(x)w.FauxItalic=x.v};fe.aon={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fe.auw={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fe.aea=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fe.ay3={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fe.aon))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fe.aon))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(fe.auw))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var en={};en.adO=function(o){var P=en.aj3(o._0,o._1);en.ayf(P,o._0);return P};en.a6p=function(o,P,w){var x={};
x._98={_0:"i7"};x._0=en.axz(o,P,w?w._0:null);x._1=en.aHz(o,P,x._0,w?w._1:null);return x};en.axz=function(o,P,w){var x={};
x._1=en.ao3(o,w?w._1:null);x._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};x._3=JSON.parse(JSON.stringify(en.ar5));
x._4=JSON.parse(JSON.stringify(en.ax2));x._5=en.alW(o,x._1._0,w?w._5:null);x._6=en.awr(o,w?w._6:null);
x._8=en.a1V(o,P,w?w._8:null);x._9=en.ad6;return x};en.ayf=function(o,P){en.axq(o,P._5,P._1._0)};en.ao3=function(o,P){var w=[],x=[];
for(var I=0;I<o.length;I++){var z=o[I].ResourceDict.FontSet;for(var S=0;S<z.length;S++){var k=z[S];if(x.indexOf(k.Name)!=-1)continue;
w.push(k);x.push(k.Name)}}var f={_0:[]};for(var I=0;I<w.length;I++){var C=w[I],H={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+C.Name,_1:"i"+C.Script,_2:"i"+C.FontType}}};
if(C.Script==0)delete H._0._0._1;f._0.push(H)}return f};en.alW=function(o,P,w){var x={_0:[],_1:[]},z={_0:JSON.parse(JSON.stringify(en.alQ))};
en.auJ(z._0,o[0].ResourceDict.StyleSheetSet[0],P,o[0].ResourceDict.FontSet);x._0.push(z);x._1.push({_0:"i0"});
x._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});x._1.push({_0:"i1"});return x};en.axq=function(o,P,w){var x=P._0[0];
for(var I=0;I<o.length;I++)en.aFp(x._0,o[I].ResourceDict.StyleSheetSet[0],w,o[I].ResourceDict.FontSet)};
en.awr=function(o,P){var w={_0:[],_1:[]},x={_0:JSON.parse(JSON.stringify(en.HF))};en.Fq(x._0,o[0].ResourceDict.ParagraphSheetSet[0]);
w._0.push(x);w._1.push({_0:"i0"});x={_0:JSON.parse(JSON.stringify(en.HF))};en.Fq(x._0,o[0].ResourceDict.ParagraphSheetSet[0]);
x._0._0="sBasic Paragraph";x._0._6="i0";w._0.push(x);w._1.push({_0:"i1"});return w};en.a1V=function(o,P,w){var x={_0:[]};
for(var I=0;I<o.length;I++){var z=o[I].Curve,S={};x._0.push({_0:S});var k=fe.bU(o[I]);S._1={};S._2={};
S._2._0="i"+k;if(o[I]._LineOrientation==2)S._2._1="i2";if(k==0){delete S._1;S._2._6=["f-1","f-1"];S._2._11={_4:"i-1",_7:!1}}else if(k==1&&z==null){var f=fe.vw(o[I]),C=f[2],H=f[3];
S._1._0=en.el("f",[0,0,0,0,C,0,C,0,C,0,C,0,C,H,C,H,C,H,C,H,0,H,0,H,0,H,0,H,0,0,0,0]);S._2._6=["f-2","f-2"];
S._2._11={_4:"i-2",_7:!1}}else if(k==1){var f=fe.vw(o[I]),C=f[2],H=f[3];S._1._0=en.el("f",z.Points);
S._2._6=["f-3","f-3"];S._2._11={_4:"i-3",_7:!1}}else if(k==2){S._1._0=en.el("f",z.Points);S._2._6=en.el("f",z.TextOnPathTRange);
S._2._11={_0:z.Reversed,_3:"i0",_5:"f0",_7:!1}}}return x};en.aHz=function(o,P,w,x){var z={};z._0=JSON.parse(JSON.stringify(en.aHb));
z._1=en.azU(o,P,w,x?x._1:null);z._2=JSON.parse(JSON.stringify(en.alQ._6));z._3=JSON.parse(JSON.stringify(en.HF._5));
return z};en.aj3=function(o,P){return en.alJ(o,P._1)};en.azU=function(o,P,w,x){var z=[],S=w._1._0;for(var I=0;
I<o.length;I++){var k=o[I],f={_0:{}};z.push(f);f._0._0="s"+k.EngineDict.Editor.Text;f._0._0=f._0._0;
var C=f._0._5={_0:[]},H=k.EngineDict.ParagraphRun;for(var b=0;b<H.RunArray.length;b++){var i={_0:{}};
C._0.push(i);i._0._0={_0:"s",_5:{},_6:"i1"};en.Fq(i._0._0,H.RunArray[b].ParagraphSheet);i._1="i"+H.RunLengthArray[b]}var M=f._0._6={_0:[]};
H=k.EngineDict.StyleRun;for(var b=0;b<H.RunArray.length;b++){var T={_0:{}};M._0.push(T);T._0._0={_0:"s",_5:"i1",_6:{}};
en.auJ(T._0._0,H.RunArray[b].StyleSheet,S,k.ResourceDict.FontSet);T._1="i"+H.RunLengthArray[b]}H=k.EngineDict.AlternateGlyphRun;
if(H){var O=f._0._9={_0:[]};for(var b=0;b<H.RunArray.length;b++){var Y={_0:{}};O._0.push(Y);var U=H.RunArray[b];
if(U.Glyph!=null){Y._0._0={_0:"i"+U.Glyph,_1:"e"}}Y._1="i"+H.RunLengthArray[b]}}f._0._10={_0:"i4",_2:!0};
f._1=en.view.a0o(k,null,I,null)}return z};en.alJ=function(o,P){var w=[],x=o._1._0;if(P)for(var I=0;I<P.length;
I++){var z=fe.at1();w.push(z);var S=P[I];z.EngineDict.Editor.Text=S._0._0.slice(1);var k=z.EngineDict.ParagraphRun.RunArray[0],f=z.EngineDict.ParagraphRun,C=S._0._5;
if(C)for(var H=0;H<C._0.length;H++){var b=C._0[H];f.RunLengthArray[H]=parseInt(b._1.slice(1));f.RunArray[H]=JSON.parse(JSON.stringify(k));
en.acG(b._0._0,f.RunArray[H].ParagraphSheet)}else{f.RunLengthArray[0]=fe.YJ(z).length}var i=S._0._6;
f=z.EngineDict.StyleRun;if(i)for(var H=0;H<i._0.length;H++){var M=i._0[H];f.RunLengthArray[H]=parseInt(M._1.slice(1));
f.RunArray[H]={StyleSheet:{StyleSheetData:{}}};en.aFp(M._0._0,f.RunArray[H].StyleSheet,x,z.ResourceDict.FontSet)}else{f.RunLengthArray[0]=fe.YJ(z).length;
f.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return w};en.auJ=function(o,P,w,x,z){o._0="s"+(P.Name?P.Name:"");
var S=o._6,k=z?z._6:null,f=P.StyleSheetData;if(f.Font!=null){var C=x[f.Font].Name,H=-1;for(var I=0;I<w.length;
I++)if("s"+C==w[I]._0._0._0){H=I;break}S._0="i"+H}if(f.FontSize!=null)S._1="f"+f.FontSize;if(f.FauxBold!=null)S._2=f.FauxBold;
if(f.FauxItalic!=null)S._3=f.FauxItalic;if(f.AutoLeading!=null)S._4=f.AutoLeading;if(f.Leading!=null)S._5="f"+f.Leading;
if(f.HorizontalScale!=null)S._6="f"+f.HorizontalScale;if(f.VerticalScale!=null)S._7="f"+f.VerticalScale;
if(f.Tracking!=null)S._8="i"+f.Tracking;if(f.BaselineShift!=null)S._9="f"+f.BaselineShift;if(f.AutoKerning!=null)S._11="i"+(f.AutoKerning?1:0);
if(f.FontCaps!=null)S._12="i"+f.FontCaps;if(f.FontBaseline!=null)S._13="i"+f.FontBaseline;if(f.Strikethrough!=null)S._15="i"+(f.Strikethrough?1:0);
if(f.Underline!=null)S._16="i"+(f.Underline?2:0);if(f.Ligatures!=null)S._18=f.Ligatures;if(f.DLigatures!=null)S._19=f.DLigatures;
if(f.BaselineDirection!=null)S._35="i"+f.BaselineDirection;if(f.Language!=null)S._38="i"+f.Language;
if(f.FillColor!=null)S._53=en.Zf(f.FillColor);if(f.StrokeColor!=null)S._54=en.Zf(f.StrokeColor);if(f.FillFlag!=null)S._56=f.FillFlag;
if(f.StrokeFlag!=null)S._57=f.StrokeFlag;if(f.FillFirst!=null)S._58=f.FillFirst;if(f.OutlineWidth!=null)S._63="f"+f.OutlineWidth;
if(f._FillBackgroundColor!=null)S._79=en.Zf(f._FillBackgroundColor);if(f._FillBackgroundFlag!=null)S._80=f._FillBackgroundFlag;
if(f._LineCap!=null)S._61="i"+f._LineCap;if(f._LineJoin!=null)S._62="i"+f._LineJoin;if(f._MiterLimit!=null)S._64="f"+f._MiterLimit;
if(f._LineDashOffset!=null)S._65="f"+f._LineDashOffset;if(f._LineDashArray!=null)S._66=en.el("f",f._LineDashArray);
for(var I=0;I<8;I++)if(f[fe.cE[I]]!=null)S["_"+fe.AA[I]]=f[fe.cE[I]]};en.Zf=function(o){return{_99:"/SimplePaint",_0:{_0:"i1",_1:en.el("f",o.Values)}}};
en.aFp=function(o,P,w,x){var z=o._6;if(z==null)return;var S=P.StyleSheetData;if(z._0){var k=parseInt(z._0.slice(1)),f=w[k]._0._0._0.slice(1);
fe.bB({OR:S,Dm:x},f)}if(z._1!=null)S.FontSize=parseFloat(z._1.slice(1));if(z._2!=null)S.FauxBold=z._2;
if(z._3!=null)S.FauxItalic=z._3;if(z._4!=null)S.AutoLeading=z._4;if(z._5!=null)S.Leading=parseFloat(z._5.slice(1));
if(z._6!=null)S.HorizontalScale=parseFloat(z._6.slice(1));if(z._7!=null)S.VerticalScale=parseFloat(z._7.slice(1));
if(z._8!=null)S.Tracking=parseFloat(z._8.slice(1));if(z._9!=null)S.BaselineShift=parseFloat(z._9.slice(1));
if(z._11!=null)S.AutoKerning=parseFloat(z._11.slice(1))==1;if(z._12!=null)S.FontCaps=parseFloat(z._12.slice(1));
if(z._13!=null)S.FontBaseline=parseFloat(z._13.slice(1));if(z._15!=null)S.Strikethrough=parseFloat(z._15.slice(1))==1;
if(z._16!=null)S.Underline=parseFloat(z._16.slice(1))==1;if(z._18!=null)S.Ligatures=z._18;if(z._19!=null)S.DLigatures=z._19;
if(z._35!=null)S.BaselineDirection=parseFloat(z._35.slice(1));if(z._38!=null)S.Language=parseFloat(z._38.slice(1));
if(z._53!=null)S.FillColor=en.eZ(z._53);if(z._54!=null)S.StrokeColor=en.eZ(z._54);if(z._56!=null)S.FillFlag=z._56;
if(z._57!=null)S.StrokeFlag=z._57;if(z._63!=null)S.OutlineWidth=parseFloat(z._63.slice(1));if(z._79!=null)S._FillBackgroundColor=en.eZ(z._79);
if(z._80!=null)S._FillBackgroundFlag=z._80;if(z._61!=null)S._LineCap=parseFloat(z._61.slice(1));if(z._62!=null)S._LineJoin=parseFloat(z._62.slice(1));
if(z._64!=null)S._MiterLimit=parseFloat(z._64.slice(1));if(z._65!=null)S._LineDashOffset=parseFloat(z._65.slice(1));
if(z._66!=null)S._LineDashArray=en.XY(z._66);for(var I=0;I<8;I++)if(z["_"+fe.AA[I]]!=null)S[fe.cE[I]]=z["_"+fe.AA[I]]};
en.eZ=function(o){var P=o._0._0,w=[1,0,0,0],x=en.XY(o._0._1);if(P=="i0")w[1]=w[2]=w[3]=x[1];else if(P=="i1")w=x;
else if(P=="i2")w=[1].concat(UDOC.C.cmykToRgb(x.slice(1)));else console.log("unknown color type",P,x);
return{Type:1,Values:w}};en.Fq=function(o,P){o._0="s"+(P.Name?P.Name:"");var w=o._5,x=P.Properties;if(x.Justification!=null)w._0="i"+x.Justification;
if(x.FirstLineIndent!=null)w._1="f"+x.FirstLineIndent;if(x.StartIndent!=null)w._2="f"+x.StartIndent;
if(x.EndIndent!=null)w._3="f"+x.EndIndent;if(x.SpaceBefore!=null)w._4="f"+x.SpaceBefore;if(x.SpaceAfter!=null)w._5="f"+x.SpaceAfter;
if(x.AutoLeading!=null)w._7="f"+x.AutoLeading;if(x.AutoHyphenate!=null)w._9=x.AutoHyphenate;if(x._Direction!=null)w._33="i"+x._Direction;
if(x._ComposerEngine!=null)w._35="i"+x._ComposerEngine};en.acG=function(o,P){var w=o._5;if(w==null)return;
var x=P.Properties;if(w._0)x.Justification=parseInt(w._0.slice(1))};en.el=function(o,P){var w=[];for(var I=0;
I<P.length;I++)w.push(o+P[I]);return w};en.XY=function(o){var P=[];for(var I=0;I<o.length;I++)P.push(parseFloat(o[I].slice(1)));
return P};en.ar5={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
en.ax2={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
en.alQ={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
en.HF={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
en.ad6={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
en.aHb={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kw={};kw.aEQ=function(o){return kw.zy(o,kw.TN,0)};kw.a3_=function(o){return kw.l3(o,kw.TN)};kw.zy=function(o,P,w){var x;
if(typeof o=="string")return o;if(o instanceof Array){x=[];for(var I=0;I<o.length;I++)x[I]=kw.zy(o[I],P,w+1)}else{x={};
var z={};for(var S in P){var k=P[S],f="_"+k[0];if(o[f]!=null){x[S]=k[1]?kw.zy(o[f],k[1],w+1):o[f];z[f]=!0}}for(var S in o){if(z[S]==null){if(S.length>3)continue;
console.log(P,z);console.log(S,o);throw"e"}}}return x};kw.l3=function(o,P){var w;if(typeof o=="string")return o;
else if(o instanceof Array){w=[];for(var I=0;I<o.length;I++)w[I]=kw.l3(o[I],P)}else{w={};var x={};for(var z in P){var S=P[z],k="_"+S[0];
if(o[z]!=null){w[k]=S[1]?kw.l3(o[z],S[1]):o[z];x[z]=!0}}for(var z in o){if(x[z]==null){console.log(P,x);
console.log(z,o);throw"e"}}}return w};kw.Wc={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
kw.VB={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kw.Wc],_StrokeColor:[54,kw.Wc],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kw.Wc],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
kw.aqo={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kw.VB],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
kw.aBf={_Name:[0],_Features:[5,kw.aqo],_Parent:[6],_UUID:[97]};kw.aDL={_Name:[0],_Parent:[5],_Features:[6,kw.VB],_UUID:[97]};
kw.TN={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kw.aDL]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kw.aBf]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kw.aBf]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kw.aDL]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,kw.VB],_OriginalNormalParagraphFeatures:[3,kw.aqo],_4:[4]}]};
en.view={};en.view.a0o=function(o,P,w,x){var z={},S=fe.bU(o);z._0=[{_0:"i"+w}];return z};function CSS(){}CSS.awE=function(o,P){var w=o.add,x=w.vmsk,z=w.vstk,S=w.lmfx,k=w.TySh,f=[],C=CSS.KT(S,w),H=o.opacity/255*(o.add.iOpa!=null?o.add.iOpa/255:1);
if(H!=1)f.push("opacity: "+H.toFixed(3));if(o.aj()&&x){var b=e.n.$s(x.g);if(!b.Mw()){f.push("width: "+Math.round(b.q)+"px");
f.push("height: "+Math.round(b._)+"px")}var i=e.n.ajT(x.g);if(i>0)f.push("border-radius: "+Math.round(i)+"px")}else if(k){var M=k.OY;
if(fe.bU(M)==1){var b=fe.vw(M);f.push("width: "+Math.round(b[2])+"px");f.push("height: "+Math.round(b[3])+"px")}CSS.a9N(f,fe.Zv(M,0,0),k.h,!1,!1,C[0])}CSS.aw9(P,S,f);
if(k==null)CSS.avv(C,f);if(z==null||!z.strokeEnabled.v)z=iO.a4h(S);if(z&&z.strokeEnabled.v){var T=z.strokeStyleContent.v,O=T.classID,Y=z.strokeStyleOpacity.v.val/100,U=z.strokeStyleLineWidth.v.val,W="";
if(O=="solidColorLayer")W=CSS.pK(T.Clr.v,Y);f.push("border: "+U+"px solid "+W)}return f};CSS.aw9=function(o,P,w){if(P==null||!P.masterFXSwitch.v)return;
var x=P.dropShadowMulti.v.concat(P.innerShadowMulti.v);for(var I=0;I<x.length;I++){var z=x[I].v;if(z.enab.v){var S=z.classID=="IrSh",k=z.Dstn.v.val,f=z.lagl.v.val*Math.PI/180;
if(z.uglg&&z.uglg.v)f=o.t8()*Math.PI/180;var C=k*Math.cos(f),H=k*Math.sin(f),b=(C==0?"0 ":CSS.api(-C)+"px ")+(H==0?"0 ":CSS.api(H)+"px ")+z.blur.v.val/2+"px "+CSS.pK(z.Clr.v,z.Opct.v.val/100);
if(S)w.push("box-shadow: inset "+b);else w.push("filter: drop-shadow("+b+")")}}};CSS.KT=function(o,P){var w=iO.a3O(o,P),x=w[0],z=w[1],S,k;
if(x){S=CSS.pK(x.Clr.v,P.iOpa!=null?P.iOpa/255:1)}else if(z){k=CSS.AF(z)}return[S,k]};CSS.avv=function(o,P){if(o[0])P.push("background-color: "+o[0]);
if(o[1])P.push("background-image: "+o[1])};CSS.Sv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.api=function(eK){return""+parseFloat(eK.toFixed(3))};CSS.HQ=function(o){if(o==null)return{$:0,H:0,b:0};
var P=o.indexOf("(");if(P!=-1){var w=o.slice(P+1,o.length-1).split(",");for(var I=0;I<w.length;I++){var x=w[I].trim();
w[I]=parseFloat(x)*(x.endsWith("%")?255/100:1)}if(o.startsWith("hsl")){var z=e.yN(w[0]/360,w[1]/255,w[2]/255);
z.$*=255;z.H*=255;z.b*=255;return z}return{$:w[0],H:w[1],b:w[2]}}if(o.charAt(0)!="#"){var S=CSS.Sv;if(S[o])o=S[o];
else console.log("unknown color "+o)}o=o.slice(1);if(o.length==4)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]+o[3]+o[3];
if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];var k=-1;if(o.length==8){k=parseInt(o.slice(6),16);o=o.slice(0,6)}o=parseInt(o,16);
var f={$:o>>16&255,H:o>>8&255,b:o&255};if(k!=-1)f.F=k;return f};CSS.pK=function(o,P){return CSS.A9(e.G.dQ(o),P)};
CSS.A9=function(o,P){if(P==null)P=1;var w=Math.round(o.$),x=Math.round(o.H),z=Math.round(o.b),S=w<<16|x<<8|z;
return P==1?"#"+e.UM(S):"rgba("+w+","+x+","+z+","+P+")"};CSS.abg=function(o,P){return CSS.A9({$:o[0]*255,H:o[1]*255,b:o[2]*255},P)};
CSS.AF=function(o){var P=o.Grad.v;if(P.Clrs==null)return"";var w=P.Clrs.v.slice(0),x=P.Trns.v.slice(0),z=o.Ofst.v,S=o.Type.v.GrdT=="Rdl"?1:0,k=(S==1?"radial":"linear")+"-gradient",f=S==0?Math.round(-o.Angl.v.val+90)+"deg":"circle at center",C=o.Rvrs.v,H=e.G.al9(P,C);
for(var I=0;I<H.length;I++){var b=H[I],i=b[1];f+=", "+CSS.A9({$:i[0]*255,H:i[1]*255,b:i[2]*255},b[2])+" "+Math.round(b[0]*100)+"%"}return k+"("+f+")"};
CSS.a9N=function(o,P,w,x,z,S){var k=P.OR,f=x?1:w.gz(),C=Math.round(k.FontSize*f);o.push("font-size: "+C+"px");
var H=k.Tracking;if(!x&&H!=null&&H!=0)o.push("letter-spacing: "+Math.round(H*C/1e3)+"px");if(!k.AutoLeading)o.push("line-height: "+Math.round(k.Leading*f)+"px");
if(k.Strikethrough)o.push("text-decoration: line-through");if(k.Underline)o.push("text-decoration: underline");
if(k.FontCaps==2)o.push("text-transform: uppercase");var b=fe.dQ(k.FillColor);b=[b.$,b.H,b.b].map(Math.round);
o.push((x?"fill: ":"color: ")+(S?S:"#"+e.UM(b[0]<<16|b[1]<<8|b[2])));var i=P.Dm[k.Font].Name;if(i){var M=bF.KG.M2(i),T="",O=null,Y=null;
if(M!=null&&i!=bF.s5(M))M=null;if(z&&M)T+="\""+i+"\", ";var U=i.toLowerCase();if(M){O=bF.axW(M)[0];if(M["OS/2"])Y=M["OS/2"].usWeightClass}else{O=CSS.a8p(i);
if(U.indexOf("light")!=-1)Y=300;else if(U.indexOf("medium")!=-1)Y=500;else if(U.indexOf("black")!=-1||U.indexOf("extrabold")!=-1)Y=800;
else if(U.indexOf("bold")!=-1)Y="bold"}if(O!=null)T+="\""+O+"\"";if(Y!=null)o.push("font-weight: "+Y);
if(U.indexOf("italic")!=-1||U.indexOf("oblique")!=-1)o.push("font-style: italic");if(T)o.push("font-family: "+T)}var W=P.bp.Justification;
if(W!=null&&W!=0)if(x){}else o.push("text-align: "+["left","right","center"][W%3])};CSS.a8p=function(o){o=o.split("-")[0];
while(o.endsWith("MT")||o.endsWith("PS"))o=o.slice(0,o.length-2);var P=!0;for(var I=0;I<o.length;I++){var w=o.charAt(I);
if(!P&&w.toLowerCase()!=w){o=o.slice(0,I)+" "+o.slice(I);I++;P=!0}else P=!1}return o};function e8(){}e8.IM={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
e8.Py=function(o,P){var w=Date.now(),x=o.split("\n"),z;if(x.length==1)x=o.split("\r");for(var I=0;I<x.length;
I++)if(x[I].trim()[0]=="#"){x[I]=""}o=x.join("\n");try{z=acorn.parse(o)}catch(bF){console.log(bF);return}var S=JSON.parse(JSON.stringify(e8.dB.RA));
S.__return=!1;S.__continue=!1;S.__break=!1;S.__throw=!1;S.__fs={};S.__window={};e8.eval(z,P,S);var k=S.__fs;
if(Object.keys(k).length!=0){var f=UZIP.encode(k);b_.save(f,"output.zip")}};e8.eval=function(o,P,w){var x=o.type;
if(!1){}else if(x=="Program"||x=="BlockStatement"){var z=o.body;for(var I=0;I<z.length;I++){var S=z[I].type;
if(S=="FunctionDeclaration")w[z[I].id.name]=z[I]}for(var I=0;I<z.length;I++){var S=z[I].type,k=e8.eval(z[I],P,w);
if(w.__continue&&w.__pif==null){w.__continue=!1;return k}if(w.__return||w.__break||w.__throw)return k}}else if(x=="ReturnStatement"){w.__return=!0;
return o.argument?e8.sr(o.argument,P,w):null}else if(x=="BreakStatement"){w.__break=!0}else if(x=="ContinueStatement"){w.__continue=!0}else if(x=="VariableDeclaration"){var f=o.declarations;
for(var I=0;I<f.length;I++)e8.eval(f[I],P,w)}else if(x=="VariableDeclarator"){w[o.id.name]=o.init?e8.sr(o.init,P,w):null}else if(x=="FunctionDeclaration"){w[o.id.name]=o}else if(x=="MemberExpression"){var C=e8.sr(o.object,P,w),k;
if(w.__throw)return;var H=o.computed?e8.sr(o.property,P,w):e8.eval(o.property,P,w);if(C.A!=null)k=e8.dB.G_(C,H,P,w);
else if(C==window&&e8.IM[H]){}else k=C[H];return k}else if(x=="ArrayExpression"){var b=[],i=o.elements;
for(var I=0;I<i.length;I++)b.push(e8.sr(i[I],P,w));return b}else if(x=="ObjectExpression"){var b={},i=o.properties;
for(var I=0;I<i.length;I++){var M=i[I],T=i[I].key.name?i[I].key.name:i[I].key.value;b[T]=e8.sr(i[I].value,P,w)}return b}else if(x=="ExpressionStatement"){return e8.eval(o.expression,P,w)}else if(x=="NewExpression"){var O=o.arguments,Y=o.callee,U=Y.type,W=Y.name,t=[],b=null;
for(var I=0;I<O.length;I++)t.push(e8.sr(O[I],P,w));if(W=="Array")b=new window[W];else if(U=="Identifier")b=e8.dB.ahV(W,t,P,w);
else throw"e";if(b==null)throw"new "+W;return b}else if(x=="CallExpression"){var O=o.arguments,Y=o.callee,U=Y.type,_={};
for(var n in w)_[n]=w[n];var t=[];for(var I=0;I<O.length;I++)t.push(e8.sr(O[I],P,w));if(U=="Identifier"){var y=Y.name,F=w[y];
if(F&&F.A=="AppFunc"){y=F.uD;F=null}if(F){if(F.params){var a=F.params;for(var I=0;I<a.length;I++)_[a[I].name]=t[I];
return e8.eval(F.body,P,_)}else{return F.apply(null,t)}}else if(e8.dB.anO.indexOf(y)!=-1)return e8.dB.u$({A:"Application"},y,t,P,w);
else if(window[y]==null)console.log("Unknown function "+y);else if(e8.IM[y])alert(y+"() not available");
else{var V=window[y].apply(window,t);return V}}else if(U=="MemberExpression"){var C=e8.sr(Y.object,P,w),H=Y.computed?e8.sr(Y.property,P,w):e8.eval(Y.property,P,w);
if(C==window&&e8.IM[H])return;if(C.A!=null)return e8.dB.u$(C,H,t,P,w);else if(H=="sort"&&C[0]&&C[0].A=="Layer"){return C.sort(function(r,h){return r.P.getName()>h.P.getName()?1:-1})}else if(H=="toSource")return JSON.stringify(C);
else return C[H].apply(C,t)}else if(U=="FunctionExpression"){var D=e8.eval(Y.body,P,w);w.__return=!1;
return D}else console.log(o)}else if(x=="AssignmentExpression"){var l=o.operator,Q=o.left,m=Q.type,R=e8.sr(Q,P,w),$=e8.sr(o.right,P,w),k=null;
if(!1){}else if(l=="=")k=$;else if(l=="+=")k=R+$;else if(l=="-=")k=R-$;else if(l=="*=")k=R*$;else if(l=="/=")k=R/$;
else if(l=="%=")k=R%$;else if(l=="&=")k=R&$;else if(l=="|=")k=R|$;else if(l=="&&=")k=R&&$;else if(l=="||=")k=R||$;
else console.log(o);if(m=="Identifier"){var p=Q.name;if(w.hasOwnProperty(p))w[p]=k;else w.__window[p]=k}else if(m=="MemberExpression"){var c=e8.eval(Q.property,P,w),B=e8.sr(Q.object,P,w);
if(B.A!=null)e8.dB.atV(B,c,k,P,w);else B[c]=k}else console.log(o);return k}else if(x=="Identifier")return o.name;
else if(x=="Literal")return o.value;else if(x=="UpdateExpression"){var l=o.operator,Z=o.argument.name,b=e8.sr(o.argument,P,w),v=w;
if(v[Z]==null)v=w.__window;if(!1){}else if(l=="++"){v[Z]++;return o.prefix?v[Z]:v[Z]-1}else if(l=="--"){v[Z]--;
return o.prefix?v[Z]:v[Z]+1}else console.log(o)}else if(x=="UnaryExpression"){var l=o.operator,E=e8.sr(o.argument,P,w);
if(E&&E.A=="UnitValue"){if(l=="-")return-E.P;else return e8.ak6(E.P,l)}else return e8.ak6(E,l)}else if(x=="BinaryExpression"||x=="LogicalExpression"){var l=o.operator,Q=e8.sr(o.left,P,w);
if(x=="LogicalExpression"&&l=="&&"&&!Q)return Q;var E=e8.sr(o.right,P,w);if(Q==null||E==null)return e8.gq(Q,E,l);
else if(Q.A=="UnitValue"&&E.A=="UnitValue")return e8.gq(Q.P,E.P,l);else if(Q.A=="UnitValue")return e8.gq(Q.P,E,l);
else if(E.A=="UnitValue"){if(l=="-")return-(Q-E.P);else return e8.gq(Q,E.P,l)}else return e8.gq(Q,E,l)}else if(x=="IfStatement"){var g=e8.sr(o.test,P,w),u=w.__pif,k=null;
w.__pif=!0;if(g)k=e8.eval(o.consequent,P,w);else if(o.alternate)k=e8.eval(o.alternate,P,w);w.__pif=u;
return k}else if(x=="ConditionalExpression"){var g=e8.sr(o.test,P,w);if(g)return e8.sr(o.consequent,P,w);
else if(o.alternate)return e8.sr(o.alternate,P,w)}else if(x=="ForInStatement"){e8.eval(o.left,P,w);var j=o.left.declarations[0].id.name,A=e8.sr(o.right,P,w);
for(var n in A){w[j]=n;var K=e8.eval(o.body,P,w);if(w.__break)break;if(w.__return)return K}w.__break=!1}else if(x=="ForStatement"){e8.eval(o.init,P,w);
while(e8.eval(o.test,P,w)){var K=e8.eval(o.body,P,w);if(w.__break)break;if(w.__return)return K;e8.eval(o.update,P,w)}w.__break=!1}else if(x=="WhileStatement"){while(e8.eval(o.test,P,w)){var K=e8.eval(o.body,P,w);
if(w.__break)break;if(w.__return)return K}w.__break=!1}else if(x=="DoWhileStatement"){do{var K=e8.eval(o.body,P,w);
if(w.__break)break;if(w.__return)return K}while(e8.eval(o.test,P,w));w.__break=!1}else if(x=="TryStatement"){e8.eval(o.block,P,w);
if(w.__throw){var s=o.handler;w[s.param.name]=w.__throw;w.__throw=!1;e8.eval(s.body,P,w);delete w[s.param.name]}}else if(x=="FunctionExpression"){return o}else if(x=="EmptyStatement"){}else console.log(o)};
e8.gq=function(o,P,w){if(w=="+")return o+P;else if(w=="-")return o-P;else if(w=="*")return o*P;else if(w=="/")return o/P;
else if(w=="%")return o%P;else if(w=="^")return o^P;else if(w=="&")return o&P;else if(w=="&&")return o&&P;
else if(w=="|")return o|P;else if(w=="||")return o||P;else if(w=="<")return o<P;else if(w==">")return o>P;
else if(w=="=="){if(o!=null&&P!=null&&o.A&&P.A)return o.P==P.P;return o==P}else if(w=="===")return o===P;
else if(w=="<=")return o<=P;else if(w==">=")return o>=P;else if(w=="!=")return o!=P;else if(w=="!==")return o!==P;
else if(w=="<<")return o<<P;else if(w==">>")return o>>P;else console.log(w)};e8.ak6=function(o,P){if(P=="-")return-o;
else if(P=="!")return!o;else if(P=="~")return~o;else if(P=="+")return o;else if(P=="typeof")return typeof o;
else console.log(P,o)};e8.sr=function(o,P,w){var x=o.type;if(x=="Identifier")return e8.ayB(o.name,P,w);
else return e8.eval(o,P,w)};e8.ayB=function(o,P,w){if(o=="undefined")return undefined;else if(w.hasOwnProperty(o))return w[o];
else if(o=="app")return{A:"Application"};else if(o=="Folder")return{A:"Folder"};else if(o=="File")return{A:"File"};
else if(o=="$")return{A:"$"};else if(e8.dB.aoX.indexOf(o)!=-1)return e8.dB.G_({A:"Application"},o,P,w);
else if(e8.dB.anO.indexOf(o)!=-1)return{A:"AppFunc",uD:o};else if(w.__window.hasOwnProperty(o))return w.__window[o];
else if(window[o]&&!e8.IM[o])return window[o];else{w[o]=null;return null}};e8.dB={};e8.dB.ahV=function(o,P,w,x){var z;
if(o=="PathPointInfo")z={A:o,kind:0,v:[],Fm:[],AK:[]};if(o=="SubPathInfo")z={A:o,Ed:0,re:!1,P:[]};if(o=="SolidColor")z={A:o,P:[1,0,0,0]};
if(o=="RGBColor")z={A:o,P:[1,0,0,0]};if(o=="Window")z={A:o,P:new fo(P[0],P[1],P[2])};if(o=="ExportOptionsSaveForWeb")z={A:o,P:{pr:"png",xs:100}};
if(o=="PhotoshopSaveOptions")z={A:o,P:{pr:"psd"}};if(o=="PNGSaveOptions")z={A:o,P:{pr:"png",xs:100}};
if(o=="JPEGSaveOptions")z={A:o,P:{pr:"jpg",xs:100}};if(o=="PDFSaveOptions")z={A:o,P:{pr:"pdf",axh:""}};
if(o=="File")z={A:o,P:P[0]};if(o=="ActionReference")z={A:o,P:{t:"obj ",v:[]}};if(o=="ActionDescriptor")z={A:o,P:{t:"Objc",v:{classID:"null"}}};
if(o=="ActionList")z={A:o,P:{t:"VlLs",v:[]}};if(o=="UnitValue")z={A:o,P:P.length==0?0:parseFloat(P[0])};
return z};e8.dB.aoX="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
e8.dB.anO="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
e8.dB.G_=function(o,P,w,x){var z=w.lW,S=w.L7();if(!1){}else if(P=="typename"){if(o.A=="Layer")return o.P.Pe()?"LayerSet":"ArtLayer";
else return o.A}else if(["Document","Layer"].indexOf(o.A)!=-1&&["layers","artLayers","layerSets"].indexOf(P)!=-1){var k=S;
if(o.A=="Document")k=o.P;else k=o.em;var f=k.root,C={A:"Layers",ahl:P,P:[],em:k};if(o.A=="Layer")f=k.root.wX(k.R.indexOf(o.P));
if(f.children==null)return null;for(var I=0;I<f.children.length;I++){var H=f.children[I].r,b=H.Pe();
if(b&&P=="artLayers"||!b&&P=="layerSets")continue;C.P.push({A:"Layer",P:H,em:k})}C.P.reverse();return C}else if(o.A=="Documents"||o.A=="Layers"||o.A=="HistoryStates"||o.A=="LayerComps"||o.A=="PathItems"||o.A=="SubPathItems"||o.A=="PathPoints"){if(!1){}else if(P=="length")return o.P.length;
else if(Number.isInteger(P))return o.P[P];else console.log(o.A+": unknown property ",P)}else if(o.A=="Application"){if(!1){}else if(P=="activeDocument")return{A:"Document",P:w.L7()};
else if(P=="documents"){var C={A:"Documents",P:[]};for(var I=0;I<w.ux.length;I++)C.P.push({A:"Document",P:w.ux[I]});
return C}else if(P=="fonts")return{A:"TextFonts"};else if(P=="preferences")return{A:"Preferences"};else if(P=="displayDialogs")return{A:"DialogModes"};
else if(P=="foregroundColor"||P=="backgroundColor"){var i=P[0]=="f"?z.AB:z.eI;return{A:"SolidColor",P:[1,(i>>>16&255)/255,(i>>>8&255)/255,(i>>>0&255)/255]}}else if(P=="UI")return{A:"UI"};
else if(P=="version")return 30;else console.log(o,P)}else if(o.A=="Document"){var S=o.P;if(!1){}else if(P=="activeLayer"){var H=S.R[S.T[0]];
return{A:"Layer",P:H,em:S}}else if(P=="pixelAspectRatio")return 1;else if(P=="resolution")return S.vz;
else if(P=="width")return S.q;else if(P=="height")return S._;else if(P=="name")return S.name;else if(P=="saved")return!S.P2();
else if(P=="selection")return{A:"Selection"};else if(P=="activeHistoryState")return{A:"HistoryState",BG:S.Mi};
else if(P=="source")return S.hS;else if(P=="layerComps"){var M=S.NZ.list.v,T=[];for(var I=0;I<M.length;
I++)T.push({A:"LayerComp",P:I});return{A:"LayerComps",P:T}}else if(P=="historyStates"){var O=[];for(var I=0;
I<S.history.length;I++)O.push({A:"HistoryState",BG:I});return{A:"HistoryStates",P:O}}else if(P=="mode")return 7;
else if(P=="colorSamplers"){var C={A:"ColorSamplers",ahl:P,P:S.aJ.slice(0),em:S};return C}else if(P=="pathItems"){var Y=[],S=o.P,U=S.m0(),W=U[0],t=U[1];
for(var I=0;I<W.length;I++)Y.push({A:"PathItem",P:W[I]});return{A:"PathItems",P:Y}}else console.log(o,P)}else if(o.A=="PathItem"){if(P=="subPathItems"){var _=o.P,n=_.add.vmsk.g,Y=[];
for(var I=0;I<e.n.f8(n);I++){var y=e.n.iE(n,I),F=n[y],a=n.slice(y+1,y+1+F.length);Y.push({A:"SubPathItem",Ed:F.Hv,re:F.type==0,P:X.tc.tz(a)})}return{A:"SubPathItems",P:Y}}else alert(P)}else if(o.A=="SubPathItem"||o.A=="SubPathInfo"){if(P=="pathPoints"||P=="entireSubPath"){var Y=[];
for(var I=0;I<o.P.length;I++){var V=o.P[I];Y.push({A:"PathPointInfo",kind:V.type==1||V.type==4?1:0,v:[V.v.x,V.v.y],Fm:[V.Fm.x,V.Fm.y],AK:[V.AK.x,V.AK.y]})}return{A:"PathPoints",P:Y}}else if(P=="operation")return o.Ed;
else if(P=="closed")return o.re;else throw P}else if(o.A=="PathPointInfo"){if(P=="kind")return o.kind;
else if(P=="anchor")return o.v;else if(P=="leftDirection")return o.Fm;else if(P=="rightDirection")return o.AK;
else throw P}else if(o.A=="LayerComp"){if(P=="name")return S.NZ.list.v[o.P].v.Nm.v;else throw P}else if(o.A=="ColorSamplers"){if(Number.isInteger(P))return{A:"ColorSampler",P:o.P[P]};
else if(P=="length")return S.aJ.length}else if(o.A=="ColorSampler"){if(P=="color"){var i=N.S9.lR(S,S.s.vd(o.P.x,o.P.y),1,2);
return{A:"SolidColor",P:[1,(i>>>16&255)/255,(i>>>8&255)/255,(i>>>0&255)/255]}}else if(P=="position")return[o.P.x,o.P.y]}else if(o.A=="Layer"){var D={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},H=o.P;
if(!1){}else if(P=="visible")return H.ny();else if(P=="selected")return S.T.indexOf(S.R.indexOf(H))!=-1;
else if(P=="grouped")return H.gH;else if(D[P]!=null)return H.Fp(D[P]);else if(P=="opacity")return H.opacity*100/255;
else if(P=="fillOpacity")return(H.add.iOpa==null?255:H.add.iOpa)*100/255;else if(P=="blendMode")return H.gS;
else if(P=="name")return H.getName();else if(P=="textItem")return{A:"TextItem",P:H};else if(P=="bounds"){var l=N.DH.q_(S,[S.R.indexOf(H)]);
return e8.dB.aev(l,S)}else if(P=="parent"){var Q=w.ux,k;for(var I=0;I<Q.length;I++)if(Q[I].R.indexOf(H)!=-1)k=Q[I];
var m=k.root.wX(k.R.indexOf(H)).parent;return m.depth==0?{A:"Document",P:k}:{A:"Layer",P:m.r,em:k}}else if(P=="kind"){var R=e8.dB.f_;
for(var I=0;I<R.length;I++)if(H.add[R[I]]!=null)return I;return 0}else if(P=="isBackgroundLayer")return H.add.lnsr="bgnd";
else if(P=="itemIndex")return S.R.indexOf(H)+1;else console.log(o,P)}else if(o.A=="Selection"){if(!1){}else if(P=="bounds"){if(S.e==null)x.__throw={message:"no selection"};
else return e8.dB.aev(S.e.rect,S)}else console.log(o,P)}else if(o.A=="TextItem"){var $=o.P.add.TySh,p=$.OY,c=fe.YJ(p),B=$.h.gz(),Z=fe.Zv(p,0,0);
if(P=="contents")return c.slice(0,c.length-1).replace(/\n/g,"\r");else if(P=="font")return Z.OR.Font!=null?Z.Dm[Z.OR.Font].Name:null;
else if(P=="size")return e8.dB.Pz(Z.OR.FontSize*B,S);else if(P=="leading")return e8.dB.Pz(Z.OR.Leading*B,S);
else if(P=="tracking")return e8.dB.Pz(Z.OR.Tracking);else if(P=="baselineShift")return e8.dB.Pz(Z.OR.BaselineShift);
else if(P=="fauxBold")return Z.OR.FauxBold;else if(P=="fauxItalic")return Z.OR.FauxItalic;else if(P=="kind")return 1-fe.bU(p);
else if(P=="useAutoLeading")return Z.bp.AutoLeading;else if(P=="hyphenation")return Z.bp.AutoHyphenate;
else if(P=="justification")return e8.dB.Pz(Z.bp.Justification);else if(P=="color")return{A:"SolidColor",P:Z.OR.FillColor.Values.slice(0)};
else if(P=="width"||P=="height"){var v=fe.vw(p),E=(v[2]-v[0])*B,g=(v[3]-v[1])*B;return e8.dB.Pz(P=="width"?E:g,S)}else if(P=="position"){var u=$.h;
return e8.dB.acz([u.$X,u.Ar],S)}else if(P=="horizontalScale"||P=="verticalScale"){var j=P[0].toUpperCase()+P.slice(1);
return Math.round(Z.OR[j]*100)}else if(P=="antiAliasMethod")fe.u5($);else if(P=="totalTextStyle"){var C={};
for(var A=0;A<2;A++){var K=["Style","Paragraph"][A],s=p.EngineDict[K+"Run"].RunLengthArray,r=[],h=0;
for(var I=0;I<s.length;I++){var jC=fe.Zv(p,h,Math.min(h+s[I],c.length-2));h+=s[I];r.push(A==0?jC.OR:jC.bp);
C.fontSet=jC.Dm}C[K]={runs:s,styles:r}}return JSON.stringify(C)}else if(P=="transform"){var u=$.h;return JSON.stringify([u.F,u.b,u.JJ,u.RL,u.$X,u.Ar])}else console.log(o,P)}else if(o.A=="Preferences"){if(P=="rulerUnits")return z.Xp.Kc;
else console.log(o,P)}else if(o.A=="SolidColor"){if(P=="rgb")return{A:"RGBColor",P:o.P};if(P=="cmyk")return{A:"CMYKColor",P:e.TI(o.P.slice(1))};
else console.log(o,P)}else if(o.A=="RGBColor"){var l=Math.round(255*o.P[1]),d=Math.round(255*o.P[2]),q=Math.round(255*o.P[3]);
if(!1){}else if(P=="red")return l;else if(P=="green")return d;else if(P=="blue")return q;else if(P=="hexValue")return e.UM(l<<16|d<<8|q).toUpperCase();
else console.log(o,P)}else if(o.A=="CMYKColor"){var hc=[];for(var I=0;I<4;I++)hc.push(Math.round(o.P[I]*100));
var dk=["cyan","magenta","yellow","black"].indexOf(P);if(dk!=-1)return hc[dk];else console.log(o,P)}else if(o.A=="UnitValue"){if(P=="value")return o.P;
else throw"e"}else if(o.A=="ExportOptionsSaveForWeb"){if(P=="format")return o.P.pr;else if(P=="PNG8"||P=="interlaced")return!1;
else if(P=="quality")return o.P.xs;else if(P=="transparency")return!0;else throw P}else if(o.A=="PNGSaveOptions"||o.A=="JPEGSaveOptions"||o.A=="PDFSaveOptions"){return 0}else if(o.A=="$"){if(P=="localize")return!1;
else if(P=="os")return"Windows";else throw P}else if(o.A=="ActionList"){if(P=="count")return o.P.v.length;
else throw P}else console.log(o,P)};e8.dB.aev=function(o,P){return e8.dB.acz([o.x,o.y,o.x+o.q,o.y+o._],P)};
e8.dB.acz=function(o,P){var w=[];for(var I=0;I<o.length;I++)w.push(e8.dB.Pz(o[I],P));return w};e8.dB.qJ=function(o){var P=[];
for(var I=0;I<o.length;I++)P.push(o[I].A?o[I].P:o[I]);return P};e8.dB.Pz=function(o,P){return{A:"UnitValue",P:o}};
e8.dB.a9w=function(o,P){if(o.A=="UnitValue")return o.P;return o};e8.dB.atV=function(o,P,w,x,z){var S=new bO(G.E.z,!0),k=new bO(G.E.X,!0),f=x.L7(),C=x.lW;
if(!1){}else if(o.A=="Application"){if(!1){}else if(P=="activeDocument"){k.data={Q:G.l.cA,lg:w.P};x.j(k)}else if(P=="displayDialogs"){}else if(P=="foregroundColor"||P=="backgroundColor"){var H=w.P,b=H[1]*255<<16|H[2]*255<<8|H[3]*255<<0;
k.data={Q:G.l.CA,JL:eB.P6,Pw:P=="foregroundColor"?0:1,P:b};x.j(k)}else console.log(o,P,w)}else if(o.A=="Document"){var i=o.P;
if(!1){}else if(P=="name"){S.I=N.jc;S.data={Q:X.c3,P:w,apc:!0,it:i};f.dH=!0}else if(P=="source")i.hS=w;
else if(P=="activeLayer"){i.T=[i.R.indexOf(w.P)]}else if(P=="activeHistoryState"){S.I=N.cw;S.data={Q:"h_itemchange",index:w.BG}}else console.log(o,P)}else if(o.A=="Layer"){S.I=N.jc;
var M={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},T=o.P,O=f.R.indexOf(T);
if(!1){}else if(P=="visible"){if(T.ny()!=w)S.data={Q:X.PZ,r:O}}else if(P=="opacity"){S.data={Q:X.pV,r:O,OL:Math.round(255*w/100)}}else if(P=="fillOpacity"){S.data={Q:X.s1,r:O,OL:Math.round(255*w/100)}}else if(P=="blendMode"){S.data={Q:X.Cz,r:O,OL:jK.gg.indexOf(w)}}else if(P=="name"){S.data={Q:X.BV,r:O,name:w}}else if(M[P]!=null){S.data={Q:X.CU,r:O,OL:[[w],[M[P]]]}}else if(P=="kind"){S.data={Q:X.kV,r:O,Kn:e8.dB.f_[w]}}else if(P=="grouped"){S.data={Q:X.q3,r:O,OL:w}}else console.log(o,P,w)}else if(o.A=="TextItem"){S.I=N.cR;
var T=o.P,Y=T.add.TySh,U=JSON.parse(JSON.stringify(Y.OY)),W=Y.h.clone(),t=Y.h.gz(),_=fe.YJ(U),n=fe.Zv(U,0,_.length-2),y=!1;
if(!1){}else if(P=="contents"){fe.kg(U,0,_.length-1);fe.EF(U,0,w.replace(/\r/g,"\n"))}else if(P=="size"){n.OR.FontSize=(w.P!=null?w.P:w)/t;
y=!0}else if(P=="leading"){n.OR.Leading=(w.P!=null?w.P:w)/t;y=!0}else if(P=="tracking"){n.OR.Tracking=w.P!=null?w.P:w;
y=!0}else if(P=="baselineShift"){n.OR.BaselineShift=w.P!=null?w.P:w;y=!0}else if(P=="fauxBold"){n.OR.FauxBold=w;
y=!0}else if(P=="fauxItalic"){n.OR.FauxItalic=w;y=!0}else if(P=="kind"){var F=fe.bU(U);if(F==1&&w==1){var a=new c5(U,x.lW.v7,Y.cN).bp[0],V=a.D3[0].end,D=a.BR[V-1].end;
fe.kg(U,0,_.length-1);fe.EF(U,0,_.slice(0,D-1))}if(F==w)fe.mn(U,1-w)}else if(P=="useAutoLeading"){n.bp.AutoLeading=w;
y=!0}else if(P=="hyphenation"){n.bp.AutoHyphenate=w;y=!0}else if(P=="justification"){n.bp.Justification=w;
y=!0}else if(P=="font"){fe.bB(n,w);y=!0}else if(P=="color"){n.OR.FillColor.Values=w.P.slice(0);y=!0}else if(P=="width"||P=="height"){var l=fe.vw(U).slice(0),Q=e8.dB.a9w(w);
if(P=="width")l[2]=Math.round(l[0]+Q/t);else l[3]=Math.round(l[1]+Q/t);fe.SP(U,l)}else if(P=="position"){W.$X=w[0];
W.Ar=w[1]}else if(P=="horizontalScale"||P=="verticalScale"){var m=P[0].toUpperCase()+P.slice(1);n.OR[m]=w/100;
y=!0}else if(P=="antiAliasMethod")fe.cs(Y,w);else console.log(o,P,w);if(y)fe.Bi(U,0,_.length-1,n);S.data={Q:"newED",aZ:f.R.indexOf(T),bG:U,h:W}}else if(o.A=="Preferences"){if(!1){}else if(P=="rulerUnits"){var R=JSON.parse(JSON.stringify(C.Xp));
R.Kc=w;k.data={Q:G.l.CA,JL:eB.Ua,OL:R};x.j(k)}else console.log(o,P,w)}else if(o.A=="SolidColor"){if(P=="rgb")o.P=w.P;
else throw P}else if(o.A=="RGBColor"){if(!1){}else if(P=="red")o.P[1]=w/255;else if(P=="green")o.P[2]=w/255;
else if(P=="blue")o.P[3]=w/255;else if(P=="hexValue"){var $=e.a8u(w.slice(w.charAt(0)=="#"?1:0));o.P[1]=($>>>16&255)/255;
o.P[2]=($>>>8&255)/255;o.P[3]=($>>>0&255)/255}else console.log(o,P)}else if(o.A=="ExportOptionsSaveForWeb"){if(P=="format")o.P.pr=w;
else if(P=="PNG8"||P=="transparency"||P=="interlaced"){}else if(P=="quality")o.P.xs=w;else throw P}else if(o.A=="PNGSaveOptions"||o.A=="JPEGSaveOptions"){if(P=="quality")o.P.xs=Math.round(100*w/12)}else if(o.A=="PDFSaveOptions"){if(P=="preset")o.P.axh=w}else if(o.A=="PathPointInfo"){if(P=="kind")o.kind=w;
else if(P=="anchor")o.v=w;else if(P=="leftDirection")o.Fm=w;else if(P=="rightDirection")o.AK=w;else throw P}else if(o.A=="SubPathInfo"){if(P=="operation")o.Ed=w;
else if(P=="closed")o.re=w;else if(P=="entireSubPath"){o.P=[];for(var I=0;I<w.length;I++){var p=w[I];
o.P.push({type:p.kind==1?1:2,Fm:new eD(p.Fm[0],p.Fm[1]),v:new eD(p.v[0],p.v[1]),AK:new eD(p.AK[0],p.AK[1])})}}else throw P}else if(o.A=="$"){if(P=="localize"){}}else console.log(o,P,w);
if(S.data!=null)x.j(S)};e8.dB.anW=function(o,P,w){if(P==null)return;var x=P.OY.EngineDict.StyleRun.RunArray,z=P.OY.ResourceDict.FontSet,S=[];
for(var I=0;I<x.length;I++){var k=x[I].StyleSheet.StyleSheetData,f=z[k.Font].Name,C=w.lW.v7.M2(f);if(C&&C.name.postScriptName!=f)C=null;
S.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:C!=null},fontPostScriptName:{t:"TEXT",v:f}}}}})}o.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:S},textKey:{t:"TEXT",v:fe.YJ(P.OY)}}}};
e8.dB.u$=function(o,P,w,x,z){var S=o.A,k=null,f=new bO(G.E.z,!0),C=new bO(G.E.qc,!0),H=new bO(G.E.X,!0),b=x.L7(),i=x.ux;
if(!1){}else if(S=="Application"){if(!1){}else if(P=="charIDToTypeID"){var M=w[0].trim(),T={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return T[M]?T[M]:M}else if(P=="stringIDToTypeID"){var O=w[0].trim(),T={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",textStyle:"TxtS"},Y=T[O];
return Y==null?O:Y}else if(P=="typeIDToStringID"){return w[0].trim()}else if(P=="executeAction"){var U;
if(w[1]){U=w[1].P.v;U.classID=w[0]}var W={setd:"set"},t=W[w[0]];if(t==null)t=w[0];var _=ft.cg[w[0]];
if(_&&ft.Q9[_])t=ft.Q9[_];C.data={wQ:t,WP:U}}else if(P=="executeActionGet"){var n=w[0].P.v,k={};if(n.length==1){var y=k.classID=n[0].v.classID;
if(y=="Lyr"){var F=h7.yx(b,n[0]),a=b.R[F],V=a.add.SoLd,D=a.add.SoCo,l=a.add.TySh;if(V)k.smartObjectMore={t:"Objc",v:{transform:V.nonAffineTransform}};
if(D)k.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(D))}]};if(l)e8.dB.anW(k,l,x)}return{A:"ActionDescriptor",P:{t:"null",v:k}}}if(n.length==2){var y=k.classID=n[1].v.classID,O=n[0].v.keyID;
if(y=="Dcmn"){var Q=b;if(O=="numberOfLayers")k[O]={t:"long",v:Q.R.length};else throw O}else if(y=="Lyr"){var F=h7.yx(b,n[1]),a=b.R[F],l=a.add.TySh;
if(O=="textKey")e8.dB.anW(k,l,x);else throw O}else if(y=="ASet"){var m=x.lW.p7,R=k.classID=n[0].v.classID;
if(R=="Actn"){k.NmbC={t:"long",v:h7.h_(m,n[0].v.val,n[1].v.val).Si.length}}else throw R}else throw y;
return{A:"ActionDescriptor",P:{t:"null",v:k}}}}else if(P=="doAction"){H.data={Q:G.l.Ho,bV:[w[0],w[1]]}}else if(P=="bringToFront"){}else if(P=="open"){H.data={Q:G.l.xj,JL:{url:w[0]}};
if(w[2]&&i.length!=0)H.data.JL.ca=i.indexOf(b)}else if(P=="echoToOE"){H.data={Q:G.l.li,JL:w[0]}}else if(P=="showWindow"){H.data={Q:G.l.y7,hq:w[0]}}else if(P=="UnitValue"){return w[0]+" "+w[1]}else console.log(P)}else if(S=="LayerComp"){if(P=="apply"){f.I=N.iH;
f.data={Q:"setLC",BG:b.NZ.list.v[o.P].v.compID.v}}else throw P}else if(S=="Document"){var b=o.P;if(!1){}else if(P=="crop"){var $=w[0];
C.data=N.A0.ayq([$[0],$[1],$[2]-$[0],$[3]-$[1]])}else if(P=="trim"){var p=[];for(var I=0;I<4;I++)p.push(w[I+1]!=null?w[I+1]:!0);
C.data=N.A0.$F(w[0]!=null?w[0]:0,p)}else if(P=="suspendHistory"){var c=acorn.parse(w[1]);e8.eval(c,x,z)}else if(P=="save"){H.data={Q:G.l.qS}}else if(P=="saveToOE"){H.data={Q:G.l.qS,K2:w}}else if(P=="rotateCanvas"){C.data=N.DH.hi(!0,w[0])}else if(P=="resizeImage"||P=="resizeCanvas"){var B=w[0],Z=w[1];
if(B!=null){if(typeof B!="number"){B=b.q*parseFloat(B.slice(0,B.length-1))/100;Z=b._*parseFloat(Z.slice(0,Z.length-1))/100}B=Math.round(B);
Z=Math.round(Z)}if(P=="resizeCanvas")C.data=N.A0.abI(B,Z,w[2]);else C.data=N.A0.i7(B,Z,w[2],B!=null?1:null)}else if(P=="paste"){H.data={Q:G.l.d6,axg:w.length!=0&&w[0],A$:!0};
x.j(H);H.data=null;return{A:"Layer",P:b.R[b.T[0]],em:b}}else if(P=="close"){H.data={Q:G.l.Jr,bQ:b}}else if(P=="exportDocument"||P=="saveAs"){var v=z.__fs,E=P=="exportDocument"?w[2].P:w[1].P,g=w[0].P.replace(":","").replace("~/","");
if(!g.toLowerCase().endsWith("."+E.pr))g+="."+E.pr;var u=eu.Gi(b,E.pr,null,null,E.pr=="pdf"?null:[E.xs],x.lW);
v[g]=new Uint8Array(u)}else if(P=="flatten"){C.data={wQ:"flattenImage"}}else if(P=="clearHistory"){f.I=N.cw;
f.data={Q:"h_clear",force:!0}}else console.log(o,P,w)}else if(S=="Layer"){var j=o.P,F=b.R.indexOf(j);
if(!1){}else if(P=="copy"){e8.dB.g3(b,x,0);H.data={Q:G.l.D9,ND:w[0],Uo:F,A$:!0};x.j(H);delete H.data;
e8.dB.g3(b,x,1)}else if(P=="clear"){e8.dB.g3(b,x,0);C.data={wQ:"delete"};x.j(C);delete C.data;e8.dB.g3(b,x,1)}else if(P=="autoLevels"||P=="autoContrast"){if(P=="autoContrast")C.data={wQ:"levels",WP:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else C.data={wQ:"levels",WP:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(P=="duplicate"){if(w.length==0){var A=b.T.slice(0);
f.data={Q:X.Ck,r:F};f.I=N.jc;x.j(f);f.data=null;k={A:"Layer",P:b.R[b.T[0]],em:o.em};b.T=A}else if(w[0].A=="Document"){f.data={Q:X._J,R:b.JT(F),Dy:b,vT:w[0].P};
f.I=N.jc}if(f.data){x.j(f);f.data=null;return{A:"Layer",P:b.R[b.T[0]],em:b}}}else if(P=="merge"||P=="remove"){f.data={Q:P=="merge"?X.xN:X.L3,r:F};
f.I=N.jc;var K=b.R.length-F;x.j(f);f.data=null;if(P!="remove")k={A:"Layer",P:b.R[b.R.length-K],em:o.em}}else if(P=="move"){var s=b.R.indexOf(w[0].P);
if(s==F+1&&w[1]==4)return;if(s==F-1&&w[1]==3)return;f.data={Q:X.ba,source:F,target:s,j9:w[1]!=3?.6:.3};
f.I=N.jc}else if(P=="rasterize"){f.I=N.jc;f.data={Q:X.Lq,r:F};x.j(f);f.data=null;o.P=b.R[F]}else if(P=="rotate"){f.data={Q:"rot",Ka:[2,5],P:-w[0]*Math.PI/180,Tj:w[1],r:F};
f.I=N.fd}else if(P=="resize"){f.data={Q:"scl",Ka:[2,4],P:new eD(w[0]/100,w[1]/100),Tj:w[2],r:F};f.I=N.fd}else if(P=="translate"){var r=e8.dB.qJ(w);
f.data={Q:"trsl",r:F,q1:r[0],le:r[1]};f.I=N.pl}else if(P=="link"){f.data={Q:X.kP,a0h:[F,b.R.indexOf(w[0].P)]};
f.I=N.jc}else if(P=="invert"){f.I=N.vg;f.data={Q:"start",_X:"nvrt"}}else if(P=="desaturate"){C.data={wQ:"desaturate"}}else if(P.startsWith("apply")&&cM._4[P.slice(5)]||P.startsWith("adjust")&&cM._4[P.slice(6)]||P=="mixChannels"){var h=P.startsWith("apply"),r=e8.dB.qJ(w),jC=P=="mixChannels"?"mixr":cM._4[P.slice(h?5:6)];
if(jC=="Dspl"){for(var I=0;I<b.R.length;I++)if(b.R[I].getName()==r[4]){r[4]=b.R[I].add.SoLd.Idnt.v;break}}C.data={wQ:h?cM.Q9[jC]:ft.Q9[jC]};
var U=cM.bS(jC),A=b.T;b.T=[F];if(U){if(jC=="mixr"){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var I=0;
I<3;I++){var q=r[0][I],hc=I*5;d[hc+0]=q[0];d[hc+1]=q[1];d[hc+2]=q[2];d[hc+4]=q[3]}U=ft.xw({P:d,_A:r[1]})}else cM.wb["g"+jC](U,r);
C.data.WP=U}x.j(C);C.data=null;b.T=A}else if(P=="applyStyle"){var dk=x.lW.Wt,c6=null;for(var I=0;I<dk.length;
I++)if(dk[I].hb.Nm.v.split("/").pop()==w[0])c6=dk[I];if(c6==null){alert("Style not found!");return}f.I=N.dX;
f.data={Q:"setstl",P:c6.M6,r:F};x.j(f);f.data={Q:"confirm",r:F}}else console.log(o,P,w)}else if(S=="Documents"){if(P=="getByName"){for(var I=0;
I<i.length;I++)if(i[I].name==w[0])return{A:"Document",P:i[I]};return null}else if(P=="add"){if(w.length==0)w=[100,100,72,"New Project"];
var ks=w[5];if(ks==null)ks=1;C.data=da.zX(w[0],w[1],w[2],w[3],["Wht","Trns","BckC"][ks],!1);x.j(C);C.data=null;
return{A:"Document",P:x.L7()}}else throw"e"}else if(S=="Layers"){if(P=="getByName"){for(var I=0;I<o.P.length;
I++)if(o.P[I].P.getName()==w[0]){k=o.P[I];break}if(k==null)z.__throw={message:"No layer with a name "+w[0]}}else if(P=="add"){f.data={Q:o.ahl=="layerSets"?X.Qk:X.H7};
f.I=N.jc;x.j(f);f.data=null;k={A:"Layer",P:b.R[b.T[0]],em:o.em}}else console.log(o,P,w)}else if(o.A=="Selection"){if(P=="select"){var cH=w[0],bI=[];
for(var I=0;I<cH.length;I++)bI.push(cH[I][0],cH[I][1]);C.data=N.z$.jt(e8.dB.qJ(bI),w[1])}else if(P=="clear"){C.data={wQ:"delete"}}else if(P=="selectAll"){C.data=N.z$.Xw(!0)}else if(P=="invert"){C.data={wQ:"inverse"}}else if(P=="copy"){H.data={Q:G.l.D9,ND:w[0],A$:!0}}else if(P=="deselect"){C.data=N.z$.Xw()}else if(P=="fill"){var aR=w[0].P;
aR=e.G.e1({$:aR[1]*255,H:aR[2]*255,b:aR[3]*255});C.data=N.tB.pZ("Clr",w[1],w[2]==null?1:w[2]/100,aR)}else if(P=="grow"||P=="similar"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(w[0]!=null)U.Tlrn={t:"long",v:w[0]};C.data={wQ:P,WP:U}}else if(P=="expand"||P=="contract"||P=="feather"){C.data=N.z$.wg(P,w[0],!0)}else if(P=="translate"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:w[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:w[1]}}}}};
C.data={wQ:"move",WP:U}}else if(P=="smooth"){C.data=N.z$.wg("smoothness",w[0],!1)}else if(P=="stroke"){var c6=JSON.parse(iR.lC[1]),cN=c6.Clr.v,aR=w[0].P;
cN.Rd.v=aR[1]*255;cN.Grn.v=aR[2]*255;cN.Bl.v=aR[3]*255;c6.Sz.v.val=w[1];c6.Styl.v.FStl=iR.stroke.types[w[2]];
console.log(c6,w);f.I=N.aL;f.data={Q:"stroke",a2x:c6}}else console.log(o,P,w)}else if(o.A=="Window"){if(P=="show"){H.data={Q:G.l.y7,hq:o.P}}else throw"e"}else if(o.A=="ActionReference"){if(P=="putProperty"){o.P.v.push({t:"prop",v:{classID:w[0],keyID:w[1]}})}else if(P=="putClass"){o.P.v.push({t:"Clss",v:{classID:w[0]}})}else if(P=="putEnumerated"){o.P.v.push({t:"Enmr",v:{classID:w[0],typeID:w[1],enum:w[2]}})}else if(P=="putName"){o.P.v.push({t:"name",v:{classID:w[0],val:w[1]}})}else if(P=="putIndex"){o.P.v.push({t:"indx",v:{classID:w[0],val:w[1]}})}else console.log(P,w)}else if(o.A=="ActionDescriptor"||o.A=="ActionList"){var gC=o.A=="ActionList";
if(P.startsWith("put")){var bD=gC?w:w.slice(1),Y=null;if(P=="putReference"){Y=bD[0].P}else if(P=="putObject"){Y=bD[1].P;
Y.v.classID=bD[0]}else if(P=="putList"){Y=bD[0].P}else if(P=="putDouble"){Y={t:"doub",v:bD[0]}}else if(P=="putUnitDouble"){Y={t:"UntF",v:{type:bD[0],val:bD[1]}}}else if(P=="putBoolean"){Y={t:"bool",v:bD[0]}}else if(P=="putInteger"){Y={t:"long",v:bD[0]}}else if(P=="putString"){Y={t:"TEXT",v:bD[0]}}else if(P=="putClass"){Y={t:"type",v:{classID:bD[0]}}}else if(P=="putEnumerated"){var cu=w[0].split("+");
if(cu.length==2&&w[1]==null){w[0]=cu[0];w[1]=bD[0]=cu[1]}var hc={};hc[bD[0]]=bD[1];Y={t:"enum",v:hc}}else throw P;
if(gC)o.P.v.push(Y);else o.P.v[w[0]]=Y}else if(P=="hasKey"){return o.P.v[w[0]]!=null}else if(P=="getEnumerationValue"){if(w[0]=="layerSection")k="layerSectionContent";
else console.log(w)}else if(P=="getBoolean"){k=o.P.v[w[0]].v}else if(P=="getString"){k=o.P.v[w[0]].v}else if(P=="getObjectValue"){var k=o.P.v[w[0]];
return{A:"ActionDescriptor",P:JSON.parse(JSON.stringify(k))}}else if(P=="getList"){var k=o.P.v[w[0]];
return{A:"ActionList",P:k}}else if(P=="getInteger"||P=="getDouble"){return o.P.v[w[0]].v}else console.log(P,w)}else if(o.A=="$"){if(P=="writeln"){console.log(w[0])}else throw P}else if(o.A=="UI"){if(P=="scroll"||P=="scrollTo"){var du=w[0],bq=w[1],hn=b.s.D;
if(P=="scrollTo"){du=(-b.q/2+du)*hn+b.s.f.x;bq=(-b._/2+bq)*hn+b.s.f.y}f.I=N.ws;f.data={Q:"scroll",ci:new eD(Math.round(du),Math.round(bq))}}else{var aK;
if(P=="zoomIn"||P=="zoomOut"){aK={Q:"zoom",hc:P=="zoomIn"}}else if(P=="fitTheArea"){aK={Q:"adapt",P:"fitscr"}}else if(P=="pixelToPixel"){aK={Q:"adapt",P:"pixel"}}f.I=N.QP;
f.data=aK;if(P=="switchFullscreen"){var cQ=x.lW.uW,jR=document.fullscreenElement!=null==(cQ==2);H.data={Q:G.l.uN,P:cQ==0?2:0,yu:jR}}}}else if(o.A=="ColorSamplers"){if(P=="removeAll")b.aJ=[];
else if(P=="add"){var ch={x:w[0][0],y:w[0][1]};b.aJ.push(ch);var k={A:"ColorSampler",P:ch}}}else if(o.A=="ColorSampler"){if(P=="move"){var bx=b.aJ.indexOf(o.P);
ch=b.aJ[bx];ch.x=w[0][0];ch.y=w[0][1]}else if(P=="remove"){var bx=b.aJ.indexOf(o.P);b.aJ.splice(bx,1)}}else if(o.A=="PathItem"){if(P=="select"){b.lL=[b.Fx.indexOf(o.P)];
b.dH=!0}else if(P=="remove"){f.I=N.QV;f.data={Q:"pathedit",Pw:"del"}}else console.log(P)}else if(o.A=="PathItems"){if(P=="add"){var jf=w[1],dW=da.xZ(w[0]),$=dW.add.vmsk.g;
for(var I=0;I<jf.length;I++){var bf=jf[I],iu=bf.P.length;$.push({type:bf.re?0:3,length:iu,Hv:bf.Ed});
for(var dV=0;dV<iu;dV++){if(!bf.re)bf.P[dV].type+=3;$.push(bf.P[dV])}}f.I=N.QV;f.data={Q:"pathedit",Pw:"new",OE:dW};
x.j(f);return{A:"PathItem",P:dW}}else throw P}else if(o.A=="Folder"){if(P=="selectDialog")k="img";else throw P}else if(o.A=="File"){if(P=="openDialog")alert("A website can not show the Open dialog from a script");
else throw P}else console.log(o,P,w);if(f.data)x.j(f);if(C.data)x.j(C);if(H.data)x.j(H);return k};e8.dB.g3=function(o,P,w){var x=new bO(G.E.z,!0);
x.I=N.mC;var z=new bO(G.E.qc,!0);if(w==0){e8.dB.aaE=o.e;z.data=N.z$.Xw(!0)}else{var S=e8.dB.aaE;if(S)x.data={Q:"setsel",Ka:"Restore Selection",e:{rect:S.rect.clone(),channel:S.channel.slice(0)}};
else z.data=N.z$.Xw()}P.j(x.data?x:z)};e8.dB.aaE=null;e8.dB.RA={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
e8.dB.RA.ColorBlendMode=e8.dB.RA.BlendMode;e8.dB.f_="---- SoLd TySh SoCo GdFl PtFl".split(" ");function js(){}js.Zb={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
js.l2={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
js.aj6=function(o,P){if(P==null)P={};var w=js.l2,x=[],z=[],S="";for(var I=0;I<o.length;I++){var k=o[I],f=w[k[0]+""];
if(f&&P[f]==null)P[f]=k[1];else if(k[0]==12)z.push(k[1]);else if(k[0]==25)x.push(k[1]);else if(k[0]==55)S=k[1];
else if(k[0]==60)S+=";"+k[1]}if(S!=""&&P["exif:DateTimeOriginal"]==null)P["exif:DateTimeOriginal"]=S;
if(z.length!=0&&P["Iptc4xmpCore:SubjectCode"]==null)P["Iptc4xmpCore:SubjectCode"]=z.join(";");if(x.length!=0&&P["dc:Keywords"]==null)P["dc:Keywords"]=x.join(";");
return P};js.aiF=function(o){var P=js.l2,w=[];for(var x in P)if(o[P[x]])w.push([parseInt(x),o[P[x]]]);
if(o["Iptc4xmpCore:SubjectCode"]){var z=o["Iptc4xmpCore:SubjectCode"].split(";");for(var I=0;I<z.length;
I++)w.push([12,z[I].trim()])}if(o["dc:Keywords"]){var z=o["dc:Keywords"].split(";");for(var I=0;I<z.length;
I++)w.push([25,z[I].trim()])}w.sort(function(S,k){return S[0]-k[0]});return w};js.hr=function(o,P){if(P==null)P={};
var w=new DOMParser,x=w.parseFromString(o,"image/svg+xml"),z=x.getElementsByTagName("rdf:Description")[0];
if(z==null)return P;var S=js.Zb;for(var k in S){var f=S[k][2];if(f==null)continue;var C=[];if(f.startsWith("xmp:")){var H=z.getAttribute(f);
if(H==null)continue;C.push(H)}else{var b=z.getElementsByTagName(f)[0];if(b==null)continue;var i=b.getElementsByTagName("rdf:li");
for(var I=0;I<i.length;I++)C.push(i[I].textContent)}P[k]=C.join("; ")}return P};js.cr=function(o){var P=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],w=js.Zb,x="";
for(var z in w){var S=o[z],k=w[z][2];if(S==null||k==null)continue;if(k.startsWith("xmp:")){x+=" "+k+"=\""+S+"\""}else{var f="Seq",C="";
if(k=="dc:title"||k=="dc:description"){f="Alt";C=" xml:lang=\"x-default\""}if(k=="dc:subject")f="Bag";
P.push("\t<"+k+"><rdf:"+f+">");var H=k=="dc:subject"?S.split(";").join(",").split(","):[S];for(var I=0;
I<H.length;I++)P.push("\t\t<rdf:li"+C+">"+H[I].trim()+"</rdf:li>");P.push("\t</rdf:"+f+"></"+k+">")}}P[3]+=x+">";
P.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return P.join("\n")};
js.aa2=function(o){var P=[];for(var I=0;I<o.length;I++)P[I]=o[I][1]==0?0:o[I][0]/o[I][1];return P};js.ahA=function(o){var P=[];
for(var I=0;I<o.length;I++){var w=o[I],x=1;if(w!=Math.round(w)){x=1e3;w=Math.round(w*x)}P[I]=[w,x]}return P};
js.xY=function(o,P){var w=js.Zb;if(P==null)P={};for(var x in w){var z=w[x][1],S="t"+z;if(z!=null&&o[S]!=null){var k=o[S];
if(z==0)k=k.join(".");else if(z==2||z==4){var f=o["t"+(z-1)];if(f==null)f=[z==2?"N":"E"];k=js.aa2(k).join(",")+f[0]}else if(z==42034)k=js.aa2(k).join(" ");
else if(z==270||z==315){var C=k[0],H=new Uint8Array(C.length);L.Xi(H,0,C);k=L.bR(H)}else k=k[0];P[x]=k}}if(o.exifIFD)js.xY(o.exifIFD,P);
if(o.gpsiIFD)js.xY(o.gpsiIFD,P);return P};js.b$=function(o,P,w){var x=js.Zb,S=0,f=0;if(P==null)P={};
var z={},k={};for(var C in x){if(o[C]==null||x[C][1]==null)continue;var H=x[C][1],b="t"+H,i=P;if(C.startsWith("exif:")){i=z;
S++;if(C.startsWith("exif:GPS")){i=k;f++}}var M=o[C];if(H==0)M=new Uint8Array(M.split(".").map(parseFloat));
else if(H==2||H==4){var T=M.length;i["t"+(H-1)]=[M.slice(M.length-1)];M=js.ahA(M.split(",").map(parseFloat))}else if(H==42034)M=js.ahA(M.split(" ").map(parseFloat));
else if(H==270||H==315){var O=L.$f(M);M=[L.AW(O,0,O.length)]}else M=[M];i[b]=M}if(S!=0){P.exifIFD=z;
P.t34665=[0]}if(f!=0){P.gpsiIFD=k;P.t34853=[0]}var Y=new Date,U=[Y.getFullYear(),Y.getMonth()+1,Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds()];
for(var I=0;I<6;I++)U[I]=(U[I]+"").padStart(2,"0");P.t305=["Photopea Editor (www.photopea.com)"];if(w!=!0)P.t306=[U[0]+":"+U[1]+":"+U[2]+" "+U[3]+":"+U[4]+":"+U[5]];
return P};function hV(){}hV.M3=function(o){var P={ain:",",JC:"\r\n",Yn:"\""},w=[[""]],x,z,S,k,f;for(x=z=S=k=0;
S<o.length;S++){switch(f=o.charAt(S)){case P.Yn:if(k&&o.charAt(S+1)==P.Yn){w[x][z]+=P.Yn;++S}else{k^=1}break;
case P.ain:if(!k){w[x][++z]=""}else{w[x][z]+=f}break;case P.JC.charAt(0):if(!k&&(!P.JC.charAt(1)||P.JC.charAt(1)&&P.JC.charAt(1)==o.charAt(S+1))){w[++x]=[""];
w[x][z=0]="";if(P.JC.charAt(1)){++S}}else{w[x][z]+=f}break;default:w[x][z]+=f}}if(w[w.length-1].length<w[0].length)w.pop();
return w};var J={};J.akY=0;J.qF=function(){J.akY++;return J.akY};J.axJ="uint8";J.dU=function(o){o.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
o.Z.style.opacity="1";o.Z.style.transform="scale(1)"};J.vW=function(o,P){o.Z.style.opacity="0";o.Z.style.transform="scale(0.95)";
if(P)setTimeout(function(){P.removeChild(o.Z)},100)};J.aB1=function(){var o=J.yO();if(o=="")return 0;
if(o!=J.GG("_TXZRPB;d7@;")&&o!=ct.GG("eQLZRRM?8a4=8")){var P=J.Kk[ct.P4][ct.ys],w=P.indexOf(String.fromCharCode(35)),x;
if(w==-1)return 0;try{x=JSON.parse(J.Kk[ct.a5h](P.slice(w+1)))}catch(bF){return 0}var z=x[J.GG("bQ[ODL<E<M")];
if(z==null||z.length<<2!=64)return 0;var S=ct.nn(),k=parseInt(z.slice(3*4).split("").reverse().join(""),16)<<16;
if(k<S||z!=ct.akV(k,o))return 0;return 2}return 1};J.yO=function(){var o=J.Kk[J.j4("}$z{2*35")][J.GG("W[\\ZQAJ?")],P=String.fromCharCode(46),w=o.split(P);
if(w.length<2)return"";var x=w.pop();x=w.pop()+P+x;return x};J.MN=function(o){var P=J.yO();if((P==ct.GG("_TXZRPB;d7@;")||P==ct.GG("~yy"))&&J.Kk==J.Kk[ct.amP])return!0;
var w=J.Kk[ct.P4][ct.ys],x=w.indexOf("#");if(x!=-1&&x!=w.length-1&&(w[x+1]=="%"||w[x+1]=="{")){var z=w.substring(x+1,w.length);
z=JSON.parse(J.Kk[ct.a5h](z));var S=z[ct.GG("P\\RY")];if(S)if(o==0&&S[ct.GG("aYKM")]||o==1&&S[ct.GG("SQcMR")])return!0}return!1};
J.apM=function(){if(J.Kk[ct.a01][ct.afi]){var o=new J.Kk[ct.nK];o[ct.A8](ct.awX,J.GG("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+J.yO());
o[ct.ox]()}};J.GJ=function(){if(window.top!=window.self)return!1;var o=navigator.userAgent.toLowerCase();
if(o.indexOf("safari")!=-1&&o.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};J.Ah=function(o){this.Ga=o;
this.GY=J.k("img");this.Av=J.k("canvas");this.Bw=null;this.dk="";this.kS=null;this.R8=new eD(0,0);this.i2=!0;
J.Zw(this.Ga,this.GR.bind(this))};J.Ah.prototype.fi=function(o,P){this.Bw=o;if(P)this.dk=P;this.GR()};
J.Ah.prototype.hk=function(o){this.i2=o;this.GR()};J.Ah.prototype.GR=function(o){if(o)this.R8=J.YH(o,this.Ga);
var P=this.i2?this.Bw:"auto",w=typeof P=="string";if(!w){var x=J.M(),z=this.R8,S=P.sn.q,k=P.sn._,f=typeof P.yp=="string",C=f?this.GY:this.Av;
if(f)C.setAttribute("src",P.yp);else{C.width=S;C.height=k;var H=C.getContext("2d"),b=new ImageData(new Uint8ClampedArray(P.yp.buffer),S,k);
H.putImageData(b,0,0)}C.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(z.y-P.yK.y/x)+"px; left:"+(z.x-P.yK.x/x)+"px; width:"+S/x+"px; height:"+k/x+"px");
var i=this.kS;if(i==null||i!=C){if(i)this.Ga.removeChild(i);this.Ga.appendChild(C);this.kS=C}}else if(this.kS){this.Ga.removeChild(this.kS);
this.kS=null}this.Ga.setAttribute("style","cursor:"+(w?P:"none")+"; "+this.dk)};J.Kp=function(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
J.rw=function(o,P){o.ld(kQ.get([12,41]).charAt(0)+":");P.ld(kQ.get([12,42]).charAt(0)+":")};J.k=function(o,P){var w=document.createElement(o);
if(P!=null)w.className=P;return w};J.eg=function(o){while(o.firstChild)o.removeChild(o.firstChild)};
J.HT=function(o,P){var w=o.className;w=w.split(" ");if(w.indexOf(P)==-1)w.push(P);o.className=w.join(" ")};
J.hC=function(o,P){var w=o.className;if(w=="")return;w=w.split(" ");if(w.indexOf(P)!=-1)w.splice(w.indexOf(P),1);
o.className=w.join(" ")};J.Ni=function(o){while(!0){if(o==document)return!0;if(o==null)return!1;o=o.parentNode}};
J.jB=function(o){o.appendChild(J.k("br"))};J.pp=function(o){o.appendChild(J.k("hr"))};J.hB=function(o,P,w){var x=new eN([1,12,1],w==null?!0:w,null,!0);
if(o)x.J("click",o.kJ,o);if(P)P.appendChild(x.Z);return x};J.Kk=document;J.yz=function(o){var P=0;for(var I=0;
I<o;I++)P+=Math.random();return P/o<Math.PI/4};J.GG=function(o){var P="";if(!J.yz(28))o+="-3";for(var I=0;
I<o.length;I++){var w=o.charCodeAt(I);if(w<32||126<w)throw"e";P+=String.fromCharCode(32+(w-32+17+3*I)%95)}return P};
J.j4=function(o){var P="";if(!J.yz(28))o+="-1";for(var I=0;I<o.length;I++){var w=o.charCodeAt(I);w-=32;
w+=95e4;w-=17+3*I;w=w%95;P+=String.fromCharCode(32+w)}return P};J.L5=function(o){var P=Math.random();
J.axJ="uint"+(3+P);return new o};(function(){var o=window.PointerEvent,P=o?"pointer":"mouse",w=P+"down",x=P+"move",z=P+"up",S=!1;
J.Dw=function(k,f){k.addEventListener(w,f,S);if(!o)k.addEventListener("touchstart",f,S)};J.Zw=function(k,f){k.addEventListener(x,f,S);
if(!o)k.addEventListener("touchmove",f,S)};J.FV=function(k,f){k.addEventListener(z,f,S);if(!o)k.addEventListener("touchend",f,S)};
J.aHv=function(k,f){k.removeEventListener(w,f,S);if(!o)k.removeEventListener("touchstart",f,S)};J.ig=function(k,f){k.removeEventListener(x,f,S);
if(!o)k.removeEventListener("touchmove",f,S)};J.qM=function(k,f){k.removeEventListener(z,f,S);if(!o)k.removeEventListener("touchend",f,S)}}());
J.N_=function(o){o.addEventListener("touchstart",J.NU,!1);o.addEventListener("touchmove",J.NU,!1);o.addEventListener("touchend",J.NU,!1);
o.addEventListener("gesturestart",J.NU,!1);o.addEventListener("gesturechange",J.NU,!1);o.addEventListener("gestureend",J.NU,!1)};
J.akr=function(o){var P=o.sourceCapabilities;if(P)return P.firesTouchEvents;return!1};J.Wy=function(o,P,w,x){var z=J.M();
o.width=Math.floor(P*z);o.height=Math.floor(w*z);if(x)x.scale(z,z);J.PH(o)};J.PH=function(o){var P=J.M();
o.style.width=o.width/P+"px";o.style.height=o.height/P+"px"};J.v5=function(o,P,w){o.setAttribute("style","width:"+P/J.M()+"px; height:"+w/J.M()+"px")};
J.YH=function(o,P){if(P==null)P=o.currentTarget;var w=P.getBoundingClientRect();if(o.touches)o=o.touches.item(0);
return{x:o.clientX-w.left,y:o.clientY-w.top}};J.M=function(){return window.devicePixelRatio||1};J.Kw=function(o){o.addEventListener("keydown",J.apX,!1)};
J.apX=function(o){o.stopPropagation()};J.NU=function(o){o.preventDefault()};J._1=function(o){o.stopPropagation();
o.preventDefault()};J._D=function(o,P,w){w=w?w:"";if(PIMG["__"+o]==null)w+=" gsicon";return"<img src=\""+PIMG[o]+"\" alt=\""+(P?P:"")+"\" class=\""+w+"\" />"};
J.MC=function(o,P,w,x){var z=o.dataTransfer.getData("text/uri-list");if(z!=null&&z.startsWith("http")){var S=new bO(G.E.X,!0);
S.data={Q:G.l.xj,JL:{url:z,dI:!0,ca:w,nD:x}};P.j(S)}if(o.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var k=[],f=o.dataTransfer.items.length,C=o.dataTransfer.files;
for(var H of o.dataTransfer.items)H.getAsFileSystemHandle().then(function(b){k.push(b);if(k.length==f){var S=new bO(G.E.X,!0);
S.data={Q:G.l.yb,data:C,ca:w,nD:x,ayw:k};P.j(S)}})}else{var S=new bO(G.E.X,!0);S.data={Q:G.l.yb,data:o.dataTransfer.files,ca:w,nD:x};
P.j(S)}};if(J.yz(27))J.Kk=window;else J.Kk=J.akx;J.Kk._cwY=J.Kk[J.j4("t$&!'31")];var cG={};cG.atB=function(I){var o=cG._b[I],P=document.documentElement.style,x=1;
P.setProperty("--base","#"+e.UM(o["--base"]));P.setProperty("--bg-panel","#"+e.UM(o["--bg-panel"]));
P.setProperty("--bg-canvas","#"+e.UM(o["--bg-canvas"]));P.setProperty("--bg-input","#"+e.UM(o["--bg-input"]));
P.setProperty("--bg-bbtn","#"+e.UM(o["--bg-bbtn"]));P.setProperty("--bg-bbtnOver","#"+e.UM(o["--bg-bbtnOver"]));
P.setProperty("--brdr","#"+e.UM(o["--brdr"]));P.setProperty("--text-color","#"+e.UM(o["--text-color"]));
P.setProperty("--brdrLgt","rgba(255,255,255,"+o["--brdrLgt"]+")");P.setProperty("--brdrDrk","rgba(  0,  0,  0,"+o["--brdrDrk"]+")");
P.setProperty("--alphaDark",""+o["--alphaDark"]);P.setProperty("--gs-invert",""+o["--gs-invert"]);P.setProperty("--accent","#"+e.UM(o["--accent"]));
var w=o["--sh-clr"];P.setProperty("--sh-clr","rgba("+(w>>16)+","+(w>>8&255)+","+(w&255)+", 0.45)");P.setProperty("--absc",""+o["--absc"]);
P.setProperty("--abs255",""+o["--abs255"]);if(1<J.M()&&J.M()<1.5)x=1/J.M();P.setProperty("--img20",20*x+"px");
P.setProperty("--img18",18*x+"px");P.setProperty("--img15",15*x+"px");if(PIMG!=null){var z="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var I=0;I<z.length;I++){var S=z[I],k=S.split("/").pop(),f=PIMG["__"+S]==null?o["--gs-invert"]:"0";
P.setProperty("--icon_"+k,"url("+PIMG[S]+")");P.setProperty("--icon_"+k+"_invrt",f)}}var C=document.querySelector("meta[name=theme-color]");
if(C)C.setAttribute("content","#"+e.UM(o["--base"]))};(function(){var o=3441398,P=3441398;cG._b=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":P},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":o},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":o},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":o},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":o},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":o},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":P}]}());
function hy(){this.QH={};this.G3={}}hy.prototype.a35=function(o){var P=this.QH[o];if(P==null)return!1;
return P.length>0};hy.prototype.addEventListener=function(o,P){this.J(o,P,null)};hy.prototype.J=function(o,P,w){if(this.QH[o]==null){this.QH[o]=[];
this.G3[o]=[]}this.QH[o].push(P);this.G3[o].push(w)};hy.prototype.removeEventListener=function(o,P){var w=this.QH[o];
if(w==null)return;var x=w.indexOf(P);if(x<0)return;var z=this.G3[o];w.splice(x,1);z.splice(x,1)};hy.prototype.j=function(o){o.currentTarget=this;
if(o.target==null)o.target=this;var P=this.QH[o.type];if(P==null)return;var w=this.G3[o.type];for(var I=0;
I<P.length;I++){if(w[I]==null)P[I](o);else P[I].call(w[I],o)}};var bO=function(o,P){if(!P)P=!1;this.type=o;
this.target=null;this.currentTarget=null;this.bubbles=P;this.I=null;this.N8=!1},G={E:{z:"0",X:"1",qc:"1.5",w:"2",lb:"3",avp:"4"},l:{Ae:"10",tZ:"11",pP:"12",JF:"13",iu:"14",a9j:"14.1",xj:"15",Ul:"16",XH:"17",vR:"18",qS:"19",axS:"19.5",ae7:"20",asd:"20.1",agz:"20.5",aiA:"20.6",n1:"21",D9:"22",d6:"23",d7:"24",y7:"25",Gd:"26",cA:"27",Nq:"28",aw7:"28.5",auK:"29",yb:"30",HB:"31",xz:"32",G7:"33",ay:"34",CA:"35",aqn:"35.5",Dj:"37",anx:"38",_K:"39",uz:"40",JW:"41",li:"41.5",v3:"42",Ag:"43",azM:"43.5",Jr:"44",anR:"45",tR:"46",mF:"47",gQ:"48",Ho:"49",ajz:"50",uN:"51"}};
function kl(){hy.call(this);this.parent=null;this.Z=null;this.V=0;this.Y=0;this.a85=!1}kl.prototype=new hy;
kl.prototype.atP=function(o){var eK=this;while(eK!=null){if(eK==o)return!0;eK=eK.parent}return!1};kl.prototype.Bx=function(){var o=this.Z;
return o.offsetWidth+o.clientLeft};kl.prototype.aa4=function(){var o=this.Z;return o.offsetHeight+o.clientTop};
kl.prototype.update=function(o){};kl.prototype.j=function(o){hy.prototype.j.call(this,o);if(o.bubbles&&this.parent!=null)this.parent.j(o)};
kl.prototype.S=function(){};kl.prototype.sH=function(o,P){};kl.prototype.hR=function(o){J.HT(this.Z,"disabled")};
kl.prototype.p2=function(o){J.hC(this.Z,"disabled")};kl.prototype.hk=function(o){if(o)this.p2();else this.hR()};
kl.prototype.HO=function(){this.a85=!0};kl.prototype.SV=function(){var o=this.Qg,P=this.a85,w=this.wp;
if(o){o=kQ.get(this.Qg);if(!P)o+=":";w.textContent=o;if(P){w.style.display="block";w.style.lineHeight="1.6em";
w.style.marginLeft="3px";J.hC(w,"flabel")}}if(P){this.uw.style.fontSize="1.15em"}};function hI(o){kl.call(this);
this.kC=[];this.Oo=!1;this.arv=0;this.rd={x:0,y:0,ZO:!1};this.Tc=o;this.aq8=this.yR.bind(this);this.OA=this.yH.bind(this);
this.$u=this.D4.bind(this);J.Dw(o,this.aq8);J.Zw(o,this.OA);o.addEventListener("wheel",this.jI.bind(this),!1);
o.addEventListener("contextmenu",this.am1.bind(this),!1);var P=this.a9_.bind(this);o.addEventListener("gesturestart",P,!1);
o.addEventListener("gesturechange",P,!1);o.addEventListener("gestureend",P,!1);J.N_(o)}hI.prototype=new kl;
hI.prototype.a9_=function(o){if(o.type=="gesturestart")this.f4=o.scale;if(o.type=="gesturechange"){var P=new bO("mouse",!0);
P.action="scroll";P.PE=!0;this.AL(o,P);var w=(this.f4-o.scale)/this.f4;P.ci=new eD(0,100*w);this.f4=o.scale;
this.j(P)}};hI.prototype.cH=function(o){var P=-1,w=this.kC;for(var I=0;I<w.length;I++)if(w[I].pointerId==o.pointerId)P=I;
return P};hI.Zj=function(o){var P=o.pointerType,w=window.__kb;return P=="touch"&&w.d(i$.af5)};hI.ajY=function(o){var P=o.button!=null&&o.button!=0?o.which==2?"i":"r":"";
if(i$.te()&&o.ctrlKey)P="r";return P};hI.prototype.yR=function(o){if(hI.Zj(o))return;var P=this.cH(o);
if(P!=-1)this.kC[P]=o;else this.kC.push(o);if(this.kC.length==1){this.arv=Date.now();var w=hI.ajY(o)+"down",x=new bO("mouse",!0);
x.action=w;this.AL(o,x);this.j(x);J.ig(this.Tc,this.OA);J.Zw(window,this.OA);J.FV(window,this.$u)}if(this.kC.length==2){if(Date.now()-this.arv<100){var x=new bO("mouse",!0);
x.action="cancellast";this.AL(o,x);this.j(x)}this.Oo=!0}if(this.kC.length==2)this.aCT("multidown")};
hI.prototype.yH=function(o){if(hI.Zj(o))return;var P=this.cH(o);if(P!=-1)this.kC[P]=o;if(this.kC.length>1){this.aCT("multimove")}if(this.Oo)return;
if(this.kC.length==1&&P==-1)return;var w=new bO("mouse",!0);w.action="move";this.AL(o,w);this.j(w)};
hI.prototype.D4=function(o){if(hI.Zj(o))return;var P=this.kC;P=this.kC=[];if(P.length==0){var w=hI.ajY(o)+"up",x=new bO("mouse",!0);
x.action=w;this.AL(o,x);this.j(x);J.ig(window,this.OA);J.qM(window,this.$u);J.Zw(this.Tc,this.OA);this.Oo=!1}};
hI.prototype.jI=function(o){o.preventDefault();if(o.deltaX==0&&o.deltaY==0)return;var P=new bO("mouse",!0);
P.action="scroll";P.PE=o.ctrlKey;this.AL(o,P);this.j(P)};hI.prototype.am1=function(o){J._1(o);if(J.akr(o)){var P=new bO("mouse",!0);
this.AL(o,P);P.action="rdown";this.j(P);P.action="rup";this.j(P)}};hI.prototype.aCT=function(o){var P=this.kC,w=J.M(),x=[];
for(var I=0;I<P.length;I++){var z=x[I]=J.YH(P[I],this.Tc);z.x*=w;z.y*=w}var S=new bO("mouse",!0);S.action=o;
S.JQ=x;if(P.length==2)this.j(S)};hI.prototype.AL=function(o,P,w){var x=this.kC.length!=0;if(P.action!="up"){var z=J.M();
if(w==null)w=J.YH(o,this.Tc);this.rd=P.C$={x:z*w.x,y:z*w.y,ZO:x};var S=J.YH(o,document.body);P.C$.P8=S.x;
P.C$.tm=S.y}else this.rd=P.C$={x:this.rd.x,y:this.rd.y,ZO:x};P.C$.i0=.5;if(o.pressure!=null)P.C$.i0=o.pressure;
if(o.pointerType=="mouse")P.C$.i0*=2;P.C$.acy=o.pointerType;if(o.deltaX!=null){var k=o.deltaMode==0?1:40;
P.ci=new eD(o.deltaX*k,o.deltaY*k)}};function i4(o,P,w){kl.call(this);this.oJ=null;this.aAf=this.D4.bind(this);
this.aqS=this._E.bind(this);this.aah=this.ayP.bind(this);this.a9X=this.alE.bind(this);this.x7=[];this.H4=[];
this.XK=[];this.acT=[];this.apL=w;this.Z=J.k("div","contextpanel "+(w?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",J.NU,!1);
this.xa=null;this.k_=0;this.eK=o;this.pR=P;this.b8=[];for(var I=0;I<o.length;I++){var x=J.k("div","enab");
this.H4.push(x);this.Z.appendChild(x);var z=o[I].KJ;if(z){if(z.startsWith("#")){var S=J.k("span");S.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+z);
x.appendChild(S)}else x.innerHTML=J._D(o[I].KJ,null,"thumb")}else{var k=J.k("span","check");this.acT.push(k);
x.appendChild(k)}var f=J.k("span","label");f.textContent=kQ.get(o[I].name);x.appendChild(f);this.XK.push(f);
if(o[I].Pd)this.Z.appendChild(J.k("hr"));if(o[I].$Y||o[I].sub){var C=x._g=J.k("span","right");x.appendChild(C);
if(o[I].$Y)C.textContent=i$.gr(o[I].$Y);else if(o[I].sub)C.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}x.addEventListener(w?"mouseup":"click",this.aAf,!1);
x.addEventListener("mouseover",this.aqS,!0);x.addEventListener("mouseout",this.aah,!0);if(o[I].sub){var H=new i4(o[I].sub,P?P[I].sub:null);
H.parent=this;this.b8.push(H);H.J("select",this.aiK,this)}else this.b8.push(null)}}i4.prototype=new kl;
i4.prototype.aG6=function(o){J.eg(this.Z);for(var I=0;I<o.length;I++)if(o[I]!=0&&o[I]!=null){this.Z.appendChild(this.H4[I]);
if(o[I]!=1&&this.b8[I])this.b8[I].aG6(o[I])}};i4.prototype.S=function(){var o=this.eK;for(var I=0;I<o.length;
I++){if(o[I].title)this.H4[I].title=kQ.get(o[I].title);this.XK[I].textContent=kQ.get(o[I].name)+(o[I].Na?"...":"")}for(var I=0;
I<this.b8.length;I++)if(this.b8[I])this.b8[I].S()};i4.prototype.update=function(o,P){if(!this.apL){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var w=this.eK,x=window.innerWidth<450?"none":"inline";
for(var I=0;I<w.length;I++){var z=this.H4[I];if(z._g&&!this.b8[I])z._g.style.display=x;if(w[I].B){var S=w[I].B(o,P,I);
if(S.B!=null)this.H4[I].className=S.B?"enab":"disab";if(S.bZ!=null)this.XK[I].textContent=S.bZ;if(S.Gx!=null)this.acT[I].innerHTML=S.Gx?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(S.o!=null)this.pR[I]=S.o}}for(var I=0;I<this.b8.length;I++)if(this.b8[I])this.b8[I].update(o,P)};
i4.prototype.vm=function(){return this.x7};i4.prototype.D4=function(o){if(o.button!=0)return;var I=this.H4.indexOf(o.currentTarget);
if(this.b8[I]){this.k_=I;this.alE()}else{if(this.pR){var P=this.pR[I],w=new bO(P.K,!0);w.I=P.I;w.data=P.o;
this.j(w)}this.oJ=null;this.x7=[I];this.j(new bO("select",!1));var w=new bO(G.E.X,!0);w.data={Q:G.l.JF};
this.j(w)}};i4.prototype._E=function(o){var I=this.H4.indexOf(o.currentTarget);this.Hf();this.k_=I;this.xa=setTimeout(this.a9X,300)};
i4.prototype.ayP=function(o){this.Hf()};i4.prototype.Hf=function(){if(this.xa){clearTimeout(this.xa);
this.xa=null}};i4.prototype.alE=function(){this.Hf();var I=this.k_;if(this.oJ)this.oJ.aEb();if(this.b8[I]==null)return;
this.oJ=this.b8[I];var o=this.H4[I].getBoundingClientRect(),P=new bO(G.E.X,!0);P.data={Q:G.l.tZ,NP:this.b8[I],x:o.left+o.width+2,y:o.top};
this.j(P)};i4.prototype.aEb=function(){for(var I=0;I<this.b8.length;I++)if(this.b8[I])this.b8[I].aEb();
var o=new bO(G.E.X,!0);o.data={Q:G.l.pP,NP:this};this.j(o)};i4.prototype.aiK=function(o){var I=this.b8.indexOf(o.target);
this.x7=[I].concat(o.target.vm());this.j(new bO("select",!1))};function f5(o,P,w){kl.call(this);this.Z=J.k("span","fitem cbox");
if(P==null)P=!0;if(w==null)w="flabel";var x="cb"+J.qF();this.uw=J.k("input","");this.uw.setAttribute("type","checkbox");
this.uw.setAttribute("id",x);this.Z.appendChild(this.uw);this.Qg=o;this.pj=J.k("label",w);if(P)this.pj.setAttribute("for",x);
this.Z.appendChild(this.pj);this.S();this.uw.addEventListener("change",this.oQ.bind(this),!1)}f5.prototype=new kl;
f5.prototype.avw=function(){return this.Qg};f5.prototype.ld=function(o){this.pj.textContent=o};f5.prototype.S=function(){var o=this.Qg;
if(typeof o=="string"&&o.startsWith("<"))this.pj.innerHTML=o;else this.pj.textContent=kQ.get(o)};f5.prototype.UL=function(){this.uw.checked=!0};
f5.prototype.yg=function(){this.uw.checked=!1};f5.prototype.r8=function(){return this.uw.checked};f5.prototype.O=function(o){this.uw.checked=o};
f5.prototype.m=f5.prototype.r8;f5.prototype.oQ=function(o){this.j(new bO(G.E.w,!1))};function jH(o,P){kl.call(this);
this.Qg=o;this.Z=J.k("span","labelitem fitem"+(P?" spread":""));this.S()}jH.prototype=new kl;jH.prototype.O=function(o){this.Z.textContent=o};
jH.prototype.m=function(){return this.Z.textContent};jH.prototype.p2=function(){this.Z.removeAttribute("disabled")};
jH.prototype.hR=function(){this.Z.setAttribute("disabled","")};jH.prototype.ld=function(o){this.Z.textContent=o};
jH.prototype.S=function(){this.Z.textContent=kQ.get(this.Qg)};jH.prototype.avw=function(){return this.Qg};
function eN(o,P,w,x,z){kl.call(this);this.nV=!1;this.Z=J.k("button","fitem"+(P?" spread":"")+(x?" bbtn":""));
this.Qg=o;this.oZ=w;this.S();var S=z&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(S,this._j.bind(this),!1)}eN.prototype=new kl;
eN.prototype.S=function(){var o=this.Z,P=this.Qg,w=this.oZ;if(typeof P=="string"&&(P.startsWith("<img")||P.startsWith("<svg")||P.startsWith("<span"))){if(!this.nV){o.innerHTML=P;
o.setAttribute("style","padding:2px");this.nV=!0}}else o.textContent=kQ.get(P);if(w){o.setAttribute("title",kQ.get(w))}};
eN.prototype.aDP=function(o){this.Z.setAttribute("title",o)};eN.prototype._j=function(o){this.j(new bO("click",!1))};
eN.prototype.UL=function(){J.HT(this.Z,"bactive")};eN.prototype.yg=function(){J.hC(this.Z,"bactive")};
eN.prototype.ld=function(o,P){if(o&&o!=this.Qg){this.Qg=o;this.nV=!1}if(P)this.oZ=P;this.S()};eN.prototype.O=function(o){if(o)this.UL();
else this.yg()};eN.prototype.r8=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
eN.prototype.m=function(){return this.r8()};function iU(o,P,w,x,z){kl.call(this);var S=J.qF();this.Z=J.k("span","fitem tinput");
if(o){this.Qg=o;this.wp=J.k("label","flabel");this.Z.appendChild(this.wp);this.wp.setAttribute("for",S);
this.S()}if(z){this.uw=J.k("span")}else if(x==null){this.uw=J.k("input");this.uw.setAttribute("type","text")}else this.uw=J.k("textarea","scrollable");
this.uw.setAttribute("id",S);if(w)this.uw.setAttribute("style","width:"+w+"em;"+(z?" display:inline-block; margin-left:6px;":""));
if(x)this.uw.setAttribute("rows",x);this.Z.appendChild(this.uw);if(P){this._S=J.k("span");this._S.textContent=P;
this._S.style.marginLeft="2px";this.Z.appendChild(this._S)}J.Kw(this.uw);i$.uA(this.uw);this.uw.addEventListener("change",this.oQ.bind(this),!1);
this.uw.addEventListener("input",this.aml.bind(this),!1);if(x==null)this.uw.addEventListener("keyup",this.I5.bind(this),!1)}iU.prototype=new kl;
iU.prototype.S=function(){this.SV()};iU.prototype.I5=function(o){var P=i$.qw(o.code,i$.Sk),w=i$.qw(o.code,i$.w_);
if(w||P)this.uw.blur()};iU.prototype.ld=function(o){this.wp.textContent=o};iU.prototype.O=function(o){var P=this.uw,w=o==null?"":o,x=P.tagName=="SPAN";
if(x){P.textContent=" "+w;if(this._S)P.appendChild(this._S)}else P.value=w};iU.prototype.aoN=function(o){this._S.textContent=o};
iU.prototype.m=function(){return this.uw.value};iU.prototype.W7=function(){this.uw.select();this.uw.focus()};
iU.prototype.oQ=function(o){this.j(new bO(G.E.w,!1))};iU.prototype.aml=function(o){this.j(new bO("input",!1))};
function cD(o,P,w,x,z,S,k,f,C){kl.call(this);if(z==null)z=0;this.Z=J.k("span","fitem");var H=J.qF();
this.Qg=o;this.oZ=f;this.Bw=0;this.rG=C;this.Vv=P;this.HI=w;this.TV=null;if(x instanceof Array){this.TV=x;
x=x[0]}this.Et=x;this.Gk=z;this.aw0=S;this.El=k;this.Oj=0;this.wp=J.k("label","flabel");this.wp.setAttribute("style","cursor:col-resize;");
this.rH=J.k("input");this.rH.setAttribute("type","range");if(k){this.rH.min=0;this.rH.max=400}else{this.rH.min=P;
this.rH.max=w;if(z!=0)this.rH.step=(w-P)/200}this.uw=J.k("input");this.uw.setAttribute("type","text");
this.uw.setAttribute("id",H);this._S=J.k("span");this._S.textContent=x;J.Kw(this.uw);this.uw.addEventListener("change",this.oQ.bind(this),!1);
this.uw.addEventListener("keydown",this.nE.bind(this),!1);i$.uA(this.uw);this.uw.addEventListener("keyup",this.I5.bind(this),!1);
this.uw.addEventListener("wheel",this.jI.bind(this),!1);this.rH.addEventListener("input",this.oQ.bind(this),!1);
if(C)this.rH.addEventListener("change",this.oQ.bind(this),!1);this.rH.addEventListener("click",this.aiO.bind(this),!1);
this.akv=this.aiZ.bind(this);this.a44=this.axK.bind(this);this.ai7=this.a4u.bind(this);this.p3=0;this.Zo=0;
this._v=!1;J.Dw(this.wp,this.akv);J.N_(this.wp)}cD.prototype=new kl;cD.prototype.jF=function(o){this.Gk=o};
cD.prototype.ld=function(o){this.wp.style.display=o?"inherit":"none";if(o)this.wp.textContent=kQ.get(o)};
cD.prototype.S=function(){var eK=this.Qg,o=this.oZ;if(eK){if(typeof eK=="string"&&eK.startsWith("<"))this.wp.innerHTML=eK;
else this.SV()}if(o){o=kQ.get(o);if(eK)this.wp.setAttribute("title",o);this.uw.setAttribute("title",o)}};
cD.prototype.O=function(o,P){var w=this.Vv==this.HI,z;if(!w&&this.Vv>=0)o=Math.max(this.Vv,o);if(this.Gk==0)o=Math.round(o);
var x=this.Et;this.Bw=o;this.uw.value=parseFloat(this.Gk!=0?o.toFixed(this.Gk):o)+(this.aw0&&x?(x.toLowerCase()==x.toUpperCase()?"":" ")+x:"");
if(-this.Vv==this.HI)z=200+Math.sign(o)*200*Math.pow(Math.abs(o)/this.HI,1/2.7);else z=400*Math.pow((o-this.Vv)/(this.HI-this.Vv),1/2.7);
this.rH.value=this.El?z:o;if(P)this.pF()};cD.prototype.m=function(){var o=this.Bw;if(isNaN(o))o=0;return o};
cD.prototype.vy=function(){return this.Et};cD.prototype.oQ=function(o){var P=0;if(o.currentTarget==this.uw){var w=o.target.value,x=0;
if(w=="")P=0;else if(this.Et){P=parseFloat(w)}else{try{P=eval(w)}catch(o){P=1}}if(isNaN(P))P=0;while(x<w.length&&(w.charAt(x)=="."||48<=w.charCodeAt(x)&&w.charCodeAt(x)<=57))x++;
var z=w.slice(x).trim();if(this.TV&&this.TV.indexOf(z)!=-1)this.Et=z}else{if(Date.now()-this.Oj<10)return;
P=parseFloat(o.target.value);if(this.El){if(-this.Vv==this.HI)P=Math.sign(P-200)*Math.pow(Math.abs(P-200)/200,2.7)*this.HI;
else P=this.Vv+Math.pow(P/400,2.7)*(this.HI-this.Vv);P=this.aoY(P)}}this.O(P);if(o.type=="input"&&this.rG)return;
this.pF()};cD.prototype.pF=function(){this.j(new bO(G.E.w))};cD.prototype.aoY=function(o){if(this.HI-this.Vv>50&&o>10)o=Math.round(o);
return o};cD.prototype.nE=function(o){var P=0;if(i$.qw(o.code,i$.ag))P=1;if(i$.qw(o.code,i$.uE))P=-1;
if(P!=0)this.a6H(P,o.shiftKey)};cD.prototype.I5=function(o){var P=i$.qw(o.code,i$.Sk),w=i$.qw(o.code,i$.w_);
if(P)this.O(this.m());if(w||P)this.uw.blur()};cD.prototype.jI=function(o){this.a6H(o.deltaY>0?-1:1,o.shiftKey)};
cD.prototype.a6H=function(o,P){var w=this.m(),x=this.Gk,z=o*(x==null||x==0||w>5?1:.1);if(P)z*=10;var S=w+z;
if(!this.El&&this.HI!=this.Vv)S=Math.min(this.HI,S);this.O(S);this.pF()};cD.prototype.aiO=function(o){var P=Date.now()-this.Oj;
this.Oj=Date.now();if(P>200)return;var w=this.Vv,x=this.HI,z=(w+x)/2;if(w<1&&x>1&&x<10)z=1;else if(w<90&&x>110)z=100;
else if(w<0&&x>0)z=0;this.O(z);this.pF()};cD.prototype.aiZ=function(o){J.Zw(document,this.a44);J.FV(document,this.ai7);
this.p3=J.YH(o,document.body).x;this.Zo=this.m()};cD.prototype.axK=function(o){J._1(o);var P=this.Vv==this.HI,w=J.YH(o,document.body).x,x=(w-this.p3)*(P?1:1/120*(this.HI-this.Vv)),z=this.Zo+x;
if(P)z=Math.round(z);if(!P){if(!0){z=Math.max(this.Vv,z);if(z==this.Vv){this.p3=w;this.Zo=this.Vv}}if(!this.El){z=Math.min(this.HI,z);
if(z==this.HI){this.p3=w;this.Zo=this.HI}}z=this.aoY(z)}this._v=!0;this.O(z);if(!this.rG)this.pF()};
cD.prototype.a4u=function(o){if(!this._v)this.uw.focus();this._v=!1;if(this.rG)this.pF();J.ig(document,this.a44);
J.qM(document,this.ai7)};cD.prototype.W7=function(){this.uw.select();this.uw.focus()};function f6(o,P,w,x,z,S,k,f,C,H){cD.call(this,o,P,w,x,z,!0,S,C,H);
J.HT(this.Z,"rangedropinput");this.Z.appendChild(this.wp);this.uw.setAttribute("style","width:"+(f?f:3.3)+"em");
this.Z.appendChild(this.uw);this.alq=J.k("span","rangecontFloat");this.alq.appendChild(this.rH);this.sI=J.k("button");
this.sI.textContent="\u25BC";J.Dw(this.sI,this.ahC.bind(this));if(k!=!0)this.Z.appendChild(this.sI);
this.xo=new kl;this.xo.Z=this.alq}f6.prototype=new cD;f6.prototype.ahC=function(o){if(J.Ni(this.xo.Z))return;
o.stopPropagation();var P=this.Z.getBoundingClientRect();this.rH.setAttribute("style","width:"+P.width+"px;");
var w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:this.xo,x:P.left-10,y:P.top+P.height};this.j(w)};function kU(o,P,w,x,z,S){cD.call(this,o,P,w,x,z,!1,S);
this.Z.appendChild(this.wp);var k=J.k("span");this.Z.appendChild(k);k.appendChild(this.rH);this.Z.appendChild(this.uw);
this.uw.setAttribute("style","width:3.3em");if(this.Et)this.Z.appendChild(this._S)}kU.prototype=new cD;
function aT(o,P,w,x,z,S,k,f){cD.call(this,o,P,w,x,z,!0,S,null,k);J.HT(this.Z,"trangeinput");this.Z.appendChild(this.wp);
this.Z.appendChild(this.uw);var C=J.k("span");if(f!=!0)this.Z.appendChild(C);C.appendChild(this.rH)}aT.prototype=new cD;
function f7(o,P,w,x){kl.call(this);if(!P)return;this.cY=0;this.Qg=o;this.azs=x;this.l2=null;this.$y=w;
this.n_=[];var z="dd"+J.qF();this.Z=J.k("span","fitem ddmenu");if(o){this.wp=J.k("label","flabel");this.Z.appendChild(this.wp);
this.wp.setAttribute("for",z)}this.uw=J.k("select");i$.uA(this.uw);this.uw.setAttribute("id",z);this.Z.appendChild(this.uw);
this.uw.addEventListener("change",this.oQ.bind(this),!1);function S(k){var f=0;if(i$.qw(k.code,i$.ag))f=1;
if(i$.qw(k.code,i$.uE))f=-1;if(f!=0)k.stopPropagation()}this.uw.addEventListener("keydown",S,!1);this.uw.addEventListener("keyup",S,!1);
this.qy=[];this.Tk=null;this.Cp(P,w);this.S()}f7.prototype=new kl;f7.prototype.ld=function(o){this.Qg=o;
this.S()};f7.prototype.S=function(){this.SV();if(this.Tk)this.Cp(this.Tk,this.$y);if(this.azs)this.uw.setAttribute("title",kQ.get(this.azs));
this.O(this.cY)};f7.prototype.m=function(){return this.cY};f7.prototype.Cp=function(o,P){J.eg(this.uw);
var w=[],x=0;if(P){w.push(P[0]);for(var I=1;I<P.length;I++)w.push(w[I-1]+P[I])}this.Tk=o;this.l2=[];
this.$y=P;for(var I=0;I<o.length;I++){var z=J.k("option");if(this.n_.indexOf(I)!=-1)z.setAttribute("disabled","");
z.textContent=kQ.get(o[I]);z.setAttribute("value",I);this.uw.appendChild(z);this.qy.push(z);this.l2.push(I+x);
if(w.indexOf(I+1)!=-1&&I!=o.length-1){var S=J.k("option");S.setAttribute("disabled","");S.textContent="";
this.uw.appendChild(S);x++}}};f7.prototype.ae0=function(I){var o=this.n_,P=o.indexOf(I);if(P==-1)o.push(I);
this.S()};f7.prototype.aEo=function(I){var o=this.n_,P=o.indexOf(I);if(P!=-1)o.splice(P,1);this.S()};
f7.prototype.O=function(o){this.cY=o;this.uw.selectedIndex=this.l2[o]};f7.prototype.oQ=function(o){this.cY=this.l2.indexOf(this.uw.selectedIndex);
this.j(new bO(G.E.w,!1))};f7.prototype.W7=function(){this.uw.focus()};function kp(o,P,w,x,z){kl.call(this);
if(!P)return;this.cY=0;this.aoJ=x;this.a6I=z;this.Z=J.k("span","fitem bbmenu");this.pj=J.k("label","flabel");
if(o){this.Qg=o;this.pj.textContent=o+":";this.Z.appendChild(this.pj)}this.qy=[];this.FF=J.k("span");
this.Z.appendChild(this.FF);this.Tk=null;this.Cp(P,w);this.O(0)}kp.prototype=new kl;kp.prototype.ld=function(o){this.Qg=o;
this.S()};kp.prototype.S=function(){var o=this.pj.parentNode!=null,P=this.Z;if(this.Qg!=null){if(!o){P.appendChild(this.pj);
P.appendChild(this.FF)}this.pj.textContent=kQ.get(this.Qg)+": "}else if(o)P.removeChild(this.pj);for(var I=0;
I<this.qy.length;I++)this.qy[I].S()};kp.prototype.m=function(){return this.cY};kp.prototype.Cp=function(o,P){J.eg(this.FF);
this.qy=[];this.Tk=o;for(var I=0;I<o.length;I++){var w=new eN(o[I],!1,P?P[I]:null,this.aoJ);w.J("click",this.oQ,this);
this.FF.appendChild(w.Z);this.qy.push(w)}this.S()};kp.prototype.O=function(o){this.cY=o;for(var I=0;
I<this.qy.length;I++)this.qy[I].yg();if(o!=-1)this.qy[o].UL()};kp.prototype.oQ=function(o){var I=this.qy.indexOf(o.target);
this.O(this.a6I&&I==this.cY?-1:I);this.j(new bO(G.E.w,!1))};kp.d4=function(o,P,w){if(P==null)P=16;var x=kp.Av,z=x.getContext("2d"),S=P>>>1;
x.width=x.height=P;var k=[];for(var I=0;I<o.length;I++){if(o[I][0]=="-")k.push(o[I].slice(1));else if(o[I]=="checker"||o[I].startsWith("#")){if(o[I]=="checker"){z.fillStyle="white";
z.fillRect(0,0,P,P);z.fillStyle="#bbbbbb";z.fillRect(S,0,S,S);z.fillRect(0,S,S,S)}else if(o[I].startsWith("#")){z.fillStyle=o[I];
z.fillRect(0,0,P,P)}k.push("<img src=\""+x.toDataURL()+"\" />")}else k.push(J._D(o[I],null,w?w:"autoscale"))}return k};
kp.Av=J.k("canvas");function fs(o,P,w,x,z,S){kl.call(this);this.Z=J.k("span","fitem mbox");this.ai8=w;
this.aFt=z;if(o){this.Qg=o;this.pj=J.k("label","flabel");this.Z.appendChild(this.pj)}this.k1=P;this.Px=[];
for(var I=0;I<P.length;I++){var k=w?new eN(P[I],!1,x?x[I]:null,!1,S):new f5(P[I],!0,"");k.J(w?"click":G.E.w,this.oQ,this);
this.Px.push(k);this.Z.appendChild(k.Z)}this.S()}fs.prototype=new kl;fs.prototype.O=function(o){for(var P=0;
P<this.k1.length;P++)this.Px[P].O(o[P])};fs.prototype.m=function(){var o=[];for(var P=0;P<this.k1.length;
P++)o[P]=this.Px[P].m();return o};fs.prototype.S=function(){if(this.Qg)this.pj.innerHTML=kQ.get(this.Qg)+": ";
var o=this.Px;for(var P=0;P<o.length;P++){o[P].S();if(P==o.length-1)o[P].Z.style.marginRight="0px"}};
fs.prototype.oQ=function(o){var I=this.Px.indexOf(o.currentTarget),P=this.Px[I];if(this.ai8)P.O(!P.m());
if(this.aFt){var w=P.m();for(var I=0;I<this.Px.length;I++)this.Px[I].O(!1);P.O(w)}this.j(new bO(G.E.w,!1))};
function hr(o,P){kl.call(this);this.r9=[];this.T=[];this.aCW=o;this.h$=P;this.V6=0;this.p5=null;this.R8=new eD(0,0);
if(P!=null){this.Dl=new i4([{name:[6,37]},{name:[5,4]}]);this.Dl.parent=this;this.Dl.J("select",this.DJ,this)}this.Z=J.k("div","imageset scrollable");
this.Z.addEventListener("contextmenu",J.NU,!1)}hr.prototype=new kl;hr.prototype.S=function(){if(this.Dl)this.Dl.S()};
hr.prototype.DJ=function(o){var I=this.Dl.vm()[0],P=new bO(G.E.X,!0),w={Q:G.l.CA,JL:this.h$,Yg:this.T.slice(0)};
if(I==0){var x=this.p5[1][this.T[0]],z=x.split("/");if(z.length==2){w.Pt=z[0]+"/";x=z[1]}w.Cw="rnm";
P.data={Q:G.l.y7,hq:"namewindow",Lz:x,o0:{K:G.E.X,o:w}}}else{P.data=w;w.Cw="del"}this.j(P)};hr.prototype.a6a=function(){return this.V6};
hr.prototype.lK=function(o){this.V6=o;if(this.p5)this.xW()};hr.prototype.jW=function(o,P,w,x){this.p5=[o,P,w,x];
this.xW()};hr.prototype.xW=function(){var o=this.p5,P=this.Z,w=o[0],x=o[1],z=o[2],S=o[3];this.r9=[];
J.eg(P);var k=this._j.bind(this),f=this.V6;if(f==0)J.HT(P,"imageset");else J.hC(P,"imageset");var C={};
for(var I=0;I<w.length;I++){var H=w[I],b=null,i=null;if(H==null){this.r9.push(null);continue}if(typeof H=="string"){b=J.k("img","image");
b.setAttribute("src",H)}else b=H;if(z)J.v5(b,z,S);if(this.aCW)J.HT(b,"gsicon");if(x){var i=x[I],M=i.split("/");
if(M.length==2){var T=C[M[0]];i=M[1];if(T==null)T=C[M[0]]=[];T.push(I)}}if(f==0){}else{var O=J.k("div","listitem");
O.appendChild(b);var Y=J.k("span");Y.textContent=i?i:"Item "+(I+1);Y.setAttribute("style","margin-left:4px;");
O.appendChild(Y);b=O}if(i)b.setAttribute("title",i);b.addEventListener("mousedown",k,!1);this.r9.push(b);
P.appendChild(b)}if(Object.keys(C).length!=0){J.eg(P);for(var U in C){var T=C[U],W=J.k("div","listitem head");
W.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var t=J.k("div","headL");W.appendChild(t);t.appendChild(J.k("div","folder"));var Y=J.k("span");Y.textContent=U;
t.appendChild(Y);P.appendChild(W);for(var I=0;I<T.length;I++)P.appendChild(this.r9[T[I]])}}};hr.prototype._j=function(o){if(this.h$==null)o.preventDefault();
var P=this.r9.indexOf(o.currentTarget),w=window.__kb,x=this.T,z=x.length;if(w.d(i$.W1)){var S=Math.min(x[0],x[x.length-1],P),k=Math.max(x[0],x[x.length-1],P);
x=[];for(var I=S;I<=k;I++)x.push(I)}else if(w.d(i$.Jm)){var f=x.indexOf(P);if(f==-1)x.push(P);else x.splice(f,1)}else x=[P];
x.sort(function(i,M){return i-M});if(o.button==0||z==1)this.O(x);this.R8=J.YH(o,o.currentTarget);if(o.button==0)this.j(new bO(G.E.w));
if(o.button==2&&this.Dl){var C=this.Dl;C.update(null);var H=J.YH(o,document.body),b=new bO(G.E.X,!0);
b.data={Q:G.l.tZ,NP:C,x:H.x,y:H.y+2};this.j(b)}};hr.prototype.m=function(){return this.T.slice(0)};hr.prototype.aDv=function(){var o=this.R8;
return new eD(o.x,o.y)};hr.prototype.O=function(o){this.T=o.slice(0);for(var I=0;I<this.r9.length;I++){var P=this.r9[I];
if(P==null)continue;if(o.indexOf(I)!=-1)J.HT(P,"selected");else J.hC(P,"selected")}};function cA(o,P,w,x,z,S,k){kl.call(this);
this.Z=J.k("span","fitem "+w);this.NK=new kl;this.NK.Z=J.k("div","floatcont");this.Ke=x;this.NK.parent=this;
this.afa=J.k("div");this.NK.Z.appendChild(this.afa);this.oy=J.k("div");this.NK.Z.appendChild(this.oy);
if(o){this.Qg=o;this.pj=J.k("label","flabel");this.Z.appendChild(this.pj)}this.Q=J.k("button",k?"nopadding":"");
this.Q.setAttribute("style","position:relative;");var f=this.zL.bind(this),C=this.S7.bind(this);J.Dw(this.Q,P?C:f);
this.Z.appendChild(this.Q);this.Qs=J.k("img",k?"gsicon":"");this.Q.appendChild(this.Qs);if(P){var H=J.k("button");
H.textContent="\u25BC";J.Dw(H,f);this.Z.appendChild(H)}else{var b=J.k("span");b.textContent="\u25BC";
b.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.Q.appendChild(b)}var i=this.abV=J.k("span");
this.oy.appendChild(i);i.setAttribute("style","display:inline-block;  vertical-align:top;");this.W9=new hr(k,S);
i.appendChild(this.W9.Z);this.W9.parent=this.NK;this.W9.J(G.E.w,this.nc,this);this.W9.Z.style.height=z+"px";
this.Tv=J.k("button");this.Tv.textContent="\u25BC";this.Tv.setAttribute("style","padding:3px");J.Dw(this.Tv,this.Mg.bind(this));
this.oy.appendChild(this.Tv);var M=this.va(),T=this.a2I=S!=eB.HM&&S!=eB.sv?S:null,O=this.a78=S==null?!1:eB.R7[S][4]!=0,Y=S==null?"":eB.R7[S][0].toUpperCase(),U=[];
if(T)U.push({name:[12,87]});U.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Pd:!0});U.push({name:[[23,6],"."+(Y=="ICC"?"icc .cube .look .3dl":Y)]},{name:["VAR0 ."+Y,[1,8]]},{name:[6,37]},{name:[5,4],Pd:M.length!=0});
for(var I=0;I<M.length;I++)U.push({name:M[I].split("/").pop()});this.a0Q=U;this.h$=S;this.w8=null;this.BL=!0;
this.Km=null}cA.prototype=new kl;cA.prototype.va=function(){return[]};cA.prototype.S7=function(){};cA.prototype.S=function(){this.W9.S();
var o=this.Qg;if(o)this.pj.textContent=kQ.get(o)+":"};cA.prototype.ld=function(o){this.pj.textContent=o};
cA.prototype.Rj=function(o){var P=this.h$,w=0;if(P==eB.EP){w=this.w8?this.w8.length:0;o=o.slice(0)}this.w8=o;
this.BL=!0;if(J.Ni(this.W9.Z)||P==eB.cS)this.Uz();if(P==eB.EP&&o.length-w==1&&J.Ni(this.Z)){this.O(o[w]);
this.BL=!0;this.Uz();this.W9.O([w]);this.j(new bO(G.E.w))}};cA.prototype.DJ=function(o){var P=o.target.vm()[0];
if(this.a2I==null)P++;var w=new bO(G.E.X,!0);if(P==0){var x=this.HP();if(this.h$==eB.EP&&x[0].profile==null)return;
w.data={Q:G.l.CA,Cw:"add",JL:this.a2I,rc:x}}else if(P==1)this.W9.lK(1-this.W9.a6a());else if(P<=5)this.eq(P-2);
else{var z=this.va();w.data={Q:G.l.xj,JL:{url:"rsrc/"+z[P-6]}}}if(w.data)this.j(w)};cA.prototype.eq=function(o){var P=new bO(G.E.X,!0),w=this.W9.m(),x={Q:G.l.CA,JL:this.h$,Yg:w};
if(o>1&&w.length==0){alert("No items selected");return}if(o==0)P.data={Q:G.l.Ul};else if(o==1)P.data={Q:G.l.tR,anp:this.h$,Yg:w.length==0?null:w};
else if(o==2){var z=this.W9.p5[1][w[0]],S=z.split("/");if(S.length==2){x.Pt=S[0]+"/";z=S[1]}x.Cw="rnm";
P.data={Q:G.l.y7,hq:"namewindow",Lz:z,o0:{K:G.E.X,o:x}}}else if(o==3){P.data=x;x.Cw="del"}this.j(P)};
cA.prototype.HP=function(){return[this.m()]};cA.prototype.Mg=function(o){if(this.Dl==null){this.Dl=new i4(this.a0Q);
this.Dl.parent=this.NK;this.Dl.J("select",this.DJ,this)}if(J.Ni(this.Dl.Z))return;o.stopPropagation();
var P=this.Dl;P.S();P.update(null);var w=o.currentTarget.getBoundingClientRect(),x=new bO(G.E.X,!0);
x.data={Q:G.l.tZ,NP:P,x:w.left,y:w.top+w.height};this.j(x)};cA.prototype.zL=function(o,P,w){if(J.Ni(this.NK.Z))return;
if(o)o.stopPropagation();this.Uz();if(P==null){var x=this.Q.getBoundingClientRect(),P=x.left,w=x.top+x.height}this.sH();
var z=new bO(G.E.X,!0);z.data={Q:G.l.tZ,NP:this.NK,x:P,y:w,wV:!0};this.j(z)};cA.prototype.sH=function(o,P){var o=Math.min(this.Ke,window.innerWidth-40);
this.abV.style.width=o+"px";this.NK.Z.style.width=o+20+"px"};cA.prototype.a9c=function(o,P){this.zL(null,o,P)};
function jE(){kl.call(this);this.Z=J.k("div");this.Bw=!1;this.CD=[new f7([12,19,1],[[13,1,7]].concat(ft.uI)),new cS([17,1]),new cS([12,46])];
for(var I=0;I<3;I++){var o=this.CD[I];this.Z.appendChild(o.Z);o.J(G.E.w,this.Xe,this)}this.S()}jE.prototype=new kl;
jE.prototype.S=function(){for(var I=0;I<3;I++)this.CD[I].S()};jE.prototype.m=function(){return this.Bw.slice(0)};
jE.prototype.O=function(o){this.Bw=o.slice(0);var P=this.CD,w=P[0].m();P[1].O(o.slice(w*8,w*8+4),w);
P[2].O(o.slice(w*8+4,w*8+8),w)};jE.prototype.Xe=function(o){var P=this.CD,w=P.indexOf(o.currentTarget);
if(w==0)this.O(this.Bw);else{var x=P[0].m()*8+(w==1?0:4),z=P[w].m();for(var I=0;I<4;I++)this.Bw[x+I]=z[I];
this.j(new bO(G.E.w,!1))}};function cS(o){kl.call(this);this.Z=J.k("div");this.hj=J.k("canvas");this.Y_=o;
this.Bw=[0,20,200,255];this.Nb=0;this.BA=-1;this.a3R=[];for(var I=0;I<5;I++){var P=J.k("span");P.setAttribute("style","display:inline-block;width:"+(I==0?8:I==2?7:2)+"em");
this.a3R.push(P);this.Z.appendChild(P)}this.Z5=this.yR.bind(this);this.j7=this.yH.bind(this);this.YE=this.D4.bind(this);
J.N_(this.hj);J.Dw(this.hj,this.Z5);this.Z.appendChild(this.hj);this.xW()}cS.prototype=new kl;cS.prototype.S=function(){this.xW()};
cS.prototype.O=function(o,P){this.Bw=o;this.Nb=P;this.xW()};cS.prototype.m=function(){return this.Bw.slice(0)};
cS.prototype.yR=function(o){var P=this.Bw,w=J.YH(o,this.hj),x=w.x-8,z=-1,S=1e9;for(var I=0;I<4;I++){var k=x-P[I],f=Math.abs(k);
if(f<8&&f<S&&((I&1)==0&&k<0||(I&1)==1&&k>0)){S=k;z=I}}if(z==-1)return;this.BA=z;this.rl=window.__kb.d(i$.JV)||P[(z>>>1)*2]!=P[(z>>>1)*2+1];
J.Zw(window,this.j7);J.FV(window,this.YE)};cS.prototype.yH=function(o){var P=this.Bw,w=this.BA,x=(w>>>1)*2,z=x+1,S=J.YH(o,this.hj),k=Math.round(Math.max(0,Math.min(255,S.x-8)));
P[w]=k;if(this.rl&&P[x]>=P[z])this.rl=!1;if(!this.rl)P[x]=P[z]=k;this.xW();this.j(new bO(G.E.w,!1))};
cS.prototype.D4=function(o){J.ig(window,this.j7);J.qM(window,this.YE)};cS.prototype.xW=function(){var o=this.hj;
J.Wy(o,255+16,16);var P=o.getContext("2d"),w=o.width,x=o.height,z=Math.round(255*J.M()),S=Math.round(8*J.M());
P.translate(S,0);var k=P.createLinearGradient(0,0,z,0);k.addColorStop(0,"black");k.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Nb]);
P.fillStyle=k;P.fillRect(0,0,z,S);var f=this.a3R,C=kQ.get(this.Y_)+":";f[0].textContent=C;for(var I=0;
I<4;I++){var H=this.Bw[I];f[1+I].textContent=H;var b=Math.round(H*J.M());P.beginPath();P.moveTo(b,S);
P.lineTo(b,S+S);P.lineTo(b+((I&1)==0?-1:1)*S,S+S);P.closePath();P.fillStyle=I<2?"#666666":"#cccccc";
P.fill();P.strokeStyle="black";P.stroke()}};function i7(o,P,w){kl.call(this);if(w==null)w=!1;this.P=[0,0,1];
this.aiM=P;this.ac8=w;this.sd=0;var x="ai"+J.qF();this.Z=J.k("span","fitem angleinput");if(o){this.pj=J.k("label","flabel");
this.Qg=o;this.Z.appendChild(this.pj);this.pj.setAttribute("for",x)}this.Tb=w?44:20;this.hj=J.k("canvas","gsicon");
this.QA=this.hj.getContext("2d");J.N_(this.hj);J.Wy(this.hj,this.Tb*2+1,this.Tb*2+1);this.QA.scale(J.M(),J.M());
this.Z.appendChild(this.hj);J.Dw(this.hj,this.KI.bind(this));this.UO=this.zx.bind(this);this.MS=this._e.bind(this);
var z=this.oQ.bind(this),S=J.k("div");S.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!w)this.Z.appendChild(S);this.k9=[];for(var I=0;I<2;I++){var k=J.k("input");this.k9.push(k);k.setAttribute("type","text");
J.Kw(k);if(I==0)k.setAttribute("id",x);k.addEventListener("change",z,!1);var f=J.k("span");f.textContent="\xB0";
if(I==0||P){S.appendChild(k);S.appendChild(f);J.jB(S)}}this.O(this.P)}i7.prototype=new kl;i7.prototype.S=function(){if(this.Qg)this.pj.textContent=kQ.get(this.Qg)+":"};
i7.prototype.ld=function(o){this.pj.textContent=o};i7.prototype.m=function(){return this.P.slice(0)};
i7.prototype.O=function(o,P){var w=this.P;o=o.slice(0);if(o[0]==null)o[0]=w[0];if(o[1]==null)o[1]=w[1];
if(o[2]==null)o[2]=w[2];this.P=o;var x=o[0],z=o[1],S=o[2],k=this.aiM,f=this.ac8,C=this.Tb*.85;if(!k)z=0;
this.k9[0].value=x;this.k9[1].value=z;var H=this.QA;H.clearRect(0,0,100,100);x=Math.PI*x/180;z=C*(90-z)/90;
var b=this.Tb+.5;H.save();H.translate(b,b);H.rotate(-x);H.strokeStyle="rgba(0,0,0,0.5)";H.beginPath();
H.ellipse(0,0,C,C*S,0,0,2*Math.PI);if(f){H.moveTo(0,-C*S);H.lineTo(0,C*S);H.moveTo(-z,0)}else H.moveTo(0,0);
H.lineTo(z,0);H.stroke();var i=this.Tb*.15;H.fillStyle="black";H.beginPath();if(f){H.arc(0,-C*S,i*.66,0,2*Math.PI);
H.arc(0,C*S,i*.66,0,2*Math.PI)}if(k){H.arc(z,0,i*.4,0,2*Math.PI)}else{H.moveTo(b-i,-i*.66);H.lineTo(b,0);
H.lineTo(b-i,i*.66)}H.fill();H.restore();if(P)this.oQ()};i7.prototype.oQ=function(o){var P=parseInt(this.k9[0].value);
if(isNaN(P))P=0;var w=parseInt(this.k9[1].value);if(isNaN(w))w=0;P=P%360;w=w%360;this.O([P,w]);this.j(new bO(G.E.w,!1))};
i7.prototype.KI=function(o){J.Zw(window,this.UO);J.FV(window,this.MS);var P=J.YH(o,this.hj),b=0,i=1e9;
P.x-=this.Tb;P.y-=this.Tb;var w=this.P,x=w[0]*Math.PI/180,z=(90-w[1])/90,S=w[2],k=this.Tb*.85,f=Math.sin(-x),C=Math.cos(-x),H=[new eD(C*k,f*k)];
if(this.ac8)H.push(new eD(-f*k*S,C*k*S),new eD(f*k*S,-C*k*S));for(var I=0;I<H.length;I++){var M=eD.a_(P,H[I]);
if(M<i){i=M;b=I}}this.sd=b;if(b==0)this.zx(o)};i7.prototype.zx=function(o){var P=J.YH(o,this.hj),w=this.sd,x=[],z=P.x-this.Tb,S=P.y-this.Tb,k=this.Tb*.85;
if(w==0){var f=180*Math.atan2(-S,z)/Math.PI,C=90-90*Math.min(1,Math.sqrt(z*z+S*S)/k);if(o.shiftKey)f=Math.round(f/15)*15;
x=[Math.round(f),Math.round(C)]}else x=[null,null,Math.max(.01,Math.min(1,Math.sqrt(z*z+S*S)/k))];this.O(x);
this.j(new bO(G.E.w,!1))};i7.prototype._e=function(o){this.j(new bO(G.E.w,!1));J.ig(window,this.UO);
J.qM(window,this.MS)};function c_(o,P){kl.call(this);this.Bw=0;this.Y$=P;this.Z=J.k("span","fitem angleinput");
if(o){this.pj=J.k("label","flabel");this.Qg=o;this.Z.appendChild(this.pj)}this.hj=J.k("canvas","gsicon");
this.QA=this.hj.getContext("2d");J.Wy(this.hj,P,P);this.Z.appendChild(this.hj);J.N_(this.hj);J.Dw(this.hj,this.KI.bind(this));
this.UO=this.zx.bind(this);this.MS=this._e.bind(this);this.O(0)}c_.prototype=new kl;c_.prototype.S=function(){if(this.Qg)this.pj.textContent=kQ.get(this.Qg)+":"};
c_.prototype.ld=function(o){this.pj.textContent=o};c_.prototype.m=function(){return this.Bw};c_.prototype.ag6=function(o){var P=this.Bw,w=Math.floor(P/3),x=P-w*3;
x=Math.max(0,Math.min(2,x+o.x));w=Math.max(0,Math.min(2,w+o.y));this.O(w*3+x)};c_.prototype.O=function(o){this.Bw=o;
var P=this.hj.width,w=Math.floor(o/3),x=o-3*w,z=(x+.5)*P/3,S=(w+.5)*P/3,k=this.QA,f=[.5,Math.round(P/3)+.5,Math.round(2*P/3)+.5,P-.5];
k.clearRect(0,0,P,P);var C=this.Y$<30;k.setLineDash([]);k.strokeStyle=C?"rgba(0,0,0,0.5)":"#000000";
k.beginPath();for(var I=0;I<4;I++){var H=f[I];k.moveTo(H,0);k.lineTo(H,P);k.moveTo(0,H);k.lineTo(P,H)}k.stroke();
if(o==9)return;if(!C){k.setLineDash([1,2]);var b=P*.53,i=Math.max(0,Math.min(P-b,z-b/2)),M=Math.max(0,Math.min(P-b,S-b/2));
k.strokeRect(Math.round(i)+.5,Math.round(M)+.5,Math.round(b),Math.round(b))}k.fillStyle="#000000";k.beginPath();
k.arc(z,S,P/8,0,Math.PI*2);k.fill()};c_.prototype.KI=function(o){J.Zw(document.body,this.UO);J.FV(document.body,this.MS);
this.zx(o)};c_.prototype.zx=function(o){var P=J.YH(o,this.hj),w=Math.max(0,Math.min(2,Math.floor(P.x/(this.Y$/3)))),x=Math.max(0,Math.min(2,Math.floor(P.y/(this.Y$/3))));
this.O(x*3+w)};c_.prototype._e=function(o){this.j(new bO(G.E.w,!1));J.ig(document.body,this.UO);J.qM(document.body,this.MS)};
function dC(eK){kl.call(this);this.Z=J.k("span","fitem cswatch");this.a6x=0;this.vE=[];this.jR=[];var o=this.aG$.bind(this);
for(var I=0;I<eK;I++){this.vE.push(0);var P=J.k("span","colorsample");P.addEventListener("click",o,!1);
this.jR.push(P);this.Z.appendChild(P)}var w=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],x=Math.min(eK,w.length);
for(var I=0;I<x;I++)this.vE[I]=w[I];this.vF()}dC.prototype=new kl;dC.prototype.aG$=function(o){this.a6x=this.jR.indexOf(o.currentTarget);
this.j(new bO(G.E.w))};dC.prototype.m=function(){return this.vE[this.a6x]};dC.prototype.O=function(o){var P=this.vE,w=P.indexOf(o);
if(w!=-1)P.splice(w,1);else P.pop();P.unshift(o);this.vF()};dC.prototype.vF=function(){for(var I=0;I<this.vE.length;
I++){this.jR[I].setAttribute("style","background-color:#"+e.UM(this.vE[I]))}};function fN(o){kl.call(this);
this.Wc={$:0,H:0,b:0};this.yB=o;this.Z=J.k("span","fitem colorsample");this.Z.addEventListener("click",this.df.bind(this),!1)}fN.prototype=new kl;
fN.prototype.S=function(){};fN.prototype.df=function(o){var P=this.Wc;this.j(new bO("click"));var w=new bO(G.E.X,!0);
w.data={Q:G.l.y7,hq:"colorpicker",cz:e.Oq(P),oO:this.ge.bind(this),wG:this.yB};this.j(w)};fN.prototype.ge=function(o){this.bN(o);
this.j(new bO(G.E.w))};fN.prototype.XP=function(){this.df(null)};fN.prototype.gV=function(){var o=this.Wc;
return o.$<<16|o.H<<8|o.b};fN.prototype.m=function(){return e.G.e1(this.Wc)};fN.prototype.bN=function(o){this.Wc=e.AE(o);
this.a1G()};fN.prototype.O=function(o){this.Wc=e.G.dQ(o);this.a1G()};fN.prototype.a1G=function(){var o=this.Wc,P=o.$,w=o.H,x=o.b,z=P<<16|w<<8|x;
this.Z.setAttribute("style","background-color:#"+e.UM(z))};function eV(){kl.call(this);this.CS=!1;this.Or=20;
this.ao8=10;this.sq=0;this.CS=!1;this.Eg={$:255,H:0,b:0};this.Zk={$:0,H:0,b:0};this.r7=null;this.Ow=null;
this.fb=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];this.Z=J.k("canvas");
this.xW();J.N_(this.Z);J.Dw(this.Z,this.Z5.bind(this))}eV.prototype=new kl;eV.prototype.aCE=function(o){if(this.CS==o)return;
this.CS=o;this.xW()};eV.prototype.S=function(){};eV.prototype.alY=function(o,P){function w(x){return{$:x>>16&255,H:x>>8&255,b:x&255}}if(o!=null)this.Eg=w(o);
if(P!=null)this.Zk=w(P);this.xW()};eV.prototype.ajV=function(o,P){this.r7=o;this.Ow=P;this.xW()};eV.prototype.Z5=function(o){var P=J.YH(o,this.Z),w=P.x*J.M(),x=P.y*J.M(),z=this.Or,S=this.ao8,k=0;
if(x>z){k=4+Math.floor(3*w/z)}else if(w<S&&x<S){k=0}else if(w>z-S&&x>z-S){k=1}else if(w<S){k=2}else{k=3}this.XP(k)};
eV.prototype.XP=function(o){var P=this.r7,w=new bO(G.E.X,!0);if(o>1){if(bn==0)w.data={Q:G.l.CA,JL:eB.P6,Pw:o};
else{var x=JSON.parse(JSON.stringify(P.XO));if(o==2){var z=x.eJ;x.eJ=x.wm;x.wm=z}if(o==3){x.wm=[1,1,1];
x.eJ=[0,0,0]}if(o>=4){var S=this.fb[o-4];if(this.sq==0)x.wm=S;else x.eJ=S}w.data={Q:G.l.CA,JL:eB.SX,P:x}}}else{var k=this.ge.bind(this),f=this.sq;
this.sq=o;if(bn==0){var C=o==0?this.Eg:this.Zk;w.data={Q:G.l.y7,hq:"colorpicker",cz:e.Oq(C),oO:k}}else{if(f!=o){this.xW();
return}var H=o==0?P.XO.wm:P.XO.eJ;if(H.length==0)H=[0,0,0];eV.af8(H,this,k);return}}this.j(w)};eV.prototype.ge=function(o){var P=new bO(G.E.X,!0),w=this.sq,x=this.r7;
if(bn==0)P.data={Q:G.l.CA,JL:eB.P6,Pw:w,P:o};else{var z=o;if(typeof o=="number"){z=e.AE(o,1);z=[z.$,z.H,z.b]}var S=JSON.parse(JSON.stringify(x.XO));
if(w==0)S.wm=z;else S.eJ=z;P.data={Q:G.l.CA,JL:eB.SX,P:S}}this.j(P)};eV.prototype.xW=function(){var o=this.Z,P=o.getContext("2d"),w=J.M(),w=J.M(),x=this.Or=Math.floor(34*w),z=Math.floor((x-2)/3),S="#aaaaaa",k=.62;
o.width=x;o.height=x+bn*(z+9);J.PH(o);o.setAttribute("style",o.getAttribute("style")+";cursor:pointer");
var x=this.Or=o.width,f=this.ao8=Math.round(x*k);function C(_,n){var y=_.$,F=_.H,a=_.b;if(n)y=F=a=Math.round(e.Rb(y,F,a));
var V=y<<16|F<<8|a;return"#"+e.UM(V)}function H(P,M,_,n,y,F){P.beginPath();if(n>=F*2&&y>=F*2){P.moveTo(M+F,_);
P.lineTo(M+n-F,_);P.quadraticCurveTo(M+n,_,M+n,_+F);P.lineTo(M+n,_+y-F);P.quadraticCurveTo(M+n,_+y,M+n-F,_+y);
P.lineTo(M+F,_+y);P.quadraticCurveTo(M,_+y,M,_+y-F);P.lineTo(M,_+F);P.quadraticCurveTo(M,_,M+F,_)}P.closePath()}function b(M,_,f,n,y){P.strokeStyle=y?y:"black";
P.fillStyle=n;H(P,M+.5,_+.5,f-1,f-1,f*.2);P.fill();P.stroke()}var i=this.r7;if(i){P.beginPath();var M=x-f,T=Math.floor(f*.28),O=f-2*T;
P.lineWidth=1;P.strokeStyle="white";if(this.sq==0)eV.Ap(P,i.XO.eJ,this.Ow,f,f,M,M,!0);eV.Ap(P,i.XO.wm,this.Ow,f,f,0,0);
if(this.sq==1)eV.Ap(P,i.XO.eJ,this.Ow,f,f,M,M,!0);for(var I=0;I<3;I++){P.beginPath();eV.Ap(P,this.fb[I],this.Ow,z,z,I*(z+1),x+9,!1)}}else{b(x-f,x-f,f,C(this.Zk,this.CS));
b(0,0,f,C(this.Eg,this.CS))}var Y=x-f,U=Math.round(Y*k);b(x-U,Y-U,U,bn==0?"white":"black",S);b(x-Y,0,U,bn==0?"black":"white",S);
P.save();P.fillStyle=S;P.translate(0,x);P.rotate(-Math.PI/2);Y=x-f;var W=Math.round(Y*.28),t=Math.round(Y*.25);
for(var I=0;I<2;I++){P.fillRect(W,W,Y-W,1);P.beginPath();P.moveTo(Y-t,W+.5-t);P.lineTo(Y,W+.5);P.lineTo(Y-t,W+.5+t);
P.closePath();P.fill();P.transform(0,1,1,0,0,0)}P.restore()};eV.af8=function(o,P,w){var x=new bO(G.E.X,!0);
if(o.length==3)x.data={Q:G.l.y7,hq:"colorpicker",cz:e.Oq({$:o[0]*255,H:o[1]*255,b:o[2]*255}),oO:w};else x.data={Q:G.l.y7,hq:"vgradienteditor",P:o,oO:w};
P.j(x)};eV.Ap=function(o,P,w,x,z,S,k,f){function C(Y,U){return CSS.A9({$:Y[0]*255,H:Y[1]*255,b:Y[2]*255},U)}if(P==null){o.fillStyle="#888888";
o.clearRect(S,k,x,z);o.font=Math.round(z*.6*(f?.5:1))+"px sans-serif";o.fillStyle="white";if(f){o.fillText("?",S+x*.05,k+z*.3);
o.fillText("?",S+x*.8,k+z*.3);o.fillText("?",S+x*.05,k+z*.9);o.fillText("?",S+x*.8,k+z*.9)}else o.fillText("?",x*.36,z*.7)}else if(P.length==0){o.fillStyle="#ffffff";
o.fillRect(S,k,x,z);o.strokeStyle="#ff0000";o.lineWidth=2;o.moveTo(S,k);o.lineTo(S+x,k+z);o.moveTo(S,k+z);
o.lineTo(S+x,k);o.stroke()}else if(P.length==3){o.fillStyle=C(P);o.fillRect(S,k,x,z)}else if(P.length==4){var H=S+x/2,b=k+z/2,i=P[0]==0?o.createLinearGradient(S,k,S+x,k):o.createRadialGradient(H,b,0,H,b,x/2);
e.G.fS(i,P[1]);o.fillStyle=i;o.fillRect(S,k,x,z)}else if(P.length==2){var M=w.P7[P[0]];o.save();o.fillStyle="white";
o.fillRect(S,k,x,z);o.rect(S,k,x,z);o.scale(x/M.q,z/M._);o.fillStyle=M.$v;o.fill();o.restore()}o.lineWidth=1;
o.strokeStyle="white";o.strokeRect(S+.5,k+.5,x-1,z-1);if(f){var T=Math.floor(x*.28),O=x-2*T;o.clearRect(S+T,S+T,O,O);
o.strokeRect(S+T+.5,S+T+.5,O-1,O-1)}};function b1(o){cA.call(this,o,!1,"brushbutton nopadding",19*13,10*13,eB.Je,!0);
var P=this.afa;J.HT(P,"flexrow");var w=J.k("div");P.appendChild(w);var x=J.k("div");P.appendChild(x);
x.setAttribute("style","margin-left:8px");this.T4=new i7(null,null,!0);this.T4.J(G.E.w,this.m7,this);
w.appendChild(this.T4.Z);this.YT=new aT([12,14,0],1,1e3," px",0,!0);this.YT.J(G.E.w,this.m7,this);x.appendChild(this.YT.Z);
this.Ol=new aT([12,17],0,100,"%");this.Ol.J(G.E.w,this.m7,this);x.appendChild(this.Ol.Z);this.V3=new fs(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.V3.J(G.E.w,this.m7,this);x.appendChild(this.V3.Z)}b1.prototype=new cA;b1.prototype.va=function(){var o=["pencil","trees"];
for(var I=0;I<o.length;I++)o[I]="brushes/"+o[I]+".abr";return o};b1.prototype.O=function(o,P,w){this.Km=JSON.parse(JSON.stringify(o));
var x=Math.floor(20*J.M()),z=Math.floor(36*J.M()),S=Math.floor(24*J.M()),k=j2.Tu(o,P,w,x,S,z);this.Qs.setAttribute("src",k);
J.v5(this.Qs,z,S);var f=o.Brsh.v;this.YT.O(f.Dmtr.v.val);if(f.Hrdn!=null){this.Ol.p2();this.Ol.O(f.Hrdn.v.val)}else this.Ol.hR();
if(f.Angl!=null)this.T4.O([f.Angl.v.val]);if(f.Rndn!=null)this.T4.O([null,null,f.Rndn.v.val/100]);var C=[!1,!1];
if(o.opVr)C[0]=o.opVr.v.bVTy.v==2;if(o.szVr)C[1]=o.szVr.v.bVTy.v==2;this.V3.O(C)};b1.prototype.HP=function(){return{list:[{t:"Objc",v:this.m()}],MH:[],Nc:[]}};
b1.prototype.m=function(){return this.Km};b1.prototype.Uz=function(){if(!this.BL)return;var o=[],P=[],w=this.w8,x=Math.floor(33*J.M()),z=Math.floor(40*J.M());
for(var I=0;I<w.list.length;I++){var S=w.list[I].v,k=j2.Tu(S,w.MH,w.Nc,x,z);o.push(k);P.push(S.Nm.v)}this.W9.jW(o,P,x,z);
this.BL=!1};b1.prototype.nc=function(o){var P=this.w8;this.O(P.list[this.W9.m()[0]].v,P.MH,P.Nc);this.j(new bO(G.E.w))};
b1.prototype.S=function(){cA.prototype.S.call(this);this.T4.S();this.YT.S();this.Ol.S()};b1.prototype.m7=function(o){var P=this.w8,w=this.Km,x=w.Brsh.v;
x.Dmtr.v.val=this.YT.m();if(x.Hrdn!=null)x.Hrdn.v.val=this.Ol.m();if(x.Angl!=null)x.Angl.v.val=this.T4.m()[0];
if(x.Rndn!=null)x.Rndn.v.val=Math.round(this.T4.m()[2]*100);if(o.target==this.V3)bh.art(w,this.V3.m());
this.O(w,P.MH,P.Nc);this.j(new bO(G.E.w))};function dG(o){cA.call(this,o,!0,"contourbutton",17*13,10.5*13,eB.Z9)}dG.prototype=new cA;
dG.prototype.nc=function(o){this.O(this.w8[o.target.m()]);this.j(new bO(G.E.w))};dG.prototype.S7=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.y7,hq:"contoureditor",Si:this.Km,response:this.akU.bind(this)};this.j(P)};dG.prototype.akU=function(o){this.O(o);
this.j(new bO(G.E.w))};dG.prototype.Uz=function(){if(!this.BL)return;var o=Math.floor(38*J.M()),P=Math.floor(38*J.M()),w=[],x=[],z=this.w8;
for(var I=0;I<z.length;I++){x.push(z[I].Nm?z[I].Nm.v:"");w.push(e.Kh.Tu(z[I].Crv.v,o,P))}this.W9.jW(w,x,o,P);
this.BL=!1};dG.prototype.O=function(o){this.Km=JSON.parse(JSON.stringify(o));var P=this.Km.Crv.v;for(var I=0;
I<P.length;I++)if(P[I].v.Cnty==null)P[I].v.Cnty={t:"bool",v:!0};this.DR()};dG.prototype.DR=function(){var o=Math.floor(30*J.M()),P=Math.floor(30*J.M()),w=e.Kh.Tu(this.Km.Crv.v,o,P);
this.Qs.setAttribute("src",w);J.v5(this.Qs,o,P)};dG.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};
function df(o){kl.call(this);this.G$=null;this.r7=null;this.Hk=null;this.qP=null;this.asu=[];this.av7=[];
this.Z=J.k("span","fitem fillbutton");this.NK=new kl;this.NK.Z=J.k("div","floatcont form");this.NK.Z.setAttribute("style","width: 21em;");
this.NK.parent=this;this.if=o;this.pj=this.pj=J.k("label","flabel");this.Z.appendChild(this.pj);this.hj=J.k("canvas");
this.QA=this.hj.getContext("2d");this.a5O=null;this.Z.appendChild(this.hj);J.Dw(this.hj,this.zL.bind(this));
this.ko=new kp([12,66],["","Color","Grad","Patt"]);this.NK.Z.appendChild(this.ko.Z);this.ko.J(G.E.w,this.Xe,this);
this.NK.Z.appendChild(J.k("hr"));this.a8H=J.k("span");this.EM=new fN(!1);this.EM.parent=this.NK;this.EM.J(G.E.w,this.Xe,this);
this.bl=new dC(10);this.bl.J(G.E.w,this.Xe,this);this.eU=J.k("div","marged hiline");this.eU.appendChild(this.EM.Z);
J.jB(this.eU);this.eU.appendChild(this.bl.Z);this.bt=new j8("GrFl",!0);this.bt.parent=this.NK;this.bt.J(G.E.w,this.Xe,this);
this.ye=J.k("div","marged hiline");var P="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var I=0;
I<P.length;I++){var w=this.bt.us[P[I]].Z;this.ye.appendChild(w)}this.Fh=new j8("patternFill",!0);this.Fh.parent=this.NK;
this.Fh.J(G.E.w,this.Xe,this);this.ht=J.k("div","marged hiline");var P=["Ptrn","Angl","Scl","Algn","phase"];
for(var I=0;I<P.length;I++){var w=this.Fh.us[P[I]].Z;this.ht.appendChild(w)}}df.prototype=new kl;df.prototype.RU=function(o,P){var w=fi.aN(o,P);
if(w!=null)this.bl.O(w);if(P==eB.OK){this.asu=[];this.av7=[];if(this.G$)this.O(this.Hk,this.m(),this.G$)}this.r7=o;
this.bt.RU(o,P);this.Fh.RU(o,P)};df.prototype.S=function(){this.pj.textContent=kQ.get(this.if)+": ";
this.ko.S();this.EM.S();this.bt.S();this.Fh.S()};df.prototype.Xe=function(o){var P=o.currentTarget;if(P==this.ko){var w=this.ko.m(),x={Ya:w,v4:this.G$[w]};
if(w>0&&x.v4==null)x.v4=JSON.parse(JSON.stringify(iR.P_[w-1]));if(this.G$)this.O(this.Hk,x,this.G$)}if(P==this.bl)this.EM.bN(P.m());
this.j(new bO(G.E.w,!1))};df.prototype.zL=function(o){if(J.Ni(this.NK.Z))return;o.stopPropagation();
var P=this.hj.getBoundingClientRect(),w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4};
this.j(w)};df.prototype.O=function(o,P,w){this.G$=w;this.Hk=o;var x=[[13,1,0],[13,0],[12,37],[12,62]],z=this.asu,S=this.av7,k=!1,b;
for(var I=0;I<4;I++){var f={Ya:I,v4:w[I]},C=df.anI(f);if(S[I]==C)continue;k=!0;var H=df.a6K(null,f,this.r7,this.Hk,22,22,!1);
z[I]="<img width=\"22\" height=\"22\" src=\""+H+"\" />";S[I]=C}if(k)this.ko.Cp(z,x);this.ko.O(P.Ya);
var C=df.anI(P);if(C!=this.a5O)df.a6K(this.QA,P,this.r7,this.Hk,30,23,!0);this.a5O=C;var i=P.Ya;if(i==0){b=this.a8H}if(i==1){this.EM.O(P.v4.Clr.v);
b=this.eU}if(i==2){this.bt.update(o,P.v4);b=this.ye}if(i==3){this.Fh.update(o,P.v4);b=this.ht}if(b!=this.qP){if(this.qP!=null){this.NK.Z.removeChild(this.qP)}this.NK.Z.appendChild(b);
this.qP=b}};df.prototype.m=function(){var o={Ya:this.ko.m()};if(o.Ya==1){o.v4=JSON.parse(JSON.stringify(iR.P_[0]));
o.v4.Clr.v=this.EM.m()}if(o.Ya==2){o.v4=this.bt.m()}if(o.Ya==3){o.v4=this.Fh.m()}return o};df.anI=function(o){var P=o.Ya,w=o.v4,x="empty";
if(P==1){x=e.G.dQ(w.Clr.v);x=x.$+","+x.H+","+x.b}if(P==2)x=JSON.stringify(w.Grad.v);if(P==3)x=w.Ptrn.v.Idnt.v;
return x};df.a6K=function(o,P,w,x,z,S,k){if(o==null)o=df.QA;var f=Math.floor(z*J.M()),C=Math.floor(S*J.M()),H=o.canvas;
H.width=f;H.height=C;J.v5(H,f,C);df.a8X(o,P,w,x,f,C);if(k){o.beginPath();o.strokeStyle="#000000";o.fillStyle="#ffffff";
o.lineWidth=2;var b=f*.7,i=Math.floor(C*.7),M=7*J.M();o.moveTo(b,i);o.lineTo(b+M,i);o.lineTo(b+M/2,i+M/2);
o.closePath();o.stroke();o.fill()}if(o==df.QA)return H.toDataURL()};df.QA=J.k("canvas").getContext("2d");
df.a8X=function(o,P,w,x,z,S,k,f){if(k==null)k=0;if(f==null)f=0;var C=P.Ya;if(C==0){o.fillStyle="#ffffff";
o.fillRect(k,f,z,S);o.strokeStyle="#ff0000";o.lineWidth=2;o.moveTo(k,f);o.lineTo(k+z,f+S);o.moveTo(k,f+S);
o.lineTo(k+z,f);o.stroke()}if(C==1){var H=P.v4.Clr.v;H=e.G.dQ(H);o.fillStyle="#"+e.UM(H.$<<16|H.H<<8|H.b);
o.fillRect(k,f,z,S)}if(C==2){var b=N.BB.Tu(P.v4.Grad.v,z,S,0,w.AB,w.eI,!0);o.putImageData(b,k,f)}if(C==3){var i=P.v4.Ptrn.v,M;
if(x!=null)M=iO.HE(i,x.add.Patt);if(M==null)M=iO.HE(i,w.a2);fH.Tu(M,z,S,o.canvas)}};function fH(o){cA.call(this,o,!1,"patternbutton",18*13,10*13,eB.OK);
this.NO=null}fH.prototype=new cA;fH.prototype.nc=function(o){var P=this.w8[this.W9.m()];this.Km={classID:"Ptrn",Nm:{t:"TEXT",v:P.name},Idnt:{t:"TEXT",v:P.id}};
this.j(new bO(G.E.w));this.DR()};fH.prototype.Uz=function(){if(!this.BL)return;var o=this.w8,P=Math.floor(34*J.M()),w=Math.floor(34*J.M()),x=[],z=[];
for(var I=0;I<o.length;I++){x.push(fH.Tu(o[I],P,w));z.push(o[I].name)}this.W9.jW(x,z,P,w);this.BL=!1};
fH.prototype.O=function(o,P){if(this.Km&&o.Idnt.v==this.Km.Idnt.v)return;this.Km=JSON.parse(JSON.stringify(o));
this.DR(P)};fH.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};fH.prototype.HP=function(){return this.NO?[this.NO]:[]};
fH.prototype.DR=function(o){var P=Math.floor(50*J.M()),w=Math.floor(50*J.M()),x;if(o!=null)x=iO.HE(this.Km,o.add.Patt);
if(x==null)x=iO.HE(this.Km,this.w8);this.NO=x;var z=fH.Tu(x,P,w);this.Qs.setAttribute("src",z);J.v5(this.Qs,P,w)};
fH.hj=J.k("canvas","");fH.Tu=function(o,P,w,x){if(x==null)x=fH.hj;var z=x.getContext("2d");x.width=P;
x.height=w;if(o){var S=o.kR[1],k=S.q,f=S._,C=o.kR[0],H=Math.min(P/k,w/f),b=H;if(b*k<2)b=2/k;var i=H;
if(i*f<2)i=2/f;var M=N.DH.x$([C,S],new ar(b,0,0,i,0,0),b>2),T=M.rect.q,O=M.rect._,Y=z.createImageData(T,O);
e.L9(M.buffer,Y.data);z.putImageData(Y,Math.floor((P-T)/2),Math.floor((w-O)/2))}return x.toDataURL()};
function bB(o,P,w){if(P==null)P=24.2;if(w==null)w=17;cA.call(this,o,!1,"patternbutton",P*13,w*13,eB.HM);
this.KF=""}bB.prototype=new cA;bB.prototype.nc=function(o){this.Km=JSON.parse(JSON.stringify(this.w8[0][this.W9.m()[0]]));
this.j(new bO(G.E.w))};bB.prototype.Uz=function(){var o=this.w8;if(o==null||!this.BL)return;var P=Math.floor(50*J.M()),w=Math.floor(50*J.M()),x=[],z=[];
for(var I=0;I<o[0].length;I++){x.push(bB.Tu(this.w8[0][I].M6,P,w,this.w8[1]));z.push(o[0][I].hb.Nm.v.split("=").pop())}this.W9.jW(x,z,P,w);
this.BL=!1};bB.prototype.O=function(o,P,w,x){var z=JSON.stringify(o.M6)+","+w+","+x;if(this.KF!=z){this.KF=z;
this.Km=JSON.parse(JSON.stringify(o));this.DR(P,w,x)}};bB.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};
bB.prototype.DR=function(o,P,w){var x=Math.floor(68*J.M()),z=Math.floor(68*J.M()),S=bB.Tu(this.Km.M6,x,z,o?o:this.w8[1],P,w);
this.Qs.setAttribute("src",S);J.v5(this.Qs,x,z)};bB.Tu=function(o,P,w,x,z,S){var k=new da;k.q=P;k._=w;
k.buffer=e.U(P*w*4);k.add.Patt=x;k.Ro(z==null?90:z);k.Pv(S==null?30:S);var f=new fA(0,0,Math.round(P*.5),Math.round(w*.5));
f.x=Math.round((P-f.q)/2);f.y=Math.round((w-f._)/2);var C=k._L();C.rect=f;C.buffer=e.U(f.c()*4);e.ZT(C.buffer,4284045657);
iO.axO(o,C,.5*100);k.R.push(C);k.GO();k.N();var H=fj.Dx;fj.Dx=!1;k.cj();var b=k.Ey();fj.Dx=H;var i=eu.iK(b.buffer,k.q,k._);
return i};function c$(o){cA.call(this,null,!1,"tpresetbutton",18*13,24*13,eB.J4,!0);J.hC(this.Z,"fitem");
this.W9.lK(1);this.id=o;this.DR();this.Q.style.overflow="hidden";this.zs=new f5([15,7,9]);this.zs.O(!0);
this.zs.J(G.E.w,this.alr,this);this.oy.appendChild(this.zs.Z)}c$.prototype=new cA;c$.prototype.asc=function(o){if(this.id==o)return;
this.id=o;this.Rj(this.w8)};c$.prototype.nc=function(o){var P=this.w8[this.W9.m()],w=new bO(G.E.X,!0);
w.data={Q:G.l.CA,Cw:"set",JL:eB.J4,rc:P};this.j(w)};c$.prototype.S=function(){cA.prototype.S.call(this);
this.zs.S()};c$.prototype.alr=function(){this.BL=!0;this.Uz()};c$.prototype.Uz=function(){if(!this.BL)return;
var o=Math.floor(16*J.M()),P=Math.floor(16*J.M()),w=[],x=[],z=this.w8,S=this.zs.m();for(var I=0;I<z.length;
I++){var k=N.Q9[z[I][1].classID];if(!S||k==this.id){x.push(z[I][0]?z[I][0].split("=").pop():"");w.push(k==-1?"":PIMG[N.wj[k]])}else{w.push(null);
x.push(null)}}this.W9.jW(w,x,o,P);this.BL=!1};c$.prototype.DR=function(){var o=this.Qs;o.setAttribute("src",PIMG[N.wj[this.id]]);
J.HT(o,"toolicon")};c$.prototype.HP=function(){return null};c$.TN={};c$.Tu=function(o,P,w){var x=c$.QA,z=c$.TN,S=e.UM(o.$<<16|o.H<<8|o.b);
if(z[S])return z[S];if(x==null){var k=J.k("canvas");x=c$.QA=k.getContext("2d")}var k=x.canvas;k.width=P;
k.height=w;x.fillStyle="#"+S;x.fillRect(0,0,P,w);var f=z[S]=k.toDataURL();return f};function cI(o,P,w){kl.call(this);
this.Z=J.k("span","fitem curveeditor");this.Ep=null;this.ayo=0;this.Nb="";this.mode=0;this.jr=o;this.afx=P;
this.ag5=w;this.RX=null;this.GD=null;this.ars=0;this.a2L=0;this.yh=new eD;this.bA=this.zx.bind(this);
this.a3=this._e.bind(this);this.Y$=256;this.hj=J.k("canvas");this.QA=this.hj.getContext("2d");J.N_(this.hj);
this.Z.appendChild(this.hj);this.sH(256,256);J.Dw(this.hj,this.KI.bind(this));this.coords=J.k("div");
this.coords.setAttribute("style","width:250px");this.Z.appendChild(this.coords);var x=this.HI=w?100:255,z=null;
this.IA=new f6("X (in)",0,x,z,0,!1,!0);this.R4=new f6("Y (out)",0,x,z,0,!1,!0);this.dD=new f5([19,3,0]);
this.IA.J(G.E.w,this.ED,this);this.R4.J(G.E.w,this.ED,this);this.dD.J(G.E.w,this.ED,this);this.coords.appendChild(this.IA.Z);
if(w)this.coords.appendChild(this.dD.Z);this.coords.appendChild(this.R4.Z)}cI.prototype=new kl;cI.prototype.S=function(){this.dD.S();
this.IA.S();this.R4.S()};cI.prototype.sH=function(o,P){this.Y$=Math.round(o);this.QA.resetTransform();
J.Wy(this.hj,this.Y$,this.Y$,this.QA);this.QA.scale(this.Y$/256,this.Y$/256);if(this.RX)this.qs()};cI.prototype.ED=function(o){var I=this.aoD(),P=this.RX[I],w=255/this.HI;
P.v.Hrzn.v=this.IA.m()*w;P.v.Vrtc.v=this.R4.m()*w;if(this.ag5)P.v.Cnty.v=this.dD.m();this.RX.sort(function(x,z){return x.v.Hrzn.v-z.v.Hrzn.v});
this.qs();this.j(new bO(G.E.w))};cI.prototype.O=function(o,I){var P=JSON.stringify(o);if(P==JSON.stringify(this.RX))return;
this.mode=o.length==256?1:0;this.RX=JSON.parse(P);if(I!=null)this.GD=this.RX[I];this.qs()};cI.prototype.rB=function(o,P,w){this.Ep=o;
this.ayo=P;this.Nb=w;this.qs()};cI.prototype.m=function(){return JSON.parse(JSON.stringify(this.RX))};
cI.prototype.aoD=function(){return this.RX.indexOf(this.GD)};cI.prototype.KI=function(o){var P=256/this.Y$,w=J.YH(o,this.hj);
w.x*=P;w.y*=P;var x=w.x,z=256-w.y;if(this.jr){var S=x;x=256-z;z=S}this.yh.Mx(x,z);if(this.mode==0){var k=0,f=1e9,M;
for(var I=0;I<this.RX.length;I++){var C=this.RX[I].v,H=C.Hrzn.v-x,b=C.Vrtc.v-z,i=Math.sqrt(H*H+b*b);
if(i<f){f=i;k=I}}if(f<15)M=this.RX[k];else{M=e.Kh.ts(x,z,!0);this.RX.push(M);this.RX.sort(function(T,O){return T.v.Hrzn.v-O.v.Hrzn.v})}this.GD=M;
this.a2L=this.RX.slice(0)}J.Zw(document.body,this.bA);J.FV(document.body,this.a3);this.zx(o)};cI.prototype.zx=function(o){var P=256/this.Y$,w=J.YH(o,this.hj);
w.x*=P;w.y*=P;var x=w.x,z=256-w.y;if(this.jr){var S=x;x=256-z;z=S}if(this.mode==0){var k=this.RX,f=this.GD,C=this.a2L,H=C.indexOf(f),b=k.indexOf(f)!=-1,i=C.length-1,M=x;
if(H==0){M=Math.max(0,Math.min(C[1].v.Hrzn.v-1,x))}else if(H==i){M=Math.min(255,Math.max(C[i-1].v.Hrzn.v+1,x))}else{var T=x<0||x>255||z<0||z>255;
if(x<=C[H-1].v.Hrzn.v||x>=C[H+1].v.Hrzn.v)T=!0;if(!T&&!b)k.splice(H,0,f);if(T&&b)k.splice(H,1)}if(this.afx&&(H==0||H==C.length-1)){}else f.v.Hrzn.v=Math.round(M);
f.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(z)))}else{x=Math.round(x);z=Math.round(z);x=Math.max(0,Math.min(255,x));
z=Math.max(0,Math.min(255,z));var O=this.yh.x,Y=x,U=this.yh.y,W=z;if(x<this.yh.x){Y=O;O=x;W=U;U=z}this.RX[x]=z;
if(O!=Y)for(var t=O;t<=Y;t++)this.RX[t]=Math.round(U+(t-O)*(W-U)/(Y-O))}this.yh.Mx(x,z);this.qs();this.j(new bO(G.E.w))};
cI.prototype._e=function(o){J.ig(document.body,this.bA);J.qM(document.body,this.a3);this.j(new bO(G.E.w))};
cI.prototype.qs=function(){var o=this.QA,P=this.hj;o.fillStyle="#ffffff";o.fillRect(0,0,256,256);var w=256/P.width;
if(this.Ep){o.save();o.translate(0,256);o.scale(1,-1);kf.a3K(o,this.Ep,5700/this.ayo,this.Nb);o.restore()}o.strokeStyle="#aaaaaa";
o.lineWidth=1*w;o.beginPath();for(var I=1;I<4;I++){var x=(Math.floor(64*I/w)+.5)*w;o.moveTo(0,x);o.lineTo(255,x);
o.moveTo(x,0);o.lineTo(x,255)}o.stroke();if(this.jr){o.save();o.transform(0,1,-1,0,256,0)}if(this.mode==0){var z=this.RX,S=e.Kh.hM(z,256);
o.strokeStyle="#000000";o.beginPath();o.moveTo(0,255.5-S[0]);for(var I=0;I<256;I++)o.lineTo(I,255.5-S[I]);
o.stroke();o.lineWidth=2*w;for(var I=0;I<z.length;I++){var k=z[I].v;o.fillStyle=this.GD==z[I]?"#333":"#fff";
o.beginPath();o.moveTo(k.Hrzn.v,255.5-k.Vrtc.v);o.arc(k.Hrzn.v,255.5-k.Vrtc.v,5*w,0,2*Math.PI);o.stroke();
o.fill()}}else{var S=this.RX;o.strokeStyle="#000000";o.beginPath();o.moveTo(0,255.5-S[0]);for(var I=0;
I<256;I++)o.lineTo(I,255.5-S[I]);o.stroke()}if(this.jr)o.restore();var I=this.aoD();this.coords.className=I==-1?"disabled":"";
if(I==-1)return;var k=this.RX[I].v,f=255/this.HI;this.IA.O(Math.round(k.Hrzn.v/f));this.R4.O(Math.round(k.Vrtc.v/f));
if(k.Cnty)this.dD.O(k.Cnty.v)};function kf(o,P){kl.call(this);this.Z=J.k("span","");this.aV=new f7([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.aV.J(G.E.w,this.xW,this);this.Z.appendChild(this.aV.Z);J.jB(this.Z);var w=J.k("div");this.Z.appendChild(w);
w.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.hj=J.k("canvas");var x=this.hj;
w.appendChild(x);x.width=Math.round(o*J.M());x.height=Math.round(100*J.M());J.v5(x,x.width,x.height);
x.style.display="block";this.QA=x.getContext("2d");this.Ep=null;this.MO=0;this.aAL=null;this.ayA=[];
this.Dq=[];var z=["Mean:","Pixels:"],S=this.Z;if(P)for(var I=0;I<z.length;I++){var k=new jH(z[I]);this.ayA.push(k);
S.appendChild(k.Z);var f=new jH("hi");this.Dq.push(f);S.appendChild(f.Z);J.jB(S)}}kf.prototype=new kl;
kf.prototype.S=function(){this.aV.S()};kf.prototype.lK=function(o){this.aV.O(o);this.xW()};kf.prototype.O=function(o,P){this.Ep=o;
this.aAL=P;this.xW()};kf.prototype.bN=function(o){if(o==this.MO)return;this.MO=o;this.xW()};kf.prototype.xW=function(){if(this.Ep==null)return;
var o=this.hj,P=this.QA,w=this.Ep,x=this.aAL,z=this.aV.m(),S=6e3/w[4],k="#"+e.UM(this.MO),f=kf.a3K;o.width=o.width;
P.setTransform(o.width/256,0,0,-o.height/100,0,o.height);P.globalCompositeOperation="lighter";if(z==0)f(P,w[0],S/3,k);
else if(z<4)f(P,w[z],S,k);else{f(P,w[1],S,"#ff0000");f(P,w[2],S,"#00ff00");f(P,w[3],S,"#0000ff")}P.setTransform(1,0,0,1,0,0);
if(x!=null){if(z==4)z=0;var C=0;for(var I=0;I<256;I++)C+=I*w[z][I];if(z==0)C/=3;this.Dq[0].O((C/x).toFixed(1)+"");
this.Dq[1].O(x+"")}};kf.a3K=function(o,P,w,x){o.beginPath();o.moveTo(0,0);for(var z=0;z<256;z++)o.lineTo(z,P[z]*w);
o.lineTo(256,0);o.closePath();o.fillStyle=x;o.fill()};function d4(o,P){kl.call(this);this.mP={$:0,H:0,b:0};
if(Math.abs(o-256/J.M())<10)o=256/J.M();var w=this.Z=J.k("div","flexrow");w.style.position="relative";
var x=this.adc=J.k("div");w.appendChild(x);this.Fd=new eD;this.KL=new eD;this.UO=this.Lf.bind(this);
this.MS=this.ari.bind(this);this.hj=J.k("canvas","");this.QA=this.hj.getContext("2d");this.hj.width=this.hj.height=256;
this.aub=this.QA.getImageData(0,0,256,256);this.aij=-1;this.a5r="";this.bf=null;J.N_(this.hj);J.Dw(this.hj,this.aAX.bind(this));
x.appendChild(this.hj);this.asL=this.afJ.bind(this);this.abb=this.ats.bind(this);this.Il=J.k("canvas","");
this.Hs=this.Il.getContext("2d");this.Il.width=20;this.Il.height=256;this.abl=this.Hs.getImageData(0,0,20,256);
d4.at4(this.abl.data,20,256);J.N_(this.Il);J.Dw(this.Il,this.aj8.bind(this));w.appendChild(this.Il);
this.hj.setAttribute("style","width:"+o+"px; height:"+o+"px");this.Il.setAttribute("style","width:16px; height:"+o+"px");
this.Cf=new f5("Web Colors\u2001");this.Cf.J(G.E.w,this.update,this);this.Ic=new f5("CMYK gamut");this.Ic.J(G.E.w,this.update,this);
if(P){J.jB(x);x.appendChild(this.Cf.Z);x.appendChild(this.Ic.Z)}var z=this.Ll=document.createElementNS("http://www.w3.org/2000/svg","svg");
w.appendChild(z)}d4.prototype=new kl;d4.prototype.sH=function(o,P){this.hj.style.width=this.adc.style.width=o-16+"px"};
d4.prototype.O=function(o){if(this.Cf.m()){var P=JSON.parse(JSON.stringify(o));d4.o4(P);var w=this.m();
if(P.$==w.$&&P.H==w.H&&P.b==w.b)o=this.mP}this.mP=o;this.update()};d4.prototype.m=function(){var o=JSON.parse(JSON.stringify(this.mP));
if(this.Cf.m())d4.o4(o);return o};d4.prototype.update=function(){var o=this.mP,P=e.j1(o.$,o.H,o.b),f=18;
if(P.IN==0)P.zp=this.Fd.x/255;if(P.zp==0||P.IN==0)P.Y=(255-this.ha(this.KL.y))/255;if(P.IN!=0)this.Fd.x=P.zp*255;
this.Fd.y=(1-P.IN)*255;this.KL.y=(1-P.Y)*255;var w=this.aub,x=this.Cf.m(),z=this.Ic.m(),S=x+","+z;if(Math.abs(P.Y-this.aij)>.002||this.a5r!=S){this.a2E(w.data,256,256,P.Y,x,z);
this.avJ();this.aij=P.Y;this.a5r=S}var k=this.QA;k.putImageData(w,0,0);w=this.abl;k=this.Hs;k.putImageData(w,0,0);
k.strokeStyle="#ffffff";k.beginPath();k.moveTo(0,this.KL.y);k.lineTo(20,this.KL.y);k.lineWidth=2;k.stroke();
var C=this.Fd.y/255,H=parseFloat(this.hj.style.width),b=parseFloat(this.hj.style.height),i=this.Ll;i.setAttribute("width",f);
i.setAttribute("height",f);var M=Math.round(o.$*255)<<16|Math.round(o.H*255)<<8|Math.round(o.b*255),T="<circle cx=\""+f/2+"\" cy=\""+f/2+"\" r=\""+f/2+"\" fill=\"#"+e.UM(M)+"\"></circle>";
T+="<circle cx=\""+f/2+"\" cy=\""+f/2+"\" r=\""+(-.5+f/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*C)+")\" stroke-width=\"1\"></circle>";
T+="<circle cx=\""+f/2+"\" cy=\""+f/2+"\" r=\""+(-1.2+f/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
i.innerHTML=T;i.style.pointerEvents="none";i.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
i.style.position="absolute";i.style.left=H*(this.Fd.x/255)-f/2+"px";i.style.top=b*(this.Fd.y/255)-f/2+"px"};
d4.o4=function(o){o.$=~~(.5+o.$*5)*.2;o.H=~~(.5+o.H*5)*.2;o.b=~~(.5+o.b*5)*.2};d4.prototype.a2E=function(o,P,w,x,z,S){var k=1/P,f=1/w;
for(var C=0;C<w;C++)for(var H=0;H<P;H++){var b=e.MR(x,H*k,(w-C-1)*f);if(z)d4.o4(b);var I=C*P+H<<2;o[I+0]=~~(b.$*255);
o[I+1]=~~(b.H*255);o[I+2]=~~(b.b*255);o[I+3]=255}if(S){var i=o.slice(0),M=e.SA("rgbToRgbC"),T=M[2],O=M[3];
ICC.U.applyLUT(O,T,i,i);this.bf=e.U(P*w);for(var I=0;I<o.length;I+=4){var Y=o[I]-i[I],U=o[I+1]-i[I+1],W=o[I+2]-i[I+2],t=Y*Y+U*U+W*W;
if(t>300){o[I]=o[I+1]=o[I+2]=200;this.bf[I>>>2]=255}}}};d4.at4=function(o,P,w,x,z){if(x==null)x=1;if(z==null)z=0;
var S=new Uint32Array(o.buffer);for(var k=0;k<w;k++){var f=e.MR((1+x*(1-k/w)+z)%1,1,1),C=255<<24|f.b*255<<16|f.H*255<<8|f.$*255;
for(var H=0;H<P;H++)S[k*P+H]=C}};d4.prototype.aAX=function(o){J.Zw(window,this.UO);J.FV(window,this.MS);
this.Lf(o);this.Ll.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Ll.style.transform="scale(2.4)"};
d4.prototype.ari=function(o){J.ig(window,this.UO);J.qM(window,this.MS);this.Ll.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Ll.style.transform="scale(1)"};d4.prototype.Lf=function(o){var P=J.YH(o,this.hj);P.x=P.x*(256/parseFloat(this.hj.style.width));
P.y=P.y*(256/parseFloat(this.hj.style.height));this.Fd.Mx(this.ha(P.x),this.ha(P.y));this.avJ();this.pF()};
d4.prototype.avJ=function(){if(!this.Ic.m())return;var o=this.Fd,P=0,w=0,x=1e9;for(var z=0;z<256;z++){for(var S=0;
S<256;S++){if(this.bf[z*256+S]==255)continue;var k=S-o.x,f=z-o.y,C=k*k+f*f;if(C<x){P=S;w=z;x=C}}}o.x=P;
o.y=w};d4.prototype.pF=function(){this.mP=this.awV();this.j(new bO(G.E.w))};d4.prototype.awV=function(){var o=e.MR((255-this.ha(this.KL.y))/255,this.fe(this.Fd.x/255),this.fe(1-this.Fd.y/255));
return{$:o.$,H:o.H,b:o.b}};d4.prototype.aj8=function(o){J.Zw(window,this.asL);J.FV(window,this.abb);
this.afJ(o)};d4.prototype.ats=function(o){J.ig(window,this.asL);J.qM(window,this.abb)};d4.prototype.afJ=function(o){var P=J.YH(o,this.Il);
P.y=P.y*(256/parseFloat(this.Il.style.height));this.KL.Mx(this.ha(P.x),this.ha(P.y));this.pF()};d4.prototype.ha=function(o){return Math.max(0,Math.min(255,o))};
d4.prototype.fe=function(o){return Math.max(0,Math.min(1,o))};function ae(o,P,w,x){var z=kp.d4(P,x);
kp.call(this,o,z,w)}ae.prototype=new kp;function hZ(){kl.call(this);this.T_=null;this.Ln=new d7;this.Ln.J(G.E.w,this.ado,this);
this.Ln.parent=this;this.i5=new f6([12,14,0],1,150,"px",2,!0);this.i5.J(G.E.w,this.o1,this);this.i5.parent=this;
this.xQ=new f6([16,0],.01,100,"px",2,!0,null,5);this.xQ.J(G.E.w,this.o1,this);this.xQ.parent=this;this.E1=new f5("Auto");
this.E1.J(G.E.w,this.o1,this);this.jq=new f6([16,1],-500,5e3,"%",0,!0);this.jq.J(G.E.w,this.o1,this);
this.jq.parent=this;this.ok=new f6("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.ok.J(G.E.w,this.o1,this);
this.ok.parent=this;this.Lp=new f6("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Lp.J(G.E.w,this.o1,this);
this.Lp.parent=this;this.Q8=new f6([16,2],-10,10,"px");this.Q8.J(G.E.w,this.o1,this);this.Q8.parent=this;
this.gn=new fN(!0);this.gn.J(G.E.w,this.x4,this);this.gn.parent=this;this.Dg=new fN(!0);this.Dg.J(G.E.w,this.x4,this);
this.Dg.parent=this;this.ZS=new fN(!0);this.ZS.J(G.E.w,this.x4,this);this.ZS.parent=this;this.RT=new fN(!0);
this.RT.J(G.E.w,this.x4,this);this.RT.parent=this;this.J2=new f5([2,3]);this.J2.J(G.E.w,this.o1,this);
this.py=new f5([14,9]);this.py.J(G.E.w,this.o1,this);this.TF=new f5([12,46]);this.TF.J(G.E.w,this.o1,this);
this.x9=new by(!0,!0);this.x9.J(G.E.w,this.o1,this);this.oT=new eN("...",null,null,!0);this.oT.Z.style.marginLeft="-8px";
J.Dw(this.oT.Z,this.axT.bind(this));this.NK=new kl;var o=this.NK.Z=J.k("div","floatcont form"),k=100;
this.NK.parent=this;this.x9.parent=this.NK;this.mY=new f6([12,41],1,20,"px",0,!0,!0);this.mY.Z.style.marginLeft="16px";
this.mY.J(G.E.w,this.o1,this);this.mY.parent=this.NK;o.appendChild(this.Dg.Z);o.appendChild(this.J2.Z);
J.jB(o);o.appendChild(this.ZS.Z);o.appendChild(this.py.Z);J.jB(o);o.appendChild(this.mY.Z);o.appendChild(this.x9.Z);
J.jB(o);o.appendChild(this.RT.Z);o.appendChild(this.TF.Z);this.D0=new eN("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.ud=new eN("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this._c=new eN("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.fk=new eN("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.Vt=new eN("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.LN=new eN("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.f5=new eN("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.v0=new eN("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var P=[this.D0,this.ud,this._c,this.fk,this.Vt,this.LN,this.f5,this.v0];for(var I=0;I<P.length;I++)P[I].J("click",this.acA,this);
var w="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.cE=[];for(var I=0;
I<8;I++){var x=new eN("<img src=\""+PIMG["lig/"+w[I]]+"\" class=\"autoscale gsicon\" />",!1,fe.ab0[I]);
x.J("click",this.acA,this);this.cE.push(x)}this.v6=new eN("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.S0=new eN("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.G0=new eN("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a46=new eN("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ato=new eN("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a7m=new eN("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aiP=new eN("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.n8=[this.v6,this.S0,this.G0,this.a46,this.ato,this.a7m,this.aiP];for(var I=0;I<this.n8.length;I++)this.n8[I].J("click",this.o1,this);
var z=["lind","rind","flind","bind","aind"],S=[];for(var I=0;I<5;I++)S.push("<img src=\""+PIMG["par/"+z[I]]+"\" class=\"autoscale gsicon\" /> ");
this.C6=new f6(S[0],-k,k,"px");this.i$=new f6(S[1],-k,k,"px");this.ak=new f6(S[2],-k,k,"px");this.SI=new f6(S[3],-k,k,"px");
this.eX=new f6(S[4],-k,k,"px");this.SC=new kp([12,33],["Abc ...","... أي بي"]);this.lf=new f6(["Auto VAR0",[16,0]],0,500,"%");
this.c_=[this.C6,this.i$,this.ak,this.SI,this.eX,this.SC,this.lf];for(var I=0;I<this.c_.length;I++){var f=this.c_[I];
f.J(G.E.w,this.o1,this);f.parent=this}}hZ.prototype=new kl;hZ.prototype.axT=function(o){if(J.Ni(this.NK.Z))return;
o.stopPropagation();var P=this.oT.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4};
this.j(w)};hZ.prototype.S=function(){this.Ln.S();this.i5.S();this.xQ.S();this.jq.S();this.Q8.S();this.ok.S();
this.Lp.S();this.J2.S();this.py.S();this.TF.S();this.mY.S();this.x9.S();for(var I=0;I<this.c_.length;
I++)this.c_[I].S()};hZ.prototype.O=function(o,P,w){this.xp=JSON.parse(JSON.stringify(o));var x=this.xp,z=x.OR,S=x.bp;
this.D0.O(z.FauxBold!=null?z.FauxBold:!1);this.ud.O(z.FauxItalic!=null?z.FauxItalic:!1);this._c.O(z.FontCaps==2);
this.fk.O(z.FontCaps==1);this.Vt.O(z.FontBaseline==1);this.LN.O(z.FontBaseline==2);this.f5.O(z.Underline);
this.v0.O(z.Strikethrough);var k={};if(z.Font!=null){var f=P.M2(x.Dm[z.Font].Name);if(f)k=f.GSUB;if(k==null)k={}}for(var I=0;
I<8;I++){this.cE[I].hk(k[fe.atA[I]]);this.cE[I].O(z[fe.cE[I]])}this.Ln.O(z.Font==null?null:x.Dm[z.Font].Name,P,w);
var C=z.FontSize==null?20:z.FontSize;this.i5.O(C);var H=z.Tracking;this.jq.O(H==null?0:H);this.mY.O(z.OutlineWidth!=null?z.OutlineWidth:1);
this.x9.O(iR.XO.aqp(z));this.xQ.O(z.Leading!=null&&z.Leading!=0?z.Leading:C);this.E1.O(z.AutoLeading);
this.ok.O((z.VerticalScale!=null?z.VerticalScale:0)*100);this.Lp.O((z.HorizontalScale!=null?z.HorizontalScale:0)*100);
this.Q8.O(z.BaselineShift!=null?z.BaselineShift:0);this.J2.O(z.FillFlag!=null?z.FillFlag:!1);this.py.O(z.StrokeFlag!=null?z.StrokeFlag:!1);
this.TF.O(z._FillBackgroundFlag!=null?z._FillBackgroundFlag:!1);this.Iy(z.FillColor,this.gn);this.Iy(z.FillColor,this.Dg);
this.Iy(z.StrokeColor,this.ZS);this.Iy(z._FillBackgroundColor,this.RT);var b=S._Direction!=null?S._Direction:0,i=fe.R_(S);
for(var I=0;I<this.n8.length;I++)this.n8[I].O(i==I);this.SC.O(b);this.lf.O((S.AutoLeading!=null?S.AutoLeading:1.2)*100);
this.C6.O(S.StartIndent!=null?S.StartIndent:0);this.i$.O(S.EndIndent!=null?S.EndIndent:0);this.ak.O(S.FirstLineIndent!=null?S.FirstLineIndent:0);
this.SI.O(S.SpaceBefore!=null?S.SpaceBefore:0);this.eX.O(S.SpaceAfter!=null?S.SpaceAfter:0)};hZ.prototype.Iy=function(o,P){if(o){var w=fe.dQ(o);
P.bN(Math.round(w.$)<<16|Math.round(w.H)<<8|Math.round(w.b))}else P.bN(0)};hZ.prototype.CR=function(){var o=new bO(G.E.X,!0);
o.data={Q:G.l.CA,JL:eB.Q7,xp:this.xp};this.j(o);var o=new bO(G.E.z,!0);o.I=N.cR;o.data={Q:"updateStyles"};
this.j(o)};hZ.prototype.acA=function(o){var P=this.xp.OR,w=o.target,x=!w.r8(),z=this.cE.indexOf(w);if(z!=-1){P[fe.cE[z]]=x}else{if(w==this.D0)P.FauxBold=x;
if(w==this.ud)P.FauxItalic=x;if(w==this._c)P.FontCaps=x?2:0;if(w==this.fk)P.FontCaps=x?1:0;if(w==this.Vt)P.FontBaseline=x?1:0;
if(w==this.LN)P.FontBaseline=x?2:0;if(w==this.f5)P.Underline=x;if(w==this.v0)P.Strikethrough=x}this.CR()};
hZ.prototype.o1=function(o){var P=this.xp.OR,w=this.xp.bp,x=o.target;if(x==this.x9){iR.XO.aCZ(x.m(),P)}if(x==this.jq){var z=this.jq.m();
P.Tracking=z}if(x==this.xQ){P.AutoLeading=!1;P.Leading=this.xQ.m()}if(x==this.E1){P.AutoLeading=this.E1.m()}if(x==this.mY)P.OutlineWidth=x.m();
if(x==this.i5)P.FontSize=x.m();if(x==this.ok)P.VerticalScale=x.m()/100;if(x==this.Lp)P.HorizontalScale=x.m()/100;
if(x==this.Q8)P.BaselineShift=x.m();if(x==this.J2)P.FillFlag=x.m();if(x==this.py)P.StrokeFlag=x.m();
if(x==this.TF)P._FillBackgroundFlag=x.m();if(this.n8.indexOf(x)!=-1){w.Justification=fe.R_(w,this.n8.indexOf(x))}if(x==this.C6)w.StartIndent=x.m();
if(x==this.i$)w.EndIndent=x.m();if(x==this.ak)w.FirstLineIndent=x.m();if(x==this.SI)w.SpaceBefore=x.m();
if(x==this.eX)w.SpaceAfter=x.m();if(x==this.SC)w._Direction=x.m();if(x==this.lf)w.AutoLeading=x.m()/100;
this.CR()};hZ.prototype.ado=function(o){var P=this.xp,w=this.Ln.m(),x=-1;for(var I=0;I<P.Dm.length;I++)if(P.Dm[I].Name==w)x=I;
if(x==-1){x=P.Dm.length;var z=JSON.parse(JSON.stringify(P.Dm[0]));z.Name=w;P.Dm.splice(x,0,z)}P.OR.Font=x;
this.CR()};hZ.prototype.x4=function(o){var P=o.target,w=P.gV(),x={Type:1,Values:[1,(w>>16&255)/255,(w>>8&255)/255,(w>>0&255)/255]};
for(var I=0;I<4;I++)x.Values[I]=Math.round(x.Values[I]*1e3)/1e3;var z=P==this.gn||P==this.Dg?0:P==this.ZS?1:2;
this.xp.OR[["FillColor","StrokeColor","_FillBackgroundColor"][z]]=x;this.CR()};function d7(){kl.call(this);
this.Z=J.k("span","fontinput");this.EQ=null;this.fm=null;this.Go=null;this.Vg="";this.r9={};this.CX=[];
this.b_={};this.aDk={};this.gK=[];this.s3=!1;this.tg=J.k("button","fitem");this.tg.setAttribute("style","width:9em;");
this.tg.textContent="Family Name \u25BC";this.Z.appendChild(this.tg);J.Dw(this.tg,this.aau.bind(this));
this.HU=new kl;this.HU.parent=this;var o=this.HU.Z=J.k("div","floatcont");o.style.padding="7px 7px 3px 7px";
var P=new jH("Recent");o.appendChild(P.Z);var w=this.aym=new eN([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
w.J("click",this.aos,this);w.Z.style.float="right";o.appendChild(w.Z);var x=this.un=new f5("Local Fonts");
x.J(G.E.w,this.apU,this);x.Z.style.float="right";x.Z.style.marginRight="10px";x.Z.style.marginTop="3px";
o.appendChild(x.Z);J.jB(o);this.kB=J.k("span","fitem imageset scrollable");this.kB.style.maxHeight="8em";
o.appendChild(this.kB);var z=J.k("div","form");this.HU.Z.appendChild(z);this.yl=new eN(J._D("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.yl.J("click",this.aew,this);z.appendChild(this.yl.Z);this.MQ=new iU([12,86],null,7.5);this.MQ.J("input",this.ir,this);
z.appendChild(this.MQ.Z);this.KK=new j9(10,"\u2630");z.appendChild(this.KK.Z);this.KK.parent=this.HU;
this.KK.J(G.E.w,this.SE,this);this.KK.Z.style.float="right";this.KK.Z.style.marginRight="0";this.JB=J.k("span","fitem imageset scrollable");
this.JB.style.height="30em";this.HU.Z.appendChild(this.JB);this.JB.addEventListener("scroll",this.apw.bind(this),!1);
this.Gw=J.k("button","fitem");this.Gw.setAttribute("style","width:7em;");this.Gw.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.Gw);J.Dw(this.Gw,this.aau.bind(this));this.W3=new kl;this.W3.parent=this;this.W3.Z=J.k("div","floatcont");
this.O8=J.k("span","fitem imageset scrollable");this.W3.Z.appendChild(this.O8);this.a2m=this.axE.bind(this);
this.aDu=this.atN.bind(this)}d7.prototype=new kl;d7.prototype.apU=function(o){bF.YO.hk(o.target.m(),function(){this.O();
this.SE()}.bind(this),function(){this.un.O(!1)}.bind(this));this.SE()};d7.prototype.apw=function(o){var P=this.JB.scrollTop,w=this.CX,x=Math.floor(P/27),z=Math.min(x+20,w.length);
for(var I=x;I<z;I++)this.azc(w[I])};d7.prototype.aos=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.Ul};
this.j(o)};d7.prototype.S=function(){this.KK.S();this.aym.S();this.un.O(bF.YO.r8());this.yl.ld(J._D("tools/cshape",null,"autoscale"))};
d7.prototype.aew=function(o){this.yl.O(!this.yl.r8());this.SE()};d7.prototype.ir=function(o){this.Vg=this.MQ.m().toLowerCase();
this.SE()};d7.prototype.aau=function(o){J._1(o);var P=o.currentTarget,w=P.getBoundingClientRect(),x=P==this.tg,z=x?this.HU:this.W3;
if(J.Ni(z.Z)){this.a5x(z);return}if(!x&&this.EQ.tv()[this.Go]==null)return;var S=new bO(G.E.X,!0);S.data={Q:G.l.tZ,NP:z,x:w.left,y:w.top+w.height};
this.j(S);if(x){this.SE(null,!0)}};d7.prototype.axE=function(o){var P=o.currentTarget.firstChild.nextSibling.textContent;
if(o.target.tagName.toLowerCase()=="button"){var w=this.fm.slice(0),x=w.indexOf(P);if(x==-1){w=w.slice(Math.max(0,w.length-29));
w.push(P)}else w.splice(x,1);var z=new bO(G.E.X,!0);z.data={Q:G.l.CA,JL:eB.MI,OL:w};this.j(z);this.s3=!0;
this.SE()}else{this.a6P(P,null)}};d7.prototype.atN=function(o){this.a6P(null,o.currentTarget.firstChild.textContent)};
d7.prototype.a6P=function(o,P){var w=o==null?this.W3:this.HU,x=this.EQ;if(o==null)o=x.tv()[this.Go][0];
else{var z=x.dY(o),S=x.tv()[this.Go];P=bF.TP(z,S?S[1]:"regular")}var k=x.b9(o,P)[2];this.O(k,x);this.j(new bO(G.E.w,!1));
this.a5x(w);this.SE()};d7.prototype.a5x=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.pP,NP:o};this.j(P)};
d7.prototype.m=function(){return this.Go};d7.prototype.O=function(o,P,w){var x=this.EQ;if(o!=null)this.Go=o;
else o=this.Go;if(P)this.EQ=P;else P=this.EQ;if(w)this.fm=w;else w=this.fm;if(o!=null){var z=P.tv()[o],S,k;
if(z==null){S="- "+o;k="-------"}else{S=z[0];k=z[1];var f=this.gK;for(var I=0;I<f.length;I++)if(f[I][0][0]==S)f.splice(I,1);
f.push([z,Date.now()]);f.sort(function(i,M){return M[1]-i[1]});f=f.slice(0,10);J.eg(this.kB);for(var I=1;
I<f.length;I++){var C=f[I][0],H=this.cp(C,!0);this.K3(H,C,!0);this.kB.appendChild(H)}var b=P.dY(S);b.sort(bF.a4j);
this.O8.textContent="";for(var I=0;I<b.length;I++){var z=P.b9(S,b[I]);if(!this.KK.Qt(z))continue;var H=this.cp(z,!1);
this.O8.appendChild(H)}}this.tg.textContent=S.substring(0,15)+" \u25BC";this.tg.setAttribute("title",S+", \""+o+"\"");
this.Gw.textContent=k.substring(0,10)+" \u25BC";this.Gw.setAttribute("title",k)}};d7.prototype.SE=function(o,P){var w=this.EQ.tv()[this.Go],x=this.fm,z=this.EQ.ab9();
this.CX=[];var S=this.un.m();for(var k in z){var f=x.indexOf(k)!=-1,C=this.EQ.dY(k),H=!1;for(var I=0;
I<C.length;I++){var b=this.EQ.b9(k,C[I]),i=!0;if(this.Vg.length>0&&b[0].toLowerCase().indexOf(this.Vg)==-1)i=!1;
else if(!this.KK.Qt(b))i=!1;else if(this.yl.r8()&&!f)i=!1;else if(b[5]=="--loc"&&!S)i=!1;if(i)H=!0}var M=this.r9[k];
if(M==null){var T=bF.TP(z[k],"regular"),O=this.EQ.b9(k,T),M=this.cp(O,!0);this.r9[k]=M;this.JB.appendChild(M);
this.b_[k]="[true,false,false]"}if(H)this.CX.push(k);var Y=w!=null&&w[0]==k;this.aDk[k]="["+H+","+Y+","+f+"]";
if(!P)this.azc(k)}if(w&&!this.s3){var U=this.r9[w[0]];this.JB.scrollTop=U.offsetTop-210}this.apw();this.s3=!1};
d7.prototype.azc=function(o){var P=this.r9[o];if(P.firstChild==null){var w=this.EQ.ab9(),x=bF.TP(w[o],"regular"),z=this.EQ.b9(o,x);
this.K3(P,z,!0)}var S=this.b_[o],k=this.aDk[o];if(S==k)return;var f=JSON.parse(S),C=JSON.parse(k);if(f[0]!=C[0]||f[1]!=C[1]){var H=C[0]?"":"display:none; ";
if(C[1])H+="background-color:rgba(0,0,0,0.13);";P.setAttribute("style",H)}if(f[2]!=C[2])P.firstChild.setAttribute("style","opacity: "+(C[2]?"1":"0.2"));
this.b_[o]=k};d7.prototype.cp=function(o,P){var w=J.k("div","fontitem");if(!P)this.K3(w,o,P);return w};
d7.prototype.K3=function(o,P,w){var x=P[w?0:1],z=w?this.a2m:this.aDu,C="";o.addEventListener("click",z,!1);
if(w)o.appendChild(J.k("button","star"));var S=J.k("span","label");S.setAttribute("title",x);S.textContent=x;
o.appendChild(S);var k=J.M(),f=1/k,H=bF.ra*f,b=bF.r2*f;if(1<k&&k<1.5)C="width:"+H+"px; height:"+b+"px;";
var i=J.k("span","thumb gsicon");if(P.A5){C+="background: url("+P.A5+");";if(1<k&&k<1.5)C+="background-size: "+H+"px "+b+"px;"}else{var M=Math.ceil(FNTS.list.length/bF.cols),T=Math.floor(P.BG/bF.cols),O=P.BG-T*bF.cols,Y=O*bF.ra,U=T*bF.r2;
if(1<k&&k<1.5){C+="background-size: "+bF.cols*H+"px "+M*b+"px;";Y*=f;U*=f}C+="background-position:-"+Y+"px -"+U+"px;"}i.setAttribute("style",C);
o.appendChild(i)};function j9(o,P){kl.call(this);this.Z=J.k("button","fitem bbtn");this.Z.addEventListener("click",this.VL.bind(this),!1);
this.NK=new kl;this.NK.Z=J.k("div","floatcont");this.NK.parent=this;this.FQ=J.k("div","flexrow");this.NK.Z.appendChild(this.FQ);
this.Y_=P;this.W4=[];this.Hq=[];var w=this.FQ,x=J.k("div",""),z=J.k("div","");w.appendChild(x);w.appendChild(z);
this.Gs=[];for(var I=0;I<FNTS.cats.length;I++)this.Gs.push({name:FNTS.cats[I],index:I,Hr:0});this.z4=new f5([7,0]);
this.z4.O(!0);this.z4.J(G.E.w,this.a3f,this);x.appendChild(this.z4.Z);this.Sx=J.k("div","vlist marged scrollable");
this.Sx.setAttribute("style","width:10.3em; height:"+o+"em; ");x.appendChild(this.Sx);this.GA=[];for(var I=0;
I<this.Gs.length;I++){var S=this.Gs[I],k=new f5(S.name);this.GA.push(k);k.J(G.E.w,this.agJ,this);k.O(!0);
this.Sx.appendChild(k.Z);this.W4.push(1)}this.axU=new f5([7,0]);this.axU.J(G.E.w,this.axp,this);this.IP=J.k("div","vlist marged scrollable");
this.IP.setAttribute("style","width:8.6em; height:"+(o+1.5)+"em; ");z.appendChild(this.IP);this.eH=[];
for(var I=0;I<FNTS.subsetNames.length;I++){var k=new f5(FNTS.subsetNames[I]);this.eH.push(k);k.J(G.E.w,this.a7n,this);
k.O(!1);this.IP.appendChild(k.Z);this.Hq.push(k.m()?1:0)}}j9.prototype=new kl;j9.prototype.aBB=function(o){var P=this.eH;
for(var I=0;I<P.length;I++){var w=(o>>>I&1)==1;this.Hq[I]=w;P[I].O(w)}};j9.prototype.ay8=function(){return this.FQ};
j9.prototype.S=function(){this.Z.textContent=this.Y_?this.Y_:kQ.get([25,1,0])+" \u25BC";this.z4.S();
this.axU.S()};j9.prototype.VL=function(o){var P=this.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height,wV:!0};
this.j(w)};j9.prototype.Qt=function(o){if(this.W4[o[4]]==0)return!1;else for(var P=0;P<this.Hq.length;
P++)if(this.Hq[P]==1&&(o[3]>>>P&1)==0)return!1;return!0};j9.prototype.a3f=function(o){var P=o.target.m(),w=this.GA,x=this.W4;
for(var I=0;I<w.length;I++){w[I].O(P);x[I]=P?1:0}this.j(new bO(G.E.w,!1))};j9.prototype.axp=function(o){var P=o.target.m(),w=this.eH,x=this.Hq;
for(var I=0;I<w.length;I++){w[I].O(P);x[I]=P?1:0}this.j(new bO(G.E.w,!1))};j9.prototype.agJ=function(o){var I=this.GA.indexOf(o.target),P=this.Gs[I].index;
this.W4[P]=1-this.W4[P];this.j(new bO(G.E.w,!1));this.aDg(this.GA,this.z4)};j9.prototype.a7n=function(o){var I=this.eH.indexOf(o.target);
this.Hq[I]=1-this.Hq[I];this.j(new bO(G.E.w,!1))};j9.prototype.aDg=function(o,P){var w=!0;for(var I=0;
I<o.length;I++)w=w&&o[I].m();P.O(w)};function jU(o,P,w){cA.call(this,P,!0,"gradientbutton",18*13,10*13,eB.wr);
this.AB=-1;this.eI=-1;this.a6A=null;this.au5=o;this.yB=w}jU.prototype=new cA;jU.prototype.nc=function(o){var P=this.w8;
this.O(P[this.W9.m()]);this.j(new bO(G.E.w))};jU.prototype.S7=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.y7,hq:"gradienteditor",G:this.Km,oO:this.a7y.bind(this),wG:this.yB};
this.j(P)};jU.prototype.a7y=function(o){this.O(o);this.j(new bO(G.E.w))};jU.prototype.Uz=function(){if(!this.BL)return;
var o=Math.floor(36*J.M()),P=Math.floor(36*J.M()),w=[],x=[],z=this.w8,S=Date.now();for(var I=0;I<z.length;
I++){var k=z[I];x.push(k.Nm?k.Nm.v:"");var f=N.BB.Tu(k,o,P,Math.PI/4,this.AB,this.eI);w.push(f)}this.W9.jW(w,x,o,P);
this.BL=!1};jU.prototype.Q6=function(o,P){this.aH8(this.Km,o,P)};jU.prototype.O=function(o){this.aH8(o,this.AB,this.eI)};
jU.prototype.aH8=function(o,P,w){this.AB=P;this.eI=w;if(o==null)return;var x=JSON.stringify(o),z=x+P+","+w;
if(z==this.a6A)return;this.a6A=z;this.Km=JSON.parse(x);var S=Math.floor(80*J.M()),k=Math.floor(16*J.M()),f=N.BB.Tu(this.Km,S,k,0,this.AB,this.eI);
this.Qs.setAttribute("src",f);J.v5(this.Qs,S,k)};jU.prototype.m=function(){var o;if(this.au5)o=N.BB.ab6(this.Km,this.AB,this.eI);
else o=JSON.parse(JSON.stringify(this.Km));return o};function eL(o){cA.call(this,o,!1,"swatchbutton",16*13,8.75*13,eB.cS)}eL.prototype=new cA;
eL.prototype.nc=function(o){this.O(this.w8[o.target.m()]);this.j(new bO(G.E.w))};eL.prototype.Uz=function(){if(!this.BL)return;
var o=Date.now(),P=Math.floor(22*J.M()),w=Math.floor(22*J.M()),x=[],z=[],S=this.w8;for(var I=0;I<S.length;
I++){z.push(S[I].MU?S[I].MU.split("=").pop():"");x.push(eL.Tu(S[I],P,w))}this.W9.jW(x,z,P,w);this.BL=!1};
eL.prototype.O=function(o){this.Km=JSON.parse(JSON.stringify(o));this.DR()};eL.prototype.DR=function(){var o=Math.floor(24*J.M()),P=Math.floor(20*J.M()),w=eL.Tu(this.Km,o,P);
this.Qs.setAttribute("src",w);J.v5(this.Qs,o,P)};eL.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};
eL.TN={};eL.Tu=function(o,P,w){var x=255<<24|o.b<<16|o.H<<8|o.$,z=":"+x,S=eL.TN;if(S[z])return S[z];
var k=new Uint32Array(P*w);k.fill(x);var f=UPNG.encode([k.buffer],P,w),C=S[z]="data:image/png;base64,"+eu.i_(f);
return C};function fR(o){cA.call(this,null,!0,"swatchbutton",16*13,8.75*13,eB.Je);this.ZD=o}fR.prototype=new cA;
fR.prototype.nc=function(o){var P=this.w8,w=o.target.m();this.O(w==0?[]:P.Yf[w-1][1],P);this.j(new bO(G.E.w))};
fR.prototype.S7=function(o){if(this.Km.length!=0)eV.af8(this.Km,this,this.pF.bind(this))};fR.prototype.pF=function(o){var P=o;
if(typeof o=="number"){P=e.AE(o,1);P=[P.$,P.H,P.b]}this.O(P);this.j(new bO(G.E.w))};fR.prototype.O=function(o,P){this.Km=o;
this.DR(P)};fR.prototype.DR=function(o){var P=Math.floor(20*J.M()),w=Math.floor(20*J.M()),x=J.k("canvas"),z=x.getContext("2d");
x.width=P;x.height=w;eV.Ap(z,this.Km,o,P,w,0,0,this.ZD==1);var S=z.canvas.toDataURL("png");this.Qs.setAttribute("src",S);
J.v5(this.Qs,P,w)};fR.prototype.Uz=function(){if(!this.BL)return;var o=Math.floor(20*J.M()),P=Math.floor(20*J.M()),w=[],x=[],z=this.w8,S=z.Yf,k=J.k("canvas"),f=k.getContext("2d");
k.width=o;k.height=P;S=[["None",[]]].concat(S);for(var I=0;I<S.length;I++){x.push(S[I][0]);eV.Ap(f,S[I][1],z,o,P,0,0);
var C=f.canvas.toDataURL("png");w.push(C)}this.W9.jW(w,x,o,P);this.BL=!1};fR.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};
function aA(o,P,w){kl.call(this);this.Z=J.k(w?"div":"span");var x=this.Wx=J.k("input");this.Wx.setAttribute("type","file");
if(P)x.setAttribute("multiple","");this.Wx.addEventListener("change",this.a4V.bind(this),!1);this.aFS=this.Js.bind(this);
this.BU={};this.CE=0;this.wp=o;var z=this.ef=new eN(kQ.get(o)+" (0)",null,null,!0);this.Z.appendChild(z.Z);
z.addEventListener("click",function(S){x.click()});if(w){this.Vr=J.k("div","scrollable");this.Vr.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.Vr);this.xW()}}aA.prototype=new kl;aA.prototype.O=function(o){this.BU=o;this.xW()};
aA.prototype.m=function(o){return this.BU};aA.prototype.a4V=function(o){var P=o.target.files;this.CE=P.length;
this.BU={};for(var I=0;I<P.length;I++){var w=P[I],x=new FileReader;x.onload=this.aFS;x.Qg=w.name;x.readAsArrayBuffer(w)}};
aA.prototype.Js=function(o){var P=this.BU[o.target.Qg]=new Uint8Array(o.target.result);this.CE--;if(this.CE==0){this.xW();
this.j(new bO(G.E.w));this.Wx.value=null}};aA.prototype.xW=function(){var o=this.BU;this.ef.ld(kQ.get(this.wp)+" ("+Object.keys(o).length+")");
var P=this.Vr;if(P==null)return;J.eg(P);var w=[];for(var x in o)w.push(x);w.sort();for(var I=0;I<w.length;
I++){var z=J.k("div");z.textContent=w[I];P.appendChild(z)}};function jO(o,P,w,x,z){if(o==null)o=!1;if(P==null)P=!1;
if(w==null)w=!1;kl.call(this);this.RY=new eD;this.mt=new eD;this.Bd=72;this.mr=72;this.XT=!0;this.ou=!1;
this.Z=J.k("span");this.kO=new f6([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.kO.Z);this.kO.J(G.E.w,this.Xe,this);
var S=["px","%"];if(o)S=S.concat(["cm","mm","in"]);if(z){S=[[12,76,2],[12,76,6]];if(o)S=S.concat([[12,76,4],[12,76,5],[12,76,3]])}this.cW=new f7(null,S);
this.Z.appendChild(this.cW.Z);J.jB(this.Z);this.cW.J(G.E.w,this.Xe,this);this.K$=new f6([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.K$.Z);this.K$.J(G.E.w,this.Xe,this);var k=new eN("\u21F5",!1,null,!0);k.J("click",this.YV,this);
this.L4=new eN("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.L4.J("click",this.Xe,this);
this.st=new jH("");this.st.Z.style.margin="0";this.st.Z.style.padding="0";if(P){this.Z.appendChild(this.L4.Z);
this.Z.appendChild(this.st.Z);this.L4.UL()}else this.Z.appendChild(k.Z);this.I4=new f6("DPI",0,0,null,3,!1,!0,4);
this.TT=new f7(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(o&&!x){J.jB(this.Z);this.Z.appendChild(this.I4.Z);
this.Z.appendChild(this.TT.Z)}this.TT.J(G.E.w,this.Xe,this);this.I4.J(G.E.w,this.Xe,this);this.an=new f5([12,23,1]);
this.an.J(G.E.w,this.Xe,this);if(w){J.jB(this.Z);this.Z.appendChild(this.an.Z)}J.jB(this.Z)}jO.prototype=new kl;
jO.prototype.sH=function(o,P){this.kO.uw.style.width=this.K$.uw.style.width=(o-78-this.L4.Bx())/2+"px"};
jO.prototype.HO=function(){this.kO.HO();this.K$.HO();this.cW.HO();var o=this.Z;J.eg(o);this.cW.Z.style.marginRight="0";
o.appendChild(this.kO.Z);o.appendChild(this.L4.Z);o.appendChild(this.K$.Z);o.appendChild(this.cW.Z)};
jO.prototype.W7=function(){this.kO.W7()};jO.prototype.a9e=function(o,P){this.XT=o;if(P!=null)this.ou=P;
if(!this.XT&&!this.ou&&this.cW.m()==0){this.cW.O(4);this.rF()}};jO.prototype.ams=function(o){this.L4.O(o)};
jO.prototype.S=function(){this.kO.S();this.K$.S();this.I4.S();this.TT.S();this.L4.S();this.an.S();this.cW.S()};
jO.prototype.YV=function(o){var P=this.mt.x;this.mt.x=this.mt.y;this.mt.y=P;this.rF();this.j(new bO(G.E.w,!1))};
jO.prototype.Xe=function(o){if(o.target==this.cW&&!this.XT&&!this.ou&&this.cW.m()==0)this.cW.O(4);if(o.target==this.cW||o.target==this.an){this.rF();
return}if(o.target==this.L4)o.target.O(!o.target.m());if(o.target==this.TT)window.locStor.setItem("dpiUnit",this.TT.m());
var P=this.RY,w=parseFloat(this.kO.m());if(isNaN(w))w=1;var x=parseFloat(this.K$.m());if(isNaN(x))x=1;
var z=this.I4.m()*[1,2.54][this.TT.m()],S=this.cW.m();if(this.XT){var k=this.mr;if(S==1){w=this.RY.x*(w/100);
x=this.RY.y*(x/100)}var f=[1,1,2.54/k,25.4/k,1/k][S];w/=f;x/=f;if(this.an.m()){w+=this.RY.x;x+=this.RY.y}if(o.target==this.I4){var C=z;
if(!this.ou){var H=C/k;w*=H;x*=H}k=C}if(this.L4.m()){if(o.target==this.kO)x=w*(P.y/P.x);else w=x*(P.x/P.y)}w=Math.max(Math.abs(w),1);
x=Math.max(Math.abs(x),1)}else{var k=this.Bd;if(o.target==this.I4)k=z;else{if(this.L4.m()){if(o.target==this.kO)x=w*(P.y/P.x);
else w=x*(P.x/P.y)}var f=[1,1,2.54/k,25.4/k,1/k][S],b=w/(S==1?100:P.x*f);k=k/b}w=P.x;x=P.y}this.mt=new eD(Math.round(w),Math.round(x));
this.mr=k;this.rF();this.j(new bO(G.E.w,!1))};jO.prototype.sa=function(I){this.cW.O(I);this.rF()};jO.prototype.alM=function(){return this.cW.m()};
jO.prototype.O=function(o,P,w){var x=window.locStor.getItem("dpiUnit");if(x!=null)this.TT.O(x);if(w!=!0)this.RY=o.clone();
this.mt=o.clone();if(P!=null){this.Bd=P;this.mr=P}this.rF()};jO.prototype.rF=function(){var o=this.mt.x,P=this.mt.y,w=this.mr,x=(o/P).toFixed(3);
while(x.charAt(x.length-1)=="0")x=x.substring(0,x.length-1);if(x.charAt(x.length-1)==".")x=x.substring(0,x.length-1);
var z="  "+x+" : 1",S=function(b,i){while(i!=0){var M=i;i=b%i;b=M}return b},k=S(o,P);if(Math.min(o,P)/k<10)z="  "+Math.round(o/k)+" : "+Math.round(P/k);
this.st.O(z);if(this.an.m()){o-=this.RY.x;P-=this.RY.y}var f=this.cW.m();if(f==1){if(this.XT){o=100*o/this.RY.x;
P=100*P/this.RY.y}else{o=P=100*this.Bd/this.mr}}else{o=Math.round(o);P=Math.round(P)}var C=[1,1,2.54/w,25.4/w,1/w][f];
o*=C;P*=C;var H=f==1||f==2||f==4?2:0;this.kO.jF(H);this.K$.jF(H);this.kO.O(o);this.K$.O(P);this.I4.O(w*[1,1/2.54][this.TT.m()])};
jO.prototype.m=function(){return this.mt.clone()};jO.prototype.lr=function(){return this.mr};function gK(o,P,w){kl.call(this);
var x=o==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.aP=o;this.a8R=P;this.wo=1;this.cP=[1,1,0];
var z=this.Z=J.k("div","numlist"),S=this.ps=[];for(var I=0;I<4;I++){var k=new f6(x[I],0,0,null,2,!1,!0,4,null,w&&(I==0||I==2));
k.J(G.E.w,this.Xe,this);z.appendChild(k.Z);S[I]=k;if(I==1||I==3)J.jB(z)}S[4]=new f5(o==0?[12,51]:[12,91,2]);
S[4].O(!0);z.appendChild(S[4].Z)}gK.prototype=new kl;gK.prototype.S=function(){var o=this.ps;for(var I=0;
I<5;I++)o[I].S();if(this.aP==0)J.rw(o[0],o[2])};gK.prototype.O=function(o,P,w){if(P)this.cP=P;P=this.cP;
var x=w?o:this.aP==0?[o[2],o[0],o[3],o[1]]:[o[0],o[1],o[3],o[2]];this.wo=x[0]/x[2];for(var I=0;I<4;I++){var z=this.ps[I];
z.jF(P[2]==0&&this.a8R?0:2);z.O(e.PX.Y4(x[I],P[0],P[1],P[2]))}};gK.prototype.m=function(o){var P=[],w=this.cP;
for(var I=0;I<4;I++){var x=e.PX.X9(this.ps[I].m(),w[0],w[1],w[2]);P[I]=this.a8R?Math.round(x):x}return o?P:this.aP==0?[P[1],P[3],P[0],P[2]]:[P[0],P[1],P[3],P[2]]};
gK.prototype.Xe=function(o){var P=this.aP,w=this.ps.indexOf(o.currentTarget),x=this.m(!0),z=this.ps[4].m();
if(P==0){x[0]=Math.max(1,x[0]);x[2]=Math.max(1,x[2]);if(z&&w==0)x[2]=x[0]/this.wo;if(z&&w==2)x[0]=x[2]*this.wo}if(P==1){x[w]=Math.max(0,x[w]);
if(z)for(var I=0;I<4;I++)x[I]=x[w]}this.O(x,null,!0);this.j(new bO(G.E.w,!1))};function jX(){kl.call(this);
this.TK=0;this.Dq=[0,0,1,1,100,100];this.Z8=[10,5,1,1,4,3,3,2,16,9];this.wh=0;this.nF=72;this.Z=J.k("span","fitem");
this.h4=new f7(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.h4.Z);this.h4.J(G.E.w,this.Xe,this);this.kO=new f6("W",0,0,null,2,!1,!0);this.Z.appendChild(this.kO.Z);
this.kO.J(G.E.w,this.Xe,this);var o=this.x9=new eN("\u21C4",!1,null,!0);o.J("click",this.YV,this);this.Z.appendChild(o.Z);
this.K$=new f6("H",0,0,null,2,!1,!0);this.Z.appendChild(this.K$.Z);this.K$.J(G.E.w,this.Xe,this);this.O({S$:0,x:0,y:0})}jX.prototype=new kl;
jX.prototype.e3=function(o){this.Z8[0]=o[0];this.Z8[1]=o[1];var P=this.m();this.nF=o[2];this.wh=o[3];
this.O(P)};jX.prototype.S=function(){J.rw(this.kO,this.K$);this.h4.S()};jX.prototype.YV=function(o){var P=this.K$.m();
this.K$.O(this.kO.m());this.kO.O(P);this.Xe(o)};jX.prototype.Xe=function(o){if(o.target==this.h4){var I=this.h4.m(),P=this.Dq;
if(I>2){I-=3;var w=this.Z8[2*I],x=this.Z8[2*I+1];P[2]=w;P[3]=x;this.kO.O(w);this.K$.O(x);this.h4.O(1)}var z=this.m();
P[this.TK*2]=z.x;P[this.TK*2+1]=z.y;this.TK=z.S$;this.O({S$:z.S$,x:P[z.S$*2],y:P[z.S$*2+1]})}if(this.kO.m()<1)this.kO.O(1);
if(this.K$.m()<1)this.K$.O(1);this.j(new bO(G.E.w,!1))};jX.prototype.O=function(o){this.h4.O(o.S$);var P=o.x,w=o.y;
if(o.S$==2){var x=this.wh,z=this.nF,S=this.Z8;P=e.PX.Y4(o.x,z,S[0],x);w=e.PX.Y4(o.y,z,S[1],x)}this.kO.O(P);
this.K$.O(w);if(o.S$==0){this.kO.hR();this.K$.hR();this.x9.hR()}else{this.kO.p2();this.K$.p2();this.x9.p2()}};
jX.prototype.m=function(){var o=this.kO.m(),P=this.K$.m(),w=this.h4.m();if(w==2){var x=this.wh,z=this.nF,S=this.Z8;
o=e.PX.X9(o,z,S[0],x);P=e.PX.X9(P,z,S[1],x);o=Math.round(o);P=Math.round(P)}return{S$:w,x:o,y:P}};function bl(o){kl.call(this);
this.Z=J.k("span","");this.ajm=o;var P=o?100:300;this.AZ=new kU("Off X",-P,P,o?"%":"px",0,!o);this.Oe=new kU("Off Y",-P,P,o?"%":"px",0,!o);
this.AZ.J(G.E.w,this.Xe,this);this.Oe.J(G.E.w,this.Xe,this);this.Z.appendChild(this.AZ.Z);this.Z.appendChild(this.Oe.Z)}bl.prototype=new kl;
bl.prototype.S=function(){this.AZ.S();this.Oe.S()};bl.prototype.Xe=function(o){this.j(new bO(G.E.w,!1))};
bl.prototype.aGX=function(o){this.AZ.O(o.x);this.Oe.O(o.y)};bl.prototype.aa9=function(){return new eD(this.AZ.m(),this.Oe.m())};
bl.prototype.O=function(o,P){var w=o.Hrzn.v,x=o.Vrtc.v;if(this.ajm){w=w.val;x=x.val}this.AZ.O(w);this.Oe.O(x);
if(P==!0)this.Xe()};bl.prototype.m=function(){var o=this.AZ.m(),P=this.Oe.m();if(this.ajm)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:o}},Vrtc:{t:"UntF",v:{type:"#Prc",val:P}}};
else return{classID:"Pnt",Hrzn:{v:o,t:"doub"},Vrtc:{v:P,t:"doub"}}};function by(o,P){kl.call(this);this.Z=J.k("button");
this.Z0=[{dy:3,iW:[]},{dy:3,iW:[12,6],UR:0},{dy:3,iW:[0,6],UR:1,F0:1}];this.m2=iR.XO.bS();this.arU=o;
this.KK=P;this.Z.addEventListener("click",this.VL.bind(this),!1);var w=J.k("canvas","gsicon");this.QA=w.getContext("2d");
this.Z.appendChild(w);var x=J.k("span");x.textContent=" \u25BC";this.Z.appendChild(x);this.NK=new kl;
this.NK.parent=this;this.NK.Z=J.k("div","floatcont form label6");var z=this.NK.Z;z.setAttribute("style","width: 15em;");
this.r9=[P?new f5("Fill First"):new f7([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new kp([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new kp([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new f6("Limit",0,50,null,null,null,!0,2.5),new iU([19,9,2])];
for(var I=0;I<this.r9.length;I++){var S=this.r9[I];if(bn==0||I!=0||!P)z.appendChild(S.Z);S.J(G.E.w,this.Xe,this)}J.jB(z);
this.jR=[];var k=this.$K.bind(this);for(var I=0;I<this.Z0.length;I++){var f=J.k("button","fitem");this.jR.push(f);
z.appendChild(f);f.addEventListener("click",k,!1);var w=J.k("canvas","gsicon"),C=w.getContext("2d");
f.appendChild(w);this.aCk(C,40,20,this.Z0[I])}}by.prototype=new kl;by.prototype.VL=function(o){var P=this.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);
w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4,wV:!0};this.j(w)};by.prototype.Xe=function(o){var P=this.r9,w=P.indexOf(o.target),x=P[w].m(),z=this.m2;
if(w==0)z.pu=this.KK?x?1:0:x;if(w==1)z.UR=x;if(w==2)z.F0=x;if(w==3)z.Pm=x;if(w==4){var S=z.iW=x==""?[]:x.split(" ").map(parseFloat);
if(!this.arU)for(var I=0;I<S.length;I++)S[I]*=z.dy}this.j(new bO(G.E.w,!1))};by.prototype.$K=function(o){var P=this.jR.indexOf(o.currentTarget),w=this.Z0[P],x=this.m2;
if(w.UR!=null)x.UR=w.UR;if(w.F0!=null)x.F0=w.F0;x.iW=w.iW.slice(0);if(x.dy==null)x.dy=3;for(var I=0;
I<x.iW.length;I++)x.iW[I]*=x.dy/w.dy;this.j(new bO(G.E.w,!1))};by.prototype.S=function(){for(var I=0;
I<this.r9.length;I++)this.r9[I].S()};by.prototype.O=function(o){this.m2=JSON.parse(JSON.stringify(o));
var P=this.r9;if(o.pu!=null)P[0].O(this.KK?o.pu==1:o.pu);if(o.UR!=null)P[1].O(o.UR);if(o.F0!=null)P[2].O(o.F0);
if(o.Pm!=null)P[3].O(o.Pm);P[3].hk(o.F0==0);if(o.iW!=null){var w=o.iW.slice(0);if(!this.arU)for(var I=0;
I<w.length;I++)w[I]/=o.dy;P[4].O(w.join(" "))}this.aCk(this.QA,40,16,o)};by.prototype.m=function(){return JSON.parse(JSON.stringify(this.m2))};
by.prototype.aCk=function(o,P,w,x){J.Wy(o.canvas,P,w);var z=x.iW?x.iW:[],S=x.dy;if(S==null)S=3;else{S=Math.min(5,S);
z=z.slice(0);for(var I=0;I<z.length;I++)z[I]*=S/x.dy}o.clearRect(0,0,P,w);o.setLineDash(z);o.lineCap=["butt","round","square"][x.UR];
o.lineJoin=["miter","round","bevel"][x.F0];o.lineWidth=S;o.beginPath();o.moveTo(0,w/2);o.lineTo(P*2,w/2);
o.stroke()};function kd(o){cA.call(this,o,!1,"contourbutton",34*13,16*13,eB.sv,!0);this.MQ=new iU([12,86],null,16);
this.MQ.J("input",this.ir,this);this.NK.Z.appendChild(this.MQ.Z);this.bM=null;this.Vg="";this.Zd=null;
this.O(eR.bS())}kd.prototype=new cA;kd.prototype.S=function(){cA.prototype.S.call(this);this.MQ.S()};
kd.prototype.nc=function(o){this.O(this.bM[o.target.m()[0]]);this.j(new bO(G.E.w))};kd.prototype.ir=function(o){this.Vg=this.MQ.m().toLowerCase();
this.aDW()};kd.aje=!1;kd.prototype.Uz=function(){if(!this.BL)return;var o=this.w8;if(o==null||!kd.aje){var P=new bO(G.E.X,!0);
P.data={Q:G.l.xj,JL:{url:"rsrc/basic/fa.zip"}};this.j(P);kd.aje=!0}else{var w=Date.now(),x=Math.floor(38*J.M()),z=Math.floor(38*J.M());
this.Zd=[];for(var I=0;I<o.length;I++){if(o[I].agp==null)o[I].agp=kd.ahv(o[I],x,z);this.Zd.push(o[I].agp)}this.aDW();
this.BL=!1}};kd.prototype.aDW=function(){var o=Math.floor(38*J.M()),P=Math.floor(38*J.M());this.bM=[];
var w=[],x=[],z=this.w8;for(var I=0;I<z.length;I++){if(z[I].HN.toLowerCase().indexOf(this.Vg)==-1)continue;
this.bM.push(z[I]);w.push(this.Zd[I]);x.push(z[I].HN)}this.W9.jW(w,x,o,P)};kd.prototype.O=function(o){this.Km=kd.clone(o);
this.DR()};kd.prototype.DR=function(){var o=Math.floor(23*J.M()),P=Math.floor(23*J.M()),w=kd.ahv(this.Km,o,P);
this.Qs.setAttribute("src",w);J.v5(this.Qs,o,P)};kd.prototype.m=function(){return kd.clone(this.Km)};
kd.clone=function(o){return{HN:o.HN,hb:o.hb,g:X.tc.tz(o.g),aR:o.aR.clone()}};kd.hj=null;kd.QA=null;kd.ahv=function(o,P,w){var x=o.aR,z=Math.min(P/x.q,w/x._)*.9,S=new ar;
S.translate(-.5,-.5);S.scale(.95,.95);S.translate(.5,.5);S.scale(z*x.q,z*x._);S.translate((P-z*x.q)/2,(w-z*x._)/2);
var k=e.Um(P,w);k.save();k.fillStyle="black";k.clearRect(0,0,P,w);k.setTransform(S.F,S.b,S.JJ,S.RL,S.$X,S.Ar);
e.n.S6(o.g,k,0,0);k.restore();var f=UPNG.encode([k.getImageData(0,0,P,w).data.buffer],P,w,0);return"data:image/png;base64,"+eu.i_(f)};
function fK(o){cA.call(this,o,!1,"ICCButton",16*13,12*13,eB.EP,!0);this.W9.lK(1)}fK.prototype=new cA;
fK.prototype.va=function(){var o="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var I=0;I<o.length;I++)o[I]="luts/"+o[I]+".CUBE";return o};fK.prototype.nc=function(o){this.O(this.w8[o.target.m()]);
this.j(new bO(G.E.w))};fK.prototype.Uz=function(){if(!this.BL)return;var o=Math.floor(1*J.M()),P=Math.floor(1*J.M()),w=[],x=[],z=this.w8;
for(var I=0;I<z.length;I++){var S=z[I].Nm.v.split("\\").pop().split("/").pop();x.push(S);w.push(fK.Tu(z[I],o,P))}this.W9.jW(w,x,o,P);
this.BL=!1};fK.prototype.O=function(o){this.Km=JSON.parse(JSON.stringify(o));this.DR()};fK.Tu=function(o,P,w){var x=J.k("canvas"),k="ICC / 3DL / look / cube";
x.width=P;x.height=w;var z=x.getContext("2d"),S=Math.floor(14*J.M());z.font=S+"px sans-serif";if(o.Nm)k=o.Nm.v.split("\\").pop().split("/").pop();
z.fillText(k,10,S);return x.toDataURL()};fK.prototype.DR=function(){var o=Math.floor(120*J.M()),P=Math.floor(20*J.M());
this.Qs.setAttribute("src",fK.Tu(this.Km,o,P));J.v5(this.Qs,o,P)};fK.prototype.m=function(){return JSON.parse(JSON.stringify(this.Km))};
function gu(){kl.call(this);this.mP=null;this.Z=J.k("span","fitem");this.KQ=new df([14,9]);this.UN=new f6(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.nq=new by;this.bF=[this.KQ,this.UN,this.nq];for(var I=0;I<this.bF.length;I++){var o=this.bF[I];
this.Z.appendChild(o.Z);o.parent=this;o.J(G.E.w,this.Xe,this)}}gu.prototype=new kl;gu.prototype.S=function(){for(var I=0;
I<this.bF.length;I++)this.bF[I].S()};gu.prototype.RU=function(o,P){this.KQ.RU(o,P)};gu.prototype.Xe=function(o){var P=this.mP,w=this.KQ.m();
iR.C4(P,w);P.strokeStyleLineWidth.v.val=this.UN.m();if(o.target==this.nq)iR.Vq.write(P,this.nq.m());
this.mP=P;this.j(new bO(G.E.w,!1))};gu.prototype.O=function(o,P,w){this.mP=JSON.parse(JSON.stringify(P));
var x=iR.Hb(P);this.KQ.O(o,x,w);this.UN.O(P.strokeStyleLineWidth.v.val);this.nq.O(iR.Vq.EO(P))};gu.prototype.m=function(){return JSON.parse(JSON.stringify(this.mP))};
function ec(o){var P=[[18,0],[18,1],[18,2],[18,3]],w=kp.d4(["set/front","set/union","set/difference","set/intersection"]);
kp.call(this,o?[12,36]:null,w,P)}ec.prototype=new kp;function e_(){kl.call(this);this.Z=J.k("button","fitem bbtn");
J.Dw(this.Z,this.zL.bind(this));this.NK=new kl;this.NK.Z=J.k("div","floatcont form");this.NK.Z.setAttribute("style","max-width: 200px;");
this.NK.parent=this;var o=aT;this.Nn=[new f5("Start"),new f5("End"),new o([12,41],0,100,"px",null,!0,null,!0),new o([12,80,0],0,100,"px",null,!0,null,!0),new o("Concavity",-50,50,"%",null,null,null,!0)];
for(var I=0;I<this.Nn.length;I++){var P=this.Nn[I];P.parent=this;P.J(G.E.w,this.pF,this);this.NK.Z.appendChild(P.Z)}this.ad3=J.k("div");
this.NK.Z.appendChild(this.ad3)}e_.prototype=new kl;e_.prototype.O=function(o){for(var I=0;I<5;I++)this.Nn[I].O(o[I]);
this.xW()};e_.prototype.m=function(o){var P=[];for(var I=0;I<5;I++)P[I]=this.Nn[I].m();return P};e_.prototype.S=function(){this.Z.textContent=kQ.get([12,93,4]);
for(var I=0;I<this.Nn.length;I++)this.Nn[I].S()};e_.prototype.pF=function(o){this.j(new bO(G.E.w,!1));
this.xW()};e_.prototype.xW=function(o){var P=this.m(),w=200,x=60;P[2]/=J.M();P[3]/=J.M();var z=e.n.fg.Jk(0,x/2,w,x/2,5,P),S=e.n.nW(z);
this.ad3.innerHTML="<svg width=\""+w+"\" height=\""+x+"\" class=\"gsicon\">\t\t\t<path d=\""+S.OE+"\" />\t\t\t</svg>"};
e_.prototype.zL=function(o){if(J.Ni(this.NK.Z))return;o.stopPropagation();var P=this.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);
w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height,wV:!0};this.j(w)};function aF(){kl.call(this);
this.Z=J.k("div");this.ps=[];this.a2R=[];var o=this.KG=J.k("div"),P=J.k("h2");P.textContent="Create Teams";
o.appendChild(P);P.style.margin="26px 0 16px 0";var w=new eN("More about Teams",!1,null,!0);P.appendChild(w.Z);
w.Z.style.float="right";w.J("click",this.azw,this);this.Ob=J.k("div");o.appendChild(this.Ob);this.a5N=new iU("Team Name",null,10);
o.appendChild(this.a5N.Z);var x=this.ayh=new eN("Create Team",null,null,!0);o.appendChild(x.Z);x.J("click",this.ahh,this);
var P=J.k("h2");P.textContent="Join Teams";o.appendChild(P);P.style.margin="26px 0 16px 0";this.JY=J.k("div");
o.appendChild(this.JY);this.aga=new iU("Team ID",null,10);o.appendChild(this.aga.Z);var x=new eN("Join Team",null,null,!0);
o.appendChild(x.Z);x.J("click",this.ahh,this);this.aok;this.adj=this.fi.bind(this);this.a3s=this.aD4.bind(this);
this.W5=!1;this.NG();this.aW=null;this.aei=""}aF.prototype=new kl;aF.prototype.azw=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.Dj,link:"https://www.photopea.com/api/accounts#teams"};this.j(P)};aF.prototype.NG=function(){clearTimeout(this.aCd);
this.aCd=setTimeout(this.a3s,this.aW?10:3e3)};aF.prototype.aD4=function(){var o=jM.qx();if(document.hidden||!J.Ni(this.Z)||o==null){this.NG();
return}var P=jM.ao();if(this.aW==null&&P==null)return;jM.jH(this.aW?this.aW:P,this.adj);this.W5=!0;this.aW=null};
aF.prototype.aa6=function(o){o.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.W5)this.aW=o;else{clearTimeout(this.aCd);jM.jH(o,this.adj)}};aF.prototype.Vj=function(o){var P=typeof o=="string"?this.aok:this.ps.indexOf(o.target),w=this.a2R[P],x=w[0],z=jM.ao();
if(z==null)z={};var S=z.acc,k=S.tjoin,f=S.tstart;if(x=="leave"){k.splice(k.indexOf(w[1]),1)}if(x=="add"||x=="remove"||x=="delTeam"||x=="showRename"||x=="rename"){var C=-1,H=0;
for(var I=0;I<f.length;I++){H+=f[I][1].length;if(f[I][2]==w[1])C=I}var b=f[C];if(x=="add"){var i=jM.lO();
if(i&&i[0]==0&&i[1][2]<=H){alert("You can have at most "+i[1][2]+" members in your Premium.");return}b[1].push(w[2])}if(x=="remove")b[1].splice(b[1].indexOf(w[2]),1);
if(x=="delTeam"){if(b[1].length!=0){alert("Remove members first.");return}f.splice(C,1)}if(x=="showRename"){var M=new bO(G.E.X,!0);
M.data={Q:G.l.y7,hq:"namewindow",Lz:b[0],eA:this.Vj.bind(this)};this.j(M);this.aok=P;w[0]="rename";return}if(x=="rename")b[0]=o}this.aa6(z)};
aF.prototype.ahh=function(o){var P=this.ayh==o.target,w=(P?this.a5N:this.aga).m().trim();if(w==""){alert("The Team "+(P?"Name":"ID")+" is empty.");
return}if(!P){w=parseInt(w);if(isNaN(w)){alert("The ID must be a number");return}}var x=jM.ao();if(x==null)x={};
var z=x.acc;if(z==null)z=x.acc={};var S=z.tstart,k=z.tjoin;if(P){if(S==null)S=z.tstart=[];if(S.length>5){alert("You can have at most 5 teams");
return}S.push([w,[]])}else{if(S)for(var I=0;I<S.length;I++)if(S[I][2]==w){alert("You are the owner of this team");
return}if(k==null)k=z.tjoin=[];if(k.indexOf(w)!=-1){alert("You already asked to join this team.");return}z.tjoin.push(w)}z.update=!0;
this.aa6(x)};aF.prototype.fi=function(){this.W5=!1;var o=jM.qx(),P=o!=null,w=this.KG.parentNode!=null;
if(P!=w){J.eg(this.Z);if(P)this.Z.appendChild(this.KG);else this.Z.textContent="Log In to access Team Settings."}if(!P)return;
var x=jM.ao();if(x==null)x={};var z=x.acc;if(z==null)z={};var S=JSON.stringify(z)+"===="+JSON.stringify(o);
if(S!=this.aei){this.aei=S;var k=this.Ob,f=this.JY;J.eg(k);J.eg(f);var C=this.ps=[],H=this.a2R=[],b=this.Vj.bind(this);
function i($,p){$.addEventListener("click",b);C.push($);H.push(p)}function M(n,$){var a=J.k("div"),p="rgba(255,255,255,0.15)";
a.appendChild(O("ID: "+n[2],54,p));a.appendChild(O(n[0],160,null,!0));if($){a.appendChild(O(n[1].length+" members",80,null,!0))}else{a.appendChild(O(n[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<n[1]*1e3)a.appendChild(O("Premium",80,"rgba(0,140,0,1)"))}var c=O("",120);a.appendChild(c);
c.setAttribute("style","float:right;text-align:right");if($){var B=new eN("Rename",null,null,!0);i(B,["showRename",n[2]]);
c.appendChild(B.Z)}var B=new eN($?"Delete":"Leave",null,null,!0);i(B,[$?"delTeam":"leave",n[2]]);c.appendChild(B.Z);
return a}function T($,p,R){var a=J.k("div");a.style.paddingLeft="46px";a.appendChild(O(p?"\u2713":"...",8,p?"#229922":"#aa7700"));
a.appendChild(O($[1],200));a.appendChild(O($[2],240));var c=O("",120);a.appendChild(c);c.setAttribute("style","float:right;text-align:right");
var B=new eN(p?"Remove":"Add",null,null,!0);i(B,[p?"remove":"add",R,$[0]]);c.appendChild(B.Z);return a}function O($,p,c,B){var Z=J.k("span");
Z.textContent=$;Z.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+p+"px;  "+(c!=null?"background-color:"+c+";":"")+(B?"font-weight:bold;":""));
return Z}var Y=z.tstart,U=z.tjoin,W=o.wantToJoin,t=o.inTeams;if(Y)for(var _=0;_<Y.length;_++){var n=Y[_],y=W["t"+n[2]];
if(y==null)y=[];var F={};for(var I=0;I<y.length;I++)F["u"+y[I][0]]=y[I];var a=M(n,!0);k.appendChild(a);
a.style.marginTop="10px";for(var I=0;I<n[1].length;I++){var V=n[1][I],D=F["u"+V];if(D==null)D=[V,"========","... user has left your team"];
delete F["u"+V];var l=T(D,!0,n[2]);k.appendChild(l)}for(var Q in F){var D=F[Q],l=T(D,!1,n[2]);k.appendChild(l)}}if(U){var m={};
for(var I=0;I<t.length;I++)m["t"+t[I][2]]=t[I];for(var _=0;_<U.length;_++){var R=U[_],n=m["t"+R],a=M(n?n:["==========",-1,R],!1);
f.appendChild(a)}}this.j(new bO(G.E.w))}if(this.aW==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.NG()};
function jl(){kl.call(this);this.p5=[16,!0,!0];this.Z=J.k("span","");this.CD=[new f6([12,24],0,255),new f5([12,25,1]),new f5([12,25,0])];
for(var I=0;I<3;I++){var o=this.CD[I];o.parent=this;o.O(this.p5[I]);this.Z.appendChild(o.Z);o.J(G.E.w,this.Xe,this)}}jl.prototype=new kl;
jl.prototype.Xe=function(){for(var I=0;I<3;I++)this.p5[I]=this.CD[I].m();this.j(new bO(G.E.w,!1))};jl.prototype.O=function(o){this.p5=o.slice(0);
for(var I=0;I<3;I++)this.CD[I].O(o[I])};jl.prototype.m=function(){return this.p5.slice(0)};jl.prototype.S=function(){for(var I=0;
I<3;I++)this.CD[I].S()};function ca(o,P){kl.call(this);if(P==null)P=!1;this.Zd=[];this.TG=Math.floor(120*J.M());
this.ai_=Math.floor(23*J.M());this.Yt=0;this.uh=[];this.NR=[];for(var w in e.lD.type){if((w=="warpCustom"||w=="warpCylinder")&&!P)continue;
this.uh.push(w);this.NR.push(e.lD.type[w])}this.Z=J.k("span","fitem warpbutton");this.NK=new kl;this.NK.Z=J.k("div","floatcont");
if(o){this.wp=o;this.pj=J.k("label","flabel");this.Z.appendChild(this.pj)}this.Q=J.k("button");this.Z.appendChild(this.Q);
J.Dw(this.Q,this.zL.bind(this));this.ua=new hr(!0);this.NK.Z.appendChild(this.ua.Z);this.ua.J(G.E.w,this.aln,this);
this.NK.Z.setAttribute("style","width:"+Math.floor(8+this.TG/J.M())+"px;");this.S()}ca.prototype=new kl;
ca.prototype.ld=function(o){this.pj.textContent=o};ca.prototype.S=function(){if(this.wp)this.pj.innerHTML=kQ.get(this.wp)+":";
this.DR()};ca.aBO={};ca.aFV=function(o,P,w){var x=kQ.get(e.lD.type[o]),z=x+"-"+o+"-"+P+"-"+w,S=ca.aBO[z];
if(S)return S;var k=ca.QA;if(f==null){var f=J.k("canvas");k=ca.QA=f.getContext("2d")}var f=k.canvas;
if(f.width!=P||f.height!=w){f.width=P;f.height=w}k.font=Math.floor(13*J.M())+"px sans-serif";k.lineWidth=1;
k.strokeStyle="#000000";var C=Math.floor(16*J.M()),H=new fA(0,0,C,C);k.clearRect(0,0,f.width,f.height);
var b=e.lD.lD(o,o=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);e.lD.aFD(b[3],H);var i=e.a.R2(H);
i.LG.push("M","L","M","L");i.i.push(0,C/2,C,C/2);i.i.push(C/2,0,C/2,C);i=e.a.fG(i);i=e.a.K1(i,C/5);e.V0.h(b,i.i,H);
e.a.h(i.i,new ar(1,0,0,1,Math.floor(8*J.M())+.5,Math.floor(3*J.M())+.5),i.i);k.beginPath();Typr.U.pathToContext({cmds:i.LG,crds:i.i},k);
k.stroke();k.fillText(x,Math.floor(40*J.M()),Math.floor(16*J.M()));S=ca.aBO[z]=f.toDataURL();return S};
ca.prototype.zL=function(o){if(J.Ni(this.NK.Z))return;o.stopPropagation();var P=this.TG,w=this.ai_;for(var I=0;
I<this.uh.length;I++)this.Zd[I]=ca.aFV(this.uh[I],P,w);this.ua.jW(this.Zd,null,P,w);var x=this.Q.getBoundingClientRect(),z=new bO(G.E.X,!0);
z.data={Q:G.l.tZ,NP:this.NK,x:x.left,y:x.top+x.height+4};this.j(z)};ca.prototype.aln=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.pP,NP:this.NK};this.j(P);this.Yt=o.target.m()[0];this.DR();this.j(new bO(G.E.w))};ca.prototype.DR=function(){var o=this.TG,P=this.ai_;
this.ua.O([this.Yt]);this.Q.innerHTML="<img src=\""+ca.aFV(this.uh[this.Yt],o,P)+"\" class=\"gsicon\" />";
J.v5(this.Q.firstChild,o,P)};ca.prototype.m=function(){return this.uh[this.Yt]};ca.prototype.O=function(o){this.Yt=this.uh.indexOf(o);
this.DR()};function id(o,P,w){kl.call(this);if(o==null)o=!1;if(P==null)P=!1;if(w==null)w=!1;this.avL=P;
this.lD=null;this.CT=new ca([12,22],w);this.CT.parent=this;this.CT.J(G.E.w,this.CR,this);this.qp=new f7([22,0],[[22,4,0],[22,4,1]]);
this.qp.J(G.E.w,this.CR,this);var x=o?f6:aT;this.XZ=new x([22,1],-100,100,"%");this.SK=new x("Horizontal Distortion:",-100,100,"%");
this.BJ=new x("Vertical Distortion:",-100,100,"%");this.XZ.parent=this.SK.parent=this.BJ.parent=this;
this.XZ.J(G.E.w,this.CR,this);this.SK.J(G.E.w,this.CR,this);this.BJ.J(G.E.w,this.CR,this)}id.prototype=new kl;
id.prototype.S=function(){this.CT.S();this.qp.S();this.XZ.S();var o=this.avL?1:100;this.SK.ld(kQ.get([22,2]).substring(0,o)+":");
this.BJ.ld(kQ.get([22,3]).substring(0,o)+":")};id.prototype.CR=function(){var o=this.lD,P=this.CT.m(),w=o.warpStyle.v.warpStyle;
if(P=="warpCustom")e.lD.Ng(o,e.lD.Qc(o));else delete o.customEnvelopeWarp;o.warpStyle.v.warpStyle=this.CT.m();
o.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.qp.m()];var x=this.XZ.m();o.warpPerspective.v=this.SK.m();o.warpPerspectiveOther.v=this.BJ.m();
if(P=="warpNone"||P=="warpCustom"){x=0;o.warpPerspective.v=0;o.warpPerspectiveOther.v=0}else if(w=="warpNone"||w=="warpCustom"||w=="warpCylinder")x=50;
if(P!="warpCylinder"){o.warpValue={t:"doub",v:x};delete o.warpValues}else{o.warpValues=N.DH.Co([0,100,100,0,.15,.2,1]);
delete o.warpValue}this.j(new bO(G.E.w,!1));this.O(o)};id.prototype.m=function(o){return JSON.parse(JSON.stringify(this.lD))};
id.prototype.O=function(o){this.lD=JSON.parse(JSON.stringify(o));var P=o.warpStyle.v.warpStyle,w=P=="warpNone"||P=="warpCustom"||P=="warpCylinder";
this.CT.O(P);if(!w){this.qp.O(o.warpRotate.v.Ornt=="Hrzn"?0:1);this.XZ.O(o.warpValue.v);this.SK.O(o.warpPerspective.v);
this.BJ.O(o.warpPerspectiveOther.v)}var x=[this.qp,this.XZ,this.SK,this.BJ];for(var I=0;I<x.length;I++)if(w)x[I].hR();
else x[I].p2()};function hx(o){kl.call(this);this.pq={};this.Z=J.k("div");this.Z1=o;this.Nd=null;this.R8=new eD(0,0);
this.dk="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.Vf=null;this.rS=new J.Ah(this.Z);
this.Fi("grab");this.hj=J.k("canvas","canv");this.Z.appendChild(this.hj);this.QA=this.hj.getContext("2d",{willReadFrequently:!0});
this.ash=null;this.Yh=null;this.qf=null;this.sE=0;this.akQ=0;this.gh=0;this.zY=0;this.ako=this.aoF.bind(this);
this.aob=null;this.s=new ij({q:1,_:1});this.cJ=null;this.aw=null;this.kC=[];this.a0u=0;this.QU=0;this.ar6=this.yR.bind(this);
this.a1r=this.yH.bind(this);this.aFW=this.D4.bind(this);this.awg=this.jI.bind(this);this.aag=0;this.il=null;
this.a88(this.hj);this.b4(this)}hx.prototype=new kl;hx.prototype.ah$=function(o){this.pq=o;this.qs()};
hx.pS=function(o){var P=new i$(!0);if(o>=0)P.wT("Space");if(o>=1){P.wT("ControlLeft");if(o==2)P.wT("AltLeft")}return P};
hx.prototype.xF=function(o){var P=this.Vf,w=null;if(o.d(i$.yi)){w="grab";if(o.d(i$.Jm)){w="zoom-in";
if(o.d(i$.JV))w="zoom-out"}}this.Nd=w;if(w)P=w;this.rS.fi(P,this.dk);if(o.d(i$.Jm)){var x=0;if(o.d(i$.wF))x=1;
if(o.d(i$.KZ))x=-1;if(x!=0){this.wO(new eD(this.hj.width/2,this.hj.height/2),x==1)}}};hx.prototype.Fi=function(o){this.Vf=o;
if(this.Nd)return;this.rS.fi(o,this.dk)};hx.prototype.a88=function(o){J.Dw(o,this.ar6);J.N_(o);o.addEventListener("wheel",this.awg,!1)};
hx.prototype.b4=function(o){o.J("viewchange",this.aA5,this)};hx.prototype.aA5=function(o){var P=this.s.D,w=o.currentTarget.qC();
this.s.D=w.D;this.s.f=w.f.clone();if(P!=w.D)this.CZ();this.qs()};hx.prototype.qC=function(){return{D:this.s.D,f:this.s.f}};
hx.prototype.O=function(o,P,w,x){var z=o[0].pv;if(this.Yh!=null&&this.Yh[0].pv.w6(z)){}else{this.s.lg={q:z.q,_:z._};
this.s.D=1;this.s.f=new eD(0,0)}this.Yh=o;this.CZ(x);this.pc();this.sE=0;this.akQ=Date.now();this.gh=0;
this.zY=P==null?0:P;if(w)this.pq=w;this.aoF()};hx.prototype.jI=function(o){o.preventDefault();if(o.deltaY==0||Date.now()-this.aag<100)return;
var P=J.YH(o);P.x=J.M()*P.x;P.y=J.M()*P.y;this.aag=Date.now();this.wO(P,o.deltaY<0)};hx.prototype.wO=function(o,P){N.L0.HG(this.s,o,P);
this.aDn()};hx.prototype.kn=function(o){var P=this.s,w=P.lg;this.s.D=N.L0.RF(w.q,w._,P.Si.q,P.Si._);
if(o)this.s.f=new eD(0,0);this.aDn()};hx.prototype.aDn=function(){this.CZ();this.j(new bO("viewchange"));
this.j(new bO("zoom"))};hx.prototype.CZ=function(o){var P=this.qf;this.qf=[];var w=this.s.D;if(this.Yh==null)return;
if(o){var x=e.IX(w),z=1;for(var S=0;S<x.length;S++)z*=x[S];var k=o.x,f=o.y,C=k+o.q,H=f+o._;k=Math.floor(k/z)*z;
C=Math.ceil(C/z)*z;f=Math.floor(f/z)*z;H=Math.ceil(H/z)*z;o=new fA(k,f,C-k,H-f)}for(var I=0;I<this.Yh.length;
I++){var b=this.Yh[I],i=new Uint8Array(b.data),M;if(w>=1)M={eD:i,rect:b.pv};else{if(P&&P[I]&&o){var T=e.U(o.c()*4);
e.sR(i,b.pv,T,o);var O=e.Oz(T,o,w),Y=O.rect;Y.x=Math.floor(Y.x*w);Y.y=Math.floor(Y.y*w);M=P[I];e.sR(O.eD,O.rect,M.eD,M.rect)}else M=e.Oz(i,b.pv,w)}this.qf[I]=M}};
hx.prototype.pc=function(){clearTimeout(this.aob)};hx.prototype.qs=function(){if(this.Yh==null||!J.Ni(this.hj))return;
var o=this.ash,P=this.hj.width,w=this.hj.height,O,Y;if(o==null||o.width!=P||o.height!=w){o=this.ash=this.QA.createImageData(P,w);
console.log("creating image data")}var x=this.Yh[this.sE],z=this.qf[this.sE],S=this.s,k=S.lg,f=S.Si,C=f.q,H=f._,b=k.q*S.D,i=k._*S.D,M=Math.round((C-b)/2+S.f.x),T=Math.round((H-i)/2+S.f.y);
if(S.D<=1){Y=z.rect.clone();Y.x=M;Y.y=T;b=Y.q;i=Y._;O=z.eD}else{var U=1/S.D,W=new fA(Math.floor((f.x-M)*U),Math.floor((f.y-T)*U),Math.ceil(f.q*U)+1,Math.ceil(f._*U)+1),t=new fA(0,0,W.q*S.D,W._*S.D);
t.x=W.x*S.D+M;t.y=W.y*S.D+T;if(S.qL==null||S.qL.length!=W.c()*4){S.qL=e.U(W.c()*4)}if(S.Yu==null||S.Yu.length!=t.c()*4){S.Yu=e.U(t.c()*4)}e.ZT(S.qL,0);
e.sR(z.eD,z.rect,S.qL,W);e.scale.KM(S.qL,W.q,W._,S.Yu,t.q,t._,S.D);O=S.Yu;Y=t}var _=new Uint8Array(o.data.buffer);
e.JM(_,C,H,8,-M,-T);e.C.Iv("norm",O,Y,_,f,f,1);var n=this.QA;n.setTransform(1,0,0,1,0,0);n.putImageData(o,0,0);
n.clearRect(M-4e3,T,4e3,i);n.clearRect(M+b,T,4e3,i);n.clearRect(M-4e3,T-4e3,b+8e3,4e3);n.clearRect(M-4e3,T+i,b+8e3,4e3);
var y=hx.a0f(S.D,"#ffffff");n.putImageData(y,0,S.Si._-y.height);var F=this.pq,S=this.s;if(F){var a=dD.Wz([.1,.5,1,1]),V=dD.Wz([1,0,0,1]),D=dD.Wz([1,1,1,1]),l=dD.Wz([0,0,0,1]),Q=S.TL(!1);
Q.Sd();n.save();n.setTransform(Q.F,Q.b,Q.JJ,Q.RL,Q.$X,Q.Ar);n.strokeStyle=V;if(F.a6G){dD.M8(F.a6G,null,n);
n.lineWidth=1/S.D;n.stroke()}n.strokeStyle=D;if(F.ab1){dD.M8(F.ab1,null,n);n.lineWidth=1/S.D;n.stroke();
n.strokeStyle=l;n.setLineDash([4/S.D,4/S.D]);n.stroke();n.setLineDash([])}n.strokeStyle=a;n.fillStyle=dD.Wz([1,1,1,1]);
if(F.Uq){dD.M8(F.Uq,null,n);n.lineWidth=1/S.D;n.stroke()}if(F.Ra){dD.iP(F.Ra,n,S,.5);n.lineWidth=2/S.D;
n.stroke();n.fill()}if(F.XK){n.font=16/S.D+"px sans-serif";var m=1/S.D;for(var I=0;I<F.XK.length;I++){var R=F.XK[I],$=R[0],p=R[1]+6/S.D,c=R[2];
n.fillStyle="black";n.fillText(c,$-m,p);n.fillText(c,$+m,p);n.fillStyle="white";n.fillText(c,$,p)}}n.restore()}n.getImageData(0,0,1,1)};
hx.ahu="";hx.au7=null;hx.a0f=function(o,P,w,x){if(w==null){w=0;x=0}var z=w+" \xD7 "+x,S="z"+o+","+P+","+w+","+x;
if(S==hx.ahu)return hx.au7;var k=Math.round(50*J.M()),f=Math.round(18*J.M()),C=w==0?0:Math.round((z.length+2)*f*.35),H=J.k("canvas"),b=H.getContext("2d");
H.width=k+C;H.height=f;b.fillStyle="rgba(1,1,1,1)";b.fillRect(0,0,k,f);if(w!=0)b.fillRect(k+2,0,C,f);
b.font=Math.round(11*J.M())+"px monospace";b.fillStyle=P;var i=o*100;if(i<100)i=i.toFixed(2);else i=Math.round(i);
i=i+"%";var M=b.measureText(i).width;b.fillText(i,(k-M)/2,Math.round(f*.7));if(w!=0){var T=b.measureText(z).width;
b.fillText(z,k+(C-T)/2+1,Math.round(f*.7))}var O=b.getImageData(0,0,k+C,f);hx.ahu=S;hx.au7=O;return O};
hx.prototype.aoF=function(){var o=this.Yh,P=o.length,w=this.sE,x=this.Yh[w],z=(w+1)%P;this.qs();var S=Date.now();
if(P!=1&&o[z].pv.w6(x.pv)){var k=x.v8?parseInt(x.v8.split(",").pop()):30;if(k==0)k=16;if(z==0)this.gh++;
if(this.zY==0||this.gh<this.zY)this.aob=setTimeout(this.ako,k)}this.sE=z;this.akQ=S};hx.prototype.sH=function(o,P){if(o<=0||P<=0)return;
var w=Math.floor(o*J.M()),x=Math.floor(P*J.M());this.s.Si=new fA(0,0,w,x);this.hj.width=w;this.hj.height=x;
this.hj.setAttribute("style","width:"+w/J.M()+"px; height:"+x/J.M()+"px; display:block;");this.qs()};
hx.prototype.cH=function(o){var P=-1,w=this.kC;for(var I=0;I<w.length;I++)if(w[I].pointerId==o.pointerId)P=I;
return P};hx.prototype.yR=function(o){var P=this.cH(o),w=this.kC;if(P!=-1)w[P]=o;else w.push(o);if(w.length==1){this.il=o.target;
J.Zw(window,this.a1r);J.FV(window,this.aFW);this.cJ=J.YH(o,this.hj);this.cJ.x*=J.M();this.cJ.y*=J.M();
this.R8=this.cJ;this.aw=this.s.f.clone();if(this.Z1&&this.il==this.hj&&!this.Nd)this.j(new bO("mousedown"))}else this.a0u=this.QU=eD.a_(J.YH(w[0],this.hj),J.YH(w[1],this.hj))};
hx.prototype.yH=function(o){var P=this.cH(o),w=this.kC;if(P!=-1)w[P]=o;var x=this.s,z=this.Nd,S=this.Yh[this.sE].pv.clone();
S.q*=x.D;S._*=x.D;var k=J.YH(o,this.hj);k.x*=J.M();k.y*=J.M();this.R8=k;if(this.Z1&&this.il==this.hj&&!z)this.j(new bO("mousemove"));
else if(z=="grab"||z==null){if(w.length>1){var f=J.YH(w[0],this.hj),C=J.YH(w[1],this.hj),H=new eD(J.M()*(f.x+C.x)/2,J.M()*(f.y+C.y)/2),b=eD.a_(f,C),i=null;
if(b>this.QU+50){this.QU+=50;i=!0}if(b<this.QU-50){this.QU-=50;i=!1}if(i!=null)this.wO(H,i);return}else{var M=k.x-this.cJ.x,T=k.y-this.cJ.y;
x.f.x=this.aw.x+Math.round(M);x.f.y=this.aw.y+Math.round(T)}this.j(new bO("viewchange"))}};hx.prototype.D4=function(o){var P=this.cH(o),w=this.kC;
w.splice(P,1);if(w.length==0){J.ig(window,this.a1r);J.qM(window,this.aFW);var x=this.Nd;if(o.detail>1){this.s.D=1;
this.s.f.Mx(0,0);this.qs()}if(this.Z1&&this.il==this.hj&&!this.Nd)this.j(new bO("mouseup"));else{if(x=="zoom-in"||x=="zoom-out")this.wO(this.R8,x=="zoom-in")}}else{var z=this.cJ=J.YH(w[0],this.hj);
z.x*=J.M();z.y*=J.M()}};hx.prototype.g7=function(o){var P=this.R8;if(o){P=J.YH(o,this.hj);P.x*=J.M();
P.y*=J.M()}return this.s.hI(P.x,P.y)};function kN(){kl.call(this);this.KB=null;this.Or=null;this.dS=null;
this.z6=null;this.alV="";this.nh=[];this.HX=0;this.m1=[];this.OU=0;this.r7=null;var o=this.Z=J.k("div",""),P=this.aGb=J.k("div","form");
P.setAttribute("style","line-height:0; margin-bottom:0.5em;");o.appendChild(P);var w=this.wp=J.k("span");
P.appendChild(w);w.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var x=this.aG5=new f5([25,2,0]);
x.O(!0);P.appendChild(x.Z);x.J(G.E.w,this.vF,this);var z=this.en=new f5([25,2,1]);z.O(!0);P.appendChild(z.Z);
z.J(G.E.w,this.vF,this);var S=new jH(" ");P.appendChild(S.Z);var k=this.Mb=new iU([25,1,1]);P.appendChild(k.Z);
k.J(G.E.w,this.vF,this);this.KK=new j9(14);this.KK.aBB(3);P.appendChild(this.KK.Z);this.KK.parent=this;
this.KK.J(G.E.w,this.avh,this);var f=this.af$=new eN([25,1,2],null,null,!0);P.appendChild(f.Z);f.J("click",this.KV,this);
var C=new eN("?",null,null,!0);P.appendChild(C.Z);C.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.auB=this.axR.bind(this);this.C_=J.k("div","svggallery scrollable");o.appendChild(this.C_);this.C_.addEventListener("scroll",this.acp.bind(this))}kN.prototype=new kl;
kN.prototype.RU=function(o){this.asx=o};kN.prototype.S=function(){this.wp.textContent=kQ.get([25,0]);
this.KK.S();this.aG5.S();this.en.S();this.Mb.S();this.af$.S()};kN.prototype.sH=function(o,P){this.KB=new eD(o,P);
this.aGb.setAttribute("style","width:"+o+"px");var w=this.aGb.getBoundingClientRect();P-=w.height;this.C_.setAttribute("style","width:"+o+"px; height:"+P+"px");
if(J.Ni(this.Z))this.vF()};kN.prototype.O=function(o){this.Or=o;this.vF()};kN.prototype.acp=function(o){var P=this.C_;
if(P.scrollTop+P.clientHeight+10>=P.scrollHeight){this.vF(!0)}};kN.prototype.avh=function(o){this.dS=null;
this.vF()};kN.prototype.axR=function(o){if(Date.now()-this.OU<2e3)return;this.OU=Date.now();this.HX=this.m1.indexOf(o.currentTarget);
var P=this.Wp(this.Or.x,this.Or.y);if(P[1]){var w=P[1].largeImageURL,x=new XMLHttpRequest;x.responseType="arraybuffer";
x.open("GET",w,!0);x.onload=this.a1H.bind(this);x.send();return}this.a6d(P)};kN.prototype.a1H=function(o){var P=o.target.response,w=eu.IL(P),x=eu.oi(w),z=x.mJ(P),S=this.Wp(this.Or.x,this.Or.y,[P,z[0].pv.q,z[0].pv._]);
this.a6d(S)};kN.prototype.a6d=function(o){var P=o[0],w=eu.IL(P),x=eu.oi(w),z=new da("template.psd");
x.mJ(P,z);var S=new bO("tempready",!0);S.data={lg:z};this.j(S)};kN.prototype.KV=function(o){var P=o.target;
this.nh=[];this.dS=null;this.vF()};kN.prototype.afU=function(o){var P=JSON.parse(o.target.response),w=this.z6=P.hits;
for(var I=0;I<w.length;I++)if(w[I].user_id==6314823)w.splice(I,1);this.vF()};kN.prototype.vF=function(o){if(this.Or==null||this.KB==null||this.asx==null)return;
if(this.KB.x<=0)return;var P=this.Or.x,w=this.Or.y;if(Math.min(P,w)<50)return;if(o!=!0){this.m1=[];J.eg(this.C_);
this.C_.scrollTop=0}if(this.m1.length>300)return;var x=Math.min(1,300/Math.max(P,w)),z=this.KB.clone();
z.x-=20;var S=Math.max(1,Math.floor(z.x/(P*x))),k=Math.max(1,Math.ceil(z.y/(w*x)));x=z.x/S/P;var f=S*k;
if(this.dS==null){var C=this.asx.v7.tv(),H=[];for(var b in C){var i=C[b],M=i[3];if(!this.KK.Qt(i))continue;
if(i[5]==null||i[5].slice(0,2)=="gf")continue;H.push(i)}if(H.length==0)H.push(C.DejaVuSans);var T=H.length;
for(var I=0;I<T*10;I++){var O=Math.floor(Math.random()*T),Y=Math.floor(Math.random()*T),U=H[O];H[O]=H[Y];
H[Y]=U}H=H.slice(0,10);this.dS=H}var W=this.en.m(),t=this.Mb.m().trim();this.Mb.hk(W);if(W&&(this.z6==null||t!=this.alV)){var _=new XMLHttpRequest,n="https://pixabay.com/api/?image_type=photo"+(t==""?"":"&q="+encodeURIComponent(t))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(t=="")n="//www.photopea.com/plugins/gallery.json";_.open("GET",n,!0);_.onload=this.afU.bind(this);
_.onerror=function(l){console.log(l.target.response)};_.send();this.alV=t;return}x*=(P*x-5)/(P*x);var y=this.m1.length;
for(var I=0;I<f;I++){var F=this.HX=y+I;if(this.nh[F]==null)this.nh[F]=Math.floor(Math.random()*4294967295);
var a=this.Wp(Math.round(P*x),Math.round(w*x)),V=a[0];V=L.bR(new Uint8Array(V));var D=J.k("span");D.innerHTML=V;
this.m1.push(D);this.C_.appendChild(D);D.addEventListener("click",this.auB,!1)}};kN.prototype.Wp=function(o,P,w){var x=this.en.m(),z=this.aG5.m(),S=x&&this.z6.length!=0?this.z6:null;
if(z&&!x)S=null;if(z&&x&&(this.HX&1)==0)S=null;return cU.fg(o,P,this.nh[this.HX],this.dS,w?w:S)};function cb(){kl.call(this);
this.Z=J.k("div");this.KG=null;this.azW=null;this.BD=-1;this.aI={JPG:[{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:70},{ov:new f5("attach metadata"),h7:!1}],TIFF:[{ov:new f5("attach metadata"),h7:!1}],WEBP:[{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:70},{ov:new f5("attach metadata"),h7:!1}],GIF:[{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:100},{ov:new f5([12,23,3]),h7:!1}],PNG:[{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:100},{ov:new f5("don't use palettes"),h7:!1},{ov:new f5("attach metadata"),h7:!1}],BMP:[{ov:new f5("don't use palettes"),h7:!1}],PDF:[{ov:new iU([12,52,1]),h7:""},{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:100},{ov:new f5("reverse pages"),h7:!1},{ov:new f5("rasterize all"),h7:!1},{ov:new f5("vectorize text"),h7:!1},{ov:new aT("Add Margin",0,5,"in",2),h7:0},{ov:new f5("add crop marks"),h7:!1}],EMF:[{ov:new iU([12,52,1]),h7:""},{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:100},{ov:new f5("reverse pages"),h7:!1},{ov:new f5("rasterize all"),h7:!1},{ov:new f5("vectorize text"),h7:!1},{ov:new aT("Add Margin",0,5,"in",2),h7:0}],SVG:[{ov:new f5("add raster graphics"),h7:!0},{ov:new f5("add hidden layers"),h7:!1},{ov:new f5("vectorize text"),h7:!1},{ov:new f5("rasterize text"),h7:!1},{ov:new f5("minify"),h7:!1}],RAW:[{ov:new kp([12,72],["1","3","4"]),h7:2},{ov:new kp([12,34],["8 Bits","16 Bits"]),h7:0},{ov:new kp("Byte Order",["12-34","34-12"]),h7:0}],DDS:[{ov:new f7("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),h7:0},{ov:new f5("Add Mipmaps"),h7:!0}],MP4:[{ov:new aT([12,52,0],0,100,"%",null,null,!0),h7:50}],anim:[{ov:new aT("Speed",10,1e3,"%",null,!0,!0),h7:100},{ov:new f6("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),h7:0},{ov:new f5("reverse frames"),h7:!1},{ov:new f5("boomerang"),h7:!1}],slcs:[{ov:new f7([8,11,0],["No Slices","All Slices","User Slices"]),h7:1}],artb:[{ov:new f5([1,16,1]),h7:!0}],hicc:[{ov:new f5("convert to sRGB"),h7:!0}]};
for(var o in this.aI){var P=this.aI[o];for(var I=0;I<P.length;I++){P[I].ov.O(P[I].h7);P[I].ov.J(G.E.w,this.WR,this)}}}cb.prototype=new kl;
cb.prototype.axY=function(){this.BD=-1};cb.prototype.S=function(){for(var o in this.aI)for(var I=0;I<this.aI[o].length;
I++)this.aI[o][I].ov.S()};cb.prototype.WR=function(){this.vF();this.j(new bO(G.E.w,!1))};cb.prototype.vF=function(){var o=this.KG,P=o[0],w=o[1],x=o[2],z=o[3],S=o[4],k=this.aI[P];
if(k==null)k=[];else k=k.slice(0);if(w)k=k.concat(this.aI.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(P)!=-1&&x)k=k.concat(this.aI.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(P)!=-1&&z)k=k.concat(this.aI.artb);if(S)k=k.concat(this.aI.hicc);
var f=o.join(",");if(f!=this.BD){this.BD=f;J.eg(this.Z);for(var I=0;I<k.length;I++){if(P=="PDF"&&!z&&(I==0||I==2))continue;
this.Z.appendChild(k[I].ov.Z);J.jB(this.Z)}}var C=this.azW=[];for(var I=0;I<k.length;I++)C.push(k[I].ov.m())};
cb.prototype.px=function(o,P,w,x,z){this.KG=[o,P,w,x,z];this.vF()};cb.prototype.m=function(){return this.azW.slice(0)};
cb.prototype.O=function(o,P){var w=this.KG,x=w[0],z=this.aI[x],S=Math.min(z.length,o.length);for(var I=0;
I<S;I++)z[I].ov.O(o[I]);this.vF();if(P!=!0)this.WR()};function gT(){kl.call(this);this.Z=J.k("span","fitem");
this.Bw=!1;this.eo=new eN("No",!1,"Cancel");this.ZN=new eN("Yes",!1,"Confirm");this.Z.appendChild(this.eo.Z);
this.Z.appendChild(this.ZN.Z);this.eo.J("click",this.NJ,this);this.ZN.J("click",this.NJ,this);this.S()}gT.prototype=new kl;
gT.prototype.S=function(){this.eo.ld(J._D("cross",null,"autoscale"));this.ZN.ld(J._D("checkmark",null,"autoscale"))};
gT.prototype.NJ=function(o){this.Bw=o.target==this.ZN;this.j(new bO("click",!1))};gT.prototype.m=function(){return this.Bw};
function f$(o){kl.call(this);this.Z=J.k("span","fitem");this.vr=new eN("\u25BC",null,"Auto Options",!0);
J.Dw(this.vr.Z,this.a0U.bind(this));this.Z.appendChild(this.vr.Z);this.jQ=new eN("Auto",null,null,!0);
this.jQ.J("click",this.pF,this);this.Z.appendChild(this.jQ.Z);this.bT=new fs("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.bT.J(G.E.w,this.pF,this);this.bT.O([!1,!1,!1,!0]);this.NK=new kl;var P=this.NK.Z=J.k("div","floatcont form");
P.setAttribute("style","width: 250px;");this.NK.parent=this;P.appendChild(this.bT.Z);this.Ix=[];for(var I=0;
I<2;I++){var w=new f6((I==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);w.O(.1);w.J(G.E.w,this.pF,this);
this.Ix.push(w);P.appendChild(w.Z)}}f$.prototype=new kl;f$.prototype.pF=function(o){this.j(new bO(G.E.w,!1))};
f$.prototype.S=function(){};f$.prototype.m=function(){return[this.bT.m().indexOf(!0),this.Ix[0].m(),this.Ix[1].m()]};
f$.prototype.a0U=function(o){if(J.Ni(this.NK.Z))return;o.stopPropagation();var P=this.vr.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);
w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4};this.j(w)};function j6(){kl.call(this);var o=this.Z=J.k("div","fitem");
this.Vi=new f7([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Vi.J(G.E.w,this.Xe,this);o.appendChild(this.Vi.Z);
this.f6=new fN(!1);this.f6.parent=this;this.f6.bN(16777215);this.f6.J(G.E.w,this.Xe,this);o.appendChild(this.f6.Z)}j6.prototype=new kl;
j6.prototype.S=function(){this.Vi.S();this.f6.S()};j6.prototype.a0H=function(o){var P=[o.artboardBackgroundType.v-1];
if(o.Clr)P.push(o.Clr.v);this.O(P)};j6.prototype.ag1=function(){var o=this.m();return{classID:"artboard",Clr:{t:"Objc",v:o[1]},artboardBackgroundType:{t:"long",v:o[0]+1}}};
j6.prototype.O=function(o){this.Vi.O(o[0]);if(o[1])this.f6.O(o[1])};j6.prototype.m=function(){return[this.Vi.m(),this.f6.m()]};
j6.prototype.Xe=function(o){if(o.target==this.f6)this.Vi.O(3);this.j(new bO(G.E.w,!1))};function jh(o){kl.call(this);
this.kd=o;this.aCY=0;this.aCJ=!1;this.yc=o?new jh.ET:null;this.Z=J.k("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.$O=J.k("div");this.Z.appendChild(this.$O);this._g=J.k("div");this.Z.appendChild(this._g);this.jR=[];
var P=Storage.list.length;if(o)P=P+1+jh.uG.length;var w=this.iq.bind(this);for(var I=0;I<P;I++){var x=J.k("div");
this.jR.push(x);this.$O.appendChild(x);x.addEventListener("click",w,!1)}this.iq(null,0)}jh.prototype=new kl;
jh.Vr=[];jh.s8=function(o){jh.Vr.push(o);o.xW()};jh.SH=function(){var o=jh.Vr;o.pop();o[o.length-1].xW()};
jh.prototype.xW=function(){this.iq(null,this.aCY)};jh.prototype.RU=function(o,P){if(!o.AX&&!this.aCJ){var w=this.kd?2:1;
for(var I=w;I<this.jR.length;I++)this.$O.removeChild(this.jR[I]);this.aCJ=!0;if(this.kd)this.yc.RU(o,P)}if(this.VE)this.VE.RU(o,P)};
jh.prototype.S=function(){if(this.kd)this.yc.S();if(this.VE)this.VE.S()};jh.prototype.iq=function(o,P){var w=this.jR,x;
if(P==null)P=w.indexOf(o.currentTarget);this.aCY=P;for(var I=0;I<w.length;I++)J.hC(w[I],"active");J.HT(w[P],"active");
if(this.kd)P--;J.eg(this._g);var z=Storage.list.length;if(P==-1)x=this.yc;else if(P<z)x=Storage._M(P);
else{var S=jh.uG[P-z];x=new jh.i9(S[1]);jM.event("strg_"+S[0])}this.VE=x;x.parent=this;this._g.appendChild(x.Z);
this.sH(this.V,this.Y);this.S()};jh.prototype.sH=function(o,P){this.V=o;this.Y=P;var w=o<850,x=w?50:210,z=Storage.list;
if(this.kd)z=[["Home",null,"strg/home"]].concat(z.concat(jh.uG));for(var I=0;I<z.length;I++){var S=this.jR[I],k="padding: 8px "+(w?13:36)+"px; cursor:pointer;";
S.setAttribute("style",k);var f=z[I][2],C=z[I].length==6;f=C?f:PIMG[f];S.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+f+"\" /> "+(w?"":z[I][0])}this.Z.style.width=o+"px";
this.Z.style.height=P+"px";this.$O.style.width=x+"px";this.$O.style.paddingTop="32px";if(this.VE)this.VE.sH(o-x,P)};
jh.uG=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var I=0;I<jh.uG.length;I++)if(jh.uG[I][5]*1e3<Date.now()){jh.uG.splice(I,1);I--}jh.ET=function(){this.kY=null;
var o=this.Z=J.k("div");o.style.background="var(--bg-canvas)";var P=this.S5=J.k("div");o.appendChild(P);
var w=J.k("style");o.appendChild(w);w.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var I=0;I<2;I++){var x=J.k("div"),w="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";P.appendChild(x);
if(I==0)w+="padding: 12px 0px";if(I==1)w+="position:absolute;  bottom:0;";x.setAttribute("style",w);
var z=J.k("img");x.appendChild(z);z.setAttribute("src",PIMG[I==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(I==0)this.vN=z;else this.a1b=z;if(I==0)this.a3$=x;else this.a6N=x}this.jR=[];w="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var S=this.s9.bind(this),k=J.k("div");P.appendChild(k);k.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var I=0;I<4;I++){var f=J.k("span","bhover");this.jR.push(f);f.setAttribute("style",w+"cursor:pointer; padding:12px;");
f.addEventListener("click",S,!1);k.appendChild(f)}J.jB(P);var x=J.k("div");x.setAttribute("style",w+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
x.textContent="Drop any files here";P.appendChild(x);var C=new Date().getDate(),H=new Date().getMonth();
if(H==11&&C>20||H==0&&C<10){this.hj=J.k("canvas");this.hj.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.QA=this.hj.getContext("2d");this.aBG=e.U(4);o.appendChild(this.hj);var b=Math.random()<.5,i={$:255,H:255,b:255};
if(!b){i=e.MR(Math.random(),Math.random()*.7,1);i.$*=255;i.H*=255;i.b*=255}this.Kd=[Math.round(1048575*Math.random()),b?.05:.02,Math.round(4+Math.random()*8),1,b?3:15,i,0,!0,b,b?1:.2,3];
this.acF=b?.1:.2;this.TE=this.YW.bind(this);window.requestAnimationFrame(this.TE)}};jh.ET.prototype=new kl;
jh.ET.prototype.YW=function(){window.requestAnimationFrame(this.TE);if(!J.Ni(this.Z))return;var o=this.aBG,P=this.hj,w=this.QA,x=P.width,z=P.height;
this.Kd[6]=Date.now()*.001*this.acF;e.g$.np(o,x,z,this.Kd,!0);w.putImageData(new ImageData(new Uint8ClampedArray(o.buffer),x,z),0,0)};
jh.ET.prototype.s9=function(o){var I=this.jR.indexOf(o.currentTarget),P=new bO(G.E.X,!0);if(I==0)P.data={Q:G.l.y7,hq:"newproject"};
if(I==1)P.data={Q:G.l.Ul};if(I==2)P.data={Q:G.l.y7,hq:"res0"};if(I==3)P.data={Q:G.l.v3};this.j(P)};jh.ET.prototype.S=function(){var o=this.jR,P=[[11,7],[1,6],[25,0],[0,17,6]],w=["\u2605","\uD83E\uDC7F","\u25A3"],w=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var I=0;I<o.length;I++)o[I].innerHTML="<span style=\"vertical-align:middle\">"+J._D(w[I],null,"autoscale")+"</span>\u2000"+kQ.get(P[I]);
var x="l"+"o"+"g"+"o",z=x+"_"+["pp","vp"][bn],S=new Date;if(S.getMonth()==3&&S.getDate()==1)z="lo"+"go_cuc"+"umber";
if(PIMG[x])z=x;this.vN.setAttribute("src",PIMG[z]);this.a1b.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
jh.ET.prototype.sH=function(o,P){var w=Math.min(P*1.5,Math.min(o,600)),x=this.hj;if(x){J.Wy(x,o,w*.26);
this.aBG=e.U(x.width*x.height*4)}this.Z.style.width=o+"px";this.Z.style.height=P+"px";this.a6N.style.width=o+"px";
this.S5.style.marginLeft=Math.max(0,Math.round((o+200-600)/2)-200)+"px";this.vN.style.width=w+"px";this.a1b.style.width=w+"px"};
jh.ET.prototype.RU=function(o,P){var w=o;if(o==null)o=this.r7;this.r7=o;if(!o.AX&&this.jR[2].parent){this.S5.removeChild(this.jR[2]);
this.S5.removeChild(this.jR[3])}this.jR[3].style.display=o.xE?"inline-block":"none";if(w)this.kY=setTimeout(this.RU.bind(this),100)};
jh.i9=function(o){var P=this.Z=J.k("iframe");P.style.background="var(--bg-canvas)";P.setAttribute("src",o)};
jh.i9.prototype=new kl;jh.i9.prototype.sH=function(o,P){var w=this.Z;w.style.width=o+"px";w.style.height=P+"px"};
jh.i9.prototype.RU=function(){};function Storage(o){kl.call(this);var P=this.Z=J.k("div","storage");
J.Kw(P);P.addEventListener("drop",this.a6g.bind(this),!1);var w=this.aA3=J.k("style");P.appendChild(w);
P.setAttribute("tabindex","0");P.style.outline="none";P.addEventListener("keydown",this.avC.bind(this),!1);
this._r=this.aCi.bind(this);this.GX=0;this.Ub=0;var x=J.k("div");P.appendChild(x);var z=this.atU.bind(this);
this.oq=J.k("div","bar");x.appendChild(this.oq);this.fb=J.k("div","fls scrollable");x.appendChild(this.fb);
this.Iu=J.k("div");x.appendChild(this.Iu);this.Iu.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.QG=J.k("div","bar");this.QG.textContent="Name: ";var S=this.se=J.k("input");S.setAttribute("type","text");
this.QG.appendChild(S);var k=this.Sr=J.k("div","btn");k.textContent="Save";this.QG.appendChild(k);J.FV(k,z);
J.Dw(this.fb,this._r);this.me=0;this.lE=o;var f=this.aeQ.bind(this),C=this.ayH=J.k("div");C.setAttribute("style","text-align:center; font-size:1.6em");
var H=J.k("img");C.appendChild(H);J.jB(C);H.setAttribute("src",PIMG[Storage.list[this.lE][2]]);H.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
J.FV(H,f);this.Ku=J.k("div","btn");C.appendChild(this.Ku);J.FV(this.Ku,f);this.Ov=new i4([{name:[6,20]},{name:[5,2],$Y:[i$.Jm,i$.sY],B:function(){return{B:Storage.Ai!=null}}}]);
this.Ov.parent=this;this.Ov.J("select",this.m8,this);this.fb.addEventListener("contextmenu",this._r);
this.aoz=J.k("span");this.nz=J.k("span");this.nz.setAttribute("style","position:absolute; right:0; top:5px;");
this.So=[];this.Uk=[];for(var I=0;I<3;I++){var b=J.k("div","btn");this.So.push(b);this.aoz.appendChild(b);
J.FV(b,z);b.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][I]}for(var I=0;I<5;I++){var b=J.k("div","btn");
this.Uk.push(b);this.nz.appendChild(b);J.FV(b,z)}window.addEventListener("message",this.aeC.bind(this),!1);
this.al7=!1;this.ZR=0;setInterval(this.ae1.bind(this),300);this.nV();var i=this.aFY=document.createElement("input");
i.setAttribute("type","file");i.addEventListener("change",this.a6g.bind(this),!1);document.body.appendChild(i);
i.setAttribute("style","display:none");i.setAttribute("multiple","")}Storage.prototype=new kl;Storage.WW=!1;
Storage.prototype.a6g=function(o){o.stopPropagation();o.preventDefault();var P=o.dataTransfer?o.dataTransfer.files:o.target.files;
this.au0=P.length;Storage.Ai={};for(var I=0;I<P.length;I++){var w=P[I],x=new FileReader;x.RB=w;x.onload=this.aDD.bind(this);
x.readAsArrayBuffer(w)}};Storage.prototype.aDD=function(o){var P=Storage.Ai;P[o.target.RB.name]=o.target.result;
this.au0--;if(this.au0==0)this.ka()};Storage.prototype.RU=function(o,P){var w=Storage.list[this.lE][3],x=jM.qx();
if(w){if(this.ZR==1&&J.Ni(this.Z)&&x!=null){this.nV()}if(this.ZR==2&&x==null){this.ox("forget","")}}};
Storage.prototype.ae1=function(){var o=J.Ni(this.Z),P=this.al7;if(o&&!P){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!o&&P){window.onpopstate=function(){};history.go(-1)}this.al7=o};
Storage.prototype.nV=function(){if(this.lN)document.body.removeChild(this.lN);this.B7=[[]];this.IS=0;
this.alw={"/":[]};this.an6="";this.K9=null;this.CD=[];this.RW=[];this.atG=[];this.agC=null;var o=Storage.list[this.lE][1],P=jM.$D("code/storages/"+Storage.list[this.lE][1]);
if(bn==1&&this.lE==0)P=o;var w=this.lN=J.k("iframe");w.setAttribute("src",P);w.setAttribute("style","display:none");
document.body.appendChild(w)};Storage.prototype.bJ=function(){return this.alw[this.Qa()]};Storage.prototype.M5=function(o){this.alw[this.Qa()]=o};
Storage._M=function(I){var o=Storage.cl[I];if(o==null)o=Storage.cl[I]=new Storage(I);return o};Storage.cl=[];
Storage.aP=0;Storage.aGP="";Storage.lK=function(o,P){Storage.aP=o;Storage.aGP=P;var w=Storage.cl;for(var I=0;
I<w.length;I++)if(w[I])w[I].xW()};Storage.a0v=[500*(1<<20),5e3*(1<<20)];Storage.c$=0;Storage.Qu=2;Storage.gG=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a0F=function(o){for(var I=0;I<Storage.cl.length;I++){if(Storage.cl[I]&&Storage.cl[I].lN.contentWindow==o)return!0}return!1};
Storage.prototype.avC=function(o){if(o.target.tagName=="INPUT")return;var P=i$;if(P.qw(o.code,P.bc)&&this.Qa().length!=0)this.aC7();
else if(o.ctrlKey){if(P.qw(o.code,P.l)){var w=[];this.M5(w);for(var I=0;I<this.K9.length;I++)w.push(I);
this.nA()}if(P.qw(o.code,P.cK))this.n2(2);if(P.qw(o.code,P.sY))this.ka()}else if(P.qw(o.code,P.w_)){var x=this.bJ();
if(x.length!=0)this.ane(x[0])}else if(P.qw(o.code,P.aa)){this.IS=Math.max(this.IS-1,0);this._s()}else{var z=0;
for(var I=65;I<=90;I++)if(o.code=="Key"+String.fromCharCode(I))z=I;if(z!=0){var S=String.fromCharCode(z).toLowerCase(),k=[],f=this.K9,C;
for(var I=0;I<f.length;I++)if(f[I][0][0].toLowerCase()==S)k.push(I);if(k.length==0)return;var x=this.bJ();
if(x.length==0)C=k[0];else{var H=k.indexOf(x[0]);if(H==-1){C=k[0];for(var I=0;I<k.length;I++)if(k[I]>x[0]){C=k[I];
break}}else C=k[(H+1)%k.length]}this.M5([C]);this.nA(!0)}}};Storage.prototype.sH=function(o,P){this.V=o;
this.Y=P;this.Z.style.width=o+"px";this.Z.style.height=P+"px";var w=o-30,x=Math.floor(w/230),w=Math.floor(w/x)-70;
this.aA3.textContent=".storage .tile .name {  width:"+w+"px;  }";this.se.style.width=o-140+"px";this.fb.style.width=this.oq.style.width=o-20+"px";
this.fb.style.height=P-70-(Storage.aP==0?0:45)+"px"};Storage.prototype.aeQ=function(){this._s()};Storage.prototype._s=function(){var o=this.lE,P="____strg"+o;
if(window[P]==null){jM.event("strg_"+Storage.list[o][0]);window[P]=!0}this.Ub=1;this.ox("show",this.Qa())};
Storage.prototype.Qa=function(o){var P=this.B7[this.IS],w="/"+P.join("/");if(o&&P.length!=0)w+="/";return w};
Storage.prototype.atU=function(o){var P=o.currentTarget,w=this.IS,x=this.So.indexOf(P),z=this.Uk.indexOf(P);
if(x>=0&&!this.aip(x))return;if(x==0){this.IS=Math.max(w-1,0);this._s()}if(x==1){this.IS=Math.min(w+1,this.B7.length-1);
this._s()}if(x==2){var S=this.B7[w+1]=this.B7[w].slice(0);S.pop();this.IS++;this.B7=this.B7.slice(0,this.IS+1);
this._s()}if(z==0){var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aFY.dispatchEvent(k)}if(z==1){Storage.c$=(Storage.c$+1)%2;this.xW()}if(z==2){Storage.Qu=(Storage.Qu+1)%3;
this.xW()}if(z==3){Storage.gG=(Storage.gG+1)%3;this.xW()}if(z==4){this.ox("forget","")}if(P==this.Sr){var f=this.se.value.trim(),C=this.K9,H=-1,b=["psd","ai"][bn];
if(!f.toLowerCase().endsWith(b)){alert("File Name has to end with \"."+b+"\".");return}for(var I=0;I<C.length;
I++)if(C[I][0]==f)H=I;if(H!=-1){this.b2("Do you really want to replace \""+f+"\"?",this.azo.bind(this))}else this.azo()}};
Storage.prototype.azo=function(){var o=this.se.value.trim(),P=[this.lE,this.Qa(!0)+o];this.ex({Q:G.l.aiA,i3:P});
this.j(new bO("canclose",!0))};Storage.prototype.ka=function(){if(Storage.Ai==null)return;this.ex({Q:G.l._K,Sp:kQ.get("Uploading ...")});
this.GX=4;k7._M(2,this.lN,[this.Qa(),Storage.Ai,this.K9],null,this.ajH.bind(this))};Storage.prototype.ajH=function(o){this.GX=0;
this.ex({Q:G.l.uz,Sp:kQ.get("Uploading ...")});this._s()};Storage.prototype.m8=function(o){var P=o.target.vm();
if(o.target==this.Ov){if(P[0]==0){var w=[kQ.get([6,20]),-1,0];this.K9.push(w);this.xW();var I=this.K9.indexOf(w),x=this.CD[I].querySelector(".name");
console.log(x);var z=new a1.WA(x,function(i){this.ex({Q:G.l._K,Sp:kQ.get([1,2])+" ..."});var M=this.Qa(!0)+i+"/";
console.log(M);this.ox("save",M)}.bind(this),!0)}else this.ka()}else{if(P[0]==0){this.n2(2)}else if(P[0]==1){var I=this.bJ()[0],S=this.K9[I],x=this.CD[I].querySelector(".name");
console.log(x);x.innerHTML=S[0];var z=new a1.WA(x,function(i){i=i.trim();var M=this.K9;for(var I=0;I<M.length;
I++)if(M[I][0]==i){alert("Item with such name already exists.");this.xW();return}var T=this.Qa(!0)+S[0]+":"+i;
console.log(T);this.ox("rename",T)}.bind(this))}else if(P[0]==2){this.n2(3)}else if(P[0]==3)this.aC7();
else if(P[0]==4){this.n2(1)}else{var k=this.K9[this.bJ()[0]],f=Storage.Gh(k),C=f[P[1]],H=C[0],b=this.xe().pop()[1];
if(Storage.ap$(k,H)!=-1){this.ox("share",b+":"+H+":-1");alert("Unshared.")}else{this.ox("share",b+":"+H+":"+P[2]);
alert("Shared.")}}}};Storage.ap$=function(o,P){var w=o[4];if(w==null)return-1;if(w.indexOf(P+":0")!=-1)return 0;
if(w.indexOf(P+":1")!=-1)return 1;return-1};Storage.prototype.aC7=function(){var o=this.bJ();this.b2("Do you really want to delete "+(o.length==1?"\""+this.K9[o[0]][0]+"\"":"these files")+"?",this.Pk.bind(this))};
Storage.prototype.b2=function(o,P){var w={Q:G.l.y7,hq:"confirm",P:o,eA:P};this.ex(w)};Storage.prototype.n2=function(o){this.GX=o;
if(1<o)this.ex({Q:G.l._K,Sp:kQ.get("Downloading ...")});else this.ex({Q:G.l._K,Sp:kQ.get("Getting info ...")});
k7._M(0,this.lN,this.Qa(),this.xe(!0),this.a3W.bind(this))};Storage.prototype.a3W=function(o){if(this.GX==1){var P=0,w=0;
for(var x in o){var z=o[x];P+=z[1];w++}this.b2(w+" files, "+aN.yP(P)+" in total.",function(){});this.ex({Q:G.l.uz,Sp:kQ.get("Getting info ...")});
this.GX=0}if(1<this.GX)k7._M(1,this.lN,o,null,this.a15.bind(this))};Storage.prototype.a15=function(o){if(1<this.GX){if(1<this.GX)this.ex({Q:G.l.uz,Sp:kQ.get("Downloading ...")});
var P={},w=this.Qa(!0);for(var x in o)P[x.slice(w.length)]=o[x];if(this.GX==2){Storage.Ai=P;alert("Copied to a clipboard")}if(this.GX==3){var z=Object.keys(o);
if(z.length==1)b_.save(o[z[0]].buffer,z[0].split("/").pop());else b_.save(UZIP.encode(P),w=="/"?"files.zip":this.Qa().split("/").pop()+".zip")}}this.GX=0};
Storage.Ai=null;Storage.prototype.Pk=function(){this.ex({Q:G.l._K,Sp:kQ.get([5,4])+" ..."});this.RW=this.xe();
this.CP()};Storage.prototype.CP=function(){if(this.RW.length==0){this.ex({Q:G.l.uz,Sp:kQ.get([5,4])+" ..."});
this.M5([]);this._s()}else this.ox("delete",this.RW.pop()[1])};Storage.prototype.xe=function(o){var P=[],w=this.Qa(!0),x=this.bJ();
for(var I=0;I<x.length;I++){var z=this.K9[x[I]];if(o)P.push(z[0]);else P.push([this.lE,w+z[0]])}return P};
Storage.prototype.ox=function(o,P){J.HT(this.Z,"disabled");this.an6=o;if(Storage.WW)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+o+"\", \"prm\": "+JSON.stringify(P)+"  }");
this.lN.contentWindow.postMessage("{\"code\": \""+o+"\", \"prm\": "+JSON.stringify(P)+"  }","*")};Storage.prototype.aeC=function(o){if(o.source!=this.lN.contentWindow||this.GX!=0)return;
J.hC(this.Z,"disabled");if(typeof o.data=="string"){if(Storage.WW)console.log("==",Math.floor(Date.now()/1e3),o.data);
var P=JSON.parse(o.data),w=P.code,x=P.prm,z=this.an6,S=Storage.list[this.lE][3];if(w=="ready"){if(S&&!x){var k=jM.qx();
console.log(k);var f=jM.ao(),C=f.acc;if(k==null){this.ZR=1;alert("Log in to use this storage (press Account at the top).");
this.KE();return}var H=[],b=k.wantToJoin;for(var i in b)H.push(parseInt(i.slice(1)));var M=[],T=k.inTeams;
for(var I=0;I<T.length;I++)M.push(T[I][2]);var O={uid:k.id,limit:Storage.a0v[jM.lO()?1:0],inTeams:M,myTeams:H};
O.secret=C&&C.pds?C.pds:"";this.ox("login",O);return}if(S)this.ZR=2;if(S&&P.secret){var f=jM.ao(),C=f.acc;
if(C==null)C=f.acc={};C.pds=P.secret;jM.jH(f)}if(x)this._s();else this.KE()}else if(w!="0"){if(z=="save")this.ex({Q:G.l.uz,Sp:kQ.get([1,2])+" ..."});
if(z=="delete")this.CP();alert(x);this.xW()}else if(z=="show"){this.Ub=0;this.K9=x;this.xW()}else if(z=="save"){this.Ub=0;
this.ex({Q:G.l.uz,Sp:kQ.get([1,2])+" ..."});this._s()}else if(z=="delete"){this.CP()}else if(z=="forget"){if(S)this.KE();
else this.nV()}else if(z=="rename"||z=="share"){this._s()}else throw w}else{if(Storage.WW)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.ex({Q:G.l.agz,i3:this.xe()[0],Du:o.data});this.ex({Q:G.l.uz,Sp:"Opening ..."})}};Storage.prototype.KE=function(){J.eg(this.oq);
J.eg(this.fb);J.eg(this.Iu);this.fb.appendChild(this.ayH)};Storage.prototype.aip=function(I){if(I==0)return this.IS>0;
if(I==1)return this.IS<this.B7.length-1;if(I==2)return this.Qa()!="/"};Storage.prototype.xW=function(){var o=Storage.list[this.lE][3],P=this.K9,w=Storage.Qu,x=Storage.c$,z=Storage.gG;
if(P==null)return;P.sort(function(R,$){var p=R[1]==-1?1:5,c=$[1]==-1?1:5,B=0;if(Math.min(p,c)==1&&p!=c)return p-c;
else if(p==1||w==0)B=R[0].toLowerCase()<$[0].toLowerCase()?-1:1;else if(w==1)B=R[1]-$[1];else if(w==2)B=R[2]-$[2];
if(x==1)B=-B;if(R[0]=="Shared")B=-1;if($[0]=="Shared")B=1;return B});var S=this.fb,k=this.oq,f=this.B7[this.IS];
J.eg(S);J.eg(k);this.CD=[];for(var I=0;I<3;I++)if(this.aip(I))J.hC(this.So[I],"disabled");else J.HT(this.So[I],"disabled");
k.appendChild(this.aoz);k.appendChild(this.nz);var C=J.k("span");C.textContent="/";k.appendChild(C);
for(var I=0;I<f.length;I++){var C=J.k("span");C.textContent=f[I];k.appendChild(C);var C=J.k("span");
C.textContent="/";k.appendChild(C)}var H=["tile","icon","litm"][z];for(var I=0;I<P.length;I++){var b=P[I],i=b[1]==-1,M=i?"":aN.yP(b[1]),T=J.k("div","cont "+H),a=!1;
S.appendChild(T);this.CD.push(T);T.setAttribute("title",b[0]+(i?"":"\nSize: "+M+"\nDate Modified: "+new Date(b[2]*1e3).toLocaleString().replaceAll(". ",".")));
var O=J.k("img");O.setAttribute("src",i?Storage.akJ:b[3]?b[3]:Storage.RB);if(!i&&b[3])O.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var Y=J.k("span","name"),U=b[0];if(H=="icon"&&U.length>30)U=U.slice(0,24)+".."+U.slice(U.length-5);if(o&&f.length==1&&f[0]=="Shared"){var W=Storage.Gh(),t=parseInt(U.slice(5));
for(var _=0;_<W.length;_++)if(W[_][0]==t)U=W[_][1]}Y.textContent=U;T.appendChild(O);T.appendChild(Y);
if(H!="icon"&&!i){if(H=="tile")J.jB(Y);var n=J.k("span");n.textContent=M;n.style.opacity="0.8";(H=="tile"?Y:T).appendChild(n)}var y=b[0].split("."),F=(y.length==1?"":y.pop()).toUpperCase();
if(o&&b[0]=="Shared"&&f.length==0){a=!0;F="\u21E7"}if(H!="litm"&&(!i&&b[3]==null||a)){var V=J.k("span","ext");
V.textContent=F;var D=Storage.Sv[F];V.style.backgroundColor=D?D:Storage.ar1(F);T.appendChild(V)}J.Dw(T,this._r);
T.addEventListener("contextmenu",this._r)}this.nA();var l=this.QG.parentNode!=null,Q=Storage.aP,m=this.Z;
if(l&&Q==0)m.removeChild(this.QG);if(!l&&Q==1)m.appendChild(this.QG);this.sH(this.V,this.Y);this.S()};
Storage.prototype.nA=function(o){var P=this.CD,w=this.K9,x=this.bJ(),z=!1,S=0;for(var I=0;I<P.length;
I++){var k=w[I],f=k[1]==-1,C=P[I];if(Storage.aP==1&&!f&&!k[0].toLowerCase().endsWith(".psd"))C.style.display="none";
else C.style.display="auto";if(x.indexOf(I)==-1)J.hC(C,"active");else{if(f)z=!0;else S+=k[1];J.HT(C,"active");
if(o)C.scrollIntoView({block:"center",behavior:"smooth"})}}var H=z?"":aN.yP(S);this.Iu.textContent=x.length==0?"":x.length+" item"+(x.length==1?"":"s")+" selected\u2001"+H;
this.se.value=x.length==1&&!z?w[x[0]][0]:Storage.aGP};Storage.prototype.ane=function(I){var o=this.K9[I];
if(o[1]==-1){var P=this.B7[this.IS].slice(0);P.push(o[0]);this.IS++;this.B7[this.IS]=P;this.B7=this.B7.slice(0,this.IS+1);
this.M5([]);this._s()}else if(Storage.aP==0){this.ex({Q:G.l._K,Sp:"Opening ..."});this.j(new bO("canclose",!0));
var w=this.Qa(!0)+o[0];this.ox("load",w)}};Storage.prototype.S=function(){var o=Storage.Qu,P=Storage.c$,w=Storage.gG;
this.Uk[0].textContent="Upload";this.Uk[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][P];this.Uk[2].textContent=kQ.get([[12,48],[12,14,0],"Date"][o]);
this.Uk[3].textContent=kQ.get(["Tiles","Icons",[25,3,1]][w]);this.Uk[4].textContent="\u2716";this.Ku.innerHTML=kQ.get([[23,6],Storage.list[this.lE][0]])+"<br/><small><small>"+Storage.list[this.lE][4]+"</small></small>";
this.RU()};Storage.prototype.aCi=function(o){this.ex({Q:G.l.JF});if(J.Ni(this.ayH))return;if(o.button==3||o.button==4){if(Date.now()-this.aD2>50){var P=this.IS;
if(o.button==3)this.IS=Math.max(P-1,0);else this.IS=Math.min(P+1,this.B7.length-1);this._s()}this.aD2=Date.now();
return}o.stopPropagation();var I=this.CD.indexOf(o.currentTarget);if(o.type=="contextmenu"){if(this.K9==null)return;
o.preventDefault();var w=this.Ov;if(I!=-1){var x=[{name:[5,1],$Y:[i$.Jm,i$.cK]},{name:[6,37]},{name:"Download",Pd:!0},{name:[5,4],$Y:[i$.bc]},{name:[9,2]}];
if(Storage.list[this.lE][3]){var z=this.K9[I],S=Storage.Gh(z);if(S.length!=0){var k=[];for(var f=0;f<S.length;
f++){var C=[],H=S[f],b=Storage.ap$(z,H[0]);if(b!=-1)C.push({name:"Unshare"});else C.push({name:"Allow Read"},{name:"Allow Read & Write"});
k.push({name:H[1]+[""," (R)"," (R,W)"][b+1],sub:C})}x.push({name:"Share With",sub:k})}}w=new i4(x);w.parent=this;
w.J("select",this.m8,this)}w.parent=this;w.S();w.update();this.ex({Q:G.l.tZ,NP:w,x:o.clientX+4,y:o.clientY});
return}var i=this.bJ(),M=i.indexOf(I);if(o.button!=0&&M!=-1)return;if(o.target==this.fb)this.M5([]);
else{if(o.ctrlKey){if(M==-1)i.push(I);else i.splice(M,1)}else if(o.shiftKey&&i.length!=0){var f=i[0];
if(f<I){var T=I;I=f;f=T}i=[];this.M5(i);for(var O=I;O<=f;O++)i.push(O)}else{this.M5([I]);if(Date.now()-this.me<300&&i.length!=0&&i[0]==I){this.ane(I);
this.me=0}}}this.me=Date.now();this.nA()};Storage.prototype.ex=function(o){var P=new bO(G.E.X,!0);P.data=o;
this.j(P)};Storage.Gh=function(o){var P=[],w=[],x=jM.ao(),z=x.acc.tstart;if(z)for(var I=0;I<z.length;
I++){P.push([z[I][2],z[I][0]]);w.push(z[I][2])}var S=jM.qx();z=S.inTeams;if(z)for(var I=0;I<z.length;
I++){P.push([z[I][2],z[I][0]]);w.push(z[I][2])}if(o&&o[4]){for(var I=0;I<o[4].length;I++){var k=parseInt(o[4][I].split(":")[0]);
if(w.indexOf(k)==-1)P.push([k,"Team "+k])}}return P};Storage.prototype.a0J=function(o,P){if(this.Ub!=0)return 1;
this.Ub=2;this.ex({Q:G.l._K,Sp:kQ.get([1,2])+" ..."});this.ox("save",o);if(Storage.WW)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.lN.contentWindow.postMessage(P,"*")};Storage.Sv={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.ar1=function(o){o=o.toLowerCase();
var P=0;for(var I=0;I<o.length;I++)P+=o.charCodeAt(I)*613<<8*I;return"#"+e.UM(P&16777215)};Storage.akJ="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.RB="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var k7=function(){var o,P,w,x,z,S,k,f;function C(T,O,Y,U,W){P=O;x=U;k=W;o=T;S={};if(o==0){w=[Y]}if(o==1){w=[];
for(var t in Y)w.push(t)}if(o==2){var _=Y[0],n=Y[1],y=Y[2],F={};for(var I=0;I<y.length;I++)F[y[I][0]]=!0;
var a={};for(var t in n){var V=t.split("/"),D=V[0],l=D.split("."),Q="";if(l.length!=1){Q="."+l.pop();
D=l.join(".")}while(F[D+Q])D+=" - Copy";V[0]=D+Q;a[V.join("/")]=n[t]}var m={};w=[];for(var t in a){var V=t.split("/");
for(var I=0;I<V.length-1;I++){var R=_+V.slice(0,I+1).join("/")+"/";if(m[R]==null){m[R]=!0;w.push([R])}}var $=_.endsWith("/")||t.startsWith("/")?"":"/";
w.push([_+$+t,a[t]])}}window.addEventListener("message",b,!1);f=Date.now();H()}function H(){if(w.length==0){M();
return}z=w.shift();if(o==0)i("show",z);if(o==1)i("load",z);if(o==2){i("save",z[0]);if(z.length==2)P.contentWindow.postMessage(z[1],"*")}}function b(T){if(T.source!=P.contentWindow)return;
if(o==0){var O=JSON.parse(T.data),Y=O.code,U=O.prm;for(var I=0;I<U.length;I++){var W=U[I];if(x&&x.indexOf(W[0])==-1)continue;
var t=z+(z=="/"?"":"/"),_=t+W[0];if(W[1]==-1)w.push(_);else S[_]=W}x=null}else if(o==1){S[z]=new Uint8Array(T.data)}H()}function i(T,O){var Y=T=="show"?", \"nothumbs\": true":"",U="{\"code\": \""+T+"\", \"prm\": "+JSON.stringify(O)+Y+"  }";
P.contentWindow.postMessage(U,"*")}function M(){console.log(Date.now()-f);window.removeEventListener("message",b,!1);
k(S)}return{_M:C}}();function aH(o){kl.call(this);var P=this.Z=J.k("div","form scrollable padded label12");
this.ZD=o;this.mt=null;var w=[],x=aH.Gs[o];this.Ex=[];for(var z in x){var S=parseInt(z.slice(1)),k=S%10==0?"":"\u2800\u2800- ";
w.push(k+x[z]);this.Ex.push(S)}this.PY=[new iU("Name",null,30),new iU("Description",null,30,4),o==0?new iU("File"," www.Photopea.com#i...",17):new aA("File",!1,!1),new iU("Thumbnail URL","* Use Imgur.com etc.",17),new f7("Category",w),new f5("Make Public"),new eN("<< Back",null,null,!0),new eN("Save",null,null,!0)];
if(o==0)this.PY.push(new jH("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new jH("Get a Thumbnail URL: File - Publish Online - JPG."),new jH("Write a proper description, so that your work can be found using text search."));
if(o==1)this.PY.push(new jH("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(o!=0)this.PY.push(new jH("Do not load any file to preserve the old version."));for(var I=0;I<this.PY.length;
I++){var f=this.PY[I];P.appendChild(f.Z);f.parent=this;if(I!=4&&I!=6)J.jB(P);if(f instanceof eN)f.J("click",this.aki,this);
if(o!=0&&I==2)f.J(G.E.w,this.aaK,this)}}aH.prototype=new kl;aH.prototype.aaK=function(o){var P=this.PY[2],w=P.m(),x=Object.keys(w),z=w[x[0]].buffer,S=eu.IL(z),k=" json atn abr grd asl pat csh icc".split(" ")[this.ZD];
if(S!=k){alert("This is a wrong file"+(S?" ("+S.toUpperCase()+")":"")+". You need to upload the "+k.toUpperCase()+" file.");
P.O({})}};aH.prototype.aki=function(o){if(o.target==this.PY[6]){this.j(new bO("back"));return}var P=this.PY[3].m().trim(),w=P.startsWith("http")&&(P.endsWith(".jpeg")||P.endsWith(".jpg")||P.endsWith(".png")||P.endsWith(".gif"));
if(!w){alert("Thumbnail URL is incorrect.");return}var x=new XMLHttpRequest,z="mirror.php?url="+encodeURIComponent(P);
x.open("GET",z);x.responseType="arraybuffer";x.onload=this.aGO.bind(this);x.send()};aH.prototype.aGO=function(o){var P=o.target.response,w=P.byteLength;
if(w>2e5&&eu.IL(P)!="gif"){alert("Thumbnail is too large ("+aN.yP(w)+"). Make it under 200 kB.");return}var x=this.PY[2].m(),z=Object.keys(x);
if(this.ZD!=0&&z.length==0&&(this.mt==null||this.mt.file==null||this.mt.file=="")){alert("You need to select a file.");
return}if(this.ZD!=0&&z.length!=0){console.log(x);b_.KG.am3(x[z[0]].buffer,z[0],this.a6M.bind(this),"pp-resources");
return}this.a6M()};aH.prototype.a6M=function(o){var P=this.ZD,w="name desc file thmb catg publ".split(" "),x=this.mt;
for(var I=0;I<6;I++){if(P!=0&&I==2)continue;var z=this.PY[I].m();if(I<=3){z=z.trim();if(z.length==0){alert("One of values is empty.");
return}}if(I==2){if(z.endsWith(".psd"))z=z.slice(0,z.length-4);var S=z.split("#i");if(S.length!=2||S[1].length!=8){alert("File ID is incorrect.");
return}z=S.pop()}if(I==4)z=this.Ex[z];x[w[I]]=z}if(P!=0){if(o)x.file=o;else if(x.file==null){alert("Select a file from your computer.");
return}}if(x.utme.length==0)x.utme=""+Math.round(Date.now()/1e3);x.type=P;this.j(new bO("save"))};aH.prototype.S=function(){};
aH.prototype.O=function(o){var P=this.mt=JSON.parse(JSON.stringify(o)),w=this.ZD,x="name desc file thmb catg publ".split(" ");
for(var I=0;I<6;I++){if(w!=0&&I==2)continue;var z=P[x[I]];if(z!=""&&I==2)z="https://photopea.com#i"+z;
if(I==4)z=this.Ex.indexOf(z);if(I==5&&z==null)z=!0;this.PY[I].O(z)}};aH.prototype.m=function(){return JSON.parse(JSON.stringify(this.mt))};
aH.Gs=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function c4(){kl.call(this);var o=this.Z=J.k("div","form");this.mt=null;this.$d=null;this.Fr=null;this.p$=null;
var P=J.k("canvas");this.QA=P.getContext("2d");J.N_(P);J.Dw(P,this.Z5.bind(this));this.ps=[new kp([12,44],[[19,0,0],[19,0,1]]),{Z:P},new f6([12,0],0,100,"%",null,null,null,4),new fN,new f6([12,40],0,100,"%",2,null,null,4),new eN([5,4],null,null,!0)];
for(var I=0;I<this.ps.length;I++){var w=this.ps[I];w.parent=this;o.appendChild(w.Z);if(I!=2&&I!=4)J.jB(o);
if(I!=1)w.J(I==5?"click":G.E.w,this.pF,this)}this.OA=this.j7.bind(this);this.$u=this.YE.bind(this)}c4.prototype=new kl;
c4.prototype.m=function(){return JSON.parse(JSON.stringify(this.mt))};c4.prototype.O=function(o){this.mt=JSON.parse(JSON.stringify(o));
this.vF()};c4.prototype.S=function(){var o=this.ps;for(var I=0;I<o.length;I++)if(o[I].S)o[I].S()};c4.prototype.Z5=function(o){var P=J.M(),w=J.YH(o,this.QA.canvas);
w.x*=P;w.y*=P;var x=this.Fr,z=this.p$,S=this.mt,k=S[1],f=7*J.M(),C=-1;for(var I=0;I<x.length;I++){if(eD.a_(w,x[I][0])<f)C=I}if(C==-1){if(Math.abs(w.y-(z.y+z._))>10*P)return;
var H=[.5,[0,0,0],1,.5];k.push(H);k.sort(function(b,i){return b[0]-i[0]});this.sd=[new eD,k.indexOf(H),0]}else this.sd=x[C];
this.$d=JSON.stringify(this.mt);J.Zw(window,this.OA);J.FV(window,this.$u);if(C==-1)this.j7(o);this.vF()};
c4.prototype.j7=function(o){this.mt=JSON.parse(this.$d);var P=J.M(),w=J.YH(o,this.QA.canvas);w.x*=P;
w.y*=P;var x=this.sd,z=x[1],S=this.p$,k=this.mt[1],f=k[z],C=(w.x-S.x)/S.q;if(x[2]==0){f[0]=Math.max(0,Math.min(1,C));
if(Math.abs(w.y-(S.y+S._))>30*P)k.splice(z,1)}else{var H=f[0],b=k[z+1][0],i=f[3];f[3]=Math.max(.13,Math.min(.87,(C-H)/(b-H)))}k.sort(function(M,T){return M[0]-T[0]});
this.vF()};c4.prototype.YE=function(o){J.ig(window,this.OA);J.qM(window,this.$u)};c4.prototype.pF=function(o){var P=this.ps,I=P.indexOf(o.target),w=this.mt,x=o.target.m(),z=this.sd;
if(I==0)w[0]=x;if(z){var S=w[1][z[1]];if(I==2)S[2]=x/100;if(I==3){x=e.AE(o.target.gV());S[1]=[x.$/255,x.H/255,x.b/255]}if(I==4)if(z[2]==0)S[0]=x/100;
else S[3]=Math.max(.13,Math.min(.87,x/100));if(I==5){w[1].splice(z[1],1);this.sd=null}}this.vF()};c4.prototype.vF=function(){var o=this.ps,P=this.mt,w=P[1],x=this.QA,z=x.canvas;
o[0].O(P[0]);var S=z.width=Math.floor(300*J.M()),k=z.height=Math.floor(60*J.M()),f=Math.floor(20*J.M()),C=S-f-f;
this.p$=new fA(f,f,C,k-f-f);J.PH(z);var H=x.fillStyle=x.createLinearGradient(f,f,S-f,f);e.G.fS(H,w);
x.fillRect(f,f,C,k-f-f);x.lineWidth=1;x.strokeRect(f-.5,f-.5,C+1,k-f-f+1);var b=this.Fr=[],i=this.sd;
x.fillStyle="white";for(var I=0;I<w.length;I++){var M=w[I],T=M[0],O=k-f*.6;if(i&&i[1]==I&&i[2]==0){x.fillStyle="#00aaff";
x.beginPath();x.arc(f+T*C,O,k*.125,0,2*Math.PI);x.fill()}x.fillStyle="white";x.beginPath();x.arc(f+T*C,O,k*.1,0,2*Math.PI);
x.fill();x.beginPath();x.arc(f+T*C,O,k*.07,0,2*Math.PI);x.stroke();b.push([new eD(f+T*C,O),I,0]);if(I!=w.length-1){var Y=M[3],U=w[I+1][0];
T=T+Y*(U-T);O=f*.7;if(i&&i[1]==I&&i[2]==1){x.fillStyle="#00aaff";x.beginPath();x.arc(f+T*C,O,k*.075,0,2*Math.PI);
x.fill()}x.fillStyle="white";x.beginPath();x.arc(f+T*C,O,k*.05,0,2*Math.PI);x.fill();b.push([new eD(f+T*C,O),I,1])}}o[2].hk(i&&i[2]==0);
o[3].hk(i&&i[2]==0);o[4].hk(i!=null);o[5].hk(i&&i[2]==0&&w.length>2);if(i){var M=w[i[1]],W=M[1];if(i[2]==0)o[2].O(M[2]*100);
o[3].bN(e.Oq({$:W[0]*255,H:W[1]*255,b:W[2]*255}));o[4].O(M[i[2]==0?0:3]*100)}};function cq(o){kl.call(this);
this.fD=o;this.Z=J.k("div","");this.gP=[];this.Xg=null;this.aiR=[]}cq.prototype=new kl;cq.prototype.dq=function(o){};
cq.prototype.fn=function(){return!1};cq.prototype.sH=function(o,P){};cq.prototype.RU=function(o,P){};
cq.prototype.rB=function(o){};cq.prototype.O=function(o,P,w,x,z,S){var k=[],f=this.gP,C=0,H=cM.wb["s"+this.fD];
if(this.fD=="Dspl")this.gN(o,k,S);else H?H(o,k,S):this.gN(o,k,S);for(var I=0;I<f.length;I++)if(!(f[I]instanceof jH))f[I].O(k[C++]);
if(o.RndS)this.Xg=o.RndS.v};cq.prototype.m=function(){var o=cM.bS(this.fD),P=[],w=this.gP,x=0;for(var I=0;
I<w.length;I++)if(!(w[I]instanceof jH))P[x++]=w[I].m();var z=cM.wb["g"+this.fD];if(this.fD=="Dspl")this.P$(o,P);
else z?z(o,P):this.P$(o,P);if(o.RndS)o.RndS.v=this.Xg;return o};cq.prototype.xF=function(o){};cq.prototype.CR=function(o){if(o&&o.target instanceof eN){this.Xg=Math.floor(Math.random()*4294967295)}var P=this.aiR;
for(var I=0;I<P.length;I+=2){var w=this.gP[P[I]],x=this.gP[P[I+1]],z=w.m(),S=x.m();if(o.target==w)x.O(Math.max(z,S));
else w.O(Math.min(z,S))}this.j(new bO(G.E.w))};cq.prototype.S=function(){for(var I=0;I<this.gP.length;
I++)this.gP[I].S();var o=this.a5B;if(o)o.S()};cq.prototype.Ir=function(o){J.HT(this.Z,"form");var P=this.gP;
for(var I=0;I<P.length;I++){var w=P[I];w.parent=this;w.J(G.E.w,this.CR,this);this.Z.appendChild(w.Z);
if(w instanceof f5&&P[I+1]instanceof fN)continue;if(o&&o.indexOf(I)!=-1)J.pp(this.Z);else J.jB(this.Z)}var x=cM.bS(this.fD);
if(x.RndS){var z=this.a5B=new eN([25,1,2],null,null,!0);this.Z.appendChild(z.Z);z.J("click",this.CR,this)}};
cq.prototype.qD=function(o){return!1};cq.prototype.RE=function(){return!1};cq.prototype.aE=function(o,P,w,x,z){};
cq.prototype.Dv=function(o,P,w,x,z){};cq.prototype.I2=function(o,P,w,x,z){};cq.prototype.P$=function(o,P){};
cq.prototype.gN=function(o,P){};cq.prototype.pM=function(o){var P=o.target.m().indexOf(!0)!=-1,w=new bO(G.E.X,!0);
w.N8=!0;w.data={Q:P?G.l.HB:G.l.xz,I:N.rW};this.j(w);w=new bO(G.E.z,!0);w.I=N.rW;w.N8=!0;w.data={Q:"supertool",I:P?this:null};
this.j(w)};cq.awv=function(o){o.RE=function(){return!0};o.aE=function(P,w,x,z,S){this.h3=!0;this.ao0(P,S)};
o.Dv=function(P,w,x,z,S){if(!this.h3)return;this.ao0(P,S)};o.I2=function(P,w,x,z,S){this.h3=!1};o.ao0=function(P,w){var x=new fA(0,0,P.q,P._);
if(P.e)x=P.e.rect;var z=P.s.hI(w.x,w.y);z.x-=x.x;z.y-=x.y;function S(k,f){return Math.round(Math.max(0,Math.min(100,100*k/f)))}this.gP[2].O(S(z.x,x.q));
this.gP[3].O(S(z.y,x._));this.CR()}};cq.Bokh=function(){cq.call(this,"Bokh");this.gP=[new f7("Depth Map",["A","b"]),new aT("Focal Distance",0,255),new f5([4,11]),new f7([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new aT([12,56],0,100),new aT([12,15],0,360),new aT([12,2],0,100),new aT([4,13],0,255),new aT([24,6],0,100),new kp([12,58],[[12,59,0],[12,59,1]]),new f5([12,60])];
this.Ir([5,7])};cq.Bokh.prototype=new cq;cq.Bokh.prototype.gN=function(o,P,w){var x=[[22,5,0],[6,5,3],[6,2]],z=o.BkDi.v.BtDi,S=o.BkDc,k=0;
if(z=="BeIn")k=0;else if(z=="BeIt"&&S.v.BtDc=="BeCt")k=1;else if(z=="BeIt"&&S.v.BtDc=="BeCm")k=2;else k=3+S.v;
for(var I=0;I<w[1].length;I++)x.push(w[1][I].name);this.gP[0].Cp(x,[3]);P[0]=k;P[1]=o.BkDp.v;P[2]=o.BkDs.v;
P[3]=parseInt(o.BkIs.v.BtIs.slice(3))-3;P[4]=o.BkIb.v;P[5]=o.BkIr.v;P[6]=o.BkSb.v;P[7]=o.BkSt.v;P[8]=o.BkNa.v;
P[9]=o.BkNt.v.BtNt=="BeNu"?0:1;P[10]=o.BkNm.v};cq.Bokh.prototype.P$=function(o,P){var w;if(P[0]==0){w="BeIn";
delete o.BkDc}else if(P[0]<3){w="BeIt";o.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][P[0]-1]}}}else{w="BeIa";
o.BkDc={t:"long",v:P[0]-3}}o.BkDi.v.BtDi=w;o.BkDp.v=P[1];o.BkDs.v=P[2];o.BkIs.v.BtIs="BeS"+(3+P[3]);
o.BkIb.v=P[4];o.BkIr.v=P[5];o.BkSb.v=P[6];o.BkSt.v=P[7];o.BkNa.v=P[8];o.BkNt.v.BtNt=["BeNu","BeNg"][P[9]];
o.BkNm.v=P[10]};cq.oilPaint=function(){cq.call(this,"oilPaint");this.gP=[new aT([12,56],.1,10,"px",!0),new aT("Cleanliness",0,10,"px",!0),new aT([12,38],.1,10,null,!0),new aT("Bristle Detail",0,10,null,!0),new f5("Lighting"),new aT("Shine",0,10,null,!0),new i7([12,15])];
this.Ir()};cq.oilPaint.prototype=new cq;cq.oilPaint.prototype.gN=function(o,P){var w="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var I=0;I<w.length;I++)P[I]=o[w[I]].v;P[6]=[o.LghD.v]};cq.oilPaint.prototype.P$=function(o,P){var w="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var I=0;I<w.length;I++)o[w[I]].v=P[I];o.LghD.v=P[6][0]};cq.TrcC=function(){cq.call(this,"TrcC");
this.gP=[new aT("Level",0,255),new kp([12,69],[[19,4,1],[19,4,0]])];this.Ir()};cq.TrcC.prototype=new cq;
cq.TrcC.prototype.gN=function(o,P){P[0]=o.Lvl.v;P[1]=["Lwr","Upr"].indexOf(o.Edg.v.CntE)};cq.TrcC.prototype.P$=function(o,P){o.Lvl.v=P[0];
o.Edg.v.CntE=["Lwr","Upr"][P[1]]};cq["Dfs "]=function(){cq.call(this,"Dfs ");this.gP=[new kp([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Ir()};cq["Dfs "].prototype=new cq;cq["Dfs "].prototype.gN=function(o,P){P[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(o.Md.v.DfsM)};
cq["Dfs "].prototype.P$=function(o,P){o.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][P[0]]};cq.Embs=function(){cq.call(this,"Embs");
this.gP=[new i7([12,15]),new aT([12,42],1,100,"px"),new aT([12,57],1,500,"%")];this.Ir()};cq.Embs.prototype=new cq;
cq.Embs.prototype.gN=function(o,P){P[0]=[o.Angl.v];P[1]=o.Hght.v;P[2]=o.Amnt.v};cq.Embs.prototype.P$=function(o,P){o.Angl.v=P[0][0];
o.Hght.v=P[1];o.Amnt.v=P[2]};cq["Wnd "]=function(){cq.call(this,"Wnd ");this.gP=[new kp([12,32],["Wind","Blast","Stagger"]),new kp([12,33],["From the Right","From the Left"])];
this.Ir()};cq["Wnd "].prototype=new cq;cq["Wnd "].prototype.gN=function(o,P){P[0]=["Wnd","Blst","Stgr"].indexOf(o.WndM.v.WndM);
P[1]=["Left","Rght"].indexOf(o.Drct.v.Drct)};cq["Wnd "].prototype.P$=function(o,P){o.WndM.v.WndM=["Wnd","Blst","Stgr"][P[0]];
o.Drct.v.Drct=["Left","Rght"][P[1]]};cq.denoise=function(){cq.call(this,"denoise");this.gP=[new aT([12,64],0,10),new aT([12,65],0,100,"%")];
this.Ir()};cq.denoise.prototype=new cq;cq.denoise.prototype.gN=function(o,P){var w=o.channelDenoise.v[0].v;
P[0]=w.Amnt.v;P[1]=w.EdgF.v};cq.denoise.prototype.P$=function(o,P){var w=o.channelDenoise.v[0].v;w.Amnt.v=P[0];
w.EdgF.v=P[1]};cq.lightFilterGradient=function(){cq.call(this,"lightFilterGradient");this.gP=[new aT([24,3,1],0,100,"px",1,!0),new aT([12,38],0,200,"%"),new f5([4,11]),new aT("High",0,100,"%"),new aT("Medium",0,100,"%"),new aT("Low",0,100,"%")];
this.Ir()};cq.lightFilterGradient.prototype=new cq;cq.lightFilterGradient.prototype.gN=function(o,P){P[0]=o.blur.v;
P[1]=o.textureScale.v*100;P[2]=o.Scl.v==-1;var w=o.Dtl.v;P[3]=w[0].v*100;P[4]=w[1].v*100;P[5]=w[2].v*100};
cq.lightFilterGradient.prototype.P$=function(o,P){o.blur.v=P[0];o.textureScale.v=P[1]/100;o.Scl.v=P[2]?-1:1;
var w=o.Dtl.v;w[0].v=P[3]/100;w[1].v=P[4]/100;w[2].v=P[5]/100};cq.Fbrs=function(){cq.call(this,"Fbrs");
this.gP=[new aT("Variance",1,64),new aT([12,64],1,64)];this.Ir()};cq.Fbrs.prototype=new cq;cq.Fbrs.prototype.gN=function(o,P){P[0]=o.Vrnc.v;
P[1]=o.Strg.v};cq.Fbrs.prototype.P$=function(o,P){o.Vrnc.v=P[0];o.Strg.v=P[1]};cq.LnsF=function(){cq.call(this,"LnsF");
this.gP=[new aT([12,2],10,300,"%"),new kp([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new aT("Position X",0,100,"%"),new aT("Position Y",0,100,"%")];
this.Ir()};cq.LnsF.prototype=new cq;cq.LnsF.prototype.gN=function(o,P){P[0]=o.Brgh.v;P[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(o.Lns.v.Lns);
var w=o.FlrC.v;P[2]=Math.round(w.Hrzn.v*100);P[3]=Math.round(w.Vrtc.v*100)};cq.LnsF.prototype.P$=function(o,P){o.Brgh.v=P[0];
o.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][P[1]];var w=o.FlrC.v;w.Hrzn.v=P[2]/100;w.Vrtc.v=P[3]/100};cq.awv(cq.LnsF.prototype);
cq.blendOptions=function(){cq.call(this,"blendOptions");this.gP.push(new f7([12,19,0],jK.NR,jK.jX));
this.gP.push(new aT([12,0],0,100,"%"));this.Ir()};cq.blendOptions.prototype=new cq;cq.blendOptions.prototype.gN=function(o,P){P[0]=jK.VB.indexOf(o.Md.v.BlnM);
P[1]=o.Opct.v.val};cq.blendOptions.prototype.P$=function(o,P){o.Md.v.BlnM=jK.VB[P[0]];o.Opct.v.val=P[1]};
cq.LnCr=function(){cq.call(this,"LnCr");this.gP=[new aT([12,57],-100,100),new aT([12,38],10,150,"%")];
this.Ir()};cq.LnCr.prototype=new cq;cq.LnCr.prototype.gN=function(o,P){P[0]=o.LnIa.v;P[1]=o.LnSi.v};
cq.LnCr.prototype.P$=function(o,P){o.LnIa.v=P[0];o.LnSi.v=P[1]};cq.adaptCorrect=function(){cq.call(this,"adaptCorrect");
var o=kU;this.gP=[new jH([19,6,0]),new o([12,57],0,100,"%"),new o("Tone",0,100,"%"),new o([12,56],0,200,"px"),new jH([19,6,2]),new o([12,57],0,100,"%"),new o("Tone",0,100,"%"),new o([12,56],0,200,"px"),new jH([3]),new o([13,0],-100,100)];
this.Ir([3,7])};cq.adaptCorrect.prototype=new cq;cq.adaptCorrect.prototype.gN=function(o,P){var w=o.sdwM.v;
P[0]=w.Amnt.v.val;P[1]=w.Wdth.v.val;P[2]=w.Rds.v;var w=o.hglM.v;P[3]=w.Amnt.v.val;P[4]=w.Wdth.v.val;
P[5]=w.Rds.v;P[6]=o.ClrC.v};cq.adaptCorrect.prototype.P$=function(o,P){var w=o.sdwM.v;w.Amnt.v.val=P[0];
w.Wdth.v.val=P[1];w.Rds.v=P[2];var w=o.hglM.v;w.Amnt.v.val=P[3];w.Wdth.v.val=P[4];w.Rds.v=P[5];o.ClrC.v=P[6]};
cq.Flam=function(){cq.call(this,"Flam");var o=this.gP=[new f7([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new aT([12,80,0],20,1e3,"px"),new f5("Randomize Length"),new aT([12,41],5,600,"px"),new aT([12,15],0,360,"\xB0"),new aT("Interval",10,200,"px"),new f5("Adapt Interval for Loops"),new fN(!1),new f7([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new aT("Turbulent",0,100),new aT("Jag",0,100),new aT([12,0],0,100),new aT("Lines",2,30),new aT("Bottom",0,100),new f7([12,22],["Normal","Violent","Flat"]),new f7([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new f5("Randomize Shape"),new aT("Random Seed",0,100)];
this.Ir();var P=this.Z;J.eg(P);var w=new kp(null,["Basic","Advanced"]);w.J(G.E.w,this.a11,this);P.appendChild(w.Z);
J.pp(P);var x=J.k("div"),z=J.k("div");this.awy=[x,z];P.appendChild(x);for(var I=0;I<o.length;I++){(I<9?x:z).appendChild(o[I].Z);
if(I==6)J.jB(x)}o[0].J(G.E.w,this.avy,this);this.avy()};cq.Flam.prototype=new cq;cq.Flam.prototype.avy=function(o){var P=this.gP,I=P[0].m();
P[1].hk(I!=0&&I!=5);P[2].hk(I!=0&&I!=5);P[4].hk(I!=0&&I!=5&&I!=1);P[5].hk(I!=0&&I!=5);P[6].hk(I!=0&&I!=5)};
cq.Flam.prototype.a11=function(o){var I=o.target.m(),P=this.awy,w=this.Z;w.removeChild(P[1-I]);w.appendChild(P[I])};
cq.boxblur=function(){cq.call(this,"boxblur");this.gP=[new aT([12,56],1,200," px")];this.Ir()};cq.boxblur.prototype=new cq;
cq.boxblur.prototype.gN=function(o,P){P[0]=o.Rds.v.val};cq.boxblur.prototype.P$=function(o,P){o.Rds.v.val=P[0]};
cq.GsnB=function(){cq.call(this,"GsnB");this.gP=[new aT([12,56],.1,400,"px",1,!0)];this.Ir()};cq.GsnB.prototype=new cq;
cq.Dila=function(){cq.call(this,"Dila");this.gP=[new aT([11,12,1],0,20,"px",0),new aT([12,56],0,400,"px",0,!0)];
this.Ir()};cq.Dila.prototype=new cq;cq.MtnB=function(){cq.call(this,"MtnB");this.gP=[new i7([12,15]),new aT([12,28],1,100," px")];
this.Ir()};cq.MtnB.prototype=new cq;cq.RdlB=function(){cq.call(this,"RdlB");this.gP=[new aT([12,57],1,100),new kp([12,36],["Spin","Zoom"]),new aT("Position X",0,100,"%"),new aT("Position Y",0,100,"%")];
this.Ir()};cq.RdlB.prototype=new cq;cq.RdlB.prototype.gN=function(o,P){P[0]=o.Amnt.v;P[1]=["Spn","Zm"].indexOf(o.BlrM.v.BlrM);
P[2]=o.Cntr.v.Hrzn.v*100;P[3]=o.Cntr.v.Vrtc.v*100};cq.RdlB.prototype.P$=function(o,P){o.Amnt.v=P[0];
o.BlrM.v.BlrM=["Spn","Zm"][P[1]];o.Cntr.v.Hrzn.v=P[2]/100;o.Cntr.v.Vrtc.v=P[3]/100};cq.awv(cq.RdlB.prototype);
cq.Dspl=function(){cq.call(this,"Dspl");this.gP=[new f7([6,36,3],["a","b"]),new aT([22,4,0],-100,100,"px"),new aT([22,4,1],-100,100,"px"),new f7([24,18,0],[[24,18,3],[24,18,2]])];
this.Ir()};cq.Dspl.prototype=new cq;cq.Dspl.prototype.gN=function(o,P,w){this.afj=[];this.$A=[];var x=-1,z=w?w[0]:null;
if(z==null)z=this.abA;else this.abA=z;if(z)for(var I=0;I<z.length;I++){var S=z[I];this.afj.push(S.V8.trim());
this.$A.push(S.QQ);if(S.QQ==o.DspF.v.pth)x=I}this.gP[0].Cp(this.afj);P[0]=x==-1?0:x;P[1]=o.HrzS.v;P[2]=o.VrtS.v;
P[3]=["WrpA","RptE"].indexOf(o.UndA.v.UndA)};cq.Dspl.prototype.P$=function(o,P){var w=this.abA;if(this.$A.length==0)return;
o.DspF.v.pth=this.$A[P[0]];o.HrzS.v=P[1];o.VrtS.v=P[2];o.UndA.v.UndA=["WrpA","RptE"][P[3]];var x=w[P[0]];
x.Ey();var z=x.iT[1],S=z.q,k=z._,f=e.U(z.c());e.KN(x.iT[0],f);var C=[k&255,k>>>8,0,0,S&255,S>>>8,0,0,3,0];
for(var H=0;H<2;H++)for(var I=0;I<f.length;I++)C.push(f[I]);for(var I=0;I<1e3;I++)C.push(0);o.DspD={t:"tdta",v:C};
o.EmbF={t:"bool",v:!0}};cq.Pnch=function(){cq.call(this,"Pnch");this.gP=[new aT([12,57],-100,100,"%")];
this.Ir()};cq.Pnch.prototype=new cq;cq["Plr "]=function(){cq.call(this,"Plr ");this.gP=[new kp(null,["Rect to Polar","Polar to Rect"])];
this.Ir()};cq["Plr "].prototype=new cq;cq.Rple=function(){cq.call(this,"Rple");this.gP=[new aT([12,57],-999,999),new f7([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Ir()};cq.Rple.prototype=new cq;cq["Shr "]=function(){cq.call(this,"Shr ");this.gP=[new cI(!0,!0),new f7([24,18,0],[[24,18,3],[24,18,2]])];
this.Ir()};cq["Shr "].prototype=new cq;cq["Shr "].prototype.gN=function(o,P){var w=new ar(0,255/127,255/127,0,-2,128),x=JSON.parse(JSON.stringify(o.ShrP.v));
e.Kh.h(x,w);P[0]=x;P[1]=["WrpA","RptE"].indexOf(o.UndA.v.UndA)};cq["Shr "].prototype.P$=function(o,P){var w=new ar(0,255/127,255/127,0,-2,128);
w.Sd();e.Kh.h(P[0],w);o.ShrP.v=P[0];o.ShrE.v=P[0].length-1;o.UndA.v.UndA=["WrpA","RptE"][P[1]]};cq.Sphr=function(){cq.call(this,"Sphr");
this.gP=[new aT([12,57],-100,100),new f7([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Ir()};cq.Sphr.prototype=new cq;
cq.Sphr.prototype.gN=function(o,P){P[0]=o.Amnt.v;P[1]=["Nrml","HrzO","VrtO"].indexOf(o.SphM.v.SphM)};
cq.Sphr.prototype.P$=function(o,P){o.Amnt.v=P[0];o.SphM.v.SphM=["Nrml","HrzO","VrtO"][P[1]]};cq.Dthr=function(){cq.call(this,"Dthr");
this.gP=[new f7("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new kp("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Ir()};cq.Dthr.prototype=new cq;cq.Dthr.prototype.gN=function(o,P){P[0]=o.Plte.v;P[1]=o.Mthd?o.Mthd.v:1};
cq.Dthr.prototype.P$=function(o,P){o.Plte.v=P[0];o.Mthd.v=P[1]};cq.Part=function(){cq.call(this,"Part");
this.gP=[new aT([15,5,1],0,100,"%"),new aT([12,14,0],1,50,"px"),new aT([12,34],0,100,"%"),new aT([12,2],10,1e3,"%"),new fN(!0),new aT("Time",0,1,null,3),new aT("Turbulence",0,100,"%"),new f5("Blink"),new f5("Fall")];
this.Ir([4])};cq.Part.prototype=new cq;cq.Part.prototype.gN=function(o,P){P[0]=o.Cont.v;P[1]=o.Size.v;
P[2]=o.Dpth.v;P[3]=o.Brgh.v;P[4]=o.Clr.v;P[5]=o.Time.v;P[6]=o.Turb.v;P[7]=o.Blnk.v;P[8]=o.Fall.v};cq.Part.prototype.P$=function(o,P){o.Cont.v=P[0];
o.Size.v=P[1];o.Dpth.v=P[2];o.Brgh.v=P[3];o.Clr.v=P[4];o.Time.v=P[5];o.Turb.v=P[6];o.Blnk.v=P[7];o.Fall.v=P[8]};
cq.Twrl=function(){cq.call(this,"Twrl");this.gP=[new aT([12,15],-999,999)];this.Ir()};cq.Twrl.prototype=new cq;
cq.Wave=function(){cq.call(this,"Wave");this.aiR=[1,2,3,4];this.gP=[new aT("Number of Generators",1,100),new kU("Min Length",1,999),new kU("Max Length",1,999),new kU("Min Ampl.",1,999),new kU("Max Ampl.",1,999),new kU("Scale X",1,100,"%"),new kU("Scale Y",1,100,"%"),new kp([12,44],["Sine","Triangle",[12,93,3]]),new f7([24,18,0],[[24,18,3],[24,18,2]])];
this.Ir()};cq.Wave.prototype=new cq;cq.ZgZg=function(){cq.call(this,"ZgZg");this.gP=[new aT([12,57],-100,100),new aT("Ridges",0,20),new f7([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Ir()};cq.ZgZg.prototype=new cq;cq.surfaceBlur=function(){cq.call(this,"surfaceBlur");this.gP=[new aT([12,56],1,200," px"),new aT([4,13],1,255," px")];
this.Ir()};cq.surfaceBlur.prototype=new cq;cq.surfaceBlur.prototype.gN=function(o,P){P[0]=o.Rds.v.val;
P[1]=o.Thsh.v};cq.surfaceBlur.prototype.P$=function(o,P){o.Rds.v.val=P[0];o.Thsh.v=P[1]};cq.AdNs=function(){cq.call(this,"AdNs");
this.gP=[new aT([12,57],0,200," %"),new f7([12,58],[[12,59,1],[12,59,0]]),new f5([12,60])];this.Ir()};
cq.AdNs.prototype=new cq;cq.DstS=function(){cq.call(this,"DstS");this.gP=[new aT([12,56],1,200," px"),new aT([4,13],1,255," px")];
this.Ir()};cq.DstS.prototype=new cq;cq["Mdn "]=function(){cq.call(this,"Mdn ");this.gP=[new aT([12,56],1,200," px")];
this.Ir()};cq["Mdn "].prototype=new cq;cq["Mdn "].prototype.gN=function(o,P){P[0]=o.Rds.v.val};cq["Mdn "].prototype.P$=function(o,P){o.Rds.v.val=P[0]};
cq.ClrH=function(){cq.call(this,"ClrH");this.gP=[new aT([12,56],4,100," px")];for(var I=1;I<4;I++)this.gP.push(new aT("Angle "+I,0,90," \xB0"));
this.Ir()};cq.ClrH.prototype=new cq;cq.ClrH.prototype.gN=function(o,P){P[0]=o.Rds.v;for(var I=1;I<4;
I++)P[I]=o["Ang"+I].v};cq.ClrH.prototype.P$=function(o,P){o.Rds.v=P[0];for(var I=1;I<4;I++)o["Ang"+I].v=P[I]};
cq.ClrH.prototype.S=function(){var o=this.gP;o[0].S();for(var I=1;I<4;I++)o[I].ld(kQ.get([12,15])+" "+I)};
cq.Crst=function(){cq.call(this,"Crst");this.gP=[new aT([12,61],3,100," px")];this.Ir()};cq.Crst.prototype=new cq;
cq.Crst.prototype.gN=function(o,P){P[0]=o.ClSz.v};cq.Crst.prototype.P$=function(o,P){o.ClSz.v=P[0]};
cq.Mztn=function(){cq.call(this,"Mztn");this.gP.push(new f7([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.$A="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Ir()};cq.Mztn.prototype=new cq;
cq.Mztn.prototype.gN=function(o,P){P[0]=this.$A.indexOf(o.MztT.v.MztT)};cq.Mztn.prototype.P$=function(o,P){o.MztT.v.MztT=this.$A[P[0]]};
cq["Msc "]=function(){cq.call(this,"Msc ");this.gP=[new aT([12,61],2,200," px")];this.Ir()};cq["Msc "].prototype=new cq;
cq["Msc "].prototype.gN=function(o,P){P[0]=o.ClSz.v.val};cq["Msc "].prototype.P$=function(o,P){o.ClSz.v.val=P[0]};
cq.Pntl=function(){cq.call(this,"Pntl");this.gP=[new aT([12,61],3,100," px")];this.Ir()};cq.Pntl.prototype=new cq;
cq.Pntl.prototype.gN=function(o,P){P[0]=o.ClSz.v};cq.Pntl.prototype.P$=function(o,P){o.ClSz.v=P[0]};
cq.smartSharpen=function(){cq.call(this,"smartSharpen");this.gP=[new aT([12,57],1,200,"%"),new aT([12,56],0,200,"px",1,!0)];
this.Ir()};cq.smartSharpen.prototype=new cq;cq.smartSharpen.prototype.gN=function(o,P){P[0]=o.Amnt?o.Amnt.v.val:200;
P[1]=o.Rds?o.Rds.v.val:1};cq.smartSharpen.prototype.P$=function(o,P){o.Amnt.v.val=P[0];o.Rds.v.val=P[1]};
cq.UnsM=function(){cq.call(this,"UnsM");this.gP=[new aT([12,57],1,200," %"),new aT([12,56],.1,400,"px",1,!0),new aT([4,13],0,255," ")];
this.Ir()};cq.UnsM.prototype=new cq;cq.HghP=function(){cq.call(this,"HghP");this.gP=[new aT([12,56],.1,400,"px",1,!0)];
this.Ir()};cq.HghP.prototype=new cq;cq.HsbP=function(){cq.call(this,"HsbP");this.gP=[new kp("Input",["RGB","HSB","HSL"]),new kp("Output",["RGB","HSB","HSL"])];
this.Ir()};cq.HsbP.prototype=new cq;cq["Mxm "]=function(){cq.call(this,"Mxm ");this.gP=[new aT([12,56],.1,200," px",1,!0),new f7([12,76,1],[[12,93,3],"Circle"])];
this.Ir()};cq["Mxm "].prototype=new cq;cq["Mnm "]=function(){cq.call(this,"Mnm ");this.gP=[new aT([12,56],.1,200," px",1,!0),new f7([12,76,1],[[12,93,3],"Circle"])];
this.Ir()};cq["Mnm "].prototype=new cq;cq.Ofst=function(){cq.call(this,"Ofst");this.gP=[new aT([22,4,0],-1024,1024," px"),new aT([22,4,1],-1024,1024," px"),new f7([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Ir()};cq.Ofst.prototype=new cq;cq.Kale=function(){cq.call(this,"Kale");this.gP=[new kU("Mirrors",2,20),new kU([12,15],0,360,"\xB0")];
this.Ir()};cq.Kale.prototype=new cq;cq.Kale.prototype.gN=function(o,P){P[0]=o.Mirr.v;P[1]=o.MRot.v};
cq.Kale.prototype.P$=function(o,P){o.Mirr.v=P[0];o.MRot.v=P[1]};cq.Rept=function(){cq.call(this,"Rept");
this.gP=[new kU([12,38],1,300," %"),new kU("Row Shift",-50,50," %"),new kU("Space X",-99,200," %"),new kU("Space Y",-99,200," %"),new f5([4,16,2]),new i7([12,15])];
this.Ir()};cq.Rept.prototype=new cq;cq.Rept.prototype.gN=function(o,P){P[0]=o.Scl.v.val;P[1]=o.Rsft.v.val;
P[2]=o.SpcX.v.val;P[3]=o.SpcY.v.val;P[4]=o.SpcC.v;P[5]=[o.Angl.v]};cq.Rept.prototype.P$=function(o,P){o.Scl.v.val=P[0];
o.Rsft.v.val=P[1];o.SpcX.v.val=P[2];o.SpcY.v.val=P[3];o.SpcC.v=P[4];o.Angl.v=P[5][0];return o};cq.Ctoa=function(){cq.call(this,"Ctoa");
this.gP=[new jH([13,0]),new fN(!0),new aT(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new aT(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Ir()};cq.Ctoa.prototype=new cq;cq.Ctoa.prototype.gN=function(o,P){P[0]=o.Clr.v;P[1]=o.Trsp.v.val;
P[2]=o.Opct.v.val};cq.Ctoa.prototype.P$=function(o,P){o.Clr.v=P[0];o.Trsp.v.val=P[1];o.Opct.v.val=P[2]};
cq.LqFy=function(){cq.call(this,"LqFy");this.Fa=!1;this.GW=!1;this.rd=null;this.awp=null;this.I=0;this.Mo=-1;
this.L={WN:[[{I:{id:0,name:[24,1,0,1,0],lF:"liq/smudge"}}],[{I:{id:1,name:[24,1,0,1,1],lF:"liq/reconstruct"}}],[{I:{id:2,name:[24,1,0,1,2],lF:"liq/smooth"}}],[{I:{id:3,name:[24,1,0,1,3],lF:"liq/twirl"}}],[{I:{id:4,name:[24,1,0,1,4],lF:"liq/shrink"}}],[{I:{id:5,name:[24,1,0,1,5],lF:"liq/blow"}}],[{I:{id:6,name:[24,1,0,1,6],lF:"liq/pleft"}}],[{I:{id:7,name:"Hand",lF:"tools/hand"}}],[{I:{id:8,name:"Zoom In",lF:"zoomIn"}}],[{I:{id:9,name:"Zoom Out",lF:"zoomOut"}}]],keys:[]};
this.rk=new f0(this.L,!1);this.rk.GU(0);this.rk.J(G.E.X,this.A7,this);this.Wa=bh.ja();this.TN=null;this.Sq=[];
this.SS=-1;this.p$=null;this.aGf=null;this.kI=null;this.dm=null;this.tk=null;var o=J.k("div","flexrow");
this.Ga=o;this.Z.appendChild(o);o.appendChild(this.rk.Z);this.view=new hx(!0);this.view.sH(100,100);
this.view.J("mousedown",this.yR,this);this.view.J("mousemove",this.yH,this);this.view.J("mouseup",this.D4,this);
this.view.J("zoom",this.O4,this);o.appendChild(this.view.Z);var P=J.k("div","form");o.appendChild(P);
this.zT=P;P.style.width="230px";this.Px=[new aT([12,14,0],0,1e3,null,!1,!0),new aT([12,74],0,100,null,!1,!1),new aT([12,84],0,100,null,!1,!1),new f5([12,46]),new aT([12,0],0,100,null,!1,!1),new f5([24,18,5])];
var w=this.Wa.Brsh.v;w.Dmtr.v.val=100;var x=[100,50,100,!1,100,!0];for(var I=0;I<this.Px.length;I++){var z=this.Px[I];
z.O(x[I]);if(I==4)z.hR();z.J(G.E.w,this.aiI,this);P.appendChild(z.Z)}var S=this.aBh=new eN([1,12,2],!0,null,!0);
S.J("click",this.KV,this);P.appendChild(S.Z);this.a28=this.T7.bind(this);this.rK=new kl;this.rK.Z=J.k("div","floatcont");
this.h5=new eN("Menu",!1,null,!0);var k=this.h5.Z;k.setAttribute("style","position:absolute; right:13px; top:47px");
J.Dw(k,this.aj9.bind(this))};cq.LqFy.prototype=new cq;cq.LqFy.prototype.fn=function(){return!0};cq.LqFy.prototype.dq=function(o){this.zT.appendChild(o)};
cq.LqFy.prototype.aj9=function(o){if(J.Ni(this.rK.Z))return;o.stopPropagation();var P=this.h5.Z.getBoundingClientRect();
this.rK.Z.appendChild(this.zT);var w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:this.rK,x:P.right+P.width-290,y:P.top+P.height};
this.j(w)};cq.LqFy.prototype.xF=function(o){this.Fa=o.d(i$.JV);var P=N.tB.fw(this.Wa,o);if(P!=null){this.Wa=P;
this.O4();this.Px[0].O(P.Brsh.v.Dmtr.v.val)}else if(o.d(i$.Jm)&&o.d(i$.sb)){var w=this.Sq;if(o.d(i$.W1)){if(this.SS+1<w.length)this.SS++}else if(this.SS>0)this.SS--;
this.TN.map=w[this.SS].slice(0);this.xW(null)}else if(this.I<=6)this.view.xF(o);var x=this.I,z=-1,S=o.d(i$.JV);
if(S&&this.Mo==-1){if(x==0)z=1;if(x==4)z=5;if(x==5)z=4;if(z!=-1)this.Mo=x}if(!S&&this.Mo!=-1){z=this.Mo;
this.Mo=-1}if(z!=-1){this.I=z;this.rk.GU(this.I)}};cq.LqFy.prototype.A7=function(o){if(o.data.Q==G.l.HB){var P=this.I=o.data.I;
this.rk.GU(this.I);this.view.xF(P>6?hx.pS(P-7):new i$)}};cq.LqFy.prototype.aiI=function(o){var P=o.currentTarget,I=this.Px.indexOf(P),w=this.Wa.Brsh.v;
if(I==0){w.Dmtr.v.val=P.m();this.O4()}this.Px[4].hk(this.Px[3].m());if(I>2)this.xW(null)};cq.LqFy.prototype.TX=function(){var o=this.Sq;
this.SS++;o[this.SS]=this.TN.map.slice(0);while(o.length>this.SS+1)o.pop();while(o.length>50){o=o.slice(1);
this.SS--}};cq.LqFy.prototype.yR=function(o){this.rd=this.view.g7();this.awp=new eD(0,0);this.GW=!0;
window.requestAnimationFrame(this.a28)};cq.LqFy.prototype.yH=function(o){var P=this.view.g7(),w=new eD(P.x-this.rd.x,P.y-this.rd.y);
if(this.I==0||this.I==6)this.ay2(w);this.rd=P};cq.LqFy.prototype.D4=function(o){this.TX();this.GW=!1};
cq.LqFy.prototype.T7=function(o){if(this.I!=0&&this.I!=6)this.ay2(new eD(0,0));if(this.GW)window.requestAnimationFrame(this.a28)};
cq.LqFy.prototype.ay2=function(o){var P=this.TN,w=P.V/this.p$.q,x=this.rd,z=this.Wa.Brsh.v,S=z.Dmtr.v.val,k=Date.now(),f=P.V,C=P.Y,H=Math.sqrt(o.x*o.x+o.y*o.y),b=Math.max(1,Math.ceil(H/2)),i=o.x/b,M=o.y/b,T=x.clone(),O=this.I,Y=this.Px[1].m()/100,U=this.Px[2].m()/100,W=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],t=W[O*2],_=W[O*2+1],n=(1-Y)*t+Y*_,y=S*w/2;
for(var I=0;I<b;I++){var F=[];T.x+=i;T.y+=M;e.zo.aEU(P.map,f,C,O,T.x*w,T.y*w,y,Y,U,i*w,M*w,F,this.Fa);
e.zo.auy(f,C,P.map,F,2*n*U)}var a=new fA(0,0,f,C),V=new fA(x.x*w,x.y*w,0,0);V.$b(S*w*.5,S*w*.5);var D=V.clone();
D.offset(o.x*w,o.y*w);V=V.It(D);var l=new fA(V.x/w,V.y/w,V.q/w,V._/w);l=e.a.lY(l).SN(this.p$);this.Px[5].O(!0);
this.xW(l)};cq.LqFy.prototype.O4=function(){var o=j2.hN(this.Wa,null,this.view.qC().D);this.view.Fi(o)};
cq.LqFy.prototype.O=function(o,P,w,x,z){w=w.clone();if(P==null)return;if(!x.w6(w)){var S=w.It(x),k=e.U(S.c()*4);
e.sR(P,w,k,S);P=k;w=S;var f=e.U(S.c()*4);e.sR(z,x,f,S);z=f}w.x=w.y=0;this.kI=P;this.aGf=z;this.tk=P.slice(0);
this.dm=P.slice(0);this.p$=w;this.TN=iE.M3(new Uint8Array(o.LqMe.v).buffer);var C=w.q,H=w._;if(this.TN.V/C<.22){this.TN={V:Math.floor(C/4),Y:Math.floor(H/4)};
this.TN.map=new Float32Array(this.TN.V*this.TN.Y*2)}this.Sq=[];this.SS=-1;this.TX();this.xW(null);this.view.kn(!0);
this.O4()};cq.LqFy.prototype.m=function(){var o=cM.bS("LqFy"),P=new Uint8Array(iE.Fv(this.TN)),w=[];
for(var I=0;I<P.length;I++)w.push(P[I]);o.LqMe.v=w;return o};cq.LqFy.prototype.sH=function(o,P){this.rk.sH(o,P);
var w=this.h5.Z,x=this.zT;this.Ga.appendChild(x);this.Ga.appendChild(w);if(o>450&&o-P>200){x.style.marginLeft="1em";
this.Ga.removeChild(w);this.view.sH(o-238-45,P)}else{x.style.marginLeft="";this.Ga.removeChild(x);this.view.sH(o-40,P)}};
cq.LqFy.prototype.S=function(){this.rk.S();this.aBh.S();for(var I=0;I<this.Px.length;I++)this.Px[I].S()};
cq.LqFy.prototype.KV=function(){this.TN.map.fill(0);this.TX();this.xW(null)};cq.LqFy.prototype.xW=function(o){var P=this.p$,w=this.kI,x=this.tk,z=this.TN;
if(this.Px[5].m())e.zo.EV(w,this.dm,P.q,P._,o,z.map,z.V,z.Y,0);else this.dm.set(w);if(this.Px[3].r8()){e.sR(this.aGf,P,x,P,o?o:P);
e.C.Iv("norm",this.dm,P,x,P,o?o:P,this.Px[4].m()/100)}else e.L9(this.dm,x);this.view.O([{pv:P,data:x.buffer}])};
cq.GEfc=function(){cq.call(this,"GEfc");this.Ke=0;this.z8=0;this.kI=null;this.tk=null;this.p$=null;this.r7=null;
this.mt=null;this.VG=0;this.$k=null;this.Im=null;var o=J.k("div","flexrow");this.Ga=o;this.Z.appendChild(o);
this.view=new hx(null);this.view.sH(100,100);o.appendChild(this.view.Z);this._q="";this.mo=270;var P=this.no=J.k("div","form scrollable");
o.appendChild(P);P.setAttribute("style","width:"+this.mo+"px;");var w=this.nz=J.k("div","form");o.appendChild(w);
w.setAttribute("style","width:230px;  margin:0 10px");this.Bm={};for(var x in cF.names){var z=new cq.GEfc.mX(x);
z.parent=this;this.Bm[x]=z;z.J(G.E.w,this.auQ,this)}this.ES=!0;this.h5=new eN("Menu",null,null,!0);this.h5.J("click",this.atb,this);
o.appendChild(this.h5.Z);this.Nx=new eN(">>",null,null,!0);this.Nx.J("click",this.auC,this);w.appendChild(this.Nx.Z);
this.EU=J.k("div");this.EU.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
w.appendChild(this.EU);this.YM=J.k("div");this.YM.style.minHeight="14em";this.YM.style.marginBottom="1em";
w.appendChild(this.YM);this.eY=J.k("div","lpbody scrollable");this.ib=J.k("div","lpfoot");w.appendChild(this.eY);
w.appendChild(this.ib);this.J("click",this.ahg,this);this.aH=[];am.nb([[5,3],[5,4]],this.aH,this.ib,this.jy.bind(this))};
cq.GEfc.prototype=new cq;cq.GEfc.prototype.fn=function(){return!0};cq.GEfc.prototype.dq=function(o){this.EU.appendChild(o)};
cq.GEfc.prototype.RU=function(o,P){this.r7=o;if(o.AB==o.eI)alert("Your foreground and a background color are identical.",4e3)};
cq.GEfc.prototype.auC=function(o){var P=this.no.style.display!="none";this.no.style.display=P?"none":"";
this.Nx.ld(P?"<<":">>");this.sH()};cq.GEfc.prototype.atb=function(o){this.ES=!this.ES;this.sH()};cq.GEfc.prototype.sH=function(o,P){var w=this.no.style.display!="none";
if(o!=null){this.Ke=o;this.z8=P;if(o<1e3&&w||o>=1e3&&!w){this.auC();w=!w}this.ES=o>600}else{o=this.Ke;
P=this.z8}var x=this.ES?250+(w?this.mo:0):0;if(J.Ni(this.nz)&&!this.ES){this.Ga.removeChild(this.no);
this.Ga.removeChild(this.nz)}if(!J.Ni(this.nz)&&this.ES){this.Ga.appendChild(this.no);this.Ga.appendChild(this.nz)}this.no.style.height=P+"px";
this.view.sH(o-x,P);this.eY.style.height=P-Math.max(this.YM.getBoundingClientRect().height,186)-96+"px";
this.h5.Z.setAttribute("style","position:absolute; top:46px;  right:"+(x+16)+"px")};cq.GEfc.prototype.axb=function(){var o=eu.hP.get("img/beach",!0)[0],P=o.pv,w=this.no,x=Math.floor(J.M()*(this.mo-40)/3),z=~~(x*.7),S=new fA(0,0,x,z),k=e.U(x*z*4),f=k.slice(0),C=Math.round(10*J.M()),H=new ImageData(new Uint8ClampedArray(f.buffer),x,z);
e.sR(new Uint8Array(o.data),P,k,new fA(Math.round((P.q-x)/2),Math.round((P._-z)/2),x,z));var b=J.k("canvas"),i=b.getContext("2d");
b.width=x;b.height=z+Math.round(C*1.5);i.font=C+"px sans-serif";this.$k={};J.eg(w);var M=this.aDS.bind(this);
for(var I=0;I<cF.Gs.length;I++){var T=cF.Gs[I],O=J.k("div");w.appendChild(O);O.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
O.textContent=kQ.get(T);for(var Y in cF.names){var U=cF.names[Y];if(U[0]!=I)continue;cF.wM(Y,{rect:S,buffer:k},cF.bS(Y),{$:0,H:0,b:0},{$:255,H:255,b:255},{rect:S,buffer:f},{});
i.fillStyle="black";i.fillRect(0,0,500,500);i.putImageData(H,0,0);var W=kQ.get(U[1]);i.fillStyle="white";
i.fillText(W,(x-i.measureText(W).width)/2,z+Math.round(C*1.1));var t=J.k("div");w.appendChild(t);t.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
t.addEventListener("click",M,!1);var O=J.k("img");t.appendChild(O);O.setAttribute("src",b.toDataURL());
O.setAttribute("style","width:"+x/J.M()+"px; margin-bottom:0px;");this.$k[Y]=t}}};cq.GEfc.prototype.aDS=function(o){var P;
for(var w in this.$k)if(this.$k[w]==o.currentTarget)this._q=w;this.auQ()};cq.GEfc.prototype.jy=function(o){var P=am.kv(this.aH,o),w=this.mt.GEfs.v,x=w[this.VG].v;
if(P==0){w.push(JSON.parse(JSON.stringify(w[this.VG])));this.VG=w.length-1}else if(w.length>1){w.splice(this.VG,1);
if(this.VG==w.length)this.VG--}this.qr();this.xW()};cq.GEfc.prototype.auQ=function(o){var P=this._q,w;
if(o==null)w=cF.bS(P);else w=this.Bm[P].m();this.mt.GEfs.v[this.VG].v=w;this.qr();this.xW()};cq.GEfc.prototype.O=function(o,P,w,x,z){var S=kQ.get([24,0]);
if(this.$k==null||S!=this.Im)this.axb();this.Im=S;o=this.mt=JSON.parse(JSON.stringify(o));if(o.GEfs==null)o=this.mt={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:o}]}};
var k=o.GEfs.v;for(var I=0;I<k.length;I++)if(k[I].v.GELv==null)k[I].v.GELv={t:"bool",v:!0};this.VG=k.length-1;
this.qr();w=w.clone();if(P==null)return;if(!x.w6(w)&&cF.T5(o).x!=0){var f=w.It(x),C=e.U(f.c()*4);e.sR(P,w,C,f);
P=C;w=f}w.x=w.y=0;this.kI=P;this.tk=P.slice(0);this.p$=w;this.xW();this.view.kn()};cq.GEfc.prototype.ahg=function(o){var P=o.data,I=P.BG,w=this.mt.GEfs.v;
if(P.cn){w[I].v.GELv.v=!w[I].v.GELv.v;this.xW()}else this.VG=I;this.qr()};cq.GEfc.prototype.qr=function(){var o=this.mt.GEfs.v,P=o[this.VG].v,w=P.GEfk.v.GEft,x=this.YM;
if(cF.names[w]==null){alert("Unsupported gallery filter");J.eg(x)}else{this._q=w;for(var z in this.$k)J.hC(this.$k[z],"selected");
J.HT(this.$k[w],"selected");var S=this.Bm[w];S.O(P);if(x.firstChild!=S.Z){J.eg(x);x.appendChild(S.Z)}}var k=[];
for(var I=0;I<o.length;I++){var f=o[I].v,C=cF.names[f.GEfk.v.GEft],H=new hv(I,!0,!0,null,C?C[1]:"Filter",I==this.VG,f.GELv.v);
H.parent=this;k.push(H.Z)}J.eg(this.eY);k.reverse();for(var I=0;I<k.length;I++)this.eY.appendChild(k[I]);
this.sH()};cq.GEfc.prototype.m=function(){return JSON.parse(JSON.stringify(this.mt))};cq.GEfc.prototype.xW=function(o){var P=this.p$,w=this.kI,x=this.tk,z=this._q,S=this.mt,k=this.r7;
function f(C){return{$:C>>>16,H:C>>>8&255,b:C&255}}cM.wM("GEfc",{rect:this.p$,buffer:this.kI},S,f(k.AB),f(k.eI),{rect:this.p$,buffer:this.tk},null);
this.view.O([{pv:P,data:x.buffer}])};cq.GEfc.prototype.S=function(){for(var o in this.Bm)this.Bm[o].S();
am.Jy(this.aH,["lrs/newlayer","lrs/bin"])};cq.GEfc.mX=function(o){kl.call(this);this.Fs=o;this.Z=J.k("div");
this.t2={};var P=cF.bS(o);for(var w in P){var x=null;if(w=="__name"||w=="classID"||w=="GEfk"||w=="GELv"||["FlRs"].indexOf(w)!=-1)continue;
else if(w=="EdgW")x=new aT("Edge Width",1,14);else if(w=="EdgB")x=new aT("Edge Brightness",0,o=="AccE"?50:20);
else if(w=="Smth")x=new aT([19,3,3],1,o=="Stmp"?50:15);else if(w=="ClSz")x=new aT([12,61],3,100);else if(w=="BrdT")x=new aT([7,9],1,20);
else if(w=="HghS")x=new aT([12,64],0,20);else if(w=="HlSz")x=new aT([12,14,0],1,15);else if(w=="Cntr")x=new aT([12,3,0],0,o=="WtrP"?100:50);
else if(w=="Shrp")x=new aT("Sharpness",0,40);else if(w=="SprR")x=new aT("Spray Radius",0,25);else if(w=="LgDr")x=new aT("Light/Dark Balance",0,o=="Stmp"?50:100);
else if(w=="Drkn")x=new aT("Darkness",1,50);else if(w=="Dstr")x=new aT("Distortion",0,20);else if(w=="Scln")x=new aT([12,38],50,200);
else if(w=="Rlf")x=new aT("Relief",0,o=="Ptch"||o=="NtPr"?25:50);else if(w=="ChAm")x=new aT("Thickness",1,7);
else if(w=="Pncl")x=new aT([19,2,5],1,30);else if(w=="StrP")x=new aT("Stroke Pressure",0,15);else if(w=="PprB")x=new aT("Paper Brightness",0,50);
else if(w=="BrsS")x=new aT("Brush Size",0,10);else if(w=="BrsD")x=new aT("Brush Detail",0,10);else if(w=="Txtr")x=new aT([12,67],1,3);
else if(w=="Grn")x=new aT("Grain",0,20);else if(w=="HghA")x=new aT("Highlight Area",0,20);else if(w=="Intn")x=new aT("Intensity",0,10);
else if(w=="Brgh")x=new aT("Glow Brightness",0,o=="WtrP"?100:50);else if(w=="StrS")x=new aT("Stroke Size",1,50);
else if(w=="StDt")x=new aT("Stroke Detail",1,3);else if(w=="Sftn")x=new aT("Softness",0,10);else if(w=="EdgT")x=new aT("Edge Thickness",0,10);
else if(w=="EdgI")x=new aT("Edge Intensity",0,10);else if(w=="Pstr")x=new aT("Posterization",0,6);else if(w=="Dfnt")x=new aT("Definition",0,25);
else if(w=="TxtC")x=new aT("Texture Coverage",0,50);else if(w=="ShdI")x=new aT("Shadow Intensity",0,10);
else if(w=="DrcB")x=new aT("Direction Balance",0,100);else if(w=="Strg")x=new aT([12,64],1,3);else if(w=="Blnc")x=new aT("Balance",0,10);
else if(w=="BlcI")x=new aT("Black Intensity",0,10);else if(w=="WhtI")x=new aT("White Intensity",0,10);
else if(w=="DrkI")x=new aT("Dark Intensity",0,50);else if(w=="LghI")x=new aT("Light Intensity",0,50);
else if(w=="StrW")x=new aT("Stroke Width",3,15);else if(w=="Grns")x=new aT("Graininess",0,o=="NtPr"?20:10);
else if(w=="GlwA")x=new aT("Glow Amount",0,20);else if(w=="ClrA")x=new aT("Clear Amount",0,20);else if(w=="ChrA")x=new aT("Charcoal Area",0,20);
else if(w=="ChlA")x=new aT("Chalk Area",0,20);else if(w=="FrgL")x=new aT("Foreground Level",1,15);else if(w=="BckL")x=new aT("Background Level",1,15);
else if(w=="WhtL")x=new aT("Background Level",0,50);else if(w=="BlcL")x=new aT("Foreground Level",0,50);
else if(w=="ImgB")x=new aT("Image Balance",0,50);else if(w=="Dnst")x=new aT([12,74],0,50);else if(w=="FbrL")x=new aT("Fiber Length",3,50);
else if(w=="CrcS")x=new aT("Crack Spacing",2,100);else if(w=="CrcD")x=new aT("Crack Depth",0,10);else if(w=="CrcB")x=new aT("Crack Brightness",0,10);
else if(w=="TlSz")x=new aT("Tile Size",2,100);else if(w=="GrtW")x=new aT("Grout Width",1,15);else if(w=="LghG")x=new aT("Lighten Grout",0,10);
else if(w=="SqrS")x=new aT("Square Size",0,10);else if(w=="RplS")x=new aT("Ripple Size",1,15);else if(w=="RplM")x=new aT("Ripple Magnitude",0,20);
else if(w=="NmbL")x=new aT("Number of Levels",2,8);else if(w=="EdgS")x=new aT("Edge Simplicity",0,10);
else if(w=="EdgF")x=new aT("Edge Fidelity",1,3);else if(w=="Sz")x=o=="NGlw"?new aT("Glow Size",-24,24):new aT("Brush Size",1,50);
else if(w=="Dtl")x=o=="Chrc"?new aT("Detail",0,5):new aT("Detail",1,15);else if(w=="StrL")x=o=="InkO"?new aT("Stroke Length",1,50):new aT("Stroke Length",0,20);
else if(w=="TxtT")x=new f7([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(w=="BrsT")x=new f7("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(w=="Grnt")x=new f7("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(w=="SDir")x=new f7([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(w=="ScrT")x=new f7([12,62],["Circle","Dot",[10,35]]);
else if(w=="LghD"||w=="LghP")x=new f7("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(w=="Clr")x=new fN("Glow Color");else if(w=="InvT")x=new f5([4,11]);else console.log(w);x.J(G.E.w,this.pF,this);
x.parent=this;this.t2[w]=x;this.Z.appendChild(x.Z)}};cq.GEfc.mX.prototype=new kl;cq.GEfc.mX.prototype.pF=function(o){this.j(new bO(G.E.w,!1))};
cq.GEfc.atl="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
cq.GEfc.mX.prototype.O=function(o){for(var P in this.t2){var w;if(cq.GEfc.atl.indexOf(P)!=-1)w=o[P].v;
else if(P=="TxtT")w=cF.NE.indexOf(o[P].v[P]);else if(P=="BrsT")w=cF.aD6.indexOf(o[P].v[P]);else if(P=="LghD")w=cF.Sm.indexOf(o[P].v[P]);
else if(P=="LghP")w=cF.Gj.indexOf(o[P].v[P]);else if(P=="Grnt")w=cF.VP.indexOf(o[P].v[P]);else if(P=="ScrT")w=cF.eB.indexOf(o[P].v[P]);
else if(P=="SDir")w=cF.Y7.indexOf(o[P].v.StrD);this.t2[P].O(w)}};cq.GEfc.mX.prototype.m=function(){var o=cF.bS(this.Fs);
for(var P in this.t2){var w=this.t2[P].m();if(cq.GEfc.atl.indexOf(P)!=-1)o[P].v=w;else if(P=="TxtT")o[P].v[P]=cF.NE[w];
else if(P=="BrsT")o[P].v[P]=cF.aD6[w];else if(P=="LghD")o[P].v[P]=cF.Sm[w];else if(P=="LghP")o[P].v[P]=cF.Gj[w];
else if(P=="Grnt")o[P].v[P]=cF.VP[w];else if(P=="ScrT")o[P].v[P]=cF.eB[w];else if(P=="SDir")o[P].v.StrD=cF.Y7[w]}return o};
cq.GEfc.mX.prototype.S=function(){for(var o in this.t2)this.t2[o].S()};cq["Adobe Camera Raw Filter"]=function(o){cq.call(this,"Adobe Camera Raw Filter");
var P=this.Z;this.aqj=o;this.lJ=null;this.lu=null;this.UW=1e3;this.sD=null;this.vN=null;J.HT(P,"flexrow");
var w=J.k("div"),x=J.k("div","padded");P.appendChild(w);P.appendChild(x);this.Xf=new hx;this.Xf.J("zoom",this.xW,this);
w.appendChild(this.Xf.Z);this.Ep=new kf(225);this.Ep.lK(4);x.appendChild(this.Ep.Z);this.w$=J.k("div");
this.w$.setAttribute("style","width:18em;");x.appendChild(this.w$);this.j3=new jH("Hi",!0);this.w$.appendChild(this.j3.Z);
this.Vm=J.k("div","scrollable");this.w$.appendChild(this.Vm);this.t2=[new aT("Temperature",-100,100),new aT("Tint",-100,100),new aT([4,3],-4,4,null,!0),new aT([12,3,0],-100,100),new aT([4,4],-100,100),new aT([12,9],-100,100)];
this.l2="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var I=0;I<this.t2.length;I++){var z=this.t2[I];
z.O(0);z.J(G.E.w,this.xW,this);this.Vm.appendChild(z.Z);if(I==1||I==3)this.Vm.appendChild(J.k("hr"))}};
cq["Adobe Camera Raw Filter"].prototype=new cq;cq["Adobe Camera Raw Filter"].prototype.fn=function(){return!0};
cq["Adobe Camera Raw Filter"].prototype.dq=function(o){this.w$.appendChild(o)};cq["Adobe Camera Raw Filter"].prototype.RU=function(o,P){this.Ep.bN(cG._b[o.n9]["--text-color"])};
cq["Adobe Camera Raw Filter"].prototype.O=function(o,P,w,x,z){this.mt=o;var S=w.q,k=w._,f=S*k;this.j3.O(S+" x "+k+", "+(S*k/1e6).toFixed(1)+" MPx");
this.p$=w;this.sD=new Float32Array(S*k*3);this.vN=new Uint8Array(S*k*4);this.vN.fill(255);if(P instanceof Float32Array)this.lJ=P;
else{var C=this.lJ=new Float32Array(S*k*3);for(var I=0;I<f;I++){var H=I*3,b=I*4;C[H+0]=P[b+0]*(1/255);
C[H+1]=P[b+1]*(1/255);C[H+2]=P[b+2]*(1/255)}}this.lu=[{eD:this.lJ,rect:w.clone()}];this.UW=1e3;var i=this.lJ;
while(S>1&&k>1){var M=S,T=M*3;S=S>>>1;k=k>>>1;var O=i,i=new Float32Array(S*k*3);this.lu.push({eD:i,rect:new fA(0,0,S,k)});
for(var Y=0;Y<k;Y++)for(var U=0;U<S;U++){var H=(Y*S+U)*3,W=(Y*2*M+U*2)*3,t=W+T;i[H]=.25*(O[W]+O[W+3]+O[W+T]+O[W+T+3]);
i[H+1]=.25*(O[W+1]+O[W+4]+O[W+T+1]+O[W+T+4]);i[H+2]=.25*(O[W+2]+O[W+5]+O[W+T+2]+O[W+T+5])}}var _=this.l2;
for(var I=0;I<_.length;I++){var n=_[I];this.t2[I].O(o[n]?o[n].v:0)}this.Xf.O([{pv:w,data:this.vN.buffer}]);
this.Xf.kn();this.xW(null)};cq["Adobe Camera Raw Filter"].prototype.m=function(o){if(o){this.xW(null,!0);
return this.vN}return JSON.parse(JSON.stringify(this.mt))};cq["Adobe Camera Raw Filter"].prototype.alu=function(){this.lJ=null;
this.sD=null;this.lu=null;this.vN=null};cq["Adobe Camera Raw Filter"].prototype.xW=function(o,P){if(o&&this.t2.indexOf(o.target)!=-1){this.UW=1e3;
var w=this.l2;for(var I=0;I<w.length;I++){var x=w[I];this.mt[x]={t:x=="Ex12"?"doub":"long",v:this.t2[I].m()}}}var z=this.Xf.qC().D,S=0;
while(z*2<=1&&!P){z*=2;S++}if(this.UW<=S)return;this.UW=S;var k=this.p$,f=this.al_(this.lJ,k,this.sD,this.mt,this.aqj,this.vN,S);
this.Ep.O(f);this.Xf.O([{pv:k,data:this.vN.buffer}])};cq["Adobe Camera Raw Filter"].prototype.al_=function(o,P,w,x,z,S,k){var f=o,C=w,H=S,b=P.q,i=P._,M=k!=0;
if(M){var T=this.lu[k];f=T.eD;b=T.rect.q;i=T.rect._;C=new Float32Array(b*i*3);H=e.U(b*i*4)}gc(f,b,i,C,x,z);
var O=Date.now(),Y=b*i;for(var I=0;I<Y;I++){var U=I*3,W=I*4;H[W+0]=~~(.5+C[U+0]*255);H[W+1]=~~(.5+C[U+1]*255);
H[W+2]=~~(.5+C[U+2]*255);H[W+3]=255}console.log(Date.now()-O,"integer conversion");O=Date.now();var t=e.DM(H,Math.max(1,Math.floor(Y/2e5)));
console.log(Date.now()-O,"histogram done");O=Date.now();if(M){var _=new Uint32Array(H.buffer),n=new Uint32Array(S.buffer),y=P.q,F=P._;
for(var a=0;a<F;a+=2)for(var V=0;V<y;V+=2){var U=a*y+V,D=_[(a>>>k)*b+(V>>>k)];n[U]=D;n[U+1]=D;n[U+y]=D;
n[U+y+1]=D}console.log(Date.now()-O,"upscale");O=Date.now()}return t};cq["Adobe Camera Raw Filter"].prototype.sH=function(o,P){this.amX=o-248;
this.a6c=P;this.Xf.sH(this.amX,this.a6c);this.Vm.style.height=P-236+"px"};cq["Adobe Camera Raw Filter"].prototype.S=function(){for(var I=0;
I<this.t2.length;I++)this.t2[I].S()};cq.VaPo=function(){cq.call(this,"VaPo");this.I=-1;this.sd=null;
this.h3=!1;this.AR=null;this.SF=null;this.f2=null;this.K8=null;this.wn=null;this.B_=null;this.a0=null;
this.QL=null;this.aQ=null;this.a5=null;this.qV=null;this.Sq=[];this.SS=-1;this.T=null;this.L={WN:[[{I:{id:0,name:"Move",lF:"tools/move"}}],[{I:{id:1,name:"Create Plane",lF:"tools/pcrop"}}],[{I:{id:2,name:"Marquee",lF:"tools/rselect"}}],[{I:{id:3,name:"Stamp",lF:"tools/clone"}}],[{I:{id:4,name:"Brush",lF:"tools/brush"}}],[{I:{id:5,name:"Transform",lF:"tools/transform"}}],[{I:{id:6,name:"Hand",lF:"tools/hand"}}],[{I:{id:7,name:"Zoom In",lF:"zoomIn"}}],[{I:{id:8,name:"Zoom Out",lF:"zoomOut"}}]],keys:[i$.sY,i$.cK,i$.CF,i$.An,i$.yA,i$.Mn,i$.r3,i$.sb]};
this.rk=new f0(this.L,!1);this.rk.J(G.E.X,this.A7,this);this.Bu=null;this.p$=null;this.kI=null;this.afy=null;
this.tk=null;this.X7=null;var o=J.k("div","flexrow"),x=0;this.Ga=o;this.Z.appendChild(o);o.appendChild(this.rk.Z);
var P=J.k("div");o.appendChild(P);var top=J.k("div","form");P.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.e9=J.k("span");top.appendChild(this.e9);this.yM=[[new f6([12,80,5],1,1e3)],[new f6([7,6],0,30)],[new f6([12,14],1,200),new f6([12,17],0,100),new f6([12,0],0,100),new f5([12,75])],[new f6([12,14],1,200),new f6([12,17],0,100),new f6([12,0],0,100),new fN],[new f5("Flip"),new f5("Flop")],[]];
var w=[100,0,100,100,100,!1,100,100,100,JSON.parse(iR.GV.iv.slice(6)).v];this.BE=[];for(var I=0;I<6;
I++){var z=J.k("span"),S=this.yM[I];this.BE.push(z);for(var k=0;k<S.length;k++){var f=S[k];f.parent=this;
f.O(w[x++]);f.J(G.E.w,this.acP,this);z.appendChild(f.Z)}}this.qe=J.k("div");this.qe.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.qe);this.view=new hx(!0);this.view.sH(100,100);this.view.Fi("auto");this.view.J("mousedown",this.yR,this);
this.view.J("mousemove",this.yH,this);this.view.J("mouseup",this.D4,this);J.Zw(this.view.hj,this.Lf.bind(this));
P.appendChild(this.view.Z)};cq.VaPo.prototype=new cq;cq.VaPo.prototype.fn=function(){return!0};cq.VaPo.prototype.dq=function(o){this.qe.appendChild(o)};
cq.VaPo.prototype.acP=function(o){if(o.target==this.yM[0][0]){var P=this.ei(),w=o.target.m();for(var I=0;
I<this.T.length;I++)if(this.T[I].length!=0&&P[I])P[I][0]=w;this.js(P)}if(this.I==5){this.Bu=this.rN();
this.xW(!0)}this.xW()};cq.VaPo.prototype.xF=function(o){var P=this.I,w=this.SF;if(P==3||P==4){var x=this.yM[P-1],z=bh.ja(),S=z.Brsh.v;
S.Dmtr.v.val=x[0].m();S.Hrdn.v.val=x[1].m();z=N.tB.fw(z,o);if(z){S=z.Brsh.v;x[0].O(S.Dmtr.v.val);x[1].O(S.Hrdn.v.val)}this.O4()}if(P==1&&w&&(o.d(i$.bc)||o.d(i$.aa))){w.pop();
w.pop();if(w.length==0)w=this.SF=null;this.xW()}function k(b,I,O){e.sR(b[I],b[0],O.kI,O.p$);O.kX(b[0])}this.AR=o;
if(P<6)this.view.xF(o);var f=o.d(i$.Jm);if(f){var C=this.SS,H=0;if(o.d(i$.sb)){if(o.d(i$.W1))H=1;else H=-1}else if(o.d(i$.z9))H=1;
if(H!=0&&P!=5){console.log(this.SS,H,this.Sq);var b=this.Sq[this.SS],i=!1;if(b.length==3&&H==-1){k(b,1,this);
i=!0}C+=H;this.SS=Math.max(0,Math.min(this.Sq.length-1,C));b=this.Sq[this.SS];if(b.length==3&&H==1){k(b,2,this);
i=!0}this.xW(i)}if(o.d(i$.sY)){if(J.GJ())b_.a1n(this.kl.bind(this))}if(o.d(i$.ie)){this.wn=null;this.xW()}}else{var M=this.L.keys;
for(var I=0;I<M.length;I++)if(o.d(M[I]))this.GU(I)}if(o.d(i$.aa)||o.d(i$.bc)){var T=this.ei();T=e.Ef.a9B(T,this.T);
this.T=[];for(var I=0;I<T.length;I++)this.T[I]=[];this.js(T);this.xW()}};cq.VaPo.prototype.kl=function(o){if(o=="granted")b_.TC(this,this.oo.bind(this))};
cq.VaPo.prototype.oo=function(o,P){var w=this.ei();if(w.length==0){alert("Make a plane before pasting an image");
return}if(this.K8==null)this.K8=[0,0];if(this.I==5)this.GU(0);this.GU(5,{Du:o,sn:P})};cq.VaPo.prototype.A7=function(o){if(o.data.Q==G.l.HB){this.GU(o.data.I)}};
cq.VaPo.prototype.a0c=function(o){var P=this.view.g7(o),w=e.Ef.eE(this.ei(),this.T),x=1e9,z=0;for(var I=0;
I<w.length;I++){var S=w[I][0],k=P.x-S[0],f=P.y-S[1],C=Math.sqrt(k*k+f*f);if(C<x){x=C;z=I}}if(x>4*J.M()/this.view.qC().D)return null;
return w[z]};cq.VaPo.prototype.Lf=function(o){var P=this.I,w=this.SF;if(P<2&&!this.h3){var x=this.sd=this.a0c(o),z=this.ei(),S="auto";
if(P==0&&e.Ef.Em(z,x)){var k=z[x[1]][1][x[2]],f=k[5+{1:0,5:1,7:2,3:3}[x[3]]],C=f[0],H=f[1];S=jT.axm(C[1]-H[1],-C[0]+H[0])}if(e.Ef.aBl(z,x))S="crosshair";
this.view.Fi(S)}if(w){var b=this.view.g7(o),i=w.slice(0);w[w.length-2]=b.x;w[w.length-1]=b.y;this.xW()}this.O4(o);
if(P==5&&!this.h3&&this.Zt){var b=this.view.g7(o),z=this.ei(),M=e.Ef.XQ(z,b.x,b.y,this.$H());if(M){var T=new eD(M[2][0],M[2][1]),O=e.Ef.QI(z,z[M[0]][1][M[1]],this.$H()),Y=O[1],U=e.W.tV(O[0],Y),W=[Y.x+Y.q/2,Y.y+Y._/2];
e.W.h(U,W);var t=b.x-W[0],_=b.y-W[1],n=this.Zt.G1(T,this.view.qC().D,null,null,Math.atan2(-_,-t));this.view.Fi(n?n:"default")}}};
cq.VaPo.prototype.O4=function(o){var P=this.I,w=this.AR;if((P==3||P==4)&&!this.h3){var x=o?this.view.g7(o):this.th,z=this.ei();
this.th=x;if(x==null)return;var S=e.Ef.XQ(z,x.x,x.y,this.$H());if(S){if(P==3&&this.qV&&this.yM[2][3].m()){var k=new eD(S[2][0],S[2][1]);
this.a5=k.WJ(this.qV);this.xW()}if(P==3&&(this.a5==null||w&&(w.d(i$.JV)||w.d(i$.gM)))){if(this.Bu){this.X7=null;
this.kX(this.Bu);this.xW(!0,this.Bu)}return}this.agS(S,this.Bu)}}};cq.VaPo.prototype.$H=function(){return[this.p$.q/2,this.p$._/2]};
cq.VaPo.prototype.yR=function(o){this.h3=!0;var P=this.I,w=this.SF,x=this.ei(),z=this.AR,S=this.sd=this.a0c(null),k=this.view.g7(),f=e.Ef.XQ(x,k.x,k.y,this.$H()),C=f?new eD(f[2][0],f[2][1]):null;
if(e.Ef.aBl(x,S)){var H=x[S[1]][1][S[2]];x.splice(S[1],1);this.T.splice(S[1],1);w=e.Ef.a86(H);var b=-1,k=S[0];
for(var I=0;I<8;I+=2){var i=w[I]-k[0],M=w[I+1]-k[1];if(i*i+M*M<1e-5)b=I}b=b+2&7;w=this.SF=w.slice(b).concat(w.slice(0,b));
this.js(x)}else if(e.Ef.Em(x,S)){if(P==1||z&&z.d(i$.Jm)){x=e.Ef.ahp(x,S,this.$H());this.js(x);S[2]=x[S[1]][1].length-1;
S[3]=8+(S[3]+4&7);this.T[S[1]].push(S[2]);this.js(x,!0);this.GU(0)}else this.js(this.ei(x))}else if(P==0){var T=[];
for(var I=0;I<x.length;I++)T.push([]);if(f){if(z&&z.d(i$.W1))T=this.T;var O=T[f[0]].indexOf(f[1]);if(O==-1)T[f[0]].push(f[1]);
else T[f[0]].splice(O,1)}this.T=T;this.js(x,!0);this.xW()}else if(P==2){if(f){var Y=this.wn;if(Y&&Y.ga(C)){if(z)if(z.d(i$.JV)||z.d(i$.Jm)){this.GU(5);
this.yR(o);return}this.B_=new eD(C.x-Y.x,C.y-Y.y)}else{this.f2=f[2].concat(f[2]);this.K8=f}}}else if(P==3||P==4){if(P==3){if(z&&(z.d(i$.JV)||z.d(i$.gM))){if(f){this.a5=C;
this.QL=C.clone();this.qV=null;this.aQ=f;this.xW()}else alert("You must click into a plane");this.h3=!1;
return}else if(this.a5==null){alert(kQ.get([15,7,0]));this.h3=!1;return}else if(f){var U=this.qV=C.WJ(this.a5)}}if(f){this.agS(f)}}else if(P==5){if(f){var W=new eD(f[2][0],f[2][1]),t=this.Zt.aE({s:this.view.qC()},{},z,W)}}};
cq.VaPo.prototype.agS=function(o,P){var w=this.X7;if(w==null)this.X7=w=e.U(this.p$.c()*4);else w.fill(0);
var x=this.I;this.K8=o;var z=this.yM[x-1],S=e.ah4.asB(z[0].m(),z[1].m()/100,1),k=e.U(S[1].c()*4);e.lI(S[0],k,3);
if(x==4){var f=e.G.dQ(z[3].m());e.ZT(k,Math.round(f.b)<<16|Math.round(f.H)<<8|Math.round(f.$)<<0,4278190080)}this.a0={ajJ:S[0],Du:k,sn:S[1]};
var C=this.Bu=this.Fj(o[2],o[2]),H=P?P.It(C):C;this.kX(H);this.xW(!0,H)};cq.VaPo.prototype.yH=function(o){var P=this.sd,w=this.I,x=this.ei();
if(w==0&&e.Ef.Em(x,P)){x=e.Ef.aBF(x,P,this.view.g7());this.js(x,!0);this.xW()}var z=this.B_;if(w==2&&this.h3&&(this.f2||z)){var S=this.view.g7(),k=e.Ef.XQ(x,S.x,S.y,this.$H());
if(k){this.K8=k;if(z){this.wn.x=k[2][0]-z.x;this.wn.y=k[2][1]-z.y}else{this.f2=this.f2.slice(0,2).concat(k[2]);
this.wn=e.a.RR(this.f2)}this.xW()}}if((w==3||w==4)&&this.h3){var S=this.view.g7(),k=e.Ef.XQ(x,S.x,S.y,this.$H());
if(k){if(w==3){var f=this.qV;this.a5=new eD(k[2][0]-f.x,k[2][1]-f.y)}var C=this.Fj(this.K8[2],k[2]);
this.Bu=this.Bu.It(C);this.K8=k;this.kX(C);this.xW(!0,C)}}if(w==5&&this.h3){var S=this.view.g7(),k=e.Ef.XQ(x,S.x,S.y,this.$H(),this.K8);
if(k){var H=new eD(k[2][0],k[2][1]);this.Zt.Dv({s:this.view.qC()},{},this.AR,H);this.K8=k;var C=this.Bu;
if(C)this.kX(C);else C=new fA;this.Bu=this.rN(null,null,!0);this.xW(!0,C.It(this.Bu))}}};cq.VaPo.prototype.Fj=function(o,P){o=new eD(o[0],o[1]);
P=new eD(P[0],P[1]);var w=Math.max(1e-5,eD.a_(o,P)),x=this.a0.sn.q*.2,z=new fA;for(var S=0;S<w;S+=x){var k=1-S/w,f=k*o.x+(1-k)*P.x,C=k*o.y+(1-k)*P.y,H=this.a0.sn.clone();
H.x=Math.round(f-H.q/2);H.y=Math.round(C-H._/2);if(this.I==3){var b=this.qV;if(b==null)b=new eD(f,C).WJ(this.a5);
var i=this.wn=H.clone();i.x=Math.round(i.x-b.x);i.y=Math.round(i.y-b.y);var M=this.a0.ajJ;this.a0=this.awm(this.aQ);
this.wn=null;e.aS(M,this.a0.Du);this.a0.ajJ=M}var T=this.rN(this.X7,H);z=z.It(T)}return z};cq.VaPo.prototype.D4=function(o){var P=this.sd;
if(P&&P[3]>=8){var w=e.Ef.a10(this.ei(),P,this.$H());this.js(w,!0);this.xW();alert("new plane added")}var x=this.I,z=this.SF;
if(z||x==1){var S=this.view.g7();if(z==null)z=this.SF=[S.x,S.y];if(z.length==8&&jT.RV(z)){var w=this.ei();
w.push([100,[e.Ef.afM(z,this.$H())]]);this.T.push([0]);this.js(w,!0);z=this.SF=null;this.GU(0);this.xW()}else if(z.length<8){z.push(S.x,S.y);
if(z.length==8&&!jT.RV(z)){var k=z[0],f=z[1];z[0]=z[4];z[1]=z[5];z[4]=k;z[5]=f}}}var C=this.f2;if(x==2&&C&&C[0]==C[2]&&C[1]==C[3]){this.wn=null;
this.xW()}if((x==3||x==4)&&this.h3){if(x==3&&!this.yM[2][3].m()&&this.QL){this.a5=this.QL.clone();this.xW()}this.js();
this.X7=null}if(!this.yM[2][3].m())this.qV=null;this.h3=!1;this.B_=null;this.f2=null};cq.VaPo.prototype.GU=function(o,P){if(o==this.I)return;
var w=this.Bu,z=6;if(this.I==5){this.js();this.kX(w);this.Zt=null;this.xW()}if(this.I==3||this.I==4){this.X7=null;
if(w)this.kX(w);this.xW(!0,w)}if(o==5){if(P==null&&this.wn==null){alert("Select the area to be transformed");
return}this.aDd(P)}if(o>1){var x=this.ei();this.m8();this.js(x,!0);this.xW()}this.view.xF(o>=z?hx.pS(o-z):new i$(!0));
if(o<z)this.view.Fi("auto");this.I=o;this.rk.GU(o);J.eg(this.e9);var S={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[o];
this.e9.appendChild(this.BE[S])};cq.VaPo.prototype.ei=function(){var I=this.SS,o=this.Sq;while(o[I].length==3)I--;
var P=o[I];this.T=JSON.parse(P[1]);return JSON.parse(P[0])};cq.VaPo.prototype.js=function(o,P){if(o==null&&this.Bu==null)return;
var w=this.Sq,x=this.SS,I=x;while(I>=0&&w[I].length==3)I--;if(P==null)this.SS=x=x+1;if(o!=null)w[P?I:x]=[JSON.stringify(o),JSON.stringify(this.T)];
else{var z=this.p$,S=this.Bu,k=e.U(S.c()*4),f=e.U(S.c()*4);w[x]=[S,k,f];e.sR(this.kI,z,k,S);if(this.X7)e.C.Iv("norm",this.X7,z,this.kI,z,z,this.avX());
else this.rN(this.kI);e.sR(this.kI,z,f,S);this.Bu=null}while(w.length!=x+1)w.pop()};cq.VaPo.prototype.avX=function(){return this.yM[this.I-1][2].m()/100};
cq.VaPo.prototype.m8=function(o,P){if(o==null)o=this.ei();this.T=[];for(var I=0;I<o.length;I++){var w=[];
this.T.push(w);if(P)for(var x=0;x<o[I][1].length;x++)w.push(x)}};cq.VaPo.prototype.O=function(o,P,w,x,z,S){var k=JSON.parse(JSON.stringify(S[2].Ef));
this.SS=-1;this.m8(k);this.js(k);var f=e.U(x.c()*4);e.sR(P,w,f,x);this.a1S=new fA;this.p$=x;this.afy=z;
this.kI=f;this.tk=z.slice(0);this.kX(x);this.xW(!0);this.view.kn();this.GU(0)};cq.VaPo.prototype.aDd=function(o){this.a0=o?o:this.awm();
var P=e.a.R2(this.a0.sn).i;if(o){var w=this.ei(),x=e.Ef.QI(w,w[0][1][0],this.$H()),z=x[1],S=Math.min(z.q/o.sn.q,z._/o.sn._)*.9;
if(S<1)e.a.h(P,new ar(S,0,0,S,0,0),P)}this.Zt=new jT(P,!0,!0);this.wn=null;this.Bu=this.rN();this.xW(!0)};
cq.VaPo.prototype.awm=function(o){var P=this.p$,w=e.a.lY(this.wn),x=this.ei(),z=e.U(w.c()*4);if(o==null)o=this.K8;
var S=x[o[0]][1],k=e.Ef.jk(x[o[0]][1],o[1],w,this.$H());for(var f=0;f<k.length;f++){var C=S[k[f]],H=e.Ef.QI(x,C,this.$H()),b=H[0],i=H[1],M=i.SN(w);
if(M.Mw())continue;M=e.a.lY(M);var T=e.U(M.c()*4),O=e.W.tV(b,i);O=e.W.j$([1/P.q,0,0,0,1/P._,0,0,0],O);
O=e.W.Sd(O);e.W.drawImage(O,this.tk,P.q,P._,T,M);e.sR(T,M,z,w)}var Y=this.yM[1][0].m(),U=Math.round(Y*1.4),W=w.clone();
W.$b(-U,-U);var t=e.U(W.c());t.fill(255);var _=e.U(w.c());e.d0(t,W,_,w);var n=e.U(w.c());e.uY.xf(_,n,w,Y);
e.JX(z,_,3);e.mH.SN(_,n,n);e.lI(n,z,3);return{Du:z,sn:w}};cq.VaPo.prototype.kX=function(o,P){var w=this.p$;
e.sR(this.afy,w,this.tk,w,o);e.C.Iv("norm",this.kI,w,this.tk,w,o,1);if(this.X7)e.C.Iv("norm",this.X7,w,this.tk,w,o,this.avX())};
cq.VaPo.prototype.rN=function(o,P,w){var x=this.a0,z=x.sn,S=this.p$,k,f=P?e.a.R2(P).i:this.Zt.eE(),C=e.a.w4(f),k=e.W.tV(f,z),H=this.yM[4],b=new ar;
if(H[0].m()){b.F=-1;b.$X=2*z.x+z.q}if(H[1].m()){b.RL=-1;b.Ar=2*z.y+z._}k=e.W.j$(k,e.W.G5(b));function i(p,c){p.beginPath();
p.moveTo(c[0],c[1]);for(var I=1;I<4;I++)p.lineTo(c[I*2],c[I*2+1]);p.closePath()}var M=this.ei(),T=e.Ef.jk(M[this.K8[0]][1],this.K8[1],C,this.$H()),O=M[this.K8[0]][1],Y=new fA;
for(var U=0;U<T.length;U++){var W=O[T[U]],t=e.Ef.QI(M,W,this.$H()),_=t[0],n=t[1],y=n.SN(C);if(this.wn)y=y.SN(this.wn);
if(y.Mw())continue;var F=e.W.tV(_,n),a=e.a.R2(y).i;e.W.h(F,a);var V=f.slice(0);e.W.h(F,V);var D=e.a.RR(V).SN(e.a.RR(a)),l=D.q,Q=D._;
if(D.Mw())continue;F=e.W.j$(e.W.j$(F,k),[z.q,0,z.x,0,z._,z.y,0,0]);var m=e.U(D.c()*4);e.W.drawImage(F,x.Du,z.q,z._,m,D,w);
if(y.c()!=C.c()){var R=e.Um(l,Q);R.save();R.clearRect(0,0,l,Q);R.translate(-D.x,-D.y);i(R,a);R.clip();
i(R,V);R.fill();R.restore();var $=new Uint8Array(R.getImageData(0,0,l,Q).data.buffer);for(var I=3;I<m.length;
I+=4)if($[I]<m[I])m[I]=$[I]}e.C.Iv("norm",m,D,o?o:this.tk,S,D,1);Y=Y.It(D)}return Y};cq.VaPo.prototype.m=function(){return JSON.parse(JSON.stringify(this.ei()))};
cq.VaPo.prototype.ayv=function(){if(this.I==5)this.GU(0);var o=new fA,P=this.Sq;for(var I=0;I<=this.SS;
I++)if(P[I].length==3)o=o.It(P[I][0]);var w=e.U(o.c()*4);e.sR(this.kI,this.p$,w,o);return[w,o]};cq.VaPo.prototype.sH=function(o,P){this.rk.sH(o,P);
this.view.sH(o-40,P-30)};cq.VaPo.prototype.S=function(){this.rk.S();for(var I=0;I<this.yM.length;I++)for(var o=0;
o<this.yM[I].length;o++)this.yM[I][o].S()};cq.VaPo.prototype.xW=function(o,P){var w=this.p$,x=[],z=[],S=[],k=this.ei(),f=e.Ef.eE(k,this.T),C=0,H=null,U=null,W=null,t=null;
for(var I=0;I<f.length;I++)S.push(f[I][0][0],f[I][0][1]);for(var I=0;I<k.length;I++){var b=this.T[I].length;
C+=b;if(b!=0)H=[I,this.T[I][0]]}var i=this.yM[0][0];i.hk(C!=0);if(C!=0)i.O(Math.round(k[H[0]][0]));if(C==1){var M=k[H[0]][1]}var T=[];
if(this.wn&&k[this.K8[0]])T=e.Ef.jk(k[this.K8[0]][1],this.K8[1],this.wn,this.$H());var O=[];if(this.Zt){O=this.Zt.abG();
O[4]=this.Zt.xP()}var Y=[];if(this.Zt&&k[this.K8[0]])Y=e.Ef.jk(k[this.K8[0]][1],this.K8[1],e.a.RR(this.Zt.eE()),this.$H());
for(var _=0;_<k.length;_++){var n=k[_][0],M=k[_][1],y=this.T[_];for(var F=0;F<M.length;F++){var H=M[F],a=e.Ef.QI(k,H,this.$H()),V=a[0],w=a[1],D=e.W.tV(V,w);
if(w.Mw()){if(W==null)W={LG:[],i:[]};e.a.concat(W,{LG:["M","L","L","L","Z"],i:V});continue}var l=e.a.R2(w),Q=l.i,m=l.LG,R=this.a5;
if(R&&w.ga(R)&&this.aQ&&this.aQ[0]==_){U=[R.x,R.y];e.W.h(D,U)}if(T.indexOf(F)!=-1){var $=this.wn.SN(w);
if(_==this.K8[0]&&!$.Mw()){if(t==null)t={i:[],LG:[]};var p=e.a.R2($);e.W.h(D,p.i);e.a.concat(t,p)}}if(Y.indexOf(F)!=-1&&_==this.K8[0]){var c=[];
for(var I=0;I<O.length;I++)if(w.ga(O[I]))c.push(O[I].x,O[I].y);if(c.length!=0){e.W.h(D,c);S=S.concat(c)}}if(y&&y.indexOf(F)!=-1){var B=Math.ceil(w.x/n)*n,Z=w.x+w.q,v=Math.ceil(w.y/n)*n,E=w.y+w._;
for(var g=B;g<Z;g+=n){Q.push(g,w.y,g,E);m.push("M","L")}for(var u=v;u<E;u+=n){Q.push(w.x,u,Z,u);m.push("M","L")}}e.W.h(D,Q);
x=x.concat(m);z=z.concat(Q)}if(U&&this.I==3){var g=U[0],u=U[1],j=10/this.view.qC().D;z.push(g-j,u,g+j,u);
z.push(g,u-j,g,u+j);x.push("M","L","M","L")}}var V=this.SF,w=this.p$;if(V){var A=["M"];for(var I=0;I<V.length-2;
I+=2)A.push("L");A.push("Z");var K=N.A0.tJ(V,w.q/2,w._/2);if(isNaN(K)||K==Infinity||K==-Infinity||!jT.RV(V)){if(W==null)W={LG:[],i:[]};
e.a.concat(W,{LG:A,i:V})}else{z=z.concat(V);x=x.concat(A)}}var s={Uq:{LG:x,i:z},a6G:W,ab1:t,Ra:S,XK:null};
if(o){this.view.O([{pv:w,data:this.tk.buffer}],null,s,P)}else this.view.ah$(s)};cq.blnc=function(){cq.call(this);
var o=this.Z;this.Bw=null;this.Ry=new f7([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.Ry.J(G.E.w,this.xW,this);
o.appendChild(this.Ry.Z);this.pA=[];for(var I=0;I<3;I++){var P=new aT(["VAR0 - VAR1",ft.apx[I],ft.uI[I]],-100,100);
P.J(G.E.w,this.CR,this);this.pA.push(P);o.appendChild(P.Z)}this.X6=new f5([13,4]);this.X6.J(G.E.w,this.CR,this);
o.appendChild(this.X6.Z)};cq.blnc.prototype=new cq;cq.blnc.prototype.S=function(){this.Ry.S();for(var I=0;
I<3;I++)this.pA[I].S();this.X6.S()};cq.blnc.prototype.O=function(o){this.Bw=JSON.parse(JSON.stringify(o));
this.xW()};cq.blnc.prototype.m=function(o){var P=["ShdL","MdtL","HghL"],w=this.Bw[P[this.Ry.m()]].v;
for(var I=0;I<3;I++)w[I].v=this.pA[I].m();this.Bw.PrsL.v=this.X6.m();return JSON.parse(JSON.stringify(this.Bw))};
cq.blnc.prototype.xW=function(o){var P=["ShdL","MdtL","HghL"],w=this.Bw[P[this.Ry.m()]].v;for(var I=0;
I<3;I++)this.pA[I].O(w[I].v);this.X6.O(this.Bw.PrsL.v)};cq.brit=function(){cq.call(this,"brit");this.gP.push(new aT([12,2],-150,150,""));
this.gP.push(new aT([12,3,0],-100,100,""));this.gP.push(new f5([12,3,1]));this.Ir()};cq.brit.prototype=new cq;
cq.curv=function(){cq.call(this);this.value=null;this.nl=null;this.r7=null;var o=this.Z;this.n4=new f7("Preset",["basic","advanced"]);
this.n4.J(G.E.w,this.ajq,this);o.appendChild(this.n4.Z);J.jB(o);this.eL=new f7([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.eL.J(G.E.w,this.qs,this);o.appendChild(this.eL.Z);this.h4=new f7(null,["Spline","Sketch"]);this.h4.J(G.E.w,this.ajq,this);
o.appendChild(this.h4.Z);this.jQ=new f$;this.jQ.parent=this;this.jQ.J(G.E.w,this._9,this);o.appendChild(this.jQ.Z);
J.jB(o);this.XV=new cI;this.XV.J(G.E.w,this.ae,this);o.appendChild(this.XV.Z);this.dz=null;this.aGU=0;
this.J5=0;J.jB(o);this.h1=new fs("Sample from image",kp.d4(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.h1.J(G.E.w,this.pM,this);this.h1.Z.style.marginRight="0";o.appendChild(this.h1.Z)};cq.curv.prototype=new cq;
cq.curv.prototype.RU=function(o,P){if(P==eB.qU||P==eB.vp){var w=o.YR,x=["Default"];for(var I=0;I<w.length;
I++)x.push(w[I].presetFileName.v);x.push("Custom");this.n4.Cp(x,[1,w.length,1]);this.r7=o}};cq.curv.prototype.sH=function(o,P){this.XV.sH(o,P)};
cq.curv.prototype.S=function(){this.eL.S();this.XV.S()};cq.curv.prototype.V_=function(){this.n4.O(this.r7.YR.length+1)};
cq.curv.prototype.ajq=function(o){if(o.target==this.n4){var P=this.n4.m(),w=this.r7.YR,x;if(P==0)x=cM.bS("curv");
else if(P-1<w.length)x=JSON.parse(JSON.stringify(w[P-1]));else return;this.O(x);this.CR();return}this.V_();
var z=jP.mc(this.value,0),S=z.length==256?1:0,k=this.h4.m();if(S==k)return;var x=cM.bS("curv");if(k==1){var f=[];
for(var I=0;I<256;I++)f.push(I);jP.I$(x,0,f)}this.O(x);this.CR()};cq.curv.prototype.ae=function(){this.V_();
jP.I$(this.value,this.eL.m(),this.XV.m());this.CR()};cq.curv.prototype.qs=function(){var o=this.eL.m(),P=jP.mc(this.value,o),w=P.length==256?1:0;
this.h4.O(w);if(this.nl)this.XV.rB(this.nl[o],this.nl[4]*[1,.33,.33,.33][o],["#ccc","#fcc","#cfc","#ccf"][o]);
this.XV.O(P)};cq.curv.prototype.RE=function(){return!0};cq.curv.prototype.aE=function(o,P,w,x,z){var S=this.value;
this.value=cM.bS("curv");this.CR();var k=N.S9.lR(o,z,1,null,!0),f=this.dz=[k>>>16&255,k>>>8&255,k&255];
this.aGU=z.y;var C=this.h1.m().indexOf(!0);if(C==0){var H=(f[0]+f[1]+f[2])/3,b=this.eL.m(),i=jP.mc(S,b),M=b==0?H:f[b-1],T=-1;
for(var I=0;I<i.length;I++)if(i[I].v.Hrzn.v==M)T=I;if(T==-1){var O=JSON.parse(JSON.stringify(i[0]));
O.v.Hrzn.v=M;O.v.Vrtc.v=M;i.push(O);i.sort(function(Y,U){return Y.v.Hrzn.v-U.v.Hrzn.v});jP.I$(S,b,i);
this.J5=i.indexOf(O)}else this.J5=T}this.O(S);this.CR()};cq.curv.prototype.Dv=function(o,P,w,x,z){if(this.dz==null)return;
if(this.h1.m().indexOf(!0)==0){var S=this.value,k=this.eL.m(),f=jP.mc(S,k),C=f[this.J5];C.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(C.v.Hrzn.v+(this.aGU-z.y))));
jP.I$(S,k,f);this.O(S);this.CR()}};cq.curv.prototype.I2=function(o,P,w,x,z){var S=this.value,k=this.dz,f=(k[0]+k[1]+k[2])/3,C=this.h1.m().indexOf(!0)-1;
if(C<=-1){}else for(var I=0;I<3;I++){var H=jP.mc(S,1+I);if(C==0)H[0].v.Hrzn.v=k[I];if(C==1){var b=Math.log(k[I]/255)/Math.log(f/255),i=Math.min(999,Math.max(10,Math.round(100*b)));
if(H.length==2)H.splice(1,0,JSON.parse(JSON.stringify(H[0])));H[1].v.Hrzn.v=127-Math.log(i/100)*127;
H[1].v.Vrtc.v=127}if(C==2)H[H.length-1].v.Hrzn.v=k[I];jP.I$(S,1+I,H)}this.O(S);this.CR();this.V_();this.dz=null};
cq.curv.prototype.O=function(o){this.value=o;this.qs()};cq.curv.prototype.rB=function(o){this.nl=o;this.qs()};
cq.curv.prototype.m=function(o){return JSON.parse(JSON.stringify(this.value))};cq.curv.prototype._9=function(){var o=this.jQ.m(),P=this.nl,w=this.value,x=e.amt(o,P);
for(var I=0;I<4;I++){var z=x[I][0],S=x[I][1],k=x[I][2],f=[e.Kh.ts(z,0,!0),e.Kh.ts(S,255,!0)];if(k!=null)f.splice(1,0,e.Kh.ts(128,k,!0));
jP.I$(w,I,f)}this.qs();this.CR()};cq.expA=function(){cq.call(this,"expA");this.gP.push(new aT([12,5],-20,20,null,2,!0));
this.gP.push(new aT([12,6],-.5,.5,null,2));this.gP.push(new aT([12,7],.01,9.99,null,2,!0));this.Ir()};
cq.expA.prototype=new cq;cq.expA.prototype.gN=function(o,P){P[0]=o.Exps.v;P[1]=o.Ofst?o.Ofst.v:0;P[2]=o.gammaCorrection?o.gammaCorrection.v:1};
cq.expA.prototype.P$=function(o,P){o.Exps={t:"doub",v:P[0]};o.Ofst={t:"doub",v:P[1]};o.gammaCorrection={t:"doub",v:P[2]}};
cq.grdm=function(){cq.call(this,"grdm");this.gP.push(new jU(!0,null,!0));this.gP.push(new f5([12,23,0]));
this.Ir()};cq.grdm.prototype=new cq;cq.grdm.prototype.gN=function(o,P){P[0]=o.Grad.v;P[1]=o.Rvrs?o.Rvrs.v:!1};
cq.grdm.prototype.P$=function(o,P){o.Grad.v=P[0];o.Rvrs={t:"bool",v:P[1]}};cq.grdm.prototype.RU=function(o,P){this.gP[0].Q6(o.AB,o.eI);
if(P==eB.qU||P==eB.P6||P==eB.wr)this.gP[0].Rj(o.EE)};cq.selc=function(){cq.call(this);var o=this.Z;this.C0=[];
this.TJ=null;this.Ry=new f7([12,82],ft.UP.concat([[13,1,8],[13,1,13],[13,1,10]]));this.Ry.J(G.E.w,this.pF,this);
o.appendChild(this.Ry.Z);J.jB(o);for(var I=0;I<4;I++){var P=new aT(ft.apx[I],-100,100,"%");P.J(G.E.w,this.pF,this);
this.C0.push(P);o.appendChild(P.Z)}this.ow=new f5([13,3]);o.appendChild(this.ow.Z);this.ow.J(G.E.w,this.pF,this)};
cq.selc.prototype=new cq;cq.selc.prototype.S=function(){this.Ry.S();this.ow.S();for(var I=0;I<4;I++)this.C0[I].S()};
cq.selc.prototype.O=function(o){this.TJ=JSON.parse(JSON.stringify(o));this.xW()};cq.selc.prototype.m=function(o){return JSON.parse(JSON.stringify(this.TJ))};
cq.selc.prototype.pF=function(o){if(o.target!=this.Ry){var P=this.TJ,w=[];for(var I=0;I<4;I++)w[I]=this.C0[I].m();
bT.I$(P,this.Ry.m(),w);P.Mthd={t:"enum",v:{CrcM:this.ow.m()?"Absl":"Rltv"}}}this.xW();this.CR()};cq.selc.prototype.xW=function(){var o=this.TJ,P=bT.mc(o,this.Ry.m());
for(var I=0;I<4;I++)this.C0[I].O(P[I]);this.ow.O(o.Mthd?o.Mthd.v.CrcM=="Absl":!1)};cq.blwh=function(){cq.call(this,"blwh");
this.gP.push(new f5([12,11]));this.gP.push(new fN(!0));for(var I=0;I<6;I++)this.gP.push(new aT(ft.UP[I],-200,300));
this.Ir()};cq.blwh.prototype=new cq;cq.blwh.prototype.gN=function(o,P){P[0]=o.useTint.v;P[1]=o.tintColor.v;
var w="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var I=0;I<6;I++)P[2+I]=o[w[I]].v};cq.blwh.prototype.P$=function(o,P){o.useTint.v=P[0];
o.tintColor.v=P[1];var w="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var I=0;I<6;I++)o[w[I]].v=P[2+I]};
cq.hue2=function(){cq.call(this);this.value=null;this.AZ=null;this.Ha=null;this.rJ=[[0,0,0],[0,50,0]];
var o=this.Z;this.h1=new fs(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.h1.J(G.E.w,this.abM,this);this.h1.J(G.E.w,this.pM,this);o.appendChild(this.h1.Z);var P=this.gP=[new f7([12,12],["Master"].concat(ft.UP)),new aT([12,8],-180,180),new aT([12,9],-100,100),new aT([12,10],-100,100),new f5([12,11])];
for(var I=0;I<P.length;I++){var w=P[I];w.J(G.E.w,I==0?this.qs:this.a4w,this);o.appendChild(w.Z)}this.Ry=P[0];
this.AQ=P[1];this.ul=P[2];this.av=P[3];this.Ma=P[4];this.gO=new fs("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.gO.J(G.E.w,this.abM,this);this.gO.J(G.E.w,this.pM,this);this.gO.Z.style.marginLeft="20px";o.appendChild(this.gO.Z);
this.Fc=J.k("div");o.appendChild(this.Fc);this.bA=this.zx.bind(this);this.a3=this._e.bind(this);this.hj=J.k("canvas");
this.QA=this.hj.getContext("2d");this.BA=null;J.N_(this.hj);J.Wy(this.hj,282,18);o.appendChild(this.hj);
J.Dw(this.hj,this.KI.bind(this))};cq.hue2.prototype=new cq;cq.hue2.prototype.sH=function(o,P){J.Wy(this.hj,Math.round(o),18);
if(this.value)this.qs()};cq.hue2.prototype.abM=function(o){var P=o.target.m().indexOf(!0);if(P==-1)return;
if(o.target==this.h1)this.gO.O([!1,!1,!1]);else this.h1.O([!1,!1,!1])};cq.hue2.prototype.KI=function(o){if(this.Ry.m()==0||this.Ma.m())return;
var P=J.YH(o,this.hj).x/(this.hj.width/J.M()),S=1e6;function w(i,M,T){return i<M&&M<T||T<i&&(i<M||M<T)}var x=this.Nj(),z=-1;
for(var I=0;I<4;I++){var k=Math.abs(P-(x[I]+I*1e-5));if(k<S){S=k;z=I}}if(S>.025){z=-1;var f=x[0],C=x[1],H=x[2],b=x[3];
if(w(f,P,C))z=4;if(w(C,P,H))z=5;if(w(H,P,b))z=6}if(z==-1)return;this.BA=z;J.Zw(document.body,this.bA);
J.FV(document.body,this.a3)};cq.hue2.prototype.zx=function(o){var P=J.YH(o,this.hj).x/(this.hj.width/J.M()),w=this.Nj(),x=this.BA;
for(var I=1;I<4;I++)if(w[I]<w[I-1]){w[I]+=1}if(x<4){var z=1e6,S=0;for(var I=-20;I<20;I++){var k=Math.abs(w[x]-(P+I));
if(k<z){z=k;S=I}}P+=S;w[x]=P;for(var I=x+1;I<4;I++)if(w[I]<w[I-1]){w[I]=w[I-1]}for(var I=x-1;I>=0;I--)if(w[I]>w[I+1]){w[I]=w[I+1]}}else{var f=P-(w[x-4]+w[x-3])/2;
if(f<-.5)f+=1;if(x==4){w[0]+=f;w[1]+=f;w[2]=Math.max(w[1],w[2]);w[3]=Math.max(w[1],w[3])}if(x==5)for(var I=0;
I<4;I++)w[I]+=f;if(x==6){w[2]+=f;w[3]+=f;w[0]=Math.min(w[0],w[2]);w[1]=Math.min(w[1],w[2])}}for(var I=1;
I<4;I++)if(w[I]<w[I-1])throw"e";this.ay1(w);this.qs();this.CR()};cq.hue2.prototype._e=function(o){J.ig(document.body,this.bA);
J.qM(document.body,this.a3)};cq.hue2.prototype.S=function(){for(var I=0;I<this.gP.length;I++)this.gP[I].S()};
cq.hue2.prototype.a4w=function(o){var P=this.value.Clrz.v=this.Ma.m();if(P)this.Ry.O(0);if(o&&o.target==this.Ma){var w=P?1:0;
this.rJ[1-w]=gw.mc(this.value,0);var x=this.rJ[w];gw.I$(this.value,0,x);if(this.Ry.m()==0){this.AQ.O(x[0]);
this.ul.O(x[1]);this.av.O(x[2])}}var z=this.Ry.m(),S=gw.mc(this.value,z),x=z==0?S:S.pA;x[0]=this.AQ.m();
var k=this.ul.m();x[1]=P?Math.max(0,k):k;x[2]=this.av.m();gw.I$(this.value,z,S);this.qs();this.CR()};
cq.hue2.prototype.qs=function(){var o=this.Ry.m(),P=this.value.Clrz?this.value.Clrz.v:!1;this.Ma.O(P);
this.Ry.hk(!P);this.gO.hk(!P&&o!=0);var w=gw.mc(this.value,o),x=o==0?w:w.pA;this.AQ.O(x[0]);this.ul.O(x[1]);
this.av.O(x[2]);var z=this.hj.width,S=this.hj.height,k=this.QA;k.clearRect(0,0,z,S);if(P||o==0){this.Fc.innerHTML="";
return}var f=w.QE;this.Fc.innerHTML=f[0]+"\xB0 / "+f[1]+"\xB0<span style=\"float:right\">"+f[2]+"\xB0 \\ "+f[3]+"\xB0</span>";
var C=e.U(z*4);d4.at4(C,1,z,-1,.5);var H=new ImageData(new Uint8ClampedArray(C.buffer),z,1),b=Math.round(S/4);
for(var I=0;I<b;I++)k.putImageData(H,0,I);function i(W,t,_){k.fillStyle=_;var n=b*2;if(W<=t)k.fillRect(W*z,n,(t-W)*z,b);
else{k.fillRect(0,n,t*z,b);k.fillRect(W*z,n,(1-W)*z,b)}}var M=this.Nj();i(M[0],M[1],"#888888");i(M[1],M[2],"#cccccc");
i(M[2],M[3],"#888888");k.fillStyle="#ffffff";k.lineWidth=1;k.beginPath();var T=b+.5,O=4*b+.5;for(var I=0;
I<4;I++){var Y=Math.floor(z*M[I])+.5,U=(I<2?-1:1)*b*(I==1||I==2?1:2);k.moveTo(Y,T);k.lineTo(Y,O);k.lineTo(Y+U,O);
k.lineTo(Y+U,b+b+.5);k.closePath()}k.fill();k.stroke()};cq.hue2.prototype.Nj=function(){var o=this.Ry.m(),P=gw.mc(this.value,o).QE;
for(var I=0;I<4;I++)P[I]=(1000.5+P[I]/360)%1;return P};cq.hue2.prototype.ay1=function(o){var P=this.Ry.m(),w=gw.mc(this.value,P);
for(var I=0;I<4;I++)w.QE[I]=Math.round(36e3+(o[I]-.5)*360)%360;gw.I$(this.value,P,w)};cq.hue2.prototype.RE=function(){return!0};
cq.hue2.prototype.a5p=function(){var o=this.h1.m().indexOf(!0),P=this.gO.m().indexOf(!0);return o!=-1?o:P!=-1?P+1:-1};
cq.hue2.prototype.aE=function(o,P,w,x,z){var S=this.a5p();if(S==-1)return;var k=this.value;this.value=cM.bS("hue2");
this.CR();var f=N.S9.lR(o,z,1,null,!0);this.O(k);var C=[f>>>16&255,f>>>8&255,f&255],H=e.j1(C[0]/255,C[1]/255,C[2]/255);
if(S==0){this.Ry.O(1+Math.round(H.Y*6)%6)}else{var b=this.Nj(),i=.5+H.Y,M=1/12,T=b[1],O=b[2];if(O<T){O++;
if(i<T&&i+1-O<T-i)i++}var Y=T<=i&&i<=O;if(S==1){T=i-M/2;O=i+M/2}else if(S==2&&!Y){T=Math.min(i,T);O=Math.max(i,O)}else if(S==3&&Y){if(i-T<O-i)T=i;
else O=i}b=[T-M,T,O,O+M];this.ay1(b)}this.CR();this.AZ=z.x;this.Ha=this.ul.m()};cq.hue2.prototype.Dv=function(o,P,w,x,z){var S=this.a5p();
if(S==-1)return;if(S==0){if(this.AZ!=null){var k=z.x-this.AZ;k=Math.max(-100,Math.min(100,this.Ha+.5*k));
this.ul.O(k);this.a4w()}}};cq.hue2.prototype.I2=function(o,P,w,x,z){this.AZ=null};cq.hue2.prototype.O=function(o){this.value=JSON.parse(JSON.stringify(o));
var P=this.value.Clrz?this.value.Clrz.v:!1;this.rJ[P?1:0]=gw.mc(this.value,0);this.qs()};cq.hue2.prototype.m=function(o){return JSON.parse(JSON.stringify(this.value))};
cq.levl=function(){function o(){cq.call(this);this.value=null;this.nl=null;this.Az=[new eD(0,0),new eD(0,0),new eD(0,0),new eD(0,0),new eD(0,0)];
this.N1=-1;this.bA=this.zx.bind(this);this.a3=this._e.bind(this);var P=this.Z;this.eL=new f7([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.eL.J(G.E.w,this.qs,this);P.appendChild(this.eL.Z);this.jQ=new f$;this.jQ.parent=this;this.jQ.J(G.E.w,this._9,this);
P.appendChild(this.jQ.Z);var w=J.k("div","");P.appendChild(w);var x=J.k("div","");P.appendChild(x);this.hj=J.k("canvas");
w.appendChild(this.hj);this.QA=this.hj.getContext("2d");this.VN=new eD(256,120);this.hj.setAttribute("style","display:block");
J.N_(this.hj);J.Dw(this.hj,this.KI.bind(this));this.Il=J.k("canvas","");x.appendChild(this.Il);this.Hs=this.Il.getContext("2d");
this._6=new eD(this.VN.x,40);this.Il.setAttribute("style","display:block");J.N_(this.Il);J.Dw(this.Il,this.aCp.bind(this));
var z=this.xc=[];for(var I=0;I<5;I++){var S=new iU(null,null,3);z.push(S);S.J(G.E.w,this.a96,this);(I<2||I==4?w:x).appendChild(S.Z)}w.appendChild(z[1].Z);
this.h1=new fs("Sample from image",kp.d4(["#000000","#888888","#ffffff"]),!0,null,!0);this.h1.J(G.E.w,this.pM,this);
P.appendChild(this.h1.Z);this.sH(250,100)}o.prototype=new cq;o.prototype._9=function(){var P=this.jQ.m(),w=this.nl,x=this.value,z=e.amt(P,w);
for(var I=0;I<4;I++){var S=z[I][0],k=z[I][1],f=z[I][2],C=[e.Kh.ts(S,0,!0),e.Kh.ts(k,255,!0)];if(f!=null)C.splice(1,0,e.Kh.ts(128,f,!0));
var H=[~~S,~~k,0,255,f==null?100:~~(100+.75*100*(f-128)/128)];cX.I$(x,I,H)}this.qs();this.CR()};o.prototype.sH=function(P,w){P+=6;
this.VN.x=this._6.x=P;J.Wy(this.hj,P,this.VN.y,this.QA);J.Wy(this.Il,P,this._6.y,this.Hs);var x=this.xc;
x[3].Z.setAttribute("style","margin-left: "+(P-104)+"px");x[4].Z.setAttribute("style","margin: 0 "+(P/2-74)+"px");
if(this.value)this.qs()};o.prototype.S=function(){this.eL.S()};o.prototype.a96=function(P){var w=[];
for(var I=0;I<5;I++){var x=255,z=1;if(I==4){x=999;z=100}var S=parseFloat(this.xc[I].m());w[I]=Math.max(0,Math.min(x,S*z))}cX.I$(this.value,this.eL.m(),w);
this.qs();this.CR()};o.prototype.qs=function(P){var w=this.VN.x,x=this.VN.y,z=this.eL.m(),S=this.QA;
S.clearRect(0,0,w,x);S.fillStyle="#cccccc";S.fillRect(8,8,w-16,x-16-8);if(this.nl){var k=this.nl[0].slice(0),O=0;
if(z==0){k.fill(0);var f=JSON.parse(JSON.stringify(this.value));cX.I$(f,0,[0,255,0,255,100]);var C=ft.C1("levl",f),H=[C.Ky,C.OQ,C.Hl];
for(var b=0;b<3;b++){var i=this.nl[1+b],M=H[b];for(var I=0;I<256;I++)k[M[I]]+=i[I]}}var T=z==0?k:this.nl[z];
for(var I=0;I<T.length;I++)O+=T[I];S.fillStyle="#333333";S.beginPath();S.moveTo(8,x-16);for(var I=0;
I<256;I++){var Y=55*T[I]/O;S.lineTo(8+I/256*(w-16),Math.max(8,x-16-x*Y))}S.lineTo(w-8,x-16);S.closePath();
S.fill()}var U=cX.mc(this.value,z);for(var I=0;I<5;I++)this.xc[I].O(U[I]/(I==4?100:1));this.Az[0].Mx(8+U[0]/255*(w-16),x-14);
this.Az[1].Mx(8+U[1]/255*(w-16),x-14);var W=Math.log(U[4]/100)/Math.log(9.99);W=.5-W/2;this.Az[4].Mx(this.Az[0].x+W*(this.Az[1].x-this.Az[0].x),x-14);
this.J8(S,this.Az[0],"#000000");this.J8(S,this.Az[1],"#ffffff");this.J8(S,this.Az[4],"#777777");var w=this._6.x,x=this._6.y;
S=this.Hs;S.clearRect(0,0,w,x);var t=S.createLinearGradient(0,0,w-16,0);t.addColorStop(0,"black");t.addColorStop(1,"white");
S.fillStyle=t;S.fillRect(8,8,w-16,16);this.Az[2].Mx(8+U[2]/255*(w-16),x-14);this.Az[3].Mx(8+U[3]/255*(w-16),x-14);
this.J8(S,this.Az[2],"#000000");this.J8(S,this.Az[3],"#ffffff")};o.prototype.J8=function(P,w,x){P.fillStyle=x;
P.fillRect(w.x-5,w.y,10,10)};o.prototype.KI=function(P){var w=J.YH(P,this.hj),x=this.a63([0,1,4],w);
if(x!=-1)this.N1=x;this.aqK()};o.prototype.aCp=function(P){var w=J.YH(P,this.Il),x=this.a63([2,3],w);
if(x!=-1)this.N1=x;this.aqK()};o.prototype.a63=function(P,w){var x=-1,z=1e9;for(var I=0;I<P.length;I++){var S=Math.abs(this.Az[P[I]].x-w.x);
if(S<z){z=S;x=P[I]}}return z<16?x:-1};o.prototype.aqK=function(P){if(this.N1==-1)return;J.Zw(document.body,this.bA);
J.FV(document.body,this.a3)};o.prototype.zx=function(P){var w=cX.mc(this.value,this.eL.m()),x=J.YH(P,this.N1==2&&this.N1==3?this.Il:this.hj),z=255*(x.x-8)/(this.VN.x-16);
z=Math.max(0,Math.min(255,z));if(this.N1==0)z=Math.min(z,w[1]-2);if(this.N1==1)z=Math.max(z,w[0]+2);
if(this.N1!=4)w[this.N1]=Math.round(z);else{var S=(z-w[0])/(w[1]-w[0]);S=1-2*S;S=Math.pow(9.99,S);w[4]=Math.min(999,Math.max(10,Math.round(S*100)))}cX.I$(this.value,this.eL.m(),w);
this.qs();this.CR()};o.prototype._e=function(P){J.ig(document.body,this.bA);J.qM(document.body,this.a3);
this.N1=-1};o.prototype.RE=function(){return!0};o.prototype.I2=function(P,w,x,z,S){var k=this.value,f=this.h1.m().indexOf(!0);
if(f==-1)return;this.value=cM.bS("levl");this.CR();var C=N.S9.lR(P,S,1,null,!0),H=[C>>>16&255,C>>>8&255,C&255];
for(var I=0;I<3;I++){var b=cX.mc(k,1+I);if(f==0)b[0]=H[I];if(f==1){var i=Math.log(H[I]/255)/Math.log((H[0]+H[1]+H[2])*.333/255);
b[4]=Math.min(999,Math.max(10,Math.round(100*i)))}if(f==2)b[1]=H[I];cX.I$(k,1+I,b)}this.O(k);this.CR()};
o.prototype.O=function(P){this.value=P;this.qs()};o.prototype.rB=function(P){this.nl=P;this.qs()};o.prototype.m=function(P){return JSON.parse(JSON.stringify(this.value))};
return o}();cq.phfl=function(){cq.call(this,"phfl");this.gP.push(new fN);this.gP.push(new aT([12,74],0,100,"%"));
this.gP.push(new f5([13,4]));this.Ir()};cq.phfl.prototype=new cq;cq.phfl.prototype.gN=function(o,P){P[0]=o.Clr.v;
P[1]=o.Dnst.v;P[2]=o.PrsL.v};cq.phfl.prototype.P$=function(o,P){var w=e.G.dQ(P[0]),x=o.Clr.v,z=e.Us(w.$,w.H,w.b);
x.Lmnc.v=z.s$;x.A.v=z.F;x.B.v=z.b;o.Dnst.v=P[1];o.PrsL.v=P[2]};cq.vibA=function(){cq.call(this,"vibA");
this.gP.push(new aT([12,13],-100,100,null));this.gP.push(new aT([12,9],-100,100,null));this.Ir()};cq.vibA.prototype=new cq;
cq.vibA.prototype.gN=function(o,P){P[0]=o.vibrance?o.vibrance.v:0;P[1]=o.Strt?o.Strt.v:0};cq.vibA.prototype.P$=function(o,P){o.vibrance.v=P[0];
o.Strt.v=P[1]};cq.thrs=function(){cq.call(this,"thrs");this.gP.push(new aT([4,13],1,255,null));this.Ir()};
cq.thrs.prototype=new cq;cq.thrs.prototype.gN=function(o,P){P[0]=o.Lvl.v};cq.thrs.prototype.P$=function(o,P){o.Lvl.v=P[0]};
cq.mixr=function(){cq.call(this);var o=this.Z;this.C0=[];this.TJ=null;this.Ry=new f7([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.a83=!1;this.Ry.J(G.E.w,this.pF,this);o.appendChild(this.Ry.Z);J.jB(o);this._A=new f5([12,60]);o.appendChild(this._A.Z);
this._A.J(G.E.w,this.pF,this);for(var I=0;I<4;I++){var P=new aT([[13,1,1],[13,1,4],[13,1,5],[13,2]][I],-200,200,"%");
P.J(G.E.w,this.pF,this);this.C0.push(P);o.appendChild(P.Z)}};cq.mixr.prototype=new cq;cq.mixr.prototype.S=function(){this.Ry.S();
this._A.S();for(var I=0;I<4;I++)this.C0[I].S()};cq.mixr.prototype.O=function(o){this.TJ=JSON.parse(JSON.stringify(o));
this.xW()};cq.mixr.prototype.m=function(o){return JSON.parse(JSON.stringify(this.TJ))};cq.mixr.prototype.pF=function(o){if(o.target!=this.Ry){var P=ft.Qb(this.TJ);
if(o.target==this._A){P._A=this._A.m();if(P._A)P.P=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else P.P=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var w=(P._A?0:this.Ry.m())*5,I=this.C0.indexOf(o.target);
P.P[w+(I<3?I:4)]=o.target.m()}this.TJ=ft.xw(P)}this.xW();this.CR()};cq.mixr.prototype.xW=function(){var o=ft.Qb(this.TJ);
if(o._A!=this.a83)this.Ry.Cp(o._A?[[13,1,7]]:ft.uI);this.a83=o._A;this._A.O(o._A);var P=(o._A?0:this.Ry.m())*5;
for(var I=0;I<4;I++)this.C0[I].O(o.P[P+(I<3?I:4)])};cq.post=function(){cq.call(this,"post");this.gP.push(new aT([4,1],2,255,null));
this.Ir()};cq.post.prototype=new cq;cq.post.prototype.gN=function(o,P){P[0]=o.Lvls.v};cq.post.prototype.P$=function(o,P){o.Lvls.v=P[0]};
cq.clrL=function(){cq.call(this,"clrL");this.gP.push(new fK("LUTs"));this.Ir()};cq.clrL.prototype=new cq;
cq.clrL.prototype.gN=function(o,P){P[0]=o};cq.clrL.prototype.P$=function(o,P){var w=P[0];for(var x in w)o[x]=w[x]};
cq.clrL.prototype.RU=function(o,P){if(P==eB.qU||P==eB.EP)this.gP[0].Rj(o.ajA)};cq.rplc=function(){cq.call(this,"rplc");
this.gP.push(new aT([12,92],0,200));this.gP.push(new fN);this.gP.push(new aT([12,8],-180,180));this.gP.push(new aT([12,9],-100,100));
this.gP.push(new aT([12,10],-100,100));this.Ir()};cq.rplc.prototype=new cq;cq.rplc.prototype.gN=function(o,P){P[0]=o.Fzns.v;
P[1]=o.Mxm.v;P[2]=o.H.v;P[3]=o.Strt.v;P[4]=o.Lght.v};cq.rplc.prototype.P$=function(o,P){function w(z,S){S.Lmnc.v=z.s$;
S.A.v=z.F;S.B.v=z.b}o.Fzns.v=P[0];o.H.v=P[2];o.Strt.v=P[3];o.Lght.v=P[4];var x=e.G.dQ(P[1]),z=e.Us(x.$,x.H,x.b);
w(z,o.Mnm.v);w(z,o.Mxm.v)};cq.fade=function(){cq.call(this,"fade");this.gP.push(new aT([12,0],0,100,"%"));
this.gP.push(new f7([12,19,0],jK.NR,jK.jX));this.Ir()};cq.fade.prototype=new cq;cq.fade.prototype.gN=function(o,P){P[0]=o.Opct.v.val;
P[1]=jK.VB.indexOf(o.Md.v.BlnM)};cq.fade.prototype.P$=function(o,P){o.Opct.v.val=P[0];o.Md.v.BlnM=jK.VB[P[1]]};
cq.aply=function(){var o=jK.VB.concat(["Add","Sbtr"]);o.splice(21,1);var P=jK.NR.concat([[15,10,28],[15,10,21]]);
P.splice(21,1);var w=jK.jX.slice(0);w[4]--;function x(){cq.call(this,"aply");this.gP.push(new f7([0,3],[]));
this.gP.push(new f7([12,4],["RGB"].concat(ft.uI).concat(["Transparency"])));this.gP.push(new f5([4,11]));
this.gP.push(new f7([12,19,0],P,w));this.gP.push(new aT([12,0],0,100,"%"));this.gP.push(new f6([12,38],1,2,null,2));
this.gP.push(new f6([12,6],-255,255));this.gP.push(new f5([13,5]));this.Ir([2]);this.d1=null}x.prototype=new cq;
x.prototype.gN=function(z,S,k){if(k){var f=k[2].R,C=this.d1=[];for(var I=0;I<f.length;I++){var H=f[I].getName();
C.push(H.length<30?H:H.slice(0,27)+"...")}C.reverse();this.gP[0].Cp([[5,7]].concat(C),[1,C.length])}else var C=this.d1;
z=z.With.v;var b=z.T.v;S[0]=b[1].t=="name"?1+C.indexOf(b[1].v.val):0;S[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(b[0].v.enum);
S[2]=z.Invr.v;var i=z.Clcl.v.Clcn;S[3]=o.indexOf(i);S[4]=z.Opct.v.val;S[5]=z.Scl.v;S[6]=z.Ofst.v;S[7]=z.PrsT.v};
x.prototype.P$=function(z,S){z=z.With.v;var k=z.T.v;if(S[0]==0)k[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else k[1]={t:"name",v:{classID:"Lyr",val:this.d1[S[0]-1]}};k[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][S[1]];
z.Invr.v=S[2];var f=z.Clcl.v.Clcn=o[S[3]];z.Opct.v.val=S[4];z.Scl.v=S[5];z.Ofst.v=S[6];z.PrsT.v=S[7];
var C=f=="Add"||f=="Sbtr";this.gP[5].hk(C);this.gP[6].hk(C)};return x}();cq.matc=function(){var o,P,w=0;
function x(){cq.call(this,"matc");this.gP.push(new aT("Luminance",1,200));this.gP.push(new aT("Color Intensity",1,200));
this.gP.push(new aT([2,11],0,100,"%"));this.gP.push(new f5("Neutralize"));this.gP.push(new f7([12,70],[]));
this.gP.push(new f7([0,3],[]));this.Ir([2])}function z(S,k){S.gP[5].Cp([[5,7]].concat(k),[1,k.length])}x.prototype=new cq;
x.prototype.gN=function(S,k,f){w=0;k[0]=S.Lght.v;k[1]=S.ClrR.v;k[2]=S.Fade.v;k[3]=S.neutralizeColor?S.neutralizeColor.v:!1;
k[4]=k[5]=0;var C=S.Srce;if(C)C=C.v;if(f){o=[];P=[];var H=f[2],b=f[3];for(var I=0;I<b.length;I++){var i=b[I];
o.push(i.name);var M=i.R,T=[];P.push(T);for(var O=0;O<M.length;O++)T.push(M[O].getName());T.reverse()}this.gP[4].Cp([[13,1,0]].concat(o),[1,o.length]);
var Y=b.indexOf(H);if(C)Y=o.indexOf(C[1].v.val);z(this,P[Y])}if(C){var U=o.indexOf(C[1].v.val);k[3]=w=1+U;
if(C[0].t=="name")k[4]=1+P[U].indexOf(C[0].v.val)}};x.prototype.P$=function(S,k){S.Lght.v=k[0];S.ClrR.v=k[1];
S.Fade.v=k[2];S.neutralizeColor.v=k[3];if(k[4]==0){S.noReference={t:"bool",v:!0};delete S.Srce}else{if(k[4]!=w){w=k[4];
z(this,P[k[4]-1])}delete S.noReference;var f={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},C=P[k[4]-1];
if(k[5]!=0)f={t:"name",v:{classID:"Lyr",val:C[k[5]-1]}};S.Srce={t:"obj ",v:[f,{t:"name",v:{classID:"Dcmn",val:o[k[4]-1]}}]}}};
return x}();function a8(o,P){kl.call(this);if(o==null)return;this.id=P;this.xi=o;this.Bv=null;this.Z=J.k("div","window "+P);
this.awU=null;this.LB=J.k("div","whead");this.aqO=J.k("span","wname");this.LB.appendChild(this.aqO);
this.alg=!1;this.Z.appendChild(this.LB);this.Z5=this.aB2.bind(this);this.j7=this.ae9.bind(this);this.YE=this.akF.bind(this);
J.N_(this.LB);J.Dw(this.LB,this.Z5);this.aaq=J.k("span","cross gsicon");this.LB.appendChild(this.aaq);
a8.prototype.S.call(this);J.FV(this.aaq,this.ahi.bind(this));this.body=J.k("div","body");this.Z.appendChild(this.body)}a8.prototype=new kl;
a8.prototype.vo=function(){return!1};a8.prototype.RE=function(){return!1};a8.prototype.S=function(){if(this.xi==null)return;
this.aqO.textContent=kQ.get(this.xi)};a8.prototype.aE=function(o,P,w,x,z){};a8.prototype.Nf=function(o,P,w,x,z){};
a8.prototype.Dv=function(o,P,w,x,z){};a8.prototype.I2=function(o,P,w,x,z){};a8.prototype.Rd=function(o,P,w,x,z){};
a8.prototype.xF=function(o,P,w,x){if(x.d(i$.w_)&&this.kJ)this.kJ();if(x.d(i$.Jm)){var z=new bO(G.E.z);
z.N8=!0;N.L0.akm(x,z);if(z.data)P.j(z)}};a8.prototype.qD=function(o){return!1};a8.prototype.ry=function(o,P){return!0};
a8.prototype.fi=function(o,P,w,x){};a8.prototype.RU=function(o,P){};a8.prototype.pe=function(o,P){return null};
a8.prototype.a7c=function(o){return this.awU};a8.prototype.sH=function(){};a8.prototype.close=function(){this.j(new bO(G.E.lb))};
a8.prototype.aB2=function(o){this.Bv=J.YH(o,this.Z);J.Zw(window,this.j7);J.FV(window,this.YE)};a8.prototype.ae9=function(o){var P=this.Z.parentNode,w=J.YH(o,P),x=Math.round(w.x-this.Bv.x),z=P.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(w.y-this.Bv.y)));
this.awU=new eD(x,z);this.Z.style.left=x+"px";this.Z.style.top=z+"px"};a8.prototype.akF=function(o){J.ig(window,this.j7);
J.qM(window,this.YE)};a8.prototype.ahi=function(o){if(this.alg){this.kJ();return}this.j(new bO("closebtn"));
this.close()};function af(){a8.call(this,"About Photopea","aboutpp");var o=this.body,P=this.amB=J.k("img");
o.appendChild(P);this.body.setAttribute("style","margin:0; padding:0");var w=this.BE=J.k("div");w.innerHTML=af.S5;
o.appendChild(w);var x=this.Y_=J.k("span");x.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(x)}af.prototype=new a8;af.prototype.pe=function(o,P){return new eD(0,0)};af.prototype.sH=function(o,P){var w=(o+P-42-42)/110,x,z,S;
w=Math.sqrt((o-42)*(P-42))/50;if(o>P){J.HT(this.body,"flexrow");x="width:"+o/2+"px; height:"+P+"px; display:block; object-fit:cover;";
z="width:"+(o/2-42)+"px; height:"+(P-42)+"px; padding:20px; font-size:"+w+"px;";S="position:absolute;  bottom:10px; right:"+(o/2+10)+"px"}else{if(o*1.5>P)w*=.9;
J.hC(this.body,"flexrow");x="width:"+o+"px; height:"+P/2+"px; display:block; object-fit:cover;";z="width:"+(o-42)+"px; height:"+(P/2-42)+"px; padding:20px; font-size:"+w+"px;";
S="position:absolute;  bottom:"+(P/2+10)+"px; right:10px"}this.amB.setAttribute("style",x);this.BE.setAttribute("style",z);
this.Y_.setAttribute("style",S)};af.prototype.S=function(){};af.prototype.fi=function(o,P,w,x){this.amB.setAttribute("src","promo/ivan_pp.webp")};
af.S5="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function hE(){a8.call(this,[0,13,0],"account");this.w$=J.k("div","form scrollable");this.body.appendChild(this.w$);
this.body.style.padding="0";this.RG=[new hE.TH,new hE.tA("::"+jM.$D("privacy.html")),new hE.tA(hE.a7z)];
for(var I=0;I<this.RG.length;I++)this.RG[I].parent=this;this.J("showpage",this.awt,this)}hE.prototype=new a8;
hE.prototype.ry=function(o,P){var w=navigator.onLine;if(!w)alert("Go online first");return w};hE.prototype.sH=function(o,P){this.w$.setAttribute("style","width:"+Math.min(o-40,740)+"px;  height:"+(P-38)+"px;  padding:1.5em;");
this.RG[0].sH(o,P)};hE.prototype.pe=function(o,P){return new eD(Math.max(0,Math.min(150,(o-740)/2)),Math.max(0,Math.min(100,(P-500)/2)))};
hE.prototype.awt=function(o){J.eg(this.w$);this.w$.scrollTop=0;this.w$.appendChild(this.RG[o.data.BG].Z)};
hE.prototype.S=function(){a8.prototype.S.call(this);for(var I=0;I<this.RG.length;I++)this.RG[I].S()};
hE.prototype.fi=function(o,P,w){if(!navigator.onLine)return;J.eg(this.w$);var x=this.RG[0];this.w$.appendChild(x.Z);
x.fi();this.S()};hE.prototype.RU=function(o,P){this.fi(null,null,null)};hE.TH=function(){kl.call(this);
this.Z=J.k("div");var o=this.Z,f,C,b="font-size:1.25em;",i="text-align:center;",T="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",O="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Y="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",t=12;
this.Kv=J.k("div");o.appendChild(this.Kv);this.fW=new eN([0,11],!1,null,!0);this.fW.Z.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.fW.J("click",this.SU,this);o.appendChild(this.fW.Z);this.o3=new eN([0,13,1],!1,null,!0);this.o3.J("click",this.agj,this);
o.appendChild(this.o3.Z);this.Os=new eN("Business Terms",!1,null,!0);this.Os.J("click",this.aaP,this);
o.appendChild(this.Os.Z);var P=J.k("div");P.style.margin="20px 0";o.appendChild(P);var w=["Account Types","Go Premium","Team Settings","Distributors"],x=this.H4=[],z=this.a3k=[],S=this.Si=J.k("div");
o.appendChild(S);for(var I=0;I<w.length;I++){var k=J.k("span");k.textContent=w[I];P.appendChild(k);x.push(k);
k.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
k.addEventListener("click",this.dE.bind(this));z.push(J.k("div"))}this.dE(0);var H=this.adP="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
o=z[0];var C=J.k("table"),M="style=\" "+i+b+" padding-bottom:20px;\"";C.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+M+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+O+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+O+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+M+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+O+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+O+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+O+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+O+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+O+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
o.appendChild(C);var k=new eN("Go Premium");k.Z.setAttribute("style",H+"padding:10px 0;");k.J("click",function(y){this.dE(1)},this);
C.children[0].children[1].children[1].appendChild(k.Z);this._T=J.k("div");o.appendChild(this._T);o=z[1];
var U=this.a6k=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.H3=[];for(var I=0;I<U.length;I++)this.H3.push(new eN("Buy: $"+U[I][0],!1,null,!0));for(var I=0;
I<this.H3.length;I++){this.H3[I].J("click",this.ad$,this)}this.$z=new eN("...",!0);this.$z.Z.setAttribute("style",H);
o.appendChild(this.$z.Z);C=this.ajf(4,["Single user",this.H3[0],this.H3[1],this.H3[2],"Team of 5",this.H3[3],this.H3[4],this.H3[5],"Team of 20",this.H3[6],this.H3[7],this.H3[8],"Team of 50",this.H3[9],this.H3[10],this.H3[11]]);
o.appendChild(C);var W=J.k("div");o.appendChild(W);W.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.a9z=new f5("I accept",!0,"");o.appendChild(this.a9z.Z);this.gB=new eN([0,13,1],!1,null,!0);this.gB.J("click",this.agj,this);
o.appendChild(this.gB.Z);this.ec=new eN("I have a key",!1,null,!0);this.ec.Z.setAttribute("style",H+" float:right; width:inherit;");
this.ec.J("click",this.ad$,this);o.appendChild(this.ec.Z);o=z[2];this.kY=new aF;this.kY.parent=this;
this.kY.J(G.E.w,this.Gg,this);o.appendChild(this.kY.Z);o=z[3];this.FT=new eN("...",!0);this.FT.Z.setAttribute("style",H);
o.appendChild(this.FT.Z);C=this.ajf(3,["1000 views/mo",this.H3[t++],this.H3[t++],this.H3[t++],"5000 views/mo",this.H3[t++],this.H3[t++],this.H3[t++],"20000 views/mo",this.H3[t++],this.H3[t++],this.H3[t++]]);
o.appendChild(C);var _=J.k("p");_.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
o.appendChild(_);this.pk=new iU("Domain name (e.g. domain.com)",null,14);o.appendChild(this.pk.Z);var n=new eN("Save Domain Settings",!1,null,!0);
n.UL();o.appendChild(n.Z);n.J("click",this.axH,this)};hE.TH.prototype=new kl;hE.TH.prototype.dE=function(o){var P=typeof o=="number"?o:this.H4.indexOf(o.target);
for(var I=0;I<4;I++)this.H4[I].style.opacity=.6;this.H4[P].style.opacity=1;J.eg(this.Si);this.Si.appendChild(this.a3k[P])};
hE.TH.prototype.sH=function(o,P){var w=o<600?"d":" days",x=["30 days","90 days","365 days"];if(o<600)x=["30d","90d","365d"];
var z=this.a6k;for(var I=0;I<z.length;I++){this.H3[I].ld("<span>"+x[I%3]+": <sup>$</sup><big><b>"+z[I][0]+"</b></big>"+"</span>");
this.H3[I].Z.setAttribute("style",this.adP)}};hE.TH.prototype.agj=function(o){var P=new bO("showpage",!0);
P.data={BG:1};this.j(P)};hE.TH.prototype.aaP=function(o){var P=new bO("showpage",!0);P.data={BG:2};this.j(P)};
hE.TH.prototype.S=function(){this.fW.ld(jM.da()?kQ.get([0,11]):kQ.get([0,10]));this.gB.S();this.o3.S();
this.Os.S()};hE.TH.prototype.azw=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.Dj,link:"https://www.photopea.com/api/accounts#"+(o.target==this.anK?"teams":"distributors")};
this.j(P)};hE.TH.prototype.a75=function(o){var P=o.currentTarget==this.aqJ;this.aqJ.O(P);this.aFL.O(!P)};
hE.TH.prototype.ak8=function(o){var P=this.aqJ.m(),w=this.ayg.m().trim().toLowerCase(),x=this.aBd.value.trim().toLowerCase();
if(w.length>60){alert("Too long email address");return}if(x.length>600){alert("Too many team members");
return}x=x.split(",").join(" ").trim();x=x.replace(/\s+/g," ");if(x=="")x=[];else x=x.split(" ");var z=jM.ao();
if(z==null)z={};if(z.acc==null)z.acc={};z.acc.team={jin:P,ldr:w,mmb:x};jM.jH(z,this.Gg.bind(this));alert("Saved!");
this.fi()};hE.TH.prototype.axH=function(o){var P=this.pk.m().trim();if(!jM.da()){alert("You have to log in first.");
return}if(jM.PC()==0){alert("Order a distributor account first.");return}var w=jM.ao();if(w==null)w={};
if(w.acc==null)w.acc={};if(P=="")delete w.acc.dname;else w.acc.dname=P;jM.jH(w,this.Gg.bind(this));alert("Saved!");
this.fi()};hE.TH.prototype.anr=function(o){var P=jM.qx(),I=this.ca,w=jM.ao();if(w==null)w={};if(w.acc==null)w.acc={};
w.acc.bto=o;jM.jH(w,function(){});var x=hE.afb(o.split("\n"),P.pmnts[I]);b_.save(x,"photopea_invoice.pdf")};
hE.TH.prototype.a6b=function(o){var P=jM.qx(),w=jM.ao(),x=w&&w.acc?w.acc.bto:null;if(x==null)x=P.name+"\n"+P.email;
var I=-1,z=o.target.Z.parentNode;while((z=z.previousSibling)!=null)I++;this.ca=I;var S=new bO(G.E.X,!0);
S.data={Q:G.l.y7,hq:"billto",Lz:x,eA:this.anr.bind(this)};this.j(S)};hE.TH.prototype.fi=function(){this.Kv.innerHTML="";
J.eg(this._T);if(jM.da()){var o=jM.qx(),P=o.pmnts;if(o==null)return;this.Kv.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+o.name+"</span> "+o.email+" <br/>";
if(P){var w="<h2>Payments</h2>";for(var I=0;I<P.length;I++){var x=P[I],z=new Date(x[0]*1e3);w+="<div style=\"font-size:1.2em\">"+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear()+" - "+hE.ame(x)+"</div>"}this._T.innerHTML=w;
for(var I=0;I<P.length;I++){var S=new eN("Get Invoice",!1,null,!0);S.Z.setAttribute("style","float:right");
S.J("click",this.a6b,this);this._T.children[I+1].appendChild(S.Z)}}}else{}var k=jM.da()&&jM.lO();this.$z.Z.style.display=k?"block":"none";
if(k){var f,C,H=k;if(H[0]==0){f=jM.nu(H[1])-Date.now()*(1/1e3);C=H[1][2]==1?"Single User":"Team Of "+H[1][2]}else{f=H[1][1]-Date.now()*(1/1e3);
C="Member of \""+H[1][0]+"\""}this.$z.ld("Premium active for "+Math.round(f/(60*60*24))+" more days! ("+C+")")}var b=jM.da()&&jM.PC()*1e3>Date.now();
this.FT.Z.style.display=b?"block":"none";if(b){var f=jM.PC()-Date.now()/1e3;this.FT.ld("Distributor active for "+Math.round(f/(60*60*24))+" more days!")}var i=jM.ao();
this.kY.fi();if(i&&i.acc&&i.acc.dname)this.pk.O(i.acc.dname);else this.pk.O("")};hE.TH.prototype.ajf=function(o,P){var w=J.k("table");
if(!0){var x="<table><tr>";for(var I=0;I<o;I++)x+="<th>"+P[I*4]+"</th>";x+="</tr></table>";w.innerHTML=x;
for(var I=0;I<3;I++){var z=J.k("tr"),S;w.appendChild(z);for(var k=0;k<o;k++){S=J.k("td");S.style.width=Math.round(100/o)+"%";
z.appendChild(S);S.appendChild(P[k*4+1+I].Z)}}}return w};hE.TH.prototype.ad$=function(o){var P=this.H3.indexOf(o.currentTarget),x=30,z=1;
if(!jM.da()){this.SU();return}if(this.a9z.m()==!1&&P<12){alert("You must accept Terms of Service");return}var w=jM.da()&&jM.lO();
if(P!=-1){var S=this.a6k[P];x=S[1];z=S[2]}if(w&&z<1e3){alert("You already have premium.");return}console.log(S,x,z);
if(P==-1){var k=prompt("Please enter your key");if(k!=null){jM.axi(k,this.Gg.bind(this));this.yF()}return}if(x==30&&z==1){var f=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!f)return}jM.order(x,z,this.Gg.bind(this));this.yF()};hE.TH.prototype.Gg=function(o){this.fi();this.yF()};
hE.TH.prototype.SU=function(o){if(jM.da()){jM.aw_();this.yF();this.fi(null,null,null)}else jM.SU(this.aEI.bind(this))};
hE.TH.prototype.aEI=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.ao2};this.j(o)};hE.TH.prototype.yF=function(){var o=new bO(G.E.X,!0);
o.data={Q:G.l.anx};this.j(o)};hE.tA=function(o){kl.call(this);this.Z=J.k("div");var P=this.Z,w=this.aCc=new eN([0,13,2],!1,null,!0),x;
w.J("click",this.a2d,this);P.appendChild(w.Z);if(o.startsWith("::")){x=J.k("iframe");x.setAttribute("style","width:100%;height:1700px; background-color:white;");
x.setAttribute("src",o.slice(2))}else{x=J.k("div");x.innerHTML=o}P.appendChild(x)};hE.tA.prototype=new kl;
hE.tA.prototype.a2d=function(o){var P=new bO("showpage",!0);P.data={BG:0};this.j(P)};hE.tA.prototype.S=function(){this.aCc.S()};
hE.a7z="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
hE.ame=function(o){var P=o[1]+" days, ";if(o[2]<1e3)return"Photopea Premium ("+P+o[2]+" user"+(o[2]==1?"":"s")+")";
else return"Photopea Distributor ("+P+o[2]+" views/month)"};hE.afb=function(o,P){o=["Bill To:"].concat(o);
var w=new ToPDF,x=595,z=842,S=40,k=18,f=12,C=500,H=100,b=400,Y=0;function i(l,Q,m,R,$){T.font.Tf=$?"Helvetica-Bold":"Helvetica";
T.ctm=[1,0,0,1,Q,m];T.font.Tfs=R?R:f;w.PutText(T,l,0)}function M(l,Q,m,R){for(var I=0;I<l.length;I++){i(l[I],Q,m-I*R,null,I==0)}}var T=UDOC.getState();
w.StartPage(0,0,x,z);i("INVOICE",x-S-140,z-S-30,30,!0);M(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],S,z-S-40,k);
var O=new Date(P[0]*1e3);M(["Date: "+O.getDate()+". "+(O.getMonth()+1)+". "+O.getFullYear(),"Transaction ID: "+P[4]],x-S-140,z-S-40-k*2,k);
var U=o.join("");for(var I=0;I<U.length;I++)Y=Math.max(Y,U.charCodeAt(I));if(Y>256){var W=4,t=J.k("canvas"),_=t.getContext("2d"),n=0;
_.font=f*W+"px sans-serif";for(var I=0;I<o.length;I++)n=Math.max(n,_.measureText(o[I]).width);var y=Math.round(n)+20,F=o.length*W*k+20;
t.width=y;t.height=F;_.font=f*W+"px sans-serif";for(var I=0;I<o.length;I++){_.font=(I==0?"bold ":"")+f*W+"px sans-serif";
_.fillText(o[I],10,(I+1)*W*k)}document.body.appendChild(t);var a=new Uint8Array(_.getImageData(0,0,y,F).data.buffer);
T.ctm=[y/W,0,0,F/W,S-10/W,z-S-40-100-F/W];w.PutImage(T,a,y,F);T.ctm=[1,0,0,1,0,0]}else M(o,S,z-S-40-100,k);
T.colr=[.8,.8,.8];T.pth={cmds:["M","L","L","L","Z"],crds:[S,C,x-S,C,x-S,C-k,S,C-k]};w.Fill(T);T.colr=[0,0,0];
var V=[S,C,x-S,C,S,C-k,x-S,C-k,S,C-H,x-S,C-H,S,C,S,C-H,x-S,C,x-S,C-H,b,C,b,C-H],D=[];for(var I=0;I<V.length;
I+=4)D.push("M","L");T.pth={cmds:D,crds:V};w.Stroke(T);i("Order details",S+4,C-14);i(hE.ame(P),S+4,C-k-14);
i("TOTAL:",S+4,C-H-14,null,!0);i("Price",x-S-50,C-14);i(P[3]+" USD",x-S-60,C-k-14);i(P[3]+" USD",x-S-60,C-H-14,null,!0);
i("www.Photopea.com",S,S);i("support@photopea.com",x-S-130,S);w.ShowPage();w.Done();return w.buffer};
function fl(){a8.call(this,[11,14],"addguides");this.Ow;this.r7={Xp:{Kc:0}};this.zi=null;var o=J.k("div","form");
this.body.appendChild(o);this.nt=[];this.qI=new kp(null,["Hi"]);o.appendChild(this.qI.Z);J.jB(o);this.qI.J(G.E.w,this.vF,this);
this.K$=new iU([22,4,0],null,16);this.K$.J(G.E.w,this.cu,this);this.ZW=new iU([22,4,1],null,16);this.ZW.J(G.E.w,this.cu,this);
this.VM=new f7(null,e.PX.WK);this.VM.J(G.E.w,this.cu,this);o.appendChild(this.K$.Z);o.appendChild(this.VM.Z);
J.jB(o);o.appendChild(this.ZW.Z);this.ZN=J.hB(this,o);this.J("closebtn",this.HV,this)}fl.prototype=new a8;
fl.prototype.ry=function(o,P){return o!=null};fl.prototype.vo=function(){return!0};fl.prototype.S=function(){a8.prototype.S.call(this);
this.K$.S();this.ZW.S();this.VM.S();this.ZN.S()};fl.prototype.RU=function(o,P){var w=o.Xp.Kc;this.r7.Xp.Kc=w;
this.VM.O(w)};fl.prototype.fi=function(o,P){this.Ow=o;this.zi=JSON.stringify(o.nr());this.nt=[-1];var w=["Global"],x=o.root.children,z=o.Qq();
for(var I=0;I<x.length;I++){var S=x[I].r;if(S.add.artb){w.push(S.getName());this.nt.push(x[I].index)}}this.qI.Cp(w);
this.qI.O(this.nt.indexOf(z));this.vF()};fl.prototype.vF=function(){var o=this.Ow,P=o.nr(),w=this.nt[this.qI.m()],x=[0,0];
if(w!=-1){var z=o.R[w].sK();x=[z.x,z.y]}var S=function(k,f,o,C,H){var b=k[0],i=[];for(var I=0;I<b.length;
I++)if(k[1][I]==w&&b[I][0]==f)i.push(e.PX.MT(b[I][1]-x[f],o.vz,C,H));i.sort(function(M,T){return M-T});
return i.join(", ")};this.K$.O(S(P,1,o,this.r7,o._));this.ZW.O(S(P,0,o,this.r7,o.q))};fl.prototype.cu=function(o){if(o&&o.currentTarget==this.VM)this.r7.Xp.Kc=this.VM.m();
else{var P=this.afc(),w=this.Ow;w.sp(P);w.yW=!0}this.vF()};fl.prototype.afc=function(){var o=this.Ow,P=o.nr(),w=this.nt[this.qI.m()],x=[0,0];
if(w!=-1){var z=o.R[w].sK();x=[z.x,z.y]}var S=[];for(var k=0;k<2;k++){var f=k==0?this.ZW:this.K$,C=k==0?o.q:o._,H=f.m().replace(/,/g," ").replace(/  +/g," ").trim(),b=H==""?[]:H.split(" ");
for(var I=0;I<b.length;I++)S.push([k,e.PX.ai9(b[I],o.vz,this.r7,C)+x[k]])}for(var I=0;I<P[0].length;
I++)if(P[1][I]==w){P[0].splice(I,1);P[1].splice(I,1);I--}for(var I=0;I<S.length;I++){P[0].push(S[I]);
P[1].push(w)}return P};fl.prototype.HV=function(o){var P=this.Ow;P.sp(JSON.parse(this.zi));P.yW=!0;this.Ow=null};
fl.prototype.kJ=function(o){this.cu(o);var P=new bO(G.E.z,!0);P.I=N.pl;P.data={Q:"gids",dK:JSON.parse(this.zi),Mm:this.Ow.nr()};
this.Ow=null;this.close();this.j(P)};function ff(o){a8.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[o],o);
this.r7=null;this.Ow=null;this._w=null;var P=J.k("div","form");this.body.appendChild(P);P.setAttribute("style","width:300px");
this.Wx=new aA("Source Images",!0,!0);P.appendChild(this.Wx.Z);this.j8=new f7([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.Pq=new f5("Order images by name");this.Pq.O(!0);var w=this.acL=eu.nG();for(var I=0;I<w.length;I++)if(eu.oi(w[I]).VV){w.splice(I,1);
I--}w.push("SVG","PDF");this.ro=new f7([12,50],w);this.ro.O(1);this.JZ=new cb;this.ro.J(G.E.w,this.F$,this);
this.M9=new f7("Action Set",[]);this.M9.J(G.E.w,this.RU,this);this.k4=new f7("Action",[]);this.a82=new f5("Apply to all opened documents");
this.fJ=new f5("Stretch inserted images");this.fJ.O(!0);this.Aa=new f5("Resize");this.Aa.J(G.E.w,this.a8h,this);
var x=this.abm=J.k("div","label6");this.zd=new f6([12,41],1,5e3,"px",0,null,null,5);this.zd.parent=this;
this.zd.O(1e3);this.eQ=new f6([12,42],1,5e3,"px",0,null,null,5);this.eQ.parent=this;this.eQ.O(1e3);x.appendChild(this.zd.Z);
J.jB(x);x.appendChild(this.eQ.Z);if(o=="pdfpres"){P.appendChild(this.j8.Z);P.appendChild(this.Pq.Z)}else{if(o=="batch"){P.appendChild(this.M9.Z);
J.jB(P);P.appendChild(this.k4.Z);J.pp(P)}if(o=="mockups"){P.appendChild(this.a82.Z);P.appendChild(this.fJ.Z);
J.jB(P)}if(o=="resize"){this.Aa.O(!0)}else{P.appendChild(this.Aa.Z);J.jB(P)}P.appendChild(x);this.a8h();
J.pp(P);P.appendChild(this.ro.Z);P.appendChild(this.JZ.Z)}var z=["VAR0 PDF",[1,8]];if(o=="cformat")z="Convert Images";
if(o=="batch")z="Process Images";if(o=="mockups")z="Generate";if(o=="resize")z="Resize Images";var S=new eN(z,!0,null,!0);
S.J("click",this.rQ,this);P.appendChild(S.Z);this.F$();this.zf=-1;this.DL=null}ff.prototype=new a8;ff.prototype.a8h=function(o){this.abm.style.display=this.Aa.m()?"":"none"};
ff.prototype.F$=function(o){var P=this.acL[this.ro.m()];this.JZ.px(P)};ff.prototype.rQ=function(o){this.DL=null;
if(this.id=="mockups"&&this._w.length>1&&this.a82.m()){this.DL={};this.zf=0}this.E7()};ff.prototype.E7=function(){var o=Date.now(),P=this.Wx.m(),w=[],S=595,k=842,O,Y,U,W;
for(var x in P)w.push(x);if(w.length==0){alert("No images selected");return}if(this.Pq.m())w.sort();
var z=this.j8.m(),f=new ToPDF,C=UDOC.getState(),H=this.acL[this.ro.m()],b=eu.oi(H),i=this.JZ.m(),M={},T=this.Ow;
if(this.DL)T=this._w[this.zf];if(this.id=="mockups"){if(T==null){alert("Open a document with smart objects");
return}var t=T.R[T.T[0]];if(t.add.SoLd==null){t=null;for(var I=0;I<T.R.length;I++)if(T.R[I].add.SoLd)t=T.R[I];
if(t==null){alert("There are no smart objects in a current document.");return}}T.T=[T.R.indexOf(t)];
var _=t.add.SoLd;Y=T.Mc(_.Idnt.v);U=Y.iT;W=Y.vH;O=_.Sz.v}for(var n=0;n<w.length;n++){var x=w[n],y=P[x],F=y[0]==255,a=eu.IL(y.buffer),V=eu.oi(a),D=[{pv:new fA,data:new ArrayBuffer(0)}],l=null;
if(a=="psd"&&!b.VV)D=eg.ajF(y.buffer);else if(V.VV){l=new da("file.psd");V.mJ(y.buffer,l);l.GO();if(!b.VV){if(l._0)eQ.Kz(l,this.r7.v7,this);
l.N();l.cj();D=[{pv:new fA(0,0,l.q,l._),data:l.Ey().buffer}]}}else D=V.mJ(y.buffer);if(this.id=="batch"){var Q=new bO(G.E.X,!0),m=this.r7,R=m.p7,$=R[this.M9.m()];
for(var I=0;I<D.length;I++){l=eu.WM(x,[D[I]]);Q.data={Q:G.l.cA,lg:l};this.j(Q);if(l.R.length==3)l.T=[1];
h7.ad8(l,R,$.Si[this.k4.m()].Ka,$.Ka,this);l.N();l.cj();D[I].pv=new fA(0,0,l.q,l._);D[I].data=l.Ey().buffer;
D[I].vz=l.vz;D[I].fT=l.fT;Q.data={Q:G.l.Jr,bQ:l};this.j(Q)}}if(this.id=="mockups"){var p=new Uint8Array(D[0].data),c=D[0].pv,B=O.Wdth.v,Z=O.Hght.v;
if(!this.fJ.m()){var v=c.q,E=c._,g=v/E,u=B/Z;if(u>g)v=Math.ceil(E*u);else E=Math.ceil(v/u);c.x=v-c.q>>>1;
c.y=E-c._>>>1;var j=new fA(0,0,v,E),A=e.U(v*E*4);e.sR(p,c,A,j);p=A;c=j}var K=N.DH.x$([p,c],new ar(B/c.q,0,0,Z/c._,0,0));
Y.iT=[K.buffer,K.rect];e.nJ(Y.iT);Y.vH=K.rect;T.a8s(Y.QQ);D=[{data:T.Ey().buffer,pv:new fA(0,0,T.q,T._),vz:T.vz,fT:T.fT,wz:T.wz}]}if(this.Aa.m()){var s=D[0].pv,r=Math.min(this.zd.m()/s.q,this.eQ.m()/s._);
if(r<1)for(var I=0;I<D.length;I++){var p=new Uint8Array(D[I].data),c=D[I].pv,K=N.DH.x$([p,c],new ar(r*.999999,0,0,r*.999999,0,0));
D[I].data=K.buffer.buffer;D[I].pv=K.rect}}var s=D[0].pv,h=new Uint8Array(D[0].data),jC=s.q,d=s._;if(this.id=="pdfpres"){var q=[[595,842],[842,595],[595,595],[595,0]][z];
if(z==3)q[1]=Math.round(q[0]*d/jC);var S=q[0],k=q[1],hc=Math.min(S/jC,k/d);f.StartPage(0,0,S,k);C.ctm=[jC*hc,0,0,d*hc,(S-jC*hc)/2,(k-d*hc)/2];
f.PutImage(C,F?y:h,jC,d);f.ShowPage()}else{var dk=x.split("."),c6;dk.pop();dk.push(H.toLowerCase());
if(b.VV){if(l==null){l=eu.WM(x,D);l.GO()}c6=b.D7(l,l.q,l._,i,this.r7)}else{var ks=[];for(var I=0;I<D.length;
I++){var cH=D[I],bI=cH.v8,aR=0;if(bI){bI=bI.split(",");if(bI[1])aR=parseInt(bI[1])}ks.push([cH.data,aR,cH.vz,cH.wz,null,cH.fT])}c6=b.D7(ks,jC,d,i)}M[dk.join(".")]=new Uint8Array(c6)}}if(this.id=="mockups"){Y.iT=U;
Y.vH=W;T.a8s(Y.QQ)}console.log(Date.now()-o);if(this.id=="pdfpres"){f.Done();this.SR(f.buffer,"file.pdf")}else{var ak="images";
if(this.id=="mockups")ak=T.name.slice(0,T.name.length-4);if(this.DL){for(var x in M)this.DL[ak+"/"+x]=M[x];
this.zf++;if(this.zf==this._w.length){this.SR(UZIP.encode(this.DL),"images.zip");this.DL=null}else this.E7()}else this.SR(UZIP.encode(M),ak+".zip")}};
ff.prototype.SR=function(o,P){jM.event("auto_"+this.id);b_.save(o,P)};ff.prototype.fi=function(o,P,w,x){this.Ow=o;
this._w=w};ff.prototype.RU=function(o,P){if(P!=null){this.r7=o;var w=o.p7,x=[];for(var I=0;I<w.length;
I++)x.push(w[I].Ka);this.M9.Cp(x)}else o=this.r7;var w=o.p7.length==0?[]:o.p7[this.M9.m()].Si,x=[];for(var I=0;
I<w.length;I++)x.push(w[I].Ka);this.k4.Cp(x)};ff.prototype.S=function(){a8.prototype.S.call(this);this.JZ.S();
this.zd.ld("Max. "+kQ.get([12,41])+":");this.eQ.ld("Max. "+kQ.get([12,42])+":");this.Wx.S();this.j8.S();
this.Pq.S()};function ay(o){var P=cM.names[o];if(P==null)P=ft.names[o];if(o=="aply")P=[2,12];if(o=="fade")P=[2,11];
if(o=="matc")P=[4,18];if(o=="blendOptions")P=[14,10];a8.call(this,P,"afw_"+o);this.Bs=o;this.ii=null;
this.Am=null;this.XV=new cq[o];this.XV.J(G.E.w,this.CR,this);this.XV.parent=this;this.body.appendChild(this.XV.Z);
this.dR=new f5([24,18,5]);this.dR.O(!0);this.dR.J(G.E.w,this.CR,this);this.Ls=new eN([1,12,2],!0,null,!0);
this.Ls.J("click",this.KV,this);this.ZN=J.hB(this);if(this.ZQ())this.XV.dq(this.ZN.Z);else{J.HT(this.XV.Z,"form");
J.HT(this.body,"flexrow");this.XV.Z.setAttribute("style","width:312px");var w=J.k("div");this.body.appendChild(w);
w.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");w.appendChild(this.ZN.Z);w.appendChild(this.Ls.Z);
w.appendChild(this.dR.Z)}this.J("closebtn",this.Hf,this)}ay.prototype=new a8;ay.prototype.vo=function(){return!0};
ay.prototype.ZQ=function(){return this.XV!=null&&this.XV.fn()};ay.prototype.pe=function(){return this.ZQ()?new eD(0,0):a8.prototype.pe()};
ay.prototype.qD=function(o){return this.XV.qD(o)};ay.prototype.RE=function(){return this.XV.RE()};ay.prototype.aE=function(o,P,w,x,z){this.XV.aE(o,P,w,x,z)};
ay.prototype.Dv=function(o,P,w,x,z){this.XV.Dv(o,P,w,x,z)};ay.prototype.I2=function(o,P,w,x,z){this.XV.I2(o,P,w,x,z)};
ay.prototype.ry=function(o,P){if(this.Bs=="fade")return ay.a5H(o);return!0};ay.prototype.KV=function(o){this.XV.O(cM.bS(this.Bs));
this.CR()};ay.prototype.CR=function(o){this.fQ({Q:"edit",IN:this.XV.m(),zn:!this.dR.m()})};ay.prototype.Hf=function(o){this.fQ({Q:"cancel"})};
ay.prototype.kJ=function(o){if(!this.dR.m()){this.dR.O(!0);this.CR()}this.Am=this.XV.m();if(this.ZQ())this.CR();
this.fQ({Q:"confirm"});this.close()};ay.prototype.S=function(){a8.prototype.S.call(this);this.dR.S();
if(this.XV)this.XV.S();this.ZN.S()};ay.prototype.RU=function(o,P){if(this.XV)this.XV.RU(o,P)};ay.prototype.xF=function(o,P,w,x){if(this.ZQ())this.XV.xF(x);
else a8.prototype.xF.call(this,o,P,w,x)};ay.prototype.fi=function(o,P,w,x){this.ii=P.ii;var z=o.add.lnk2?o.add.lnk2:[],S,k,f=new fA(0,0,o.q,o._),C=o.R[o.T[0]],b=null;
S=C.buffer;k=C.rect;var H=o.e&&this.Bs=="LqFy"&&P.ii==null;if(H){k=o.e.rect.clone();S=e.U(k.c()*4);e.sR(C.buffer,C.rect,S,k)}if(this.ZQ()){b=o.Ey(o.T[0]-1);
if(H){var i=e.U(k.c()*4);e.sR(b,f,i,k);f=k.clone();b=i}}var M=cM.bS(this.Bs),T=[z,o.Cg,o,w];if(P.ii==null){this.XV.O(M,S,k,f,b,T);
if(ft.names[this.Bs]){if(x.d(i$.JV)&&this.Am)this.XV.O(this.Am);var O=N.pX.getData(o),Y=e.DM(O[0].Du);
this.XV.rB(Y)}}else{var U=!1,C=o.R[this.ii.r];if(C.zO()){var W=C.fP(o);S=W.buffer;k=W.rect;var t=C.add.SoLd.filterFX.v.filterFXList.v;
if(t[this.ii.index]){var _=t[this.ii.index].v;this.XV.O(this.Bs=="blendOptions"?_.blendOptions.v:_.Fltr.v,S,k,f,b,T);
this.XV.rB(e.DM(S));U=!0}}if(!U){this.XV.O(M,S,k,f,b,T);this.XV.rB(e.DM(S))}}if(!this.ZQ()){this.CR();
var n=this.XV;if(n&&n.gP&&n.gP[0]&&n.gP[0].W7&&Math.min(window.innerWidth,window.innerHeight)>500)n.gP[0].W7()}};
ay.prototype.fQ=function(o){var P=new bO(G.E.z,!0);o.Bs=this.Bs;o.ii=this.ii;if(this.Bs=="VaPo"){o.P=this.XV.m();
o.yp=this.XV.ayv()}P.data=o;P.I=cM.names[this.Bs]||this.ii?N.bk:N.vg;P.N8=!0;this.j(P)};ay.prototype.sH=function(o,P){if(!this.XV.fn()){}else{this.body.style.padding="0";
this.XV.sH(o,P)}};ay.a5H=function(o){if(o==null)return!1;var P=o.k8();if(P==null||!(P.data instanceof Array)||P.data.length!=o.T.length)return!1;
for(var I=0;I<P.data.length;I++){var w=P.data[I];if(w.r<0&&o.Cg[-1-w.r])return!0;if(w.r==null||o.R[w.r]==null||o.R[w.r].Zx!=w.Gc)return!1;
if(o.T.indexOf(w.r)==-1)return!1}return!0};function iK(){a8.call(this,[11,0],"camera");this.data=null;
this.ai$=new eD(1,1);this.a4B=[];var o=J.k("div","form hbar");this.body.appendChild(o);this.akk=new f7(null,[]);
this.anM=new f7([21,0],[[21,2],[21,1]]);o.appendChild(this.anM.Z);this.jD=new f7(null,[]);this.jD.J(G.E.w,this.ajM,this);
o.appendChild(this.jD.Z);this.amk=new eN([11,0],!1,null,!0);this.amk.J("click",this.azZ,this);o.appendChild(this.amk.Z);
this.amZ=new jH("");o.appendChild(this.amZ.Z);this.stream=null;this.kk=J.k("video","");this.kk.setAttribute("autoplay","true");
this.body.appendChild(this.kk);this.a1h=this.a8L.bind(this);this.awS=this.alG.bind(this);this.aAi=this.azO.bind(this);
this.J("closebtn",this.awd,this)}iK.prototype=new a8;iK.prototype.S=function(){a8.prototype.S.call(this);
this.anM.S();this.amk.S();this.sH(this.V,this.Y)};iK.prototype.Ey=function(){var o=this.kk.videoWidth,P=this.kk.videoHeight,w=J.k("canvas","");
w.width=o;w.height=P;var x=w.getContext("2d");x.drawImage(this.kk,0,0,o,P);var z=x.getImageData(0,0,o,P);
return{pv:new fA(0,0,o,P),data:z.data.buffer}};iK.prototype.azZ=function(o){if(this.anM.m()==0)this.adE();
else this.a1p()};iK.prototype.a1p=function(){var o=this.Ey(),P={buffer:new Uint8Array(o.data),rect:o.pv},w=new bO(G.E.z,!0);
w.N8=!0;w.I=N.jc;w.data={Q:X.y5,a7:P};this.j(w);alert(kQ.get([21,4]))};iK.prototype.adE=function(){var o=this.Ey(),P=eu.WM("camera",[o]),w=new bO(G.E.X,!0);
w.data={Q:G.l.cA,lg:P};this.j(w);alert(kQ.get([21,5]))};iK.prototype.fi=function(o,P,w){navigator.mediaDevices.enumerateDevices().then(this.aCx.bind(this))};
iK.prototype.aCx=function(o){var P=this.a4B=[],w=[];for(var I=0;I<o.length;I++)if(o[I].kind=="videoinput"){P.push(o[I]);
w.push("Camera "+P.length)}this.jD.Cp(w);this.jD.O(0);this.ajM()};iK.prototype.ajM=function(o){this.awd();
var P={video:{deviceId:this.a4B[this.jD.m()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(P).then(this.a1h).catch(this.awS);
else navigator.webkitGetUserMedia(P,this.a1h,this.awS)};iK.prototype.a8L=function(o){this.stream=o;this.kk.srcObject=o;
this.kk.addEventListener("loadedmetadata",this.aAi,!1)};iK.prototype.azO=function(o){this.kk.play();
this.sH(this.V,this.Y)};iK.prototype.pe=function(o,P){return new eD(0,0)};iK.prototype.sH=function(o,P){var w=this.kk.videoWidth,x=this.kk.videoHeight;
this.amZ.O(w+" x "+x+" px");this.amZ.Z.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.ai$.Mx(w,x);this.V=o;this.Y=P;var z=o-28,S=P-28-30,k=this.ai$.x/this.ai$.y;if(z/S>k)z=S*k;else S=z/k;
this.kk.setAttribute("style","display: block; width: "+Math.round(z)+"px; height:"+Math.round(S)+"px;")};
iK.prototype.alG=function(o){console.log("error",o);alert(kQ.get([21,6]));this.close()};iK.prototype.awd=function(o){if(this.stream!=null){var P=this.stream.getTracks();
for(var I=0;I<P.length;I++)P[I].stop();this.stream=null}};function cd(){a8.call(this,[7,8],"crange");
this.Ow=null;this.wR={s$:73,F:4.45,b:4};this.zz={s$:73,F:4.45,b:4};this.body.style.width="20em";this.aP=new f7([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.aP.J(G.E.w,this.aCF,this);this.body.appendChild(this.aP.Z);this.S5=J.k("div","form");this.body.appendChild(this.S5);
var o=this.ayz=2,P=this.CD=[new aT([12,92],0,200),new kp([12,36],[[18,0],"\uFF0B","-"]),new aT([12,92],0,100,"%"),new f6("Min",0,255),new f6("Max",0,255)];
P[0].O(40);P[o].O(40);for(var I=0;I<P.length;I++){P[I].J(G.E.w,this.xW,this);P[I].parent=this}this.hj=J.k("canvas");
this.body.appendChild(this.hj);this.ZN=J.hB(this,this.body)}cd.prototype=new a8;cd.prototype.ry=function(o,P){return o!=null};
cd.prototype.RE=function(){return!0};cd.prototype.vo=function(){return!0};cd.prototype.aCF=function(o){var P=this.aP.m(),w=this.CD,x=this.S5,z=0,S=w.length,k=this.ayz;
if(P==0)S=k;else{z=k;w[z+1].O([0,100,190][P-1]);w[z+1].hk(P!=1);w[z+2].O([60,150,255][P-1]);w[z+2].hk(P!=3)}J.eg(x);
for(var I=z;I<S;I++){x.appendChild(w[I].Z)}this.xW()};cd.prototype.S=function(){a8.prototype.S.call(this);
this.ZN.S();this.aP.S();for(var I=0;I<this.CD.length;I++)this.CD[I].S()};cd.prototype.aE=function(o,P,w,x,z){var S=o.s.hI(z.x,z.y);
this.alk(S.x,S.y)};cd.prototype.alk=function(o,P){var w=Math.min,x=Math.max,z=this.Ow,S=x(0,w(z.q-1,Math.floor(o))),k=x(0,w(z._-1,Math.floor(P))),f=z.Ey(),C=(k*z.q+S)*4,H=f[C],b=f[C+1],i=f[C+2],M=e.Us(H,b,i),T=this.CD[1].m(),O=this.wR,Y=this.zz;
if(T==0){this.wR=JSON.parse(JSON.stringify(M));this.zz=M}else if(T==1){O.s$=w(O.s$,M.s$);O.F=w(O.F,M.F);
O.b=w(O.b,M.b);Y.s$=x(Y.s$,M.s$);Y.F=x(Y.F,M.F);Y.b=x(Y.b,M.b)}else if(T==2){var U=(O.s$+Y.s$)/2,W=(O.F+Y.F)/2,t=(O.b+Y.b)/2;
if(M.s$<U)O.s$=x(O.s$,M.s$+10);else Y.s$=w(Y.s$,M.s$-10);if(M.F<W)O.F=x(O.F,M.F+1);else Y.F=w(Y.F,M.F-1);
if(M.b<t)O.b=x(O.b,M.b+1);else Y.b=w(Y.b,M.b-1)}this.xW()};cd.prototype.kJ=function(o){var P=this.aP.m(),w=this.CD,x={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(P==0){var z=this.wR,S=this.zz;x.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:z.s$},A:{t:"doub",v:z.F},B:{t:"doub",v:z.b}}};
x.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:S.s$},A:{t:"doub",v:S.F},B:{t:"doub",v:S.b}}};x.Fzns={t:"long",v:w[0].m()}}else{P--;
var k=["shadows","midtones","highlights"][P];x.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][P]}};if(0<P)x[k+"LowerLimit"]={t:"long",v:w[3].m()};
if(P<2)x[k+"UpperLimit"]={t:"long",v:w[4].m()};x[k+"Fuzziness"]={t:"long",v:w[2].m()}}this.close();var f=new bO(G.E.qc,!0);
f.data={wQ:"colorRange",WP:x};this.j(f)};cd.prototype.fi=function(o,P){this.Ow=o;this.alk(0,0);this.aCF()};
cd.prototype.xW=function(){var o=this.Ow,P=this.aP.m(),w=this.wR,x=this.zz,z=this.CD,S=z[0].m()/200,k=!1;
if(P>0){w=z[3].m();x=z[4].m();if(w>=x)w=x-1;k=!0;S=z[2].m()/100}var f=N.z$.MV(o,w,x,S,k),C=f.rect,H=f.channel,b=this.hj,i=b.getContext("2d"),M=Math.floor(230*J.M()),T=Math.floor(M*(C._/C.q));
b.width=M;b.height=T;J.v5(b,M,T);var O=e.U(H.length*4);e.ZT(O,4294967295);for(var I=0;I<3;I++)e.lI(H,O,I);
var Y=N.DH.x$([O,C],new ar(M/C.q,0,0,T/C._,0,0)),U=Y.rect,W=new ImageData(new Uint8ClampedArray(Y.buffer.buffer),U.q,U._);
i.putImageData(W,0,0)};function ao(){a8.call(this,[12,76,1],"createshape");this.p5=null;var o=J.k("div","form");
o.setAttribute("style","width:20em");this.body.appendChild(o);this.NA=new jO(!0,!0,null,!0,!0);this.NA.O(new eD(100,100));
o.appendChild(this.NA.Z);this.aze=new f5([19,5,3]);o.appendChild(this.aze.Z);this.ZN=J.hB(this,o)}ao.prototype=new a8;
ao.prototype.kJ=function(o){var P=this.NA.m();this.p5.a6E(this.p5.amM,P.x,P.y,this.aze.m());this.close()};
ao.prototype.S=function(){if(this.p5)this.xi=kQ.get([5,3])+": "+kQ.get(this.p5.azt);a8.prototype.S.call(this);
this.ZN.S();this.NA.S();this.aze.S()};ao.prototype.fi=function(o,P){this.p5=P;this.S();this.NA.O(this.NA.m(),o.vz)};
function gW(){a8.call(this,[11,1],"colorpicker");this.kA=null;this.mP=null;this.Ao=null;this.q4=!1;this.yB=!1;
this.asg=[.9642,1,.8249];var o=J.k("div","flexrow"),k,f;this.body.appendChild(o);this.Zl=new d4(256,!0);
this.Zl.J(G.E.w,this.iR,this);o.appendChild(this.Zl.Z);var P=J.k("div","form");P.setAttribute("style","width:14.5em; margin-left:1em;");
o.appendChild(P);var w=J.k("div","flexrow");P.appendChild(w);var x=J.k("div");w.appendChild(x);x.style="width:95px; margin-right:14px";
this.aAd=J.k("div","full");x.appendChild(this.aAd);this.a5l=J.k("div","full");x.appendChild(this.a5l);
var x=J.k("col");w.appendChild(x);x.style.width="80px";this.ZN=J.hB(this,x);var w=J.k("div","flexrow");
P.appendChild(w);var z=J.k("div"),S=J.k("div");w.appendChild(z);w.appendChild(S);z.style=S.style="margin-left:14px; max-width:80px;";
k=["H","S","B"];f=z;this.Xs=[];for(var I=0;I<3;I++){var C=0,H=360,b="\xB0";if(I!=0){H=100;b="%"}var i=new f6(k[I],C,H,b,0,!1,!0);
this.Xs.push(i);i.J(G.E.w,this.an7,this);f.appendChild(i.Z);if(I==2)i.Z.style.marginBottom="8px"}k=["R","G","B"];
f=z;this.Ta=[];for(var I=0;I<3;I++){var i=new f6(k[I],0,255,null,0,!1,!0);this.Ta.push(i);i.J(G.E.w,this.aGG,this);
f.appendChild(i.Z)}k=["L","a","b"];f=S;this.NY=[];for(var I=0;I<3;I++){var C=[0,-128,-128][I],H=[100,127,127][I],i=new f6(k[I],C,H,null,0,!1,!0);
i.O(0);this.NY.push(i);i.J(G.E.w,this.axk,this);f.appendChild(i.Z);if(I==2)i.Z.style.marginBottom="8px"}k=["C","M","Y","K"];
f=S;this.es=[];for(var I=0;I<4;I++){var i=new f6(k[I],0,100,"%",0,!1,!0);i.O(0);this.es.push(i);i.J(G.E.w,this.aEz,this);
f.appendChild(i.Z);if(I==3)i.Z.style.marginBottom="8px"}this.K$=new iU("#",null,4.5);this.K$.J(G.E.w,this.tt,this);
z.appendChild(this.K$.Z);this.K$.Z.style.marginRight="0";this.Ms=J.k("input","fitem");this.Ms.setAttribute("type","color");
this.Ms.setAttribute("style","width:59px;  margin-left:19px;");this.Ms.addEventListener("change",this.tt.bind(this),!1);
this.Vy=new dC(9);this.Vy.J(G.E.w,this.tt,this);P.appendChild(this.Vy.Z);this.J("closebtn",this.Hf,this);
this.Ur=!1}gW.prototype=new a8;gW.prototype.RE=function(){return!0};gW.prototype.pe=function(o,P){if(Math.min(o,P)>500)return null;
return new eD(Math.max(0,Math.min(150,(o-484)/2)),Math.max(0,Math.min(150,(P-316)/2)))};gW.prototype.sH=function(o,P){this.Zl.sH(Math.min(256,o-226),P)};
gW.prototype.S=function(o,P){a8.prototype.S.call(this);for(var I=0;I<3;I++){this.Ta[I].S();this.Xs[I].S();
this.NY[I].S()}for(var I=0;I<4;I++)this.es[I].S();this.ZN.S()};gW.prototype.iR=function(o){this.mP=this.Zl.m();
this.update()};gW.prototype.aE=function(o,P,w,x,z){this.Ur=!0;this.aBD(o,z)};gW.prototype.Dv=function(o,P,w,x,z){if(!this.Ur)return;
this.aBD(o,z)};gW.prototype.I2=function(o,P,w,x,z){this.Ur=!1};gW.prototype.aBD=function(o,P){this.mP=e.AE(N.S9.lR(o,P,1),1);
this.update()};gW.prototype.aGG=function(o){var P=this.Ta,w=this.ha(parseInt(P[0].m())),x=this.ha(parseInt(P[1].m())),z=this.ha(parseInt(P[2].m()));
this.mP={$:w/255,H:x/255,b:z/255};this.update()};gW.prototype.an7=function(o){var P=this.Xs,w=this.fe(parseInt(P[0].m())/360),x=this.fe(parseInt(P[1].m())/100),z=this.fe(parseInt(P[2].m())/100);
this.mP=e.MR(w,x,z);this.update()};gW.prototype.aEz=function(o){var P=this.es,w=[];for(var I=0;I<4;I++){var x=this.ajL(parseInt(P[I].m()));
P[I].O(x);w.push(x/100)}var z=e.Wu(w);this.mP={$:z[0],H:z[1],b:z[2]};this.update(!0)};gW.prototype.axk=function(o){var P=this.NY,w=parseInt(P[0].m()),x=parseInt(P[1].m()),z=parseInt(P[2].m()),S=e.Aj(w,x,z);
this.mP={$:S.$/255,H:S.H/255,b:S.b/255};this.update()};gW.prototype.tt=function(o){var P;if(o.currentTarget==this.Vy)P=this.Vy.m();
else{P=o.currentTarget==this.K$?this.K$.m():this.Ms.value;if(P.charAt(0)=="#")P=P.slice(1);if(P.length==3)P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2];
P=e.a8u(P)}this.mP=e.AE(P,1);this.update()};gW.prototype.kJ=function(o){this.aET();var P=e.Oq(this.mP,1);
this.Ao(P);this.close();this.yB=!1;this.mP=null};gW.prototype.Hf=function(o){this.aET();if(this.q4)this.Ao(e.Oq(this.kA,1));
this.yB=!1;this.mP=null};gW.prototype.aET=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.a9j};this.j(P)};
gW.prototype.RU=function(o,P){var w=fi.aN(o,P);if(w!=null)this.Vy.O(w);if(P!=eB.P6)return;if(this.mP!=null){this.mP=e.AE(w,1);
this.update()}};gW.prototype.fi=function(o,P){var w=e.AE(P.cz,1);if(this.mP)this.Hf(null);if(this.mP==null){var x=new bO(G.E.X,!0);
x.data={Q:G.l.iu,GP:"crosshair",push:!0};this.j(x);this.Ur=!1;this.Ao=P.oO;this.q4=!1;this.yB=P.wG;this.kA=JSON.parse(JSON.stringify(w));
this.a5l.setAttribute("style","height:2.3em;background-color:#"+e.UM(P.cz)+";")}this.mP=w;this.update()};
gW.prototype.update=function(o){var P=this.mP,w=e.Oq(P,1);this.K$.O(e.UM(w));this.Ms.value="#"+e.UM(w);
this.aAd.setAttribute("style","height:2.3em;background-color:#"+e.UM(w)+";");var x=this.Ta;x[0].O(Math.round(P.$*255));
x[1].O(Math.round(P.H*255));x[2].O(Math.round(P.b*255));var z=e.j1(P.$,P.H,P.b);x=this.Xs;x[0].O(Math.round(z.Y*360));
x[1].O(Math.round(z.zp*100));x[2].O(Math.round(z.IN*100));var S=e.Us(P.$*255,P.H*255,P.b*255,this.asg);
x=this.NY;x[0].O(Math.round(S.s$));x[1].O(Math.round(S.F));x[2].O(Math.round(S.b));if(o==null){var k=e.TI([P.$,P.H,P.b]);
x=this.es;x[0].O(Math.round(k[0]*100));x[1].O(Math.round(k[1]*100));x[2].O(Math.round(k[2]*100));x[3].O(Math.round(k[3]*100))}this.Zl.O(P);
if(this.yB){this.Ao(e.Oq(this.mP,1));this.q4=!0}};gW.prototype.ajL=function(o){return Math.max(0,Math.min(100,o))};
gW.prototype.ha=function(o){return Math.max(0,Math.min(255,o))};gW.prototype.fe=function(o){return Math.max(0,Math.min(1,o))};
function dm(){a8.call(this,[11,2],"contoureditor");this.aqP=null;this.$c=null;this.response=null;this.fa=J.k("div","cell");
this.body.appendChild(this.fa);this.k5=J.k("div","cell padded");this.body.appendChild(this.k5);var o=J.k("div","bordered padded vmargin");
this.fa.appendChild(o);this.XV=new cI(null,null,!0);this.XV.J(G.E.w,this.ae,this);o.appendChild(this.XV.Z);
this.ZN=J.hB(this,this.k5);this.J("closebtn",this._1,this)}dm.prototype=new a8;dm.prototype.kJ=function(){this.close()};
dm.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();this.XV.S()};dm.prototype.ae=function(o){this.$c.Crv.v=this.XV.m();
this.response(this.$c)};dm.prototype._1=function(o){this.response(this.aqP)};dm.prototype.fi=function(o,P){this.aqP=JSON.parse(JSON.stringify(P.Si));
this.$c=P.Si;this.response=P.response;this.XV.O(this.$c.Crv.v)};function dr(){a8.call(this,[11,4],"duplinto");
this.bQ=null;this.uV=null;this.x1=null;var o=J.k("div","form");o.setAttribute("style","max-width:26em");
this.body.appendChild(o);this.WX=new f7([12,43],["abc","def"]);this.WX.J(G.E.w,this.pF,this);o.appendChild(this.WX.Z);
J.jB(o);this.WT=new f7([1,16,0],["abc","def"]);this.WT.J(G.E.w,this.pF,this);o.appendChild(this.WT.Z);
J.jB(o);this.jb=new iU([12,48],null,14);o.appendChild(this.jb.Z);this.ZN=J.hB(this,o)}dr.prototype=new a8;
dr.prototype.vo=function(){return!0};dr.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();
this.WX.S();this.jb.S()};dr.prototype.pF=function(o){if(o&&o.target==this.WT)return;var P=this.WX.m(),w=this.uV[P],x=this.bQ,z=w!=null&&w.add.artd!=null;
for(var I=0;I<x.T.length;I++)if(x.R[x.T[I]].add.artb)z=!1;this.jb.hk(P==this.uV.length);this.WT.hk(z);
if(z){var S=w.root.children,k=[],f=this.x1=[];for(var I=0;I<S.length;I++){var C=S[I].r;if(C.add.artb)k.push(C.getName());
f.push(S[I].index)}this.WT.Cp(k);this.WT.O(0)}else this.x1=null};dr.prototype.fi=function(o,P,w){this.bQ=o;
this.uV=w;this.jb.O(o.T.length==0?"Layer":o.R[o.T[0]].getName());var x=[];for(var I=0;I<w.length;I++){var z=w[I].name;
x.push(z.length<30?z:z.slice(0,27)+"...")}x.push([11,7]);this.WX.Cp(x);this.WX.O(w.indexOf(o));this.pF(null)};
dr.prototype.kJ=function(o){var P=this.WX.m();if(P==this.uV.length){var w=new da(this.jb.m()+".psd"),x=this.bQ.q,z=this.bQ._,S=this.bQ.Qq();
if(S!=-1){var k=this.bQ.R[S].sK();x=k.q;z=k._}w.q=x;w._=z;w.buffer=e.U(w.q*w._*4);var f=w._L();f.bx("Background");
w.V4([f]);var C=new bO(G.E.X,!0);C.N8=!0;C.data={Q:G.l.cA,lg:w};this.j(C)}var H=this.bQ.JT(null,this.bQ!=this.uV[P]),C=new bO(G.E.z,!0);
C.data={Q:X._J,R:H,Dy:this.bQ,vT:this.uV[P]};if(this.x1)C.data.US=this.x1[this.WT.m()];C.I=N.jc;C.N8=!0;
this.j(C);this.close()};function au(){a8.call(this,[1,9],"eassets");this.r7=null;this.ya=null;var o=this.body;
J.HT(o,"form");o.style.width="32em";this.aP=new kp(null,["Layers","Combinations"]);this.aP.J(G.E.w,this.vF,this);
o.appendChild(this.aP.Z);J.pp(o);this.Sp=J.k("span");o.appendChild(this.Sp);this.uF=J.k("div");o.appendChild(this.uF);
var P=J.k("div"),w=J.k("div","flexrow");this.asY=[P,w];this.T2=[new f5("Only layers / folders, whose name starts with \"-e-\""),new f5("Remove parts outside the canvas"),new f5("Trim transparent parts")];
for(var I=0;I<3;I++){var x=this.T2[I];x.O(!0);x.J(G.E.w,this.vF,this);P.appendChild(x.Z);J.jB(P)}this.WO=new fs([12,14,0],["1x","2x","3x","4x"]);
this.WO.O([!0,!1,!1,!1]);P.appendChild(this.WO.Z);var z=J.k("div");w.appendChild(z);var S=J.k("img");
S.setAttribute("src",jM.$D("img/nft.png"));S.style.width="150px";w.appendChild(S);var k=J.k("span");
k.textContent="File Names:";z.appendChild(k);this.Qg=new fs(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
z.appendChild(this.Qg.Z);this.Qg.O([!0,!1,!1]);J.pp(o);this.avt=["PNG","JPG","SVG","TIFF","TGA"];this.ia=new f7([12,50],this.avt);
this.ia.J(G.E.w,this.F$,this);o.appendChild(this.ia.Z);this.JZ=new cb;o.appendChild(this.JZ.Z);this.ZN=new eN([1,9],!0,null,!0);
this.ZN.J("click",this.kJ,this);o.appendChild(this.ZN.Z);this.J("closebtn",this.Ci,this)}au.prototype=new a8;
au.prototype.F$=function(o){this.JZ.px(this.avt[this.ia.m()],!1,!1,!1,this.ya.M1()!=null)};au.prototype.Ci=function(o){this.ya=null};
au.prototype.S=function(){a8.prototype.S.call(this);this.ia.S();this.WO.S();this.ZN.S();this.JZ.S()};
au.prototype.fi=function(o,P,w){this.ya=o;this.vF()};au.prototype.vF=function(o){var P=this.aP.m(),w;
J.eg(this.uF);this.uF.appendChild(this.asY[P]);if(P==0){var x=this.aBR();w=x.length+" exportable layers"}else{var x=this.a09();
w=x[1]+" combinations ("+x[0].join(" \xD7 ")+")"}this.Sp.textContent="- - - "+w;this.F$(null)};au.prototype.aBR=function(){var o=this.T2[0].m(),P=[],w=this.ya;
for(var I=0;I<w.R.length;I++){var x=w.R[I],z=x.getName();if(!o&&!x.Pe()&&!x.rect.Mw()||z.startsWith("-e"))P.push(I)}return P};
au.prototype.a09=function(){var o=this.ya,P=o.root.children,w=[],x=1,z=[];for(var I=0;I<P.length;I++){var S=P[I],k=S.r;
if(k.Pe()){var f=S.children.length;w.push(f);x*=f;z.push(S.index)}k}return[w,x,z]};au.prototype.RU=function(o,P){this.r7=o};
au.prototype.kJ=function(o){var P=this.ya,w=this.aP.m(),x=[this.avt[this.ia.m()]],z=[this.JZ.m()],S={};
if(w==0){var k=this.WO.m(),f={},C=this.aBR();if(C.length==0){alert("No layers to export.");return}var H=[this.T2[1].m(),this.T2[2].m()];
for(var I=0;I<C.length;I++){var b=C[I],i=P.R[b],M=i.getName();if(f[M]!=null){f[M]++;M+=" "+f[M]}else f[M]=1;
var T=i.ny();i.Kt(!0);for(var O=0;O<k.length;O++){if(!k[O])continue;var Y=O+1,U=N.y9.arl(P,x,Y,this.r7,b,z,H);
for(var W=0;W<x.length;W++){var t=x[W],_=M.slice(M.startsWith("-e-")?3:0)+(Y==1?"":"@"+Y+"x")+"."+t.toLowerCase();
if(U[W])S[_]=new Uint8Array(U[W])}}i.Kt(T)}}else{var T=[];for(var I=0;I<P.R.length;I++)T.push(P.R[I].ny());
var n=this.a09(),y=n[0],C=n[2],F=[];function a(Q,b,m,R){if(b==Q.length){R.push(m.slice(0));return}var $=Q[b];
for(var I=0;I<$;I++){m.push(I);a(Q,b+1,m,R);m.pop(I)}}a(y,0,[],F);var V=this.Qg.m().indexOf(!0);this.Nn=[F,S,C,x,z,T,V,this.atS.bind(this),0,0];
this.atS();return}var D=UZIP.encode(S),l=new bO(G.E.X,!0);l.data={Q:G.l.Gd,data:D,name:"assets.zip"};
this.j(l)};au.prototype.atS=function(){var o=this.Nn,P=o[0],w=o[1],x=this.ya,z=o[2],S=o[3],k=o[4],f=o[5],C=o[6],H=o[7],b=0;
while(P.length!=0&&b<1e3){var i=Date.now(),M=P.shift(),T=[];for(var I=0;I<M.length;I++){var O=x.root.wX(z[I]);
for(var Y=0;Y<O.children.length;Y++)O.children[Y].r.Kt(!1);var U=O.children[M[I]].r;T.push(C==2?U.getName():O.r.getName()+M[I]);
U.Kt(!0)}x.N();x.cj();var W=(C==0?M:T).join("-")+"."+S[0].toLowerCase();w[W]=new Uint8Array(eu.Gi(x,S[0],x.q,x._,k[0],this.r7));
o[8]++;o[9]+=w[W].length;b+=Date.now()-i}if(P.length!=0){alert(o[8]+" done, "+aN.yP(o[9])+".",800);setTimeout(H,35);
return}for(var I=0;I<x.R.length;I++)x.R[I].Kt(f[I]);x.N();var t=UZIP.encode(w),_=new bO(G.E.X,!0);_.data={Q:G.l.Gd,data:t,name:"assets.zip"};
this.j(_)};function hl(){a8.call(this,"Export Color Lookup Tables","exlut");this.r7=null;this.ya=null;
var o=J.k("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);this.T2=[new f6("Grid Points",1,256),new kp([12,50],[".CUBE"])];
var P=[16,0];for(var I=0;I<this.T2.length;I++){var w=this.T2[I];w.O(P[I]);w.parent=this;w.J(G.E.w,this.vF,this);
o.appendChild(w.Z);J.jB(o)}this.ZN=J.hB(this,o);this.J("closebtn",this.Ci,this)}hl.prototype=new a8;
hl.prototype.ry=function(o,P){if(Math.min(o.q,o._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(o.R.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};hl.prototype.Ci=function(o){this.ya=null};hl.prototype.RU=function(o,P){this.r7=o};
hl.prototype.fi=function(o,P,w){this.ya=o};hl.prototype.kJ=function(){var o=this.ya,P=this.T2[0].m(),w=[],x=new fA(0,0,o.q,o._),z=e.U(P*P*4),S=z.slice(0),k=new fA(o.q-P>>>1,o._-P>>>1,P,P),f=o.R[0],C=f.buffer,H=f.rect;
f.rect=k;f.buffer=z;for(var b=0;b<P;b++){this.a3q(P,b,z);f.N(k);o.N(k);var i=o.Ey();e.sR(i,x,S,k);for(var M=0;
M<P;M++)for(var T=0;T<P;T++){var O=M*P+T<<2;w.push(S[O]/255,S[O+1]/255,S[O+2]/255)}}var Y=j7.af6(w,P,o.name);
b_.save(Y,o.name.split(".")[0]+".CUBE");f.buffer=C;f.rect=H;f.N();o.N()};hl.prototype.a3q=function(o,P,w){var x=255/(o-1),z=Math.round(P*x);
for(var S=0;S<o;S++)for(var k=0;k<o;k++){var f=S*o+k<<2;w[f]=Math.round(k*x);w[f+1]=Math.round(S*x);
w[f+2]=z;w[f+3]=255}};hl.prototype.S=function(){a8.prototype.S.call(this);for(var I=0;I<this.T2.length;
I++)this.T2[I].S();this.ZN.S()};function fd(){a8.call(this,[1,14],"finfo");this.a7S=null;this.TN=null;
this.ay$=null;this.w$=J.k("div","form scrollable label12");this.w$.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.w$);var o=J.k("div","form");this.body.appendChild(o);this.Dt=new f7(null,["Hello"]);
o.appendChild(this.Dt.Z);this.alh=new eN("Add Parameter",!1,null,!0);o.appendChild(this.alh.Z);this.alh.J("click",this.Vi,this);
this.Sr=new eN("=== S A V E ===",!1,null,!0);o.appendChild(this.Sr.Z);this.Sr.J("click",this.SR,this);
this.a1q=""}fd.prototype=new a8;fd.prototype.pe=function(o,P){return o<450||P<450?new eD(0,0):new eD(150,100)};
fd.prototype.Vi=function(o){if(this.ay$.length==0)return;var P=this.ay$[this.Dt.m()],w=this.lB();w[P]=js.Zb[P][0];
this.mS(w);this.TN[P].Z.scrollIntoView();this.TN[P].W7()};fd.prototype.Cc=function(o){var P=this.lB();
delete P[o.currentTarget.awl];this.mS(P)};fd.prototype.SR=function(o){var P=this.lB(),w=this.a7S,x=!0;
for(var z in w)if(JSON.stringify(w[z])!=JSON.stringify(P[z]))x=!1;for(var z in P)if(JSON.stringify(w[z])!=JSON.stringify(P[z]))x=!1;
if(x)return;var S=new bO(G.E.z,!0);S.I=N.jc;S.data={Q:X.AJ,As:P};this.j(S);this.a7S=P;this.mS(P)};fd.abX=function(o){function P(z){var S=z.toLowerCase();
return z==S}var w=o.split(":").pop();for(var x=1;x<w.length-1;x++){if(w[x]==w[x].toUpperCase()&&(P(w[x+1])||P(w[x-1]))){w=w.slice(0,x)+" "+w.slice(x);
x++}}return w};fd.prototype.fi=function(o,P){this.a7S=o.wz;this.mS(o.wz)};fd.prototype.mS=function(o){var P=this.w$,z=0;
J.eg(P);var w=this.TN={},x=["tiff","exif","exif:GPS"],S=this.ay$=[],k=[];for(var f in js.Zb){var C=fd.abX(f),H=0,b=15,i=null;
if(o[f]==null){if(js.Zb[f].length!=1||f=="photoshop:Credit"||f=="photoshop:Source"){S.push(f);k.push(C)}continue}for(var I=0;
I<x.length;I++)if(f.startsWith(x[I]))H=I;if(H!=z){J.pp(P);z=H}if(f=="tiff:ImageDescription"||f=="dc:Keywords"){b=18.5;
i=3}var M=new iU(C,null,b,i);w[f]=M;var T=o[f];if(T instanceof Array)T=T[1]==0?"---":T[0]+"/"+T[1];var O=new eN("\u2716",null,kQ.get([5,4]));
P.appendChild(O.Z);O.J("click",this.Cc,this);O.awl=f;M.O(T);P.appendChild(M.Z);J.jB(P);if(f=="exif:GPSLongitude"&&o["exif:GPSLatitude"]){this.a1q=fd.aaS(o["exif:GPSLatitude"])+","+fd.aaS(o["exif:GPSLongitude"]);
var Y=new eN("Show on map",!1,null,!0);P.appendChild(Y.Z);J.jB(P);Y.J("click",this.a8E,this)}}this.Dt.Cp(k);
this.Dt.O(0)};fd.prototype.lB=function(){var o=this.TN,P=js.Zb,w={};for(var x in P){var z=P[x][0],S=typeof z;
if(z==null||o[x]==null)continue;var k=o[x].m(),f="The value of \""+fd.abX(x)+"\" must ";if(S=="number"){k=parseFloat(k);
if(isNaN(k)){alert(f+"be a number.");k=z}}else if(z instanceof Array&&z.length==2){if(k.indexOf("/")==-1){alert(f+"be a fraction.");
k=z.slice(0)}else{k=k.split("/").map(parseFloat);if(isNaN(k[0])||isNaN(k[1])){k=z.slice(0)}}}w[x]=k}return w};
fd.aaS=function(o){var P=o.length,w=o.slice(0,P-1).split(",").map(parseFloat),x=o.slice(P-1),z=w[0]+w[1]/60+w[2]/3600;
if(x!="N"&&x!="E")z=-z;return z};fd.prototype.a8E=function(o){window.open("https://maps.google.com?q="+this.a1q,"Map")};
function hg(){a8.call(this,[11,5],"gradienteditor");this.kA=null;this.mP=null;this.sj=null;this.Ao=null;
this.q4=!1;this.yB=!1;this.zm=null;this.Yr=null;this.GB=-1;this.E_=-1;this.Oj=0;this.bA=this.zx.bind(this);
this.a3=this._e.bind(this);this.hj=J.k("canvas");this.QA=this.hj.getContext("2d");this.hj.setAttribute("style","display:block");
this.uu=null;J.N_(this.hj);J.Dw(this.hj,this.KI.bind(this));this.TB=J.k("div","form");this.Ob=J.k("div");
this.Uf=J.k("div","form");this.JY=J.k("div");this.ZD=new f7([12,44],[[15,10,0],[24,6]]);this.ZD.J(G.E.w,this.jY,this);
this.body.appendChild(this.ZD.Z);J.pp(this.body);var o=this.TB;this.BI=new f6([19,3,3],0,100,"%");this.BI.J(G.E.w,this.jY,this);
this.BI.parent=this;o.appendChild(this.BI.Z);J.jB(o);this.afT=new jH([12,0]);o.appendChild(this.afT.Z);
this.hJ=J.k("div","bordered padded noalign");o.appendChild(this.hJ);this.CB=new f6([12,0],0,100,"%");
this.CB.parent=this;this.CB.J(G.E.w,this.jY,this);this.hJ.appendChild(this.CB.Z);this.bK=new f6([12,40],0,100,"%");
this.bK.parent=this;this.bK.J(G.E.w,this.jY,this);this.hJ.appendChild(this.bK.Z);this.pt=new eN([5,4],!1,null,!0);
this.pt.J("click",this.apG,this);this.hJ.appendChild(this.pt.Z);o.appendChild(this.Ob);this.apt=new jH([13,0]);
o.appendChild(this.apt.Z);this.xm=J.k("div","bordered padded noalign");o.appendChild(this.xm);this.$M=new f7([12,44],[[12,45],[12,46],[12,47]]);
this.$M.J(G.E.w,this.jY,this);this.xm.appendChild(this.$M.Z);this.Z3=new fN(!0);this.Z3.parent=this;
this.Z3.J(G.E.w,this.jY,this);this.xm.appendChild(this.Z3.Z);this.in=new f6([12,40],0,100,"%");this.in.parent=this;
this.in.J(G.E.w,this.jY,this);this.xm.appendChild(this.in.Z);this.pB=new eN([5,4],!1,null,!0);this.pB.J("click",this.atI,this);
this.xm.appendChild(this.pB.Z);var o=this.Uf;this.eC=new f6("Roughness",0,100,"%");this.eC.J(G.E.w,this.jY,this);
this.eC.parent=this;o.appendChild(this.eC.Z);o.appendChild(this.JY);this.o8=new eN([25,1,2],!1,null,!0);
this.o8.J("click",this.jY,this);o.appendChild(this.o8.Z);this.ZN=J.hB(this);this.J("closebtn",this.Hf,this)}hg.prototype=new a8;
hg.prototype.Hf=function(o){if(this.q4)this.Ao(this.kA)};hg.prototype.S=function(){a8.prototype.S.call(this);
this.ZN.S();this.BI.S();this.afT.S();this.apt.S();this.pt.S();this.pB.S();this.CB.S();this.bK.S();this.$M.S();
this.in.S();this.o8.S()};hg.prototype.RU=function(o,P){this.sj=o;if(P==eB.P6)this.qs()};hg.prototype.fi=function(o,P){this.mP=JSON.parse(JSON.stringify(P.G));
this.kA=JSON.parse(JSON.stringify(P.G));this.zm=this.Yr=null;this.Ao=P.oO;this.q4=!1;this.yB=P.wG;this.qs();
this.wC()};hg.prototype.kJ=function(o){var P=this.mP;this.Ao(P);this.close()};hg.prototype.qD=function(o){return o==i$.bc||o==i$.aa};
hg.prototype.xF=function(o,P,w,x){if(x.d(i$.bc)||x.d(i$.aa)){if(this.Yr)this.apG();if(this.zm)this.atI()}};
hg.prototype.apG=function(o){var P=this.mP.Trns.v;if(this.Yr==null||P.length==1)return;P.splice(P.indexOf(this.Yr),1);
this.Yr=null;this.qs();this.wC()};hg.prototype.atI=function(o){var P=this.mP.Clrs.v;if(this.zm==null||P.length==1)return;
P.splice(P.indexOf(this.zm),1);this.zm=null;this.qs();this.wC()};hg.prototype.qs=function(){var o=this.hj,P=this.QA;
if(this.mP==null)return;var w=J.M();o.width=Math.floor(410*w);o.height=Math.floor(70*w);J.v5(o,o.width,o.height);
o.style.marginTop="8px";this.uu=new fA(0,0,Math.floor(380*w),Math.floor(32*w));this.uu.x=Math.floor((o.width-this.uu.q)/2);
this.uu.y=Math.floor((o.height-this.uu._)/2);var x=this.uu,z=x.q,S=x._,k=x.x,f=x.y,C=new fA(0,0,z,S),H=P.getImageData(0,0,z,S),b=new Uint8Array(H.data.buffer);
e.JM(b,z,S,8);var i=e.U(z*S*4);e.G.i6(this.mP,i,C,[1/z,0,0,1/S],z/2,S/2,!1,0,this.sj.AB,this.sj.eI);
e.C.Iv("norm",i,x,b,x,x,1);P.clearRect(0,0,o.width,o.height);P.putImageData(H,k,f);var M=this.mP;if(M.Clrs){var T=M.Trns.v,O=M.Clrs.v,Y=e.G.IF(M,this.sj.AB,this.sj.eI),U=Math.round(6*J.M()),W=Math.round(14*J.M()),t=this.Yr?this.Yr.v:null,_=this.zm?this.zm.v:null;
for(var I=0;I<T.length;I++){var n=T[I].v,y=Math.round(255-255*n.Opct.v.val/100);if((n==t||T[I-1]&&T[I-1].v==t||I==this.E_)&&I!=0){P.fillStyle="#000000";
P.fillRect(k-3+z*(T[I-1].v.Lctn.v+(n.Lctn.v-T[I-1].v.Lctn.v)*n.Mdpn.v/100)/4096,f-6-2,6,6)}if(n==t){P.fillStyle="#ffffff";
P.fillRect(k-U+z*(n.Lctn.v/4096)-2,f-2-W-2,2*U+4,W+4)}P.fillStyle="rgb("+y+","+y+","+y+")";P.fillRect(k-U+z*(n.Lctn.v/4096),f-2-W,2*U,W)}for(var I=0;
I<O.length;I++){var F=O[I].v,a=Y[0][I][0];if((F==_||O[I-1]&&O[I-1].v==_||I==this.GB)&&I!=0){P.fillStyle="#000000";
P.fillRect(k-3+z*(O[I-1].v.Lctn.v+(F.Lctn.v-O[I-1].v.Lctn.v)*F.Mdpn.v/100)/4096,f+S+2,6,6)}if(F==_){P.fillStyle="#ffffff";
P.fillRect(k-U+z*(F.Lctn.v/4096)-2,f+S+2-2,2*U+4,W+4)}P.fillStyle="rgb("+Math.round(a.$)+", "+Math.round(a.H)+","+Math.round(a.b)+")";
P.fillRect(k-U+z*(F.Lctn.v/4096),f+S+2,2*U,W)}}if(this.yB){this.Ao(this.mP);this.q4=!0}};hg.prototype.wC=function(){var o=this.mP,P=o.Clrs?0:1;
this.ZD.O(P);if(J.Ni(this.TB))this.body.removeChild(this.TB);if(J.Ni(this.Uf))this.body.removeChild(this.Uf);
(P==0?this.Ob:this.JY).appendChild(this.hj);if(P==0){this.body.appendChild(this.TB);this.BI.O(Math.round(100*o.Intr.v/4096));
var w=o.Trns.v,x=o.Clrs.v,z=this.Yr!=null,S=this.E_!=-1;this.CB.hk(z);this.bK.hk(z||S);this.pt.hk(z);
if(z){this.hJ.setAttribute("style","");var k=this.Yr.v;this.bK.O(Math.round(100*k.Lctn.v/4096));this.CB.O(k.Opct.v.val)}if(S)this.bK.O(w[this.E_].v.Mdpn.v);
var z=this.zm!=null,S=this.GB!=-1;this.$M.hk(z);this.Z3.hk(z);this.in.hk(z||S);this.pB.hk(z);if(z){this.xm.setAttribute("style","");
var f=this.zm.v;this.in.O(Math.round(100*f.Lctn.v/4096));var C=f.Type.v.Clry;this.$M.O(["FrgC","BckC","UsrS"].indexOf(C));
if(C=="FrgC")this.Z3.bN(this.sj.AB);if(C=="BckC")this.Z3.bN(this.sj.eI);if(C=="UsrS")this.Z3.O(f.Clr.v)}if(S)this.in.O(x[this.GB].v.Mdpn.v)}else{this.body.appendChild(this.Uf);
this.eC.O(Math.round(100*o.Smth.v/4096))}this.body.appendChild(this.ZN.Z)};hg.prototype.jY=function(o){var P=this.mP,w=P.Clrs?0:1;
if(o.target==this.ZD){var x=w==0?JSON.parse(iR.GV.aeH).v:cM.bS("grdm").Grad.v;this.mP=x;this.wC();this.qs();
return}if(w==0){P.Intr.v=Math.round(4096*this.BI.m()/100);var z=P.Trns.v,S=P.Clrs.v;if(this.Yr!=null){var k=this.Yr.v;
k.Lctn.v=Math.round(4096*(this.bK.m()/100));k.Opct.v.val=this.CB.m()}if(this.zm!=null){var f=this.zm.v;
f.Lctn.v=Math.round(4096*(this.in.m()/100));if(o.target==this.Z3)this.$M.O(2);var C=this.$M.m();f.Type.v.Clry=["FrgC","BckC","UsrS"][C];
if(C==2)f.Clr={t:"Objc",v:this.Z3.m()};else if(f.Clr)delete f.Clr}if(this.E_!=-1)z[this.E_].v.Mdpn.v=this.bK.m();
if(this.GB!=-1)S[this.GB].v.Mdpn.v=this.in.m()}else{P.Smth.v=Math.round(4096*this.eC.m()/100);if(o.target==this.o8)P.RndS.v=Math.floor(Math.random()*4294967295)}this.qs()};
hg.prototype.KI=function(o){var P=J.YH(o,this.hj),w=this.uu,x=(P.x*J.M()-w.x)/w.q,z=(P.y*J.M()-w.y)/w._,S=this.mP.Trns.v,k=this.mP.Clrs.v,f=null,C=null,H=-1,b=-1;
if(z<1)for(var I=0;I<S.length;I++){var i=S[I].v;if(Math.abs(i.Lctn.v/4096-x)<.02)f=S[I];if(I>0)if(Math.abs((S[I-1].v.Lctn.v+(i.Lctn.v-S[I-1].v.Lctn.v)*i.Mdpn.v/100)/4096-x)<.01)H=I}if(z>0)for(var I=0;
I<k.length;I++){var M=k[I].v;if(Math.abs(M.Lctn.v/4096-x)<.02)C=k[I];if(I>0)if(Math.abs((k[I-1].v.Lctn.v+(M.Lctn.v-k[I-1].v.Lctn.v)*M.Mdpn.v/100)/4096-x)<.01)b=I}if(C==null&&f==null&&H==-1&&b==-1){if(z<0){var i={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
i.v.Lctn.v=Math.round(x*4096);S.push(i);S.sort(this.D$);f=i}if(z>1){var k=this.mP.Clrs.v,T=e.G.IF(this.mP,this.sj.AB,this.sj.eI),O=e.G.sr(this.mP,T,x),M={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:e.G.e1({$:O&255,H:O>>8&255,b:O>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
M.v.Lctn.v=Math.round(x*4096);k.push(M);k.sort(this.D$);C=M}}if(C!=null)b=-1;if(f!=null)H=-1;if(C!=null||f!=null||H>-1||b>-1){this.Yr=f;
this.zm=C;this.E_=H;this.GB=b;this.wC();this.qs();J.Zw(window,this.bA);J.FV(window,this.a3)}};hg.prototype.zx=function(o){var P=J.YH(o,this.hj),w=this.uu,x=(P.x*J.M()-w.x)/w.q,z=(P.y*J.M()-w.y)/w._;
x=Math.max(0,Math.min(1,x));var S=this.mP.Trns.v,k=this.mP.Clrs.v;if(this.Yr!=null){var f=this.Yr.v;
f.Lctn.v=Math.round(4096*x);var C=S.indexOf(this.Yr);if(C!=-1&&z<-1&&S.length>1)S.splice(C,1);if(C==-1&&z>-1)S.push(this.Yr);
S.sort(this.D$)}if(this.zm!=null){var H=this.zm.v;H.Lctn.v=Math.round(4096*x);var b=k.indexOf(this.zm);
if(b!=-1&&z>2&&k.length>1)k.splice(b,1);if(b==-1&&z<2)k.push(this.zm);k.sort(this.D$)}if(this.E_>-1){var f=S[this.E_].v;
f.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(x*4096-S[this.E_-1].v.Lctn.v)/(f.Lctn.v-S[this.E_-1].v.Lctn.v))))}if(this.GB>-1){var H=k[this.GB].v;
H.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(x*4096-k[this.GB-1].v.Lctn.v)/(H.Lctn.v-k[this.GB-1].v.Lctn.v))))}if(this.Yr!=null||this.zm!=null||this.E_>-1||this.GB>-1){this.wC();
this.qs()}};hg.prototype._e=function(o){J.ig(window,this.bA);J.qM(window,this.a3);if(Date.now()-this.Oj<300){if(this.GB!=-1||this.E_!=-1){var P=(this.GB!=-1?this.mP.Clrs.v[this.GB]:this.mP.Trns.v[this.E_]).v;
P.Mdpn.v=50;this.wC();this.qs()}else if(this.zm!=null)this.Z3.XP()}this.Oj=Date.now()};hg.prototype.D$=function(o,P){return o.v.Lctn.v-P.v.Lctn.v};
function bs(){a8.call(this,[11,5],"vgradienteditor");this.Ao=null;this.MW=new c4;this.MW.parent=this;
this.body.appendChild(this.MW.Z);this.ZN=J.hB(this,this.body)}bs.prototype=new a8;bs.prototype.fi=function(o,P){this.Ao=P.oO;
this.MW.O(P.P)};bs.prototype.S=function(){a8.prototype.S.call(this);this.MW.S()};bs.prototype.kJ=function(o){this.Ao(this.MW.m());
this.close()};function it(o){a8.call(this,o=="isize"?[11,10]:[11,3],o);this.a0W=o;this.Ha=null;var P=J.k("div","form");
P.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(P);var w=o=="csize";
this.a64=new jH("Hi");P.appendChild(this.a64.Z);J.jB(P);this.NA=new jO(!0,!0,w,w,!0);if(w)this.NA.ams(!1);
P.appendChild(this.NA.Z);this.Fe=new f5([12,25,3]);this.Fe.O(!0);this.Fe.J(G.E.w,this.a61,this);this.h4=new f7(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.h4.O(1);this.jZ=new c_([12,23,2],41);this.jZ.O(4);if(o=="isize"){P.appendChild(this.Fe.Z);P.appendChild(this.h4.Z)}else P.appendChild(this.jZ.Z);
this.ZN=J.hB(this,this.body)}it.prototype=new a8;it.prototype.ry=function(o,P){return o!=null};it.prototype.vo=function(){return!0};
it.prototype.qD=function(o){return this.a0W=="isize"?!1:[i$.Ie,i$.dV,i$.ag,i$.uE].indexOf(o)!=-1};it.prototype.xF=function(o,P,w,x){if(x.d(i$.w_))this.kJ();
this.jZ.ag6(x.Tl())};it.prototype.S=function(){a8.prototype.S.call(this);this.NA.S();this.Fe.S();this.h4.S();
this.jZ.S();this.ZN.S()};it.prototype.kJ=function(o){var P=this.NA.m(),w=P.x,x=P.y,z=new bO(G.E.qc,!0),S=this.NA.an.m();
if(this.a0W=="csize"){if(S){var k=this.NA.RY,f=this.NA.mt;w=f.x-k.x;x=f.y-k.y}z.data=N.A0.abI(w,x,this.jZ.m(),S)}else{var C=this.h4.m();
if(!this.Fe.m())C=null;var H=this.NA.alM(),b=this.Ha;console.log(H);if(H==1)z.data=N.A0.i7(w/b.x,x/b.y,this.NA.lr(),C,!0);
else z.data=N.A0.i7(w,x,this.NA.lr(),C)}this.close();this.j(z)};it.prototype.fi=function(o,P){this.Ha=new eD(o.q,o._);
this.NA.O(this.Ha,o.vz);this.NA.W7();this.a64.O(kQ.get(this.xi)+": "+(o.q*o._/1e6).toFixed(2)+" MPx")};
it.prototype.a61=function(o){var P=this.Fe.m(),w=this.NA,x=this.h4;if(P)x.p2();else x.hR();w.a9e(P)};
function ge(){a8.call(this,"Import RAW","importraw");var o=J.k("div","flexrow"),P=J.k("div");P.setAttribute("style","margin-bottom: 1em");
this.body.appendChild(o);this.body.appendChild(P);var w=J.k("div","form");w.setAttribute("style","width:18em");
o.appendChild(w);var x=J.k("div","form");x.setAttribute("style","width:15em");o.appendChild(x);this.p5=null;
this.se=null;this.Qs=null;this.GF=null;this.aAj=[];var z=[];for(var I=0;I<ge.gJ.length;I++)z.push(ge.gJ[I]+" Bits");
var S=this.Nn=[new jO(!0,null,null,!0),new f6([12,72],1,8),new f5("Last one is Transparency"),new kp([12,34],z),new kp("Byte Order",["12-34","34-12"]),new f7("Guesses",[])];
for(var I=0;I<S.length;I++){var k=S[I];k.parent=this;k.J(G.E.w,I==5?this.aoc:this.pF,this);var f=I==0?w:I==5?P:x;
f.appendChild(k.Z)}this.hj=J.k("canvas");this.QA=this.hj.getContext("2d");this.body.appendChild(this.hj);
this.ZN=J.hB(this,this.body)}ge.prototype=new a8;ge.prototype.S=function(){a8.prototype.S.call(this);
var o=this.Nn;this.ZN.S();for(var I=0;I<o.length;I++)o[I].S()};ge.prototype.kJ=function(o){this.close();
var P=this.Nn[0].m(),w=eu.WM(this.se,[{data:this.Qs,pv:new fA(0,0,P.x,P.y)}]);if(this.GF)w.Cg=this.GF;
var x=new bO(G.E.X,!0);x.data={Q:!0?G.l.cA:G.l.Nq,lg:w};this.j(x)};ge.gJ=[8,16];ge.prototype.fi=function(o,P){this.p5=new Uint8Array(P.aT);
this.se=P.V8;var w=this.p5.length,x=[1,3,4],z=0,S=0,k=1,f=1,C=this.aAj=[],H=Math.round(Math.sqrt(w)*2);
H=Math.max(H,4e3);for(var b=0;b<3;b++){for(var i=0;i<2;i++){var M=ge.gJ[i],T=x[b],O=T*M,Y=Math.round(w*8/O);
if(Y!=w*8/O)continue;for(var U=0;U<=H;U++)for(var W=0;W<=H;W++)if(U*W==Y){var t=0;if(U==W)t+=64;if(Math.round(U/100)==U/100&&Math.round(W/100)==W/100)t+=32;
if(Math.round(U/10)==U/10&&Math.round(W/10)==W/10)t+=16;if(Math.round(U/2)==U/2&&Math.round(W/2)==W/2)t+=8;
C.push([U,W,T,M,t])}}}var _=function(a,V){if(V[4]!=a[4])return V[4]-a[4];var D=Math.max(a[0],a[1])/Math.min(a[0],a[1]),l=Math.max(V[0],V[1])/Math.min(V[0],V[1]);
if(D!=l)return D-l;return V[0]-a[0]};C.sort(_);var n=this.Nn,y=[];for(var I=0;I<C.length;I++){var F=C[I];
y.push(F[0]+" x "+F[1]+", "+F[2]+"ch, "+F[3]+"-bit")}n[5].Cp(y);n[5].O(0);this.aoc(null)};ge.prototype.aoc=function(o){var P=this.Nn,w=this.aAj[this.Nn[5].m()];
P[0].O(new eD(w[0],w[1]),72);P[1].O(w[2]);P[3].O(ge.gJ.indexOf(w[3]));this.pF()};ge.prototype.pF=function(o){var P=this.Nn,w=P[0].m(),x=w.x,z=w.y,S=ge.gJ[P[3].m()],k=this.p5;
if(S==16&&P[4].m()==1){k=k.slice(0);for(var I=0;I<k.length;I+=2){var f=k[I];k[I]=k[I+1];k[I+1]=f}}var C=this.Qs=this.mJ(k,x,z,P[1].m(),S,P[2].m()),H=this.hj,b=this.QA,i=[C,new fA(0,0,x,z)];
e.nJ(i);for(var I=0;I<i.length;I+=2)if(i[I+1]._<300){C=i[I];x=i[I+1].q;z=i[I+1]._;break}H.width=x;H.height=z;
J.v5(H,x,z);var M=new ImageData(new Uint8ClampedArray(C.buffer),x,z);b.putImageData(M,0,0)};ge.prototype.mJ=function(o,P,w,x,z,S){this.GF=null;
var k=[],f=P*w;for(var C=0;C<x;C++){var H=e.U(f);k.push(H);if(z==8)for(var I=0;I<f;I++)H[I]=o[I*x+C];
else if(z==16)for(var I=0;I<f;I++)H[I]=Math.round((o[(I*x+C)*2]<<8|o[(I*x+C)*2+1])*(255/65535))}var b=e.U(f*4);
new Uint32Array(b.buffer).fill(4278190080);if(S){e.lI(k.pop(),b,3);x--}if(x==0){}else if(x==1)e.K0(k[0],b);
else{e.lI(k[0],b,0);e.lI(k[1],b,1);if(x>2){e.lI(k[2],b,2);if(x>3){this.GF=[];for(var I=3;I<x;I++){var i=new X.wy;
i.name="Alpha "+(I-2);i.rect=new fA(0,0,P,w);i.channel=k[I];this.GF.push(i)}}}}return b};function j8(o,P,w){kl.call(this);
this.Z=J.k("div","");this.VB=o;this.us=null;this.MW=P==null?!1:P;this.Lg=null;this.B2=w;this.a6F=[];
this.Ue=[];this.t3=[];this.r9=[];this.ZG=0;this.us=this.av0(j8.r9[o]);this.Ir();this.ed=null;this.a1P;
this.aAJ}j8.prototype=new kl;j8.prototype.aE=function(o,P,w,x,z){this.ed=z;this.a1P=JSON.parse(JSON.stringify(this.Lg));
if(this.us.lagl)this.aAJ=this.us.lagl.m()[0]};j8.prototype.Dv=function(o,P,w,x,z){var S=this.ed,k=this.VB,f=this.a1P;
if(S==null)return;var C=(z.x-S.x)/o.s.D,H=(z.y-S.y)/o.s.D;if(k=="GrFl"){var b=JSON.parse(JSON.stringify(f.Ofst.v));
b.Hrzn.v.val+=C*.5;b.Vrtc.v.val+=H*.5;this.us.Ofst.O(b,!0)}if(k=="patternFill"){var b=JSON.parse(JSON.stringify(f.phase.v));
b.Hrzn.v+=C;b.Vrtc.v+=H;this.us.phase.O(b,!0)}if(k=="DrSh"||k=="IrSh"||k=="ChFX"){var i=f.Dstn.v.val,M=this.aAJ*Math.PI/180,T=-Math.cos(M)*i+C,O=Math.sin(M)*i+H;
this.us.Dstn.O(Math.sqrt(T*T+O*O),!0);this.us.lagl.O([Math.atan2(O,-T)*180/Math.PI],!0)}};j8.prototype.I2=function(o,P,w,x,z){this.ed=null};
j8.prototype.aEn=function(){for(var I=0;I<this.r9.length;I++){J.hC(this.r9[I],"selected");if(this.t3[I]instanceof f5)this.t3[I].O(!1)}};
j8.prototype.aHa=function(o){var P=this.afV.bind(this);for(var I=0;I<this.t3.length;I++){var w=J.k("div","listitem");
this.r9.push(w);if(I>0)w.textContent="\u2003";w.appendChild(this.t3[I].Z);if(iR.ail.indexOf(this.VB)!=-1){var x=new eN("+");
x.UL();x.Z.style.float="right";w.appendChild(x.Z);var z=new eN("\u2B0D");z.UL();z.Z.style.float="right";
z.Z.style["margin-right"]="2px";w.appendChild(z.Z)}w.addEventListener("click",P,!1);o.appendChild(w)}};
j8.Hx=function(o,P){var w=P.getBoundingClientRect();return(o.clientY-w.top)/w.height};j8.prototype.afV=function(o){var P=o.target.tagName.toLowerCase();
if(P=="input"){return}if(P=="button"){var w=new bO(G.E.z,!0),x=o.target.textContent=="+",z=x?0:j8.Hx(o,o.target)<.5?-1:1;
if(x)w.data={Q:"st_dupsingle",r:this.parent.data.r,QB:this.B2};else w.data={Q:"st_movsingle",r:this.parent.data.r,QB:this.B2,a4Y:z};
w.I=N.dX;w.N8=!0;this.j(w);w=new bO("redrawall",!0);w.data={a4Y:z};this.j(w);return}J._1(o);this.up();
this.ZG=this.r9.indexOf(o.currentTarget);this.j(new bO("showme"))};j8.prototype.up=function(){if(this.us.enab&&this.us.enab.m()==!1)this.fQ({G_:"enab",P:!0})};
j8.prototype.atL=function(){var o=this.r9[this.ZG];if(o)J.HT(o,"selected");return this.Ue[this.ZG]};
j8.prototype.av0=function(o){var P={};for(var I=0;I<o.length;I++){var w=o[I],x=null;if(w=="----")x={Z:J.k("hr")};
if(w=="\n")x={Z:J.k("br")};if(w=="blOptions")x=new jH([14,10]);if(w=="brst")x=new fs([12,72],["R","G","B"]);
if(w=="knko")x=new f7("Knockout",[[13,1,0],"Shallow","Deep"]);if(w=="enab")x=new f5(iR.names[iR.order.indexOf(this.VB)]);
if(w=="lrMd"||w=="Md")x=new f7([12,19,0],jK.NR,jK.jX);if(w=="Opct")x=this.MW?new f6([12,0],0,100,"%"):new kU([12,0],0,100,"%");
if(w=="iOpa")x=new kU([12,26],0,100,"%");if(w=="blIf")x=new jE;if(w=="ShdN")x=new kU([12,68],0,100,"%");
var z=this.VB=="St3D"&&w=="lagl";if(w=="lagl"||w=="Angl")x=new i7(z?"Light":[12,15],this.VB=="ebbl"||z);
if(w=="uglg")x=new f5([12,27]);if(w=="Dstn")x=new kU([12,28],0,200,"px");if(w=="Ckmt")x=new kU([12,29],0,100,"%");
if(w=="Srnk")x=new kU("Shrink",0,100,"%");if(w=="Drkn")x=new kU("Darken",0,100,"%");if(w=="blur")x=new kU([12,14,0],0,200,"px");
if(w=="TrnS"||w=="MpgS")x=new dG([12,21]);if(w=="Nose")x=new kU([12,30],0,100,"%");if(w=="layerConceals")x=new f5([12,31]);
if(w=="Cntn")x=new f5([12,25,4]);if(w=="AntA"||w=="antialiasGloss")x=new f5([12,25,1]);if(w=="GlwT")x=new f7([12,32],iR.EZ.names);
if(w=="glwS")x=new f7([12,70],iR.EZ.aqW);if(w=="Inpr")x=new kU([12,12],1,100,"%");if(w=="bvlS")x=new f7([12,22],iR.K_.style);
if(w=="bvlT")x=new f7([12,32],iR.K_.aBS);if(w=="bvlD")x=new f7(null,iR.K_.dir);if(w=="srgR")x=new kU([12,34],0,1e3,"%");
if(w=="Sftn")x=new kU([12,35],0,20,"px");if(w=="Lald")x=P.lagl;if(w=="hglM"||w=="sdwM")x=new f7([12,36],jK.NR,jK.jX);
if(w=="hglC"||w=="sdwC")x=new fN;if(w=="hglO"||w=="sdwO")x=new kU([12,0],0,100,"%");if(w=="Invr"||w=="InvT")x=new f5([4,11]);
if(w=="overprint")x=new f5("Overprint");if(w=="Sz")x=new kU([12,14,0],1,200,"px");if(w=="Styl")x=new f7([12,40],iR.stroke.names);
if(w=="PntT")x=new f7([12,66],iR.stroke.a8q);if(w=="Clr")x=new fN(!0);if(w=="Grad"){x=new jU(!0,this.MW?null:[12,37],!0);
x.O(JSON.parse(iR.GV.aAz).v)}if(w=="Rvrs")x=new f5([12,23,0]);if(w=="Dthr")x=new f5([12,23,3]);if(w=="Type")x=new f7(this.MW?null:[12,22],iR.G.names.slice(0,this.VB=="FrFX"?6:5));
if(w=="Ptrn")x=new fH([12,62]);if(w=="Scl")x=new kU([12,38],5,500,"%",0,!0);if(w=="Algn")x=new f5([12,39]);
if(w=="Ofst")x=new bl(!0);if(w=="phase")x=new bl(!1);if(w=="useShape")x=new f5([12,21]);if(w=="useTexture")x=new f5([12,67]);
if(w=="textureDepth")x=new kU([12,34],-300,300,"%");var S=w=="----"||w=="\n"?w+I:w;if(x!=null)P[S]=x}return P};
j8.prototype.ad5=function(o){var P=this.Ue[this.ZG];for(var I=0;I<o.length;I++){var w=this.us[o[I]];
if(w&&P.contains(w.Z))P.removeChild(w.Z)}};j8.prototype.ayX=function(o){var P=this.Ue[this.ZG];for(var I=0;
I<o.length;I++){var w=this.us[o[I]];if(w&&!P.contains(w.Z))P.appendChild(w.Z)}};j8.prototype.RU=function(o,P){if(this.us==null)return;
var w=P==eB.qU;if(this.us.Grad){this.us.Grad.Q6(o.AB,o.eI);if(w||P==eB.P6||P==eB.wr)this.us.Grad.Rj(o.EE)}if(this.us.Ptrn){if(w||P==eB.OK)this.us.Ptrn.Rj(o.a2)}if(this.us.TrnS){if(w||P==eB.Z9)this.us.TrnS.Rj(o.vi)}if(this.us.MpgS){if(w||P==eB.Z9)this.us.MpgS.Rj(o.vi)}};
j8.prototype.S=function(){for(var I=0;I<this.a6F.length;I++)this.a6F[I].S();for(var o in this.us)if(this.us[o]instanceof kl)this.us[o].S()};
j8.prototype.Ir=function(){for(var o in this.us){var P=this.us[o];P.parent=this;if(P instanceof kl)P.J(G.E.w,this.aCA,this);
if(this.Ue.length==0||o=="useShape"||o=="useTexture"){var w=new jH(P.avw()),x=J.k("div","bordered padded");
if(this.MW==!1){x.appendChild(w.Z);x.appendChild(J.k("hr",""))}this.a6F.push(w);this.Ue.push(x);this.t3.push(P)}else this.Ue[this.Ue.length-1].appendChild(P.Z)}};
j8.prototype.update=function(o,P){if(this.us==null)return;this.Lg=JSON.parse(JSON.stringify(P));for(var w in P){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(w)!=-1)this.us[w].O(P[w].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(w)!=-1){this.us[w].O(P[w].v,o)}if(["Md","hglM","sdwM"].indexOf(w)!=-1)this.us[w].O(jK.VB.indexOf(P[w].v.BlnM));
if(w=="lrMd"){var x=(P.Pe?[[15,10,27]]:[]).concat(jK.NR),z=(P.Pe?[1]:[]).concat(jK.jX);this.us[w].Cp(x,z);
this.us[w].O(P[w].v)}if(w=="Angl")this.us[w].O([P[w].v.val]);if(w=="lagl"){var S=P.uglg&&P.uglg.v?o.t8():P.lagl.v.val;
this.us[w].O([S])}if(w=="Lald"){var S=P.uglg&&P.uglg.v?o.KP():P.Lald.v.val;this.us[w].O([null,S])}if(w=="Type")this.us[w].O(iR.G.types.indexOf(P.Type.v.GrdT));
if(w=="Styl")this.us[w].O(iR.stroke.types.indexOf(P.Styl.v.FStl));if(w=="PntT"){var k=iR.stroke.$Q.indexOf(P.PntT.v.FrFl);
this.us[w].O(k);if(!this.MW){this.ad5(iR.pL.concat(iR.d$.concat(iR.pg)));this.ayX([iR.pL,iR.d$,iR.pg][k])}}if(w=="GlwT")this.us[w].O(iR.EZ.types.indexOf(P.GlwT.v.BETE));
if(w=="glwS")this.us[w].O(iR.EZ.aE7.indexOf(P.glwS.v.IGSr));if(w=="bvlS")this.us[w].O(iR.K_.types.indexOf(P.bvlS.v.BESl));
if(w=="bvlT")this.us[w].O(iR.K_.a9I.indexOf(P.bvlT.v.bvlT));if(w=="bvlD")this.us[w].O(["In","Out"].indexOf(P.bvlD.v.BESs))}};
j8.prototype.aCA=function(o){for(var P in this.us){if(this.us[P]!=o.target)continue;var w=null,x=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(P)!=-1)w={type:"#Prc",val:o.target.m()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(P)!=-1)w={type:"#Pxl",val:o.target.m()};if(["Angl","lagl"].indexOf(P)!=-1)w={type:"#Ang",val:o.target.m()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(P)!=-1)w=o.target.m();
if(["Md","hglM","sdwM"].indexOf(P)!=-1)w={BlnM:jK.VB[o.target.m()]};if(P=="uglg"){w=o.target.m();x=!0}if(P=="PntT"){w={FrFl:iR.stroke.$Q[o.target.m()]};
x=!0}if(P=="Lald")w={type:"#Ang",val:o.target.m()[1]};if(P=="Type")w={GrdT:iR.G.types[o.target.m()]};
if(P=="Styl")w={FStl:iR.stroke.types[o.target.m()]};if(P=="GlwT")w={BETE:iR.EZ.types[o.target.m()]};
if(P=="glwS")w={IGSr:iR.EZ.aE7[o.target.m()]};if(P=="bvlS")w={BESl:iR.K_.types[o.target.m()]};if(P=="bvlT")w={bvlT:iR.K_.a9I[o.target.m()]};
if(P=="bvlD")w={BESs:["In","Out"][o.target.m()]};this.fQ({G_:P,P:w});if(x){if(this.MW)this.update(null,this.Lg);
else{var z=this.parent,S=z.lg,k=this.B2,f=S.R[z.data.r].add.lmfx[iR._7[k[0]]].v[k[1]].v;this.update(S,f)}}}};
j8.prototype.fQ=function(o){if(this.Lg&&this.Lg[o.G_])this.Lg[o.G_].v=o.P;if(this.MW){this.j(new bO(G.E.w))}else{o.Q="changeprop";
o.r=this.parent.data.r;o.BG=this.B2;var P=new bO(G.E.z,!0);P.data=o;P.I=N.dX;P.N8=!0;this.j(P);this.j(new bO("afterchange",!0))}};
j8.prototype.m=function(){return JSON.parse(JSON.stringify(this.Lg))};j8.r9={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(iR.pL),GrFl:["enab","Md","Opct"].concat(iR.d$),patternFill:["enab","Md","Opct"].concat(iR.pg),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(iR.pL.concat(iR.d$.concat(iR.pg)))};
function eq(){a8.call(this,[11,6],"layerstyle");this.aeD=-1;this.data={};this.lg=null;this.r7=null;this.Q2=[];
this.HD=[];J.HT(this.body,"flexrow");this.fa=J.k("div","bordered");this.fa.setAttribute("style","min-width:13em;");
this.body.appendChild(this.fa);this.tL=J.k("div","");this.tL.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.tL);this.k5=J.k("div","form");this.k5.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.k5);this.ZN=J.hB(this,this.k5);this.a9R=new eN([12,87],!0,null,!0);this.a9R.J("click",this.a87,this);
this.k5.appendChild(this.a9R.Z);this.jL=new bB;this.jL.parent=this;this.jL.J(G.E.w,this.al8,this);this.k5.appendChild(this.jL.Z);
this.J("closebtn",this.Hf,this);this.J("redrawall",this.au6,this)}eq.prototype=new a8;eq.prototype.vo=function(){return!0};
eq.prototype.RE=function(){return!0};eq.prototype.aE=function(o,P,w,x,z){var S=this.bw();if(S)S.aE(o,P,w,x,z)};
eq.prototype.Dv=function(o,P,w,x,z){var S=this.bw();if(S)S.Dv(o,P,w,x,z)};eq.prototype.I2=function(o,P,w,x,z){var S=this.bw();
if(S)S.I2(o,P,w,x,z)};eq.prototype.bw=function(o){if(o==null)o=this.data.index;return o==null?null:o==0?this.Q2[0]:this.HD[o[0]][o[1]]};
eq.prototype.al8=function(o){var P=this.jL.m();this.fQ({Q:"setstl",P:P.M6});this.au6(null)};eq.prototype.a87=function(o){var P=this.lg,w=this.data.r;
if(w==null)w=P.T[0];var x=this.lg.R[w],z=iO.agF(x),S=new bO(G.E.X,!0);S.data={Q:G.l.CA,Cw:"add",JL:eB.HM,rc:[JSON.parse(JSON.stringify(z))]};
this.j(S)};eq.prototype.ajt=function(o){this.data.index=o.currentTarget.B2;this.cf(o.currentTarget.B2)};
eq.prototype.au6=function(o){this.fi(this.lg,this.data)};eq.prototype.cf=function(o,P){J.eg(this.tL);
for(var I=0;I<this.Q2.length;I++)this.Q2[I].aEn();var w=this.bw(o);this.tL.appendChild(w.atL());if(P)w.up();
var x=this.lg;if(x){var z=x.R[this.data.r];this.Q2[0].update(x,N._V.uT(x,z));var S=z.add.lmfx;if(S==null)return;
for(var I=0;I<iR.order.length;I++){var k=S[iR._7[I]].v;for(var f=0;f<k.length;f++)this.HD[I][f].update(x,k[f].v)}}if(P)w.up()};
eq.prototype.S=function(){a8.prototype.S.call(this);this.a9R.S();this.jL.S();this.ZN.S();for(var I=0;
I<this.Q2.length;I++)this.Q2[I].S()};eq.prototype.fi=function(o,P){var w=P.r==null;this.data.r=P.r;this.data.index=P.index;
P=this.data;this.lg=o;if(w)P.r=o.T.length==0?o.R.length-1:o.T[0];J.eg(this.fa);var x=o.R[P.r].add.lmfx;
this.tx();this.Q2=[new j8("bops",!1,0)];this.HD=[];for(var I=0;I<iR.order.length;I++){this.HD.push([]);
var z=x==null?[]:x[iR._7[I]].v;for(var S=0;S<z.length;S++){var k=new j8(iR.order[I],!1,[I,S]);this.Q2.push(k);
this.HD[I].push(k)}if(z.length==0){var k=new j8(iR.order[I],!1,[I,0]);this.Q2.push(k);this.HD[I].push(k)}}this.S();
this.aGk(this.r7,eB.qU);for(var I=0;I<this.Q2.length;I++){this.Q2[I].parent=this;this.Q2[I].aHa(this.fa);
this.Q2[I].J("showme",this.ajt,this)}if(P.index==null||P.index==0||!w&&x[iR._7[P.index[0]]].v.length==0){this.cf(0)}else this.cf(P.index,w);
this.J("afterchange",this.tx,this)};eq.prototype.tx=function(o){var P=this.lg,w=this.data.r;if(w==null)w=P.T[0];
var x=this.lg.R[w],z=iO.agF(x);this.jL.O(z,P.add.Patt?P.add.Patt:[],P.t8(),P.KP())};eq.prototype.RU=function(o,P){this.r7=o;
this.aGk(o,P);if(P==eB.HM||P==eB.qU){this.jL.Rj([o.Wt,o.a2])}if(P==eB.sv){}};eq.prototype.aGk=function(o,P){for(var I=0;
I<this.Q2.length;I++)this.Q2[I].RU(o,P)};eq.prototype.Hf=function(o){this.fQ({Q:"cancel"})};eq.prototype.kJ=function(o){this.fQ({Q:"confirm"});
this.close()};eq.prototype.fQ=function(o){o.r=this.data.r;var P=new bO(G.E.z,!0);P.data=o;P.I=N.dX;P.N8=!0;
this.j(P);this.tx()};eq.abY=function(){var o=function(P){if(P==null||P.T.length==0)return{B:!1};var w=P.R[P.T[0]];
return{B:w.add.lmfx!=null}};return{name:[11,6],Pd:!0,sub:[{name:[5,1],B:o},{name:[5,2]},{name:[2,2],B:o}]}};
eq.aAA=function(){return{sub:[{K:G.E.z,I:N.dX,o:{Q:"st_copy"}},{K:G.E.z,I:N.dX,o:{Q:"st_paste"}},{K:G.E.z,I:N.dX,o:{Q:"st_clear"}}]}};
eq.JH=function(o){var P=[{name:[14,10],Pd:!0}];for(var I=0;I<iR.names.length;I++)P.push({name:iR.names[I]});
if(o){P[P.length-1].Pd=!0;P.push(eq.abY());P.push({name:[6,30,1],B:function(w){return{B:w!=null&&w.T.length!=0&&w.R[w.T[0]].yT()}}});
P.push({name:["VAR0 VAR1",[12,49],[9,1]],B:function(w){return{B:w!=null&&w.T.length!=0&&w.R[w.T[0]].add.lmfx!=null}}})}return P};
eq.zU=function(o){var P=[{K:G.E.X,o:{Q:G.l.y7,hq:"layerstyle"}}];for(var I=0;I<iR.names.length;I++)P.push({K:G.E.X,o:{Q:G.l.y7,hq:"layerstyle",index:[I,0]}});
if(o){P.push(eq.aAA());P.push({K:G.E.X,o:{Q:G.l.y7,hq:"scaleeffects",Lz:100,o0:{K:G.E.z,I:N.dX,o:{Q:"scaleeffects"}}}});
var w={classID:"Mk",null:h7.TZ("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
P.push({K:G.E.qc,o:{wQ:"make",WP:w}})}return P};eq.a8A=function(o){var P=[];if(o)P.push({name:[6,48,0,0],Na:!0},{name:[6,48,0,1],Na:!0},{name:[6,48,0,2],Na:!0,Pd:!0});
for(var w in ft.names)P.push({name:ft.names[w],Pd:ft.a9G.indexOf(w)!=-1,Na:cq[w]!=null});return P};eq.LR=function(o){var P=[];
if(o){P.push({K:G.E.z,I:N.Oa,o:{Q:"newfill",Ct:0}});for(var I=1;I<3;I++)P.push({K:G.E.qc,o:N.Qy.pZ(I)})}for(var w in ft.names){var x=cM.bS(w);
if(x==null)x={};for(var z in ft.oz)if(ft.oz[z]==w)x.classID=z;var S={wQ:"make",WP:{classID:"Mk",null:h7.TZ("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:x}}}}};
P.push({K:G.E.qc,o:S})}return P};function gQ(){a8.call(this,"Merge Channels","mergechannels");this._w=null;
var o=J.k("div","form");this.body.appendChild(o);this.Nn=[];for(var I=0;I<3;I++){var P=new f7(ft.uI[I],[]);
this.Nn.push(P);o.appendChild(P.Z);J.jB(o)}this.ZN=J.hB(this,o)}gQ.prototype=new a8;gQ.prototype.S=function(){a8.prototype.S.call(this);
this.ZN.S();for(var I=0;I<3;I++)this.Nn[I].S()};gQ.prototype.fi=function(o,P,w,x){this._w=w;var z=[];
for(var I=0;I<w.length;I++)z.push(w[I].name);for(var I=0;I<3;I++){var S=this.Nn[I];S.Cp(z);S.O(Math.min(I,w.length-1))}};
gQ.prototype.kJ=function(o){var P=this._w,w=P[0],x=new bO(G.E.qc,!0);x.data=da.zX(w.q,w._,w.vz,"Merged Document","Wht",!1);
this.j(x);var z=[];for(var I=0;I<3;I++)z.push(P[this.Nn[I].m()].Ey());var w=P[P.length-1],S=w.R[0],k=S.buffer;
for(var I=0;I<k.length;I+=4){k[I]=z[0][I];k[I+1]=z[1][I];k[I+2]=z[2][I]}S.N();w.N();this.close()};function gH(){a8.call(this,[1,10],"script");
var o=J.k("div","form");o.setAttribute("style","width:44em");this.body.appendChild(o);this.r7=null;this.jR=[];
this.YC=[];this.a1O;var P=this.Sr=new eN([1,2],!1,null,!0);P.J("click",this.SR,this);o.appendChild(P.Z);
var w=new eN("JS Reference",!1,null,!0);w.J("click",this.az8,this);o.appendChild(w.Z);o.appendChild(new jH("Demos:").Z);
this.aaX=[];var x=gH.Ut;for(var I=0;I<x.length;I++){var z=new eN(x[I].xx,!1,null,!0);this.aaX.push(z);
o.appendChild(z.Z);z.J("click",this.aqi,this)}this.zD=J.k("textarea");J.Kw(this.zD);this.zD.setAttribute("rows",16);
this.zD.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");o.appendChild(this.zD);
var S=new eN("Run",!0,null,!0);S.J("click",this.kJ,this);o.appendChild(S.Z);this.iN=J.k("div");o.appendChild(this.iN)}gH.prototype=new a8;
gH.prototype.S=function(){this.Sr.S()};gH.prototype.SR=function(){var o=this.a1O;if(o==null)o="script.jsx";
var P=new bO(G.E.X,!0);P.data={Q:G.l.y7,hq:"namewindow",Lz:o.slice(0,o.length-4),eA:this.alB.bind(this)};
this.j(P)};gH.prototype.alB=function(o){var P=this.zD.value,w=L.$f(P),x=new bO(G.E.X,!0);x.data={Q:G.l.mF,aT:w.buffer,uD:o+".jsx",ac$:!0};
this.j(x)};gH.prototype.a5q=function(o){var I=this.jR.indexOf(o.target),P=this.a1O=this.YC[I],w=this.r7.Ce.aU[P],x=new Uint8Array(w),z=L.bR(x,0,x.length);
this.zD.value=z};gH.prototype.fi=function(o,P,w){this.zD.value=gH.Ut[0].$p;this.agc()};gH.prototype.agc=function(){var o=this.r7.Ce,P=this.iN;
J.eg(P);this.jR=[];this.YC=[];P.textContent="Saved scripts: ";for(var w in o.aU){if(w.endsWith(".jsx")){var x=new eN(w,!1,null,!0);
this.jR.push(x);this.YC.push(w);x.J("click",this.a5q,this);P.appendChild(x.Z)}}};gH.prototype.RU=function(o,P){this.r7=o;
if(P==eB.Io)this.agc()};gH.prototype.az8=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.Dj,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.j(P)};gH.prototype.kJ=function(o){var P=this.zD.value,w=this.r7.Ce.aU;P=gH.aj5(P,w);var x=new bO(G.E.X,!0);
x.data={Q:G.l.JW,Ee:P};this.j(x)};gH.aj5=function(o,P){var w=o.split("\n");for(var I=0;I<w.length;I++){var x=w[I].trim();
if(x.startsWith("#include")){var z=x.slice(x.indexOf("\"")+1,x.lastIndexOf("\"")),S=P[z];if(S==null)alert("\""+z+"\" not found in the Local Storage");
w[I]=gH.aj5(L.bR(new Uint8Array(S)),P)}}return w.join("\n")};gH.prototype.aqi=function(o){var P=this.aaX.indexOf(o.currentTarget);
this.zD.value=gH.Ut[P].$p};gH.Ut=[{xx:"Hello",$p:"\nalert(\"Hello Photopea!\");\n"},{xx:"Process Layers",$p:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{xx:"Clone Layers",$p:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function hW(){a8.call(this,[11,7],"newproject");this.data=null;this._w=null;this.Ba=0;var o=J.k("div","flexrow");
this.S5=o;this.body.appendChild(o);var P=J.k("div","form");this.w$=P;o.appendChild(P);this.jb=new iU([12,48],null,10);
P.appendChild(this.jb.Z);J.jB(P);this.NA=new jO(!0,null,null,null,!0);this.NA.O(new eD(1280,720),72);
if(bn==1){this.NA.O(new eD(8.3*300,11.7*300),300);this.NA.sa(4)}this.NA.a9e(!0,!0);this.NA.J(G.E.w,this.T8,this);
P.appendChild(this.NA.Z);this.Vl=new j6;this.Vl.parent=this;if(bn==0)P.appendChild(this.Vl.Z);this.Ej=new eN("\u02C5",null,[0,14],!0);
this.Ej.J("click",this.Mg,this);if(bn==0)P.appendChild(this.Ej.Z);var w=this.oa=J.k("span");P.appendChild(w);
w.style.display="none";this.azn=new f7([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);w.appendChild(this.azn.Z);
this.ayk=new f5([1,16,1]);w.appendChild(this.ayk.Z);this.ZN=new eN([12,49],!0,null,!0);this.ZN.J("click",this.kJ,this);
P.appendChild(this.ZN.Z);var x=hW.p5,z=[];for(var I=0;I<x.length;I++)z.push(x[I].name);this.u6=new kp(null,z);
this.u6.J(G.E.w,this.aHm,this);P.appendChild(this.u6.Z);this.u6.Z.style["margin-top"]="1em";this.Xr=new hr(!0);
this.Xr.J(G.E.w,this.aDN,this);P.appendChild(this.Xr.Z);this.aHm();this.ZZ=new kN;this.ZZ.parent=this;
this.ZZ.Z.setAttribute("style","margin-left:1em");this.ZZ.J("tempready",this.aaA,this)}hW.prototype=new a8;
hW.prototype.Mg=function(o){var P=this.oa,w=P.style.display!="none";P.style.display=w?"none":"";this.Ej.ld(w?"\u02C5":"\u02C4");
this.sH(this.V,this.Y)};hW.prototype.RU=function(o,P){this.ZZ.RU(o)};hW.prototype.pe=function(o,P){return new eD(Math.max(0,Math.min(70,(o-690)/2)),o>P?Math.max(0,Math.min(50,(P-400)/2)):0)};
hW.prototype.sH=function(o,P){this.V=o;this.Y=P;this.w$.setAttribute("style","width:"+Math.min(o-24,338)+"px");
this.Xr.Z.style.height=P-248-(this.oa.style.display=="none"?0:28)+(bn==0?0:28)+"px";var w=this.ZZ.Z,x=w.parentNode;
if(o<500){if(x!=null)this.S5.removeChild(w)}else{if(x==null)this.S5.appendChild(w);this.ZZ.sH(o-378,P-28)}};
hW.prototype.T8=function(){this.ZZ.O(this.NA.m())};hW.prototype.aDN=function(o){var P=this.Xr.m()[0],w=hW.p5[this.u6.m()].pA[P],x=w[4];
if(x==0)x=72;var z=w[1],S=w[2],k=["px","%","mm","in"].indexOf(w[3]),f=[1,1,25.4/x,1/x][k];z/=f;S/=f;
this.NA.O(new eD(Math.round(z),Math.round(S)),x);this.NA.sa(k);this.T8();if(Date.now()-this.Ba<300)this.kJ();
this.Ba=Date.now()};hW.prototype.aHm=function(o){var P=hW.p5[this.u6.m()].pA,w=[],x=[],z=Math.round(106*J.M()),S=Math.round(106*J.M()),k=0;
for(var I=0;I<P.length;I++)k=Math.max(k,P[I][1],P[I][2]);for(var I=0;I<P.length;I++){var f=P[I],C=f[1]+" x "+f[2]+" "+f[3];
if(f[3]=="in")C=(f[1]*25.4).toFixed(0)+" x "+(f[2]*25.4).toFixed(0)+" mm";if(f[3]=="mm")C=(f[1]/25.4).toFixed(1)+" x "+(f[2]/25.4).toFixed(1)+" in";
if(f[4])C=C+" @ "+f[4]+" ppi";x.push(C);w.push(hW.Tu(f,z,S,k))}this.Xr.jW(w,x,z,S)};hW.Tu=function(o,P,w,x){var z=J.k("canvas",""),S=z.getContext("2d");
z.width=P;z.height=w;var k=Math.round(P/8),f=Math.floor(11*J.M()),C=o[1],H=o[2];S.fillStyle="#000000";
S.font=Math.round(f*.9)+"px \"Open Sans\", Sans-Serif";var b=C+" x "+H+" "+o[3],i=S.measureText(b);S.fillText(b,Math.round((P-i.width)/2),w-Math.round(k/2));
if(o[0]!=null){S.font="bold "+f+"px \"Open Sans\", Sans-Serif";var b=o[0],i=S.measureText(b);S.fillText(b,Math.round((P-i.width)/2),w-Math.round(k/2)-Math.round(f*1.3))}w-=Math.round(2.5*f);
var M=Math.min((P-k)/C,(w-k)/H);M*=.5+.5*(Math.max(C,H)/x);var T=(P-C*M)/2,O=(w-H*M)/2;S.strokeRect(Math.round(T)+.5,Math.round(O)+.5,Math.round(C*M),Math.round(H*M));
return z.toDataURL()};hW.prototype.S=function(){a8.prototype.S.call(this);this.NA.S();this.jb.S();this.Vl.S();
this.ZN.S();this.jb.O(kQ.get([11,7]));this.u6.S();this.ayk.S();this.Ej.S();this.ZZ.S()};hW.prototype.kJ=function(o){var P=this.NA.m(),w=P.x,x=P.y;
this.close();var z=this.Vl.m(),S=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.azn.m()],k=new bO(G.E.qc,!0);
k.data=da.zX(w,x,this.NA.lr(),this.jb.m(),["Wht","Blck","Trns","Clr"][z[0]],this.ayk.m(),z[1],S);this.j(k);
this.atF()};hW.prototype.aaA=function(o){var P=o.data.lg;P.vz=this.NA.lr();var w=new bO(G.E.X,!0);w.data={Q:G.l.cA,lg:P};
this.j(w);this.close();this.atF()};hW.prototype.atF=function(){var o=this._w[this._w.length-1],P=this.data.ahF;
if(P)h$.Bf(function(){var w=new XMLHttpRequest,x="https://www.googleapis.com/drive/v3/files?"+h$.amy();
w.open("POST",x,!0);w.setRequestHeader("Content-Type","application/json");w.addEventListener("load",function(z){var S=JSON.parse(z.target.response);
o.Uh={file:S,c1:"psd"};alert(o.name+" created in Google Drive")});w.send(JSON.stringify({name:o.name,ao1:[P]}))})};
hW.prototype.fi=function(o,P,w,x){this._w=w;if(o!=null&&o.e!=null){var z=new fA(0,0,o.q,o._).SN(o.e.rect);
this.NA.O(new eD(z.q,z._))}this.data=P;this.T8();if(J.GJ())b_.a1n(this.kl.bind(this))};hW.prototype.kl=function(o){if(o=="granted")b_.TC(this,this.oo.bind(this))};
hW.prototype.oo=function(o,P){this.NA.O(new eD(P.q,P._))};hW.p5=[{name:"Social",pA:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],pA:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],pA:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],pA:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],pA:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],pA:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",pA:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function f1(o,P,w){a8.call(this,P,"sel_"+o);this.Q=o;var x=J.k("div","form");this.body.appendChild(x);
this.jb=new f6(P,0,255,null,0,!1,!0);x.appendChild(this.jb.Z);this.jb.O(1);var z=J.k("span");z.textContent=w;
x.appendChild(z);J.jB(x);this.ade=new f5("Apply at canvas bounds");if(o!="border")x.appendChild(this.ade.Z);
this.ZN=J.hB(this,x)}f1.prototype=new a8;f1.prototype.ry=function(o,P){if(o==null)return;if(o.e==null)alert("No selection!");
return o.e!=null};f1.prototype.kJ=function(o){var P=new bO(G.E.qc,!0);P.data=N.z$.wg(this.Q,this.jb.m(),this.ade.m());
P.N8=!0;this.j(P);this.close()};f1.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();if(this.jb)this.jb.S()};
f1.prototype.fi=function(o,P){this.jb.W7()};function jp(o,P,w,x,z,S){a8.call(this,w,P);this.aaY=S;this.yB=z;
this.p5=null;this.w$=J.k("div","form");this.body.appendChild(this.w$);this.akC=J.k("div");this.w$.appendChild(this.akC);
var k=500;if(x){var f=x.split(",");x=f[0];if(f[1])k=parseFloat(f[1])}this.jb=o==0?new iU(w,null,10):o==1?new kU(w,0,k,x,1):new iU(w,null,24,5);
this.jb.J(G.E.w,this.WR,this);this.w$.appendChild(this.jb.Z);this.ZN=J.hB(this,this.w$);this.J("closebtn",this.Hf,this)}jp.prototype=new a8;
jp.prototype.pe=function(o,P){return new eD(Math.max(0,Math.min(150,(o-250)/2)),Math.max(0,Math.min(150,(P-120)/2)))};
jp.prototype.vo=function(){return this.aaY};jp.prototype.WR=function(o){var P=this.jb.m();if(this.yB)this.ix(P)};
jp.prototype.Hf=function(o){if(this.yB)this.ix("cancel")};jp.prototype.kJ=function(o){if(this.yB)this.ix("confirm");
else this.ix(this.jb.m());this.close()};jp.prototype.ix=function(o){if(this.p5.eA)this.p5.eA(o);else if(this.p5.o0){var P=this.p5.o0,w=new bO(P.K,!0);
w.I=P.I;w.data=P.o;w.data.P=o;w.N8=!0;this.j(w)}};jp.prototype.S=function(){a8.prototype.S.call(this);
this.ZN.S();if(this.jb)this.jb.S()};jp.prototype.fi=function(o,P){this.p5=P;this.jb.O(P.Lz);this.jb.W7();
this.akC.innerHTML=P.ahc?P.ahc:"";this.WR(null)};function b5(){a8.call(this,[1,5],"open_from_url");this.ca=null;
var o=J.k("div","form");this.body.appendChild(o);this.ad1=new iU("URL",null,22);o.appendChild(this.ad1.Z);
J.jB(o);this.axs=new kp([21,0],[[21,2],[21,1]]);o.appendChild(this.axs.Z);this.ZN=J.hB(this,o)}b5.prototype=new a8;
b5.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();this.axs.S()};b5.prototype.fi=function(o,P,w){this.ad1.W7();
this.ca=null;if(o&&w.indexOf(o)!=-1)this.ca=w.indexOf(o)};b5.prototype.kJ=function(o){var P=new bO(G.E.X,!0),w=this.ad1.m();
P.data={Q:G.l.xj,JL:{url:w,dI:!0,ca:this.axs.m()==1?this.ca:null}};this.j(P);this.close()};function bJ(){a8.call(this,[12,79],"preferences");
this.r7=null;var o=J.k("div","form");this.body.appendChild(o);this.r9=[new f5([8,2]),new fN,new fN,new f5([8,4]),new fN,new f7([12,80,3],[[12,93,3],[12,80,4]]),new kU([12,80,5],.02,100,null,2),new f7(null,e.PX.WK),new f7([12,80,6],e.PX.WK),new f5("Remind me to save"),new f5("Glass Menus"),new kU("Cursor Offset",0,200)];
for(var I=0;I<this.r9.length;I++){var P=this.r9[I];P.parent=this;P.J(G.E.w,this.cu,this);if(I==9)continue;
if(I==2){var w=new jH("Local guides:");o.appendChild(w.Z)}o.appendChild(P.Z);if(I!=0&&I!=1&&I!=3&&I!=4&&I!=6)J.jB(o)}}bJ.prototype=new a8;
bJ.prototype.S=function(){a8.prototype.S.call(this);for(var I=0;I<this.r9.length;I++)this.r9[I].S()};
bJ.prototype.fi=function(o,P,w){};bJ.prototype.RU=function(o,P){this.r7=o;var w=o.Xp;this.r9[0].O(w.r_);
this.r9[1].bN(w.ep);this.r9[2].bN(w.g_);this.r9[3].O(w.u2);this.r9[4].bN(w.NM);this.r9[5].O(w.p1);this.r9[6].O(w.ft);
this.r9[7].O(w.jp);this.r9[8].O(w.Kc);this.r9[9].O(o.vC==1);var x=window.locStor.getItem("__glm");this.r9[10].O(x=="1");
this.r9[11].O(o.vt)};bJ.prototype.cu=function(o){var P=this.r9;if(o.target==P[9])this.r7.vC=1-this.r7.vC;
var w=JSON.parse(JSON.stringify(this.r7.Xp));w.r_=P[0].m();w.ep=P[1].gV();w.g_=P[2].gV();w.u2=P[3].m();
w.NM=P[4].gV();w.p1=P[5].m();w.ft=P[6].m();w.jp=P[7].m();w.Kc=P[8].m();window.locStor.setItem("__glm",P[10].m()?"1":"0");
this.r7.vt=P[11].m();var x=new bO(G.E.X,!0);x.data={Q:G.l.CA,JL:eB.Ua,OL:w};this.j(x)};function aN(){a8.call(this,[11,8],"saveforweb");
this.awK="";this.J("closebtn",function(){this.j_.pc()},this);this.lg=null;this.F_=null;this.a7o=null;
this.r7=null;J.HT(this.body,"flexrow");this.body.style.padding="0";var o=J.k("div");o.setAttribute("style","position:relative;");
var P=J.k("div");this.body.appendChild(o);this.body.appendChild(P);this.xm=J.k("div","imgcont");o.appendChild(this.xm);
this.j_=new hx;this.j_.sH(512,512);var w=this.Ql=J.k("video");w.setAttribute("controls","");w.setAttribute("preload","auto");
w.setAttribute("loop","");this.kG=J.k("div");this.kG.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
o.appendChild(this.kG);var x=this.w$=J.k("div","form cell");x.setAttribute("style","width:195px; padding:9px 13px;");
P.appendChild(x);this.Qg=new iU([12,48],null,7.6);this.Qg.HO();x.appendChild(this.Qg.Z);var z=eu.nG();
z[z.indexOf("WEBP")]="webP";this.jj=new f7([12,50],z);this.jj.Z.style.marginRight="0";this.jj.HO();x.appendChild(this.jj.Z);
this.jj.J(G.E.w,this.vF,this);J.jB(x);this.NA=new jO(!0,!0,!1,!0);this.NA.HO();this.NA.J(G.E.w,this.vF,this);
this.NA.kO.Z.style.paddingBottom="8px";x.appendChild(this.NA.Z);this.JZ=new cb;this.JZ.J(G.E.w,this.vF,this);
x.appendChild(this.JZ.Z);this._a=new eN([1,2],!0,null,!0);this._a.J("click",this.kJ,this);x.appendChild(this._a.Z)}aN.prototype=new a8;
aN.prototype.ry=function(o,P){return o!=null};aN.prototype.S=function(){a8.prototype.S.call(this);this.NA.S();
this.Qg.S();this.jj.S();this.JZ.S();this._a.S()};aN.prototype.kJ=function(o){var P=this.Qg.m().trim(),w=eu.nG()[this.jj.m()],x=w=="JPG"||w=="PNG"||w=="GIF"||w=="SVG"||w=="WEBP",z=eu.oi(w),S="."+w.toLowerCase(),k=this.F_,f=P+S,C=this.lg,H=C.zV,b=this.JZ.m();
if(C.M1())b.pop();var i=H.length!=0&&x?b.pop():0;if(i!=0){var M=[],T={},O=new fA(0,0,C.q,C._),Y=C.Ey();
for(var I=0;I<H.length;I++)M.push(N.H_.R$(H,I));M.reverse();var U=e.rect.aoa([0,0,C.q,C._],M),W=[];for(var I=0;
I<U.length;I++){var eK=""+(I+1);if(eK.length<2)eK="0"+eK;var t="images/"+P+"_"+eK+S;W.push(t);var _=U[I],n=new fA(_[0],_[1],_[2]-_[0],_[3]-_[1]);
if(i==2&&_[4]==null)continue;var y=e.U(n.c()*4);e.sR(Y,O,y,n);T[t]=new Uint8Array(z.D7([[y.buffer,0,C.vz,C.wz]],n.q,n._,b))}W.push("images/spacer.gif");
var F="<html>\n<head>\n<title>"+P+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
F+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
F+="<!-- Save for Web Slices ("+C.name+") -->\n";F+=e.rect.aCy(U,W,H,i)+"\n";F+="<!-- End Save for Web Slices -->\n";
F+="</body>\n</html>\n";var a=e.U(Math.round(F.length*1.5)),V=L.zl(F,a,0);T["index.html"]=a.slice(0,V);
k=UZIP.encode(T);f=P+".zip"}else if(C.aGm()&&x&&b.pop()){var D=[],O,Y;if(bn==0){O=new fA(0,0,C.q,C._);
Y=C.Ey();var l=C.root.children;for(var I=0;I<l.length;I++){var Q=l[I].r;if(Q.add.artb==null||!Q.ny())continue;
D.push([Q.getName(),Q.sK()])}}else{O=C.A_();Y=new Uint8Array(C.anb(this.r7));var m=C.add.arts;for(var I=0;
I<m.length;I++){var R=m[I];D.push([R.uD,e.a.RR(R.aR)])}}var T={};for(var I=0;I<D.length;I++){var $,R=D[I][1];
if(w=="SVG")$=new Uint8Array(z.D7(C,R.q,R._,b,this.r7,I));else{var p=e.U(R.c()*4);console.log(O,R);e.sR(Y,O,p,R);
$=new Uint8Array(z.D7([[p.buffer,0,C.vz,C.wz]],R.q,R._,b))}T[D[I][0]+S]=$}k=UZIP.encode(T);f=P+".zip"}var c=function(){if(C.eM)b_.tD("act=1&id="+C.eM);
this.j_.pc();this.close();var S=eu.nG()[this.jj.m()];jM.event("efmt_"+S.toLowerCase(),.1);var Z=new bO(G.E.X,!0);
Z.data={Q:G.l.Gd,data:k,name:f};this.j(Z)}.bind(this);if(!this.r7.AX||jM.lO()){c();return}var B=di.b1()!=0;
c();var Z=new bO(G.E.X,!0),v=ct.GG("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),E=ct.GG(";QJXQ_*II9"),g=function(){Z.data={Q:G.l.y7,hq:"account"};
this.j(Z)}.bind(this);if(B){v=ct.GG("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
g=function(){};E=null}Z.data={Q:G.l.y7,hq:ct.G2,P:v,eA:g,a7J:E};if(Math.random()<.1||B)this.j(Z)};aN.prototype.fi=function(o,P){if(P.pr!=null)this.jj.O(P.pr);
this.lg=o;var w=this.lg.name,x=w.lastIndexOf("."),w=x==-1?w:w.slice(0,x);this.Qg.O(w);var z=o.q,S=o._;
if(bn==1){var k=o.A_();z=k.q;S=k._}var f=z+","+S;if(f!=this.awK){this.awK=f;this.NA.O(new eD(z,S),o.vz)}this.JZ.axY();
if(P.aw5){this.NA.sa(3);this.JZ.aI.PDF[2].ov.O(!0)}this.vF(null,!0)};aN.prototype.aDa=function(o,P){return o<P&&o<660};
aN.prototype.pe=function(o,P){return this.aDa(o,P)?new eD(0,0):new eD(Math.max(0,Math.min(150,(o-770)/2)),Math.max(0,Math.min(150,(P-590)/2)))};
aN.prototype.sH=function(o,P,w){this.V=o;this.Y=P;if(this.lg==null)return;var x=this._a.Z,z=this.aDa(o,P),S,k,M="<span style=\"width:",T="display:inline-block; text-align:right;\">";
if(z){var f=this.w$.getBoundingClientRect().height;S=o;k=P-Math.max(f,252);J.hC(this.body,"flexrow")}else{S=Math.min(512,o-195-2*13);
k=Math.min(512,P-24);J.HT(this.body,"flexrow")}var C=z?o-2*13:195;this.w$.style.width=C+"px";this.Qg.uw.style.width=C-77+"px";
this.NA.sH(C);var H=eu.nG()[this.jj.m()],b=eu.oi(H);if(b.VV||b.zn)this.xm.firstChild.setAttribute("style","display:block; width:"+S+"px; height:"+k+"px;");
else{this.j_.sH(S,k);this.Ql.width=S;this.Ql.height=k}if(this.F_==null)return;var i=this.F_.byteLength,O=M+64+"px;"+T+aN.yP(i)+"</span>";
if(S>400)O+=M+90+"px; opacity:"+.5+";"+T+i.toLocaleString()+" B</span>";this.kG.innerHTML=O;if(w)setTimeout(function(){this.sH(this.V,this.Y)}.bind(this),20)};
aN.yP=function(o){var P=o.toString(2),w=0;while(w+10<P.length)w+=10;var x=(o/Math.pow(2,w)).toFixed(1);
if(x.endsWith(".0"))x=x.slice(0,-2);var z="B KB MB GB TB PB".split(" ")[Math.floor(w/10)];return x+" "+z};
aN.prototype.RU=function(o,P){this.r7=o};aN.prototype.vF=async function(o,P){var w=this.lg,x=this.NA.m(),z=x.x,S=x.y,k=this.jj.m(),f=eu.nG()[k],C=eu.abv(w)[0].length,H=["GIF","PNG","WEBP","MP4"].indexOf(f)!=-1&&C>1,Y="";
if(H&&f!="MP4"&&P&&(C>4&&z*S>1024*1024||z*S*C>800*800*50)){var b=1;while(Math.max(z>>>b,S>>>b)>800)b++;
var i=window.confirm("Your animation is large ("+z+" x "+S+" px). Press \"OK\" to scale it to "+(100>>>b)+"%. Press \"Cancel\" to keep the size.");
if(i){this.NA.O(new eD(z>>>b,S>>>b),null,!0);z=z>>>b;S=S>>>b}}var M=w.M1();this.JZ.px(f,H,w.zV.length!=0,w.aGm(),M!=null);
var T=window.locStor.getItem("sfwPrms");if(T==null)T={};else{T=JSON.parse(T);if(T.MP4&&T.MP4[0]==100)T.MP4[0]=50}var O=this.JZ.m();
if(o&&o.target==this.JZ){T[f]=O;window.locStor.setItem("sfwPrms",JSON.stringify(T))}else if(T[f]){this.JZ.O(T[f],!0);
O=this.JZ.m()}this.F_=await eu.Gi(w,f,z,S,O,this.r7);if(this.F_==null){this.lg=null;return}J.eg(this.xm);
this.j_.pc();var U=eu.oi(f);if(U.zn){this.xm.innerHTML="<div></div>"}else if(U.VV){var W=z,t=S,_;if(f=="PDF"||f=="AI"){_=URL.createObjectURL(new Blob([this.F_],{type:"application/pdf"}))}else{_=URL.createObjectURL(new Blob([this.F_],{type:"image/svg+xml"}))}this.xm.innerHTML="<iframe src=\""+_+"\"></iframe>"}else if(f=="MP4"){var _=URL.createObjectURL(new Blob([this.F_]));
this.Ql.setAttribute("src",_);this.xm.appendChild(this.Ql)}else{var n=this.a7o=U.mJ(this.F_),y=n[0],F=y.pv,W=F.q,t=F._;
if(y.fT){var a=ICC.R(y.fT.buffer),V=17,D=ICC.U.sampleLUT(a,V);for(var I=0;I<n.length;I++){var l=new Uint8Array(n[I].data);
ICC.U.applyLUT(D,V,l,l)}}this.j_.O(n,n.length>1?O[O.length-3]:0);this.xm.appendChild(this.j_.Z);Y="background: rgba(0,0,0,0);"}this.xm.setAttribute("style","display:block; "+(U.zn?"background:rgba(0,0,0,0);":"background-size:"+16/J.M()+"px;")+Y);
this.sH(this.V,this.Y,P)};function e0(){a8.call(this,[11,13],"shortcuts");this.r7=null;var o=this.S5=J.k("div","scrollable");
o.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(o);
this.Un()}e0.prototype=new a8;e0.prototype.S=function(){a8.prototype.S.call(this);this.Un()};e0.prototype.RU=function(o,P){this.r7=o};
e0.prototype.fi=function(o,P,w,x){if(J.Ni(this.Z))this.Un()};e0.prototype.Un=function(){var o="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",P="",w=i$,x=w.Jm,z=w.W1,S=w.JV;
P+="<h2 style=\"margin-top:0;\">Main Menu</h2>";P+=o;P+=this.mU([[0,0],"---",[1,0],[x,w.PW],[1,2],[x,w.An],[1,3],[z,x,w.An],[1,8],[S,z,x,w.An],[0,1],"---",[2,0],[z,x,w.sb],[2,1],[x,w.sb],[5,0],[x,w.DN],[5,1],[x,w.cK],[5,2],[x,w.sY],[2,2],"Delete",[2,3],[S,w.aa],[10,16],[S,x,w.Mn],[12,79],[x,w.gM],[3],"---",[4,1],[x,w.s$],[4,2],[x,w.CF],[4,5],[x,w.Jj],[4,11],[x,w.pW],[0,3],"---",[6,13],[z,x,w.pN],[6,49,0],[x,w.XB],[6,6,0],[S,x,w.S8],[6,9],[x,w.S8],[6,10],[x,w.E],[0,5],"---",[7,0],[x,w.l],[7,1],[x,w.ie],[7,2],[z,x,w.pW],[0,7],"---",[8,0],[x,w.wF],[8,1],[x,w.KZ],[8,3],[x,w.Rz],[8,2],[x,w.zc],[8,4],[x,w.fh],[11,13],"?"]);
P+="</div>";P+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";P+=o;P+=this.mU(["Vertical scroll","Wheel","Horizontal scroll",[x,"Wheel"],"Zooming",[S,"Wheel"]]);
P+="</div>";P+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
P+=o;P+=this.mU([[10,11],[x],[10,7],"Space",[10,17],[x,w.yi]]);P+="</div>";P+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
P+=o;var k=[],f=this.r7;if(f==null)return;var C=f.L;for(var I=0;I<C.WN.length;I++){var H=C.WN[I],b=C.keys[I];
for(var i=0;i<H.length;i++)k.push(H[i].I.name,b?b.xx:null)}k=k.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[x,w.iI]]);
P+=this.mU(k);P+="</div>";this.S5.innerHTML=P};e0.prototype.mU=function(o){var P="",w=!0;for(var I=0;
I<o.length;I+=2){var x=o[I],z=i$.gr(o[I+1]);if(z==null){w=!1;continue}var S=J.Kp(kQ.get(x));if(z=="---"){if(!w)P+="<br/>";
P+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+S+"</div>"}else P+="<div>"+S+" <span style=\"float:right; font-weight:bold;\">"+z+"</span> </div>";
w=!1}return P};function kA(o){a8.call(this,o?"Artboard Options":[8,11,1],(o?"a":"s")+"options");this.mt=null;
this.ays=o;var P=J.k("div","form");P.style.width="20em";this.body.appendChild(P);this.V$={Nm:[12,48],url:"URL",null:[12,71]};
this.r9={};for(var w in this.V$){if(o&&w!="Nm")continue;var x=new iU(this.V$[w],null,15);this.r9[w]=x;
P.appendChild(x.Z)}this.ak$=new jH([12,14,0]);P.appendChild(this.ak$.Z);this.Bq=new gK(0,!0);P.appendChild(this.Bq.Z);
this.ZN=J.hB(this,P)}kA.prototype=new a8;kA.prototype.fi=function(o,P,w){var x=P.P;this.mt=JSON.stringify(x);
if(x.aR){this.r9.Nm.O(x.uD);var z=x.aR,S=z[0],k=z[1];this.Bq.O([S,k,z[2]-S,z[3]-k])}else{for(var f in this.V$){if(x[f])this.r9[f].O(x[f].v)}var C=x.bounds.v,S=C.Left.v,k=C.Top.v;
this.Bq.O([S,k,C.Rght.v-S,C.Btom.v-k])}};kA.prototype.kJ=function(o){var P=JSON.parse(this.mt),w=new bO(G.E.z,!0),x=this.Bq.m(),z=x[0],S=x[1];
console.log(x);if(this.ays){P.uD=this.r9.Nm.m();P.aR=[z,S,z+x[2],S+x[3]];w.I=N.bm;w.data={Q:"rpl",P:P}}else{for(var k in this.V$){var f=this.r9[k].m();
P[k]={t:"TEXT",v:f}}var C=P.bounds.v;C.Left.v=z;C.Top.v=S;C.Rght.v=z+x[2];C.Btom.v=S+x[3];w.I=N.ta;w.data=P}w.N8=!0;
this.j(w);this.close()};kA.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();this.ak$.S();
this.Bq.S()};function io(){a8.call(this,[2,3],"fill");this.r7=null;this.Ow=null;var o=J.k("div","form padded");
o.style.width="22em";this.body.appendChild(o);this.Aw="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");
this.ko=new f7([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.ko.J(G.E.w,this.aCs,this);o.appendChild(this.ko.Z);this.xm=J.k("span");o.appendChild(this.xm);this.iv=new fN;
this.iv.parent=this;this.iv.bN(0);this.Nc=new fH;this.Nc.parent=this;this.an$=new f7([12,19,0],jK.NR,jK.jX);
o.appendChild(this.an$.Z);this.xB=new kU([12,0],0,100,"%",0,!1);this.xB.O(100);o.appendChild(this.xB.Z);
this.Iq=new f5([13,5]);this.Iq.O(!1);o.appendChild(this.Iq.Z);this.ZN=J.hB(this,this.body)}io.prototype=new a8;
io.prototype.ry=function(o,P){return o!=null};io.prototype.vo=function(){return!0};io.prototype.aCs=function(){var o=this.ko.m(),P=this.iv.Z,w=this.Nc.Z,x=this.xm;
if(o==2)x.appendChild(P);else if(x.contains(P))x.removeChild(P);if(o==7)x.appendChild(w);else if(x.contains(w))x.removeChild(w)};
io.prototype.S=function(){a8.prototype.S.call(this);this.ko.S();this.an$.S();this.xB.S();this.Iq.S();
this.ZN.S()};io.prototype.kJ=function(o){if(!this.Ow.p9())return;var P=new bO(G.E.qc,!0),w=this.ko.m();
P.data=N.tB.pZ(this.Aw[w],jK.gg[this.an$.m()],this.xB.m()/100,this.iv.m(),this.Iq.m(),this.Nc.m());this.close();
this.j(P)};io.prototype.fi=function(o,P){this.Ow=o};io.prototype.RU=function(o,P){this.r7=o;if(P==eB.qU||P==eB.OK){this.Nc.Rj(o.a2);
this.Nc.O({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function eE(){a8.call(this,[14,9],"stroke");this.r7=null;this.w$=J.k("div","form");this.w$.setAttribute("style","width:24em");
this.body.appendChild(this.w$);this.nq=new j8("FrFX",!0);this.nq.parent=this;var o=["Sz","Styl","Md","Opct"].concat(iR.pL);
for(var I=0;I<o.length;I++){var P=this.nq.us[o[I]].Z;this.w$.appendChild(P)}this.cO=!1;this.ZN=J.hB(this,this.body)}eE.prototype=new a8;
eE.prototype.ry=function(o,P){return o!=null};eE.prototype.vo=function(){return!0};eE.prototype.S=function(){a8.prototype.S.call(this);
this.ZN.S();this.nq.S()};eE.prototype.kJ=function(o){var P=this.nq.m(),w={classID:"Strk"};w.Md=P.Md;
w.Opct=P.Opct;w.Clr=P.Clr;w.Wdth={t:"long",v:P.Sz.v.val};var x=iR.stroke.types.indexOf(P.Styl.v.FStl);
w.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][x]}};var z=new bO(G.E.qc,!0);z.data={wQ:"stroke",WP:w};
this.close();this.j(z)};eE.prototype.fi=function(o,P){if(!this.cO){var w=iR.lC[iR.order.indexOf("FrFX")];
w=JSON.parse(w);this.nq.update(o,w);this.cO=!0}var w=this.nq.m(),x=this.r7.AB;w.Clr.v=e.G.e1({$:x>>16&255,H:x>>8&255,b:x&255});
this.nq.update(o,w)};eE.prototype.RU=function(o,P){this.r7=o};function bt(){a8.call(this,[11,9],"textwarp");
this.r9=new id;this.r9.J(G.E.w,this.CR,this);this.r9.parent=this;this.w$=J.k("div","form");this.w$.setAttribute("style","width:20em");
this.body.appendChild(this.w$);this.w$.appendChild(this.r9.CT.Z);this.w$.appendChild(this.r9.qp.Z);this.w$.appendChild(this.r9.XZ.Z);
this.w$.appendChild(this.r9.SK.Z);this.w$.appendChild(this.r9.BJ.Z);this.ZN=J.hB(this,this.w$);this.J("closebtn",this.Hf,this)}bt.prototype=new a8;
bt.prototype.vo=function(){return!0};bt.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();
this.r9.S()};bt.prototype.CR=function(o){var P=this.r9.m();this.ix({Q:"warp",lD:P})};bt.prototype.ix=function(o){var P=new bO(G.E.z,!0);
P.I=N.cR;P.data=o;P.N8=!0;this.j(P)};bt.prototype.Hf=function(o){this.ix({Q:"warpCancel"})};bt.prototype.kJ=function(o){this.ix({Q:"warpConfirm"});
this.close()};bt.prototype.fi=function(o,P){var w=o.R[o.T[0]];this.r9.O(w.add.TySh.c5)};function h4(){a8.call(this,[11,12,0],"trim");
var o=this.w$=J.k("div","form");this.w$.setAttribute("style","width:22em");this.body.appendChild(this.w$);
var P=new jH("Color To Trim:");o.appendChild(P.Z);this.aP=new fs(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.aP.O([!0]);this.w$.appendChild(this.aP.Z);var P=new jH("Sides:");o.appendChild(P.Z);this._x=new fs(null,["Top","Left","Bottom","Right"]);
this._x.O([!0,!0,!0,!0]);this.w$.appendChild(this._x.Z);this.ZN=J.hB(this,this.body)}h4.prototype=new a8;
h4.prototype.ry=function(o,P){return o!=null};h4.prototype.vo=function(){return!0};h4.prototype.S=function(){a8.prototype.S.call(this);
this.aP.S();this._x.S();this.ZN.S()};h4.prototype.kJ=function(o){var P=this.aP.m().indexOf(!0),w=this._x.m(),x=new bO(G.E.qc,!0);
x.data=N.A0.$F(P,w);this.close();this.j(x)};function c9(){a8.call(this,"Raw Photopea","rawpea");this.Qs=null;
this.vK=null;this.body.style.padding="0";var o=this.ai=new cq["Adobe Camera Raw Filter"](!0),P="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(o.Z);this.ZN=new eN([1,0],!0,null,!0);this.ZN.J("click",this.kJ,this);this.x9=new eN(P+" JPG",!0,null,!0);
this.x9.J("click",this.ay5,this);this.x9.Z.style.marginTop="6px";o.dq(this.ZN.Z);o.dq(this.x9.Z)}c9.prototype=new a8;
c9.prototype.pe=function(){return new eD(0,0)};c9.prototype.sH=function(o,P){this.ai.sH(o,P)};c9.prototype.S=function(){a8.prototype.S.call(this);
this.ai.S()};c9.prototype.ay5=function(o){var P=this.Qs,w=this.vK,x=eu.oi("JPG").D7([[this.ai.m(!0).buffer]],w.Ts,w.ZP,[85]),z=new bO(G.E.X,!0);
z.data={Q:G.l.Gd,data:x,name:"photo.jpg"};this.j(z)};c9.prototype.kJ=function(o){var P=this.Qs,w=this.vK,x=js.xY(P),P={pv:new fA(0,0,w.Ts,w.ZP),data:this.ai.m(!0).buffer,wz:x},z=eu.WM("Raw Photo",[P]),S=new bO(G.E.X,!0);
S.data={Q:G.l.cA,lg:z};this.j(S);this.Rr();this.close()};c9.prototype.Rr=function(){this.Qs=null;this.vK=null;
this.ai.alu()};c9.prototype.fi=function(o,P,w,x){this.Qs=P.yp;var z=this.vK=e.raw.ask(this.Qs),S=e.raw.a3J(P.yp),k=cO.aBt(S);
e.raw.iJ(z.eD,z.eD,P.yp,[k.Fk,k.r6]);var f=cM.bS("Adobe Camera Raw Filter");this.ai.O(f,z.eD,new fA(0,0,z.Ts,z.ZP))};
function bS(o){a8.call(this,o?[11,11,0]:[11,11,1],o?"vbitmap":"rcolors");this.p5=null;this.ns=null;this.ajs=null;
this.BT=null;this.sZ=null;this.aDe=null;this.ya=null;this.r7=null;this.Nn="";this.Uv=o;this.Bl=this.qs.bind(this);
this.aqX=!1;this.body.style.padding="0";this.w$=J.k("div","form hbar padded");this.body.appendChild(this.w$);
this.tT=new fs(null,["Fill","Stroke","Labels"]);this.tT.J(G.E.w,this.qs,this);var P=J.k("span","rangecontFloat form padded"),C=16;
P.appendChild(this.tT.Z);P.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var w=new kl;w.Z=P;var x=this.k9={cnum:new f6([12,82],2,50,null),nois:new f5([12,81]),mode:new f7(null,["Cartoon","Photo"]),segm:new f5("Segmentize"),cbok:new f5("Coloring book"),poly:new f5("Polygon"),merg:new f5("Merge colors"),polE:new f6("Roughness",2,30,null),dthr:new f5([12,23,3]),vprm:new eN("\u2026",!1,null,!0),ok:J.hB(this,null,!1)},z=this;
for(var S in x){var k=x[S];k.parent=this;if(S=="ok"){}else if(S=="vprm"){k.J("click",function(b){var i=x.vprm.Z.getBoundingClientRect(),M=new bO(G.E.X,!0);
M.data={Q:G.l.tZ,NP:w,x:i.left,y:i.top+20};z.j(M)})}else k.J(G.E.w,this.qs,this)}var f=this.NC=J.k("div","flexrow");
this.body.appendChild(f);f.setAttribute("style","background-color:var(--bg-canvas)");this.Jb=new hx;
this.Jb.J("viewchange",this.Ca,this);this.oL=new hx;this.hj=J.k("canvas");this.hj.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.QA=this.hj.getContext("2d");var H=e.U(16*16*4);e.JM(H,C,C,8);this.Ko=e.scale.UX(H,C,C);this.Jb.a88(this.hj);
this.Jb.b4(this.oL);this.oL.b4(this.Jb);f.appendChild(this.Jb.Z);if(o)f.appendChild(this.hj);else f.appendChild(this.oL.Z)}bS.prototype=new a8;
bS.prototype.pe=function(){return new eD(0,0)};bS.prototype.vo=function(){return!0};bS.prototype.sH=function(o,P){this.V=o;
this.Y=P;P=P-44;if(o<600)P-=29;if(this.p5==null)return;var w=this.p5.pv,x=fu.za(o,P,w.q,w._);if(x==1)P-=3;
if(x==0){o=Math.floor(o/2);J.HT(this.NC,"flexrow")}else{P=Math.floor(P/2);J.hC(this.NC,"flexrow")}J.Wy(this.hj,o,P);
this.Jb.sH(o,P);if(this.Uv)this.Ca();else this.oL.sH(o,P)};bS.prototype.xF=function(o,P,w,x){this.Jb.xF(x)};
bS.prototype.S=function(){a8.prototype.S.call(this);for(var o in this.k9)this.k9[o].S()};bS.prototype.fi=function(o,P){this.ya=o;
this.sZ=null;var w=o.R[o.T[0]],x=e.mZ.anN(w.buffer.buffer,w.rect.q,w.rect._).asb,z=x/((w.rect.q-2)*(w.rect._-2)),S=this.k9;
S.cnum.O(20);S.nois.O(z<.75);S.mode.O(z<.75?1:0);S.segm.O(!1);S.cbok.O(!1);S.poly.O(!1);S.merg.O(!0);
S.polE.O(1);S.dthr.O(!1);var k=w.rect.clone();k.x=k.y=0;this.p5={pv:k,data:w.buffer.buffer.slice(0)};
this.ns=null;this.sH(this.V,this.Y);this.Jb.O([this.p5]);this.Jb.kn();this.aqX=!0;this.tT.O([!0,!1,!1]);
setTimeout(this.Bl,20)};bS.prototype.qs=function(){var o=!0,P=Date.now(),w=this.p5,x=this.k9,z=x.cnum.m(),S=x.nois.m(),k=x.mode.m(),f=x.segm.m(),C=x.cbok.m(),H=x.poly.m(),b=x.merg.m(),i=x.polE.m(),l=null;
if(k==0)f=H=C=!1;var M=x.dthr.m(),T=["cnum","nois","mode"];if(k==1){T.push("cbok");if(this.Uv){T.push("poly");
if(H)T.push("polE");T.push("vprm")}}if(this.Uv)T.push("merg");else T.push("dthr");T.push("ok");J.eg(this.w$);
for(var I=0;I<T.length;I++)this.w$.appendChild(x[T[I]].Z);if(o)console.log("---------------------------------------");
var O=S||f,Y=S+","+f;if(O&&(this.ns==null||this.Nn!=Y)){this.Nn=Y;var U=new Uint8Array(w.data),W=w.pv.q,t=w.pv._;
if(S){if(this.sZ==null){this.sZ=U.slice(0);e.t6.Po=35;e.t6.aq(this.sZ,this.sZ,W,t,15,1);if(o){console.log("denoise",Date.now()-P);
P=Date.now()}}U=this.sZ.slice(0)}else U=U.slice(0);if(f){var _=e.mZ.I8(U,W,t,40,10),n=_.gM,y=new Uint8Array(n*4);
for(var I=0;I<n;I++){var F=I*4,a=I*6,V=1/_.CH[a+5];y[F]=_.CH[a]*V;y[F+1]=_.CH[a+1]*V;y[F+2]=_.CH[a+2]*V}for(var I=0;
I<U.length;I+=4){var D=_.Yg[I>>>2]*4;U[I]=y[D];U[I+1]=y[D+1];U[I+2]=y[D+2]}if(o){console.log("segm",Date.now()-P);
P=Date.now()}}this.ns={pv:w.pv.clone(),data:U.buffer}}if(O)w=this.ns;var U=new Uint8Array(w.data),W=w.pv.q,t=w.pv._;
for(var I=0;I<U.length;I+=4){if(U[I+3]<10)U[I]=U[I+1]=U[I+2]=U[I+3]=0}if(k==0){l=e.mZ.ao6(U,W,t,z,O?.1:2e-4);
if(o){console.log("quantize",Date.now()-P);P=Date.now()}}if(k!=0||l&&l.Yf.length<2){l=cF.adS(U.buffer,z,W,t,null,C)}if(this.Uv){var Q=l.Yg.slice(0);
for(var I=0;I<Q.length;I++)Q[I]++;this.k1=e.mZ.aud(l.Yg,W,t);var m=new Uint8Array((W+2)*(t+2));e.d0(Q,new fA(1,1,W,t),m,new fA(0,0,W+2,t+2));
if(!H){var R=Math.round((W+2)*(t+2)/1e4),$=h1.dd(m.slice(0),W+2,t+2,Math.min(12,R)),p=h1.m0($);if(o){console.log("trace smooth",Date.now()-P);
P=Date.now()}}else{var p=e.a.hz(m,W+2,t+2,i,o)}var c=p.length,B=new ar(1,0,0,1,-1,-1);for(var I=0;I<c;
I++)e.a.h(p[I].path.i,B,p[I].path.i);this.BT=p;this.ajs=l;for(var I=0;I<c;I++){var Z=p[I];if(l.Yf[Z.color-1].est.q[3]>.05)continue;
var v=Z.parent;while(v!=-1){var E=p[v];v=E.parent;if(l.Yf[E.color-1].est.q[3]<.05)break;e.a.concat(E.path,e.a.reverse(Z.path))}}if(o){console.log("finding holes",Date.now()-P);
P=Date.now()}for(var I=0;I<p.length;I++){var g=p[I];if(g.parent!=-1){var u=p[g.parent];g.parent=u;if(u.Ge==null)u.Ge=[];
u.Ge.push(g)}g.depth=g.parent==-1?0:g.parent.depth+1}if(b){function j(gC,s){var bD={},cu=0,du=0;for(var I=0;
I<gC.length;I++){var h=gC[I].color,bq="c"+h;if(h==s)throw h;if(bD[bq]==null)bD[bq]=0;bD[bq]++;if(bD[bq]>cu){cu=bD[bq];
du=h}}return du}var A=[],K=[],s=-1,r=!0;for(var I=0;I<p.length;I++)if(p[I].parent==-1)K.push(p[I]);while(K.length!=0){var h=j(K,s);
s=h;for(var I=0;I<K.length;I++)if(K[I].color==h){var jC=K[I];A.push(jC);K.splice(I,1);I--;if(jC.Ge)for(var d=0;
d<jC.Ge.length;d++){K.push(jC.Ge[d]);if(jC.Ge[d].color!=h)r=!1}}}if(r)p=A;else{var q=[];for(var hc=0;
hc<500;hc++){var dk=[],$=q[hc-1];q.push(dk);for(var I=0;I<p.length;I++){var g=p[I],u=g.parent;if(hc==0&&u==-1||hc!=0&&$.indexOf(u)!=-1){dk.push(g);
p.splice(I,1);I--}}dk.sort(function(gC,bD){return gC.color-bD.color});if(p.length==0)break}for(var I=0;
I<q.length;I++)p=p.concat(q[I])}}else{var A=[],c6=[];while(p.length!=0){c6.push(p.shift());while(c6.length!=0){var e3=c6.pop();
A.push(e3);if(e3.Ge)for(var I=0;I<e3.Ge.length;I++){var g=e3.Ge[I];p.splice(p.indexOf(g),1);c6.push(g)}}}p=A}this.BT=p;
for(var I=0;I<p.length;I++){var Z=p[I],ks=l.Yf[Z.color-1].est.q;if(ks[3]<=.05){p.splice(I,1);I--;continue}}for(var I=1;
I<p.length;I++){var cH=p[I-1],Z=p[I];if(cH.color==Z.color&&(b||cH.parent==Z.parent&&cH.depth>=2)){e.a.concat(cH.path,Z.path);
p.splice(I,1);I--;continue}}if(o){console.log("reordering layers",Date.now()-P,c,p.length);P=Date.now()}this.Ca()}else{var bI=new Uint32Array(W*t),aR=W*t,ak=this.aDe=new Uint8Array(bI.buffer);
if(M){var cN=[];for(var I=0;I<l.Yf.length;I++)cN.push(l.Yf[I].est.rgba);var D=e.U(W*t);UPNG.encode.dither(new Uint8Array(w.data),W,t,cN,ak,D)}else{for(var I=0;
I<aR;I++){var h=l.Yf[l.Yg[I]];bI[I]=h.est.rgba}}this.oL.O([{pv:w.pv,data:bI.buffer}]);if(this.aqX){this.oL.kn();
this.aqX=!1}}};bS.prototype.Ca=function(o){if(this.BT==null)return;var P=this.tT.m(),w=this.p5.pv.q,x=this.p5.pv._,z=this.BT,S=this.ajs.Yf,k=this.hj,f=this.QA,C=this.Jb.qC(),b="rgba(0,0,0,0.3)";
f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,k.width,k.height);f.translate(k.width/2,k.height/2);f.scale(C.D,C.D);
f.translate(C.f.x/C.D-w/2,C.f.y/C.D-x/2);f.scale(1/C.D,1/C.D);f.fillStyle=this.Ko;f.fillRect(0,0,w*C.D,x*C.D);
f.scale(C.D,C.D);f.lineWidth=(w+x)*5e-4;var H=this.Qi();f.strokeStyle=b;for(var i=0;i<2;i++){if(!P[i])continue;
for(var I=0;I<z.length;I++){var M=z[I],T=H[M.color-1];if(T.F==0)continue;f.fillStyle=T.Wz;f.beginPath();
Typr.U.pathToContext({crds:M.path.i,cmds:M.path.LG},f);if(i==0)f.fill();else f.stroke()}}if(P[2])this.a5j(f,w,x)};
bS.prototype.Qi=function(){var o=this.ajs.Yf,P=[];for(var I=0;I<o.length;I++){var w=o[I].est.q,x={$:Math.round(255*w[0]),H:Math.round(255*w[1]),b:Math.round(255*w[2]),F:Math.round(255*w[3])};
x.Wz="rgba("+x.$+","+x.H+","+x.b+","+x.F/255+")";P.push(x)}return P};bS.prototype.a5j=function(o,P,w){var x=this.Qi(),z=this.acq(P,w,x);
function S(H,b,i,M){o.font=M+"px sans-serif";H++;var T=o.measureText(H);o.fillText(H,b-T.width/2,i+M*.25)}o.fillStyle="rgba(0,0,0,0.5)";
var k=this.k1;for(var I=0;I<k.length;I++){var f=k[I];if(f[3]<P*w*5e-4)continue;S(f[2],f[0],f[1],(P+w)*.008)}o.fillStyle="rgba(255,255,255,1)";
o.fillRect(0,0,z,z*x.length);for(var I=0;I<x.length;I++){var C=x[I];o.fillStyle=C.Wz;o.fillRect(z,z*I,z,z);
o.fillStyle="black";S(I,z*.5,z*(I+.5),z*.65)}};bS.prototype.acq=function(o,P,w){var x=w.length*(o+P)/70;
return Math.min(P,x)/w.length};bS.prototype.kJ=function(o){var P=this.ya,w=P.T[0],x=P.R[w],z=new bO(G.E.z,!0);
z.N8=!0;z.I=N.jc;var S=this.r7.v7,k=this;if(this.Uv){var f=this.Qi(),b=0,M=!1;function C(W,Y){var U=P._L();
U.opacity=Y.F;U.Yo|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1(Y)}};U.add.vmsk=new X.tc;U.add.vstk=iR.Vq.bS(!0);
U.add.vmsk.g=W;U.h6();U.qX(P);return U}var H=this.tT.m();for(var I=0;I<3;I++)if(H[I])b++;if(b==0){alert("Enable Fill, Stroke or Labels");
return}var i=this.BT;if(b==1&&H[0]&&i.length==1)M=!0;var T=P.R.slice(0,w);if(!M)T.push(P.VY());if(H[0])for(var I=0;
I<i.length;I++){var O=i[I],Y=f[O.color-1];e.a.h(O.path.i,new ar(1,0,0,1,x.rect.x,x.rect.y),O.path.i);
var U=C(e.a.B6(O.path,!1),Y);U.bx("Path "+I);T.push(U)}if(H[1]){var U=P._L();U.bx("Stroke");T.push(U);
U.opacity=128;U.Yo|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:e.G.e1({$:0,H:0,b:0})}};U.add.vmsk=new X.tc;
U.add.vstk=iR.Vq.bS(!1,!0);var W=[];for(var I=0;I<i.length;I++){var O=i[I],t=e.a.B6(O.path,!1);if(I==0)W=t;
else W=W.concat(t.slice(2))}U.add.vmsk.g=W;U.h6();U.qX(P)}if(H[2]){var _=this.p5.pv,n=_.q,y=_._,F=this.acq(n,y,f);
T.push(P.VY());function a(R,$,p,c){R=1+R+"";var U=P._L();T.push(U);U.opacity=c;U.add.lnsr="rend";var B=U.add.TySh=fe.AH($-F*.2,p+F*.25),Z=U.add.TySh.OY,v=fe.Zv(Z,0,0);
v.OR.FontSize=Math.round(F*.6);fe.Bi(Z,0,0,v);fe.EF(Z,0,R);U.Tr();if(eQ.LU(B,S,k)){eQ.tW(U,S,P);P.N()}}var V=this.k1;
for(var I=0;I<V.length;I++){var D=V[I];if(D[3]<n*y*5e-4)continue;a(D[2],D[0],D[1],128)}var U=C(e.n.fg.Rect(0,0,F,F*f.length),{$:255,H:255,b:255,F:255});
U.bx("white");T.push(U);for(var I=0;I<f.length;I++){var Y=f[I],U=C(e.n.fg.Rect(F,F*I,F,F),Y);U.bx("color");
T.push(U);a(I,F/2,F*(I+.5),255)}var U=P._L();U.bx("Labels");U.add.lsct=jS.v_;U.gS="pass";U.Yo=24;T.push(U)}var l=T[T.length-1];
if(!M){var U=P._L();U.bx(x.getName());U.add.lsct=jS.KC;U.gS="pass";U.Yo=24;T.push(U);l=U}var Q=x.add.lmfx;
if(Q)l.add.lmfx=JSON.parse(JSON.stringify(Q));var m=T.length;for(var I=w+1;I<P.R.length;I++)T.push(P.R[I]);
z.data={Q:X.v2,O$:T,GM:[m-1],Ka:[11,11,0]}}else{var T=P.R.slice(0),U=P._L();U.bx(x.getName());T.splice(P.T[0]+1,0,U);
U.rect=x.rect.clone();U.buffer=this.aDe;U.N();z.data={Q:X.v2,O$:T,GM:[P.T[0]+1],Ka:[11,11,1]}}this.j(z);
this.close();P._0=!0};bS.prototype.RU=function(o,P){this.r7=o};function fu(o){a8.call(this,[[7,11],[7,13]][o],["redge","magiccut"][o]);
this.aP=o;this.p5={};this.E9=null;this.T_=null;this.ya=null;this.AR=null;this.Pb=null;this.body.style.padding="0";
this.Sq=[];this.SS=-1;this.w$=J.k("div","form hbar padded");this.body.appendChild(this.w$);this.qI=new b1;
this.qI.parent=this;this.qI.J(G.E.w,this.O4,this);this.w$.appendChild(this.qI.Z);var P=o==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
P=P.concat("tools/hand","zoomIn","zoomOut");var w=o==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.aG=new ae(null,P,w,28);this.aG.J(G.E.w,this.xF,this);this.w$.appendChild(this.aG.Z);this.DC=new f6([7,9],0,50,null);
this.DC.parent=this;this.DC.J(G.E.w,[this.a2C,this.qs][o],this);this.w$.appendChild(this.DC.Z);var x=this.a1s=new eN([2,2],!1,null,!0);
x.J("click",this.Rr,this);this.w$.appendChild(x.Z);var z=this._g=J.k("span","form");this.w$.appendChild(z);
var S=this.aw1=new eN([12,90],!1,null,!0);S.J("click",function(C){alert(o==0?kQ.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
z.appendChild(S.Z);var k=new eN("Tutorial",!1,null,!0);k.J("click",this.a2J,this);z.appendChild(k.Z);
this.U7=new ae([12,46],["checker","#ffffff","#000000"]);this.U7.J(G.E.w,this.atp,this);z.appendChild(this.U7.Z);
this.a8t=new f7(null,[[6,13],[6,2],[17,2]]);z.appendChild(this.a8t.Z);this.ZN=J.hB(this,z,!1);var f=this.NC=J.k("div","flexrow");
this.body.appendChild(f);this.TM=new hx(!0);this.uM=new hx;this.TM.b4(this.uM);this.uM.b4(this.TM);this.TM.J("mousedown",this.yR,this);
this.TM.J("mousemove",this.yH,this);this.TM.J("mouseup",this.D4,this);this.TM.J("zoom",this.O4,this);
this.uM.J("zoom",this.O4,this);f.appendChild(this.TM.Z);f.appendChild(this.uM.Z)}fu.prototype=new a8;
fu.prototype.ry=function(o,P){var w=o!=null&&!o.R[o.T[0]].rect.Mw();if(!w)alert("The layer is empty.");
return w};fu.prototype.pe=function(){return new eD(0,0)};fu.prototype.vo=function(){return!0};fu.prototype.sH=function(o,P){this.V=o;
this.Y=P;P=P-12-33;if(o<900){this._g.setAttribute("style","display:block;  text-align:right;");P-=29}else{this._g.setAttribute("style","position:absolute;  right:0px")}this.U7.ld(o<440?null:[12,46]);
this.DC.ld(o<470?null:[7,9]);var w=this.p5.rect;if(w){var x=fu.za(o,P,w.q,w._);if(x==0){o=Math.floor(o/2);
J.HT(this.NC,"flexrow")}else{P=Math.floor(P/2);J.hC(this.NC,"flexrow")}this.TM.sH(o,P);this.uM.sH(o,P)}};
fu.za=function(o,P,w,x){var z=o/2,S=P/2,k=Math.min(z/w,P/x),f=Math.min(o/w,S/x);return k>f?0:1};fu.prototype.S=function(){a8.prototype.S.call(this);
this.qI.S();this.DC.S();this.ZN.S();this.U7.S();this.a8t.S();this.a1s.S();this.aw1.S()};fu.prototype.a2J=function(o){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.aP],"_blank")};
fu.prototype.RU=function(o,P){this.T_=o;if(P==eB.Je||P==eB.qU){this.qI.Rj(o.E8);this.qI.O(bh.ja(),o.E8.MH,o.E8.Nc)}};
fu.prototype.xF=function(o,P,w,x){var z=this.aG.m();if(x==null){this.TM.xF(hx.pS(z-3));return}this.AR=x;
var S=N.tB.fw(this.qI.m(),x);if(S!=null){this.qI.O(S);this.O4()}else if(x.d(i$.Jm)&&x.d(i$.sb)){var k=this.Sq,f=0;
if(x.d(i$.W1)){if(this.SS+1<k.length)f=1}else if(this.SS>0)f=-1;if(f!=0){this.SS+=f;var C=this.SS,H=this.p5;
if(f==1)e.sR(k[C][2],k[C][0],H.hf,H.rect);else e.sR(k[C+1][1],k[C+1][0],H.hf,H.rect);H.WI=H.rect;this.qs()}}else if(z<3)this.TM.xF(x)};
fu.prototype.TX=function(o){var P=this.p5,w=this.Sq,x=e.U(o.c()*4);e.sR(P.jG,P.rect,x,o);P.jG=null;var z=e.U(o.c()*4);
e.sR(P.hf,P.rect,z,o);this.SS++;w[this.SS]=[o.clone(),x,z];while(w.length>this.SS+1)w.pop();while(w.length>50){w=w.slice(1);
this.SS--}};fu.prototype.O4=function(){var o=this.T_,P=j2.hN(this.qI.m(),o.E8.MH,this.TM.qC().D);this.TM.Fi(P)};
fu.prototype.yR=function(o){var P=this.T_,w=this.p5,x=this.AR,z=this.qI.m(),S=this.TM.g7(),k=[16777215,8421504,0][this.aG.m()];
this.E9=new j2(z,P.E8.MH,P.E8.Nc,{CB:1,Qn:!0},k,P.eI,w.rect);w.jG=w.hf.slice(0);if(x!=null&&x.d(i$.W1)&&this.Pb){this.E9.moveTo(this.Pb.x,this.Pb.y);
this.E9.lineTo(S.x,S.y)}else this.E9.moveTo(S.x,S.y);this.aGu()};fu.prototype.yH=function(o){var P=this.p5,w=this.TM.g7();
this.E9.lineTo(w.x,w.y);this.aGu()};fu.prototype.D4=function(o){this.Pb=this.TM.g7();this.TX(this.E9.wA());
this.qs()};fu.prototype.aGu=function(){var o=this.p5,P=this.E9,w=P.xv();if(w.Mw())return;o.WI=w;e.C.Iv("norm",P.$C(),P.q_(),o.hf,o.rect,w,1);
this.a1K()};fu.prototype.Rr=function(o){var P=this.p5;P.jG=P.hf.slice(0);P.WI=P.rect;e.ZT(P.hf,[4278190080,4292730333][this.aP]);
this.TX(P.rect);this.qs()};fu.prototype.fi=function(o,P){this.ya=o;var w=o.R[o.T[0]],x=w.rect.clone(),z=x.q,S=x._,C;
this.DC.O(this.aP==0?3:z*S<3e6?3:0);this.aG.O(o.e==null?0:1);this.DC.hR();if(this.aP==0&&o.e!=null||this.aP==1)this.DC.p2();
var k=this.aP,f=e.U(x.c());if(k==0&&o.e){e.d0(o.e.channel,o.e.rect,f,x);var H=e.U(x.c());for(var b=0;
b<S;b++)for(var i=0;i<z;i++){var I=b*z+i,M=f[I];if(i>0&&f[I-1]!=M||i<z-1&&f[I+1]!=M||b>0&&f[I-z]!=M||b<S-1&&f[I+z]!=M)H[I]=255}C=e.style.Vu(H,z,S)}else{C=new Float32Array(x.c());
C.fill(1e9)}x.x=x.y=0;this.p5={rect:x,eD:w.buffer,jO:f,Vb:C,Sg:e.U(x.c()*4),bh:e.U(x.c()*4),hf:e.U(x.c()*4),jG:null,m9:null,WI:x,afK:{}};
if(k==0)this.a2C();else{this.p5.afK=N.dx.ao_(o);var T=this.p5.hf;e.ZT(T,4287137928);var O=e.EL.getSelection(w.buffer,z,S),Y=Math.round(z/60),U=Math.round(.7*S);
for(var b=0;b<S;b++)for(var i=0;i<z;i++){var W=(b*z+i)*4,t=O[W>>>2];t=t>128?255:128;if(b<Y||b<U&&(i<Y||i>z-1-Y))t=0;
T[W]=T[W+1]=T[W+2]=t}this.qs()}this.Sq=[1];this.SS=0;var _=this.qI.m();_.Brsh.v.Dmtr.v.val=Math.round(x.q/(k==0?10:20));
this.qI.O(_);this.O4();this.sH(this.V,this.Y);this.TM.kn()};fu.prototype.a2C=function(){var o=this.p5,P=o.rect.c(),w=this.DC.m(),x=o.jO.slice(0);
for(var I=0;I<P;I++)if(o.Vb[I]<w)x[I]=128;e.ZT(o.hf,4294967295);e.lI(x,o.hf,0);e.lI(x,o.hf,1);e.lI(x,o.hf,2);
o.WI=o.rect;this.qs()};fu.prototype.qs=function(){var o=this.p5,z,f,C=0,H=0,b=0;this.a1K();var P=o.rect,w=P.q,x=P._,S=e.U(P.c()),k=o.eD;
e.JX(o.hf,S,0);for(var I=0;I<S.length;I++){if(k[(I<<2)+3]!=255)continue;var i=S[I];if(i==0)C++;else if(i==255)H++;
else b++}if(C*H*b!=0){if(this.aP==0)f=e.Y1.Y1(P,k,S);else{var M=this.aG.m();for(var T=1;T<x;T++)for(var O=1;
O<w;O++){var I=T*w+O,Y=S[I],U=S[I-1];if(Y==0&&U==255||Y==255&&U==0){z="The Red and Green should never touch! Erase it with Grey.";
break}}var W=Date.now(),t=this.p5.afK;e.L9(S,t.jm);N.dx.Kb(t,!0,this.ya);var _=Math.ceil(this.DC.m()/2);
if(_==0){f=k.slice(0);e.lI(t.e,f,3)}else{var n=t.e.slice(0),y=t.e.slice(0);for(var F=0;F<_;F++){for(var T=1;
T<x-1;T++)for(var O=1;O<w-1;O++){var I=T*P.q+O,a=n[I];if(n[I-w]!=a||n[I-1]!=a||n[I+1]!=a||n[I+w]!=a)y[I]=128;
else y[I]=a}var V=n;n=y;y=V}for(var T=0;T<x;T++)for(var O=0;O<w;O++){var I=T*w+O;if(S[I]==0||S[I]==255)n[I]=S[I]}f=e.Y1.Y1(P,k,n,20,!1)}}}else{f=k.slice(0);
e.lI(S,f,3)}for(var I=3;I<f.length;I+=4)if(f[I]>k[I])f[I]=k[I];if(P.w6(o.rect))o.m9=f;else e.sR(f,P,o.m9,o.rect);
this.atp();if(z)alert(z,4e3)};fu.prototype.a1K=function(o){var P=this.p5,w=P.WI;e.sR(P.eD,P.rect,P.Sg,P.rect,w,!0);
var x=P.hf,z=P.rect,S=Date.now();if(this.aP==1){var k=new Uint32Array(256);k[0]=4278190335;k[255]=4278255360;
var f=e.U(w.c()*4),C=w.c();e.sR(x,z,f,w);x=f;z=w;var H=new Uint32Array(x.buffer);for(var I=0;I<C;I++)H[I]=k[H[I]&255]}console.log(Date.now()-S);
e.C.Iv("norm",x,z,P.Sg,P.rect,w,.3);this.TM.O([{pv:P.rect,data:P.Sg.buffer}],null,null,w)};fu.prototype.atp=function(o){var P=this.p5;
e.ZT(P.bh,[0,4294967295,4278190080][this.U7.m()]);e.C.Iv("norm",P.m9,P.rect,P.bh,P.rect,P.rect,1);this.uM.O([{pv:P.rect,data:P.bh.buffer}])};
fu.prototype.kJ=function(o){var P=this.ya,w=this.p5,x=this.a8t.m(),z=P.R[P.T[0]],S=new bO(G.E.z,!0);
S.N8=!0;var k=z.rect.clone();if(x==0&&z.ny()||x!=0&&!z.ny()){S.I=N.jc;S.data={Q:X.PZ,r:P.T[0]};this.j(S)}if(P.e!=null){S.I=N.mC;
S.data={Q:"fromAction",tU:N.z$.Xw()};this.j(S)}if(x==0){var f=P.R.slice(0),C=P._L();C.bx(z.getName());
f.splice(P.T[0]+1,0,C);C.rect=k;C.buffer=w.m9;C.N();S.I=N.jc;S.data={Q:X.v2,O$:f,GM:[P.T[0]+1],Ka:[7,11]};
this.j(S)}if(x==1){var H=z.Jq();S.I=N.jc;S.data={Q:X.gE,azP:!0};this.j(S);var b=z.Jq();b.channel=e.U(k.c());
b.rect=k;b.color=0;b.RC=!0;e.JX(w.m9,b.channel,3);if(H){var i=b.j$(H);b.rect=i.rect;b.channel=i.channel;
b.color=i.color}b.wW();z.qX()}if(x==2){var M={rect:k,channel:e.U(k.c())};e.JX(w.m9,M.channel,3);S.I=N.mC;
S.data={Q:"setsel",e:M,Ka:this.xi};this.j(S)}this.close()};function fz(){a8.call(this,[1,13],"locstor");
this.r7=null;this.uh=[];var o=this.body,P=J.k("p");P.textContent="These files are loaded every time you start Photopea.";
o.appendChild(P);this.aEq=0;this.arE=J.k("span");o.appendChild(this.arE);this.arE.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var w=J.k("span","form");o.appendChild(w);this.Cc=new eN([5,4],!1,null,!0);this.Cc.J("click",this.Pk,this);
w.appendChild(this.Cc.Z);this.GN=new eN("Get all as ZIP",!1,null,!0);this.GN.J("click",this.SR,this);
w.appendChild(this.GN.Z);this.uy=new hr(!0);this.uy.parent=this;this.uy.lK(1);o.appendChild(this.uy.Z);
this.uy.Z.setAttribute("style","width: 40em; height: 25em")}fz.prototype=new a8;fz.prototype.S=function(){a8.prototype.S.call(this);
this.arE.textContent=kQ.get([13,2])+": "+aN.yP(this.aEq);this.Cc.S()};fz.prototype.RU=function(o,P){this.r7=o;
if(P==eB.Io)this.fi()};fz.prototype.fi=function(o,P){var w=this.r7.Ce.aU,C=0;this.uh=[];for(var x in w)this.uh.push(x);
this.uh.sort(function(b,i){b=b.split(".");i=i.split(".");return b[1]==i[1]?b[0]<i[0]?-1:1:b[1]<i[1]?-1:1});
var z=Math.floor(100*J.M()),S=Math.floor(16*J.M()),k=[],f=[];for(var I=0;I<this.uh.length;I++){var x=this.uh[I],H=fz.Tu(x,w[x],z,S);
k.push(H);f.push(x);C+=w[x].byteLength}this.uy.jW(k,f,z,S);this.aEq=C;this.S()};fz.prototype.Pk=function(o){var P=this.uy.m();
if(P.length==0){alert("Select a file first.");return}this.uy.O([]);var w=this.r7.Ce.aU;for(var I=0;I<P.length;
I++)delete w[this.uh[P[I]]];var x=new bO(G.E.X,!0);x.data={Q:G.l.CA,JL:eB.Io};this.j(x)};fz.prototype.SR=function(o){var P=this.r7.Ce.aU,w={};
for(var x in P)w[x]=new Uint8Array(P[x]);var z=UZIP.encode(w);b_.save(z,"resources.zip")};fz.Tu=function(o,P,w,x){var z=J.k("canvas"),f=0;
z.width=w;z.height=x;var S=z.getContext("2d"),k=o.split(".").pop().toLowerCase();for(var I=0;I<k.length;
I++)f+=k.charCodeAt(I)*613<<8*I;S.fillStyle="#"+e.UM(f&16777215);S.fillRect(0,0,20,x);var C=Math.floor(14*J.M());
S.fillStyle="#000000";S.font="bold "+C+"px sans-serif";var H=(x-C)/2,b=aN.yP(P.byteLength),i=S.measureText(b);
S.fillText(b,w-12-i.width,x-H);return z.toDataURL()};function ev(){a8.call(this,[1,15],"pmanager");this.r7=null;
this.aV=new f7([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.aV.J(G.E.w,this.fi,this);
this.body.appendChild(this.aV.Z);var o=J.k("div","flexrow");this.body.appendChild(o);var P=this.a23=J.k("div");
o.appendChild(P);var w=J.k("div","form");o.appendChild(w);w.setAttribute("style","width:140px; margin-left:12px");
this.auZ=[eB.Je,eB.wr,eB.OK,eB.HM,eB.sv,eB.Z9];this.jR=[new b1,new jU,new fH,new bB,new kd,new dG];for(var I=0;
I<this.jR.length;I++)this.jR[I].parent=this;this.$O=[];for(var I=0;I<4;I++){var x=new eN("Hello",!0,null,!0);
x.J("click",this.Vj,this);this.$O.push(x);w.appendChild(x.Z)}this.fi()}ev.prototype=new a8;ev.prototype.qD=function(o){return o==i$.bc||o==i$.aa};
ev.prototype.Vj=function(o){var I=this.$O.indexOf(o.target);this.jR[this.aV.m()].eq(I)};ev.prototype.S=function(){a8.prototype.S.call(this);
this.aV.S();for(var I=0;I<this.jR.length;I++)this.jR[I].S();var o=this.$O,P=this.aV.m(),w=eB.R7[this.auZ[P]],x=w[0].toUpperCase();
o[0].ld([[23,6],"."+x]);o[1].ld(["VAR0 ."+x,[1,8]]);o[2].ld([6,37]);o[3].ld([5,4])};ev.prototype.RU=function(o,P){this.r7=o;
this.fi()};ev.prototype.fi=function(o,P){if(!J.Ni(this.Z))return;this.S();J.eg(this.a23);this.a23.appendChild(this.jR[this.aV.m()].oy);
var w=this.jR,x=this.r7;if(x==null)return;w[0].Rj(x.E8);w[1].Q6(x.AB,x.eI);w[1].Rj(x.EE);w[2].Rj(x.a2);
w[3].Rj([x.Wt,x.a2]);w[4].Rj(x.VX);w[5].Rj(x.vi)};function fo(o,P,w){a8.call(this,P,"cwindow");this.auI=new eD(w[0],w[1]-33);
this.w$=J.k("div","form");this.w$.setAttribute("style","width:"+(w[2]-w[0])+"px; height:"+(w[3]-w[1])+"px");
this.body.appendChild(this.w$)}fo.prototype=new a8;fo.prototype.pe=function(o,P){return this.auI.clone()};
function a4(o){var P=a4.aEN(o);a8.call(this,P,"res"+o);var w=this.asn.bind(this);window.addEventListener("message",function(z){if(typeof z.data=="string"&&z.data.startsWith("--et ")){console.log(z.data);
var S=this.aek=z.data.slice(5).split(",");S[0]=parseFloat(S[0]);jM.a89(S[0],S[1],w)}}.bind(this));this.Qg=P;
this.ZD=o;this.al0=null;this.C_=null;this.Ji=0;this.DD=null;this.yj=null;this.aek=null;this.r7=null;
this.body.setAttribute("style","padding:0");this.E5=new eN("",null,null,!0);this.body.appendChild(this.E5.Z);
this.E5.J("click",this.Dc,this);this.E5.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.h3=new eN("\u25BC",null,null,!0);this.h3.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.h3.J("click",this.a7j,this);this.body.appendChild(this.h3.Z);this.OW=J.k("span","form");this.body.appendChild(this.OW);
this.$O=[];for(var I=0;I<9;I++){var x=new eN(a4.aEN(I));this.$O.push(x);if(I==o)x.O(!0);this.OW.appendChild(x.Z);
x.J("click",this.a1m,this)}this.arC=new eN([5,3],null,null,!0);this.arC.J("click",this.aq7,this);this.apR=new eN("Upload Current Document as a Template",null,null,!0);
this.apR.J("click",this.ag$,this);this.aoZ=new iU("Creator / Brand name");this._a=new eN([1,2],null,null,!0);
this._a.J("click",this.SR,this);this.Pp=J.k("iframe","scrollable");this.Pp.setAttribute("style","border:none; margin:0; padding:0;");
this.ij=J.k("div","form scrollable padded");this.XV=new aH(o);this.XV.J("back",this.Rr,this);this.XV.J("save",this.auU,this);
this.body.appendChild(this.Pp)}a4.prototype=new a8;a4.aEN=function(o){var P;if(o==0)P=[25,0];else if(o==1)P="Plugins";
else for(var w in eB.R7)if(eB.R7[w][4]==o)P=eB.R7[w][3];return P};a4.prototype.a7j=function(o){this.OW.style.display=this.OW.style.display=="none"?"":"none"};
a4.prototype.a1m=function(o){var I=this.$O.indexOf(o.target);if(I==this.ZD)return;this.close();var P=new bO(G.E.X,!0);
P.data={Q:G.l.y7,hq:"res"+I};this.j(P)};a4.prototype.asn=function(o){this.Dc();this.yj=JSON.parse(o.target.response);
this.$o()};a4.prototype.pe=function(o,P){return new eD(0,0)};a4.prototype.sH=function(o,P){this.V=o;
this.Y=P;this.Ow=null;P=P-4;o=o;var w=o>820,x="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",z="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.OW.setAttribute("style",w?x:z);this.OW.style.marginTop=(w?-31:0)+"px";this.h3.Z.style.display=w?"none":"";
var S=this.ij;S.style.width=o-12+"px";S.style.height=P-12+"px";var S=this.XV.Z;S.style.width=o-12+"px";
S.style.height=P-12+"px";var S=this.Pp;S.style.width=o+"px";S.style.height=P+"px";this.wY()};a4.prototype.RU=function(o,P){this.r7=o};
a4.prototype.S=function(){a8.prototype.S.call(this);for(var I=0;I<this.$O.length;I++)this.$O[I].S();
this.arC.S()};a4.prototype.fi=function(o,P,w,x){this.Ow=o;this.Dc(null,!1)};a4.prototype.Dc=function(o,P){var w=P!=null?P:J.Ni(this.Pp);
if(w){if(!jM.da()){alert("You need to log in first!");return}var x=jM.ao();if(x==null)x={};this.C_=x.tpl?x.tpl.list:[];
this.aoZ.O(x.tpl&&x.tpl.brnd?x.tpl.brnd:"");this.wY()}else{this.Pp.setAttribute("src","");this.Pp.setAttribute("src",jM.$D("templates/?type="+this.ZD+"&rsrc="+this.r7.rc.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(w?this.ij:this.Pp);var z=kQ.get(this.Qg);this.E5.ld(w?"All "+z:"Add "+z)};a4.prototype.wY=function(){var o=kQ.get(this.Qg),P=this.C_,w=this.ZD,f=450;
if(P==null)return;var x=this.ij;J.eg(x);var z=J.k("h1");x.appendChild(z);z.textContent="Share your "+o+" with the world!";
var S=J.k("ul");x.appendChild(S);var k=J.k("li");S.appendChild(k);k.textContent="By publishing your "+o+", you agree to let others use them for all kinds of purposes, even commercially.";
x.appendChild(this.arC.Z);if(w==0)x.appendChild(this.apR.Z);J.jB(x);x.appendChild(this.aoZ.Z);x.appendChild(this._a.Z);
J.jB(x);f=(this.V-20)/Math.max(1,Math.floor(this.V/f))-42;var C="display:inline-block; width:"+f+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var I=P.length-1;I>=0;I--){var H=P[I];if(H.type==null)H.type=0;if(H.type!=w)continue;var b=J.k("div");
x.appendChild(b);b.setAttribute("style",C);var i=J.k("img");b.appendChild(i);i.setAttribute("src",H.thmb);
i.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var M=J.k("h3");b.appendChild(M);M.textContent=H.name;M.setAttribute("style","margin:0 0 10px 0");var T=J.k("p");
b.appendChild(T);T.textContent=H.desc;T.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var O=0;O<2;O++){var Y=new eN(O==0?"Edit":"Delete",null,null,!0);Y.a9Y=I;Y.$o=O==0;Y.J("click",this.a5L,this);
b.appendChild(Y.Z)}}};a4.prototype.ag$=function(o){if(this.Ow==null){alert("No document opened.");return}var P=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!P)return;var w=new bO(G.E.X,!0);w.data={Q:G.l.vR,pr:"psd",ob:this.afI.bind(this)};this.j(w)};a4.prototype.afI=function(o){this.aqA=o;
var P=new bO(G.E.X,!0);P.data={Q:G.l.vR,pr:"jpg",ob:this.amI.bind(this),awP:1400};this.j(P)};a4.prototype.amI=function(o){this.DD={type:0,catg:0,desc:"",file:this.aqA,name:this.Ow.name.split(".")[0],thmb:o,publ:!0,utme:""};
this.$o()};a4.prototype.aq7=function(o){this.DD={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.$o()};a4.prototype.a5L=function(o){this.Ji=o.target.a9Y;if(!o.target.$o){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.C_.splice(this.Ji,1);this.SR();this.wY();return}this.$o()};a4.prototype.$o=function(){if(J.Ni(this.ij))this.body.removeChild(this.ij);
this.body.appendChild(this.XV.Z);var o=this.DD?this.DD:this.yj?this.yj:this.C_[this.Ji];if(o.type==null)o.type=0;
this.XV.O(o)};a4.prototype.auU=function(o){var P=this.XV.m();if(this.DD)this.C_.push(P);else if(this.yj){var w=this.aek;
jM.a89(w[0],w[1],this.Rr.bind(this),JSON.stringify(P));return}else this.C_[this.Ji]=P;this.SR();this.Rr()};
a4.prototype.Rr=function(){var o=this.yj;this.DD=null;this.yj=null;this.body.removeChild(this.XV.Z);
this.body.appendChild(this.ij);this.wY();if(o)this.Dc()};a4.prototype.SR=function(){var o=jM.ao();if(o==null)o={};
if(this.C_.length==0)delete o.tpl;else{o.tpl={list:JSON.parse(JSON.stringify(this.C_))};var P=this.aoZ.m().trim();
if(P!="")o.tpl.brnd=P}jM.jH(o,function(){alert("Saved.")})};function es(){a8.call(this,"Make Selection","makesel");
this.r7=null;var o=J.k("div","form");this.body.appendChild(o);this.Kx=new f5([12,25,1]);this.Kx.O(!0);
o.appendChild(this.Kx.Z);J.jB(o);this.ax$=new ec(!0);o.appendChild(this.ax$.Z);this.ZN=J.hB(this,this.body)}es.prototype=new a8;
es.prototype.S=function(){a8.prototype.S.call(this);this.ax$.S();this.Kx.S();this.ZN.S()};es.prototype.kJ=function(o){var P=new bO(G.E.z,!0);
P.I=N.mC;P.data={Q:"frompath",bV:[null,0,this.ax$.m(),this.Kx.m()]};this.close();this.j(P)};function gy(){a8.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this.Ow=null;this.GV=null;this.aHg=null;var o=this.aht=J.k("div","form");o.setAttribute("style","width:20em");
this.body.appendChild(o);this.ro=new kp([12,50],["PSD","PSB"]);this.ro.J(G.E.w,this.vF,this);o.appendChild(this.ro.Z);
J.pp(o);var P=new jH("Minify the file");o.appendChild(P.Z);J.jB(o);var w=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ub=[];for(var I=0;I<w.length;I++){var x=new f5(w[I]);this.ub.push(x);o.appendChild(x.Z);x.J(G.E.w,this.vF,this)}J.pp(o);
this.On=new jH("aa.psd");this.Z2=new jH("10 kB");o.appendChild(this.Z2.Z);this.akf=new jH("1000 B");
o.appendChild(this.akf.Z);this.ZN=new eN([1,2],!0,null,!0);this.ZN.J("click",this.kJ,this);o.appendChild(this.ZN.Z);
this.kc=new eN(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.kc.J("click",this.kJ,this);o.appendChild(this.kc.Z);
this.J("closebtn",this.Hf,this)}gy.prototype=new a8;gy.prototype.fi=function(o,P,w,x){var z=J.Ni(this.kc.Z),S=o.Uh!=null&&o.Uh.c1=="psd";
if(S&&!z)this.aht.appendChild(this.kc.Z);if(!S&&z)this.aht.removeChild(this.kc.Z);for(var I=0;I<this.ub.length;
I++)this.ub[I].O(!1);this.Ow=o;this.vF()};gy.prototype.kJ=function(o){if(o.target==this.ZN)b_.save(this.GV,this.aHg);
else{if(this.ub[3].m()){alert("You should not save a ZIP as a PSD to Google Drive.");return}gG.aG1(this.Ow,this.GV)}};
gy.prototype.Hf=function(){this.Ow=null;this.GV=null};gy.prototype.vF=function(){var o=this.Ow,P=[!1,!1,!1,!1];
for(var I=0;I<3;I++)P[I]=this.ub[I].m();var w=this.ub[3].m(),x=P[3]=this.ro.m()==1,z=o.name.slice(0,o.name.length-3),S=this.GV=eu.oi("PSD").D7(o,0,0,P),eK=this.aHg=z+"ps"+(x?"b":"d");
if(w){var k={};k[eK]=new Uint8Array(S);S=this.GV=UZIP.encode(k);eK=this.aHg=z+"zip"}this.On.O(eK);this.Z2.O(aN.yP(S.byteLength));
this.Z2.Z.style["font-size"]="2em";this.akf.O(" \u2001 "+S.byteLength+" B");this.ZN.ld(kQ.get([1,2])+" \""+eK+"\"")};
gy.prototype.S=function(){a8.prototype.S.call(this);this.ro.S();this.ZN.S();this.kc.S()};function ab(){a8.call(this,"Confirm","confirm");
this.eA=null;var o=J.k("div");o.setAttribute("style","margin-bottom:1em");this.body.appendChild(o);this.jb=J.k("div");
this.jb.textContent="Hello";o.appendChild(this.jb);this.ZN=J.hB(this,this.body)}ab.prototype=new a8;
ab.prototype.kJ=function(o){if(this.eA==null)return;console.log("okconfirm");this.close();this.eA();
this.eA=null};ab.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S()};ab.prototype.fi=function(o,P){if(P.aBn||P.ap5)this.jb.innerHTML=P.P;
else this.jb.textContent=P.P;if(P.a7J)this.ZN.ld(P.a7J);this.eA=P.eA;this.ZN.Z.focus();if(P.aBn!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.alg=P.aBn!=null};ab.prototype.pe=function(o,P){return new eD(Math.max(0,(o-500)/2),Math.max(0,Math.min(60,(P-100)/2)))};
ab.prototype.sH=function(o,P){this.jb.style.width=o-30+"px"};function gd(){a8.call(this,[1,16,2],"newartb");
this.aP=0;this.oR=null;var o=J.k("div","form");o.style.width="260px";this.body.appendChild(o);this.uy=new jO;
o.appendChild(this.uy.Z);this.ZN=J.hB(this,o)}gd.prototype=new a8;gd.prototype.ry=function(o,P){return o!=null};
gd.prototype.kJ=function(o){var P=this.uy.m();this.oR.q=P.x;this.oR._=P.y;var w=new bO(G.E.z,!0);w.I=N.jd;
w.data={aiX:this.oR,lk:this.aP};this.j(w);this.close()};gd.prototype.S=function(){a8.prototype.S.call(this);
this.uy.S();this.ZN.S()};gd.prototype.fi=function(o,P){this.aP=P.lk;var w=new fA(0,0,o.q,o._);if(o.T.length!=0){var x=o.R[o.T[0]];
if(x.add.artb){w=x.sK();w.x+=w.q+100}if(P.lk==1)w=N.DH.q_(o)}this.oR=w;this.uy.O(new eD(w.q,w._))};function h6(){a8.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.UW=null;this.J("closebtn",this.HV,this);this.J("canclose",this.HV,this)}h6.prototype=new a8;
h6.prototype.RU=function(o,P){if(this.UW)this.UW.RU(o,P)};h6.prototype.pe=function(o,P){return new eD(Math.max(0,Math.min(150,(o-980)/2)),Math.max(0,Math.min(150,(P-590)/2)))};
h6.prototype.sH=function(o,P){this.V=o;this.Y=P;o=Math.min(o,980);P=Math.min(P,590);if(this.UW)this.UW.sH(o,P)};
h6.prototype.S=function(){a8.prototype.S.call(this);if(this.UW)this.UW.S()};h6.prototype.fi=function(o,P,w,x){this.xi=P.lk==0?"Open from Storage":"Save to Storage";
this.S();if(this.UW==null){this.UW=new jh;this.UW.parent=this;this.body.appendChild(this.UW.Z);this.S();
this.sH(this.V,this.Y)}Storage.lK(P.lk,o?o.name:"");jh.s8(this.UW)};h6.prototype.HV=function(o){Storage.lK(0);
jh.SH();if(o.type=="canclose")this.close()};function g6(){a8.call(this,[2,14],"varsdats");var o=this.w$=J.k("div","form");
o.setAttribute("style","width:300px");this.body.appendChild(o);this.Ow=null;this.uH=0;this.r7=null;this.P0=new kp(null,[[2,14],"Data Sets",[1,8]]);
this.P0.J(G.E.w,this.a2O,this);this.uk=new g6.qA;this.Ys=new g6.ek;this.LH=new g6.ne;this.Ys.J("activate",this.au,this);
this.LH.J("export",this.E7,this);this.ZN=J.hB(this)}g6.prototype=new a8;g6.prototype.a2O=function(o){var P=this.P0.m(),w=this.w$;
J.eg(w);w.appendChild(this.P0.Z);J.pp(w);w.appendChild([this.uk,this.Ys,this.LH][P].Z);w.appendChild(this.ZN.Z)};
g6.prototype.kJ=function(o){var P=new bO(G.E.z,!0);P.I=N.jc;P.data={Q:X.g0,P:JSON.stringify([this.uk.m(),this.Ys.m()])};
this.j(P);this.close()};g6.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();this.LH.S()};
g6.prototype.fi=function(o,P){this.Ow=o;this.LH.Ow=o;if(o==null)return;this.uk.fi(o,P);this.Ys.fi(o,P);
this.P0.O(0);this.a2O();this.uH=0;this.LH.amS()};g6.prototype.RU=function(o,P){this.r7=o};g6.prototype.E7=function(o){var P=this.uk.m(),w=this.Ys.m(),x=this.LH.m();
if(P.length==0){alert("There are no variables.");return}if(w.length==0){alert("There are no data sets.");
return}var z=eu.a55(this.Ow,P,w,this.Ys.a4I(),x[0],x[1],x[2],this.r7,this);if(z!=null)b_.save(z,"images.zip")};
g6.prototype.au=function(o){var P=this.Ys.T,w=this.uk.m(),x=this.Ys.m();if(w.length==0){alert("There are no variables.");
return}if(x.length==0){alert("There are no data sets.");return}this.t7();this.uH+=eu.af_(this.Ow,this,w,x,this.Ys.a4I(),P)};
g6.prototype.t7=function(){var o=new bO(G.E.z,!0);o.I=N.cw;o.data={Q:"h_stepbck"};while(this.uH>0){this.j(o);
this.uH--}};g6.ne=function(){kl.call(this);var o=this.Z=J.k("div");this.ati=new iU("Variable for file names");
o.appendChild(this.ati.Z);J.pp(o);this.Ow=null;this.ia=["JPG","PNG","PDF"];this.ro=new kp([12,50],this.ia);
this.ro.J(G.E.w,this.amS,this);o.appendChild(this.ro.Z);this.JZ=new cb;o.appendChild(this.JZ.Z);this.GN=new eN("Export all items",!0,null,!0);
this.GN.J("click",this.E7,this);o.appendChild(this.GN.Z)};g6.ne.prototype=new kl;g6.ne.prototype.S=function(o){this.ati.S();
this.ro.S();this.GN.S();this.JZ.S()};g6.ne.prototype.amS=function(o){if(this.Ow==null)return;var P=this.ia[this.ro.m()],w=this.Ow,x=w.add.artd;
this.JZ.px(P,null,null,x!=null&&x.Cnt.v>1)};g6.ne.prototype.E7=function(o){this.j(new bO("export"))};
g6.ne.prototype.m=function(){var o=this.ia[this.ro.m()];return[o,this.JZ.m(),this.ati.m().trim()]};g6.ek=function(){kl.call(this);
this.l1=null;this.arw=[];this.T=0;var o=this.Z=J.k("div","form");this.adQ=new aA("Import a CSV file");
o.appendChild(this.adQ.Z);this.adQ.J(G.E.w,this.agN,this);this.iN=J.k("div","scrollable");this.iN.setAttribute("style","overflow:scroll;  height:234px;");
o.appendChild(this.iN);this.aH1=new aA("Source Images",!0);o.appendChild(this.aH1.Z)};g6.ek.prototype=new kl;
g6.ek.prototype.agN=function(o){var P=this.adQ.m();for(var w in P){P=P[w];break}this.l1=hV.M3(L.bR(P));
this.xW()};g6.ek.prototype.a4I=function(){return this.aH1.m()};g6.ek.prototype.fi=function(o,P){var w=this.l1=JSON.parse(JSON.stringify(o.kr));
this.xW()};g6.ek.prototype.m=function(){return this.l1};g6.ek.prototype.xW=function(){var o=this.$K.bind(this),P=this.l1,x="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.arw=[];var w=J.k("table");w.setAttribute("style","border-collapse: collapse;");for(var I=0;I<P.length;
I++){var z=J.k("tr"),S=P[I],k=I==0?"th":"td";w.appendChild(z);var f=J.k(k);z.appendChild(f);f.setAttribute("style",x+"cursor:pointer;");
if(I!=0)f.textContent="\u2713";this.arw.push(f);f.addEventListener("click",o,!1);for(var C=0;C<S.length;
C++){var f=J.k(k);f.textContent=S[C];z.appendChild(f);f.setAttribute("style",x);f.setAttribute("title",S[C])}}J.eg(this.iN);
this.iN.appendChild(w)};g6.ek.prototype.$K=function(o){this.T=this.arw.indexOf(o.currentTarget);this.j(new bO("activate"))};
g6.qA=function(){kl.call(this);var o=this.Z=J.k("div","form marged");this.OS=null;this.Ht=[];this.YC=[];
this.Sz=null;this.LI=new f7([0,3],[]);this.LI.J(G.E.w,this.azf,this);o.appendChild(this.LI.Z);this.ai0=[];
var P=["Visibility","Text Content","Pixel Content"];for(var I=0;I<P.length;I++){J.pp(o);var w=new f5(P[I]);
w.J(G.E.w,this.pF,this);o.appendChild(w.Z);J.jB(o);var x=new iU("Variable Name");x.J(G.E.w,this.pF,this);
o.appendChild(x.Z);this.ai0.push(w,x)}};g6.qA.prototype=new kl;g6.qA.prototype.pF=function(o){var P=this.LI.m(),w=this.Sz[P],x=this.Ht[P],z=this.OS["l"+w],S=this.ai0;
if(z==null)this.OS["l"+w]=z=[];while(z.length!=0)z.pop();for(var I=0;I<3;I++){var k=S[2*I+1].m().trim();
if(!S[2*I].m())continue;if(k.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}k=k.replaceAll(" ","");
var f={varName:k,trait:["visibility","textcontent","fileref"][I]};z.push(f);if(I==2){f.align="center";
f.clip="false";f.placementMethod="fit";f.valign="middle"}}if(z.length==0)delete this.OS["l"+w];this.fi()};
g6.qA.prototype.azf=function(o){var P=this.LI.m(),w=this.Sz[P],x=this.Ht[P],z=this.OS["l"+w],S=this.ai0;
if(z==null)z=[];for(var I=0;I<3;I++){var k=I==0||I==1&&x==0||I==2&&x==1;S[2*I].hk(k);S[2*I].O(!1);S[2*I+1].hk(k);
if(!k)S[2*I+1].O("")}for(var I=0;I<z.length;I++){var f=z[I],C=f.trait,H=["visibility","textcontent","fileref"].indexOf(C);
S[H*2].O(!0);S[H*2+1].O(f.varName)}};g6.qA.prototype.fi=function(o,P){if(o){var w=JSON.parse(JSON.stringify(o.fA)),x=this.OS={};
for(var I=0;I<w.length;I++){var z=w[I],S=z.docRef;S="l"+S.slice(4,S.length-2);if(x[S]==null)x[S]=[];
x[S].push(z)}this.Sz=[];this.Ht=[];this.YC=[];for(var I=o.R.length-1;I>=0;I--){var k=o.R[I],S=k.add.lyid;
if(k.add.lsct==jS.iz)continue;this.Sz.push(S);this.Ht.push(k.add.TySh?0:1);this.YC.push(k.getName())}}var f=[],C=this.YC;
for(var I=0;I<C.length;I++){f.push(C[I]+(this.OS["l"+this.Sz[I]]?" *":""))}var H=this.LI.m();this.LI.Cp(f);
this.LI.O(H);this.azf()};g6.qA.prototype.m=function(){var o=this.OS,P=[];for(var w in o){var x=o[w];
for(var z=0;z<x.length;z++){x[z].docRef="id('"+w.slice(1)+"')";P.push(x[z])}}return P};function g1(){a8.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.a5v=!1;var o=this.IH=[],P=J.k("div","form");P.setAttribute("style","width:20em");this.body.appendChild(P);
for(var I=0;I<2;I++){var w=new f5([22,4,2+I]);P.appendChild(w.Z);J.jB(P);var x=new kp(null,[["N equal parts"],["N pixels per part"]]);
P.appendChild(x.Z);J.jB(P);var z=new f6("N",0,1e3);z.O(4);z.parent=this;P.appendChild(z.Z);J.jB(P);if(I==0)J.pp(P);
o.push(w,x,z)}for(var I=0;I<o.length;I++)o[I].J(G.E.w,this.Xe,this);o.push(J.hB(this,P));this.J("closebtn",this.t7,this)}g1.prototype=new a8;
g1.prototype.t7=function(){if(this.a5v){var o=new bO(G.E.z,!0);o.I=N.cw;o.data={Q:"h_stepbck"};this.j(o)}};
g1.prototype.Xe=function(o){this.t7();this.a5v=!0;var P=[];for(var I=0;I<6;I++)P.push(this.IH[I].m());
var w={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var x=0;x<2;x++){if(!P[x*3])continue;var z=P[x*3+1],S=P[x*3+2];w[["slices","pixels"][z]+["Across","Down"][x]]={t:"long",v:S}}var k=new bO(G.E.qc,!0);
k.data={wQ:"divide",WP:w};this.j(k)};g1.prototype.kJ=function(o){this.close()};g1.prototype.S=function(){a8.prototype.S.call(this);
var o=this.IH;for(var I=0;I<o.length;I++)o[I].S()};g1.prototype.fi=function(o,P){this.a5v=!1};function dp(){a8.call(this,"Stroke Path","strokepath");
this.r7=null;this.vM=null;this.aks=null;this.ZN=null;this.arf=[N.XL,N.Je,N.aL,N.ji,N.ma,N.ZJ,N.H8,N.MK,N.C3,N.JR,N.zj,N.T1,N.N6,N.OO,N.iL]}dp.prototype=new a8;
dp.prototype.S=function(){a8.prototype.S.call(this);if(this.ZN){this.vM.S();this.ZN.S()}};dp.prototype.kJ=function(o){var P=this.arf[this.vM.m()],w=null;
for(var x in N.Q9)if(N.Q9[x]==P)w=x;var z=new bO(G.E.qc,!0);z.data=N.b0.gU(w,this.aks.m());this.close();
this.j(z)};dp.prototype.RU=function(o,P){if(this.r7==null){var w=[];for(var I=0;I<this.arf.length;++I){w.push(o.L.map[this.arf[I]].I.name)}var x=J.k("div","form");
this.body.appendChild(x);this.vM=new f7("Tool",w);this.vM.O(1);x.appendChild(this.vM.Z);this.aks=new f5("Simulate Pressure");
J.jB(x);x.appendChild(this.aks.Z);this.ZN=J.hB(this,this.body)}this.r7=o};function kI(){a8.call(this,[1,18],"linkview");
J.HT(this.body,"form");var o=this.k9=[new iU(null,null,17),new eN([5,1],!1,null,!0),new eN([1,0],!1,null,!0)];
for(var I=0;I<3;I++){var P=o[I];this.body.appendChild(P.Z);if(I!=0)P.J("click",this.S1,this);if(I==0)J.jB(this.body)}}kI.prototype=new a8;
kI.prototype.fi=function(o,P){var w=P.ap3;if(w.startsWith("https://"))w=w.slice(8);this.k9[0].O(w)};
kI.prototype.S1=function(o){var P=this.k9,w=P[0].m(),x=o.target==this.k9[1];if(x){navigator.clipboard.writeText(w);
alert("Copied to a clipboard!")}else window.open("https://"+w,"Shared")};function aX(o){a8.call(this,o==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][o]);
this.bQ=null;this.uV=null;this.akE=o;var P=J.k("div","form label8");P.setAttribute("style","max-width:26em");
this.body.appendChild(P);this.WX=new f7("Document",["abc","def"]);this.WX.J(G.E.w,this.pF,this);P.appendChild(this.WX.Z);
J.jB(P);this.eL=new f7([12,4],["abc","def"]);this.eL.J(G.E.w,this.pF,this);P.appendChild(this.eL.Z);
this.anE=new f5([4,11]);this.jb=new iU([12,48]);this.jb.O("Alpha");if(o==0){}else{P.appendChild(this.jb.Z)}this.Jl=new ec(!0);
P.appendChild(this.Jl.Z);this.ZN=J.hB(this,P)}aX.prototype=new a8;aX.prototype.vo=function(){return!0};
aX.prototype.S=function(){a8.prototype.S.call(this);this.ZN.S();this.WX.S();this.eL.S();this.jb.S();
this.anE.S();this.Jl.S()};aX.prototype.pF=function(o){var P=this.akE;if(o==null||o==this.WX){var w=this.WX.m(),x=this.uV[w],z=[];
if(P==0)z.push(x.R[x.T[0]].getName()+" Transparency",x.R[x.T[0]].getName()+" Gray");else z.push([5,3]);
for(var I=0;I<x.Cg.length;I++)z.push(x.Cg[I].name);this.eL.Cp(z)}if(P==0)return;var S=this.eL.m();this.jb.hk(S==0);
this.Jl.hk(S!=0)};aX.prototype.fi=function(o,P,w){this.bQ=o;this.uV=w;var x=[];for(var I=0;I<w.length;
I++){var z=w[I].name;x.push(z.length<30?z:z.slice(0,27)+"...")}this.WX.Cp(x);this.WX.O(w.indexOf(o));
this.pF(null)};aX.prototype.kJ=function(o){var P=this.akE,w=this.eL.m(),x=this.WX.m(),z=this.uV[x],S=this.Jl.m(),k,f=!1;
if(P==0){if(w==1)f=!0;w=Math.max(w-1,0)}if(w==0){k=new bO(G.E.qc,!0);if(P==0)k.data=N.z$.vf(S,f?"Gray":"Trsp",z.R[z.T[0]].getName());
else k.data={wQ:"duplicate",WP:{classID:"null",Nm:{t:"TEXT",v:this.jb.m()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{k=new bO(G.E.z,!0);
if(P==0){k.I=N.mC;k.data={Q:"fromchannel",bV:[-4-w,0,S]}}else{k.I=N.jc;k.data={Q:X.Q_,Pw:"seltochannel",bV:[w-1,S]}}}this.close();
this.j(k)};function a3(){a8.call(this,"PeaMark","peamark");var o=J.k("span");o.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(o);var P=J.k("div","form");this.body.setAttribute("style","width:300px;");this.body.appendChild(P);
this.abK=!1;this.$y=[];this.G4=[];this.aH3=[];for(var I=0;I<3;I++){var o=J.k("div");o.textContent="0";
P.appendChild(o);o.setAttribute("style","text-align:center; font-size:2em");var w=J.k("hr");this.G4.push(w);
if(I!=2)P.appendChild(w);w.setAttribute("style","height:2px; background-color:#00ff00");var x=new eN("Test "+["CPU","GPU","free RAM"][I],!0,null,!0);
P.appendChild(x.Z);x.J("click",this.adW,this);this.$y.push(o);this.aH3.push(x)}J.jB(this.body);this.ar3=new eN("Browse scores",!1,null,!0);
var z=this.ar3.Z;this.body.appendChild(z);this.ar3.J("click",this.alm,this);z.setAttribute("style","position:absolute;top:100px;left:10px;");
this.aF4=new eN("Tweet your score!",!1,null,!0);var z=this.aF4.Z;this.body.appendChild(z);this.aF4.J("click",this.alm,this);
z.setAttribute("style","position:absolute;top:100px;right:10px;");this.xG=J.k("div","scrollable");this.body.appendChild(this.xG);
this.xG.style.height="160px";this.Nn=[];this.a1D=0;this.abE=this.a0I.bind(this);this.afz()}a3.prototype=new a8;
a3.prototype.alm=function(o){var P=a3.UD,w;if(o.target==this.ar3){w="https://twitter.com/hashtag/peamark?f=live"}else{var x=P[P.length-1];
if(Math.min(x[2],x[3])==0){alert("Run both tests first.");return}w="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+x[2]+"/"+x[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(w,"_blank")};
a3.prototype.adW=function(o){var P=this.aH3.indexOf(o.target),w=1024,x=1024,z=new fA(0,0,w,x),S=this.abE;
if(P==0){var k=e.U(z.c());for(var f=0;f<x;f++)for(var C=0;C<w;C++)k[f*w+C]=((f>>>7)+(C>>>7)&1)*255;this.Nn=[P,k,w,x];
for(var I=0;I<4;I++)S(!0)}else if(P==1){var H=e.U(z.c()*4),b=fj.nR(1,w,x);b.set(H);new Uint32Array(H.buffer).fill(4278190335);
var i=fj.nR(0,w,x);i.set(H);var M=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],T={type:fj.filter.a5a,w5:new Float32Array([1/w,1/x]),a98:0,VU:20,aox:new Float32Array([0,1]),aGj:new Float32Array([0,0,0]),as8:new Float32Array(M),asf:new Float32Array(M)};
this.Nn=[P,T,H,i,b];S(!0)}else{if(this.abK){alert("Close all documents before running this test.");return}this.Nn=[P,[]];
S(!0)}this.auj=[[0,0],[0,0],[0,0]];this.a1D=Date.now();setTimeout(this.abE,20)};a3.prototype.a0I=function(o){var P=this.Nn,w=P[0],x=Date.now(),k=!1,f;
if(w==0){e.style.Vu(P[1],P[2],P[3])}else if(w==1){fj.kU(P[4]);fj.filter.xS(P[1],P[3].wH);P[4].get(P[2])}if(o)return;
var z=Date.now()-x,S=this.auj[w];S[0]+=z;S[1]++;if(w<2){var C=[26,73];f=Math.round(1e3*C[w]/(S[0]/S[1]));
var H=(Date.now()-this.a1D)/5e3,k=H>1;this.G4[w].style.width=Math.min(100,H*100)+"%"}else{var b=128*(1<<20);
try{var i=new Uint8Array(b);i.fill(117);P[1].push(i)}catch(bF){k=!0;this.Nn=null;alert("finished")}f=(P[1].length*b/(1<<30)).toFixed(2)+" GB"}this.$y[w].textContent=f;
if(!k)setTimeout(this.abE,20);else{var M=a3.UD;M[M.length-1][2+w]=f;this.afz()}};a3.prototype.afz=function(){var o=this.xG,w="",x=" style=\"text-align:right; width:4em;\">";
J.eg(o);var P=a3.UD.slice(0);P.sort(function(C,H){return 1e3*(H[2]-C[2])+(H[3]-C[3])});var z="<td"+x,S="<th"+x;
for(var I=0;I<P.length;I++){var k=P[I],f=null;if((I&1)==0)f="rgba(255,255,255,0.05)";if(k[1]=="Your Device")f="rgba(255,255,0,0.2)";
w+="<tr style=\""+(f?" background-color:"+f:"")+"\"><td>"+k[1]+"</td>"+z+k[2]+"</td>"+z+k[3]+"</td></tr>"}o.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+S+"CPU</th>"+S+"GPU</th></tr>"+w+"</table>"};
a3.prototype.fi=function(o,P,w,x){this.abK=o!=null};a3.UD=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[0,"Your Device",0,0]];
function ke(){a8.call(this,"Measurement Scale","measscale");var o=J.k("div","form label8");o.style.width="300px";
this.body.appendChild(o);var P=this.k1=[new iU("Pixel Length"),new iU("Logical Length"),new iU("Unit Name"),new jH("Hi")];
for(var I=0;I<4;I++){var w=P[I];w.J(G.E.w,this.pF,this);o.appendChild(w.Z)}this.ZN=J.hB(this,o)}ke.prototype=new a8;
ke.prototype.pe=function(o,P){return new eD(Math.max(0,Math.min(150,(o-250)/2)),Math.max(0,Math.min(150,(P-120)/2)))};
ke.prototype.pF=function(o){var P=this.k1;P[3].O(P[0].m()+" pixels = "+P[1].m()+" "+P[2].m())};ke.prototype.kJ=function(o){var P=this.k1,w=[];
for(var I=0;I<3;I++)w.push(P[I].m());w[0]=parseFloat(w[0]);w[1]=parseFloat(w[1]);var x=new bO(G.E.z,!0);
x.I=N._n;x.data={Q:"unit",P:w};this.j(x);this.close()};ke.prototype.S=function(){a8.prototype.S.call(this);
var o=this.k1;for(var I=0;I<o.length;I++)o[I].S()};ke.prototype.fi=function(o,P){var w=this.k1;w[0].O(Math.round(P.Za));
if(o.Pf){var x=o.Pf.T.v;console.log(x);w[1].O(x.logicalLength.v);w[2].O(x.logicalUnits.v)}else{w[1].O(1);
w[2].O("unitName")}this.pF()};function a1(o,P,w,x){kl.call(this);this.name=o;this.auF=w;this.FP=x;this.Xh=J.k("div","");
this.Xh.setAttribute("draggable","true");this.sX=J.k("div","pbody");this.yE=new eN("",!1,"");this.yE.parent=this;
this.agG=J.k("span","cross gsicon");this.if=J.k("span","label");var z=this.a37.bind(this);this.Xh.addEventListener("mousedown",this.a4U.bind(this),!1);
this.Xh.addEventListener("contextmenu",z,!1);this.yE.Z.addEventListener("contextmenu",z,!1);this.agG.addEventListener("mousedown",this.Ci.bind(this),!1);
this.Xh.appendChild(this.if);if(P)this.Xh.appendChild(this.agG);this.cY=!1;this.if.textContent=o}a1.prototype=new kl;
a1.prototype.uZ=function(){return null};a1.prototype.S=function(){var o=kQ.get(this.name),P=!1,w=this.V==0?22:Math.round(2+this.V/50);
if(o.endsWith(" *")){P=!0;o=o.slice(0,o.length-2);w-=2}var x=o.length>w;this.if.textContent=x?o.slice(0,w-2):o;
this.Xh.setAttribute("title",o);if(x)for(var z=0;z<2;z++){var S=J.k("span");S.textContent=o.charAt(w-2+z);
S.setAttribute("style","opacity:"+(.6-z*.4));this.if.appendChild(S)}if(P){var S=J.k("span");S.textContent=" *";
this.if.appendChild(S)}var k=o.split(" "),f=k.length==2?k[0].substring(0,2)+k[1][0]:o.substring(0,3);
if(f.charCodeAt(0)>=11776)f=f.substring(0,1);var C=this.auF;if(C==null)this.yE.ld(f,o);else{var H;if(C.startsWith("---"))H="<img src=\""+PIMG[C.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(C.startsWith("==="))H="<img src=\""+C.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(C.indexOf("\"")==-1)H="<img src=\""+C+"\" alt=\""+J.Kp(o).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.yE.ld(H,o)}};a1.prototype.enable=function(){this.sX.className="pbody"};a1.prototype.disable=function(){this.sX.className="pbody disabled"};
a1.prototype.RU=function(o,P){};a1.prototype.fi=function(o,P,w){};a1.prototype.wK=function(o){};a1.prototype.sH=function(o,P){};
a1.prototype.m6=function(o){this.name=o;this.S()};a1.prototype.IT=function(){};a1.prototype.a4U=function(o){if(o.button==0)this.j(new bO("select",!1));
if(o.button==1)this.IO()};a1.prototype.a37=function(o){J._1(o);if(this.FP!=null&&isNaN(this.FP))return;
var P=J.YH(o,document.body),w=this.av8;if(w==null){w=this.av8=new i4([{name:[1,12,0]}]);this.av8.J("select",this.Ci,this)}w.update(null);
w.S();w.parent=this;var x=new bO(G.E.X,!0);x.data={Q:G.l.tZ,NP:w,x:P.x+1,y:P.y+1};this.j(x)};a1.prototype.IO=function(){this.Ci({})};
a1.prototype.Ci=function(o){if(o.stopPropagation)o.stopPropagation();if(this.FP!=null&&!isNaN(this.FP)){var P=new bO(G.E.X,!0);
P.data={Q:G.l.pP,NP:this.av8};this.j(P);P.data={Q:G.l.CA,JL:eB.zC,P:parseFloat(this.FP),Cw:"del"};this.j(P)}else if(this.aFm())this.j(new bO(G.E.lb,!1))};
a1.prototype.aFm=function(o){return!0};a1.prototype.aE=function(o,P,w,x,z){};a1.prototype.Dv=function(o,P,w,x,z){};
a1.prototype.I2=function(o,P,w,x,z){};a1.WA=function(o,P,w){if(o.childElementCount!=0)return;var x=o.textContent;
this.I5=this.an_.bind(this);this.aGn=this.aHy.bind(this);this.gc=P;this.a2n=w;this.Tc=o;this.ahT=x;var z=J.k("input","");
z.setAttribute("type","text");z.setAttribute("size","10");z.setAttribute("value",x);J.eg(o);o.appendChild(z);
z.select();z.focus();J.Kw(o);o.addEventListener("keyup",this.I5,!1);document.body.addEventListener("mousedown",this.aGn,!1)};
a1.WA.prototype.an_=function(o){var P=i$.qw,w=P(o.code,i$.w_);if(P(o.code,i$.Sk)||w)this.aDh(w)};a1.WA.prototype.aHy=function(o){var P=o.target;
if(P.tagName&&P.tagName.toLowerCase()=="input")return;this.aDh(!0)};a1.WA.prototype.aDh=function(o){var P=this.Tc,w=P.firstChild.value;
P.removeEventListener("keyup",this.I5);document.body.removeEventListener("mousedown",this.aGn);if(this.a2n||o&&w!=""&&w!=this.ahT){this.gc(w)}else{J.eg(P);
P.textContent=this.ahT}};a1.Rz={cw:"0",aCG:"1",jc:"2",aBM:"3",a6S:"4",Gu:"5",CSS:"6",Je:"7",a5f:"8",aE4:"9",adU:"10",aGW:"11",aoI:"12",P6:"13",J4:"14",alX:"15",aq6:"16",dF:"17",ay9:"18",a0A:"19",ahN:"20",HM:"21",a66:"22",ayK:"23",agU:"24",aan:"25",a4s:"26"};
function bi(){a1.call(this,[9,9],!1,"---panels/actions",a1.Rz.aGW);this.r7=null;this.WD=[0,0]}bi.prototype=new a1("");
bi.prototype.nV=function(){if(!J.Ni(this.sX))return;if(this.KG){this.xW();return}this.KG=J.k("div","padded scrollable");
this.KG.setAttribute("style","width:260px;  height:260px");this.sX.appendChild(this.KG);this.J(G.E.w,this.WR,this);
this.ib=J.k("div","lpfoot");this.sX.appendChild(this.ib);this.jR=[];var o="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",P="</svg>",w=o+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+P,x=o+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+P;
this.aHs=o+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+P;this.akc=o+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+P;
var z=[this.aHs,x,"lrs/folder","lrs/newlayer","lrs/bin",w],S=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var I=0;I<z.length;I++){var k=z[I];if(1<I&&I!=z.length-1)k="<img src=\""+PIMG[z[I]]+"\" class=\"miniscale gsicon\" />";
var f=new eN(k,!1,S[I]);f.J("click",this.R0,this);this.ib.appendChild(f.Z);this.jR.push(f)}this.xW()};
bi.prototype.S=function(){a1.prototype.S.call(this);if(this.KG==null)return;for(var I=0;I<this.jR.length;
I++)this.jR[I].S()};bi.prototype.R0=function(o){var I=this.jR.indexOf(o.currentTarget),P=this.WD,w=this.r7,x=w.p7;
if(I==0){var z,S=w.ds;if(x.length==0){alert("Create an Action Set first.");return}if(P.length<2){alert("Select a target action first.");
return}if(S==null){z=this.akc;S=this.WD}else{z=this.aHs;S=null}this.jR[0].ld(z);w.ds=S}else if(I==1)this.ayR();
else if(I==2||I==3){var k={Ka:"Action Set "+x.length,Si:[],exp:!0};if(I==2||x.length==0){P=[x.length];
x.push(k)}if(I==3){var f=x[P[0]].Si;P=[P[0],f.length];f.push({Ka:"Action "+f.length,color:0,Si:[],aa5:!1,shift:!1,exp:!0,BG:f.length})}this.WD=P;
this.xW()}else if(I==4){var C;if(P.length==1)C=x;else if(P.length==2)C=x[P[0]].Si;else C=x[P[0]].Si[P[1]].Si;
var H=P.length-1;C.splice(P[H],1);if(C.length==0)P.pop();else while(P[H]>=C.length)P[H]--;if(P.length==0)P.push(0);
this.xW()}else if(I==5){if(x.length==0){alert("No Actions Present.");return}var b=new bO(G.E.X,!0);b.data={Q:G.l.tR,anp:eB.z,QB:P[0]};
this.j(b)}};bi.prototype.WR=function(o){var P=this.r7.p7,w=o.data.Q,x=o.data.wx;if(w=="sel")this.WD=x;
if(w=="fold"){if(x.length==1)P[x[0]].exp=!P[x[0]].exp;else P[x[0]].Si[x[1]].exp=!P[x[0]].Si[x[1]].exp}if(w=="enab"){var z=P[x[0]].Si[x[1]].Si[x[2]];
z.B=!z.B}if(w=="nchange"){if(x.length==1)P[x[0]].Ka=o.data.PV;else P[x[0]].Si[x[1]].Ka=o.data.PV}this.xW()};
bi.prototype.fi=bi.prototype.IT=function(){this.nV()};bi.prototype.RU=function(o,P){this.r7=o;if(this.KG==null)return;
if(P==eB.z||P==eB.qU)this.xW()};bi.prototype.xW=function(){if(this.r7==null)return;J.eg(this.KG);var o=this.r7.p7;
if(o.length==0)return;var P=JSON.stringify(this.WD);for(var I=0;I<o.length;I++){var w=o[I],x=new bi.Xb([I],P,w.exp,w.Ka.split("=").pop());
x.parent=this;this.KG.appendChild(x.Z);if(!w.exp)continue;for(var z=0;z<w.Si.length;z++){var S=w.Si[z],x=new bi.Xb([I,z],P,S.exp,S.Ka.split("=").pop());
x.parent=this;this.KG.appendChild(x.Z);if(!S.exp)continue;for(var k=0;k<S.Si.length;k++){var f=S.Si[k],x=new bi.Xb([I,z,k],P,null,kQ.get(h7.aFx(f)),f.B);
x.parent=this;this.KG.appendChild(x.Z)}}}};bi.prototype.ayR=function(){var o=this.r7.p7,P=this.WD;if(o.length==0){alert("No Actions Present");
return}if(P.length==1){alert("Select an Action first");return}if(this.r7.ds!=null){alert("You can not apply actions while recording actions");
return}if(P.length==1)P.push(0);var w=o[P[0]],x=w.Si[P[1]],z=new bO(G.E.X,!0);z.data={Q:G.l.Ho,bV:[x.Ka,w.Ka]};
this.j(z)};bi.Xb=function(o,P,w,x,z){kl.call(this);this.wx=o;var S=this.wx.length-1;this.Z=J.k("div","layeritem"+(JSON.stringify(o)==P?" selected":""));
this.LB=J.k("div","head");this.Z.appendChild(this.LB);this.LB.setAttribute("style","height:24px");this.je=J.k("div","headL");
this.LB.appendChild(this.je);if(S!=0){var k=J.k("div");k.style.width=S*20+"px";this.je.appendChild(k)}if(w!=null){var f=this.apl=J.k("div",w?"open":"closed");
this.je.appendChild(f)}else{var C=this.azF=J.k("div","cmark");C.setAttribute("style","background-size:12px 12px; opacity:"+(z?1:.3));
this.je.appendChild(C)}if(S==0){var H=J.k("div","folder");this.je.appendChild(H)}var b=this.if=J.k("div","label");
b.textContent=x;this.je.appendChild(b);this.Z.addEventListener("mouseup",this.au.bind(this),!1)};bi.Xb.prototype=new kl;
bi.Xb.prototype.au=function(o){if(o.detail==1&&o.target.tagName.toLowerCase()!="input"){var P="sel";
if(o.target==this.apl)P="fold";if(o.target==this.azF)P="enab";var w=new bO(G.E.w,!0);w.data={Q:P,wx:this.wx};
this.j(w)}else if(this.wx.length<3)var x=new a1.WA(this.if,this.gc.bind(this))};bi.Xb.prototype.gc=function(o){var P=new bO(G.E.w,!0);
P.data={Q:"nchange",PV:o,wx:this.wx};this.j(P)};function dZ(){a1.call(this,[3],!1,"---lrs/adj",a1.Rz.ay9)}dZ.prototype=new a1("");
dZ.prototype.nV=function(){if(!J.Ni(this.sX)||this.jR)return;this.sX.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.jR=[];var I=0;for(var o in ft.names){var P=new eN("<img src=\""+PIMG["adj/"+o]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,ft.names[o]);
P.J("click",this.xy,this);this.jR.push(P);this.sX.appendChild(P.Z);if(I==4||I==10)J.jB(this.sX);I++}this.S()};
dZ.prototype.fi=function(){this.nV()};dZ.prototype.IT=function(){this.nV()};dZ.prototype.S=function(){a1.prototype.S.call(this);
if(this.jR==null)return;for(var I=0;I<this.jR.length;I++)this.jR[I].S()};dZ.prototype.xy=function(o){var P=this.jR.indexOf(o.target),w=eq.LR()[P],x=new bO(w.K,!0);
x.data=w.o;this.j(x)};function dn(){a1.call(this,[12,22],!1,null,a1.Rz.HM);this.KG=J.k("div","padded");
this.r7=null;this.sX.appendChild(this.KG);this.jL=new bB(null,17.7,10);this.jL.parent=this;this.jL.J(G.E.w,this.Xe,this);
this.KG.appendChild(this.jL.oy)}dn.prototype=new a1("");dn.prototype.Xe=function(o){var P=this.jL.m(),w=new bO(G.E.z,!0);
w.data={Q:"setstl",P:P.M6};w.I=N.dX;this.j(w);w.data={Q:"confirm"};this.j(w)};dn.prototype.RU=function(o,P){this.r7=o;
this.xW()};dn.prototype.xW=function(){var o=this.r7;if(o==null)return;this.jL.Rj([o.Wt,o.a2]);this.jL.sH()};
dn.prototype.fi=function(){this.xW()};dn.prototype.IT=function(){this.xW()};var hG=function(){function o(){a1.call(this,[9,3],!1,"---panels/brush",a1.Rz.Je);
this.Bb=null;this.r7=null}o.prototype=new a1("");o.prototype.nV=function(){var z=J.k("div","");this.sX.appendChild(z);
this.fa=J.k("div","bordered cell");this.fa.setAttribute("style","width:10em; height:28.5em;");z.appendChild(this.fa);
this.r9=[];this.abQ=null;this.u1=[];var S=this.a0y.bind(this);this.Q2=[new w("basic"),new w("useTipDynamics"),new w("useScatter"),new w("useColorDynamics"),new w("usePaintDynamics")];
for(var I=0;I<this.Q2.length;I++){var k=J.k("div","listitem"),f=this.Q2[I],H=null;f.parent=this;f.J("brushchange",this.a54,this);
var C=f.Mv;if(I==0){this.abQ=new jH(C);k.appendChild(this.abQ.Z)}else{H=new f5(C,!1);H.J(G.E.w,this.auH,this);
k.appendChild(H.Z)}this.u1.push(H);this.fa.appendChild(k);this.r9.push(k);k.addEventListener("click",S,!1)}this.tL=J.k("div","cell padded");
z.appendChild(this.tL);this.setItem(0);this.hj=J.k("canvas");this.hj.height=10;z.appendChild(this.hj);
this.QA=this.hj.getContext("2d");this.qs()};o.prototype.sH=function(z,S){if(this.V==z)return;this.V=z;
this.Y=S;this.qs()};o.prototype.IT=function(){if(!J.Ni(this.sX))return;if(this.fa){this.qs();return}this.nV();
this.S();this.RU(this.r7,eB.qU)};o.prototype.S=function(){a1.prototype.S.call(this);if(this.fa==null)return;
this.abQ.S();for(var I=1;I<this.u1.length;I++)this.u1[I].S();for(var I=0;I<this.Q2.length;I++)this.Q2[I].S()};
o.prototype.a54=function(z){var S=this.Q2.indexOf(z.currentTarget),k=JSON.parse(JSON.stringify(this.Q2[S].Bb)),f=new bO(G.E.X,!0);
f.data={Q:G.l.CA,JL:eB.hL,Bb:k};this.j(f)};o.prototype.auH=function(z){this.agi(this.u1.indexOf(z.currentTarget),z.currentTarget.r8())};
o.prototype.a0y=function(z){var I=this.r9.indexOf(z.currentTarget);if(z.target.tagName.toLowerCase()=="input")return;
if(this.u1[I]&&!this.u1[I].r8()){this.u1[I].UL();this.agi(I,!0)}this.setItem(I)};o.prototype.agi=function(z,S){this.Q2[z].aA9(S)};
o.prototype.setItem=function(z){for(var I=0;I<this.Q2.length;I++)this.r9[I].className="listitem";if(this.tL.firstChild)this.tL.removeChild(this.tL.firstChild);
this.r9[z].className="listitem selected";this.tL.appendChild(this.Q2[z].Z)};o.prototype.RU=function(z,S){this.r7=z;
if(this.fa==null)return;for(var I=0;I<this.Q2.length;I++)this.Q2[I].RU(z,S);if(S==eB.hL||S==eB.qU){this.Bb=z.E8.Ac;
this.qs()}if(S==eB.P6)this.qs()};o.prototype.qs=function(){if(this.Bb)this.enable();else{this.disable();
return}if(!J.Ni(this.sX))return;var z=this.r7;for(var I=0;I<this.Q2.length;I++){this.Q2[I].O(this.Bb);
if(this.u1[I])this.u1[I].O(this.Q2[I].r8())}var S=JSON.parse(JSON.stringify(this.Bb));S.Brsh.v.Dmtr.v.val=Math.min(S.Brsh.v.Dmtr.v.val,50);
J.Wy(this.hj,this.V,80);var k=new fA(0,0,this.hj.width,this.hj.height),f=this.r7.E8,C=new j2(S,f?f.MH:null,f?f.Nc:null,{CB:1},z.AB,z.eI,k,null,0),H=k._/2,b=k.q-H*2;
C.moveTo(H,H);for(var I=0;I<=b;I+=10)C.lineTo(H+I,H+20*Math.sin(2*Math.PI*I/b));C.finish();var i=this.QA.createImageData(k.q,k._);
e.sR(C.$C(),C.q_(),i.data,k);this.QA.putImageData(i,0,0)};function P(z){kl.call(this);z=z.split(".")[0];
this.FY=z;var S=this.Z=J.k("span"),k=["Off","Fade"];k.push(z=="angleDynamics"?"Direction":"Pen Pressure");
var f=this.aV=new f7("Control",k);f.J(G.E.w,this.pF,this);S.appendChild(f.Z);var C=this.a0j=new f6(null,0,100,null,null,null,!0);
C.O(50);C.J(G.E.w,this.pF,this)}P.prototype=new kl;P.prototype.O=function(z){z=z<2?z:2;this.aV.O(z);
this.xW()};P.prototype.m=function(){var z=this.aV.m(),S=this.FY;z=z<=1?z:S=="angleDynamics"?6:2;return z};
P.prototype.pF=function(z){this.xW();z.target=z.currentTarget=this;this.j(z)};P.prototype.xW=function(z){this.a0j.hk(this.aV.m()==1)};
function w(z){kl.call(this);this.Z=J.k("div");this.Bb=null;var S=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(z);
this.Mv=[[15,0],[15,1],[15,2],[15,3],"Transfer"][S];this.aP=z;this.us={};this.a5y=null;var k=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][S];
for(var I=0;I<k.length;I++){var f=k[I],C;if(f=="--br"){C=new b1;this.Z.appendChild(C.oy.firstChild)}else if(f=="Brsh.Dmtr")C=new aT([12,14,0],1,1e3," px",0,!0);
else if(f=="Brsh.Angl")C=new aT([12,15],0,359," \xB0");else if(f=="Brsh.Rndn")C=new aT([12,16],0,100," %");
else if(f=="Brsh.Hrdn")C=new aT([12,17],0,100," %");else if(f=="Brsh.Spcn")C=new aT([12,18],1,300," %");
else if(f=="szVr.jitter")C=new aT([15,4,0],0,100,"%");else if(f=="minimumDiameter")C=new aT([15,4,1],0,100,"%");
else if(f=="angleDynamics.jitter")C=new aT([15,4,2],0,100,"%");else if(f.endsWith("bVTy"))C=new P(f);
else if(f.endsWith("fStp"))C=new f6(null,0,100,null,null,null,!0);else if(f=="roundnessDynamics.jitter")C=new aT([15,4,3],0,100,"%");
else if(f=="minimumRoundness")C=new aT([15,4,4],1,100,"%");else if(f=="scatterDynamics.jitter")C=new aT([15,5,0],0,1e3," %");
else if(f=="Cnt")C=new aT([15,5,1],1,20);else if(f=="countDynamics.jitter")C=new aT([15,5,2],0,100," %");
else if(f=="clVr.jitter")C=new aT([15,6,0],0,100," %");else if(f=="H")C=new aT([15,6,1],0,100," %");
else if(f=="Strt")C=new aT([15,6,2],0,100," %");else if(f=="Brgh")C=new aT([15,6,3],0,100," %");else if(f=="opVr.jitter")C=new aT("Opacity Jitter",0,100," %");
else if(f=="prVr.jitter")C=new aT("Flow Jitter",0,100," %");else throw f;this.us[f]=C;C.parent=this;
C.J(G.E.w,this.pF,this)}}w.prototype=new kl;w.prototype.aBV=function(){this.j(new bO("brushchange"))};
w.prototype.O=function(z){this.Bb=JSON.parse(JSON.stringify(z));this.Z.className=this.r8()?"":"disabled";
this.qs()};w.prototype.S=function(){for(var z in this.us)this.us[z].S()};w.prototype.r8=function(){return!0};
w.prototype.RU=function(z,S){if(S==eB.Je||S==eB.qU){var k=this.us["--br"];if(k)k.Rj(z.E8)}};w.prototype.pF=function(z){var S=z.target,k=this.us,f;
for(var C in k)if(k[C]==S)f=C;if(f=="--br"){var H=new bO(G.E.X,!0);H.data={Q:G.l.CA,JL:eB.hL,Bb:S.m()};
this.j(H)}else{var b=x(this.Bb,f),i=S.m();if(b){if(f.endsWith("bVTy")||f.endsWith("fStp")||f=="Cnt")b.v=i;
else b.v.val=i;this.aBV()}}};w.prototype.qs=function(){var z=this.Bb,S=z.Brsh.v.classID,k=this.us,f=S!=this.a5y;
this.a5y=S;if(f){J.eg(this.Z);for(var C in k){if(S!="computedBrush"&&S!="sampledBrush"&&C=="Brsh.Rndn")continue;
if(S!="computedBrush"&&C=="Brsh.Hrdn")continue;var H=k[C],b=H.Z;if(C=="--br"){b=H.W9.Z;b.style.width="auto"}this.Z.appendChild(b)}}for(var C in k){if(C=="--br")continue;
var i=x(z,C),M;if(i){if(C.endsWith("bVTy")||C.endsWith("fStp")||C=="Cnt")M=i.v;else M=i.v.val;k[C].O(M);
if(C.endsWith("fStp"))k[C].hk(x(z,C.split(".")[0]+".bVTy").v==1)}}};w.prototype.r8=function(){var z=this.aP;
return z=="basic"?!0:this.Bb[z].v};w.prototype.aA9=function(z){var S=this.aP;if(S=="basic")return;this.Bb[S].v=z;
bh.ha.akd(this.Bb);this.aBV()};function x(z,S){var k=S.split(".");z=z[k[0]];for(var I=1;I<k.length;I++){if(z==null)return z;
z=z.v[k[I]]}return z}return o}();function hF(){a1.call(this,[9,0],!1,"---panels/history",a1.Rz.cw);this.sX.setAttribute("style","min-width:200px;");
this.Ga=J.k("div","hpbody scrollable");this.Ga.style.height="160px";this.sX.appendChild(this.Ga);this.ahj=-1;
this.a8Y=[];this.GI="";this.HZ=new i4([{name:"Clear History"}],[{K:G.E.z,I:N.cw,o:{Q:"h_clear"}}])}hF.prototype=new a1("");
hF.prototype.uZ=function(){return this.HZ};hF.prototype.sH=function(o,P){this.IT()};hF.prototype.fi=function(o){if(o==null){J.eg(this.Ga);
this.GI="";return}J.eg(this.Ga);var P=0;for(var I=0;I<o.history.length;I++)if(I<=o.Mi&&!o.history[I].BZ)P=I;
for(var I=0;I<o.history.length;I++){var w=o.history[I];if(w.BZ)continue;var x=new bY(w,I,P);x.parent=this;
this.Ga.appendChild(x.Z);this.a8Y.push(x)}if(o.Mi==o.history.length-1)this.IT()};hF.prototype.IT=function(){this.Ga.scrollTop=this.Ga.scrollHeight};
hF.prototype.S=function(){a1.prototype.S.call(this);for(var I=0;I<this.a8Y.length;I++)this.a8Y[I].S()};
function bY(o,I,P){kl.call(this);this.index=I;this.Z=J.k("div",I==P?"listitem selected":"listitem");
this.Qg=o.name;this.S();if(I>P)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.aE.bind(this),!1)}bY.prototype=new kl;
bY.prototype.S=function(){this.Z.textContent=kQ.get(this.Qg)};bY.prototype.aE=function(o){if(this.index==this.parent.ahj)return;
this.fQ({Q:"h_itemchange",index:this.index})};bY.prototype.fQ=function(o){var P=new bO(G.E.z,!0);P.data=o;
P.I=N.cw;this.j(P)};function ga(){a1.call(this,[9,10],!1,"---panels/histogram",a1.Rz.a6S);var o=J.k("div","padded");
this.sX.appendChild(o);this.Ep=new kf(256,!0);o.appendChild(this.Ep.Z);this.Ow=null}ga.prototype=new a1("");
ga.prototype.fi=function(o){this.Ow=o;this.xW()};ga.prototype.xW=function(){var o=this.Ow;if(!J.Ni(this.sX))return;
if(o==null||o.T.length==0){this.Ep.O(e.DM(e.U(4)));return}var P=o.Ey(),w=new fA(0,0,o.q,o._),x=w.c();
if(o.e){var z=o.e.rect,S=e.U(z.c()*4);e.sR(P,w,S,z);e.aS(o.e.channel,S);P=S;w=z;var k=o.e.channel;x=0;
for(var I=0;I<k.length;I++)x+=k[I];x=Math.round(x/255)}var f=e.DM(P);f[0][255]+=3*(x-f[5]);for(var I=1;
I<4;I++)f[I][255]+=x-f[5];this.Ep.O(f,x)};ga.prototype.RU=function(o,P){this.Ep.bN(cG._b[o.n9]["--text-color"])};
ga.prototype.S=function(){a1.prototype.S.call(this);this.Ep.S()};ga.prototype.IT=function(){this.xW()};
function fi(){a1.call(this,[9,8],!1,"---adj/clrL",a1.Rz.aCG);this.KG=J.k("div","padded");this.sX.appendChild(this.KG);
this.gK=new dC(10);this.KG.appendChild(this.gK.Z);this.XS=new eL;this.XS.parent=this;this.KG.appendChild(this.XS.oy);
this.XS.oy.style.marginTop="6px";this.gK.J(G.E.w,this.a0V,this);this.XS.J(G.E.w,this.a0V,this)}fi.prototype=new a1("");
fi.prototype.a0V=function(o){var P;if(o.target==this.gK)P=this.gK.m();else{var w=this.XS.m();P=e.Oq(w)}var x=new bO(G.E.X,!0);
x.data={Q:G.l.CA,JL:eB.P6,Pw:0,P:P};this.j(x)};fi.aN=function(o,P){var w=P==eB.qU,x=o.Ev,z=o.j2,S=z.strokeStyleContent.v,k=null;
if((P==eB.jf||w)&&x.Ya==1){k=e.G.dQ(x.v4.Clr.v);k=k.$<<16|k.H<<8|k.b}if((P==eB.eF||w)&&z.strokeEnabled.v&&S.classID=="solidColorLayer"){k=e.G.dQ(S.Clr.v);
k=k.$<<16|k.H<<8|k.b}if(P==eB.P6||w)k=o.AB;return k};fi.prototype.RU=function(o,P){var w=o.AB,x=P==eB.qU,z=fi.aN(o,P);
if(z!=null){this.gK.O(z);this.XS.O({$:z>>>16&255,H:z>>>8&255,b:z>>>0&255,MU:"Default/Color #"+e.UM(z)})}if(P==eB.cS||x){var S=o.a2s;
this.XS.Rj(S)}};fi.prototype.sH=function(o,P){this.XS.oy.children[0].style.width=o-32+"px"};function am(){a1.call(this,[12,72],!1,"---adj/mixr",a1.Rz.aq6);
this.LO=null;this.Hk=null;this.Ga=J.k("div","lpbody scrollable");this.Ga.style.marginTop="4px";this.ib=J.k("div","lpfoot");
this.sX.appendChild(this.Ga);this.sX.appendChild(this.ib);this.ahH=[];this.J("click",this.h0,this);this.aH=[];
am.nb([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.aH,this.ib,this.jy.bind(this),this.FZ.bind(this));
this.HZ=new i4([{name:"Merge Channels",Na:!0}],[{K:G.E.X,o:{Q:G.l.y7,hq:"mergechannels"}}])}am.prototype=new a1("");
am.prototype.uZ=function(){return this.HZ};am.nb=function(o,P,w,x,z){for(var I=0;I<o.length;I++){var S=new eN("W",!1,o[I]);
P.push(S);J.Dw(S.Z,x);w.appendChild(S.Z);var k=S.Z;k.addEventListener("drop",z,!1);k.addEventListener("dragover",function(f){f.preventDefault()},!1);
k.addEventListener("dragenter",J._1,!1)}};am.kv=function(o,P){for(var I=0;I<o.length;I++)if(o[I].Z==P.currentTarget)return I};
am.prototype.jy=function(o){var P=am.kv(this.aH,o);if(P==0)this.j(hv.kD(!0,null,o));else{P--;var w=new bO(G.E.qc,!0),x={classID:"null"};
if(P==0)x.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(P==1)x.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else x.null=h7.TZ("Chnl",!0);w.data={wQ:["duplicate","make","delete"][P],WP:x};this.j(w)}};am.prototype.FZ=function(o){var P=am.kv(this.aH,o);
if(P==2){var w=new bO(G.E.qc,!0),x={classID:"null"};x.null=h7.TZ("Chnl",!0);w.data={wQ:"duplicate",WP:x};
this.j(w)}else this.jy(o)};am.prototype.xt=function(I){var o=this.ahH,P=o[I];if(P==null){var w=J.k("canvas");
P=w.getContext("2d");o.push(P)}return P};am.prototype.h0=function(o){var P=this.LO.slice(0),w=o.data.BG,x=P[0]+P[1]+P[2],z=this.Hk;
if(-5<w&&w<0){var S=-w-1;if(o.data.cn){if(S==0)P=x==3?[0,0,0]:[1,1,1];else{if(P[S-1]==0)P[S-1]=1;else if(!0)P[S-1]=0}}else{if(S==0)P=[1,1,1];
else{P=[0,0,0];P[S-1]=1}for(var I=0;I<z.Cg.length;I++)z.Cg[I]._8=!1;z.jM=[]}var k=new bO(G.E.z,!0);k.I=N.ws;
k.data={Q:"setcls",A:P};this.j(k);return}if(-1<w){var f=z.R[w],C=f.Zx==1?f.Jq():f.fP(z).u;if(o.data.cn)C._8=!C._8;
else{for(var I=0;I<z.Cg.length;I++)z.Cg[I]._8=!1;z.jM=[]}}else{var H=-w-5,C=z.Cg[H];if(o.data.cn)C._8=!C._8;
else{for(var I=0;I<z.Cg.length;I++)z.Cg[I]._8=!1;C._8=!0;z.jM=[H];if(x!=0){var k=new bO(G.E.z,!0);k.I=N.ws;
k.data={Q:"setcls",A:[0,0,0]};this.j(k)}}}z.yW=z.dH=!0};am.prototype.IT=function(){this.vF()};am.prototype.fi=function(o){this.Hk=o;
this.vF()};am.prototype.vF=function(){var o=this.Hk,P=this.Ga,T=4;J.eg(P);if(o==null||!J.Ni(P))return;
var w=o.q,x=o._,z=new fA(0,0,w,x),S=this.LO=o.s.A.slice(0),k=S[0]+S[1]+S[2],f=Math.round(34*J.M()),C=f;
if(w>x)C=Math.round(C*x/w);else f=Math.round(f*w/x);var H=["RGB"].concat(ft.uI);for(var I=0;I<4;I++){var b=this.xt(I);
e.KJ.rm(b,f,C,z,o.Ey(),z,!1,I==0?null:I-1);var i=I==0?k==3:S[I-1]==1,M=new hv(-1-I,!0,!0,b,H[I],i,i);
M.parent=this;P.appendChild(M.Z);J.PH(b.canvas)}for(var I=0;I<o.T.length;I++){var O=o.R[o.T[I]],Y=O.Zx;
if(Y!=1&&Y!=3)continue;var U=Y==1?O.Jq():O.fP(o).u,b=this.xt(T+I);T++;e.KJ.P9(b,f,C,z,U);var M=new hv(o.T[I],!0,!0,b,O.getName()+(Y==1?"":" Filter")+" Mask",!0,U._8);
M.parent=this;P.appendChild(M.Z);J.PH(b.canvas)}for(var I=0;I<o.Cg.length;I++){var U=o.Cg[I],b=this.xt(T+I);
e.KJ.P9(b,f,C,z,U);var M=new hv(-5-I,!0,U.name=="Quick Mask",b,U.name,o.jM.indexOf(I)!=-1,U._8,N.jc,{Q:X.Q_,Pw:"rnm",BG:I});
M.parent=this;P.appendChild(M.Z);J.PH(b.canvas)}};am.prototype.sH=function(o,P){this.Ga.style.height=P-30-4+"px";
this.Ga.style.width=o+"px"};am.prototype.S=function(){a1.prototype.S.call(this);this.vF();am.Jy(this.aH,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
am.Jy=function(o,P,w){var P=kp.d4(P,null,"miniscale");for(var I=0;I<o.length;I++)o[I].ld(P[I],w?w[I]:null)};
function hv(o,P,w,x,z,S,k,f,C){kl.call(this);this.Z=J.k("div");this.azj=o;this.az7=P;this.QA=x;this.aHu=f;
this.a7$=C;this.LB=J.k("div",S?"head selected":"head");this.LB.setAttribute("style","height: "+40+"px");
var H=J.k("div","headL"),b=J.k("div","headR"),i=15;this.Z.appendChild(this.LB);this.LB.appendChild(H);
this.LB.appendChild(b);this.et=J.k("div","eye");if(1<J.M()&&J.M()<1.5)i=i/J.M();this.et.setAttribute("style","background-size: "+i+"px "+i+"px;");
this.et.style.opacity=k?1:.2;if(P)H.appendChild(this.et);this.md=J.k("div","thumb");if(x)this.md.appendChild(x.canvas);
H.appendChild(this.md);this.x3=J.k("div","label");if(w)this.x3.style.fontStyle="italic";this.x3.textContent=kQ.get(z);
H.appendChild(this.x3);var M=this.LB;M.setAttribute("draggable","true");M.addEventListener("dragstart",function(T){T.stopPropagation();
T.dataTransfer.setData("Text","hello")},!1);M.addEventListener("drop",J._1,!1);J.Dw(this.LB,this.a5U.bind(this));
if(!w)this.LB.addEventListener("mouseup",this.acU.bind(this),!1)}hv.prototype=new kl;hv.prototype.gc=function(o){var P=new bO(G.E.z,!0);
P.I=this.aHu;P.data=this.a7$;P.data.name=o;this.j(P)};hv.prototype.a5U=function(o){var P=o.ctrlKey||o.metaKey,w=this.azj;
if(P&&o.target==this.QA.canvas){this.j(hv.kD(this.az7,w,o))}else{var x=new bO("click",!0);x.data={BG:w,cn:o.target==this.et,PE:P};
this.j(x)}};hv.prototype.acU=function(o){if(o.detail==2&&o.target==this.x3){var P=new a1.WA(this.x3,this.gc.bind(this))}};
hv.kD=function(o,P,w){var x=0;if(w.shiftKey)x++;if(w.altKey)x+=2;var z=new bO(G.E.z,!0);z.I=N.mC;if(o){if(-5<P&&P<0){z=new bO(G.E.qc,!0);
z.data=N.z$.vf(x,["RGB","Rd","Grn","Bl"][-1-P])}else z.data={Q:"fromchannel",bV:[P,0,x]}}else z.data={Q:"frompath",bV:[P,0,x]};
return z};function gk(){a1.call(this,[8,9],!1,"---panels/paths",a1.Rz.dF);this.LO=null;this.Hk=null;
this.Ga=J.k("div","lpbody scrollable");this.Ga.style.marginTop="4px";this.ib=J.k("div","lpfoot");this.sX.appendChild(this.Ga);
this.sX.appendChild(this.ib);this.sX.addEventListener("click",this.atu.bind(this),!1);this.ahH=[];this.J("click",this.h0,this);
this.aH=[];am.nb(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.aH,this.ib,this.jy.bind(this),this.FZ.bind(this))}gk.prototype=new a1("");
gk.prototype.jy=function(o,P){var w=am.kv(this.aH,o),x;if(w<2){if(w==1&&o.altKey){x=new bO(G.E.X,!0);
x.data={Q:G.l.y7,hq:"strokepath"}}else{x=new bO(G.E.qc,!0);x.data=N.b0.gU(w==0?null:"PbTl")}}else if(w==2)x=hv.kD(!1,null,o);
else if(w==3){x=new bO(G.E.qc,!0);x.data={wQ:"make",WP:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(w>3){var x=new bO(G.E.z,!0);
x.I=N.QV;x.data={Q:"pathedit",Pw:["new","del"][w-4],atO:P}}this.j(x)};gk.prototype.FZ=function(o){this.jy(o,!0)};
gk.prototype.xt=function(I){var o=this.ahH,P=o[I];if(P==null){var w=J.k("canvas");P=w.getContext("2d");
o.push(P)}return P};gk.prototype.atu=function(o){if(o.target==this.Ga){var P=this.Hk;P.lL=[];P.wJ=[];
P.dH=!0;P.yW=!0}};gk.prototype.h0=function(o){var P=o.data.BG,w=this.Hk,x=o.data.PE,z=P,S=w.wJ,k=w.lL;
if(P<0){z=-1-P;S=w.lL;k=w.wJ}if(x){var f=S.indexOf(z);if(f==-1)S.push(z);else S.splice(f,1)}else{while(S.length!=0)S.pop();
while(k.length!=0)k.pop();S.push(z)}w.dH=!0;w.yW=!0};gk.prototype.IT=function(){this.vF()};gk.prototype.fi=function(o){this.Hk=o;
this.vF()};gk.prototype.vF=function(){var o=this.Hk,P=this.Ga;J.eg(P);if(o==null||!J.Ni(P))return;var w=o.q,x=o._,z=new fA(0,0,w,x),S=this.LO=o.s.A.slice(0),k=S[0]+S[1]+S[2],f=Math.round(34*J.M()),C=f;
if(w>x)C=Math.round(C*x/w);else f=Math.round(f*w/x);var H=o.m0(),b=H[0];for(var I=0;I<b.length;I++){var i=b[I],M=this.xt(I);
e.KJ.a9p(M,f,C,z,i.add.vmsk);var T=new hv(i.BG,!1,i.BG>=0,M,i.name,H[1].indexOf(I)!=-1,!1,N.QV,{Q:"pathedit",Pw:"rnm",BG:i.BG});
T.parent=this;P.appendChild(T.Z);J.PH(M.canvas)}};gk.prototype.sH=function(o,P){this.Ga.style.height=P-30-4+"px";
this.Ga.style.width=o+"px"};gk.prototype.S=function(){a1.prototype.S.call(this);this.vF();am.Jy(this.aH,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function dI(o){a1.call(this,[9,o?4:5],!1,"---panels/"+(o?"character":"paragraph"),o?a1.Rz.aE4:a1.Rz.adU);
this.sX.setAttribute("style","min-width:255px;");this.acV=o;this.m_=null;this.r7=null}dI.prototype=new a1("");
dI.prototype.nV=function(){this.m_=new hZ;var o=this.m_,P=this.sX;o.parent=this;if(this.acV){var w=J.k("div","marged");
P.appendChild(w);w.appendChild(o.Ln.Z);P.appendChild(J.k("hr"));var x=J.k("div","marged");P.appendChild(x);
x.appendChild(o.i5.Z);x.appendChild(o.jq.Z);var z=J.k("div","marged");P.appendChild(z);z.appendChild(o.xQ.Z);
z.appendChild(o.E1.Z);P.appendChild(J.k("hr"));var S=J.k("div","marged");P.appendChild(S);S.appendChild(o.ok.Z);
S.appendChild(o.Lp.Z);var k=J.k("div","marged");P.appendChild(k);k.appendChild(o.Q8.Z);k.appendChild(o.gn.Z);
k.appendChild(o.oT.Z);P.appendChild(J.k("hr"));var f=J.k("div","marged");P.appendChild(f);f.appendChild(o.D0.Z);
f.appendChild(o.ud.Z);f.appendChild(o._c.Z);f.appendChild(o.fk.Z);f.appendChild(o.Vt.Z);f.appendChild(o.LN.Z);
f.appendChild(o.f5.Z);f.appendChild(o.v0.Z);var C=J.k("div","marged");P.appendChild(C);for(var I=0;I<8;
I++)C.appendChild(o.cE[I].Z)}else{var w=J.k("div","marged");P.appendChild(w);w.appendChild(o.v6.Z);w.appendChild(o.G0.Z);
w.appendChild(o.S0.Z);w.appendChild(o.a46.Z);w.appendChild(o.a7m.Z);w.appendChild(o.ato.Z);w.appendChild(o.aiP.Z);
P.appendChild(J.k("hr"));var x=J.k("div","marged");P.appendChild(x);x.appendChild(o.C6.Z);x.appendChild(o.i$.Z);
x.appendChild(o.ak.Z);P.appendChild(J.k("hr"));var z=J.k("div","marged");P.appendChild(z);z.appendChild(o.SI.Z);
z.appendChild(o.eX.Z);z.appendChild(o.lf.Z);z.appendChild(o.SC.Z)}};dI.prototype.IT=function(){if(!J.Ni(this.sX))return;
if(this.m_==null){this.nV();var o=this.r7;if(o)this.m_.O(o.xp,o.v7,o.Q4);this.m_.S()}};dI.prototype.S=function(){a1.prototype.S.call(this);
if(this.m_)this.m_.S()};dI.prototype.RU=function(o,P){this.r7=o;if(P!=eB.qU&&P!=eB.Q7&&P!=eB.Wh&&P!=eB.MI)return;
if(this.m_)this.m_.O(o.xp,o.v7,o.Q4)};function iW(o){a1.call(this,o?"Character Styles":"Paragraph Styles",!1,null,o?a1.Rz.agU:a1.Rz.aan);
this.sX.setAttribute("style","min-width:240px;");var P=this.Vr=J.k("div","scrollable");this.sX.appendChild(P);
P.setAttribute("style","max-height:400px;");this.Z0=null;this.aAV=null;this.IH=null;this.acV=o?0:1;this.Ow=null;
this.r7=null;this.axD=iW.prototype.s9.bind(this)}iW.prototype=new a1("");iW.prototype.fi=function(o,P,w){this.Ow=o;
this.r7=w;this.vF()};iW.prototype.vF=function(){var o=this.Vr;J.eg(o);if(!J.Ni(this.sX))return;var P=this.Ow,w=this.r7;
if(P==null||w==null)return;var x=w.xp,z=this.Z0=[],S={},k=this.aAV=[],f=this.IH=[],C={},H=this.acV,b=H==0?"Style":"Paragraph";
for(var I=0;I<P.R.length;I++){var i=P.R[I].add.TySh;if(i==null)continue;var M=i.OY,T=i.h.gz(),O=M.ResourceDict.FontSet,Y=M.EngineDict[b+"Run"],U=Y.RunArray;
for(var W=0;W<U.length;W++){var t=iW.afq(U[W][b+"Sheet"][H==0?"StyleSheetData":"Properties"],H,O,k,C,T);
if(t.FillColor==null)t.FillColor={Type:1,Values:[1,0,0,0]};var _=JSON.stringify(t);if(S[_]==null){S[_]=!0;
z.push(t)}}}var n=H==0?function(r,h){return h.FontSize-r.FontSize}:function(r,h){return r.Justify-h.Justify};
z.sort(n);var y=[];if(H==0){var F=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],a=F.length,V=new Array(a),D=1e9,l=0;
V.fill(1e9);for(var I=0;I<z.length;I++){var Q=z[I],O=Q.FontSize;D=Math.min(D,O);l=Math.max(l,O);var m=Q.FillColor.Values,R=(m[1]+m[2]+m[3])/3;
y[I]=R>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var $=iW.afq(H==0?x.OR:x.bp,H,x.Dm,k,C,1),p=JSON.stringify($);
for(var I=0;I<z.length;I++){var c=J.k("div");o.appendChild(c);f.push(c);c.addEventListener("click",this.axD,!1);
var Q=z[I],B=JSON.stringify(Q)==p;if(H==0){var Z=k[Q.Font].Name,v=Z.toLowerCase(),E=v.indexOf("bold")!=-1||v.indexOf("-black")!=-1,g=v.indexOf("italic")!=-1||v.indexOf("oblique")!=-1||v.endsWith("-it"),u=v.indexOf("light")!=-1,O=Q.FontSize,m=Q.FillColor.Values,j=y[I];
if(B){j=j.slice(0);j[1]=Math.min(1,j[1]+.2)}var A=l==D?.5:(O-D)/(l-D),x=10+16*A,K="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+x+"px; color:"+CSS.A9({$:m[1]*255,H:m[2]*255,b:m[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.A9({$:j[1]*255,H:j[2]*255,b:j[3]*255})+";";
if(E)K+=" font-weight:bold;";if(g)K+=" font-style:italic;";if(u)K+=" font-weight:lighter;";c.setAttribute("style",K);
var s=J.k("span");c.appendChild(s);s.setAttribute("style","display:inline-block;  width:"+(l>99?50:40)+"px;  text-align:right;  margin-right:5px;");
s.textContent=Math.round(O);s=J.k("span");c.appendChild(s);s.setAttribute("style","display:inline-block;  width:130px; ");
s.textContent=Z}}};iW.prototype.s9=function(o){var P=JSON.parse(JSON.stringify(this.r7.xp)),I=this.IH.indexOf(o.currentTarget),w=this.Z0[I];
for(var x in w)if(x!="Font")P.OR[x]=w[x];fe.bB(P,this.aAV[w.Font].Name);console.log(P);var z=new bO(G.E.X,!0);
z.data={Q:G.l.CA,JL:eB.Q7,xp:P};this.j(z);var z=new bO(G.E.z,!0);z.I=N.cR;z.data={Q:"updateStyles"};
this.j(z)};iW.afq=function(o,P,w,x,z,S){var k=P==0?["Font","FontSize","FillColor"]:[],f={};for(var C=0;
C<k.length;C++)f[k[C]]=o[k[C]];if(P==0){if(f.Font!=null){var H=w[f.Font].Name;if(z[H]==null){z[H]=x.length;
x.push(w[f.Font])}f.Font=z[H]}f.FontSize=f.FontSize*S}return f};iW.prototype.IT=function(){if(!J.Ni(this.sX))return};
iW.prototype.S=function(){a1.prototype.S.call(this)};iW.prototype.RU=function(o,P){this.r7=o;this.vF()};
function ad(){a1.call(this,[9,13],!1,"---panels/glyphs",a1.Rz.a0A);this.r7=null}ad.prototype=new a1("");
ad.prototype.nV=function(){this.m_=new hZ;this.m_.parent=this;this.aeR=null;this.au_=null;this.dg=null;
this.apT=null;this.sl=Math.round(290*J.M());this.sh=45;this.G4=4;this.aD3=this.xW.bind(this);this.ap6=0;
this.J3=new f7(null,["Hi","Hello"]);this.J3.J(G.E.w,this.xW,this);var o=this.Vv=new eN("-",null,null,!0);
o.J("click",this.azb,this);var P=this.aeL=new eN("+",null,null,!0);P.J("click",this.azb,this);this.W9=new hr(!1);
this.W9.J(G.E.w,this.df,this);this.W9.Z.style.height=250+"px";var w=this._R=J.k("div","form padded");
this.sX.appendChild(w);w.appendChild(this.m_.Ln.Z);J.jB(w);w.appendChild(this.J3.Z);w.appendChild(o.Z);
w.appendChild(P.Z);this.sX.appendChild(this.W9.Z)};ad.prototype.sH=function(o,P){if(this.V==o||this.m_==null)return;
this.V=o;this.sl=Math.floor((o-13)*J.M());this._R.setAttribute("style","width:"+this.sl/J.M()+"px;");
this.W9.Z.style.height=P-73+"px";this.xW()};ad.prototype.df=function(o){var P=this.aio(),w=Math.round(this.sl/P);
P/=J.M();var x=this.W9.m()[0]*w*this.G4,z=this.W9.aDv();x+=Math.floor(z.y/P)*w;x+=Math.floor(z.x/P);
var S=this.dg[this.J3.m()];if(x>=S.length)return;var k=S[x],f=this.apT[k],C=new bO(G.E.z,!0);C.I=N.cR;
if(f.e8.length==0)C.data={Q:"insertGlyph",P:x+1};else C.data={Q:"insertText",P:String.fromCodePoint(f.e8[0])};
this.j(C)};ad.prototype.azb=function(o){var P=1.2;if(o.target==this.Vv){if(this.sh>20)this.sh/=P}else{if(this.sh<100)this.sh*=P}this.xW()};
ad.prototype.IT=function(){this.RU(this.r7)};ad.prototype.RU=function(o,P){this.r7=o;if(!J.Ni(this.sX))return;
if(this.m_==null)this.nV();this.m_.O(o.xp,o.v7,o.Q4);var w=o.xp,x=w.OR.Font,C=0;if(x==null)return;var z=w.Dm[x].Name;
if(this.aeR==z)return;var x=o.v7.M2(z);if(x==null)return;var S=x.maxp.numGlyphs,k=this.apT=new Array(S);
for(var I=0;I<S;I++)k[I]={e8:[]};var f=Date.now(),H=new Uint8Array(1048575);for(var I=0;I<1048575;I++){var b=Typr.U.codeToGlyph(x,I);
if(b!=0&&b<S){H[I]=1;if(k[b].e8.length==0)C++;k[b].e8.push(I)}}var i=ad.Gs,M=[];for(var I=0;I<i.length;
I++)M.push([]);for(var b=1;b<S;b++){M[0].push(b);var T=k[b].e8[0];if(T==null){continue}for(var O=1;O<i.length;
O++){var Y=i[O].RM;for(var I=0;I<Y.length;I+=2)if(Y[I]<=T&&T<=Y[I+1]){M[O].push(b);break}}}this.dg=M;
var U=[];for(var I=0;I<i.length;I++)U.push(i[I].xx+" ("+M[I].length+")");var W=this.J3.m();this.J3.Cp(U);
this.J3.O(W);this.aeR=z;this.au_=x;this.xW()};ad.prototype.aio=function(o){var P=Math.floor(this.sl/this.sh);
return Math.floor(this.sl/P)};ad.prototype.xW=function(o){if(!J.Ni(this.sX)||this.dg==null)return;var P=this.dg[this.J3.m()],w=P.length,x=this.au_,z=Typr.U,S=this.aio(),k=S,f=k*.8,C=k*.8/x.head.unitsPerEm,H=[],b=Math.floor(this.sl/S),i=Math.ceil(w/b),M=this.G4,T=Date.now();
for(var O=0;O<i;O+=M){var Y=J.k("canvas"),U=Y.getContext("2d");Y.width=S*b;Y.height=k*M;U.fillStyle="white";
U.fillRect(0,0,b*S,k*M);for(var W=0;W<M;W++){for(var t=0;t<b;t++){var I=P[(O+W)*b+t];if(I==null)break;
var _=z.glyphToPath(x,I),n=e.a.w4(_.crds);U.fillStyle="#252525";if(n.Mw()){var y=x.hmtx,F=[],Q=170;for(var a in y)F.push(a);
var V=y[F[0]][I],D=y[F[1]][I],l=Math.max(V,D);_={cmds:"M L M L M L".split(" "),crds:[0,0,l,0,0,-Q,0,Q,l,-Q,l,Q]};
n.q=l;n.x=0;U.strokeStyle="rgba(0,255,0,1)"}U.beginPath();var m=t*S+(S-n.q*C)*.5-n.x*C,R=W*k+f;U.translate(m,R);
U.scale(C,-C);z.pathToContext(_,U);U.scale(1/C,-1/C);U.translate(-m,-R);n.Mw()?U.stroke():U.fill()}}U.beginPath();
for(var t=0;t<b;t++){var $=t*S+S+.5;U.moveTo($,0);U.lineTo($,k*M)}for(var W=0;W<M;W++){var p=W*k+k+.5;
U.moveTo(0,p);U.lineTo(b*S,p)}U.strokeStyle="rgba(0,0,0,0.3)";U.stroke();H.push(Y)}this.W9.jW(H,null,S*b,k*M)};
ad.Gs=[{xx:"All Glyphs"},{xx:"Basic Latin, Latin 1",RM:[0,127,128,143]},{xx:"Latin Extended-A",RM:[256,383]},{xx:"Latin Extended-B",RM:[384,591]},{xx:"Punctuations",RM:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{xx:"Greek",RM:[880,1023]},{xx:"Cyrillic",RM:[1024,1279]},{xx:"Hebrew",RM:[1424,1535]},{xx:"Arabic",RM:[1536,1791]},{xx:"Emoji",RM:[9728,10095,127744,129535]}];
function j5(){a1.call(this,[13,0],!1,null,a1.Rz.P6);this.uU=0;this.aqt=0;this.r7=null}j5.prototype=new a1("");
j5.prototype.nV=function(){if(!J.Ni(this.sX)||this.wq)return;var o=J.k("div","flexrow padded");this.sX.appendChild(o);
var P=J.k("div");o.appendChild(P);this.wq=[];for(var I=0;I<2;I++){var w=new fN;this.wq.push(w);w.J("click",this.arg,this);
P.appendChild(w.Z)}this.Zl=new d4(192);console.log("hsb picker");this.Zl.J(G.E.w,this.iR,this);this.Ml=new eV;
this.Ml.parent=this;o.appendChild(this.Zl.Z);this.RU(this.r7,eB.qU)};j5.prototype.arg=function(o){var P=o.currentTarget,w=this.wq.indexOf(P);
if(w==this.uU){this.Ml.XP(w)}else{this.uU=w;this.xW()}};j5.prototype.iR=function(o){var P=this.Zl.m();
this.Zl.O(P);var w=Math.round(P.$*255)<<16|Math.round(P.H*255)<<8|Math.round(P.b*255),x=new bO(G.E.X,!0);
x.data={Q:G.l.CA,JL:eB.P6,Pw:this.uU,P:w};this.j(x);this.aqt=Date.now()};j5.prototype.xW=function(){if(this.Ml==null)return;
var o=this.r7,P=this.uU,w=[o.AB,o.eI];for(var I=0;I<2;I++){var x=this.wq[I],z=x.Z.style;x.bN(w[I]);if(I==P)z.filter="drop-shadow(0 0 1px #000000)"}var S=w[P];
if(Date.now()-this.aqt>100)this.Zl.O({$:(S>>>16)/255,H:(S>>>8&255)/255,b:(S&255)/255})};j5.prototype.RU=function(o,P){this.r7=o;
if(this.Ml==null)return;if(P==eB.qU||P==eB.P6){this.Ml.alY(o.AB,o.eI);this.xW()}};j5.prototype.fi=function(){this.nV()};
j5.prototype.IT=function(){this.nV();this.xW()};function he(){a1.call(this,"CSS",!1,"---panels/css",a1.Rz.CSS);
this.Ow=null;var o=J.k("div","padded");this.sX.appendChild(o);this.zD=J.k("textarea");J.Kw(this.zD);
o.appendChild(this.zD)}he.prototype=new a1("");he.prototype.sH=function(o,P){if(this.V==o)return;this.V=o;
this.zD.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(o-10)+"px; height:"+(P-10)+"px")};
he.prototype.fi=function(o){this.Ow=o;this.xW()};he.prototype.RU=function(o,P){if(P==eB.Wh)this.xW()};
he.prototype.xW=function(){var o=this.Ow;if(o==null||o.T.length==0)return;if(!J.Ni(this.sX))return;var P=o.R[o.T[0]],w=CSS.awE(P,o);
if(w.length!=0)this.zD.value=w.join(";\n")+";";else this.zD.value=""};he.prototype.IT=function(){this.xW()};
function ba(){a1.call(this,"Text to Image",!1,null,a1.Rz.ayK);this.Ow=null;this.ca=0;this.T6={};this.GY=null;
var o=["API Key","Generate"],P=this.IH=[new iU("Prompt",null,null,4),new eN([12,49],!0,null,!0)];P[0].O("goat riding a bike");
var w=J.k("div","form padded labfxd");this.sX.appendChild(w);for(var x=0;x<P.length;x++){P[x].parent=this;
w.appendChild(P[x].Z);if(x==1)P[x].J("click",this.rQ,this)}this.Ep=J.k("div","scrollable");w.appendChild(this.Ep);
this.aoQ=ba.prototype.a3i.bind(this)}ba.prototype=new a1("");ba.prototype.rQ=function(){var o=this.IH,P=o[0].m().trim(),w=function(){var x=iX.a9v(P,null,null,this.aoQ);
if(x==1)J.HT(this.sX,"disabled")}.bind(this);if(jM.fK(3))w();else iX.XM(w)};ba.prototype.a3i=function(o){var P=this.IH;
J.hC(this.sX,"disabled");var w={created:Math.round(Date.now()/1e3),data:[{b64_json:eu.i_(o.target.response)}]},x=this.T6,z=P[0].m().trim();
if(x[z]==null)x[z]=[];x[z].push(w);iX.Oh();this.xW()};ba.prototype.sH=function(o,P){if(this.V==o)return;
this.V=o;this.sX.style.width=o-16+"px";this.Ep.style.height=P-190+"px"};ba.prototype.fi=function(o,P){this.Ow=o;
if(o)this.ca=P.indexOf(o);this.xW()};ba.prototype.S=function(o,P){a1.prototype.S.call(this);var w=this.IH,z=" target=\"_blank\" style=\"color:inherit;\">";
for(var x=0;x<w.length;x++)this.IH[x].S()};ba.prototype.xW=function(){var o=this.Ep,P=this.T6;J.eg(o);
var w=[];for(var x in P){P[x].sort(function(T,O){return O.created-T.created});w.push([x,P[x]])}w.sort(function(T,O){return O[1][0].created-T[1][0].created});
var z=this.atv.bind(this),S=this.GY=[[],[]];for(var I=0;I<w.length;I++){var x=w[I][0],k=w[I][1],f=J.k("div");
f.textContent=x;o.appendChild(f);for(var C=0;C<k.length;C++){var H=k[C].data;for(var b=0;b<H.length;
b++){var i=H[b].b64_json,M=J.k("img");M.setAttribute("src","data:image/png;base64,"+i);M.onclick=z;M.style.width=128/J.M()+"px";
M.style.marginRight="4px";M.style.cursor="pointer";o.appendChild(M);S[0].push(M);S[1].push(H[b])}}}};
ba.prototype.atv=function(o){var I=this.GY[0].indexOf(o.target),P=this.GY[1][I].b64_json,w=eu.bs(P);
b_.xI({url:"file",ca:this.ca},w,this)};ba.prototype.IT=function(){this.xW()};function gl(){a1.call(this,[9,6],!1,"---panels/info",a1.Rz.aBM);
this.sX.setAttribute("style","min-width:240px;");this.Ow=null;this.r7=null;this.P3=null;var o=this.Px=[];
for(var P=0;P<3;P++){var w=J.k("div","marged row");this.sX.appendChild(w);var x=J.k("div","cell");x.setAttribute("style","width:10em");
w.appendChild(x);var z=J.k("div","cell");z.setAttribute("style","width:10em");w.appendChild(z);var S=[8,4,3][P];
for(var I=0;I<S;I++){var k=new jH("");o.push(k);k.O(0);k.Z.style.padding="0";var f=I<(P==1?2:4)?x:z;
f.appendChild(k.Z);J.jB(f)}if(P<2)J.pp(this.sX)}this.IA=o[8];this.R4=o[9];this.kO=o[10];this.K$=o[11];
J.pp(this.sX);this.P3=J.k("div");this.P3.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.sX.appendChild(this.P3)}gl.prototype=new a1("");gl.prototype.Dv=function(o,P,w,x,z){if(!J.Ni(this.sX)||o==null)return;
var S=o.s.hI(z.x,z.y),k=new eD(Math.floor(S.x),Math.floor(S.y));if(!z.ZO){var f=0,C=0,H=0,b=0,i=this.Px;
if(!z.ZO&&!o.a9d()&&new fA(0,0,o.q-1,o._-1).ga(k)){var M=o.Ey(),I=o.q*k.y+k.x<<2;f=M[I+0];C=M[I+1];H=M[I+2];
b=M[I+3]}var T=e.TI([f/255,C/255,H/255]);i[0].O("R: "+f);i[1].O("G: "+C);i[2].O("B: "+H);i[3].O("A: "+b);
i[4].O("C: "+Math.round(T[0]*100)+"%");i[5].O("M: "+Math.round(T[1]*100)+"%");i[6].O("Y: "+Math.round(T[2]*100)+"%");
i[7].O("K: "+Math.round(T[3]*100)+"%");var O=e.ahR(f,C,H);i[12].O("H: "+Math.round(O.Y*360)+"\xB0");
i[13].O("S: "+Math.round(O.zp*100)+"%");i[14].O("B: "+Math.round(O.b*100/255)+"%")}var Y=o.s.D>1?new eD(S.x,S.y):k;
this.IA.O("X: "+e.PX.MT(Y.x,o.vz,w,o.q));this.R4.O("Y: "+e.PX.MT(Y.y,o.vz,w,o._));this.o5()};gl.prototype.o5=function(){var o=this.Ow,P=this.r7,w=0,x=0;
if(o&&P){if(o.s.QF){w=o.s.QF.q;x=o.s.QF._}else if(o.e){w=o.e.rect.q;x=o.e.rect._}w=e.PX.MT(Math.abs(w),o.vz,P,o.q);
x=e.PX.MT(Math.abs(x),o.vz,P,o._)}this.kO.O(kQ.get([12,41]).charAt(0)+": "+w);this.K$.O(kQ.get([12,42]).charAt(0)+": "+x)};
gl.prototype.S=function(){a1.prototype.S.call(this);this.o5()};gl.prototype.IT=function(){this.fi(this.Ow,null,this.r7)};
gl.prototype.fi=function(o,P,w){this.Ow=o;this.r7=w;if(!J.Ni(this.sX))return;console.log("update");this.o5();
if(o&&o.T.length!=0){var x=o.T[0],z=o.R[x],S=ft.get(z.add)!=null,k=S&&o.T[0]>0;this.P3.innerHTML="";
for(var I=0;I<o.aJ.length;I++){var f=o.aJ[I],z=o.s.vd(f.x,f.y),C=N.S9.lR(o,z,1,k?1:2),H={$:C>>>16&255,H:C>>>8&255,b:C&255},Y="<span style=\"display:inline-block; width:25px; text-align:right\">",U="</span>";
if(k){var b=o.T[0];o.T[0]=x-1;var i=N.S9.lR(o,z,1,1),M={$:i>>>16&255,H:i>>>8&255,b:i&255};o.T[0]=b}var T=J.k("div");
T.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var O="<b>#"+(I+1)+"</b>",W=[H.$,H.H,H.b],t=k?[M.$,M.H,M.b]:null,_=["R","G","B"];
for(var n=0;n<3;n++)O+="<br/>"+Y+_[n]+U+": "+(k?Y+t[n]+U+" /":"")+Y+W[n]+U;T.innerHTML=O;this.P3.appendChild(T)}}};
function j4(){a1.call(this,[9,1],!1,"---panels/layers",a1.Rz.jc);this.amx=null;this.Mt=[];this.lg=null;
this.uV=null;this.LB=J.k("div","lphead");this.Ga=J.k("div","lpbody scrollable");this.Ga.addEventListener("scroll",this.awI.bind(this),!1);
this.ib=J.k("div","lpfoot");var o=this.a0K=J.k("span");o.setAttribute("style","display:inline-block; height:26px");
this.LB.appendChild(o);this.mj=new f7(null,jK.NR,jK.jX);this.mj.J(G.E.w,this.awf,this);this.LB.appendChild(this.mj.Z);
this.Lo=new f6([12,0],0,100,"%",0);this.Lo.J(G.E.w,this.a59,this);this.Lo.parent=this;this.LB.appendChild(this.Lo.Z);
this.Lx=new fs([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Lx.J(G.E.w,this.aGw,this);this.LB.appendChild(this.Lx.Z);this.XE=new f6([12,26],0,100,"%",0);this.XE.J(G.E.w,this.anG,this);
this.XE.parent=this;this.LB.appendChild(this.XE.Z);this.aH=[];this.nb();if(bn==0)this.sX.appendChild(this.LB);
this.sX.appendChild(this.Ga);this.Ga.addEventListener("dragover",function(z){z.preventDefault()},!1);
this.Ga.addEventListener("dragenter",J._1,!1);this.Ga.addEventListener("drop",this.aaz.bind(this),!1);
this.sX.appendChild(this.ib);this.sX.addEventListener("contextmenu",J._1,!1);if(bn==0)this.J("rclick",this.apJ,this);
var P=function(z,S,I){return{Gx:this.tf[I]==1}}.bind(this);if(bn==0){this.ai2=new i4([{name:[0,6],B:P},{name:[14,10],B:P},{name:[6,57,2],B:P,Pd:!0},{name:"Long-tap as a right click",B:P,Pd:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",B:function(){return{Gx:kF.yv==0,B:!0}}},{name:"Thumbnails by Document",B:function(){return{Gx:kF.yv==1,B:!0}}}]);
this.ai2.J("select",this.ahd,this)}this.tf=[0,1,1,0];var w=window.locStor;if(w){var x=w.getItem("lpOpt");
if(x){x=JSON.parse(x);this.tf=x[0];kF.ki=x[1];kF.yv=x[2]}}this.ahd()}j4.prototype=new a1("");j4.UI=function(o){var P=o==null?0:o.T.length;
return{B:P!=0&&(P!=1||o.T[0]!=0)&&(P!=1||!o.R[o.T[0]].Pe()||o.R[o.T[0]].ny()),bZ:kQ.get(P>1||P==1&&o.R[o.T[0]].Pe()?[6,12,0]:[6,10])}};
j4.prototype.Yi=function(){if(this.a47)return;var o=eq.JH(!0),P=eq.zU(!0);this.a47=new i4(o,P);var o=[{name:[14,10]},{name:[14,11],Pd:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Pd:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",B:function(x){return{B:x.R[x.T[0]].add.SoLd!=null}},Pd:!0},{name:[6,8],B:j4.anf},{name:[6,34],B:function(x){var z=x.R[x.T[0]];
return{B:z.add.lmfx!=null&&!z.Pe()}}},{name:[6,40],Pd:!0,B:function(x){var z=x.R[x.T[0]];return{B:z.add.TySh!=null}}},{name:"",Pd:!0,B:function(x){var z=x.R[x.T[0]],S=z.add.TySh,k=S?S.OY:null;
return{B:S!=null&&k.Curve==null,bZ:kQ.get(S&&fe.bU(k)==0?[16,3,1]:[16,3,0])}}},j4.a0s(!1),eq.abY(),{name:[6,12,0],B:j4.UI},{name:[6,12,1],Pd:!0},{name:[13,0],sub:function(){var x=[];
for(var I=0;I<ce.OC.length;I++)x.push({name:[13,1,I],KJ:"#"+e.UM(ce.OC[I])});return x}()}],P=[{K:G.E.X,o:{Q:G.l.y7,hq:"layerstyle"}},{K:G.E.z,I:N.mC,o:{Q:"fromlayer",bV:[null,0,0]}},{K:G.E.z,I:N.jc,o:{Q:X.Ck}},{K:G.E.X,o:{Q:G.l.y7,hq:"duplinto"}},{K:G.E.z,I:N.jc,o:{Q:X.L3}},{K:G.E.qc,o:{wQ:"newPlacedLayer"}},{K:G.E.z,I:N.jc,o:{Q:X.s2}},{K:G.E.qc,o:{wQ:"rasterizeLayer",WP:{classID:"rasterizeLayer",null:h7.TZ("Lyr",!0)}}},{K:G.E.qc,o:{wQ:"rasterizeLayer",WP:{classID:"rasterizeLayer",null:h7.TZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:G.E.z,I:N.jc,o:{Q:X.rE}},{K:G.E.z,I:N.cR,o:{Q:"switchPntPrgr"}},{K:G.E.z,I:N.jc,o:{Q:X.q3}},eq.aAA(),{K:G.E.qc,o:{wQ:"mergeLayersNew",WP:{__name:"Merge Layers",classID:"Mrg2"}}},{K:G.E.qc,o:{wQ:"flattenImage"}},{sub:function(){var x=[];
for(var I=0;I<8;I++)x.push({K:G.E.z,I:N.jc,o:{Q:X.Ig,ayQ:I}});return x}()}];this.tL=new i4(o,P);var o=[{name:[6,45],B:function(x){var z=x.R[x.T[0]];
return{B:z.fP(x).u==null}}},{name:[6,47]}],P=[{K:G.E.z,I:N.jc,o:{Q:X.Mf}},{K:G.E.z,I:N.jc,o:{Q:X.Zn}}];
this.ac0=new i4(o,P);var o=[{name:"enab/disab",B:function(x){return{bZ:kQ.get(x.R[x.T[0]].Jq().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],B:function(x){return{B:x.p9(!1,!0)}}}],P=[{K:G.E.z,I:N.jc,o:{Q:X.lp}},{K:G.E.z,I:N.jc,o:{Q:X.ic}},{K:G.E.z,I:N.jc,o:{Q:X.S2}}];
this.aHi=new i4(o,P);var o=[{name:"enab/disab",B:function(x){return{bZ:kQ.get(x.R[x.T[0]].fP(x).u.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],P=[{K:G.E.z,I:N.jc,o:{Q:X.Pc}},{K:G.E.z,I:N.jc,o:{Q:X.B8}}];
this.a5m=new i4(o,P);var o=[{name:"enab/disab",B:function(x){return{bZ:kQ.get(x.R[x.T[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],w={classID:"rasterizeLayer",null:h7.TZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},P=[{K:G.E.z,I:N.jc,o:{Q:X.c8}},{K:G.E.qc,o:N.b0.A2(3)},{K:G.E.qc,o:{wQ:"rasterizeLayer",WP:w}}];
this.a2_=new i4(o,P);this.a2w=new i4(eq.a8A(!0),eq.LR(!0));this.aqY=new i4(eq.JH(),eq.zU())};j4.prototype.awI=function(o){var P=this.Ga.scrollTop-600;
for(var I=0;I<this.Mt.length;I++){var w=this.Mt[I],x=w.Oe;if(P<w.Oe)w.aCr();if(w.Oe>P+this.Y+600)break}};
j4.prototype.uZ=function(){return this.ai2};j4.prototype.ahd=function(o){var P=this.tf;if(o){var w=o.target.vm(),I=w[0];
if(I<4)P[I]=1-P[I];else if(I<6){if(I==4&&kF.ki-10>=10)kF.ki-=10;if(I==5&&kF.ki+10<=200)kF.ki+=10;if(this.lg)this.lg.yS=!0}else{if(I==6)kF.yv=0;
if(I==7)kF.yv=1;if(this.lg)this.lg.yS=!0}var x=window.locStor;if(x)x.setItem("lpOpt",JSON.stringify([P,kF.ki,kF.yv]))}if(P[0]==1)this.ayT();
var z=[[{Z:this.a0K}],[this.mj,this.Lo],[this.Lx,this.XE]];for(var I=0;I<3;I++)for(var S=0;S<z[I].length;
S++)z[I][S].Z.style.display=P[I]==1?"inline-block":"none";this.sH(this.V,this.Y)};j4.prototype.aE5=function(){var o=this.WL;
if(o==null)return!1;if(o.m()){var P=this.fV.m(),w=this.Md[P].m();if(P==0)return w.indexOf(!0)!=-1;if(P==1)return w!=""}return!1};
j4.a0s=function(o){var P=function(x){var z=x!=null&&x.T.length!=0&&x.R[x.T[0]].gH;return{Gx:z,B:x!=null&&x.EB(x.T[0]),o:{K:G.E.qc,o:{wQ:z?"ungroup":"groupEvent",WP:{classID:z?"Ungr":"GrpL",null:h7.TZ("Lyr",!0)}}}}},w={name:[6,6,0],Pd:!0,B:P};
if(o)w.$Y=[i$.JV,i$.Jm,i$.S8];return w};j4.anf=function(o,P){if(o)for(var I=0;I<o.T.length;I++){var w=o.R[o.T[I]];
if(w.add.TySh||w.add.SoLd||w.add.SoCo||w.add.GdFl||w.add.PtFl)return{B:!0}}return{B:!1}};j4.prototype.aaz=function(o){J._1(o);
var P=o.dataTransfer.getData("Text"),w=1,x=0;if(P==""){J.MC(o,this,this.uV.indexOf(this.lg),x+(w>.5?0:1))}else if(P!="--panel"){var P=JSON.parse(P),z=P.Ct;
if(z=="l")this.fQ({Q:X.ba,source:P.QB,target:x,j9:w})}};j4.prototype.apJ=function(o){var P=this.lg,w=o.data,z;
if(P.T.indexOf(w.r)==-1){var x={Q:X.GL,r:o.target.Tc.index,dJ:w.Zx};this.fQ(x)}if(P.T.indexOf(w.r)==-1)return;
this.Yi();if(w.Zx==1){z=this.aHi}else if(w.Zx==2){z=this.a2_}else if(w.Zx==3){z=this.a5m}else if(w.Zx==4){z=this.ac0}else if(w.Zx==5){z=this.a47}else{z=this.tL}z.S();
z.update(P);z.parent=this;var S=new bO(G.E.X,!0);S.data={Q:G.l.tZ,NP:z,x:w._C.x+1,y:w._C.y+1};this.j(S)};
j4.prototype.S=function(){a1.prototype.S.call(this);this.mj.S();this.Lo.S();this.Lx.S();this.XE.S();
if(this.WL){this.WL.S();this.Md[0].S()}if(this.lg)this.fi(this.lg);var o="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var I=0;I<this.aH.length;I++){var P=this.aH[I];P.ld(J._D(o[I],null,"miniscale"));if(I==1||I==3){P.Z.style.position="relative";
var w=J.k("img","gsicon");w.setAttribute("src",PIMG["tools/corner"]);w.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
P.Z.appendChild(w)}}};j4.prototype.fi=function(o,P){if(o&&!o.yS)return;if(o==null)J.HT(this.sX,"disabled");
else J.hC(this.sX,"disabled");this.lg=o;this.uV=P;if(this.amx!=null){J.eg(this.Ga);this.amx=null;this.Mt=[]}if(o==null)return;
var w=!1;for(var I=0;I<o.Cg.length;I++)if(o.Cg[I]._8)w=!0;this.amx=new ce(o.root,this,o,{cz:0,adb:!1},{arW:w,aE0:this.aE5()},this.Mt,0,new fA(0,0,o.q,o._));
if(o.T.length==0||o.R[o.T[0]]==null)J.HT(this.LB,"disabled");else{J.hC(this.LB,"disabled");if(o.T.length==1&&o.ZY){var x=o.T[0];
for(var I=0;I<this.Mt.length;I++){var z=this.Mt[I];if(z.Tc.index==x&&z.LB.scrollIntoView)z.LB.scrollIntoView({block:"nearest"})}}var S=o.R[o.T[0]];
if(S.Pe()){this.mj.Cp([[15,10,27]].concat(jK.NR),[1].concat(jK.jX));var k=jK.gg.indexOf(S.gS);this.mj.O(k+1)}else{this.mj.Cp(jK.NR,jK.jX);
var k=jK.gg.indexOf(S.gS);this.mj.O(k)}this.Lo.O(Math.round(100*S.opacity/255));this.Lx.O([S.Fp(0),S.Fp(1),S.Fp(2),S.Fp(31)]);
var f=o.eu();this.mj.hk(!f);this.XE.hk(!f);this.Lo.hk(!f);this.Lx.hk(!(f&&!S.Fp(31)));this.XE.O(Math.round(100*(S.add.iOpa!=null?S.add.iOpa/255:1)));
this.aH[2].aDP(kQ.get(S.Jq()?[6,23]:[6,21]))}this.awI(null)};j4.prototype.sH=function(o,P){this.V=o;
this.Y=P;var w=this.LB.getBoundingClientRect().height;if(55<w&&w<56)w=60.2;var x=this.ib.getBoundingClientRect().height,z=P-(w+x+3);
this.Ga.style.height=z+"px";this.Ga.style.width=o+"px"};j4.prototype.awf=function(o){this.fQ({Q:X.Cz,OL:this.mj.m()})};
j4.prototype.a59=function(o){this.fQ({Q:X.pV,OL:Math.round(255*this.Lo.m()/100)})};j4.prototype.aGw=function(o){this.fQ({Q:X.CU,OL:[this.Lx.m(),[0,1,2,31]]})};
j4.prototype.anG=function(o){this.fQ({Q:X.s1,OL:Math.round(255*this.XE.m()/100)})};j4.prototype.lS=function(o){if(o.target==this.fV)this.ayT();
var P=this.WL.m();if(P)J.hC(this.adL,"disabled");else J.HT(this.adL,"disabled");this.S();this.lg.yS=!0;
this.fi(this.lg);this.lg.yS=!1};j4.prototype.ayT=function(){var o=this.adL;if(o==null){var P=this.a0K,w=this.WL=new f5([0,6]);
w.J(G.E.w,this.lS,this);P.appendChild(w.Z);o=this.adL=J.k("span","disabled");P.appendChild(o);this.fV=new f7(null,["Kind",[12,48]],[]);
this.fV.J(G.E.w,this.lS,this);var x=this.Md=[new fs(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new iU(null,null,8)];
x[0].J(G.E.w,this.lS,this);x[1].J("input",this.lS,this)}J.eg(o);o.appendChild(this.fV.Z);o.appendChild(this.Md[this.fV.m()].Z)};
j4.prototype.a4n=function(o){this.Yi();this.aF6(o,this.a2w)};j4.prototype.a3P=function(o){this.Yi();
this.aF6(o,this.aqY)};j4.prototype.aF6=function(o,P){var w=o.currentTarget;if(J.Ni(P.Z))return;o.stopPropagation();
var x=w.getBoundingClientRect();P.S();P.update(this.lg);P.parent=this;var z=new bO(G.E.X,!0);z.data={Q:G.l.tZ,NP:P,x:x.left,y:x.top,anV:!0};
this.j(z)};j4.prototype.a8C=function(o){this.fQ({Q:X.aFQ})};j4.prototype.ahO=function(o){this.fQ({Q:this.lg.T.length>1?X.n$:X.Qk})};
j4.prototype.aFI=function(o){this.fQ({Q:X.H7})};j4.prototype.a9P=function(o){var P=this.lg;if(P.T.length==0)return;
var w=P.R[P.T[0]],x=w.Zx;this.fQ({Q:x<=0?w.yJ?X.a6:X.L3:x==3?X.B8:X.ic})};j4.prototype.a31=function(o){this.fQ({Q:X.kP})};
j4.prototype.fQ=function(o){var P=new bO(G.E.z,!0);P.data=o;P.I=N.jc;this.j(P)};j4.prototype.nb=function(){var o=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],P=[this.a31,this.a3P,this.a8C,this.a4n,this.ahO,this.aFI,this.a9P],w=this.af1.bind(this);
for(var I=0;I<o.length;I++){var x=new eN("W",!1,o[I]);this.aH.push(x);J.Dw(x.Z,P[I].bind(this));if(bn==0||I>3&&I!=5)this.ib.appendChild(x.Z);
if(I>=o.length-3){var z=x.Z;z.addEventListener("drop",w,!1);z.addEventListener("dragover",function(S){S.preventDefault()},!1);
z.addEventListener("dragenter",J._1,!1)}}};j4.prototype.af1=function(o){J._1(o);var P=0,w=this.aH;while(w[P].Z!=o.currentTarget)P++;
w[P].yg();var x=o.dataTransfer.getData("Text");if(x=="")return;var x=JSON.parse(x);if(x.Ct=="l"){var z={Q:[X.n$,X.Ck,X.L3][P-4]};
if(this.lg.T.indexOf(x.QB)==-1)z.r=x.QB;this.fQ(z)}if(P!=6)return;if(x.Ct=="sm"||x.Ct=="s"){var S=new bO(G.E.z,!0);
S.I=N.dX;S.data={Q:x.Ct=="sm"?"st_clear":"st_delsingle",r:x.QB,QB:x.wS};this.j(S)}if(x.Ct=="fm"||x.Ct=="f"){this.fQ({Q:x.Ct=="fm"?X.Zn:X.IB,src:x.QB,wS:x.wS})}if(x.Ct=="m"||x.Ct=="vm"){this.fQ({Q:x.Ct=="m"?X.ic:X.a6,r:x.QB})}};
function ce(o,P,w,x,z,S,k,f){kl.call(this);this.parent=P;this.Oe=k;this.Tc=o;S.push(this);this.ya=w;
this.o9=x;var C=P.Ga,H=o.r,b=w.T.indexOf(o.index)!=-1,O=null;this.LB=J.k("div",b?"head selected":"head");
if(H.add.artb!=null){J.HT(this.LB,"artb");f=H.sK()}var i=this.ayy=Math.floor(10+H.a0x/J.M()),M="height: "+i+"px;";
if(b&&z.arW)M+="background-color:rgba(255,50,50,0.4);";this.LB.setAttribute("style",M);this.Xf=f;var T=this.aH9=this.aEh.bind(this),Y=z.aE0&&!this.axB();
if(!Y){if(o.depth!=0){C.appendChild(this.LB);k+=i-.3}if(H.yT()||H.zO())if(H.qO()){O=this.arp=J.k("div","lpineck");
C.appendChild(O);if(H.yT()){O.addEventListener("contextmenu",T,!1);var U=new j4.Id(kQ.get([12,1]),"sm","layerstyle",o.depth,0,null);
k+=21;U.parent=this;O.appendChild(U.Z);var W=H.add.lmfx,t=W.masterFXSwitch.v;U.Kt(t);for(var I=0;I<iR.order.length;
I++){var _=W[iR._7[I]].v;if(_.length==0)continue;for(var n=0;n<_.length;n++){var U=new j4.Id(kQ.get(iR.names[I]),"s","layerstyle",o.depth,1,[I,n]);
k+=21;U.Kt(t&&_[n].v.enab.v);U.parent=this;O.appendChild(U.Z)}}}if(H.zO()){var y=H.fP(w).u;if(y)this.jV=J.k("div","thumb");
var U=new j4.Id(kQ.get([12,55]),"fm",null,o.depth,0,-1,y?this.jV:null,i);k+=y?i:21;U.parent=this;O.appendChild(U.Z);
this.aBN=U.Z;this.aBN.addEventListener("contextmenu",T,!1);var W=H.add.SoLd.filterFX.v,F=W.filterFXList.v,t=W.enab.v;
U.Kt(t);for(var I=F.length-1;I>=0;I--){var a=F[I].v,V=cM.qF(a);if(ft.cg[V])V=ft.cg[V];var D=a.Nm.v;if(cM.names[V])D=kQ.get(cM.names[V]);
if(ft.names[V])D=kQ.get(ft.names[V]);var l="afw_"+V,U=new j4.Id(D,"f",l,o.depth,1,I);k+=21;U.Kt(t&&a.enab.v);
U.parent=this;O.appendChild(U.Z)}}}}var Q=H.add.lclr;if(Q==null)Q=0;Q=Q==0?x.cz:ce.OC[Q];this.any=Q;
if(H.Pe()&&(H.add.lsct==jS.KC||z.aE0)){var m={cz:Q,adb:x.adb||H.Fp(31)};for(var I=o.children.length-1;
I>=0;I--){var R=new ce(o.children[I],P,w,m,z,S,k,f);k=R.aoM}}this.aoM=k}ce.prototype=new kl;ce.OC=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
ce.prototype.aCr=function(){if(this.mi)return;var o=this.Tc,P=o.r,w=this.ya,x=this.o9,i=!0,m=!1;o.Tu(w,this.Xf,!0);
var z=J.k("div","headL"),S=J.k("div","headR");this.LB.appendChild(z);this.LB.appendChild(S);var k=this.LB;
k.setAttribute("draggable","true");k.addEventListener("dragstart",this.wD.bind(this),!1);k.addEventListener("drop",this.xo.bind(this),!1);
k.addEventListener("dragover",this.Ve.bind(this),!1);k.addEventListener("dragenter",J._1,!1);k.addEventListener("dragleave",this.v1.bind(this),!1);
var f=[],C=[null,null,null,null],H=P.ny(),b=o;while(b.parent){b=b.parent;H=H&&b.r.ny()}if(P.gH){for(var I=o.index-1;
I>=0;I--){var M=w.R[I];if(!M.gH){i=M.ny();break}}}var T=P.ny()?H&&i?2:1:0;this.mi=J.k("div");var O=J.k("div",T==0?"sqr":"eye");
this.mi.appendChild(O);O.style.opacity=[.12,.33,1][T];var Y=J.k("div","space");this.x3=J.k("div","label");
this.x3.setAttribute("style","max-width:calc(100% - "+(96+o.depth*20)+"px); margin-top:"+(this.ayy-19)/2+"px;"+(P.u_?"text-decoration:underline;":""));
this.x3.textContent=P.getName();this.aDV=J.k("div","lock");this.aaD=J.k("div","lrfx");this.x0=J.k("div","arfx");
var U=this.aH9,W=this.aDr.bind(this);this.LB.addEventListener("click",W,!1);this.LB.addEventListener("contextmenu",U,!1);
var t=this.any;if(t!=0){var _=[t>>16,t>>8&255,t&255];for(var I=0;I<3;I++){_[I]="calc("+_[I]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.mi.setAttribute("style","background-color:rgba("+_.join(",")+",1);")}var n=this.a2y.bind(this);
this.mi.addEventListener("mousedown",n,!1);this.mi.addEventListener("mouseover",n,!1);this.x0.addEventListener("click",this.aHt.bind(this),!1);
f[0]=this.mi;f[1]=Y;f[10]=this.x3;if(P.Pe()){var y=J.k("div","arrow"),F=J.k("div","folder");this.iS(F);
y.addEventListener("click",this.aDC.bind(this),!1);f[2]=y;f[3]=F;y.className=P.add.lsct==jS.KC?"open":"closed"}else{this.md=J.k("div","thumb");
f[5]=this.md;ce.V1(this.md,P.kb);this.iS(this.md);if(ft.get(P.add))J.HT(P.kb.canvas,"gsicon")}var a=P.Jq();
if(a){this.Tn=J.k("div","chain");this.xJ=J.k("div","thumb");ce.V1(this.xJ,P.HK,!0);this.Tn.style.opacity=a.Ud?1:0;
this.Tn.addEventListener("click",this.aGH.bind(this),!1)}var V=P.aj()&&P.add.vmsk;if(P.add.vmsk&&!V){this.Nh=J.k("div","chain");
this.aX=J.k("div","thumb");ce.V1(this.aX,P.E6,!0);this.Nh.style.opacity=P.add.vmsk.Ud?1:0;this.Nh.addEventListener("click",this.avb.bind(this),!1)}if(P.zO()&&P.qO()&&P.fP(w).u){ce.V1(this.jV,P.JS,!1);
this.iS(this.jV);this.jV.addEventListener("click",W,!1);this.jV.addEventListener("contextmenu",U,!1)}if(o.index==w.T[0]){var D=P.Zx,l;
if(D<=0)l=this.md;else if(D==1)l=this.xJ;else if(D==3)l=this.jV;if(l)l.className="thumb active";if(P.yJ&&this.aX)this.aX.className="thumb active"}Y.setAttribute("style","width:"+Math.max(0,o.depth-1)*18+"px");
var Q=P.add.lspf!=null&&P.add.lspf!=0||x.adb;this.aDV.style.opacity=P.Fp(31)?1:.5;f[4]=P.gH?J.k("div","clipp"):null;
f[6]=a?this.Tn:null;f[7]=a?this.xJ:null;f[8]=P.add.vmsk&&!V?this.Nh:null;f[9]=P.add.vmsk&&!V?this.aX:null;
var R=P.FU,$=w.T;if(R!=0)for(var I=0;I<$.length;I++)if(w.R[$[I]].FU==R){m=!0;break}if(m){C[0]=J.k("div",P.Yv?"link":"linkX");
C[0].addEventListener("click",this.ape.bind(this),!1)}C[1]=Q?this.aDV:null;C[2]=P.yT()?this.aaD:null;
C[3]=P.yT()||P.zO()?this.x0:null;this.x0.className=P.qO()?"arfx open  gsicon":"arfx closed  gsicon";
var p=f;for(var I=0;I<p.length;I++)if(p[I])z.appendChild(p[I]);p=C;for(var I=0;I<p.length;I++)if(p[I])S.appendChild(p[I])};
ce.V1=function(o,P,w){var x=P.canvas;J.PH(x);if(w)o.setAttribute("draggable","true");o.appendChild(x);
x.setAttribute("style",x.getAttribute("style")+"; pointer-events:none")};ce.prototype.iS=function(o){J.Dw(o,function(P){if(this.parent.tf[3]==0)return;
J.NU(P);J.FV(document.body,function(){clearTimeout(this.aGq)}.bind(this));this.aGq=setTimeout(function(){var w=new bO("rclick",!0);
w.data={r:this.Tc.index,Zx:this.Zx(P),_C:J.YH(P,document.body)};this.j(w)}.bind(this),600)}.bind(this))};
ce.Hx=function(o,P){var w=P.getBoundingClientRect();return(o.clientY-w.top)/w.height};ce.prototype.wD=function(o){o.stopPropagation();
var P=o.target==this.xJ?"m":o.target==this.aX?"vm":"l";o.dataTransfer.setData("Text",JSON.stringify({Ct:P,QB:this.Tc.index}))};
ce.prototype.v1=function(o){J._1(o);this.sS()};ce.prototype.xo=function(o){J._1(o);this.sS();var P=o.dataTransfer.getData("Text"),w=this.parent.lg,x=ce.Hx(o,this.LB),z=this.Tc.index;
if(x>.8){var S=!0,k=w.root.wX(z);while(k.parent!=null){var f=k.parent,C=f.children;if(C.indexOf(k)!=0)S=!1;
k=k.parent}if(S){z=0;x=1}}if(P==""){J.MC(o,this,this.parent.uV.indexOf(w),z+(x>.5?0:1))}else if(P!="--panel"){var P=JSON.parse(P),H=P.Ct;
if(H=="l")this.fQ({Q:X.ba,source:P.QB,target:z,j9:x});else if(H=="m"||H=="vm")this.fQ({Q:H=="m"?X.ar$:X.Dz,src:P.QB,it:z});
else ce.aof(o,P,this)}};ce.aof=function(o,P,w,x){var z=P.Ct,S=w.Tc.index,k=P.QB;if(z=="s"||z=="sm")w.fQ({Q:X.go,src:k,it:S,wS:P.wS});
if(z=="f"||z=="fm")w.fQ({Q:X.amJ,src:k,it:S,wS:P.wS,Sw:x==null?0:x})};ce.prototype.Ve=function(o){J._1(o);
var P=ce.Hx(o,this.LB),w=this.Tc.r.Pe()&&.5<P&&P<.8;this.sS();var x="inset 0 "+(w?0:P>.5?-3:3)+"px "+(w?"6px":0)+" var(--text-color)";
this.LB.style.boxShadow=x};ce.prototype.sS=function(o){this.LB.style.boxShadow=""};ce.ahb=-1;ce.a8=!1;
ce.afQ=function(o){ce.a8=!1;document.body.removeEventListener("mouseup",ce.afQ)};ce.prototype.a2y=function(o){if(o.button!=0)return;
if(o.type=="mousedown"){ce.a8=!0;document.body.addEventListener("mouseup",ce.afQ,!1)}if(o.type=="mouseover"&&(!ce.a8||ce.ahb==this.Tc.index))return;
J._1(o);this.fQ({Q:X.PZ,r:this.Tc.index});ce.ahb=this.Tc.index};ce.prototype.aDC=function(o){J._1(o);
this.fQ({Q:X.a4L,r:this.Tc.index})};ce.prototype.aGH=function(o){this.fQ({Q:X.qT,r:this.Tc.index})};
ce.prototype.avb=function(o){this.fQ({Q:X.fp,r:this.Tc.index})};ce.OU=0;ce.prototype.gc=function(o){this.fQ({Q:X.BV,r:this.Tc.index,name:o})};
ce.prototype.aHt=function(o){this.fQ({Q:X.as$,r:this.Tc.index})};ce.prototype.ape=function(o){this.fQ({Q:X.Q3,r:this.Tc.index})};
ce.prototype.aEh=function(o){if(o.button!=2&&!J.akr(o)&&!(o.ctrlKey&&i$.te()))return;var P=this.Zx(o);
if(P!=3&&o.currentTarget==this.aBN)P=4;if(o.target==this.aaD||o.currentTarget==this.arp)P=5;var w=new bO("rclick",!0);
w.data={r:this.Tc.index,Zx:P,_C:J.YH(o,document.body)};this.j(w)};ce.prototype.Zx=function(o){var P=o.target,w=P;
return w==this.aX?2:w==this.xJ?1:w==this.md?0:w==this.jV?3:-1};ce.prototype.aDr=function(o){var P=o.target,T;
if(P==this.mi.firstChild||P==this.x0||P==this.Tn||P==this.Nh||P.tagName&&P.tagName.toLowerCase()=="input")return;
var w=this.Zx(o),x=this.parent.lg,z=this.Tc.index,S=x.R[z];if(P==this.aDV){this.fQ({Q:X.CU,r:z,OL:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var k=ce.OU,f=Date.now()-k<300;ce.OU=Date.now();if(P==this.x3){if(f){this.LB.setAttribute("draggable","false");
var C=new a1.WA(this.x3,this.gc.bind(this))}else this.fQ({Q:X.GL,r:z,dJ:w,uq:!0});return}if(bn==0&&o.button==0&&f){if(P==this.x3)return;
var H=new bO(G.E.z,!0),b=new bO(G.E.X,!0),i=new bO(G.E.qc,!0);if(w==0&&S.add.SoCo){var M=e.G.dQ(S.add.SoCo.Clr.v);
b.data={Q:G.l.y7,hq:"colorpicker",cz:M.$<<16|M.H<<8|M.b,oO:function(U){var W=e.G.e1({b:U&255,H:U>>>8&255,$:U>>16&255});
W={classID:"null",Clr:{t:"Objc",v:W}};var t=new bO(G.E.z,!0);t.I=N.jc;t.data={Q:X.lV,XN:[z],bq:!0,P:{Ya:1,v4:W}};
this.j(t)}.bind(this),wG:!0}}else if(w==0&&(ft.get(S.add)||S.add.SoCo||S.add.GdFl||S.add.PtFl))b.data={Q:G.l.d7,hq:a1.Rz.Gu};
else if(w!=0&&w!=-1)b.data={Q:G.l.d7,hq:a1.Rz.Gu};else if(w==0&&S.add.SoLd)i.data={wQ:"placedLayerEditContents",WP:{classID:"placedLayerEditContents"}};
else if(w==0&&S.add.TySh){H.I=N.cR;H.data={Q:"editCurr",sJ:z}}else b.data={Q:G.l.y7,hq:"layerstyle",r:z};
this.j(i.data?i:b.data?b:H);return}if(o.button!=0)return;if(w==1||w==3){var O=w==3?S.fP(x).u:S.Jq();
T=O._8?x.s.A.join("")=="111"?1:2:0}var Y={Q:X.GL,r:z,dJ:w,aq0:T,uq:!0};this.fQ(Y)};ce.prototype.fQ=function(o){var P=new bO(G.E.z,!0);
P.data=o;P.I=N.jc;this.j(P)};ce.prototype.axB=function(){var o=this.Tc.r,P=o.add,w=this.parent.fV.m(),x=this.parent.Md[w].m();
if(w==0){if(x[0]&&P.SoLd==null&&P.TySh==null&&o.Fn())return!0;if(x[1]&&ft.get(P)!=null)return!0;if(x[2]&&P.TySh!=null)return!0;
if(x[3]&&P.vstk!=null)return!0;if(x[4]&&P.SoLd!=null)return!0;return!1}if(w==1)return o.getName().toLowerCase().indexOf(x.toLowerCase())!=-1};
j4.Id=function(o,P,w,x,z,S,k,f){kl.call(this);this.aFB=P;this.Im=w;this.index=S;this.Z=J.k("div","styleitem");
this.LB=J.k("div","head");this.aiY=null;if(P=="f"){var C=this.aiY=J.k("div","headR");C.textContent="\u2699";
this.LB.appendChild(C)}this.mi=J.k("div","eye gsicon");this.x3=J.k("div","label");this.Z.appendChild(this.LB);
this.LB.appendChild(this.mi);if(k){this.xJ=k;this.LB.appendChild(k);this.LB.setAttribute("style","height: "+f+"px")}this.x3.innerHTML=o;
this.Z.setAttribute("style","margin-left: "+(24+x*16+z*22)+"px");this.LB.appendChild(this.x3);this.mi.addEventListener("click",this.a8K.bind(this),!1);
var H=this.Z;H.setAttribute("draggable","true");H.addEventListener("dragstart",this.wD.bind(this),!1);
if(!0){H.addEventListener("drop",this.xo.bind(this),!1);H.addEventListener("dragover",this.Ve.bind(this),!1);
H.addEventListener("dragenter",J._1,!1);H.addEventListener("dragleave",this.v1.bind(this),!1)}this.Z.addEventListener("click",this.I2.bind(this),!1)};
j4.Id.prototype=new kl;j4.Id.prototype.wD=function(o){o.stopPropagation();o.dataTransfer.setData("Text",JSON.stringify({Ct:this.aFB,QB:this.parent.Tc.index,wS:this.index}))};
j4.Id.prototype.v1=function(o){J._1(o);this.sS()};j4.Id.prototype.xo=function(o){J._1(o);this.sS();var P=o.dataTransfer.getData("Text");
if(P=="")return;var P=JSON.parse(P);ce.aof(o,P,this.parent,this.index+(ce.Hx(o,this.LB)>.5?0:1))};j4.Id.prototype.Ve=function(o){J._1(o);
var P=ce.Hx(o,this.LB)>.5;this.sS();var w="border-"+(P?"bottom":"top");this.LB.style[w]="0.2em solid rgba(0,0,0,0.5)"};
j4.Id.prototype.sS=function(o){this.LB.style.border="none"};j4.Id.prototype.Kt=function(o){this.mi.style.opacity=o?1:.2};
j4.Id.prototype.I2=function(o){var P=ce.OU,w=Date.now()-P<300;ce.OU=Date.now();if(o.target==this.mi)return;
var x=this.parent.Tc.index;if(w&&this.Im!=null){var x=this.parent.Tc.index,z=new bO(G.E.X,!0);if(this.Im.indexOf("afw_")==0){var S=this.Im.slice(4),k=cq[S]||cM.L[S],f=o.target==this.aiY;
if(!f&&!k)return;z.data=N.lv.ad0(f?"blendOptions":S,{r:x,index:this.index})}else z.data={Q:G.l.y7,hq:this.Im,r:x,index:this.index};
this.j(z)}else{if(o.target.className!="thumb")this.parent.fQ({Q:X.GL,r:x,dJ:0})}};j4.Id.prototype.a8K=function(o){var P={fm:X.vq,f:X.RK,sm:X.Op,s:X.Db}[this.aFB];
this.parent.fQ({Q:P,r:this.parent.Tc.index,index:this.index})};function iB(){a1.call(this,"Guide Guy",!1,"---panels/guideguy",a1.Rz.alX);
this.Ow=null;this.aV=new f7(null,e.PX.WK)}iB.prototype=new a1("");iB.prototype.nV=function(){this.Px=[];
var o=J.k("div","form padded");this.sX.appendChild(o);o.setAttribute("style","width:200px");this.sX.appendChild(o);
var P=J.k("canvas"),w=P.getContext("2d");P.width=P.height=160;var x=[32,0,16,160,0,32,160,16,0,112,160,16],z="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),S=[0,0,0,0,0,0,0,0,0,0];
o.appendChild(this.aV.Z);for(var I=0;I<10;I++){w.clearRect(0,0,160,160);w.setTransform(1,0,0,1,80,80);
w.rotate((I&3)*Math.PI/2);w.translate(-80,-80);w.fillStyle="rgba(0,0,0,0.3)";if(I<4){for(var k=0;k<12;
k+=4){w.fillStyle=k==0?"#000000":"rgba(0,0,0,0.3)";w.fillRect(x[k],x[k+1],x[k+2],x[k+3])}}else if(I<6){var f=8*6;
w.fillRect(0,0,f,160);w.fillRect(8*7,0,f,160);w.fillStyle="#000000";w.fillRect(8*14,0,f,160)}else if(I<8){w.fillRect(0,0,16,160);
w.fillRect(160-16,0,16,160);w.fillRect(32,0,160-64,160);w.fillStyle="#000000";w.fillRect(32,80-8,160-64,8*1)}else{w.fillRect(0,0,8*7,160);
w.fillRect(8*13,0,160,160);w.fillStyle="#000000";w.fillRect(8*7,80-8,8*6,8*1)}var C="<img src=\""+P.toDataURL()+"\" class=\"autoscale gsicon\" /> ",H=new f6(C,0,200,null,I==4||I==5?0:2,null,null,4,z[I]);
H.parent=this;H.J(G.E.w,this.a4c,this);H.O(S[I]);H.S();this.Px.push(H);o.appendChild(H.Z)}var b=[[11,14],[11,15,0]];
this.jR=[];for(var I=0;I<b.length;I++){var i=new eN(b[I],!0,null,!0);this.jR.push(i);i.J("click",this.Vj,this);
o.appendChild(i.Z)}for(var I=0;I<6;I++){w.setTransform(1,0,0,1,80,80);w.rotate(Math.floor(I/3)*Math.PI/2);
w.translate(-80,-80);w.clearRect(0,0,160,160);w.fillStyle="rgba(0,0,0,0.3)";w.fillRect(0,0,160,160);
w.clearRect(16,16,128,128);w.fillStyle="#000000";var M=I%3;w.fillRect([0,9,18][M]*8,0,16,160);var C="<img src=\""+P.toDataURL()+"\" class=\"autoscale gsicon\" /> ",i=new eN(C,!1,null,!1);
this.jR.push(i);i.J("click",this.Vj,this);o.appendChild(i.Z)}};iB.prototype.S=function(){a1.prototype.S.call(this);
this.aV.S();if(this.Px==null)return;for(var I=0;I<this.jR.length;I++)this.jR[I].S()};iB.prototype.a4c=function(o){var P=this.Px,w=P.indexOf(o.target),x=Math.floor(w/2),z=w&1,S=[];
for(var I=0;I<4;I++)S.push(P[2*I+z].m());var k=-1;if(x==2&&S[2]!=0&&S[3]!=0&&S[4]!=0)k=4;if(x==3&&S[3]!=0&&S[2]!=0&&S[4]!=0)k=4;
if(x==4&&S[4]!=0&&S[2]!=0&&S[3]!=0)k=3;if(k!=-1)P[2*k+z].O(0)};iB.prototype.Vj=function(o){var P=this.Ow,w=this.jR.indexOf(o.target),x=[[],[]];
if(P==null)return;var z=P.e?P.e.rect:new fA(0,0,P.q,P._),S=z.q,k=z._;if(w==0){var f=[[],[]],C=this.aV.m();
for(var I=0;I<this.Px.length;I++){var H=this.Px[I].m();H=e.PX.X9(H,P.vz,(I&1)==0?P.q:P._,C);f[I&1].push(H)}var b=[iB.aol(f[0],z.x,z.x+S),iB.aol(f[1],z.y,z.y+k)];
x=iB.HW(b);N.y9.BH(x,P.nr())}else if(w==1){}else{w-=2;var i=Math.floor(w/3),b=[[],[]];b[i].push([z.x,z.x+S/2,z.x+S,z.y,z.y+k/2,z.y+k][w]);
x=iB.HW(b);N.y9.BH(x,P.nr())}this.a8D(x)};iB.HW=function(o){var P=[],w=[];for(var x=0;x<2;x++)for(var I=0;
I<o[x].length;I++){P.push([x,o[x][I]]);w.push(-1)}return[P,w]};iB.prototype.aG7=function(o){var P=this.ak5.indexOf(o.target)};
iB.prototype.a8D=function(o){var P=new bO(G.E.z,!0);P.I=N.pl;P.data={Q:"gids",Mm:o};this.j(P)};iB.aol=function(o,P,w){var x=[],z=o[2],S=o[3],k=o[4],f=0;
if(z==0)f++;if(S==0)f++;if(k==0)f++;if(f>1&&z==0&&S==0){if(o[0]!=0)x.push(P+o[0]);if(o[1]!=0)x.push(w-o[1]);
return x}var C=w-P-o[0]-o[1];if(z==0){if(k==0){z=Math.floor(C/S);k=(C-z*S)/(z-1)}else{z=1;while(S*z+k*(z-1)+S+k<=C)z++}}else if(z!=0&&S!=0){if(z*S>C)z=Math.floor(C/S);
k=(C-z*S)/(z-1)}x.push(P+o[0],w-o[1]);var S=(C-k*(z-1))/z;for(var I=1;I<z;I++){if(k==0)x.push(P+o[0]+I*S);
else x.push(P+o[0]+I*S+(I-1)*k,P+o[0]+I*S+I*k)}return x};iB.prototype.fi=function(o,P,w){this.Ow=o};
iB.prototype.IT=function(){if(J.Ni(this.sX)&&this.Px==null)this.nV();this.S()};iB.prototype.RU=function(o){this.aV.O(o.Xp.Kc)};
function a_(){a1.call(this,[9,2],!1,"---panels/properties",a1.Rz.Gu);this.avz=null;this.ya=null;this.r7=null;
this.as5=-1;this.KG=null}a_.prototype=new a1("");a_.prototype.sH=function(o,P){this.V=o;this.Y=P;o=o-16;
P=P-30;var w=this.KG;if(w){w.style.width=o+"px";w.style.height=P+"px";for(var I=0;I<3;I++)this.abZ[I].sH(o-12,P)}};
a_.prototype.nV=function(){this.KG=J.k("div","padded scrollable");this.sX.appendChild(this.KG);var o=J.k("span");
this.KG.appendChild(o);this.Hp=[new eN([0,3]),new eN([12,73]),new eN([12,91,0])];for(var I=0;I<this.Hp.length;
I++){var P=this.Hp[I];P.J("click",this.a6O,this);o.appendChild(P.Z);if(I==2)P.Z.style.marginRight="0"}this.KG.appendChild(J.k("hr"));
this.Wq=new a_.Gm;this.Wq.parent=this;this.bH=new a_.uQ;this.bH.parent=this;this.Wv=new a_.ce;this.Wv.parent=this;
this.abZ=[this.Wq,this.bH,this.Wv];this.KG.appendChild(this.Wq.Z);this.ib=J.k("div","lpfoot");this.sX.appendChild(this.ib);
this.aH=[];for(var I=0;I<3;I++){var P=new eN("W");P.J("click",this.jy,this);this.aH.push(P);this.ib.appendChild(P.Z)}this.sH(this.V,this.Y)};
a_.prototype.jy=function(o){var I=this.aH.indexOf(o.target),P=new bO(G.E.z,!0);P.I=N.jc;if(I==0)P.data={Q:X.q3};
if(I==1)P.data={Q:X.PZ};if(I==2)P.data={Q:X.L3};this.j(P)};a_.prototype.a6O=function(o){var I=this.Hp.indexOf(o.currentTarget);
this.Es(I);this.a0P(I==1?this.bH.hG:-1)};a_.prototype.Es=function(o){for(var I=0;I<3;I++){this.Hp[I].yg();
var P=this.abZ[I].Z;if(P.parentNode==this.KG&&I!=o)this.KG.removeChild(P);if(P.parentNode!=this.KG&&I==o)this.KG.appendChild(P)}this.Hp[o].UL()};
a_.prototype.a0P=function(o){var P=this.ya.T[0],w=this.ya.R[P],x=o+1;if(o==1&&w.yJ)return;var z=new bO(G.E.z,!0);
z.I=N.jc;if(o!=1&&w.yJ){z.data={Q:X.GL,r:P,dJ:2};this.j(z)}z.data={Q:X.GL,r:P,dJ:x};this.j(z)};a_.prototype.S=function(){a1.prototype.S.call(this);
if(this.KG==null)return;this.fi(this.ya);for(var I=0;I<3;I++){this.Hp[I].S();this.abZ[I].S()}am.Jy(this.aH,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
a_.prototype.IT=function(){if(!J.Ni(this.sX))return;if(this.KG==null){this.nV();this.RU(this.r7,eB.qU);
this.fi(this.avz);this.S()}};a_.prototype.fi=function(o){this.avz=o;if(this.KG==null)return;this.Wq.fi(o);
this.bH.fi(o);this.Wv.fi(o);if(o==null||o.T.length==0||o.R[o.T[0]]==null){J.HT(this.sX,"disabled");this.ya=null;
return}else J.hC(this.sX,"disabled");var P=o.T[0],w=o.R[P];this.aH[0].O(w.gH);this.aH[1].O(w.ny());var x=o.m0(),z=x[0],S=x[1];
if(S.length!=0){var k=z[S[0]],f=k.add.vogk,C=!1;if(f)for(var I=0;I<f.length;I++){var H=f[I].v;if(!e.KH.b6(H))continue;
C=!0;P=k.BG}}P+=","+C;if(o!=this.ya||this.as5!=P){this.ya=o;this.as5=P;if(C)this.Es(2);else if(w.Zx<1&&!w.yJ||ft.get(w.add))this.Es(0);
else this.Es(1)}this.Hp[1].hk(this.bH.hG!=-1);this.Hp[2].hk(C)};a_.prototype.RU=function(o,P){this.r7=o;
if(this.Wq)this.Wq.RU(o,P);if(this.Wv)this.Wv.RU(o,P)};a_.Gm=function(){kl.call(this);this.Z=J.k("div","form");
this.ah9=new jH("Hello");this.Ls=new eN([1,12,2],null,null,!0);this.Ls.Z.style.abx="right";this.Ls.J("click",this.KV,this);
this.Z.appendChild(this.ah9.Z);this.Z.appendChild(this.Ls.Z);this.t1=null;this.a8F=null;this.ya=null;
this.r7=null;this.a5i=-1;this.aww=null;this.aHr=null;this.qI=new gK(0,!0,!0);this.qI.parent=this;this.qI.J(G.E.w,this.ajP,this);
this.Z.appendChild(this.qI.Z);this.EM=new fN(!0);this.EM.parent=this;this.EM.J(G.E.w,this.au1,this);
this.eU=J.k("div","marged hiline");this.eU.appendChild(this.EM.Z);this.bt=new j8("GrFl",!0);this.bt.parent=this;
this.bt.J(G.E.w,this.a4a,this);this.ye=J.k("div","marged hiline");var o="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var I=0;I<o.length;I++){var P=this.bt.us[o[I]].Z;this.ye.appendChild(P)}this.Fh=new j8("patternFill",!0);
this.Fh.parent=this;this.Fh.J(G.E.w,this.avo,this);this.ht=J.k("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];
for(var I=0;I<o.length;I++){var P=this.Fh.us[o[I]].Z;this.ht.appendChild(P)}this.EN={};for(var w in ft.names){if(cq[w]==null)continue;
this.EN[w]=new cq[w];this.EN[w].J(G.E.w,this.a4f,this);this.EN[w].parent=this}var x=this.aDw=J.k("div","marged hiline");
this.Pn=new gK(0,!0);x.appendChild(this.Pn.Z);this.Pn.J(G.E.w,this.RI,this);this.a90=null;this.f6=new j6;
this.f6.parent=this;this.f6.J(G.E.w,this.RI,this);x.appendChild(this.f6.Z)};a_.Gm.prototype=new kl;a_.Gm.prototype.ajP=function(o){var P=this.qI.m(),w=this.aHr,x=new fA(P[0],P[1],P[2],P[3]);
if(x.w6(w))return;this.aHr=x;var z=new bO(G.E.z,!0);if(w.q==x.q&&w._==x._){z.I=N.pl;z.data={Q:"trsl",q1:x.x-w.x,le:x.y-w.y}}else{z.I=N.fd;
z.data={Q:"scl",Ka:[2,4],P:new eD(x.q/w.q,x._/w._),Tj:0}}this.j(z)};a_.Gm.prototype.sH=function(o,P){var w=this.EN;
for(var x in w)w[x].sH(o,P)};a_.Gm.prototype.KV=function(o){var P=this.ya,w=P.R[P.T[0]],x=ft.get(w.add);
this.a8F.O(cM.bS(x));this.a4f()};a_.Gm.prototype.S=function(){for(var o in this.EN)this.EN[o].S();this.bt.S();
this.Fh.S();this.f6.S();this.Pn.S();this.Ls.S();this.qI.S()};a_.Gm.prototype.RI=function(o){var P=new bO(G.E.z,!0),w=this.Pn.m(),x=this.a90;
if(o.target==this.Pn&&w[2]==x[2]&&w[3]==x[3]){P.I=N.pl;P.data={Q:"trsl",q1:w[0]-x[0],le:w[1]-x[1]}}else{var z=X.$j(new fA(w[0],w[1],w[2],w[3])),S=this.f6.ag1();
S.artboardRect={t:"Objc",v:z};var k=this.ya,f=k.R[k.T[0]],C=f.add.artb.guideIndeces;if(C)S.guideIndeces=JSON.parse(JSON.stringify(C));
P.I=N.jc;P.data={Q:X.nC,Hn:S}}this.j(P)};a_.Gm.prototype.au1=function(o){var P=this.ya,w=P.T[0];if(P.R[w].add.SoCo==null)return;
var x=JSON.parse(JSON.stringify(P.R[w].add.SoCo));x.Clr.v=this.EM.m();this.d9({Ya:1,v4:x})};a_.Gm.prototype.a4a=function(o){var P=this.ya,w=P.T[0];
if(P.R[w].add.GdFl==null)return;this.d9({Ya:2,v4:this.bt.m()})};a_.Gm.prototype.avo=function(o){this.d9({Ya:3,v4:this.Fh.m()})};
a_.Gm.prototype.d9=function(o){this.ayZ(N.jc,{Q:X.lV,XN:[this.ya.T[0]],bq:!0,P:o})};a_.Gm.prototype.a4f=function(o){this.ayZ(N.vg,{Q:"edit_layer",P:this.a8F.m()})};
a_.Gm.prototype.ayZ=function(o,P){var w=new bO(G.E.z,!0);w.I=o;w.data=P;this.j(w)};a_.Gm.prototype.fi=function(o,P){var w=kQ.get([0,3]),x=!1,z=!1,S=null;
this.ya=o;if(o&&o.R.length>0&&o.T.length!=0&&o.R[o.T[0]]){var k=o.R[o.T[0]],f=ft.get(k.add);if(f!=null&&this.EN[f]!=null){S=this.EN[f].Z;
this.a8F=this.EN[f];this.EN[f].O(JSON.parse(JSON.stringify(k.add[f])));if(o.T[0]!=this.a5i){var C=o.Ey(o.T[0]-1);
this.aww=e.DM(C)}this.EN[f].rB(this.aww);w=kQ.get(ft.names[f]);x=!0}if(f==null&&k.add.artb==null){var H=this.aHr=e.a.lY(N.DH.q_(o));
z=!H.Mw();var b=o.pT();H.x-=b.x;H.y-=b.y;this.qI.O([H.x,H.y,H.q,H._],[o.vz,o.q,this.r7.Xp.Kc])}if(k.add.SoCo){S=this.eU;
this.EM.O(k.add.SoCo.Clr.v);w=kQ.get([6,48,0,0])}if(k.add.GdFl){S=this.ye;this.bt.update(o,k.add.GdFl);
w=kQ.get([6,48,0,1])}if(k.add.PtFl){S=this.ht;this.Fh.update(o,k.add.PtFl);w=kQ.get([6,48,0,2])}if(k.add.artb){var i=k.add.artb,M=k.sK();
S=this.aDw;this.f6.a0H(i);var T=this.a90=[M.x,M.y,M.q,M._];this.Pn.O(T,[o.vz,o.q,this.r7.Xp.Kc]);w=kQ.get([1,16,0])}this.a5i=o.T[0]}if(S!=this.t1){if(this.t1)this.Z.removeChild(this.t1);
if(S!=null)this.Z.appendChild(S);this.t1=S}this.ah9.O(w);this.Ls.Z.style.display=x?"":"none";this.qI.Z.style.display=z?"":"none"};
a_.Gm.prototype.RU=function(o,P){this.r7=o;this.bt.RU(o,P);this.Fh.RU(o,P);if(P==eB.Ua)this.fi(this.ya,o);
for(var w in this.EN)this.EN[w].RU(o,P)};a_.uQ=function(){kl.call(this);this.Z=J.k("div","form");this.ya=null;
this.hG=0;var o=J.k("span","fitem");this.Z.appendChild(o);this.Hp=[new eN([6,2]),new eN([6,3]),new eN([6,50])];
for(var I=0;I<this.Hp.length;I++){var P=this.Hp[I];P.J("click",this.aaW,this);o.appendChild(P.Z)}this.Xk=new aT([12,74],0,255);
this.Xk.J(G.E.w,this.pF,this);this.Z.appendChild(this.Xk.Z);this.oA=new aT([7,6],0,500,"px",2,!0);this.oA.J(G.E.w,this.pF,this);
this.Z.appendChild(this.oA.Z);this.abP=new eN([4,11],null,null,!0);this.abP.J("click",this.aiS,this)};
a_.uQ.prototype=new kl;a_.uQ.prototype.aiS=function(){var o=new bO(G.E.z,!0);o.I=N.vg;o.data={Q:"start",_X:"nvrt"};
this.j(o)};a_.uQ.prototype.pF=function(o){var P=this.Xk.m(),w=this.oA.m(),x=new bO(G.E.z,!0);x.I=N.jc;
x.data={Q:X.Rk,n6:this.ya.T[0],mt:{bf:this.hG,Xk:P,oA:w}};this.j(x)};a_.uQ.prototype.S=function(){for(var I=0;
I<this.Hp.length;I++)this.Hp[I].S();this.Xk.S();this.oA.S();this.abP.S()};a_.uQ.prototype.fi=function(o){this.ya=o;
this.vF()};a_.uQ.prototype.aaW=function(o){this.vF(this.Hp.indexOf(o.currentTarget));this.parent.a0P(this.hG)};
a_.uQ.prototype.vF=function(o){var P=this.ya,w=this.Hp;for(var I=0;I<3;I++){var x=w[I];x.yg();x.hR()}if(P==null||P.R.length==0||P.T.length==0||P.R[P.T[0]]==null)return;
var z=-1,S=P.R[P.T[0]];if(S.zO()&&S.fP(P).u!=null){w[2].p2();z=2}if(S.add.vmsk){w[1].p2();z=1}if(S.Jq()){w[0].p2();
z=0}if(o!=null)z=o;else if(S.yJ)z=1;else if(S.Zx==3)z=2;else if(S.Zx==1)z=0;this.hG=z;if(z==-1){this.Xk.hR();
this.oA.hR();return}var k=S.LV(z);this.Xk.p2();this.oA.p2();this.Xk.O(k.Xk);this.oA.O(k.oA);w[z].UL();
var f=this.abP.Z;if(z==0)this.Z.appendChild(f);else if(f.parentNode==this.Z)this.Z.removeChild(f)};a_.ce=function(){kl.call(this);
this.Z=J.k("div","form");this.Ow=null;this.r7=null;this.gK=-1;this.qI=new gK(0,!1);this.D6=new aT([12,15],-180,180,"\xB0",2);
this.u0=new gK(1,!0);this.r1=new aT([12,94,0],0,100,null,2);this.Eh=new aT([12,78],3,30);this.mN=new eN(["\u279C  ",[12,76,0]],null,null,!0);
this.qI.J(G.E.w,this.YA,this);this.D6.J(G.E.w,this.YA,this);this.u0.J(G.E.w,this.YA,this);this.r1.J(G.E.w,this.YA,this);
this.Eh.J(G.E.w,this.YA,this);this.mN.J("click",this.YA,this)};a_.ce.prototype=new kl;a_.ce.prototype.S=function(){this.qI.S();
this.D6.S();this.u0.S();this.r1.S();this.Eh.S()};a_.ce.prototype.YA=function(o){var P=this.Ow,w=e.KH.tV(P),x=o.target.m(),z=[this.qI,this.D6,this.u0,this.r1,this.Eh,this.mN].indexOf(o.target);
if(z==0){var S=P.pT(),k=[],f=k[0]=x[0]+S.x,C=k[1]=x[1]+S.y;k[2]=f+x[2];k[3]=C+x[3];x=k}if(z==1)x=x*Math.PI/180;
var H={0:1,1:2,2:3,3:3,4:4}[z];w[H]=x;var b=new bO(G.E.z,!0);b.I=N.jc;b.data={Q:X.zP,P:w,a76:z==5};this.j(b)};
a_.ce.prototype.fi=function(o){var P=this.Z;this.Ow=o;if(o==null)return;var w=this.r7,x=[o.vz,o.q,w.Xp.Kc],z=e.KH.tV(o),S=z[0],k=z[1];
if(k==null)return;var f=S!=this.gK;this.gK=S;if(f)J.eg(P);if(f)P.appendChild(this.qI.Z);if(f)P.appendChild(this.D6.Z);
var C=o.pT();this.qI.O([k[0]-C.x,k[1]-C.y,k[2]-k[0],k[3]-k[1]],x);this.D6.O(z[2]*180/Math.PI);if(S==2){if(f)P.appendChild(this.u0.Z);
var H=z[3];this.u0.O(H,x)}if(S==7||S==8){if(f)P.appendChild(this.r1.Z);this.r1.O(z[3])}if(S==8){if(f)P.appendChild(this.Eh.Z);
this.Eh.O(z[4])}P.appendChild(this.mN.Z)};a_.ce.prototype.RU=function(o,P){this.r7=o;this.fi(this.Ow)};
function dD(o){a1.call(this,o.name,!0);this.lg=o;this.T_=null;this.QS=new hI(this.sX);this.QS.parent=this}dD.prototype=new a1;
dD.EH=function(){var o=document.createElement("canvas"),P=document.createElement("canvas"),w=16,x=e.U(16*16*4);
e.JM(x,w,w,8);var z=e.scale.UX(x,w,w);return{xb:o,aCl:P,Si:o.getContext("2d",{willReadFrequently:!0}),aEC:P.getContext("2d"),Ko:z}}();
dD.prototype.aFm=function(){if(this.lg.P2())return window.confirm(kQ.get([22,6,3])+" "+this.lg.name+". "+kQ.get([22,6,4]));
return!0};dD.prototype.RU=function(o,P){this.T_=o};dD.prototype.fi=function(o){this.IT();this.xW()};
dD.prototype.sH=function(o,P){if(o<=0||P<=0)return;this.V=o;this.Y=P;var w=this.lg,x=dD.EH,z=J.M();w.s.Si.q=Math.floor(o*z);
w.s.Si._=Math.floor(P*z);J.Wy(x.xb,o,P);J.Wy(x.aCl,o,P);J.Wy(fj.Um(),o,P);if(w.s.D==0)w.s.D=N.L0.RF(w.q,w._,o*z,P*z);
this.xW()};dD.prototype.IT=function(){var o=this.sX.firstChild,P=dD.EH,w=fj.Dx&&bn==0;if(!w&&o==fj.Um()||w&&o==P.xb)this.sX.removeChild(o);
var x=w?fj.Um():P.xb;if(!J.Ni(x))this.sX.appendChild(x)};dD.prototype.xW=function(){if(this.T_==null)return;
var o=this.lg,P=fj.Dx&&bn==0;if(P)this.adt();else this.Bl()};dD.prototype.adt=function(){if(fj.Dx&&dD.anB==null){var o=dD.anB=[],P=[0,2,8,32,128];
for(var I=0;I<5;I++)o[I]=[new dD.aF(!1,P[I],!1),new dD.aF(!0,P[I],!1)];o.push([new dD.aF(!1,0,!0),new dD.aF(!0,0,!0)])}var w=this.lg,x=dD.EH,O,W=0,V,D;
if(w.ti==null)return;var z=w.s,S=z.Si.q,k=z.Si._,f=fj.QA;x.Si.clearRect(0,0,S,k);var C=this.aad(w);if(z.ku==null||z.ku.q!=S||z.ku._!=k)z.ku=new fj.fC(S,k);
if(C){var H=Date.now(),b=k,i=new Uint8Array(x.Si.getImageData(0,0,S,b).data.buffer);z.ku.set(i,new fA(0,0,S,b));
this.GE=!0}else if(this.T_.xn){if(this.GE){fj.kU(z.ku);fj.cG(1);this.GE=!1}var M=e.PX.Xo,i=new Uint8Array(w.s.Yl.data.buffer);
z.ku.set(i,new fA(0,0,M,k));var i=new Uint8Array(w.s.bi.data.buffer);z.ku.set(i,new fA(0,0,S,M));var i=new Uint8Array(x.Si.getImageData(0,k-M,S,M).data.buffer);
z.ku.set(i,new fA(0,k-M,S,M));this.GE=!0}else if(this.GE){fj.kU(z.ku);fj.cG(1);this.GE=!1}var T=z.vd(0,0);
if(dD.aEw==null)dD.aEw=new Float32Array(4*1024);var Y=[0,0,0,0],U=dD.aEw;if(w.add.artd){U.fill(0);Y=dD.H5(w);
var t=w.q,_=w._,a=0;for(var I=0;I<w.R.length;I++){var n=w.R[I],y=n.add.artb;if(y==null||!n.ny())continue;
var F=n.sK();U[W]=F.x/t;U[W+1]=F.y/_;U[W+2]=F.q/t;U[W+3]=F._/_;W+=4;if(W==U.length)break}if(W>2*4)a++;
if(W>8*4)a++;if(W>32*4)a++;O=dD.anB[a+1];U=new Float32Array(U.buffer,0,[2,8,32,128][a]*4)}else O=dD.anB[w.kz?5:0];
var l=w.KA();if(l==null)O=O[0];else{O=O[1];D=l[w.add.fcmy==1?6:4];V=l[2]}fj.a5P(S,k);fj.cG(0);fj.a5P(S,k);
O.$T();var Q=new ar;Q.scale(S,k);Q.concat(z.TL(!0));Q.scale(1/w.q,1/w._);var m=[Q.F,Q.b,0,Q.JJ,Q.RL,0,Q.$X,Q.Ar,1];
O.uS(z.ku.wH,w.ti.wH,new Float32Array(m),new Float32Array([S/8,k/8,T.x/S,T.y/k]),w.q,w._,1/w.s.D,S,k,new Float32Array(Y),U,new Float32Array(e.ww.VI(e.ww.auE(z.A))),D,V);
f.drawArrays(f.TRIANGLES,0,6)};dD.H5=function(o){return[0,0,0,0]};dD.at0=function(o){var P=e.G.dQ(o.v),w=[P.$/255,P.H/255,P.b/255,1];
for(var I=0;I<4;I++)w[I]=Math.min(1,w[I]);return w};dD.Wz=function(o,P){var w=o[2]*255;if(fj.Dx)w=P?0:Math.max(2,w);
return"rgba("+o[0]*255+","+o[1]*255+","+w+","+o[3]+")"};dD._3=function(o){var P=o.length;if(fj.Dx)for(var I=0;
I<P;I+=4){if(o[I+2]==0)o[I+2]=3}};dD.prototype.Bl=function(){var o=this.lg,P=dD.EH;if(bn==0&&o.buffer==null)return;
var w=o.s,x=w.Si,z=x.q,S=x._,k=new fA(0,0,o.q,o._);P.aEC.clearRect(0,0,z,S);P.Si.clearRect(0,0,z,S);
var f=o.add.prvw==0;if(bn==1&&f){P.Si.fillStyle="white";P.Si.fillRect(-5e3,-5e3,2e4,2e4)}var C=w.TL(!0),H=C.clone();
H.Sd();if(o.add.artd==null){P.Si.save();var b=H.Zc(new eD(0,0));H.translate(-b.x,-b.y);P.Si.translate(Math.round(b.x),Math.round(b.y));
P.Si.fillStyle=bn==0?P.Ko:"#ffffff";if(o.kz)P.Si.fillRect(-5e3,-5e3,2e4,2e4);else{var i=o.add.arts;if(bn==1)for(var I=0;
I<i.length;I++){var M=e.a.w4(i[I].aR);this.Br(e.a.R2(M),H,P.Si);if(f)P.Si.stroke();else P.Si.fill()}else{this.Br(e.a.R2(k),H,P.Si);
P.Si.fill()}}P.Si.restore()}else{P.Si.fillStyle=dD.Wz(dD.H5(o));P.Si.fillRect(0,0,z,S);P.Si.save();P.Si.setTransform(H.F,H.b,H.JJ,H.RL,H.$X,H.Ar);
var T=o.root.children;for(var I=0;I<T.length;I++){var O=T[I].r;if(O.add.artb==null||!O.ny())continue;
var Y=O.sK(),U=O.PN();if(U!=0)continue;P.Si.fillStyle=P.Ko;P.Si.save();P.Si.scale(1/w.D,1/w.D);P.Si.fillRect(w.D*Y.x,w.D*Y.y,Y.q*w.D,Y._*w.D);
P.Si.restore()}P.Si.restore()}if(w.vv.length!=x.c()){w.vv=e.U(x.c());w.MM=e.U(x.c()*4)}w.MM.fill(0);
if(bn==1){var H=w.TL(!0);H.Sd();P.Si.save();var W=e.a.R2(w.Si);e.a.h(W.i,w.TL(!0),W.i);var M=e.a.RR(W.i);
P.Si.setTransform(H.F,H.b,H.JJ,H.RL,H.$X,H.Ar);o.root._h(o,P.Si,this.T_,M);P.Si.restore()}else{e.scale.adZ(o.buffer,k,C,w.MM,x,o.kz);
var t=o.KA();if(t)ICC.U.applyLUT(t[o.add.fcmy==1?5:3],t[2],w.MM,w.MM);if(w.A[0]+w.A[1]+w.A[2]!=3)e.ww.abR(w.MM,w.MM,e.ww.auE(w.A));
P.aEC.putImageData(new ImageData(new Uint8ClampedArray(w.MM.buffer),x.q,x._),0,0);P.Si.drawImage(P.aCl,0,0);
P.Si.getImageData(0,0,1,1)}this.aad(o)};dD.prototype.aad=function(o){var P=o.s,w=P.A[0]+P.A[1]+P.A[2],x=dD.EH,z=!1,S=[];
for(var I=0;I<o.T.length;I++){var k=o.R[o.T[I]];if(k==null)continue;var f=k.Zx;if(f!=1&&f!=3)continue;
var C=f==1?k.Jq():k.fP(o).u;if(C._8)S.push(C)}for(var I=0;I<o.Cg.length;I++)if(o.Cg[I]._8)S.push(o.Cg[I]);
for(var I=0;I<S.length;I++){var C=S[I];this.atc(C,P,S.length==1&&w==0?2:1,C.color,C.cz);z=!0}var H=this.T_;
z=this.a1$(o,x.Si,P,S.length!=0)||z;if(o.e&&H.Ph&&H.Xp.ln){this.atc(o.e,P,0,0,null);z=!0}return z};dD.prototype.atc=function(o,P,w,x,z){var S=0;
if(z)S=Math.round(z.b)<<16|Math.round(z.H)<<8|Math.round(z.$);var k=P.TL(!0),f=P.Si,C=new fA(0,0,P.lg.q,P.lg._),H=dD.EH;
if(P.MM==null||P.MM.length!=f.c()*4){P.vv=e.U(f.c());P.MM=e.U(f.c()*4)}P.vv.fill(x);P.MM.fill(0);var b=o.channel,i=o.rect;
e.scale.h(b,i,k,P.vv,f);if(w==0){var M=new Uint32Array([4278190080,4294967295]);dD._3(new Uint8Array(M.buffer));
e.e.anv(P.vv,P.MM,f,M,J.M()>1.9)}else{var T=Date.now();e.e.aj1(P.vv,P.MM,f,w,S);dD._3(P.MM)}var O=new ImageData(new Uint8ClampedArray(P.MM.buffer),f.q,f._);
H.aEC.putImageData(O,0,0);H.Si.save();if(w!=0){var Y=new fA(0,0,C.q,C._),U=k.clone();U.Sd();this.Br(e.a.R2(Y),U,H.Si);
H.Si.clip()}H.Si.drawImage(H.aCl,0,0);H.Si.restore()};dD.prototype.a1$=function(o,P,w,x){var z=o.t.hy!=null||o.t.Uq!=null||o.t.PT!=null||o.t.q5!=null||o.t.do!=null||o.t.k2!=null||o.t.he.length!=0||o.t.ZB.length!=0,S=this.T_,k=S.Xp,f=cG._b[S.n9],C=Math.round(12*J.M()),H=C/o.s.D,b=w.TL(!0);
b.Sd();P.save();P.setTransform(b.F,b.b,b.JJ,b.RL,b.$X,b.Ar);var i=dD.H5(o)[0];i=i<.5?i+.5:i-.5;i=""+Math.round(i*255).toString(16);
while(i.length<2)i="0"+i;P.font=H+"px sans-serif";if(o.add.artd){P.fillStyle="#"+i+i+i;for(var I=0;I<o.R.length;
I++){var M=o.R[I];if(M.add.artb==null||!M.ny())continue;var T=M.sK();P.save();P.beginPath();P.rect(T.x,T.y-2*H,T.q,2*H);
P.clip();P.fillText(M.getName(),T.x+2,T.y-H*.7);P.beginPath();P.restore();z=!0}}if(o.add.arts&&S.N5==N.bm){var O=o.add.arts;
for(var I=0;I<O.length;I++){var T=O[I],Y=e.a.w4(T.aR),U=(I+1+"").padStart(2,"0");U+=" - "+T.uD;P.save();
P.beginPath();P.fillStyle=T.T?"#cce6ff":"#dddddd";P.rect(Y.x,Y.y,P.measureText(U).width+H,H*1.5);P.fill();
P.fillStyle="black";P.fillText(U,Y.x+H/2,Y.y+H*1.1);P.restore()}z=!0}function W(fh){return fh==1||fh==2||fh==4||fh==5}var t=dD.Wz([.3,.5,1,1]),_=dD.Wz([1,1,1,1]);
if(S.Ph&&k.Fx){P.fillStyle=P.strokeStyle=t;P.lineWidth=1.5/w.D;var n=o.m0(),y=n[0],F=n[1];for(var a=0;
a<F.length;a++){var M=y[F[a]],V=M.add.vmsk,D=V.g,l=e.a.IY(D);this.Br(l,null,P);P.stroke();z=!0;var Q=3*J.M()/w.D;
for(var I=0;I<V.Qo.length;I++){var m=e.n.aBs(D,V.Qo[I]);if(m==null)continue;var R=m.x,$=m.y;P.beginPath();
var p=I==0;if(V.ue)p=!p;if(p){P.moveTo(R-Q,$-Q);P.lineTo(R+Q,$+Q);P.moveTo(R-Q,$+Q);P.lineTo(R+Q,$-Q);
P.stroke()}else{P.arc(R,$,Q*1,0,2*Math.PI);P.fill()}z=!0}if(o.T.length!=1)continue;var c=-1,B=-1,Z=-1;
for(var I=0;I<D.length;I++){if(D[I].type>5)continue;if(D[I].type==0||D[I].type==3){B=I+1;Z=D[I].length;
if(D[I].Hv!=-1)c++;continue}if(V.T.indexOf(c)!=-1){var R=D[I].v.x,$=D[I].v.y;P.fillRect(R-Q*.8,$-Q*.8,2*Q*.8,2*Q*.8)}if(V.bg.indexOf(I)!=-1){var v=D[I],E=[v.v];
P.beginPath();P.moveTo(v.Fm.x,v.Fm.y);P.lineTo(v.v.x,v.v.y);P.lineTo(v.AK.x,v.AK.y);var g=B+(I+Z-B-1)%Z,u=B+(I+Z-B+1)%Z,j=D[g],A=D[u];
if(j&&W(j.type)&&V.bg.indexOf(g)==-1){P.moveTo(j.v.x,j.v.y);P.lineTo(j.AK.x,j.AK.y);E.push(j.AK)}if(A&&W(A.type)&&V.bg.indexOf(u)==-1){P.moveTo(A.v.x,A.v.y);
P.lineTo(A.Fm.x,A.Fm.y);E.push(A.Fm)}P.stroke();if(!v.v.w6(v.Fm))E.push(v.Fm);if(!v.v.w6(v.AK))E.push(v.AK);
for(var K=0;K<E.length;K++){var m=E[K],R=m.x,$=m.y;if(K==0&&(v.type==2||v.type==5))P.fillRect(R-1.2*Q,$-1.2*Q,2.4*Q,2.4*Q);
else{P.beginPath();P.arc(R,$,Q*1.2,0,2*Math.PI);P.fill();if(K!=0)P.fillStyle=_;P.beginPath();P.arc(R,$,Q*.8,0,2*Math.PI);
P.fill();P.fillStyle=t}}}z=!0}}}P.lineWidth=1/w.D;if(o.t.uL){P.fillStyle=P.strokeStyle=t;var A={i:[],LG:[]},s=dD.aE2;
if(s==null){s=dD.aE2={i:[1,0],LG:["M"]};for(var I=1;I<30;I++){var r=Math.PI*2*I/30;s.i.push(Math.cos(r),Math.sin(r));
s.LG.push("L")}s.LG.push("Z","M","L","M","L");s.i.push(-.5,0,.5,0,0,-.5,0,.5)}for(var I=0;I<o.t.uL.length;
I++){var j=N.RQ.aa8(o.t.uL[I],w),h=new ar(j[0],0,0,j[0],j[1],j[2]);e.a.concat(A,s,h)}this.Br(A,null,P);
P.stroke();z=!0}var jC=new ar(1,0,0,1,.5/w.D,.5/w.D);if(o.kz){P.fillStyle=P.strokeStyle=t;var A={i:[0,0,o.q,0,o.q,o._,0,o._],LG:["M","L","L","L","Z"]};
this.Br(A,jC,P);P.stroke();z=!0}if(o.t.x7){P.fillStyle=P.strokeStyle=dD.Wz([0,0,0,.5]);this.Br(o.t.x7,null,P,!0);
P.fill("evenodd")}P.strokeStyle=t;P.fillStyle=_;if(o.t.PT){this.Br(o.t.PT,jC,P);P.stroke()}if(o.t.do){this.Br(o.t.do,jC,P);
P.lineWidth=J.M()*3.5/w.D;P.stroke()}var d=dD.iP(o.t.AS,P,w);P.fill();P.stroke();z=z||d;P.fillStyle=P.strokeStyle=dD.Wz([0,0,0,fj.Dx&&bn==0?1:.5],!0);
if(o.t.hy){this.Br(o.t.hy,null,P);P.fill()}if(o.t.Uq){this.Br(o.t.Uq,jC,P);P.stroke()}for(var q in o.t.D5)if(o.t.D5[q].Uq){this.Br(o.t.D5[q].Uq,null,P);
P.stroke();z=!0}var d=dD.iP(o.t.Ra,P,w);P.stroke();z=z||d;if(o.t.q5){this.Br(o.t.q5,jC,P);P.strokeStyle="rgba(0,0,0,0.5)";
P.lineWidth=J.M()*2.5/w.D;P.stroke();P.strokeStyle="white";P.lineWidth=J.M()*2/w.D;P.stroke()}if(o.t.sA.length+o.t.rX.length+o.t.iC.length!=0){z=!0;
P.fillStyle=_;dD.as(o.t.sA,P,w,6);P.fill();dD.as(o.t.rX,P,w,6);P.fill();P.fillStyle=t;dD.as(o.t.sA,P,w,4);
P.fill();dD.as(o.t.iC,P,w,4);P.fill();P.fillStyle=dD.Wz([.7,.7,.7,1]);dD.as(o.t.rX,P,w,4);P.fill()}if(o.t.he.length!=0){for(var I=0;
I<o.t.he.length;I++){var hc=o.t.he[I],dk=hc[1],c6;if(x){c6=P.getImageData(dk.x,dk.y,dk.q,dk._);e.C.Iv("norm",hc[0],dk,new Uint8Array(c6.data.buffer),dk,dk,1)}else c6=new ImageData(new Uint8ClampedArray(hc[0].buffer),dk.q,dk._);
P.putImageData(c6,dk.x,dk.y)}}var e3=.5/w.D;P.lineWidth=1/w.D;if(o.t.Vb){z=!0;var ks=o.t.Vb,cH=ks.oe,l={LG:[],i:[]};
for(var I=0;I<ks.yL.length;I++)e.a.concat(l,e.a.R2(ks.yL[I]));l.i=l.i.concat(cH);for(var I=0;I<cH.length;
I+=4){l.LG.push("M","L")}for(var I=0;I<l.i.length;I++){l.i[I]+=e3}P.strokeStyle=dD.Wz([.9,.2,.2,1]);
this.Br(l,null,P);P.stroke();var bI=J.M(),aR=2/w.D;P.font=H*.9+"px sans-serif";for(var I=0;I<cH.length;
I+=4){var R=cH[I],$=cH[I+1],ak=cH[I+2],cN=cH[I+3],gC=Math.sqrt((cN-$)*(cN-$)+(ak-R)*(ak-R));gC=e.PX.MT(gC,o.vz,S,$==cN?o.q:o._);
var bD=new eD((R+ak)/2,($+cN)/2);P.fillStyle=dD.Wz([.9,.2,.2,1]);var cu=P.measureText(gC).width;P.fillRect(bD.x-cu/2-aR*bI,bD.y-3.5*aR*bI,cu+2*aR*bI,7*aR*bI);
P.fillStyle=dD.Wz([1,1,1,1]);P.save();P.translate(bD.x-cu/2,bD.y+2*aR*bI);P.scale(.1,.1);P.font=H*9+"px sans-serif";
P.fillText(gC,0,0);P.restore()}}if(S.Ph){if(k.ZU&&o.s.D>10&&bn==0){this.JM(o,P,1,1,.25,k.p1,16777215);
z=!0}if(k.u2){var du=e.PX.X9(k.ft,o.vz,o.q,k.jp),bq=du;if(k.jp==4)bq*=o._/o.q;this.JM(o,P,du,bq,1,k.p1,k.NM);
z=!0}if(k.r_){var hn=o.nr(),aK=o.Qq(),cQ=Math.max(o.s.Si.q,o.s.Si._)/o.s.D;cQ=Math.max(Math.max(o.q,o._)*2,cQ);
for(var I=0;I<hn[0].length;I++){var jR=hn[0][I],ch=hn[1][I];if(ch!=-1&&ch!=aK)continue;var bx=w.vd(jR[1],jR[1]),jf=w.hI(Math.floor(bx.x)+.5,Math.floor(bx.y)+.5),dW=e.AE(ch==-1?k.ep:k.g_);
dW=[dW.$/255,dW.H/255,dW.b/255,1];P.beginPath();P.strokeStyle=dD.Wz(dW);if(jR[0]==0){var bf=jf.x;P.moveTo(bf,-cQ);
P.lineTo(bf,cQ)}else{var iu=jf.x;P.moveTo(-cQ,iu);P.lineTo(cQ,iu)}P.stroke();z=!0}}var dV=o.aJ;if(dV.length>0&&S.N5==N.aGV){var dk=7/o.s.D,gb=dk/3,gP=dk*4;
P.strokeStyle=P.fillStyle="black";for(var I=0;I<dV.length;I++){var eJ=dV[I];P.fillRect(eJ.x-.5*gb,eJ.y-.5*gP,gb,gP);
P.fillRect(eJ.x-.5*gP,eJ.y-.5*gb,gP,gb);P.lineWidth=2.5/o.s.D;P.beginPath();P.arc(eJ.x,eJ.y,dk,0,2*Math.PI);
P.stroke();P.font=1.9*dk+"px serif";P.lineWidth=1.25/o.s.D;P.strokeText(""+(I+1),eJ.x+.75*dk,eJ.y+2.5*dk)}z=!0}var c1=o.zV;
if(k.zV&&c1.length!=0){P.font=H*.8+"px sans-serif";var ku=[],aC=[];for(var I=0;I<c1.length;I++){var gU=N.H_.R$(c1,I);
ku.push(gU);if(o.gf.indexOf(I)!=-1)aC.push(gU)}ku.reverse();var hR=Date.now();ku=e.rect.aoa([0,0,o.q,o._],ku);
for(var K=0;K<2;K++)for(var I=0;I<ku.length;I++){var a7=ku[I],c=a7[4],Z=c!=null?c1[c]:null;if(Z&&K==0||Z==null&&K==1)continue;
var R=Math.round(a7[0]),$=Math.round(a7[1]),ak=Math.round(a7[2]),cN=Math.round(a7[3]);P.strokeStyle=P.fillStyle=dD.Wz(Z?[0,.7,.7,1]:[.8,.8,.8,1]);
P.strokeRect(R+e3,$+e3,ak-R,cN-$);var dh=I+1,eS=P.measureText(dh),cu=eS.width;P.fillRect(R,$,cu+H/2,H);
P.fillStyle=dD.Wz([1,1,1,1]);P.fillText(dh,R+H/4,$+H*.8)}var aR=2/o.s.D,d0=2*aR;for(var I=0;I<aC.length;
I++){var a7=aC[I],R=Math.round(a7[0]),$=Math.round(a7[1]),ak=Math.round(a7[2]),cN=Math.round(a7[3]);
P.strokeStyle=P.fillStyle=dD.Wz([1,.6,0,1]);P.strokeRect(R+e3,$+e3,ak-R,cN-$);var cJ=[R,$,ak,$,ak,cN,R,cN];
for(var aO=0;aO<cJ.length;aO+=2){var bf=cJ[aO],iu=cJ[aO+1],a9=cJ[aO+2&7],ac=cJ[aO+3&7];P.fillRect(bf-aR,iu-aR,d0,d0);
P.fillRect(Math.round((bf+a9)/2)-aR,Math.round((iu+ac)/2)-aR,d0,d0)}}z=!0}var e7=o.add.Anno;if(e7&&e7.length!=0)for(var I=0;
I<e7.length;I++){var b2=e7[I],dW=b2[2],bf=b2[0]-e3,iu=b2[1]-e3,d0=30/w.z0,jQ=.4*d0,g9=.6*d0;P.beginPath();
P.moveTo(bf,iu+g9);P.lineTo(bf,iu);P.lineTo(bf+d0,iu);P.lineTo(bf+d0,iu+d0);P.lineTo(bf+jQ,iu+d0);P.closePath();
P.lineTo(bf+jQ,iu+g9);P.lineTo(bf+jQ,iu+d0);if(I==o.s.bO){P.lineWidth*=5;P.strokeStyle=dD.Wz([0,0,0,.5]);
P.stroke();P.lineWidth/=5}P.fillStyle=dD.Wz([dW.$/255,dW.H/255,dW.b/255,1]);P.fill();P.strokeStyle=dD.Wz([0,0,0,1]);
P.stroke()}}P.strokeStyle=dD.Wz([1,0,0,1]);if(o.t.k2){this.Br(o.t.k2,jC,P);P.stroke()}P.restore();if(S.xn){if(o.s.bi==null||o.s.bi.width!=o.s.Si.q||o.s.Yl.height!=o.s.Si._){o.s.bi=P.createImageData(o.s.Si.q,e.PX.Xo);
o.s.Yl=P.createImageData(e.PX.Xo,o.s.Si._)}var f=cG._b[S.n9],cx=0,i8=0,fw=o.q,hi=o._;if(o.Qq()!=-1){var T=o.R[o.Qq()].sK();
cx=T.x;i8=T.y;fw=T.q;hi=T._}cx*=w.D;i8*=w.D;var w=o.s,dU=[1,o.vz,o.vz/2.54,o.vz/25.4,fw/100][k.Kc],dv=w.D*o.q/2,bo=w.D*o._/2,fV=[w.D*dU,new eD(w.f.x+(cx+dv*dU-dv),w.f.y+(i8+bo*dU-bo))];
if(k.Kc==4)dU*=hi/fw;var ck=[w.D*dU,new eD(w.f.x+(cx+dv*dU-dv),w.f.y+(i8+bo*dU-bo))],h8=this.QS.rd;e.PX.anh(w,f["--text-color"],f["--bg-input"],Math.floor(h8.x),Math.floor(h8.y),fV,ck,k.Kc==1?8:10);
var fS=hx.a0f(w.D,dD.Wz([1,1,1,1]),o.q,o._);dD._3(o.s.Yl.data);dD._3(o.s.bi.data);P.putImageData(o.s.Yl,0,0);
P.putImageData(o.s.bi,0,0);P.putImageData(fS,0,o.s.Si._-fS.height)}if(o.t.ZB.length!=0){for(var I=0;
I<o.t.ZB.length;I++){var hc=o.t.ZB[I],dk=hc[1];P.putImageData(new ImageData(new Uint8ClampedArray(hc[0].buffer),dk.q,dk._),dk.x,dk.y)}}return z};
dD.prototype.JM=function(o,P,w,x,z,S,k){while(w*o.s.D<4){w*=2;x*=2}var f=o.q,C=o._,H=.5/o.s.D;k=e.AE(k);
P.strokeStyle=dD.Wz([k.$/255,k.H/255,k.b/255,z],!1);P.save();P.rect(0,0,f,C);P.clip();P.beginPath();
for(var b=0;b<=f;b+=w){P.moveTo(b+H,0);P.lineTo(b+H,C)}if(S==0){for(var i=0;i<=C;i+=x){P.moveTo(0,i+H);
P.lineTo(f,i+H)}}else{x*=Math.sqrt(4/3);var M=x*Math.floor(f/x),T=f*(x/(2*w));for(var i=-M;i<=C+M;i+=x){P.moveTo(0,i);
P.lineTo(f,i-T);P.moveTo(0,i);P.lineTo(f,i+T)}}P.stroke();P.restore()};dD.as=function(o,P,w,x){P.beginPath();
var z=x*J.M()/w.D,S=!1;for(var I=0;I<o.length;I+=2){S=!0;var k=o[I],f=o[I+1];P.moveTo(k+z,f);P.arc(k,f,z,0,2*Math.PI)}return S};
dD.iP=function(o,P,w,x){P.beginPath();var z=(x?x:1)*(4*J.M()+.5)/w.D,S=!1;for(var I=0;I<o.length;I+=2){S=!0;
var k=o[I],f=o[I+1];P.rect(k-z,f-z,2*z,2*z)}return S};dD.M8=function(o,P,w,x){w.beginPath();if(x)w.rect(-1e5,-1e5,1e6,1e6);
var z=o;if(P){z=e.a.clone(o);e.a.h(z.i,P,z.i)}Typr.U.pathToContext({cmds:z.LG,crds:z.i},w)};dD.prototype.Br=dD.M8;
dD.aF=function(o,P,w){fj.kF.call(this);var x=this.aeX=P!=0,z=w?"true":"in01(sCoord)",S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(o?"uniform sampler2D lut;  uniform float N;  "+fj.Mk.avB:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(x?"uniform vec4 bgClr;  uniform vec4 ars["+P+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+fj.Mk.agI+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(w?"-floor(sCoord)":"")+"); \t\t\t\t"+(o?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(x?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+P+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+z+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+z+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",k="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Ir(S,k)};dD.aF.prototype=new fj.kF;dD.aF.prototype.uS=function(o,P,w,x,z,S,k,f,C,H,b,i,M,T){this.gx("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var O=fj.QA,Y=this.Jj;O.uniformMatrix3fv(Y.tmat,!1,w);O.uniform4fv(Y.gsize,x);O.uniform3f(Y.contSizeZoom,z,S,k);
O.uniform2f(Y.cnvSize,f,C);O.uniformMatrix4fv(Y.ctrn,!1,i);if(this.aeX){O.uniform4fv(Y.ars,b);O.uniform4fv(Y.bgClr,H)}O.uniform1i(Y.source,0);
O.uniform1i(Y.target,1);O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,o);O.activeTexture(O.TEXTURE1);
O.bindTexture(O.TEXTURE_2D,P);if(M){O.uniform1f(Y.N,T);O.uniform1i(Y.lut,2);O.activeTexture(O.TEXTURE2);
O.bindTexture(O.TEXTURE_2D,M.wH);var U=O.LINEAR;O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,U);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,U)}O.activeTexture(O.TEXTURE0)};function bb(){a1.call(this,[9,7],!1,"---panels/layercomps",a1.Rz.a5f);
this.sX.setAttribute("style","min-width:240px;");this.ya=null;this.hm=-1;this.Mt=[];this.Ga=J.k("div","scrollable");
this.Ga.style.height="160px";this.sX.appendChild(this.Ga);this.ib=J.k("div","lpfoot");this.sX.appendChild(this.ib);
this.jR=[];var o=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],P=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var I=0;I<o.length;I++){var w=o[I];if(I>0)w="<img src=\""+PIMG[o[I]]+"\" class=\"miniscale gsicon\" />";
var x=new eN(w,!1,P[I]);x.J("click",this.arz,this);this.ib.appendChild(x.Z);this.jR.push(x)}}bb.prototype=new a1("");
bb.prototype.sH=function(o,P){this.sX.setAttribute("style","width:"+(o-2)+"px;");this.Ga.style.height=P-28+"px"};
bb.prototype.fQ=function(o){var P=new bO(G.E.z,!0);P.data=o;P.I=N.iH;this.j(P)};bb.aFv="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
bb.prototype.arz=function(o){var I=this.jR.indexOf(o.currentTarget)-1;if(I==-1){var P=new bO(G.E.X,!0);
P.data={Q:G.l.JW,Ee:bb.aFv};this.j(P);return}if(I!=1)if(this.hm==-1)return;this.fQ({Q:["updLC","addLC","delLC"][I],BG:this.hm});
if(I==2)this.hm=-1};bb.prototype.S=function(){a1.prototype.S.call(this);for(var I=0;I<this.jR.length;
I++)this.jR[I].S()};bb.prototype.fi=function(o){if(o==null)J.HT(this.sX,"disabled");else J.hC(this.sX,"disabled");
this.ya=o;J.eg(this.Ga);if(o==null)return;var P=o.NZ.lastAppliedComp?o.NZ.lastAppliedComp.v:0,w=o.NZ.list.v.slice(0);
w.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var I=0;I<w.length;
I++){var x=w[I].v,z=new fb(x.Nm.v,x.compID.v,x.capturedInfo.v,P,this.hm);z.J("activate",this.au,this);
z.parent=this;this.Ga.appendChild(z.Z);this.Mt.push(z)}};bb.prototype.au=function(o){this.hm=o.currentTarget.BG;
this.fi(this.ya)};function fb(o,I,P,w,x){kl.call(this);this.BG=I;this.Z=J.k("div","head listitem"+(I==x?" selected":""));
var z=I==w,S=new eN(z?"\u2713":"\u2014");if(z)S.UL();this.Z.appendChild(S.Z);S.J("click",this.YI,this);
var k=this.if=J.k("span");k.textContent=o;this.Z.appendChild(k);this.jR=[];if(I!=0){this.Z.addEventListener("mouseup",this.au.bind(this),!1);
this.UF=J.k("span","headR");this.Z.appendChild(this.UF);var f=["lrs/eye","pos","lrs/fx"],C=["Visibility","Position","Appearance"];
for(var H=0;H<f.length;H++){var b=new eN("<img src=\""+PIMG[f[H]]+"\" class=\"autoscale gsicon\" />",!1,C[H]);
if((P>>H&1)==0)b.Z.setAttribute("style","opacity:0.3");b.J("click",this.akw,this);this.UF.appendChild(b.Z);
this.jR.push(b)}}}fb.prototype=new kl;fb.prototype.au=function(o){if(o.target!=this.if&&o.target!=this.Z)return;
if(o.detail==1)this.j(new bO("activate",!1));else{var P=new a1.WA(this.if,this.gc.bind(this))}};fb.prototype.akw=function(o){var I=this.jR.indexOf(o.currentTarget);
this.fQ({Q:"editLC",aqm:I,BG:this.BG})};fb.prototype.gc=function(o){this.fQ({Q:"editLC",PV:o,BG:this.BG})};
fb.prototype.YI=function(o){this.fQ({Q:"setLC",BG:this.BG})};fb.prototype.fQ=function(o){var P=new bO(G.E.z,!0);
P.data=o;P.I=N.iH;this.j(P)};function k6(){a1.call(this,[9,11],!1,"---panels/navigator",a1.Rz.aoI);var o=this.sX;
J.HT(o,"padded");o.setAttribute("style","cursor:grab;");this.hj=J.k("canvas");o.appendChild(this.hj);
J.jB(o);J.N_(this.hj);J.Dw(this.hj,this.Z5.bind(this));this.Ju=new kU(null,2,6400,"%",null,!0);this.Ju.J(G.E.w,this.ar4,this);
o.appendChild(this.Ju.Z);this.au3=this.j7.bind(this);this.avP=this.YE.bind(this);this.Ow=null;this.lu=null;
this.h3=!1}k6.prototype=new a1("");k6.prototype.sH=function(o,P){this.V=o*1.2;this.Y=P*1.2;this.xW()};
k6.prototype.ar4=function(o){var P=this.Ju.m(),w=this.Ow,x=P/100;if(.8<x&&x<1.2)x=1;else if(1.8<x)x=Math.round(x);
var z=new bO(G.E.z,!0);z.I=N.QP;z.data={Q:"zoom",D:x};this.j(z)};k6.prototype.Z5=function(o){var P=this.Ow;
if(P==null)return;this.h3=!0;J.Zw(window,this.au3);J.FV(window,this.avP)};k6.prototype.j7=function(o){var P=J.YH(o,this.hj),w=this.Ow,x=this.hj.width,z=this.hj.height,S=(P.x*J.M()-x/2)/x,k=(P.y*J.M()-z/2)/z,f=J.M()*w.s.D,C=Math.round(-w.s.D*w.q*S),H=Math.round(-w.s.D*w._*k);
N.I9.K5(w,C,H)};k6.prototype.YE=function(o){J.ig(window,this.au3);J.qM(window,this.avP);this.h3=!1};
k6.prototype.fi=function(o){if(o==null&&this.Ow!=null)this.hj.width=100;this.Ow=o;this.xW()};k6.prototype.aCU=function(){var o=this.Ow,P=J.M(),w=N.L0.RF(o.q,o._,P*(this.V-10),P*(this.Y-36)),x=e.Oz(o.Ey(),new fA(0,0,o.q,o._),w);
this.lu=[x.eD,x.rect]};k6.prototype.xW=function(){var o=this.Ow;if(o==null||o.s.D==0)return;var P=o.s;
if(!J.Ni(this.sX))return;this.Ju.O(P.D*100);if(!this.h3)this.aCU();var w=this.lu[0],x=this.lu[1],z=x.q,S=x._,k=this.hj;
k.width=z;k.height=S;J.v5(k,z,S);var f=this.sX;f.style.width=this.hj.style.width+12+"px";var C=k.getContext("2d"),H=C.createImageData(z,S);
e.L9(w,H.data);C.putImageData(H,0,0);C.getImageData(0,0,1,1);var b=P.Si,i=P.hI(b.x,b.y),M=P.hI(b.x+b.q,b.y+b._),T=z/o.q;
C.scale(T,T);C.lineWidth=4/T;C.strokeStyle="#ff0000";C.strokeRect(i.x,i.y,M.x-i.x,M.y-i.y)};k6.prototype.RU=function(o,P){};
k6.prototype.IT=function(){this.xW()};function b6(o,P){a1.call(this,o.name,!1,o.icon,P);this.a4D=o}b6.prototype=new a1("");
b6.prototype.nV=function(){var o=this.sX,P=this.a4D;if(!J.Ni(o)||this.tb)return;var w=this.tb=J.k("iframe");
w.setAttribute("src",P.url);this.sX.appendChild(w)};b6.prototype.IT=b6.prototype.fi=function(){this.nV()};
b6.prototype.wK=function(o){if(J.Ni(this.tb))this.tb.contentWindow.postMessage(o,"*")};b6.prototype.sH=function(o,P){if(this.tb==null)return;
this.tb.setAttribute("style","width:"+o+"px; height:"+P+"px")};function iv(){a1.call(this,[9,12],!1,"---panels/tpreset",a1.Rz.J4);
this.r7=null;this.$R=new c$(N.Je);this.$R.parent=this;var o=J.k("div","padded");o.setAttribute("style","width:20em");
this.sX.appendChild(o);o.appendChild(this.$R.oy)}iv.prototype=new a1("");iv.prototype.IT=function(){this.$R.Rj(this.r7.s7)};
iv.prototype.RU=function(o,P){this.r7=o;if(P==eB.qU||P==eB.J4)this.$R.Rj(o.s7)};iv.prototype.sH=function(o,P){this.$R.asc(this.r7.N5)};
iv.prototype.S=function(){a1.prototype.S.call(this);this.$R.S()};var bk=function(){var o=[],P=null,w=null,x=null,z=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function S(){a1.call(this,"Memory",!1,null,a1.Rz.ahN);var M=J.k("div","padded");this.sX.appendChild(M);
w=new eN(["<< VAR0",[0,13,2]],!1,null,!0);w.addEventListener("click",function(T){o.pop();f()});M.appendChild(w.Z);
P=J.k("div","scrollable");P.setAttribute("style","width:20em;  height:26em; margin-top:8px;");M.appendChild(P)}S.prototype=new a1("");
S.prototype.fi=function(M,T,O){x=T;this.IT()};S.prototype.IT=function(){w.hk(!1);if(!J.Ni(P))return;
var M={uD:"Total:",X8:[]};for(var I=0;I<x.length;I++)M.X8.push(H(x[I]));i(M);o=[M];f()};S.prototype.S=function(){a1.prototype.S.call(this);
w.S()};function k(M){var T=M.currentTarget,I=0;while((T=T.previousSibling)!=null)I++;o.push(o[o.length-1].X8[I-1]);
f()}function f(){w.hk(o.length>1);var M=o[o.length-1];J.eg(P);C(M,P,0);M.X8.sort(function(T,O){return O.PD[0]-T.PD[0]});
for(var I=0;I<M.X8.length;I++)C(M.X8[I],P,1)}function C(M,T,O){var Y=aN.yP,U=O!=0&&M.X8,W="margin-left:"+O*10+"px; margin-bottom:8px; padding:3px 5px;";
if(U)W+="cursor:pointer;";if(M.Ct!=null)W+="background-color:rgba("+z[M.Ct].join(",")+",0.2);";var t=J.k("div");
T.appendChild(t);t.setAttribute("style",W);t.innerHTML=J.Kp(M.uD)+"<br />"+"RAM: <b>"+Y(M.PD[0])+"</b>\u2001GPU: <b>"+Y(M.PD[1])+"</b>";
if(U)t.addEventListener("click",k,!1)}function H(M){var T={uD:M.name,X8:[],Ct:0},O=fj.Dx?1:0,Y=1-O,U={uD:"History",X8:[],Ct:5};
T.X8.push(U);for(var I=1;I<M.history.length;I++){var W=M.history[I];U.X8.push({uD:kQ.get(W.name),Ct:5,PD:[W.gL(),0]})}i(U);
var U={uD:"Final Image",PD:[M.q*M._*4,O*M.q*M._*4],Ct:2};T.X8.push(U);for(var I=0;I<M.R.length;I++){var t=b(M.R[I]);
if(t.X8.length!=0)T.X8.push(t)}var _=M.add.lnk2;if(_)for(var I=0;I<_.length;I++){var t=_[I],n={uD:t.V8,X8:[],Ct:4},y=0;
n.X8.push({uD:"Raw file",PD:[t.raw.length,0]});if(t.iT)for(var F=0;F<t.iT.length;F+=2)y+=t.iT[F].length;
if(y!=0)n.X8.push({uD:"Decoded pixels",PD:[y,0]});i(n);T.X8.push(n)}i(T);return T}function b(M){var T={uD:M.getName(),X8:[],Ct:1},O=fj.Dx?1:0,Y=1-O,U=M.rect.c();
if(U!=0)T.X8.push({uD:"Layer pixels",PD:[U*4,O*U*4]});if(M.add.lmfx&&M.Mn.Wt.type){var W=M.Mn.Wt.type,y=0;
for(var t in W){var _=0;for(var n=0;n<W[t].length;n++)if(t=="ebbl"){if(W[t][n].ey)_+=W[t][n].ey.$I.c();
if(W[t][n].Qe)_+=W[t][n].Qe.$I.c();if(W[t][n].JA)_+=W[t][n].JA.$I.c();if(W[t][n].mL)_+=W[t][n].mL.$I.c()}else _+=W[t][n].$I.c();
if(_!=0)T.X8.push({uD:kQ.get(iR.names[iR.order.indexOf(t)]),PD:[Y*_*4,O*_*4],Ct:3})}if(M.Mn.Sg)y+=U;
if(M.Mn.bh)y+=U;if(M.Mn.bz)y+=U;if(M.Mn.bz)y+=U;if(M.Mn.hp)y+=U;if(M.Mn.pD)y+=U;var F=M.Mn.sw?M.Mn.sw.length:0;
if(y+F!=0)T.X8.push({uD:"Additional Blending Data",PD:[Y*y*4+F,O*y*4]})}var a=M.Jq(),V=a?a.rect.c():0;
if(V!=0){T.X8.push({uD:"Raster Mask",PD:[V,0]})}var a=M.add.vmsk,V=a&&a.ST?a.ST.rect.c():0;if(V!=0){T.X8.push({uD:"Vector Mask",PD:[V,0]})}i(T);
return T}function i(M){M.PD=[0,0];for(var I=0;I<M.X8.length;I++){M.PD[0]+=M.X8[I].PD[0];M.PD[1]+=M.X8[I].PD[1]}}return S}();
function az(){a1.call(this,[9,14],!1,"---panels/notes",a1.Rz.a66);this.sX.setAttribute("style","min-width:240px;");
var o=J.k("div","padded");this.sX.appendChild(o);this.Og=new iU("Author");o.appendChild(this.Og.Z);this.zD=J.k("textarea");
J.Kw(this.zD);o.appendChild(this.zD);var P=new eN("<<",null,null,!0);o.appendChild(P.Z);this.aro=P;var w=new eN(">>",null,null,!0);
o.appendChild(w.Z);P.J("click",this.CN,this);w.J("click",this.CN,this);var x=this.a9g=new jH("");o.appendChild(x.Z)}az.prototype=new a1("");
az.prototype.CN=function(o){var P=o.target==this.aro?-1:1,w=this.Ow,x=w.add.Anno;if(x==null)return;var z=x.length,S=w.s.bO;
w.s.bO=(S+P+z)%z;w.dH=!0;this.xW()};az.prototype.xW=function(){var o=this.Ow;if(o==null)return;var P=o.add.Anno;
if(P==null||P.length==0)return;var w=o.s.bO,x=P[w];this.zD.value=x[4];this.a9g.O(w+1+" / "+P.length);
this.Og.O(x[3])};az.prototype.sH=function(o,P){if(this.V==o)return;this.V=o;P=Math.min(P,200);this.zD.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(o-10)+"px; height:"+(P-66)+"px")};
az.prototype.fi=function(o,P,w){this.Ow=o;this.xW()};function a5(){a1.call(this,[1,16,1],!1,"---tools/artb",a1.Rz.a4s);
this.bE=[];this.Vr=[];this.jR=[];this.KG=null;this.ib=null}a5.prototype=new a1("");a5.prototype.nV=function(){this.KG=J.k("div","padded scrollable");
this.KG.setAttribute("style","width:260px;  height:260px");this.sX.appendChild(this.KG);this.ib=J.k("div","lpfoot");
this.sX.appendChild(this.ib);var o=["lrs/newlayer","lrs/bin"],P=[[15,8,2],[5,4]];for(var I=0;I<o.length;
I++){var w="<img src=\""+PIMG[o[I]]+"\" class=\"miniscale gsicon\" />",x=new eN(w,!1,P[I]);x.J("click",this.R0,this);
this.ib.appendChild(x.Z);this.jR.push(x)}};a5.prototype.S=function(){a1.prototype.S.call(this);if(this.KG==null)return;
for(var I=0;I<this.jR.length;I++)this.jR[I].S()};a5.prototype.R0=function(o){var I=this.jR.indexOf(o.currentTarget),P=new bO(G.E.z,!0);
P.I=N.bm;P.data={Q:I==0?"new":"del"};this.j(P);if(I==0)this.au8(this.bE.length-1)};a5.prototype.fi=a5.prototype.IT=function(o){if(o)this.bE=o.add.arts;
if(!J.Ni(this.sX))return;if(this.KG==null)this.nV();this.xW(o)};a5.prototype.S1=function(o){var I=this.Vr.indexOf(o.currentTarget);
if(o.target.tagName=="BUTTON"){this.au8(I)}var P=this.bE;for(var w=0;w<P.length;w++)P[w].T=!1;P[I].T=!0;
this.xW()};a5.prototype.au8=function(I){var o=new bO(G.E.X,!0);o.data={Q:G.l.y7,hq:"aoptions",P:this.bE[I]};
this.j(o)};a5.prototype.xW=function(){J.eg(this.KG);var o=this.bE,P=this.S1.bind(this);this.Vr=[];for(var I=0;
I<o.length;I++){var w=o[I],x=J.k("div","layeritem"+(w.T?" selected":""));this.KG.appendChild(x);this.Vr.push(x);
x.addEventListener("click",P);var z=J.k("div","head");x.appendChild(z);z.setAttribute("style","height:24px");
var S=J.k("div","headL");z.appendChild(S);var k=J.k("div","headR");z.appendChild(k);var f=J.k("div","label");
f.textContent=I+1+". "+w.uD;S.appendChild(f);var C=new eN("Options",null,null,!0);k.appendChild(C.Z)}};
function fO(){kl.call(this);this.I=0;this.lF=null;this.Z=J.k("div","toolconf");this.$R=null;this.are=null;
this.body=new J.k("div","body")}fO.prototype=new kl;fO.prototype.axA=function(o,P){this.I=o;this.lF=P;
if(N.wj[o]){var w=this.$R=new c$(o);this.Z.appendChild(w.Z);w.parent=this}else{this.are=J.k("div");this.Z.appendChild(this.are)}this.Z.appendChild(this.body);
this.S()};fO.prototype.aey=function(o,P){};fO.prototype.amg=function(o){};fO.prototype.RU=function(o,P){if(P==eB.qU||P==eB.J4)if(this.$R)this.$R.Rj(o.s7)};
fO.prototype.Mz=function(o){};fO.prototype.S=function(){if(this.$R)this.$R.S();else this.are.innerHTML=J._D(this.lF,null,"toolicon");
this.DP()};fO.prototype.DP=function(){};function fL(){fO.call(this);this.f6=new j6;this.f6.J(G.E.w,this.RI,this);
this.body.appendChild(this.f6.Z)}fL.prototype=new fO;fL.prototype.DP=function(){this.f6.S()};fL.prototype.RI=function(o){var P=new bO(G.E.X,!0);
P.data={Q:G.l.G7,I:this.I,JL:this.f6.ag1()};this.j(P)};fL.prototype.Mz=function(o){this.f6.a0H(o.J0)};
function fW(o){fO.call(this);if(o==null)return;this.r7=null;this.Px={};if(o.indexOf("brush")!=-1&&o.indexOf("prsr")==-1)o.push("prsr");
for(var I=0;I<o.length;I++){var P=o[I],w=null;if(P=="brush"){w=new b1}if(P=="bmode"){w=new f7([12,19,0],jK.NR,jK.jX)}if(P=="bmode0"){w=new f7([12,19,0],jK.NR.slice(23))}if(P=="emode"){w=new f7([12,36],[[9,3],[10,38]])}if(P=="opacity"){w=new f6([12,0],0,100,"%");
w.O(100)}if(P=="flow"){w=new f6([12,63],0,100,"%");w.O(100)}if(P=="smth"){w=new f6([19,3,0],0,100,"%");
w.O(0)}if(P=="samp"){w=new f7([12,36],[[12,25,4],[12,25,5],[12,46]])}if(P=="wconf"){w=new jl;w.O([40,!0,!0])}if(P=="sall"){w=new f5([12,25,2])}if(P=="smode"){w=new f7([12,36],[[19,7,0],[19,7,1]]);
w.O(1)}if(P=="pdetail"){w=new f5([12,65]);w.UL()}if(P=="rng"){w=new f7([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
w.O(1)}if(P=="expo"){w=new f6([12,5],0,100,"%");w.O(50)}if(P=="algnd"){w=new f5([12,75]);w.O(!1)}if(P=="sfrom"){w=new f7([12,70],[[17,1],[17,3],[17,0]])}if(P=="alt"){w=new fs(null,["Alt"],!0,["Select Source"])}if(P=="qsmode"){w=new kp([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(P=="redge"){w=new eN([7,11],!1,null,!0)}if(P=="sesu"){w=new eN("Select Subject",!1,null,!0)}if(P=="setop"){w=new ec}if(P=="patch"){w=new kp(null,[[12,70],[12,71]])}if(P=="strn"){w=new f6([12,64],1,100,"%");
w.O(50)}if(P=="prsr"){w=this.Px.brush.V3}this.body.appendChild(w.Z);if(P=="prsr")continue;w.parent=this;
this.Px[P]=w;if(P=="brush")w.J(G.E.w,this.adD,this);else if(P=="redge"||P=="sesu")w.J("click",i5.aAY,this);
else w.J(G.E.w,this.DB,this)}}fW.prototype=new fO;fW.prototype.aey=function(o,P){o=o[1];var w=this.Px;
if(o.Md)w.bmode.O(jK.VB.indexOf(o.Md.v.BlnM));if(o.Opct)w.opacity.O(o.Opct.v);if(o.flow)w.flow.O(o.flow.v);
if(o.Brsh)w.brush.O(o,P.E8.MH,P.E8.Nc);if(o.FrgC){var x=e.G.dQ(o.FrgC.v),z=new bO(G.E.X,!0);z.data={Q:G.l.CA,JL:eB.P6,Pw:0,P:x.$<<16|x.H<<8|x.b};
this.j(z)}this.adD();this.DB()};fW.prototype.amg=function(){if(N.wj[this.I]==null)return null;var o=this.Px,P;
for(var w in N.Q9)if(N.Q9[w]==this.I)P=w;var x=JSON.parse(JSON.stringify(o.brush.m()));x.classID=P;if(o.bmode)x.Md={t:"enum",v:{BlnM:jK.VB[o.bmode.m()]}};
if(o.opacity)x.Opct={t:"long",v:o.opacity.m()};if(o.flow)x.flow={t:"long",v:o.flow.m()};var z=this.r7.AB;
z={$:z>>>16,H:z>>>8&255,b:z&255};x.FrgC={t:"Objc",v:e.G.e1(z)};return["Brush Preset "+x.Brsh.v.Dmtr.v.val,x]};
fW.prototype.DP=function(){for(var o in this.Px)this.Px[o].S()};fW.prototype.Mz=function(o){if(o.a21=="showBrushOpts"){this.Px.brush.a9c(o._C.x,o._C.y)}for(var P in o.O6){var w=o.O6[P];
if(P!="qsmode")w*=100;if(this.Px[P])this.Px[P].O(w)}};fW.prototype.RU=function(o,P){fO.prototype.RU.call(this,o,P);
this.r7=o;var w=this.Px.brush;if(w==null)return;if(P==eB.qU||P==eB.Je)w.Rj(o.E8);if(P==eB.hL){w.O(o.E8.Ac,o.E8.MH,o.E8.Nc)}};
fW.prototype.adD=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.CA,JL:eB.hL,Bb:this.Px.brush.m()};this.j(o)};
fW.prototype.DB=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.G7,I:this.I};for(var P in this.Px){if(P=="brush"||P=="redge")continue;
var w=this.Px[P].m();if(["opacity","flow","smth","expo","strn"].indexOf(P)!=-1)o.data[P]=w/100;else if(P=="bmode")o.data.bmode=jK.gg[w];
else if(P=="bmode0")o.data.bmode=jK.gg[23+w];else o.data[P]=w}this.j(o)};function i5(o,P){fO.call(this);
if(o)return;this.Px={};for(var I=0;I<P.length;I++){var w=P[I],x=null;if(w=="sesu"&&!J.MN(1))continue;
if(w=="binop")x=new ec;if(w=="feat"){x=new f6([7,6],0,100,"px");x.O(0)}if(w=="redge")x=new eN([7,11],!1,null,!0);
if(w=="sesu")x=new eN("Select Subject",!1,null,!0);if(w=="wconf")x=new jl;if(w=="cstr")x=new jX;if(w=="anta"){x=new f5([12,25,1]);
x.O(!0)}if(w=="sall")x=new f5([12,25,2]);if(w=="redge"||w=="sesu")x.J("click",i5.aAY,this);else x.J(G.E.w,this.DB,this);
x.parent=this;this.body.appendChild(x.Z);this.Px[w]=x}}i5.prototype=new fO;i5.prototype.Mz=function(o){var P=this.Px.cstr;
if(o.ID!=null)this.Px.binop.O(o.ID);else if(o.Yx){for(var w in o.Yx)if(this.Px[w])this.Px[w].O(o.Yx[w])}else if(o.Eo){if(P)P.e3(o.Eo)}else{var x=i5.ez;
if(x==null){var z=g7.aq1(!0);x=i5.ez=new i4(z.items,z.VF)}x.S();x.parent=this;x.update(o.$n,o.T_);var S=new bO(G.E.X,!0);
S.data={Q:G.l.tZ,NP:x,x:o.rL.P8+2,y:o.rL.tm+1};this.j(S)}};i5.prototype.DP=function(){for(var o in this.Px)this.Px[o].S()};
i5.aAY=function(o){var P=o.target==this.Px.sesu,w=new bO(P?G.E.z:G.E.X,!0);if(P){w.I=N.mC;w.data={Q:"bgrm",P:2}}else w.data={Q:G.l.y7,hq:"redge"};
this.j(w)};i5.prototype.DB=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.G7,I:this.I,Yx:{}};for(var P in this.Px)o.data.Yx[P]=this.Px[P].m();
this.j(o)};function jL(){fW.call(this,["brush","strn"])}jL.prototype=new fW;function ju(){fW.call(this,"brush bmode opacity flow smth prsr".split(" "))}ju.prototype=new fW;
function ja(){fW.call(this,["brush","bmode0","samp","wconf"])}ja.prototype=new fW;function co(){fW.call(this,["brush"])}co.prototype=new fW;
function ed(){fW.call(this,["brush","bmode","opacity","smth","prsr"])}ed.prototype=new fW;function dF(){fW.call(this,["brush","rng","expo"])}dF.prototype=new fW;
function eP(){fW.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}eP.prototype=new fW;function fn(o){fO.call(this);
if(o==null)return;this.Hp=[];this.aiN=new eN("\u2026",!1,null,!0);if(!o)this.body.appendChild(this.aiN.Z);
this.aiN.J("click",this.zL,this);this.NK=new kl;this.NK.parent=this;var P=this.NK.Z=J.k("div","floatcont form"),w=[[17,0],[17,1],[11,12,0],[17,2]];
for(var I=0;I<w.length;I++){var x=new eN(w[I],!1,null,!0);this.Hp.push(x);x.J("click",this.a8Z,this);
if(!o||I==1)P.appendChild(x.Z)}this.$L=new jX;this.$L.J(G.E.w,this.uX,this);if(!o)this.body.appendChild(this.$L.Z);
this.IQ=new eN([15,7,6],!1,null,!0);this.IQ.J("click",this.a8Z,this);if(!o)this.body.appendChild(this.IQ.Z);
this.WE=new f5([15,7,10]);this.WE.J(G.E.w,this.uX,this);if(!o)this.body.appendChild(this.WE.Z);this.ahP=new f5("Content-Aware");
this.ahP.J(G.E.w,this.uX,this);if(!o)this.body.appendChild(this.ahP.Z);this.jU=new gT;this.jU.J("click",this.NJ,this)}fn.prototype=new fO;
fn.prototype.zL=function(o){if(J.Ni(this.NK.Z))return;var P=this.aiN.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);
w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4};this.j(w)};fn.prototype.DP=function(){this.jU.S();
for(var I=0;I<this.Hp.length;I++)this.Hp[I].S();this.$L.S();this.WE.S();this.IQ.S()};fn.prototype.Mz=function(o){if(o.Eo){this.$L.e3(o.Eo);
return}var P=this.jU.Z;if(o.Tw)this.body.appendChild(P);else if(this.body.contains(P))this.body.removeChild(P);
if(o.$L)this.$L.O(o.$L)};fn.prototype.NJ=function(o){var P={Q:G.l.G7,I:this.I,Ot:this.jU.m()?"commit":"cancel"},w=new bO(G.E.X,!0);
w.data=P;this.j(w)};fn.prototype.a8Z=function(o){o.target.Z.blur();var P={Q:G.l.G7,I:this.I,Ot:"cropby",aF3:this.Hp.indexOf(o.target)};
if(o.target==this.IQ)P.Ot="straighten";var w=new bO(G.E.X,!0);w.data={Q:G.l.pP,NP:this.NK};this.j(w);
w.data=P;this.j(w)};fn.prototype.uX=function(o){var P={Q:G.l.G7,I:this.I,Ot:"config",rZ:{KF:this.$L.m(),De:this.WE.m(),_z:this.ahP.m()},a0N:o.target==this.$L},w=new bO(G.E.X,!0);
w.data=P;this.j(w)};function bN(){fn.call(this,!1)}bN.prototype=new fn;function gM(){fn.call(this,!0)}gM.prototype=new fn;
function kY(){fW.call(this,["brush","rng","expo"])}kY.prototype=new fW;function jA(){fW.call(this,"brush emode opacity flow smth prsr".split(" "))}jA.prototype=new fW;
function hP(){fW.call(this,["brush","samp","wconf"])}hP.prototype=new fW;function fX(){i5.call(this,!1,["binop","feat","anta","redge","cstr"])}fX.prototype=new i5(!0);
function kZ(){fO.call(this);var o=this.Px=[new f7([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new f7([12,70],[[17,1],[17,3],[17,0]]),new f5([12,20,1]),new f5([8,0])];
o[1].O(2);o[2].O(!0);for(var I=0;I<o.length;I++){var P=o[I];P.J(G.E.w,this.DB,this);this.body.appendChild(P.Z)}}kZ.prototype=new fO;
kZ.prototype.DB=function(o){var P=this.Px,w=[];for(var I=0;I<P.length;I++)w[I]=P[I].m();var x=new bO(G.E.X,!0);
x.data={Q:G.l.G7,I:this.I,Yx:w};this.j(x)};kZ.prototype.DP=function(){for(var I=0;I<this.Px.length;I++)this.Px[I].S()};
function eO(){fO.call(this);this.db=!1;this.bt=new j8("GrFl",!0);this.bt.parent=this;this.bt.update(null,JSON.parse(iR.lC[6]));
this.bt.J(G.E.w,this.pF,this);var o="Grad Type Md Opct Rvrs Dthr".split(" ");for(var I=0;I<o.length;
I++)this.body.appendChild(this.bt.us[o[I]].Z);this.ef=new eN([6,48,1],!1,null,!0);this.ef.J("click",this.pF,this);
this.body.appendChild(this.ef.Z)}eO.prototype=new fO;eO.prototype.DP=function(o){var o=this.db;this.body.children[2].style.display=o?"none":"";
this.body.children[3].style.display=o?"none":"";this.bt.S();this.ef.S()};eO.prototype.RU=function(o,P){fO.prototype.RU.call(this,o,P);
var w=P==eB.P6,x=this.bt.us.Grad;x.Q6(o.AB,o.eI);if(w||P==eB.wr||P==eB.qU)x.Rj(o.EE)};eO.prototype.pF=function(o){if(o.target==this.ef){var P=new bO(G.E.qc,!0);
P.data=N.Qy.pZ(1);this.j(P);return}this.S();var P=new bO(G.E.X,!0);P.data={Q:G.l.G7,I:this.I,JL:this.bt.m()};
this.j(P)};eO.prototype.Mz=function(o){this.db=o.n;this.S();this.bt.update(null,o.JL);this.S()};function ds(){fO.call(this);
this.yQ=new f5([8,7,1]);this.body.appendChild(this.yQ.Z);this.yQ.J(G.E.w,this.DB,this)}ds.prototype=new fO;
ds.prototype.DB=function(){var o={Q:G.l.G7,I:this.I,fL:this.yQ.m()},P=new bO(G.E.X,!0);P.data=o;this.j(P)};
function hY(){fO.call(this);var o=J.k("span","fitem");this.body.appendChild(o);this.uj=[new f6([12,15],-180,180,"\xB0"),new eN([1,12,2],null,null,!0)];
for(var I=0;I<this.uj.length;I++){var P=this.uj[I];P.parent=this;o.appendChild(P.Z);P.J(I==1?"click":G.E.w,this.WR,this)}}hY.prototype=new fO;
hY.prototype.DP=function(){for(var I=0;I<this.uj.length;I++)this.uj[I].S()};hY.prototype.Mz=function(o){this.uj[0].O(o.DI*180/Math.PI)};
hY.prototype.WR=function(o){var P=this.uj.indexOf(o.target),w=new bO(G.E.X,!0);w.data={Q:G.l.G7,I:this.I,DI:P==1?0:o.target.m()*Math.PI/180};
this.j(w)};function eA(){fW.call(this,["brush","algnd","sfrom","alt"])}eA.prototype=new fW;function jg(){fO.call(this);
this.hA=new hZ;this.hA.parent=this;this.body.appendChild(this.hA.Ln.Z);this.body.appendChild(this.hA.i5.Z);
this.body.appendChild(this.hA.gn.Z);this.body.appendChild(this.hA.oT.Z);var o=J.k("span","fitem");this.body.appendChild(o);
o.appendChild(this.hA.v6.Z);o.appendChild(this.hA.G0.Z);o.appendChild(this.hA.S0.Z);this.At=new f7("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.At.J(G.E.w,this.NJ,this);this.body.appendChild(this.At.Z);this.l9=new f7(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.l9.J(G.E.w,this.NJ,this);this.body.appendChild(this.l9.Z);this.zB=new eN([11,9],!1,null,!0);this.zB.J("click",this.afk,this);
this.body.appendChild(this.zB.Z);this.jU=new gT;this.jU.J("click",this.NJ,this)}jg.prototype=new fO;
jg.prototype.DP=function(){this.jU.S();this.hA.S();this.zB.S()};jg.prototype.afk=function(o){var P={Q:G.l.G7,I:this.I,Ot:"showwarp"},w=new bO(G.E.X,!0);
w.data=P;this.j(w)};jg.prototype.Mz=function(o){if(o.Ot=="showactive")this.body.appendChild(this.jU.Z);
if(o.Ot=="hideactive")this.body.removeChild(this.jU.Z);if(o.Ot=="changeOther"){this.At.O(o.Kx);this.l9.O([0,2,1][o.ZI])}if(o.Ot=="showpan"){var P=[{name:[0,1],Pd:!0}],w=[{K:G.E.z,I:N.cR,o:{Q:"editCurr",sJ:o.sJ}}],x=o.rL;
if(o.ayD){P=[{name:["VAR0: VAR1",[0,5],[7,0]],Pd:!0}];w=[{K:G.E.qc,o:N.z$.Xw(!0)}];var z=g7.aqx();P=P.concat(z[0]);
w=w.concat(z[1])}P.push({name:[11,9]});w.push({K:G.E.X,o:{Q:G.l.G7,I:this.I,Ot:"showwarp"}});var S=new i4(P,w);
S.parent=this;S.S();S.update(o.$n,o.T_);var k=new bO(G.E.X,!0);k.data={Q:G.l.tZ,NP:S,x:x.P8+2,y:x.tm+1};
this.j(k)}};jg.prototype.RU=function(o,P){fO.prototype.RU.call(this,o,P);if(P!=eB.qU&&P!=eB.Q7&&P!=eB.Wh&&P!=eB.MI)return;
this.hA.O(o.xp,o.v7,o.Q4)};jg.prototype.NJ=function(o){var P={Q:G.l.G7,I:this.I,Ot:this.jU.m()?"commit":"cancel"};
if(o.target==this.At||o.target==this.l9){P.Ot="changeOther";P.Kx=this.At.m();P.ZI=[0,2,1][this.l9.m()]}var w=new bO(G.E.X,!0);
w.data=P;this.j(w)};function iQ(){i5.call(this,!1,["binop","feat","anta","redge"])}iQ.prototype=new i5(!0);
function eY(){fO.call(this);var o=[],w="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Yp=new f5([12,85]);this.Yp.O(!0);this.Yp.J(G.E.w,this.DB,this);o.push(this.Yp.Z);this.lU=new f7(null,[[0,4],[0,3]]);
this.lU.J(G.E.w,this.DB,this);this.lU.O(1);o.push(this.lU.Z);this.ZL=new f5([20,1]);this.ZL.J(G.E.w,this.DB,this);
o.push(this.ZL.Z);this.TY=new f5([12,83]);this.TY.J(G.E.w,this.DB,this);o.push(this.TY.Z);this.NK=new kl;
this.NK.Z=J.k("div","floatcont form");this.NK.Z.setAttribute("style","max-width: 200px;");this.NK.parent=this;
var P=this.NK.Z;this.a84=new f7("Scale for exported files",["1x","2x","3x","4x"]);P.appendChild(this.a84.Z);
this.tS=new eN(w+" PNG",!1,"Save selected layers as PNG",!0);P.appendChild(this.tS.Z);this.tS.J("click",this.$S,this);
this.a2v=new eN(w+" SVG",!1,"Save selected layers as SVG",!0);P.appendChild(this.a2v.Z);this.a2v.J("click",this.$S,this);
var x=new eN(w,!1,"Save selected layers",!0);o.push(x.Z);x.J("click",function(C){if(J.Ni(this.NK.Z))return;
var H=x.Z.getBoundingClientRect(),b=new bO(G.E.X,!0);b.data={Q:G.l.tZ,NP:this.NK,x:H.left,y:H.top+H.height,wV:!0};
this.j(b)},this);var z=J.k("span","fitem");o.push(z);var S=J.k("span","fitem");o.push(S);this.jR=[];
for(var I=0;I<8;I++){var k=I==3||I==7?[20,4,6]:[20,4,I<3?I:I-1],f=new eN("Hi",!1,k);(I<4?z:S).appendChild(f.Z);
f.J("click",this.$S,this);this.jR.push(f)}for(var I=0;I<o.length;I++)this.body.appendChild(o[I]);this.aCS=o}eY.prototype=new fO;
eY.prototype.Mz=function(o){var P=o.J0,w=o.atm;this.Yp.O(P.HC);this.ZL.O(P.$m);this.TY.O(P.Vb);if(w){J.eg(this.body);
for(var I=0;I<w.length;I++)if(w[I]==1&&this.aCS[I])this.body.appendChild(this.aCS[I])}};eY.prototype.$S=function(o){var P=this.jR.indexOf(o.target),w;
if(P==-1){w=new bO(G.E.X,!0);w.data={Q:G.l.G7,I:this.I,Pw:o.target==this.tS?"getPNG":"getSVG",rr:this.a84.m()+1}}else{w=new bO(G.E.z,!0);
w.I=N.pl;w.data={Q:"algn",P:P}}this.j(w)};eY.prototype.DB=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.G7,I:this.I,Pw:"prms",HC:this.Yp.r8(),aet:this.lU.m(),$m:this.ZL.r8(),Vb:this.TY.r8()};
this.j(P)};eY.prototype.DP=function(){this.Yp.S();this.lU.S();this.ZL.S();this.TY.S();var o="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var I=0;I<8;I++){this.jR[I].ld(J._D("align/"+o[I],null,"autoscale"))}};function db(){i5.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}db.prototype=new i5(!0);
function cC(){fW.call(this,["setop","patch"])}cC.prototype=new fW;function gJ(){fW.call(this,["setop"])}gJ.prototype=new fW;
function cB(o){var P=o==N.aov?[]:["bmode"];fW.call(this,P.concat(["opacity","wconf","sall"]))}cB.prototype=new fW;
function g_(){i5.call(this,!1,["binop","feat","anta","redge"])}g_.prototype=new i5(!0);function hm(){i5.call(this,!1,["binop","feat","anta","redge"])}hm.prototype=new i5(!0);
function dQ(){i5.call(this,!1,["binop","feat","redge","cstr"])}dQ.prototype=new i5(!0);function f2(){fO.call(this);
this.r7=null;this.o9=null;this.Rr=!0;this.k1=[new iU("X",null,3.2,null,!0),new iU("Y",null,3.2,null,!0),new iU("W",null,3.2,null,!0),new iU("H",null,3.2,null,!0),new iU("a","\xB0",3.7,null,!0),new iU("l",null,3.5,null,!0),new iU("l",null,3.5,null,!0),new f5("Use custom units:"),new eN("Define Unit",!1,null,!0),new eN([15,7,6],!1,null,!0),new eN([2,2],!1,null,!0)];
this.k1[7].Z.style.marginRight="0px";for(var I=0;I<this.k1.length;I++){var o=this.k1[I];this.body.appendChild(o.Z);
if(I>6)o.J(I==7?G.E.w:"click",this.vA,this)}this.D_=0}f2.prototype=new fO;f2.prototype.vA=function(o){var P=this.k1.indexOf(o.target),w=new bO(G.E.z,!0),x=this.o9;
if(P==7){this.Mz(x);return}if(P==8){if(this.Rr){alert("Draw a line for the new unit");return}this.k1[7].O(!0);
var z=new bO(G.E.X,!0);z.data={Q:G.l.y7,hq:"measscale",Za:eD.a_(x.jJ,x.Gt)};this.j(z);return}if(P==9){if(this.D_==0)return;
w.I=N.fd;w.data={Q:"rot",Ka:[2,5],P:-this.D_}}if(P==10){w.I=N._n;w.data={Q:"reset"};this.Rr=!0;for(var I=0;
I<6;I++)this.k1[I].O(null)}this.j(w)};f2.prototype.Mz=function(o){function P(H,b,i){var M=eD.a_(H,b),T=eD.a_(b,i),O=eD.a_(H,i);
return Math.acos((T*T+M*M-O*O)/(2*T*M))}if(o==null)return;this.o9=o;var w=o.jJ,x=o.Gt,z=x.x-w.x,S=x.y-w.y;
this.D_=-Math.atan2(S,z);if(o.$V)this.D_=P(x,w,o.$V);var k=this.k1;k[0].O(this.CJ(o,w.x));k[1].O(this.CJ(o,w.y));
k[2].O(this.CJ(o,z));k[3].O(this.CJ(o,S));k[4].O((this.D_*180/Math.PI).toFixed(2));k[5].O(this.CJ(o,eD.a_(w,x)));
this.Rr=w.w6(x);if(o.$V){k[6].O(this.CJ(o,eD.a_(w,o.$V)))}else k[6].O("");k[8].ld("Define");var f=o.Pf;
if(f){var C=f.T.v;k[8].ld(C.logicalUnits.v)}};f2.prototype.CJ=function(o,P){var w=this.o9.Pf,x;if(w&&this.k1[7].m()){var z=w.T.v;
x=P*z.logicalLength.v/z.pixelLength.v}else x=e.PX.MT(P,o.vz,this.r7,o.aeT,!1);return parseFloat(x).toFixed(2)};
f2.prototype.RU=function(o,P){this.r7=o;this.Mz(this.o9)};f2.prototype.DP=function(){var o=this.k1;for(var I=0;
I<o.length;I++)o[I].S();o[4].ld(kQ.get([12,15]).slice(0,1)+":");var P=kQ.get([12,80,0]).slice(0,1);o[5].ld(P+"1:");
o[6].ld(P+"2:");J.rw(o[2],o[3])};function d9(){fW.call(this,["brush","strn","pdetail"])}d9.prototype=new fW;
function eW(){fW.call(this,["brush","sfrom"]);this.a8l=[];var o=[[7,12]];for(var I=0;I<o.length;I++){var P=new eN(o[I],!1,null,!0);
this.a8l.push(P);P.parent=this;this.body.appendChild(P.Z);P.J("click",this.alF,this)}}eW.prototype=new fW;
eW.prototype.alF=function(o){var P=this.a8l.indexOf(o.currentTarget),w=new bO(G.E.qc,!0);w.data=N.tB.pZ(P==0?"contentAware":"aiHeal");
this.j(w)};function cE(){fW.call(this,["brush","strn"])}cE.prototype=new fW;function gh(){fW.call(this,["brush","flow","smode"])}gh.prototype=new fW;
function iY(){fO.call(this);this.Sd=!1;var o=J.k("span","fitem");this.body.appendChild(o);this.S_=new kp(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
o.appendChild(this.S_.Z);this.S_.J(G.E.w,this.DB,this);this.wk=new eN([20,2]);this.body.appendChild(this.wk.Z);
this.wk.J("click",this.aez,this);this.ar7=new eN([20,3]);this.body.appendChild(this.ar7.Z);this.ar7.J("click",this.aez,this);
this.yQ=new f5([8,7,1]);this.body.appendChild(this.yQ.Z);this.yQ.J(G.E.w,this.DB,this)}iY.prototype=new fO;
iY.prototype.DP=function(){this.wk.S();this.ar7.S()};iY.prototype.DB=function(){var o={Q:G.l.G7,I:this.I,hc:this.S_.m()==0,fL:this.yQ.m()},P=new bO(G.E.X,!0);
P.data=o;this.j(P)};iY.prototype.Mz=function(o){if(this.Sd!=o.Sd)this.S_.O(1-this.S_.m());this.Sd=o.Sd};
iY.prototype.aez=function(o){var P=new bO(G.E.z,!0);P.I=N.QP;P.data={Q:"adapt",P:o.target==this.wk?"pixel":"fitscr"};
this.j(P)};function at(o,P){fO.call(this);if(o==null)return;this.Nn=o;this.k9={};this.aH7=P;for(var I=0;
I<o.length;I++){var w=o[I],x=null;if(w=="vmode"||w=="pmode"){x=new f7(null,[[12,76,1],[12,76,0],[12,76,2]]);
x.O(w=="vmode"?0:1);if(P)x.ae0(2)}if(w=="make"){x=new kp("Make",[[17,2],[12,76,1]],null,!0)}if(w=="anta"){x=new f5([12,25,1]);
x.O(!0)}if(w=="binop"){x=new f7(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(w=="pshape")x=new f7(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(w=="shape")x=new kd([12,76,1]);if(w=="crad"){x=new f6([12,94,0],0,50,"px");x.O(0)}if(w=="cstr"){x=new jX}if(w=="irad"){x=new f6([12,94,1],0,100,"%");
x.O(40)}if(w=="length"){x=new f6([12,80,0],4,40);x.O(4)}if(w=="sides"){x=new f6([12,78],3,30);x.O(5)}if(w=="width"){x=new f6([12,41],0,100,"px");
x.O(5)}if(w=="tolr"){x=new f6([12,24],0,100);x.O(5)}if(w=="fstyle"){x=new df([12,26])}if(w=="sstyle"){x=new gu}if(w=="psnap"){x=new f5([8,10])}if(w=="crnr"){x=new eN("\u2312",!1,[12,94,0],!0)}if(w=="aopts"){x=new e_;
x.O([!1,!1,50,60,0])}if(w=="smplp"){x=new eN([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}x.parent=this;
this.body.appendChild(x.Z);this.k9[w]=x;x.J(w=="crnr"||w=="smplp"?"click":G.E.w,this.DB,this)}}at.prototype=new fO;
at.prototype.Mz=function(o){var P=this.k9.cstr;if(o.ID!=null)this.k9.binop.O(o.ID);else if(o.Pw=="vals")for(var w in o.alU)this.k9[w].O(o.alU[w]);
else if(o.Eo){if(P)P.e3(o.Eo)}else{var x=at.ez,z=function(k){return{B:k!=null&&k.p9(!1)}};if(x==null)x=at.ez=new i4([{name:"Remove Anchor Point",B:function(k){var f=k?k.m0():null;
return{B:k&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.bg.length!=0}}},{name:"Remove Path",B:function(k){var f=k?k.m0():null;
return{B:k&&f[1].length!=0&&f[0][f[1][0]].add.vmsk.T.length!=0}},Pd:!0},{name:"Make Selection"},{name:[2,3],B:z},{name:[14,9],B:z}],[{K:G.E.z,I:N.jK,o:{Q:"remove",Ii:!0}},{K:G.E.z,I:N.QV,o:{Q:"remove"}},{K:G.E.X,o:{Q:G.l.y7,hq:"makesel"}},{K:G.E.qc,o:N.b0.gU(null)},{K:G.E.X,o:{Q:G.l.y7,hq:"strokepath"}}]);
x.parent=this;x.update(o.$n,o.T_);var S=new bO(G.E.X,!0);S.data={Q:G.l.tZ,NP:x,x:o.rL.P8+2,y:o.rL.tm+1};
this.j(S)}};at.prototype.azx=function(I){return null};at.prototype.DP=function(){for(var o in this.k9){this.k9[o].S()}};
at.prototype.DB=function(o){var P=new bO(G.E.X,!0),w=this.k9;if(o.target==w.crnr){P=new bO(G.E.z,!0);
P.I=N.jK;P.data={Q:"crnr"}}else if(o.target==w.smplp){P=new bO(G.E.z,!0);P.I=N.QV;P.data={Q:"smplp"}}else if(o.target==w.make){var I=o.target.m();
console.log(I);if(I==0)P.data={Q:G.l.y7,hq:"makesel"};else{P=new bO(G.E.z,!0);P.I=N.Oa;P.data={Q:"newfill",Ct:0}}}else if(o.target==w.fstyle){P.data={Q:G.l.CA,JL:eB.jf,P:w.fstyle.m()}}else if(o.target==w.sstyle){P.data={Q:G.l.CA,JL:eB.eF,P:w.sstyle.m()}}else if(o.target==w.vmode||o.target==w.pmode){P.data={Q:G.l.CA,JL:o.target==w.vmode?eB.O9:eB.qW,P:o.target.m()}}else{if(w.pshape)this.jE();
P.data={Q:G.l.G7,I:this.I};for(var x in w)P.data[x]=w[x].m()}this.j(P)};at.prototype.jE=function(){var o=this.k9,P=(o.vmode?o.vmode:o.pmode).m(),w=o.pshape?this.azx(o.pshape.m()):this.Nn,x;
if(P==0)x=["anta","make"];if(P==1)x=["anta","fstyle","sstyle"];if(P==2)x=["make","binop","fstyle","sstyle"];
var z=o.binop;if(z){var S=z.m();if(P==0){z.aEo(0)}else{z.ae0(0);if(S==0){z.O(1);this.DB({target:z})}}}J.eg(this.body);
for(var I=0;I<w.length;I++){var k=w[I];if(x.indexOf(k)!=-1)continue;this.body.appendChild(o[k].Z)}};
at.prototype.RU=function(o,P){fO.prototype.RU.call(this,o,P);var w=this.k9.fstyle,x=this.k9.sstyle,z=this.k9.vmode,S=this.k9.pmode;
if(w)w.RU(o,P);if(x)x.RU(o,P);if(P==eB.qU||P==eB.sv)if(o.VX.length!=0&&this.k9.shape){this.k9.shape.Rj(o.VX)}if(P==eB.qU||P==eB.jf)if(w)w.O(null,o.Ev,o.a7H);
if(P==eB.qU||P==eB.eF)if(x)x.O(null,o.j2,o.aDs);if(P==eB.qU||P==eB.O9||P==eB.qW){var k=o.xV,f=o.al;if(this.aH7&&f==2)f=0;
if(z){z.O(k);this.jE()}if(S){S.O(f);this.jE()}}};function dS(){at.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}dS.prototype=new at;
function f4(){at.call(this,"pmode make anta fstyle sstyle binop".split(" "))}f4.prototype=new at;function kV(){at.call(this,["fstyle","sstyle","smplp"]);
this.a62=null;this.alK=null;this.aH4=null;this.Wf=new f7([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.h3=new eN("\u25BC");this.h3.UL();this.aqk=new eN("\u25B2");this.aqk.UL();this.a58=[this.Wf,this.h3,this.aqk];
for(var I=0;I<this.a58.length;I++){var o=this.a58[I];this.body.appendChild(o.Z);o.parent=this;o.J(I==0?G.E.w:"click",this.Xe,this)}}kV.prototype=new at;
kV.prototype.Mz=function(o){if(o.Ot=="main"){var P=this.a58,w=o.SY;if(w){this.alK=w.clone();this.aH4=JSON.stringify(o.KH);
var x=w.T.slice(0),z=x.length;for(var I=0;I<x.length;I++)x[I]++;x.sort(function(C,H){return C-H});P[0].p2();
P[1].hk(z!=0);P[2].hk(z!=0);P[0].ld(z==0?"No Paths":z==1?"Path "+x[0]:"Paths "+x.slice(0,3).join(",")+(z>3?"..":""));
if(z!=0){var S=w.T[0],k=e.n.iE(w.g,S),f=w.g[k];this.Wf.O([3,0,1,2][f.Hv])}}else for(var I=0;I<P.length;
I++)P[I].hR()}else at.prototype.Mz.call(this,o)};kV.prototype.DP=function(){at.prototype.DP.call(this);
this.Wf.S()};kV.prototype.Xe=function(o){if(o.target==this.Wf||o.target==this.h3||o.target==this.aqk){var P={},w=this.alK,x=w.g,z=w.T,S=e.n.f8(x),k=JSON.parse(this.aH4);
z.sort(function(t,_){return t-_});if(o.target==this.Wf){var f=this.Wf.m();if(f<4)for(var I=0;I<z.length;
I++)x[e.n.iE(x,z[I])].Hv=[1,2,3,0][f];else{if(S<=1)return;w.g=e.n.y3(x);w.T=w.g.length==2?[]:[0];w.bg=[];
k=[e.KH.mM()]}}else{var C=o.target==this.h3?-1:1,H=[];for(var I=0;I<S;I++){var b=e.n.iE(x,I),i=b+1+x[b].length;
H.push(x.slice(b,i))}var M=z.slice(0);for(var I=0;I<z.length;I++)M[I]=Math.max(I,Math.min(S-1-(z.length-1-I),M[I]+C));
if(z.join(",")==M.join(","))return;var T=JSON.parse(JSON.stringify(k));for(var I=0;I<z.length;I++){var O=C==-1?I:z.length-1-I,b=z[O],i=M[O];
if(b!=i){var Y=H[b];H[b]=H[i];H[i]=Y;Y=T[b];T[b]=T[i];T[i]=Y}}var U=x.slice(0,2);for(var I=0;I<H.length;
I++)U=U.concat(H[I]);w.g=U;w.T=M;k=T}P.SY=w;P.KH=k;var W=new bO(G.E.X,!0);W.data={Q:G.l.G7,I:this.I,bV:P};
this.j(W)}};function cm(){at.call(this,["fstyle","sstyle","crnr","psnap"])}cm.prototype=new at;function dE(){at.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}dE.prototype=new at;
function el(){at.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}el.prototype=new at;
function aG(){at.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.k9.aopts.O([!1,!0,50,60,0])}aG.prototype=new at;aG.prototype.azx=function(I){var o=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(o[I])};function ix(){at.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}ix.prototype=new at;
function ci(){at.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}ci.prototype=new at;
function fY(){i5.call(this,!1,["binop","feat","redge","sesu"])}fY.prototype=new i5(!0);function fF(){fW.call(this,["brush","qsmode","redge","sesu"])}fF.prototype=new fW;
function dO(){fO.call(this);this.CD=[new jX,new eN([8,11,3],null,null,!0),new eN(["VAR0...",[15,10,22]],null,null,!0)];
for(var I=0;I<3;I++){var o=this.CD[I];o.J(I==0?G.E.w:"click",this.Xe,this);this.body.appendChild(o.Z)}}dO.prototype=new fO;
dO.prototype.Xe=function(o){var P=new bO(G.E.X,!0),w=this.CD.indexOf(o.target);if(w==0){P.data={Q:G.l.G7,I:this.I,$L:o.target.m()}}else if(w==1){P=new bO(G.E.qc,!0);
P.data={wQ:"make",WP:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{P.data={Q:G.l.y7,hq:"divslice"}}this.j(P)};
dO.prototype.DP=function(o){for(var I=0;I<this.CD.length;I++)this.CD[I].S()};function ky(){fO.call(this);
var o=this.IH=[new eN("\u25BC",null,null,!0),new eN("\u25B2",null,null,!0),new eN([5,4],null,null,!0),new eN(["VAR0...",[15,10,22]],null,null,!0)];
for(var I=0;I<4;I++){var P=o[I];this.body.appendChild(P.Z);P.J("click",this.Xe,this)}}ky.prototype=new fO;
ky.prototype.Xe=function(o){var P=this.IH.indexOf(o.target),w;if(P==3){w=new bO(G.E.X,!0);w.data={Q:G.l.y7,hq:"divslice"}}else{w=new bO(G.E.z,!0);
w.I=N.ta;w.data={Q:P==2?"delete":"reorder",dir:P==0?-1:1}}this.j(w)};ky.prototype.S=function(){fO.prototype.S.call(this);
for(var I=0;I<4;I++)this.IH[I].S()};function c3(o,P){fO.call(this);if(window.Typr==null||o)return;this.a8B=P;
this.cd=null;this.awc=J.k("span","");this.ake=J.k("span","");var w=1,x=this.JG={Tj:new c_(null,24),IA:new f6("X",0,0,"px",0,!1,!0,4),R4:new f6("Y",0,0,"px",0,!1,!0,4),kO:new f6("W",0,0,["%","px"],2,!1,!0,5),$W:new eN("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),K$:new f6("H",0,0,["%","px"],2,!1,!0,5),a6n:new f6("\u2221",0,0,"\xB0",w,!1,!0),apk:new f6("\u25B1 H",-85,85,"\xB0",w,!1,!0),aee:new f6("\u25B1 V",-85,85,"\xB0",w,!1,!0),h4:new f7(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),am2:new f7("Protect",[])};
x.h4.O(1);x.$W.O(!0);for(var z in x){var S=x[z],k=!0;if(P&&(S==x.a6n||S==x.apk||S==x.aee||S==x.h4))k=!1;
if(!P&&S==x.am2)k=!1;if(k)this.awc.appendChild(S.Z);var f=S==x.$W?"click":G.E.w;S.J(f,this.ao7,this)}this.Nw=new kp("Split",kp.d4(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.Nw.O(-1);this.Nw.J(G.E.w,this.aia,this);this.Ay=new id(!0,!0,!0);this.Ay.J(G.E.w,this.aia,this);
this.Ay.parent=this;var C=this.ake,H=this.Ay;C.appendChild(this.Nw.Z);C.appendChild(H.CT.Z);C.appendChild(H.qp.Z);
C.appendChild(H.XZ.Z);C.appendChild(H.SK.Z);C.appendChild(H.BJ.Z);this.zB=new eN([11,9]);this.zB.J("click",this.a3Y,this);
this.jU=new gT;this.jU.J("click",this.NJ,this)}c3.prototype=new fO;c3.prototype.Mz=function(o){if(o.rL){var P=c3,w=this.ez;
if(w==null)w=this.ez=new i4(P.aax(),P.aC2(this.I));w.S();w.parent=this;w.update(o.$n,o.T_);var x=new bO(G.E.X,!0);
x.data={Q:G.l.tZ,NP:w,x:o.rL.P8+2,y:o.rL.tm+1};this.j(x);return}J.eg(this.body);this.cd=o;if(o.JG){var z=o.JG.sn,S=o.JG.zr.clone(),k=Math.atan2(-S.b,S.F),f=new ar;
f.rotate(-k);S.concat(f);var C=this.JG;C.Tj.O(o.JG.aB);C.IA.O(o.JG.yK.x);C.R4.O(o.JG.yK.y);C.kO.O(S.F*(C.kO.vy()=="%"?100:z.q));
C.K$.O(S.RL*(C.K$.vy()=="%"?100:z._));C.a6n.O(-k*180/Math.PI);C.apk.O(Math.atan(S.JJ/S.RL)*180/Math.PI);
C.aee.O(0*180/Math.PI);this.body.appendChild(this.awc);this.zB.yg();if(o.JG.Zh!=null)C.$W.O(o.JG.Zh)}if(o.CY){if(o.ac5)this.Nw.O(-1);
this.Ay.O(o.CY);this.body.appendChild(this.ake);this.zB.UL()}if(o.Cg)C.am2.Cp(o.Cg);this.body.appendChild(this.jU.Z);
if(o.a2$&&!this.a8B)this.body.appendChild(this.zB.Z)};c3.prototype.ao7=function(o){var P=this.JG,w=this.cd.JG.sn;
if(o.target==P.$W)P.$W.O(!P.$W.m());else if(P.$W.r8()){var x=P.K$,z=P.kO,S=w._,k=w.q;if(o.target==P.kO){x=P.kO;
z=P.K$;S=w.q;k=w._}var f=x.m()/(x.vy()=="%"?100:S);f*=z.vy()=="%"?100:k;z.O(f)}var C=[];for(var H in P)if(P[H]!=P.$W&&P[H]!=P.Tj){var f=P[H].m();
if((P[H]==P.kO||P[H]==P.K$)&&f==0){f=.1;P[H].O(f)}if(P[H]==P.kO&&P[H].vy()=="px")f/=w.q/100;if(P[H]==P.K$&&P[H].vy()=="px")f/=w._/100;
C.push(f)}var b=new eD(C[0],C[1]);if(o.target==P.Tj){this.aK({Ot:"ctyp",aB:P.Tj.m()})}else if(o.target==P.IA||o.target==P.R4){this.aK({Ot:"cen",yK:b})}else{var i=this.cd.JG.zr.clone(),M=i.clone(),T=Math.atan2(-i.b,i.F);
M.translate(-b.x,-b.y);M.rotate(-T);var O=new ar(M.F,M.b,M.JJ,M.RL,0,0);O.Sd();M.concat(O);var Y=C[2]/100,U=C[3]/100;
M.concat(new ar(Y,Y*Math.tan(C[6]*Math.PI/180),U*Math.tan(C[5]*Math.PI/180),U,0,0));M.rotate(-C[4]*Math.PI/180);
M.translate(b.x,b.y);this.cd.JG.zr=M;this.aK({Ot:"trn",JG:M,JN:P.h4.m(),V5:P.am2.m(),Zh:P.$W.m()})}};
c3.prototype.aia=function(o){var P=this.Nw;this.aK(o.target==P?{Ot:"splt",P:P.m()}:{Ot:"wrp",CY:this.Ay.m()})};
c3.prototype.a3Y=function(o){this.aK({Ot:"switchWarp"})};c3.prototype.NJ=function(o){this.aK({Ot:this.jU.m()?"commit":"cancel"})};
c3.prototype.aK=function(o){o.Q=G.l.G7;o.I=this.I;var P=new bO(G.E.X,!0);P.data=o;this.j(P)};c3.prototype.DP=function(){var o=this.JG;
for(var P in o)o[P].S();J.rw(o.kO,o.K$);this.jU.S();this.Nw.S();this.Ay.S();this.zB.S()};c3.aax=function(){var o=function(P){var w=!0;
if(P==null||P.T.length==0)w=!1;else{var x=P.T;for(var I=0;I<x.length;I++){if(P.R[x[I]].add.TySh)w=!1}}return{B:w}};
return[{name:[5,9],$Y:"Shift+Alt+Ctrl + T",Pd:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],B:o},{name:[2,9],B:o,Pd:!0},{name:[11,9],B:function(P){if(P==null||P.T.length!=1)return{B:!1};
var w=P.R[P.T[0]];return{B:w.add.TySh==null&&!w.Pe()}},Pd:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
c3.aC2=function(o){if(o==null)o=N.fd;return[{K:G.E.z,I:o,o:{Q:"again"}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:3}}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:4}}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:5}}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:2}}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:1}}},{K:G.E.X,o:{Q:G.l.HB,I:o,J0:{lk:-1}}},{K:G.E.qc,o:N.DH.hi(!0,90,!0)},{K:G.E.qc,o:N.DH.hi(!0,-90,!0)},{K:G.E.qc,o:N.DH.hi(!0,-180,!0)},{K:G.E.qc,o:N.DH.hi(!1,"Hrzn",!0)},{K:G.E.qc,o:N.DH.hi(!1,"Vrtc",!0)}]};
function ha(){c3.call(this)}ha.prototype=new c3(!0);function gI(){c3.call(this)}gI.prototype=new c3(!0);
function bC(){c3.call(this,!1,!0)}bC.prototype=new c3(!0);function fC(){fO.call(this);var o=this.Nn=[new f7([12,36],["Rigid",[15,10,0],[24,4]]),new f7([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new f6([7,4],0,100,"px"),new f5("Show Mesh"),new eN("\u25BC",null,null,!0),new eN("\u25B2",null,null,!0)];
for(var I=0;I<o.length;I++){var P=o[I];P.parent=this;this.body.appendChild(P.Z);P.J(I<4?G.E.w:"click",this.aCM,this)}this.jU=new gT;
this.jU.J("click",this.NJ,this);this.body.appendChild(this.jU.Z)}fC.prototype=new fO;fC.prototype.DP=function(){var o=this.Nn;
for(var I=0;I<4;I++)o[I].S();this.jU.S()};fC.prototype.Mz=function(o){var o=o.JL;for(var I=0;I<4;I++)this.Nn[I].O(o[I])};
fC.prototype.aCM=function(o){var P=[];for(var I=0;I<4;I++)P[I]=this.Nn[I].m();var w=this.Nn.indexOf(o.target);
if(w<4)this.aK({Ot:"prm",JL:P});else this.aK({Ot:"moveDepth",alI:w==5})};fC.prototype.NJ=function(o){this.aK({Ot:this.jU.m()?"commit":"cancel"})};
fC.prototype.aK=function(o){o.Q=G.l.G7;o.I=this.I;var P=new bO(G.E.X,!0);P.data=o;this.j(P)};function jY(){fO.call(this);
this.Nn=null;this.ZD=new f7([12,44],["","","","",""]);this.ZD.J(G.E.w,this.DB,this);this.body.appendChild(this.ZD.Z);
this.qH=new f5("ON");this.qH.J(G.E.w,this.DB,this);this.body.appendChild(this.qH.Z);var o=f6;this.T2=[[new o([24,2],0,500)],[new o([24,2],0,500)],[],[new o([24,2],0,500)],[new o("Speed",0,500,"%"),new o("Point Speed",0,500,"px")],[new o([12,15],0,360,"\xB0",null,!0)]];
for(var I=0;I<6;I++)for(var P=0;P<this.T2[I].length;P++){var w=this.T2[I][P];w.parent=this;w.J(G.E.w,this.DB,this)}this.jU=new gT;
this.jU.J("click",this.DB,this)}jY.prototype=new fO;jY.prototype.Mz=function(o){var P=this.Nn=o.JL,w=P[0];
this.aiU();this.S()};jY.prototype.DB=function(o){var P=this.Nn,w=P[0],x=o.target,z=x.m();if(x==this.jU){}else if(x==this.ZD){w=P[0]=z<2?z:z+1;
this.aiU(w);P[2]=null}else if(x==this.qH){P[1][w]=z;P[2]=null;this.S()}else{var S=this.T2[w];for(var k=0;
k<S.length;k++)P[2][k]=S[k].m()}var f=new bO(G.E.X,!0);f.data={Q:G.l.G7,I:this.I,JL:P};if(x==this.jU)f.data.Ot=z?"commit":"cancel";
this.j(f)};jY.prototype.aiU=function(){var o=this.body,P=this.Nn,w=P[0];this.ZD.O(w<2?w:w-1);this.qH.O(P[1][w]);
while(o.children.length>2)o.removeChild(o.lastChild);var x=this.T2[w];for(var I=0;I<x.length;I++){x[I].hk(P[2]!=null);
if(P[2]!=null)x[I].O(P[2][I]);o.appendChild(x[I].Z)}o.appendChild(this.jU.Z)};jY.prototype.S=function(){var o=[],P=this.Nn,w=this.ZD;
for(var I=0;I<5;I++){var x=[24,3,12,I];if(P)x=(P[1][I<2?I:I+1]?"\u2713 ":"\u2002\u2002")+kQ.get(x);o.push(x)}var z=w.m();
w.Cp(o);w.O(z);var S=this.T2;for(var I=0;I<6;I++){var k=S[I];for(var f=0;f<k.length;f++)k[f].S()}};function jn(){fO.call(this);
var o=this.Px=[new f7([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var I=0;I<o.length;I++){var P=o[I];
P.J(G.E.w,this.DB,this);this.body.appendChild(P.Z)}}jn.prototype=new fO;jn.prototype.DB=function(o){var P=this.Px,w=[];
for(var I=0;I<P.length;I++)w[I]=P[I].m();var x=new bO(G.E.X,!0);x.data={Q:G.l.G7,I:this.I,Yx:w};this.j(x)};
jn.prototype.DP=function(){for(var I=0;I<this.Px.length;I++)this.Px[I].S()};function hO(){i5.call(this,!1,["binop"]);
this.a1Y=new eN("Remove",!1,null,!0);this.a1Y.J("click",this.xy,this);this.a1Y.Z.style.marginRight="2em";
this.amq=new iU("New content");this.oa=new eN("\u2026",!1,null,!0);this.oa.J("click",this.zL,this);this.ks=new eN([18,0],!1,null,!0);
this.ks.J("click",this.xy,this);this.ax_=new eN("Undo",!1,null,!0);this.ax_.J("click",this.xy,this);
this.body.appendChild(this.a1Y.Z);this.body.appendChild(this.amq.Z);this.body.appendChild(this.oa.Z);
this.body.appendChild(this.ks.Z);this.body.appendChild(this.ax_.Z);this.NK=new kl;this.NK.parent=this;
var o=this.NK.Z=J.k("div","floatcont form label6");o.style.width="270px";var P=this.UW="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");
this.ahe=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var w=this.ps=[new f5("Use default settings"),new f7("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new iU("Neg. prompt",null,13.25),new kU("Guidance",-20,20),new kU("Steps",10,50),new f7("Sampler",P)];
w[0].J(G.E.w,this.S,this);w[0].O(!0);w[1].O(1);w[3].O(6);w[4].O(20);for(var I=0;I<w.length;I++){o.appendChild(w[I].Z);
J.jB(o)}}hO.prototype=new i5(!0);hO.prototype.S=function(){fO.prototype.S.call(this);this.ks.S();var o=this.ps;
for(var I=0;I<o.length;I++){o[I].S();if(I>0)o[I].hk(!o[0].m())}};hO.prototype.xy=function(o){if(o.target==this.ax_){var P=new bO(G.E.z,!0);
P.I=N.cw;P.data={Q:"h_stepbck"};this.j(P);return}var w=this.ps,x={},z=["model","negative_prompt","guidance","steps","sampler"],S=!w[0].m();
if(S){for(var I=1;I<w.length;I++)x[z[I-1]]=w[I].m();x.model=this.ahe[x.model];x.sampler=this.UW[x.sampler];
x.steps=Math.min(x.steps,50)}var P=new bO(G.E.qc,!0);P.data=N.tB.pZ("aiHeal");if(o.target==this.ks){P.data.WP.prmt={t:"TEXT",v:this.amq.m()};
if(S)P.data.WP.JL=x}this.j(P)};hO.prototype.zL=function(o){if(J.Ni(this.NK.Z))return;var P=this.oa.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);
w.data={Q:G.l.tZ,NP:this.NK,x:P.left,y:P.top+P.height+4,wV:!0};this.j(w)};function g2(){kl.call(this);
this.Z=J.k("div","cmanager");window.alert=function(x,z){this.ahr(x,z);console.log("Alert: "+x)}.bind(this);
window.onblur=function(x){var z=this;z.NQ()}.bind(this);this.V=0;this.Y=0;this.To=[];this.ax7={};this.agH=J.k("div","alertcont");
this.Z.appendChild(this.agH);this.a2o=J.k("div","alertcont");this.Z.appendChild(this.a2o);this.jl=J.k("div","alertcont");
this.ayb=0;this.BC=-1;this.an0=null;this.CD=null;var o=this.a6h=J.k("div","alertpanel");o.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.jl.appendChild(o);var P=this.uw=J.k("input");P.setAttribute("type","text");J.Kw(P);P.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
P.addEventListener("input",this.a5R.bind(this),!1);P.addEventListener("keydown",this.aoH.bind(this),!1);
o.appendChild(P);var w=this.xG=J.k("div","contextpanel scrollable");w.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
w.addEventListener("click",this.aun.bind(this),!1);o.appendChild(w);J.Dw(document.body,this.aGp.bind(this))}g2.prototype=new kl;
g2.prototype.nB=function(){if(J.Ni(this.jl))this.Z.removeChild(this.jl)};g2.prototype.asJ=function(o,P){var w=this.an0=[],x=P.a1N;
for(var I=0;I<g7.data.length;I++){var z=g7.data[I],S=[kQ.get(z.name)],k=[I];g2.LZ(z.items,S,k,w,o,P,x==null?null:x[I]==null?0:x[I])}var f=P.L;
for(var I=0;I<f.WN.length;I++){var C=f.WN[I],H=f.keys[I];for(var b=0;b<C.length;b++)w.push([["Tools",kQ.get(C[b].I.name)],[-1,C[b].I.id],H?H.xx:null])}this.Z.appendChild(this.jl);
var i=this.uw;i.focus();i.select();this.xW()};g2.prototype.a5R=function(o){this.BC=-1;this.xW()};g2.prototype.xW=function(){var o=this.uw.value.toLowerCase().trim().replace(/  +/g," "),P=this.an0,w=[],x=[],z=o.split(" ");
if(o!="")for(var I=0;I<P.length;I++){var S=P[I][0],k=[],f=0;for(var C=0;C<S.length;C++)k[C]=-1;for(var H=0;
H<z.length;H++)for(var C=0;C<S.length;C++){var b=S[C].toLowerCase().indexOf(z[H]);if(b!=-1){k[C]=[b,b+z[H].length];
f++;break}}if(f==z.length){w.push(P[I]);x.push(k)}}var i=[],M=this.xG;J.eg(M);for(var I=0;I<w.length;
I++){var T=w[I],O=T[0],b=x[I],Y="enab",W="";if(I==this.BC)Y+=" active";var U=J.k("div",Y);i.push(U);
M.appendChild(U);for(var C=0;C<O.length;C++){var t=b[C],_=z[C],n=O[C];if(t!=-1)n=n.slice(0,t[0])+"<span style=\"color:black\">"+n.slice(t[0],t[1])+"</span>"+n.slice(t[1]);
W+=n;if(C<O.length-1)W+=" \uFE65 "}if(T[2]&&(typeof T[2]!="string"||T[2].length==1))W+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+i$.gr(T[2])+"</span>";
U.innerHTML=W}this.CD=[w,i]};g2.prototype.aoH=function(o){var P=i$.qw,w=o.code;if(P(w,i$.Sk))this.nB();
var x=P(w,i$.ag),z=P(w,i$.uE),S=P(w,i$.w_);if(x||z){this.BC=Math.max(0,Math.min(this.CD[0].length-1,this.BC+(x?-1:1)));
this.xW()}if(S&&this.BC!=-1)this.aG0(this.BC)};g2.LZ=function(o,P,w,x,z,S,k){if(typeof k=="number"){if(k==0)return;
if(k==1)k=null}for(var I=0;I<o.length;I++){if(k!=null&&(k[I]==0||k[I]==null))continue;var f=o[I],C=P.slice(0),H=w.slice(0),b=kQ.get(f.name);
if(f.B){var i=f.B(z,S,I);if(i.bZ)b=i.bZ;if(i.B==!1)continue}C.push(b);H.push(I);if(f.sub)g2.LZ(f.sub,C,H,x,z,S,k?k[I]:null);
else x.push([C,H,f.$Y])}};g2.prototype.aun=function(o){var P=o.target;if(P.tagName.toLowerCase()=="span")P=P.parentNode;
var w=this.CD[1].indexOf(P);if(w!=-1)this.aG0(w)};g2.prototype.aG0=function(o){var P=this.CD[0][o][1];
if(P[0]==-1){var w=new bO(G.E.X,!0);w.data={Q:G.l.HB,I:P[1]};this.j(w)}else{var x=g7.data[P[0]].VF[P[1]];
for(var I=2;I<P.length;I++)x=x.sub[P[I]];var z=new bO(x.K,!0);z.I=x.I;z.data=x.o;this.j(z)}this.nB()};
g2.prototype.sH=function(o,P){this.V=o;this.Y=P;this.xG.style["max-height"]=P-120+"px"};g2.prototype.af7=function(o){var P=J.k("div","alertpanel");
P.textContent=kQ.get(o);this.agH.appendChild(P);this.ax7[JSON.stringify(o)]=P};g2.prototype.aFG=function(o){var P=this.ax7[JSON.stringify(o)];
this.agH.removeChild(P);delete this.ax7[JSON.stringify(o)]};g2.prototype.ahr=function(o,P){var w=this.a2o;
for(var I=0;I<w.children.length;I++)if(w.children[I].textContent==o)return;var x=J.k("div","alertpanel tpanel");
x.textContent=o;x.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");w.appendChild(x);if(P==null)P=1500;
var z=P,S=Math.max(Date.now()+z,this.ayb+z);setTimeout(function(){x.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){w.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},S-Date.now()-30);
setTimeout(function(){w.removeChild(w.firstChild);w.setAttribute("style","transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},S-Date.now());
this.ayb=S};g2.prototype.aGp=function(o){var P=this.To;for(var I=P.length-1;I>=0;I--){var w=P[I],x=o.target;
while(x!=null){if(x==w.Z){this.NQ(w);return}x=x.parentNode}}this.NQ();var z=o.target;while(z!=this.jl&&z!=document.body)z=z.parentNode;
if(z!=this.jl)this.nB()};g2.prototype.NQ=function(o){var P=this.To;for(var I=0;I<P.length;I++){if(o&&o.atP(P[I]))continue;
var w=P[I].Z;if(!(P[I]instanceof i4))J.vW(P[I],this.Z);else this.Z.removeChild(w);w.style.height="auto";
J.hC(w,"scrollable");P.splice(I,1);I--}};g2.prototype.aqT=function(o){this.NQ(o.NP);var P=o.NP,w=P.Z;
if(this.To.indexOf(P)!=-1)return;this.To.push(P);this.Z.appendChild(w);var x=this.V,z=this.Y,S=o.x,k=o.y,f=this.Z.getBoundingClientRect(),C=P instanceof i4,H=-1,b=z-2;
if(C||o.wV){var i=P.Bx(),M=P.aa4();if(C)i=Math.min(i,200);var T=x-i-2,O=z-M-2;if(k<O)H=2;else if(S<T)H=1;
else if(0<k-M-2)H=0;else H=3;if(o.anV)H=0;if(o.a3U)H=2;if(H==2){S=Math.min(S,T)}else if(H==1){k=Math.min(k,O)}else if(H==0){k=k-M-2;
S=Math.min(S,T);b=o.y}else if(H==3){S=S-i-2;k=Math.min(k,O)}}k=Math.max(2,k);var top=Math.round(k-f.y+this.Z.offsetTop);
w.style.position="absolute";w.style["z-index"]=10;if(k+P.aa4()>b){w.style.height=b-k+"px";J.HT(w,"scrollable");
if(H==3)S-=10}w.style.left=Math.round(S)+"px";w.style.top=top+"px";if(!(P instanceof i4))J.dU(P)};g2.prototype.amc=function(o){var P=o.NP,w=this.To.indexOf(P);
if(w==-1)return;this.To.splice(w,1);var x=P.Z;if(!(P instanceof i4))J.vW(P,this.Z);else this.Z.removeChild(P.Z)};
g2.prototype.O0=function(){var o=this.To;return o.length==0?null:o[o.length-1]};g2.prototype.abN=function(){this.amc({NP:this.O0()})};
function eb(){kl.call(this);this.Z=J.k("div","confbar")}eb.prototype=new kl;eb.prototype.ar9=function(o){o.parent=this;
J.eg(this.Z);this.Z.appendChild(o.Z)};function jm(){kl.call(this);var o=this.Z=J.k("div","toolconf");
o.style.marginLeft="40px";this.atk=null;this.Ow=null;this.hv=[new fR(0),new fR(1),new f6([14,9],0,100,"px"),new by(!0),new f6([12,0],0,100,"%",0)];
for(var I=0;I<this.hv.length;I++){var P=this.hv[I];P.parent=this;P.J(G.E.w,this.aGZ,this);o.appendChild(P.Z)}var w=this.m_=new hZ;
this.m_.parent=this;this.a51=new jH("Tt:");var x=this.CE=J.k("span");o.appendChild(x);x.appendChild(this.a51.Z);
x.appendChild(w.Ln.Z);x.appendChild(w.i5.Z);x.appendChild(w.gn.Z)}jm.prototype=new kl;jm.prototype.aGZ=function(o){var P=this.hv.indexOf(o.target),w=o.target.m();
if(P==4){var x=new bO(G.E.z,!0);x.I=N.jc;x.data={Q:X.pV,OL:Math.round(255*w/100)};this.j(x);return}var z=JSON.parse(JSON.stringify(this.atk.XO));
if(P<2){var S,k=w;if(P==0){S=z.wm;z.wm=k}else{S=z.eJ;z.eJ=k}if(S.length!=k.length){var f=[1,0,0,1,0,0];
if(S.length==4){f=S[3].slice(0);f[1]*=-1;f[2]*=-1}if(S.length==2){f=S[1][1].slice(0)}if(k.length==4){k[2]=[0,0,0,1,1,0,0];
k[3]=f;f[1]*=-1;f[2]*=-1}if(k.length==2){k[1]=[[0,0,1,1,0,0,0,0,0],f]}}}if(P==2)z.dy=w;if(P==3)z=w;var x=new bO(G.E.X,!0);
x.data={Q:G.l.CA,JL:eB.SX,P:z};this.j(x)};jm.prototype.S=function(){for(var I=0;I<this.hv.length;I++)this.hv[I].S();
this.m_.S()};jm.prototype.c6=function(o,P){this.Ow=o;this.hv[0].Rj(o);this.hv[1].Rj(o)};jm.prototype.fi=function(o){if(o.T.length==0)return;
var P=o.R[o.T[0]];this.hv[4].O(Math.round(P.opacity*100/255));this.CE.setAttribute("style","line-height:1.5em; display:"+(P.add.TySh?"":"none"))};
jm.prototype.RU=function(o,P){this.atk=o;var w=o.XO,x=this.Ow;this.hv[0].O(w.wm,x);this.hv[1].O(w.eJ,x);
if(w.dy!=null)this.hv[2].O(w.dy);this.hv[3].O(w);this.m_.O(o.xp,o.v7,o.Q4)};function b_(o){kl.call(this);
b_.KG=this;b_.xI=o;this.r7=null;this.I_=J.k("input","");this.I_.setAttribute("type","file");this.I_.setAttribute("multiple","");
this.I_.addEventListener("change",function(P){this.JK(P.target.files,null,this.Zr,null);this.Zr=null}.bind(this),!1);
document.body.appendChild(this.I_);this.I_.setAttribute("style","display:none");this.abf=[];this.amn=!1;
this.a9b=[];this.akH=!1;this.aBP={};this.Zr=null}b_.prototype=new kl;b_.xI=null;b_.pa=function(o){try{var P={};
P[o.type]=o;navigator.clipboard.write([new ClipboardItem(P)])}catch(bF){console.error(bF,bF.message)}};
b_.TC=function(o,P){navigator.clipboard.read().then(function(w){for(var I=0;I<w.length;I++){try{var x=w[I],z={},S=0,k=0;
for(var f=0;f<x.types.length;f++){var C=x.types[f];S++;x.getType(C).then(function(H){var b=C;new Response(H).arrayBuffer().then(function(i){z[this.Ct]=i;
k++;if(k==S)b_.aFT(z,o,P)}.bind({Ct:this.Ct}))}.bind({Ct:C}))}}catch(bF){console.error(bF,bF.message)}}}).catch(function(w){})};
b_.a1n=function(o){navigator.permissions.query({name:"clipboard-read"}).then(function(P){o(P.state)})};
b_.aFT=function(o,P,w){var x=["text/plain","image/png","text/html","text/plain"];for(var z in o)console.log(z,z.startsWith("text")?L.bR(new Uint8Array(o[z])).slice(0,100)+"...":o[z]);
for(var S=0;S<x.length;S++){var k=x[S],f=o[k];if(f==null)continue;if(k=="image/png"){b_.xI({name:"image.png"},f,P,w);
return}if(k=="text/plain"){var C=L.bR(new Uint8Array(f));if(S==0)if(!C.startsWith("<!--")&&!C.startsWith("<svg"))continue;
if(w&&C.startsWith("<svg"))continue;var H=new bO(G.E.X,!0);H.data={Q:G.l.ajz,P:C};P.j(H);return}if(k=="text/html"){var C=L.bR(new Uint8Array(f)),b=C.indexOf("src=\"");
if(b!=-1&&C.slice(b+5,b+9)!="http"){var i=b+10;while(C[i]!="\"")i++;var M=C.slice(b+5,i);b_.xI({name:"chart.png"},eu.ML(M).buffer,P,w);
return}}}};b_.prototype.Ew=function(o){if(o==null)o=[23,5];var P=JSON.stringify(o),w=this.aBP;if(w[P]==null)w[P]=0;
if(w[P]==0){var x=new bO(G.E.X,!0);x.data={Q:G.l._K,Sp:o};this.j(x)}w[P]++};b_.prototype.SZ=function(o){if(o==null)o=[23,5];
var P=JSON.stringify(o),w=this.aBP;if(w[P]==null)w[P]=0;w[P]--;if(w[P]==0){var x=new bO(G.E.X,!0);x.data={Q:G.l.uz,Sp:o};
this.j(x)}};b_.prototype.a1t=function(o,P,w){this.Zr=o;var x=window.showOpenFilePicker;if(w)x=null;if(x&&window.self==window.top){var z=this;
x({multiple:!0}).then(function(f){var C=[];function H(b){C.push(b);if(C.length==f.length){z.JK(C,null,z.Zr,null,f);
z.Zr=null}else f[C.length].getFile().then(H)}f[C.length].getFile().then(H)});return}var S=this.I_;if(P)S.setAttribute("accept",P);
else S.removeAttribute("accept");var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
S.dispatchEvent(k)};b_.prototype.qu=function(o){if(o.url.indexOf("photopea.com#i")!=-1||o.url.indexOf("photopea.com/#i")!=-1){this.Cb(o.url.split("#i").pop());
return}this.abf.push(o);this.a7l()};b_.prototype.a7l=function(){var o=this.abf;if(o.length==0||this.amn)return;
this.amn=!0;var P=o.shift();this.Ew();if(P.Cw==null)P.Cw={};var w=new XMLHttpRequest;w.RB=P;var x=P.url;
if(P.dI&&!x.startsWith("data:image"))x="mirror.php?url="+encodeURIComponent(x);w.open("GET",x);if(P.abW)for(var z in P.abW)w.setRequestHeader(z,P.abW[z]);
w.responseType="arraybuffer";w.onload=this.a2r.bind(this);w.send()};b_.prototype.JK=function(o,P,w,x,z){for(var I=0;
I<o.length;I++){this.Ew();var S=o[I],k=new FileReader;k.RB=S;k.RB.ca=w;k.RB.nD=x;k.awL=P;if(z)k.RB.k7=z[I];
k.onload=this.a2r.bind(this);k.onerror=function(f){this.SZ()}.bind(this);this.a9b.push([k,S])}this.I_.value=null;
this.aer()};b_.prototype.aer=function(){var o=this.a9b;if(o.length==0||this.akH)return;this.akH=!0;var P=o.shift();
P[0].readAsArrayBuffer(P[1])};b_.prototype.ama=function(o,P,w){this.Ew("Saving ...");this.r7=P;setTimeout(w.bind({bQ:o,caller:this}),50)};
b_.Jo=function(o){var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=new Uint8Array(o),x=w.length,z=x%3,S=x-z,k=[],f=0,C=0,H=0;
for(var I=0;I<S;I+=3){f=w[I];C=w[I+1];H=w[I+2];k.push(P[f>>2]+P[(f&3)<<4|C>>4]+P[(C&15)<<2|H>>6]+P[H&63])}if(z==1){f=w[S];
k.push(P[f>>2]+P[(f&3)<<4]+"==")}if(z==2){f=w[S];C=w[S+1];k.push(P[f>>2]+P[(f&3)<<4|C>>4]+P[(C&15)<<2]+"=")}var b=k.join("");
return b};b_.avF=function(o,P){var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=new Uint8Array(64),f=0,C=0,H=0,i=0;
for(var I=0;I<64;I++)x[I]=w.charCodeAt(I);var z=new Uint8Array(o),S=P%3,k=P-S,b=new Uint8Array(Math.floor(P/3)*4+(S==0?0:4));
for(var I=0;I<k;I+=3){f=z[I];C=z[I+1];H=z[I+2];b[i]=x[f>>>2];b[i+1]=x[(f&3)<<4|C>>>4];b[i+2]=x[(C&15)<<2|H>>>6];
b[i+3]=x[H&63];i+=4}if(S==1){f=z[k];b[i]=x[f>>2];b[i+1]=x[(f&3)<<4];b[i+2]=61;b[i+3]=61}if(S==2){f=z[k];
C=z[k+1];b[i]=x[f>>2];b[i+1]=x[(f&3)<<4|C>>4];b[i+2]=x[(C&15)<<2];b[i+3]=61}return b};b_.prototype.a2r=function(o){var P,w=o.target.RB;
if(o.target instanceof XMLHttpRequest)P=o.target.response;else P=o.target.result;b_.xI(w,P,this,o.target.awL);
this.SZ();if(o.target instanceof XMLHttpRequest){this.amn=!1;this.a7l()}else{this.akH=!1;this.aer()}};
b_.asp=function(o,P){var w=new XMLHttpRequest;w.open("POST","https://api.imgur.com/3/image",!0);w.ob=P;
w.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");w.setRequestHeader("Content-type","application/x-www-form-urlencoded");
w.setRequestHeader("Accept","application/json");w.addEventListener("load",b_.aEG);w.send("type=base64&image="+encodeURIComponent(b_.Jo(o)));
alert("Saving to Imgur ...",4e3)};b_.aEG=function(o){var P=JSON.parse(o.target.response);if(P.success){if(o.target.ob)o.target.ob(P.data.link);
else window.open(P.data.link,"Imgur")}};b_.prototype.Cb=function(o,P,w){this.Ew();var x=new XMLHttpRequest;
x.responseType="arraybuffer";x.open("GET","https://f000.backblazeb2.com/file/"+(w?"pp-resources":"psdshared")+"/"+o);
x.onload=this.ami.bind(this);x.send();x.o9=[Date.now(),o,P?o:null,w]};b_.prototype.ami=function(o){var P=o.target.o9,w=new Uint8Array(o.target.response);
console.log(w.length+" B,",Date.now()-P[0]+" ms");for(var I=0;I<w.length;I++)w[I]=255-w[I];w=pako.inflateRaw(w);
var x=JSON.parse(L.bR(w,0,2e3));b_.xI({name:x.name,eM:P[2]},w.slice(2e3).buffer,this);this.SZ();if(!P[3])b_.tD("act=0&id="+P[1])};
b_.prototype.am3=function(o,P,w,x){if(!(o instanceof ArrayBuffer))throw"e";o=new Uint8Array(o);var z=new Uint8Array(o.length+2e3),M="";
for(var I=0;I<2e3;I++)z[I]=32;L.zl(JSON.stringify({name:P}),z,0);z.set(o,2e3);o=z;o=pako.deflateRaw(o);
for(var I=0;I<o.length;I++)o[I]=255-o[I];o=o.buffer;var S=o.byteLength,k=aN.yP(S),f=~~(609e5/2),C=~~(209e5/2);
if(S>f){confirm("Your file is "+k+". Our limit is "+aN.yP(f)+". Delete some layers and try again.");
return}if(S>C){var H=confirm("Your file is quite large ("+k+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!H)return}var b=sha1(o),i=[];for(var I=0;I<20;I++){var T=parseInt(b.slice(I*2,I*2+2),16);i.push(T);
M+=String.fromCharCode(T)}var O=btoa(M).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(b_.abn(O,x)){console.log("file already exists");
if(w)w(O);else window.open("https://www.photopea.com#i"+O+".psd");return}this.Ew("Publishing ...");var Y=new XMLHttpRequest;
Y.o9=[o,b,O,w,x];Y.open("GET",jM.$D("papi/img/publish.php?rnd="+Math.random()+"&id="+O+"&size="+S+"&bname="+x));
Y.onload=this.aE_.bind(this);Y.send()};b_.abn=function(o,P){try{var w=new XMLHttpRequest;w.open("HEAD","https://f000.backblazeb2.com/file/"+P+"/"+o,!1);
w.send();if(w.status==200)return!0}catch(bF){return!1}return!1};b_.prototype.aE_=function(o){console.log(o.target.response);
var P=JSON.parse(o.target.response),w=o.target.o9,x=new XMLHttpRequest;x.open("POST",P.uploadUrl);x.setRequestHeader("Authorization",P.authorizationToken);
x.setRequestHeader("X-Bz-File-Name",w[2]);x.setRequestHeader("Content-Type","b2/x-auto");x.setRequestHeader("X-Bz-Content-Sha1",w[1]);
x.send(new Blob([w[0]]));x.onload=this.aFy.bind({BS:this,o9:w})};b_.prototype.aFy=function(o){this.BS.SZ("Publishing ...");
if(this.o9[3])this.o9[3](this.o9[2]);else window.open("https://www.photopea.com#i"+this.o9[2]+".psd");
if(this.o9[4]=="psdshared")b_.tD("act=2&id="+this.o9[2]+"&fileId="+JSON.parse(o.target.response).fileId)};
b_.tD=function(o){var P=new XMLHttpRequest;P.open("GET","/papi/img/update.php?"+o+"&rnd="+Math.random());
P.send()};b_.save=function(o,P){var w=new Uint8Array(o),x=document.createElement("a");if(typeof x.download=="string"){var z=new Blob([w]),S=window.URL.createObjectURL(z);
x.href=S;x.download=P;document.body.appendChild(x);x.click();document.body.removeChild(x)}else{var k="data:application/octet-stream;base64,"+b_.Jo(o);
window.open(k)}};function bA(){this.size=16;this.data=e.U(16)}bA.prototype.dZ=function(o,P){if(o+P<=this.size)return;
var w=this.size;while(o+P>this.size)this.size*=2;var x=e.U(this.size);for(var I=0;I<w;I++)x[I]=this.data[I];
this.data=x};var gG={};gG.$$=function(o,P,w,x){var z=P.split(":"),S=z[0];if(z.length==2){if(S=="jpg")x=[Math.round(100*parseFloat(z[1]))];
if(S=="webp")x=[Math.round(100*parseFloat(z[1]))];if(S=="psd")x=[!0,!0,!1,!1,!1];if(S=="svg")x=z[1].split(",").map(function(f){return f=="true"});
if(S=="jpg"||S=="webp")if(o.M1())x.push(!1)}var k=eu.Gi(o,S.toUpperCase(),null,null,x,w);return k};gG.aGg=function(o,P,w){var x=o.Ey(),z=P[0];
return gG.$$(o,z,w)};gG.aq3=function(){var o=this.bQ,P=this.caller,w=o.Cw.II,x=w.formats,z,S;o.Ey();
var k=Date.now();if(w.version==1){var f=[],C=0,b=0;for(var I=0;I<x.length;I++){var H=gG.$$(o,x[I],P.r7);
f.push(H);C+=H.byteLength}z=new Uint8Array(2e3+C);var i="{ \"source\": "+JSON.stringify(o.hS)+", \"versions\": [\n";
for(var I=0;I<x.length;I++){var M=new Uint8Array(f[I]);i+="\t{\"format\": \""+x[I].split(":")[0]+"\", \"start\": "+b+", \"size\": "+M.length+" }"+(I+1<x.length?", ":"")+"\n";
z.set(M,2e3+b);b+=f[I].byteLength}i+="] }";var T=L.zl(i,z,0);for(var I=T;I<2e3;I++)z[I]=32;S="application/octet-stream"}else{var O=new bA,Y=0,U="",W=encodeURIComponent;
U="p="+W("{ \"source\": "+JSON.stringify(o.hS)+", \"versions\": [");L.x8(O,Y,U);Y+=U.length;for(var I=0;
I<x.length;I++){U=W(" {\"format\": \""+x[I].split(":")[0]+"\", \"data\": \"");L.x8(O,Y,U);Y+=U.length;
var H=gG.$$(o,x[I],P.r7),t=b_.avF(H,H.byteLength),T=t.length;O.dZ(Y,T);for(var _=0;_<T;_++){O.dZ(Y,3);
var n=t[_];if(n==43){O.data[Y]=37;O.data[Y+1]=50;O.data[Y+2]=66;Y+=3}else if(n==47){O.data[Y]=37;O.data[Y+1]=50;
O.data[Y+2]=70;Y+=3}else if(n==61){O.data[Y]=37;O.data[Y+1]=51;O.data[Y+2]=68;Y+=3}else{O.data[Y]=n;
Y++}}U=W("\" }"+(I+1<x.length?", ":""));L.x8(O,Y,U);Y+=U.length}U=W("] }");L.x8(O,Y,U);Y+=U.length;z=O.data.slice(0,Y);
S="application/x-www-form-urlencoded"}var y=new XMLHttpRequest;y.open("POST",w.url,!0);if(S)y.setRequestHeader("Content-Type",S);
y.addEventListener("load",gG.aEF.bind(this));y.send(new Blob([z.buffer]))};gG.aEF=function(o){this.caller.SZ("Saving ...");
var P=o.target.response;if(P.charAt(0)=="{"){P=JSON.parse(P);if(P.newSource)this.bQ.hS=P.newSource;if(P.message)alert(P.message,2e3);
if(P.script){var w=new bO(G.E.X,!0);w.data={Q:G.l.JW,Ee:P.script};this.caller.j(w)}}else alert("Saved. Response: "+P,1500)};
gG.aaB=function(o){var P=o.i3,w=P[1].split(".").pop(),x=gG.$$(o,w,null,w=="psd"&&P[0]==1?[!0,!1,!0,!1]:null),z=Storage._M(P[0]);
return z.a0J(P[1],x)};gG.aG1=function(o,P){var w=o.Uh.c1;if(P==null)P=gG.$$(o,w);h$.Bf(function(){var x=new XMLHttpRequest,z="https://www.googleapis.com/upload/drive/v3/files/"+o.Uh.file.id+"?uploadType=media"+"&"+h$.amy();
x.open("PATCH",z,!0);x.addEventListener("load",function(S){var k=JSON.parse(S.target.response);alert(k.name+" updated")});
x.send(P);alert("Saving \""+o.Uh.file.name+"\" to Google Drive ...")})};gG.xI=function(o,P,w,x){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)gG.aEr(o,P,w,x);
else{try{gG.aEr(o,P,w,x)}catch(bF){if(bF=="low_ram"){}else{var z=eu.IL(P),S="Error. Please, send your file to support@photopea.com and we will solve it.";
if(z=="psd")S="Error. If some other program can open your file, but Photopea can't, send your file to support@photopea.com and we will solve it.";
if(eu.IL(P)=="eps")S="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(S,1e4)}}}};gG.aEr=function(o,P,w,x){var z;if(o.name){var S=o.name.lastIndexOf(".");z=S==-1?o.name:o.name.slice(0,S)}else{if(o.url.substring(0,5)=="data:"||o.url.indexOf("googleapis")!=-1)z="image";
else z=o.url.substring(o.url.lastIndexOf("/")+1).split(".")[0];z=z.slice(0,50)}var k=o.name?o.name:o.url,f=new Uint8Array(P),C=eu.IL(P);
if(C!=null&&eu.oi(C))jM.event("fmt_"+C,.1);if(C==null)C=L.AW(f,0,4);if(C=="ai"&&k&&k.toLowerCase().endsWith(".pdf"))C="pdf";
if(k&&k.toLowerCase().endsWith(".raw")&&C!="tiff"){var H=new bO(G.E.X,!0);H.data={Q:G.l.y7,hq:"importraw",aT:P,V8:k.split("/").pop()};
w.j(H);return}else if(C=="json"){var b="";for(var I=0;I<f.length;I++)b+=String.fromCharCode(f[I]);b=decodeURIComponent(escape(b));
var i=JSON.parse(b);if(i.name&&i.url){var H=new bO(G.E.X,!0);H.data={Q:G.l.aw7,P:i};w.j(H)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(i)}return}if(C=="html"){var b=L.bR(f,0,f.length),M=new DOMParser,T=M.parseFromString(b,"text/html"),O=T.getElementsByTagName("meta");
for(var I=0;I<O.length;I++){var Y=O[I],U=Y.getAttribute("property"),W=Y.getAttribute("content"),t=null;
if(U=="og:image")t=W;if(U==null&&W&&W.startsWith("0;url=/imgres?")){var _=W.slice(14).split("&");for(var n=0;
n<_.length;n++)if(_[n].startsWith("imgurl"))t=decodeURIComponent(_[n].slice(7))}if(t==null)continue;
var H=new bO(G.E.X,!0);H.data={Q:G.l.xj,JL:{url:t,dI:!0,ca:o.ca}};w.j(H)}return}if(eu.oi(C)){var y,F,a=eu.oi(C);
if(o.ca!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(C)!=-1){var H=new bO(G.E.X,!0);if(0<=o.ca)H.data={Q:G.l.Nq,target:o.ca,sJ:o.nD,lg:P,Mv:z};
else{H=new bO(G.E.z,!0);H.data={Q:X.rC,data:new Uint8Array(P),V8:z+"."+C};H.I=N.jc}w.j(H);return}var V=[z,a,C,o,w,x,P];
if(a.VV){var D=bn==0?"psd":"ai";y=new da(z+(C==D?"":"-"+C)+"."+D);a.mJ(P,y,gG.HL,V)}else{F=a.mJ(P,null,gG.HL,V,w);
if(F==null)return}if(a.X0!=!0)gG.HL(y,F,V);else w.Ew();return}var l=new bO(G.E.X,!0);l.data={Q:G.l.mF,aT:P,uD:o.name};
var Q=o instanceof File&&o.aCR!=!0,H=new bO(G.E.X,!0);H.data={Q:G.l.CA,Cw:"add",JL:null,rc:null,a7Z:o.aCR};
if(C=="zip"){var m=Date.now(),R=UZIP.parse(P),$="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var p in R){var c=!1;for(var I=0;I<$.length;I++)if(p.toLowerCase().endsWith("."+$[I]))c=!0;if(p.startsWith("__MACOSX/")||R[p].length==0)c=!0;
if(c)continue;var B=p.split("/").pop();gG.xI({name:B},R[p].buffer,w,x)}}else if(C=="jsx"||k&&k.toLowerCase().endsWith(".jsx")){if(Q)w.j(l);
var b=L.bR(new Uint8Array(P));H.data={Q:G.l.JW,Ee:b};w.j(H)}else if(C=="otf"){if(Q)w.j(l);var Z=Typr.parse(P);
H.data.JL=eB.Wh;for(var I=0;I<Z.length;I++){H.data.rc=Z[I];w.j(H)}}else if(C=="asl"){if(Q)w.j(l);var Z=d2.M3(P,k);
H.data.JL=eB.OK;H.data.rc=Z.HR;w.j(H);H.data.JL=eB.HM;H.data.rc=Z.qB;w.j(H)}else if(C=="tpl"){if(Q)w.j(l);
var Z=fD.M3(P);H.data.JL=eB.Je;H.data.rc={MH:Z.MH,Nc:Z.Nc,list:[]};w.j(H);if(Z.aAg.length!=0){H.data.JL=eB.sv;
H.data.rc=Z.aAg;w.j(H)}if(Z.qB.length!=0){H.data.JL=eB.HM;H.data.rc=Z.qB;w.j(H)}H.data.JL=eB.J4;H.data.rc=Z.list;
w.j(H)}else{var v="";for(var E in eB.R7)if(eB.R7[E][0]==C)v=E;if(v!=""){if(Q)w.j(l);H.data.rc=eB.R7[v][2].M3(P,k);
H.data.JL=v;w.j(H)}else if(P.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(C))}};
gG.HL=function(o,P,w){var x=w[0],z=w[1],S=w[2],k=w[3],f=w[4],C=w[5],H=w[6];if(z.X0)f.SZ();if(!z.VV){if(P.length==0)return;
if(P[0].t33421||P[0].t50706){e.raw.normalize(P[0],H);console.log(P[0]);var b=new bO(G.E.X,!0);b.data={Q:G.l.y7,hq:"rawpea",yp:P[0]};
f.j(b);return}if(C){C(new Uint8Array(P[0].data),P[0].pv);return}o=eu.WM(x,P)}o.eM=k.eM;o.Ty=S;o.Cw=k.Cw;
o.hS=k.url;o.Vw=k.Vw;o.Uh=k.Uh;o.k7=k.k7;o.i3=k.i3;if(o.Uh)o.Uh.c1=S;if(o.R.length!=0){var b=new bO(G.E.X,!0);
b.data={Q:k.ca==null?G.l.cA:G.l.Nq,target:k.ca,sJ:k.nD,lg:o};f.j(b)}};function h3(o){kl.call(this);this.mh=h3.mh++;
this.PF=o;this.aBC=this.au2.bind(this);this.a20=this.ac4.bind(this);this.ai1=this.rK.bind(this);this.ads=this.aak.bind(this);
this.auP=this.aoW.bind(this);this.ap9=this.a6Z.bind(this);this.I0=0;this.a8n=0;this.aH5=0;this.Z=J.k("div","panelblock");
this.Cx=J.k("div","block");this.$e=J.k("div","collapsed");this.Z.appendChild(this.Cx);this.cY=-1;this.Ny=!0;
this.NB=J.k("div","panelhead");this.Cx.appendChild(this.NB);this.rT(this.NB);this.af2=new eN("\u2261");
this.af2.Z.setAttribute("style","position:absolute; right:4px;");this.af2.J("click",this.amE,this);this.Ga=J.k("div","body");
this.Cx.appendChild(this.Ga);this.r9=[];this.uf=null;this.CO=null}h3.mh=0;h3.prototype=new kl;h3.e5=26.1;
h3.prototype.amE=function(o){var P=this.r9[this.cY].uZ(),w=o.currentTarget.Z.getBoundingClientRect();
P.S();P.update();P.parent=this;var x=new bO(G.E.X,!0);x.data={Q:G.l.tZ,NP:P,x:w.left,y:w.top+w.height+2};
this.j(x)};h3.prototype.zF=function(o){var P=this.Cx,w=this.NB,x=this.Ga;if(J.Ni(w))P.removeChild(w);
if(J.Ni(x))P.removeChild(x);if(o==0)P.appendChild(w);P.appendChild(x);this.aH5=o};h3._1=function(o){o.stopPropagation();
o.preventDefault()};h3.prototype.au2=function(o){var P=o.dataTransfer.types;if(P[1]!=null&&P[1]!=this.mh+"")return;
h3._1(o);var eK=o.currentTarget;if(o.target==eK)J.HT(eK,"highlight")};h3.prototype.ac4=function(o){h3._1(o);
var eK=o.currentTarget;if(o.target==eK)J.hC(eK,"highlight")};h3.prototype.rT=function(o){o.addEventListener("dragenter",this.aBC,!1);
o.addEventListener("dragleave",this.a20,!1);o.addEventListener("dragover",h3._1,!1);o.addEventListener("drop",this.ai1,!1);
o.addEventListener("dragstart",function(P){P.dataTransfer.setData("Text","--panel");P.dataTransfer.setData(this.mh+"","")}.bind(this),!1)};
h3.prototype.rK=function(o){this.a20(o);var P=null,eK=o.currentTarget,w=this.aA1(eK);if(eK==this.Ga&&this.cY!=-1)P=this.cY;
else if(eK==this.NB)P=null;else if(w!=-1)P=w;var x=o.dataTransfer.getData("Text");if(x==""||x.startsWith("http")||x.startsWith("data:image/"))J.MC(o,this,P);
else if(x=="--panel"){var z=J.YH(o,eK),S=this.r9,k=S.slice(0),I=this.cY,f=w==-1?S.length:z.x<eK.getBoundingClientRect().width/2?w:w+1;
if(I==f||I+1==f||eK==this.Ga)return;var C=I<f?f-1:f,H=S[I];S.splice(I,1);S.splice(C,0,H);J.eg(this.NB);
for(var b=0;b<S.length;b++)this.NB.appendChild(S[b].Xh);this.lc(C);var i=[];for(var I=0;I<S.length;I++)i[I]=k.indexOf(S[I]);
var M=new bO("shuffleItems",!1);M.data={atz:i};this.j(M)}else if(P!=null&&this instanceof kt){var M=new bO(G.E.X,!0);
M.data={Q:G.l.anR,agE:P};this.j(M)}};h3.prototype.wd=function(){return null};h3.prototype.adX=function(){if(this.wd()){this.NB.style.padding="0px";
this.CO=this.wd();this.Ga.appendChild(this.CO);this.rS.hk(!1);var o=new bO(G.E.X,!0);o.data={Q:G.l.uN,P:1};
this.j(o)}};h3.prototype.a2h=function(){if(this.CO){this.NB.style.padding="";this.Ga.removeChild(this.CO);
this.CO=null;this.rS.hk(!0);var o=new bO(G.E.X,!0);o.data={Q:G.l.uN,P:0};this.j(o)}};h3.prototype.aA1=function(o){var P=this.r9;
for(var I=0;I<P.length;I++)if(P[I].Xh==o)return I;return-1};h3.prototype.yt=function(){for(var I=0;I<this.r9.length;
I++)this.r9[I].yE.yg()};h3.prototype.Yj=function(){return this.cY};h3.prototype.CG=function(){if(this.Ny)return;
this.Ny=!0;this.Z.removeChild(this.$e);this.Z.appendChild(this.Cx)};h3.prototype.collapse=function(){if(!this.Ny)return;
this.Ny=!1;this.Z.appendChild(this.$e);this.Z.removeChild(this.Cx)};h3.prototype.e5=function(){var o=0;
if(this.aH5==0){o=this.NB.getBoundingClientRect().height+1;o=Math.max(o,h3.e5)}return o};h3.prototype.aAO=function(){return this.e5()+this.Ga.getBoundingClientRect().height};
h3.prototype.sH=function(o,P){this.NB.style.maxWidth=o+"px";var w=this.e5();if(this.cY!=-1)this.r9[this.cY].sH(o,P-w);
return P-w};h3.prototype.RU=function(o,P){if(this.cY!=-1)this.r9[this.cY].RU(o,P)};h3.prototype.fi=function(o,P,w){this.r9[this.cY].fi(o,P,w)};
h3.prototype.MF=function(o){this.a2h();if(this.r9.indexOf(o)!=-1){this.lc(this.r9.indexOf(o));return}o.parent=this;
this.r9.push(o);this.NB.appendChild(o.Xh);o.Xh.addEventListener("mouseover",this.ads,!1);this.rT(o.Xh);
this.$e.appendChild(o.yE.Z);o.yE.J("click",this.al1,this);o.J("select",this.a29,this);o.J(G.E.lb,this.a0S,this);
this.lc(this.r9.length-1)};h3.prototype.aak=function(o){if(o.buttons==0)return;var P=o.currentTarget,w=P,I=0;
while((w=w.previousSibling)!=null)I++;this.a8n=I;P.addEventListener("mouseout",this.auP,!1);this.I0=setTimeout(this.ap9,700)};
h3.prototype.aoW=function(o){var P=o.currentTarget,w=P,I=0;while((w=w.previousSibling)!=null)I++;P.removeEventListener("mouseout",this.auP);
clearTimeout(this.I0)};h3.prototype.a6Z=function(o){this.j(new bO(G.E.avp,!1))};h3.prototype.a7D=function(o){return this.a8n};
h3.prototype.xu=function(I){var o=new bO(G.E.lb,!1);o.data={re:I};this.j(o);var P=this.r9[I];this.r9.splice(I,1);
this.NB.removeChild(P.Xh);this.$e.removeChild(P.yE.Z);P.Xh.className="";P.yE.removeEventListener("click",this.al1,this);
P.yE.yg();P.removeEventListener("activate",this.a29);P.removeEventListener(G.E.lb,this.a0S);var w=this.cY;
if(I<w)w--;else if(I==w&&I==this.r9.length)w--;this.lc(w);if(this.r9.length==0)this.adX()};h3.prototype.a0p=function(){return this.r9.length};
h3.prototype.IO=function(){if(this.r9.length!=0)this.r9[this.cY].IO()};h3.prototype.lc=function(o,P){if(P==null)P=!0;
for(var I=0;I<this.r9.length;I++)this.r9[I].Xh.className="";if(this.uf)this.Ga.removeChild(this.uf);
this.uf=null;this.cY=o;if(o==-1)return;var w=this.r9[this.cY];this.uf=w.sX;this.Ga.appendChild(w.sX);
w.Xh.className="active";if(!this.Ny){this.j(new bO("showFloat"));this.r9[o].yE.UL()}if(P)this.j(new bO(G.E.w,!1));
w.IT();var x=this.af2.Z;if(x.parentNode)this.NB.removeChild(x);if(w.uZ())this.NB.appendChild(x);var z=new bO(G.E.X,!0);
z.data={Q:G.l.Ae};this.j(z)};h3.prototype.a29=function(o){if(this.PF&&!this.PF.aEH())return;var I=this.r9.indexOf(o.currentTarget);
this.lc(I)};h3.prototype.a0S=function(o){if(this.PF&&!this.PF.aEH())return;var I=this.r9.indexOf(o.currentTarget);
this.xu(I)};h3.prototype.al1=function(o){var P=this.r9.indexOf(o.currentTarget.parent);if(this.r9[P].yE.r8())this.j(new bO("hideFloat"));
else this.lc(P)};h3.prototype.aab=function(o){this.j(o)};function kt(o){h3.call(this,o);this.V=0;this.Y=0;
J.FV(this.NB,this.a2N.bind(this));this.$B=0;this.ax9=this.aCg.bind(this);this.rT(this.Ga);this.rh=["default;"];
this.rS=new J.Ah(this.Ga);this.io=new jh(!0);this.io.parent=this;this.aC=this.io.Z;jh.s8(this.io)}kt.prototype=new h3;
kt.prototype.a2N=function(o){if(o.target!=this.NB)return;var P=this.$B;this.$B=Date.now();if(Date.now()-P>300)return;
var w=new bO(G.E.X,!0);w.data={Q:G.l.y7,hq:"newproject"};this.j(w)};kt.prototype.Fi=function(o,P){if(P)this.rh.push(o);
else{var w=this.rh.length-1;if(this.rh[w]==o)return;this.rh[w]=o}this.GR()};kt.prototype.awa=function(){this.rh.pop();
this.GR()};kt.prototype.GR=function(){var o=this.rh[this.rh.length-1];this.rS.fi(o,this.dk)};kt.prototype.RU=function(o,P){h3.prototype.RU.call(this,o,P);
this.io.RU(o,P);if(!o.AX){}};kt.prototype.S=function(){h3.prototype.S.call(this);this.io.S()};kt.prototype.fi=function(o,P){for(var I=0;
I<P.length;I++){var w=P[I];this.r9[I].m6(w.name+(w.P2()?" *":""))}h3.prototype.fi.call(this,o,P)};kt.prototype.wd=function(){return this.aC};
kt.prototype.sH=function(o,P){if(this.r9.length==0)P+=h3.e5-1;this.V=o;this.Y=P;P=h3.prototype.sH.call(this,o,P);
this.dk="height:"+P+"px; width:"+o+"px; overflow:hidden; position:relative;";this.GR();this.io.sH(o,P)};
kt.prototype.MF=function(o){h3.prototype.MF.call(this,o);o.Xh.addEventListener("click",this.ax9,!1)};
kt.prototype.xu=function(I){var o=this.r9[I];J.qM(o.Xh,this.ax9);h3.prototype.xu.call(this,I)};kt.prototype.aCg=function(o){var P=this.$B;
this.$B=Date.now();if(Date.now()-P>300)return;var w=this.aA1(o.currentTarget),x=this.r9[w].lg.name,z=new bO(G.E.X,!0),S={K:G.E.z,I:N.jc,o:{Q:X.c3}};
z.data={Q:G.l.y7,hq:"namewindow",Lz:x.slice(0,x.length-4),o0:S};this.j(z)};function g0(o){kl.call(this);
if(o)return;cG.atB(1);this.Z=J.k("div","flexrow app");this.l6=J.k("div");this.Z.appendChild(this.l6);
setTimeout(function(){var w=window.hideCap;if(w)w()},25e3);this.D2=new i$;window.addEventListener("blur",function(w){this.D2.reset()}.bind(this),!1);
window.addEventListener("resize",this.WZ.bind(this),!1);var P=this.l6;this.Y5=new dc;this.Y5.parent=this;
P.appendChild(this.Y5.Z);this.UT=new g2;this.UT.parent=this;P.appendChild(this.UT.Z);this.ll=new gO(!0);
this.ll.parent=this;P.appendChild(this.ll.Z);this.J(G.E.X,this.eO,this);this.TE=this.YW.bind(this);window.requestAnimationFrame(this.TE)}g0.prototype=new kl;
g0.prototype.YW=function(o){this.T7();window.requestAnimationFrame(this.TE)};g0.prototype.S=function(){};
g0.prototype.WZ=function(o){var P=window.innerWidth,w=window.innerHeight;this.sH(P,w)};g0.prototype.sH=function(o,P){this.UT.sH(o,P);
this.Y5.sH(o,P)};g0.prototype.eO=function(o){var P=o.data.Q;if(P==G.l.tZ)this.UT.aqT(o.data);if(P==G.l.pP)this.UT.amc(o.data);
if(P==G.l._K)this.UT.af7(o.data.Sp);if(P==G.l.uz)this.UT.aFG(o.data.Sp);if(P==G.l.JF)this.UT.NQ()};function fJ(){g0.call(this);
this.rd={x:0,y:0,ZO:!1};this.Rg=!1;this._Q=!1;this.af9=null;this.aiy=0;this.alz=!1;this.Ba=0;window.onmessage=function(b){if(Storage.a0F(b.source))return;
if(b.data instanceof ArrayBuffer){var i=eu.IL(b.data),M=eu.oi(i);b_.xI({url:"file"},b.data,this);if(M==null)this.zf()}else if(b.data instanceof Object||b.data.startsWith("{")||b.data.startsWith("amp-")||b.data.startsWith("0=goog")||b.data.startsWith("3PCoo")||b.data.startsWith("ima://")){}else if(b.data.startsWith("--ur ")){var T=b.data.split(" ").pop(),_=null;
T=T.length==0?[]:T.split(",");console.log(T);var O=this.lW.rc,Y=new bO(G.E.X,!0);Y.data={Q:G.l.CA,JL:eB.c7,OL:T};
this.j(Y);var U=T,W=O;if(W.length>U.length){var t=W;W=U;U=t}for(var I=0;I<U.length;I++)if(W.indexOf(U[I])==-1)_=U[I];
b_.tD("act=3&id="+_+"&dif="+(U==T?1:-1));alert((U==T?"Resource added.":"Resource removed.")+" "+_)}else if(b.data.startsWith("--ot ")){if(this.Y5.O0())this.Y5.O0().close();
this.lZ.Cb(b.data.split(" ").pop(),!0)}else if(b.data.startsWith("--et ")){}else{var Y=new bO(G.E.X,!0);
Y.data={Q:G.l.JW,Ee:b.data};this.j(Y);this.zf()}}.bind(this);window.onbeforeunload=function(b){this.aCm();
for(var I=0;I<this.ux.length;I++)if(this.ux[I].P2()){return this.ux[I].name}}.bind(this);window.setInterval(this.a8_.bind(this),5*60*1e3);
var o=this;if(window.indexedDB){var P={dZ:window.indexedDB.open("pp",1)};P.dZ.onupgradeneeded=function(b){var i=b.target.result,M=i.createObjectStore("rsrc",{keyPath:"k"})};
P.dZ.onsuccess=function(b){var i=o.lW.Ce.H2=b.target.result,M=i.transaction(["rsrc"],"readwrite").objectStore("rsrc"),T=M.get("fs0");
T.onsuccess=function(b){if(b.target.result){var U=o.lW.Ce.aU=b.target.result.fset;for(var W in U){if(!W.endsWith(".jsx")&&!W.endsWith(".psd"))b_.xI({url:W,aCR:!0},U[W],o)}}};
var O=new BroadcastChannel("pp-tabs"),Y=[];O.onmessage=function(b){if(b.data=="id")O.postMessage(o.lW.Ce.id);
else Y.push(b.data)};O.postMessage("id");setTimeout(function(){var M=i.transaction(["rsrc"],"readwrite").objectStore("rsrc"),U=M.getAllKeys();
U.onsuccess=function(){var W=U.result,t=[],_=0;for(var I=0;I<W.length;I++){if(W[I]=="fs0")continue;if(Y.indexOf(W[I])!=-1)continue;
t.push(W[I])}for(var I=0;I<t.length;I++){var T=M.get(t[I]);T.onsuccess=function(b){if(b.target.result){var n=b.target.result.fset;
for(var y in n){try{b_.xI({url:y,aCR:!0},n[y],o);var F=o.L7();F.y$=F.Rq=-1}catch(b){console.log(b)}}_++;
if(_==t.length)for(var I=0;I<t.length;I++){var T=M.delete(t[I])}}}}}},200)}}var w=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],x=J.Kk[ct.B9][ct.MY];
for(var I=0;I<w.length;I++){var z=J.j4(w[I]);if(x.indexOf(z)!=-1){var S=J.Kk[ct.B9][ct.Ga],k=J.j4("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
J.eg(S);S[ct.alx]=k;return}}this.L=fJ.azB();this.lW={L:this.L,a0e:!1,N5:null,uW:0,E8:{Nc:[],MH:[],list:[],Ac:null},s7:[],ajA:[],EE:[],vi:[],YR:[],a2:[],a2s:[],a8M:[],YR:[],VX:[eR.bS()],Wt:[],p7:[],ds:null,xV:0,al:1-bn,XO:iR.XO.bS(),ahW:iR.XO.bS(),Ev:{Ya:1,v4:JSON.parse(JSON.stringify(iR.P_[0]))},j2:iR.Vq.bS(),a7H:[null].concat(iR.P_),aDs:[null].concat(iR.P_),v7:new bF(function(b){var i=new bO(G.E.X,!0);
i.data={Q:G.l.xj,JL:{url:jM.$D("rsrc/fonts/"+b)}};this.j(i)}.bind(this)),xp:{Dm:[],OR:null,bp:null},font:null,Q4:[],rc:[],apV:{},AB:0,eI:16777215,xn:!1,Ph:!0,Xp:{r_:!0,u2:!1,ln:!0,Fx:!0,ZU:!0,zV:!0,ft:20,jp:0,p1:0,Kc:0,NM:8421504,ep:65535,g_:33023},dT:!0,By:[!0,!0,!1,!0,!0],Q2:[0,1,2,3,5,6,7,9,10,16,17,100],n9:1,YG:!0,af0:{},AX:!0,adJ:!1,compact:!1,vC:1,vt:0,aC:!0,tK:{},xE:null,Ce:{id:"ts"+Math.round(Math.random()*16777215),aAW:!1,a5D:!1,aU:{},J_:{},H2:null},axx:0,aka:null,a7:null,awQ:null,mz:null};
bF.YO.Ir(this);this.a2p={sn:new fA,UQ:new eD};this.lW.xp=fe.aaT();this.gZ=new g7;this.N9=new eb;this.OB=new jm;
this.rk=new f0(this.L,!0);this.er=new jZ;this.di=new kt(this);this.$a=J.k("div");this.VW=!1;this.abk=this.aBe.bind(this);
J.HT(this.di.Z,"mainblock");this.ll.parent=this.gZ.parent=this.N9.parent=this.rk.parent=this.er.parent=this.di.parent=this;
this.di.J(G.E.w,this.HS,this);this.di.J(G.E.lb,this.apb,this);this.di.J("shuffleItems",this.aGs,this);
this.di.J(G.E.avp,this.asH,this);this.J("mouse",this.axc,this);this.J(G.E.z,this.eq,this);this.J(G.E.qc,this.aqz,this);
document.body.addEventListener("keydown",this.nE.bind(this),!1);window.addEventListener("keyup",this.I5.bind(this),!1);
window.addEventListener("paste",this.aex.bind(this),!1);window.addEventListener("copy",this.air.bind(this),!1);
window.addEventListener("wheel",function(b){if(b.ctrlKey)b.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(b){if(window.innerWidth>400)b.preventDefault();
this.lW.xE=b}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(b){if(b.a4$){console.log("Service worker installing")}else if(b.aiq){console.log("Service worker installed")}else if(b.active){console.log("Service worker active")}}).catch(function(b){console.log("Registration failed with "+b)})}this.a42=0;
this.ux=[];this.lZ=new b_(gG.xI);this.lZ.parent=this;var f=this.l6,C=this.Kv=J.k("div");C.appendChild(this.gZ.Z);
C.appendChild(this.N9.Z);this.ll.aDZ(C);var H=this.a6Q=J.k("div","flexrow");f.appendChild(H);H.appendChild(this.rk.Z);
H.appendChild(this.di.Z);H.appendChild(this.er.Z);this.lZ.qu({url:jM.$D("rsrc/basic/basic.zip")});this.GU(N.pl);
jM.Ir(this.a3c.bind(this));if(this.FE())return;if(bn==0){jM.event("web_PPea",.002);var x=J.Kk[ct.B9][ct.MY];
if(x=="")x="di"+"rect";x=x.split("//").pop();if(x.startsWith("w"+"ww."))x=x.slice(4);if(x.endsWith("/"))x=x.slice(0,-1);
if(x.startsWith("go"+"ogle."))x="go"+"ogle.com";if(x.startsWith("photopea.com/templates"))x="photopea.com/templates";
if(x.endsWith("search.yahoo.com"))x="search.yahoo.com";if(di.My()){jM.event("i"+"fr_"+x,.01,1)}else jM.event("r"+"ef_"+x,.01,1)}if(bn==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}fJ.prototype=new g0(!0);
fJ.prototype.zf=function(o){var P=new bO(G.E.X);P.data={Q:G.l.li,JL:o?o:"done"};this.j(P)};fJ.prototype.a8_=function(){var o=this.lW.Ce,w=!1;
if(o.H2==null)return;var P=this.ux;for(var I=0;I<P.length;I++){var x=P[I];if(x.Rq!=x.Mi){var z=Date.now(),S=eu.Gi(x,"psd",0,0,[!0,!1,!0,!1,!0]);
x.Rq=x.Mi;o.J_[x.name]=S;w=!0;console.log(Date.now()-z,"saving "+x.name,S.byteLength)}}if(w){var k=new bO(G.E.X);
k.data={Q:G.l.CA,JL:eB.Io,avZ:!0};this.j(k)}};fJ.prototype.a3c=function(){J.Kk[ct.ajp](this.aF9.bind(this),Math.pow(Math.PI,8)+J.Kk[ct.a0z][ct.a0d]()*1e4);
var o=jM.ao();if(o!=null&&o.globals!=null)this.RJ(o.globals);else{this.alz=!0;var P=kQ.anU();if(P&&P.length!=0){var w=P[0];
kQ.a8m(w,this.abk)}}if(!this.FE()){var x=J.aB1();if(x==0)this.adJ=!0;if(x==2)this.lW.AX=!1;if(x!=1&&Math.random()<.002)J.apM()}if(!di.My()||!this.lW.AX){this.aua();
this.hw()}else{var z=J.L5(J.Kk[ct.nK]);z[ct.XF](ct.oW,this.aem.bind(this));var S=J.GG("_MYOqDLGJa;A:6");
if(bn!=0)S=ct.j4("@C/25N4/9A?C;:iBQRv")+S;z[ct.A8](J.GG("61="),S);z[ct.ox]()}this.Rg=!0;this.zf();var k=new bO(G.E.X);
k.data={Q:G.l.y7,hq:"peamark",pr:4,index:[10,0]}};fJ.prototype.aem=function(o){var P=JSON.parse(o.target[ct.Ao]),w=J.Kk[ct.aou][ct.amL]()/1e3,x=J.Kk[ct.B9][ct.MY],z=!1;
for(var S in P)if(S.indexOf(".")!=-1&&x.indexOf(S)!=-1&&parseInt(P[S])>w)z=!0;if(z)this.lW.AX=!1;this.aua();
this.hw();if(x==""){if(this.lW.AX){alert(ct.GG("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};fJ.prototype.hw=function(o){this._Q=!0;
if(!this.lW.aC)this.di.aC=null;else if(this.ux.length==0)this.di.adX();this.Vx(eB.qU);this.S();this.WZ();
this.er.fi(this.L7(),this.ux,this.lW)};fJ.prototype.RJ=function(o){var P=this.lW;if(o.fcolor!=null){P.AB=o.fcolor;
var w=P.xp.OR.FillColor;if(w){var x=e.AE(P.AB);w.Values=[1,x.$/255,x.H/255,x.b/255]}}if(o.bcolor!=null)P.eI=o.bcolor;
if(o.rulers!=null)P.xn=o.rulers;if(o.extras!=null)P.Ph=o.extras;if(o.favFam!=null)P.Q4=o.favFam;if(o.rsrc!=null)P.rc=o.rsrc;
if(o.font!=null)P.xp.Dm[0].Name=o.font;if(o.panels!=null)P.Q2=o.panels;if(o.as!=null)P.vC=o.as;if(o.co!=null)P.vt=o.co;
if(o.eparams){var z=o.eparams,S=P.Xp;if(z.guides!=null)S.r_=z.guides;if(z.grid!=null)S.u2=z.grid;if(z.gsize!=null)S.ft=z.gsize;
if(z.gunits!=null)S.jp=z.gunits;if(z.gtype!=null)S.p1=z.gtype;if(z.runits!=null)S.Kc=z.runits;if(z.gcol!=null)S.NM=z.gcol;
if(z.gucol!=null)S.ep=z.gucol;if(z.glcol!=null)S.g_=z.glcol;if(z.sels!=null)S.ln=z.sels;if(z.paths!=null)S.Fx=z.paths;
if(z.pgrid!=null)S.ZU=z.pgrid;if(z.slices!=null)S.zV=z.slices}if(o.lang!=null)kQ.a8m(o.lang,this.abk);
if(o.theme!=null)P.n9=o.theme;if(o.topt||P.aqR){var k=o.topt?o.topt:{},f=P.aqR?P.aqR:{};for(var C in this.L.map){if(C>=103)continue;
var H="t"+C;if(k[H]||f[H])this.L.map[C].I.nX(k[H],f[H],this)}}};fJ.prototype.aua=function(){if(this.lW.a0e)return;
this.lW.a0e=!0;var o=null,P=window.location.href,w=P.indexOf("="),x=P.indexOf("#");if(w!=-1)o=P.substring(P.indexOf("?")+1,w);
if(x!=-1&&x!=P.length-1){o="p";w=x}if(x!=-1&&P[x+1]=="i"){this.lZ.Cb(P.slice(x+2,x+10))}else if(P.slice(x+1).startsWith("goog_rewarded")){}else if(x!=-1&&P[x+1]=="t"){this.lZ.Cb(P.slice(x+2,x+10).split("").reverse().join(""),!0)}else if(o=="p"||o=="state"){var z=P.substring(w+1,P.length);
z=JSON.parse(decodeURIComponent(z));if(o=="p"){var S=z.apis,k=this.lW;if(S){if(S.rmbg)k.tK.ack=S.rmbg;
if(S.dezgo)k.tK.L8=S.dezgo}if(z.script=="alert(73)")this.lW.AX=!1;if(z.script)c5.aER(this);if(z.server)this.af9=z.server;
if(z.resources)for(var I=0;I<z.resources.length;I++)this.lZ.qu({url:z.resources[I]});if(z.files)for(var I=0;
I<z.files.length;I++)this.lZ.qu({url:z.files[I],Cw:{II:z.server,aH0:z.script}});var f=z.environment;
if(f==null)f={};if(f.plugins!=null)this.er.a0R(f.plugins);if(f.localsave!=null)this.lW.YG=f.localsave;
if(f.customIO!=null)this.lW.af0=f.customIO;if(f.vmode!=null){var C=f.vmode;if(C==1)this.lW.compact=!0;
if(C==2)this.zF(1)}if(f.intro!=null)this.lW.aC=f.intro;if(f.menus!=null)this.lW.a1N=f.menus;if(f.tmnu!=null)this.lW.aqR=f.tmnu;
if(f.panels!=null)this.lW.Q2=f.panels;if(f.showtools!=null){var H=f.showtools,b=H.indexOf(this.lW.N5);
this.lW.O_=H;if(b==-1)this.GU(H[0])}if(f.phrases!=null)kQ.acK(f.phrases);if(f.autosave!=null){this.lW.vC=0;
window.setInterval(function(){var T=new bO(G.E.X);T.data={Q:G.l.qS};this.j(T)}.bind(this),f.autosave*1e3)}if(f.icons!=null){for(var i in f.icons)if(f.icons[i].indexOf("\"")==-1){if((i==ct.avu||i==ct.aBy)&&this.lW.AX)continue;
PIMG[i]=f.icons[i];PIMG["__"+i]=!0}}this.RJ(f);if(z.files==null&&z.script){e8.Py(z.script,this);this.zf()}}else if(o=="state"){var M=this.lZ;
if(z.action=="create"){var T=new bO(G.E.X);T.data={Q:G.l.y7,hq:"newproject",ahF:z.folderId};this.j(T)}if(z.action=="open"){for(var I=0;
I<z.ids.length;I++)h$.Bf(function(){var Y="https://www.googleapis.com/drive/v3/files/"+this.a77,U=new XMLHttpRequest;
U.open("GET",Y);U.setRequestHeader("Authorization",h$.aAb());U.send();U.onload=function(W){var t=JSON.parse(W.target.response);
M.qu({url:Y+"?alt=media",name:t.name,Uh:{file:t,c1:""},abW:{Authorization:h$.aAb()}})}}.bind({a77:z.ids[I]}));
alert("Loading files from Google Drive ...")}}}else{var O=window.launchQueue;if(O){var M=this.lZ;O.setConsumer(function(Y){var U=Y.files,W=[];
for(var I=0;I<U.length;I++){var t=U[I];t.getFile().then(function(_){W.push(_);if(W.length==U.length)M.JK(W,null,null,null,U)})}})}}};
fJ.prototype.S=function(){var o=document.getElementById("cap");if(o){var P=!1,w=o.getElementsByTagName("h1")[0],S=0,f=0,C=0;
w.textContent=P?"Photopea":kQ.get([0,17,0]);var x=o.getElementsByTagName("p"),z=J.Kp(kQ.get([0,17,1])),k=["PSD","XCF","Sketch","XD","CDR"];
for(var I=0;I<k.length;I++)z=z.replace(k[I],"<b>"+k[I]+"</b>");if(!P)z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
x[0].innerHTML=z;z=kQ.get([0,17,2])+" "+kQ.get([0,17,3]);for(var I=0;I<z.length;I++){var H=z[I];if(H=="<")f++;
if(H==">")C++}if(!P&&f*C==9){var b=["//github.com/photopea/"+["photo","vector"][bn]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var I=0;I<3;I++){var i=z.indexOf("<",S),M=z.indexOf(">",S),T=z.slice(0,i)+"<a href=\""+b[I]+"\" target=\"_blank\">"+z.slice(i+1,M)+"</a>";
S=T.length;z=T+z.slice(M+1)}x[1].innerHTML=z}else x[1].innerHTML=kQ.get([0,17,2])}var O=document.getElementById("sponsors");
if(O)O.textContent=kQ.get([0,17,4]);this.ll.S();this.gZ.S();this.OB.S();this.er.S();this.rk.S();this.Y5.S();
this.di.S();for(var Y in this.L.map)if(this.L.map[Y].sj)this.L.map[Y].sj.S()};fJ.prototype.FE=function(){var o=J.Kk[ct.P4][ct.a8U];
if(o&&o[1]){if(o[1].endsWith(ct.GG("UUPSDm@ID")))return!0}return 4<J.Kk[ct.P4][ct.ys][ct.ah_](ct.GG("'$!|"))};
fJ.prototype.sH=function(o,P){o=Math.floor(o);P=Math.floor(P);var w=J.GG("WUMK&AM"),x=ct.VB,z=J.Kk[ct.B9],S=Math.max(o,window.screen.width),k=Math.max(P,window.screen.height),i=0;
if(di.vu==null)di.vu=Math.min(S,k)<500||S<750?0:S<1500?1:2;var f=di.vu,C=!this._Q||this.FE()||!this.lW.AX||jM.lO()||J.yO()==ct.GG("eQLZRRM?8a4=8");
if(!C&&di.My()){if(this.asW==null)this.asW=Math.random()<.5;C=this.asW}if(C){if(f!=0&&J.Kk[w]&&this._Q)J.Kk[w]()}else{if(f==0)P-=84;
else o-=f==1?180:320}g0.prototype.sH.call(this,o,P);if(C&&this.VW){this.Z[ct.aBi](this.$a);J.eg(this.$a);
this.VW=!1}if(!C&&!this.VW){var H=function(O){if(Math.random()<.002){if(bn==0&&di.b1())jM.event("gota_0")}if(bn==0&&O)J.Kk.___a=!0;
this.acO(o,P);var Y=f==0?z[ct.Ga]:this.Z;Y.appendChild(this.$a);this.$a[ct.Wn](x,J.GG("_MMJLNDfKCAg")+(f==0?10:10)+J.GG("_d$ebOS?I:==Ba-+# }$M"));
this.$a[x][J.GG("_MMJLND&<:E")]=(f==0?0:19)+J.GG("_d");this.$a[x][J.GG("i5WJHX")]=f==0?0:1}.bind(this);
function b(){di.aDA(H)}setTimeout(b,2300);this.VW=!0}if(J.Ni(this.gZ.Z))i+=31;if(J.Ni(this.N9.Z))i+=32;
this.ll.a9y=this.lW.AX&&this._Q;this.ll.sH(o,i);var M=P-i,T=J.GG("_d");this.$a[x][ct.aGe]=(f==0?100>>>1:P-11)+T;
this.$a[x][ct.a3u]=(f==0?o:6*Math.pow(10,2))+T;if(J.Ni(this.rk.Z))this.rk.sH(o,M);this.er.sH(o,M);this.di.sH(o-this.rk.Bx()-this.er.Bx(),M)};
fJ.prototype.acO=function(o,P){var w=function(){var x=new bO(G.E.X);x.data={Q:G.l.y7,hq:"account"};this.j(x)}.bind(this);
di.aC6(o,P,this.$a,w)};fJ.prototype.air=function(o){console.log("systemCopy")};fJ.prototype.aex=function(o){if(J.GJ())return;
console.log("systemPaste");if(!o.clipboardData)return;var P=o.target.tagName.toLowerCase(),w=o.clipboardData.items;
if(w==null)return;var x=this.axF.bind(this);for(var I=0;I<w.length;I++){var z=w[I],S=z.getAsFile();if(z.type.indexOf("image")!=-1){if(S.size==this.lW.axx)return;
this.lW.axx=S.size;if(S){S.name="image.png";this.lZ.JK([S],x)}}}};fJ.prototype.axF=function(o,P){var w={buffer:o,rect:P},x=this.lW;
if(J.GJ()){var z=this.a2p,S=z.sn;if(S.q==P.q&&S._==P._){w.rect=S;w.UQ=z.UQ}}else{if(x.a7){var k=new bO(G.E.z,!0);
k.I=N.cw;k.data={Q:"h_stepbck"};this.j(k)}}x.a7=w;var k=new bO(G.E.X,!0);k.data={Q:G.l.d6,aBY:!0};this.j(k)};
fJ.prototype.az1=function(){if(this.Y5.O0()!=null)alert(kQ.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
fJ.prototype.eq=function(o){var P=this.L7();if(P==null){alert(kQ.get([15,7,7]));return}var w=o.I==N.ws||o.I==N.QP;
if(this.Y5.vo()&&o.N8!=!0&&!w){this.az1();return}var x=this.L,z=this.lW.N5,S=o.I;if(S==N.cR&&z==N.uc)S=N.uc;
if(z!=S&&x.map[z].I.vo()&&!w&&!(z==N.Yq&&S==N.bk)){console.log("disabling",z);x.map[z].I.disable(P,this,this.lW,this.D2)}var k=this.L.map[S].I;
k.eq(o.data,this,P,this.D2,this.lW)};fJ.prototype.aqz=function(o){var P=this.lW;if(o.data._$!=!0)h7.ak9({wQ:o.data.wQ,WP:o.data.WP},this,P,this.L7());
var w=P.ds,x=P.p7;if(w==null)return;var z={azH:!1,oB:"Step",aoP:0,B:!0,exp:!1,wQ:o.data.wQ};if(w[2]==null)w[2]=x[w[0]].Si[w[1]].Si.length-1;
if(o.data.WP)z.WP=o.data.WP;x[w[0]].Si[w[1]].Si.splice(w[2]+1,0,z);w[2]++;this.Vx(eB.z)};fJ.prototype.eO=function(o){if(this.adJ){o.data=0;
return o.type}var P=o.data&&o.data.Q==G.l.y7&&o.data.hq==ct.avf;if(J.Kk.__csrf&&!jM.lO()&&!P){var w=ct.GG("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(w,5e3);return}g0.prototype.eO.call(this,o);var x=o.data.Q;if(x==G.l.Ho)h7.ad8(this.L7(),this.lW.p7,o.data.bV[0],o.data.bV[1],this);
if(x==G.l.anR){this.a2z(o.data.agE)}if(x==G.l.anx){this.S();this.WZ()}if(x==G.l.Ae)this.WZ();if(x==G.l.v3)if(this.lW.xE){this.lW.xE.prompt();
this.lW.xE=null}if(x==G.l.iu)this.di.Fi(o.data.GP,o.data.push);if(x==G.l.a9j)this.di.awa();if(x==G.l.azM)this.HS(null,o.data.dir);
if(x==G.l.Jr)this.di.xu(this.ux.indexOf(o.data.bQ?o.data.bQ:this.L7()));if(x==G.l.uN){var z=navigator.keyboard;
if(o.data.yu&&z)z.lock(["Escape"]);if(o.data.yu&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(o.data.yu)document.body.webkitRequestFullScreen();if(o.data.P!=null)this.zF(o.data.P)}if(x==G.l.aqn){if(o.data.ZO)this.D2.wT(o.data.aEx);
else this.D2.mq(o.data.aEx);this.xF(o.data.ZO?"down":"up")}if(x==G.l.aw7){var S=o.data.P;this.er.a0R([S]);
this.S()}if(x==G.l.Ag){var k=this.L7(),f=k.Ey().slice(0),C=k.R[k.T[0]],H=new fA(0,0,k.q,k._),b=da.Yc()+"-d71c-11e5-b1ae-a548a96e5f9f",i=new bO(G.E.X,!0);
if(o.data.JL==0){var M={name:"Default/"+k.name.split(".")[0],id:b,kR:[f,H]};i.data={Q:G.l.CA,Cw:"add",JL:eB.OK,rc:[M]};
this.j(i)}if(o.data.JL==1){var T=e.U(H.c()*4);e.ZT(T,4294967295);e.C.Iv("norm",f,H,T,H,H,1);var O=e.U(H.c());
e.KN(T,O);e.Sd(O);var Y=e.zG(O,H);if(Y.Mw())Y=H;var U=e.U(Y.c());e.d0(O,H,U,Y);Y.x=Y.y=0;var W={sn:Y,id:b,kR:[U,Y]},t=bh.ja(b),_=t.Brsh.v;
_.Dmtr.v.val=Math.max(Y.q,Y._);_.Spcn.v.val=10;i.data={Q:G.l.CA,Cw:"add",JL:eB.Je,rc:{list:[{t:"Objc",v:t}],MH:[W],Nc:[]}};
this.j(i);i.data={Q:G.l.CA,JL:eB.hL,Bb:t};this.j(i)}if(o.data.JL==2){var n=k.m0(),y=n[0][n[1][0]],F={HN:"Default/"+C.getName(),hb:b,g:y.add.vmsk.clone().g},a=e.n.$s(F.g),V=new ar(a.q,0,0,a._,a.x,a.y);
V.Sd();e.n.G9(F.g,V);a.x=a.y=0;F.aR=a.clone();i.data={Q:G.l.CA,Cw:"add",JL:eB.sv,rc:[F]};this.j(i)}}if(x==G.l.xj)this.lZ.qu(o.data.JL);
if(x==G.l.Ul){var D=o.data.a9V,l=o.data.Fg;if(D!=!0&&l!=!0&&this.DA("open"))return;var Q=this.di.Yj();
if(l)Q=-1-Q;this.lZ.a1t(D||l?Q:null,o.data.afY,o.data.$d)}if(x==G.l.tR){var m=o.data.anp,R=o.data.Yg,$=this.dM(m);
if(R){var p=m==eB.Je,c=[];for(var I=0;I<R.length;I++)c.push((p?$.list:$)[R[I]]);$=p?{Nc:$.Nc,MH:$.MH,list:c}:c}if(m==eB.HM){var H=new da;
for(var I=0;I<$.length;I++){var B=$[I].M6.Lefx;if(B)iO.ad2(B,H,this.lW.a2)}$={HR:H.add.Patt?H.add.Patt:[],qB:$}}if(m==eB.J4){var Z=this.lW.E8;
$={MH:[],Nc:[],list:$};console.log($)}if(m==eB.z)$=$[o.data.QB];var v=eB.R7[m],f=v[2].q0($);b_.save(f,v[1]+"."+v[0])}if(x==G.l.mF){var E=this.lW.Ce,g=o.data.ac$;
if(E.H2&&!E.aAW&&!g){E.a5D=window.confirm("Load \""+o.data.uD+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
E.aAW=!0}if((E.a5D||g)&&E.H2){E.aU[o.data.uD]=o.data.aT;var i=new bO(G.E.X);i.data={Q:G.l.CA,JL:eB.Io};
this.j(i)}}if(x==G.l.axS){var k=this.L7(),A="<!DOCTYPE HTML>";if(k==null)return;var u=eu.iK(k.Ey().buffer,k.q,k._),j=window.open();
A+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";A+="<body><img src=\""+u+"\" /></body>";
A+="</html>";j.document.write(A)}if(x==G.l.vR){if(this.DA("publishOnline"))return;var K=o.data.pr=="jpg"||o.data.pr=="png",k=this.L7();
if(k==null)return;if(!K&&k.eM)return;var w="Your "+(K?"picture":"document")+" will be published at "+(K?"Imgur":["Photo","Vector"][bn]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!K)w+=" We guarantee 6+ months of storage.";var s=o.data.ob?!0:confirm(w);if(s){if(o.data.pr=="psd"){var i=new bO(G.E.z,!0);
i.I=N.jc;i.data={Q:X.XR};this.j(i);var r=new fA(0,0,k.q,k._);for(var I=0;I<k.R.length;I++){var C=k.R[I];
if(C.rect.Mw()||C.Pe()||C.Jq()||C.Sf()||C.aj()||C.add.TySh||C.add.vmsk||C.add.SoLd)continue;var h=r.SN(C.rect);
if(!h.w6(C.rect)&&!h.Mw()){var jC=e.U(h.c()*4);e.sR(C.buffer,C.rect,jC,h);C.buffer=jC;C.rect=h}if(!e.Nm(C.buffer,C.rect.q,C.rect._))continue;
var d=C.ny(),q=C.opacity,hc=C.gS,dk=C.gH;C.Kt(!0);C.opacity=255;C.gS="norm";k.T=[I];i.data={Q:X.WF,pr:"jpg"};
this.j(i);var c6=k.R[I];C.Kt(d);c6.Kt(d);C.opacity=c6.opacity=q;C.gS=c6.gS=hc,C.gH=c6.gH=dk}}if(k.e2){k.cj()}var e3=k.q,ks=k._,cH=o.data.awP,bI;
if(cH)while(Math.max(e3,ks)>cH){e3=e3>>>1;ks=ks>>>1}console.log(e3,ks);if(o.data.pr=="psd")bI=eu.Gi(k,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(o.data.pr=="ai")bI=eu.Gi(k,"ai");else if(o.data.pr=="png")bI=eu.Gi(k,"png",e3,ks);else{var aR=eu.Gi(k,"png",e3,ks),ak=eu.Gi(k,"jpg",e3,ks);
bI=aR.byteLength<ak.byteLength?aR:ak}if(o.data.ob==null)o.data.ob=function(ib){var eo=K?ib:"https://www."+["photo","vector"][bn]+"pea.com/#i"+ib,i=new bO(G.E.X);
i.data={Q:G.l.y7,hq:"linkview",ap3:eo};this.j(i)}.bind(this);if(K)b_.asp(bI,o.data.ob);else this.lZ.am3(bI,k.name,o.data.ob,"psdshared")}}if(x==G.l.qS){var k=this.L7(),cN=!1;
if(k==null)return;if(k.e2){k.cj()}if(o.data.K2){if(!this.aY(k,o.data.K2))return;var f=gG.aGg(k,o.data.K2,this.lW);
this.zf(f);cN=!0}else if(k.Vw){if(this.ux.indexOf(k.Vw.Dy)!=-1){var f=new Uint8Array(eu.oi("PSD").D7(k,null,null,[!0,!1])),i=new bO(G.E.z,!0);
i.data={Q:X.rC,lg:k.Vw.Dy,data:f,id:k.Vw.a7t,V8:k.name};i.I=N.jc;this.j(i);alert("Smart Object updated")}cN=!0}else if(this.DA("save")){cN=!0}else if(k.Uh){gG.aG1(k);
cN=!0}else if(k.i3){var gC=gG.aaB(k);if(gC==1){alert("Already saving another file. Try again later.");
return}cN=!0}else if(k.Cw&&k.Cw.II){if(!this.aY(k,k.Cw.II.formats))return;this.lZ.ama(k,this.lW,gG.aq3);
cN=!0}else if(k.k7&&(bn==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(k.Ty)!=-1||bn==1&&k.Ty=="ai")){this.a7d();
return}if(cN){k.y$=k.Mi;k.gk=Date.now();k.yW=!0}else{var i=new bO(G.E.X,!0);i.data={Q:G.l.XH};this.j(i)}}if(x==G.l.XH){if(!this.lW.YG){alert("function is disabled");
return}if(this.DA("saveAsPSD"))return;var k=this.L7();if(k==null)return;if(!this.aY(k))return;var i=new bO(G.E.z,!0);
i.data={Q:X.XR};i.I=N.jc;this.j(i);var bD=k.R.length,cu="Your document has "+k.R.length+" layers.";if(bD>1<<15){alert(cu+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(bD>8e3&&!confirm(cu+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var bq={IN:[]};k.root.a1L([],bq);var hn=bq.IN;if(hn.length>11&&!confirm("One layer is nested "+(hn.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hn.join(" \uD83E\uDC1A ")+"."))return;
var aK=window.showSaveFilePicker;if(window.parent!=window)aK=null;if(aK&&!o.data.aqu){var cQ={suggestedName:k.name,types:[{description:["PSD","AI"][bn]+" Files",accept:bn==0?{"image/psd":[".psd"]}:{"application/pdf":[".ai"]}}]};
aK(cQ).then(function(o){k.k7=o;k.name=o.name;k.dH=!0;k.Ty="psd";this.a7d()}.bind(this));return}var jR=window.gtag;
if(k.Li()&&jR)jR("event",k.Ty+":"+J.j4(jM.lO()?"\"'|('61":"w'| "),{event_category:"Formats"});if(k.e2){k.cj()}var ch=bn==0?"PSD":"AI",bx=eu.oi(ch);
jM.event("efmt_"+ch.toLowerCase(),.1);if(o.data.aqu){var f=k.Ty=="psd"?bx.D7(k):gG.$$(k,k.Ty,this.lW);
this.amm(f,k,this)}else{var f=bx.D7(k);b_.save(f,k.name);k.y$=k.Mi;k.gk=Date.now();k.yW=!0}}if(x==G.l.Dj)window.open(o.data.link,"_blank");
if(x==G.l.ae7){if(this.Y5.vo()){this.az1();return}var k=this.L7(),C=k.R[k.T[0]],S=k.Mc(C.add.SoLd.Idnt.v);
for(var I=0;I<this.ux.length;I++){var jf=this.ux[I].Vw;if(jf!=null&&jf.a7t==S.QQ&&jf.Dy==k){this.di.lc(I);
return}}b_.xI({name:S.V8,Vw:{a7t:C.add.SoLd.Idnt.v,Dy:k}},S.raw.buffer,this)}if(x==G.l.asd){var k=this.L7(),C=k.R[k.T[0]],S=k.Mc(C.add.SoLd.Idnt.v);
b_.save(S.raw.buffer,S.V8)}if(x==G.l.agz){console.log(o.data);b_.xI({name:o.data.i3[1].split("/").pop(),i3:o.data.i3},o.data.Du,this)}if(x==G.l.aiA){var k=this.L7();
k.i3=o.data.i3;k.name=k.i3[1].split("/").pop();var i=new bO(G.E.X);i.data={Q:G.l.qS};this.j(i)}if(x==G.l.n1){this.a3V()}if(x==G.l.D9){this.a3N(o.data.ND,o.data.Uo,o.data.A$)}if(x==G.l.d6){this.anH(o.data.aBY,o.data.aEZ,o.data.A$)}if(x==G.l.ajz){var dW=o.data.P;
if(this.lW.N5==N.cR&&this.Di().vo()){var i=new bO(G.E.z,!0);i.I=N.cR;i.data={Q:"insertText",P:dW};this.j(i);
return}if(dW.startsWith("vcb;")){var bf=JSON.parse(dW.slice(4));bf[0]=eR.aEA(bf[0]);var i=new bO(G.E.z,!0);
i.I=N.QV;i.data={Q:"append",Ka:"Paste Paths",a8N:bf};this.j(i)}else if(dW.startsWith("lrs;")){var iu=dW.split(";"),dV=this.ux[parseInt(iu[1])];
if(dV==null)return;var gb=this.L7(),gP=dV.T;dV.T=JSON.parse(iu[2]);var eJ=dV.JT(null,dV!=gb);dV.T=gP;
var i=new bO(G.E.z,!0);i.data={Q:X._J,R:eJ,Dy:dV,vT:gb};i.I=N.jc;this.j(i)}else if(dW.startsWith("<!--")||dW.startsWith("<svg")){var c1=L.$f(dW),ku=eu.oi("svg"),H=new da("image.psd");
ku.mJ(c1.buffer,H);if(this.ux.length!=0){var aC=H.R;if(aC.length==3&&aC[0].getName()=="</Layer group>"&&aC[2].Pe())aC=[aC[1]];
var i=new bO(G.E.z,!0);i.I=N.jc;i.data={Q:X._J,R:aC,Dy:H,vT:this.L7()};this.j(i)}else this.apB(H)}}if(x==G.l.JW){e8.Py(o.data.Ee,this)}if(x==G.l.li){if(window.parent!=window)window.parent.postMessage(o.data.JL,"*");
this.er.wK(o.data.JL)}if(x==G.l.d7){var gU=parseFloat(o.data.hq);if(this.lW.Q2.indexOf(gU)==-1){var i=new bO(G.E.X,!0);
i.data={Q:G.l.CA,JL:eB.zC,P:gU,Cw:"add"};this.j(i)}this.er.amH(o.data.hq)}if(x==G.l.gQ){this.UT.asJ(this.L7(),this.lW)}if(x==G.l.y7){var hR="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var I=0;I<hR.length;I+=2)if(o.data.hq==hR[I]&&this.DA(hR[I+1]))return;if(!this.lW.YG&&o.data.window=="saveforweb"){alert("function is disabled");
return}this.Y5.aC4(o.data.hq,this.L7(),o.data,this.ux,this.D2)}if(x==G.l.Gd)b_.save(o.data.data,o.data.name);
if(x==G.l.cA){if(!this.Y5.vo()||o.N8)this.apB(o.data.lg)}if(x==G.l.Nq){this.di.lc(o.data.target);var i=new bO(G.E.z,!0);
i.data={Q:X.aej,lg:o.data.lg,Mv:o.data.Mv,sJ:o.data.sJ};i.I=N.jc;this.j(i);this.GU(N.fd)}if(x==G.l.auK){fj.Dx=!fj.Dx;
if(this.ux.length>0)this.L7().N()}if(x==G.l.ao2){var a7=jM.ao();if(a7!=null&&a7.globals!=null)this.RJ(a7.globals);
this.hw()}if(x==G.l.yb){this.lZ.JK(o.data.data,null,o.data.ca,o.data.nD,o.data.ayw)}if(x==G.l.HB){var dh=this.Di();
if(!this.Y5.O0()!=null)this.GU(o.data.I,o.data.J0);var eS=this.Di();if(eS!=dh&&o.data.a3w)eS.aE(this.L7(),this,this.lW,this.D2,this.rd)}if(x==G.l.xz){if(this.L.a0t)this.GU(this.L.a0t)}if(x==G.l.G7){var d0=this.L.map[o.data.I].I,k=this.L7();
d0.KU(o.data,this,k,this.D2,this.lW);if(k)k.yS=!0;this.adB()}if(x==G.l.ay){var cJ=this.L.map[o.data.I];
this.a9k(cJ);cJ.sj.Mz(o.data)}if(x==G.l.CA){var k=this.L7(),aO,a9=!(k&&k.T.length!=0&&k.R[k.T[0]].add.TySh),ac=o.data.JL,e7=o.data.rc,b2=this.lW;
if(o.data.Cw=="set"){var eS=N.Q9[e7[1].classID];if(b2.N5!=eS)this.GU(eS);this.L.map[eS].sj.aey(e7,b2)}if(o.data.Cw=="add"){var v=eB.R7[ac];
if(ac==eB.zC){b2.Q2.push(o.data.P);b2.Q2.sort(function(ib,eo){return ib-eo})}else if(v==null){if(e7)b2.v7.azq(e7,o.data.a7Z);
if(k)k.yW=!0}else{var jQ=this.dM(ac);if(ac==eB.Je){jQ.MH=jQ.MH.concat(e7.MH);jQ.Nc=jQ.Nc.concat(e7.Nc);
jQ=jQ.list;e7=e7.list}if(ac==eB.HM&&k){for(var I=0;I<e7.length;I++){var B=e7[I].M6.Lefx;if(B)iO.a3p(B,k,b2.a2)}}if(ac==eB.J4&&e7==null){var H=this.L.map[b2.N5].sj.amg();
if(H==null)return;e7=[H]}for(var I=0;I<e7.length;I++)jQ.push(e7[I]);if(ac==eB.sv){var g9={};for(var I=0;
I<jQ.length;I++){var cx=jQ[I].HN;while(g9[cx]!=null)cx=jQ[I].HN=cx+"X";g9[cx]=!0}}if(o.data.a7Z!=!0)if(jQ.length!=e7.length||ac==eB.cS||ac==eB.HM||ac==eB.vp||ac==eB.z)alert(kQ.get(v[3])+" "+kQ.get([23,1])+".")}}if(o.data.Cw=="del"){if(ac==eB.zC){b2.Q2.splice(b2.Q2.indexOf(o.data.P),1)}else{var v=eB.R7[ac],R=o.data.Yg,jQ=this.dM(ac);
if(ac==eB.Je)jQ=jQ.list;for(var I=0;I<R.length;I++)jQ[R[I]]=null;for(var I=0;I<jQ.length;I++)if(jQ[I]==null){jQ.splice(I,1);
I--}alert(kQ.get(v[3])+" deleted.")}}if(o.data.Cw=="rnm"){var v=eB.R7[ac],jQ=this.dM(ac);if(ac==eB.Je)jQ=jQ.list;
if(jQ[o.data.Yg[0]]==null)return;v[2].m6(jQ[o.data.Yg[0]],(o.data.Pt?o.data.Pt:"")+o.data.P)}if(ac==eB.jf){var i8=o.data.P;
b2.Ev=i8;b2.a7H[i8.Ya]=i8.v4}if(ac==eB.eF){var i8=o.data.P;b2.j2=JSON.parse(JSON.stringify(i8));var fw=iR.Hb(i8);
b2.aDs[fw.Ya]=fw.v4}if(ac==eB.SX){b2.XO=o.data.P;var hi=iR.XO.bS(),dU=!0;for(var H in hi)if(b2.XO[H]==null)dU=!1;
if(dU)b2.ahW=JSON.parse(JSON.stringify(b2.XO))}if(ac==eB.O9){b2.xV=o.data.P}if(ac==eB.qW){b2.al=o.data.P}if(ac==eB.Q7){b2.xp=o.data.xp;
var dv=b2.xp.OR.FillColor;if(a9&&dv){var bo=dv.Values,fV={$:bo[1]*255,H:bo[2]*255,b:bo[3]*255},ck=e.Oq(fV);
if(b2.AB!=ck){b2.AB=ck;aO=eB.P6}}}if(ac==eB.hL){var jC=JSON.parse(JSON.stringify(o.data.Bb)),h8=jC.useBrushSize;
if(h8&&h8.v){jC.Brsh.v.Dmtr.v.val=b2.E8.Ac.Brsh.v.Dmtr.v.val;h8.v=!1}b2.E8.Ac=jC;var fS={wQ:"select",WP:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:jC.Nm.v.split("/").pop()}}]}}},cJ=this.Di();
cJ.BS=this;cJ.track(fS)}if(ac==eB.MI){b2.Q4=o.data.OL}if(ac==eB.c7){b2.rc=o.data.OL}if(ac==eB.P6){var fS,iS="Clrs";
if(o.data.Pw<2){var fh=o.data.P,h9=o.data.Pw==0,gi=e.G.e1(e.AE(fh));if(h9)b2.AB=fh;else b2.eI=fh;iS=h9?"FrgC":"BckC";
fS={wQ:"set",WP:{__name:"Set",classID:"setd",T:{t:"Objc",v:gi}}}}if(o.data.Pw==2){var dX=b2.AB;b2.AB=b2.eI;
b2.eI=dX;fS={wQ:"exchange",WP:{__name:"Exchange",classID:"Exch"}}}if(o.data.Pw==3){b2.AB=0;b2.eI=16777215;
if(k!=null&&k.T.length!=0&&k.R[k.T[0]].Zx==1){var dX=b2.AB;b2.AB=b2.eI;b2.eI=dX}fS={wQ:"reset",WP:{__name:"Reset",classID:"Rset"}}}if(fS){fS.WP.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:iS}}]};
var cJ=this.Di();cJ.BS=this;cJ.track(fS)}var dv=b2.xp.OR.FillColor;if(a9&&dv){var f8=e.AE(b2.AB),kS=[1,f8.$/255,f8.H/255,f8.b/255];
if(kS.join(",")!=dv.Values.join(",")){dv.Values=kS;aO=eB.Q7}}}if(ac==eB.ad){b2.xn=!b2.xn;this.WZ()}if(ac==eB.ZM){b2.Ph=!b2.Ph;
this.WZ()}var jJ=b2.Xp;if(ac==eB.fr){jJ.ln=!jJ.ln;this.WZ()}if(ac==eB.dF){jJ.Fx=!jJ.Fx;this.WZ()}if(ac==eB.IK){jJ.r_=!jJ.r_;
this.WZ()}if(ac==eB.BY){jJ.u2=!jJ.u2;this.WZ()}if(ac==eB.oE){jJ.ZU=!jJ.ZU;this.WZ()}if(ac==eB.wZ){jJ.zV=!jJ.zV;
this.WZ()}if(ac==eB.Ua){b2.Xp=o.data.OL;this.WZ()}if(ac==eB.acc){b2.dT=!b2.dT;this.WZ()}if(ac==eB.Cd){b2.By[o.data.cB]=!b2.By[o.data.cB];
this.WZ()}if(ac==eB.Cj){kQ.aGl(o.data.lang,this.abk)}if(ac==eB.eS){b2.n9=o.data.n9;this.S()}if(ac==eB.Io&&b2.Ce.H2){var gj=b2.Ce.H2.transaction(["rsrc"],"readwrite").objectStore("rsrc"),k8={k:"fs0",fset:b2.Ce.aU};
if(o.data.avZ)k8={k:b2.Ce.id,fset:b2.Ce.J_};var g$=Object.keys(k8.fset).length==0?gj.delete(k8.k):gj.put(k8);
g$.onerror=function(o){console.log(o);alert("Storing failed. Browser says: "+o.target.error.message,7e3)}}this.Vx(ac);
if(aO)this.Vx(aO)}};fJ.prototype.a7d=function(){var o=this.L7();console.log(o.pi);if(o.pi)return;o.pi=!0;
var P=new bO(G.E.X,!0);P.data={Q:G.l._K,Sp:"Saving ..."};this.j(P);setTimeout(function(){var P=new bO(G.E.X,!0);
P.data={Q:G.l.XH,aqu:!0};this.j(P)}.bind(this),20)};fJ.prototype.amm=function(o,P){P.k7.createWritable().then(function(w){w.write(o);
return w}).then(function(w){return w.close()}).then(function(w){P.y$=P.Mi;P.gk=Date.now();P.yW=!0;P.pi=!1;
var x=new bO(G.E.X,!0);x.data={Q:G.l.uz,Sp:"Saving ..."};this.j(x)}.bind(this)).catch(function(w){P.pi=!1;
var x=new bO(G.E.X,!0);x.data={Q:G.l.uz,Sp:"Saving ..."};this.j(x)}.bind(this))};fJ.prototype.a9f=function(){var o=this.lW,P=o.rc,w=o.apV;
for(var I=0;I<P.length;I++){var x=P[I];if(w[x])continue;w[x]=!0;this.lZ.Cb(x,!1,!0)}};fJ.prototype.aBe=function(){this.S();
this.WZ()};fJ.prototype.DA=function(o){var P=this.lW.af0[o];if(P){var w=new bO(G.E.X,!0);w.data={Q:G.l.JW,Ee:P};
this.j(w)}return P!=null};fJ.prototype.aY=function(o,P){var w=!0,k=15;if(P){w=!1;for(var I=0;I<P.length;
I++)if(P[I].startsWith(J.GG("__M")))w=!0}var x=o.Li()||o.Vw&&o.Vw.Dy.Li();if(this.FE())x=!1;var z=new J.Kk[ct.aou],S=(z[J.j4("xy,b-66:")]()&1)*60+z[J.GG("VQ]3LNRN<G")]();
if(x&&!jM.lO()&&S>k&&w){var f=J.Kk[J.j4("}$z{2*35")][J.j4("y'|!")],C=J.GG("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
C+="\n\n"+J.GG("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-S+120)+J.GG("nYRTXTBMd");
if(f.indexOf(J.j4("\"|'/-1)(W0?@"))==-1)C=kQ.get([0,11+6,3+2]);J.Kk._cwY(C);return!1}return!0};fJ.prototype.dM=function(o){var P=this.lW,w=[eB.Je,eB.wr,eB.Z9,eB.vp,eB.OK,eB.sv,eB.HM,eB.cS,eB.z,eB.J4,eB.EP],x=[P.E8,P.EE,P.vi,P.YR,P.a2,P.VX,P.Wt,P.a2s,P.p7,P.s7,P.ajA];
return x[w.indexOf(o)]};fJ.prototype.a3V=function(){var o=this.a3N(),P=this.L7();if(P==null||P.T.length==0)return;
var w=P.R[P.T[0]],x=new bO(G.E.z);if(o==1){x.I=N.QV;x.data={Q:"remove",Ka:"Cut Paths"}}else{x=new bO(G.E.qc);
x.data={wQ:"delete"}}this.j(x)};fJ.prototype.a3N=function(o,P,w){if(o==null)o=!1;var x=this.lW;console.log("doCopy",o,P);
var z=this.L7();if(x.N5==N.cR&&this.Di().vo()){var S=new bO(G.E.z,!0);S.I=N.cR;S.data={Q:"copyText"};
this.j(S);return}if(z==null||z.T.length==0&&!o)return;var k=z.R[P==null?z.T[0]:P],f=z.m0(),C=f[0],H=f[1],b=C[H[0]];
if(!o&&b!=null&&b.add.vmsk.T.length!=0){var i=N.b0.Ak(b.add.vmsk,b.add.vogk);if(J.GJ()){i[0]=eR.ac6(i[0]);
var M="vcb;"+JSON.stringify(i);b_.pa(new Blob([M],{type:"text/plain"}))}else x.mz=i;return 1}else if(z.e==null){if(J.GJ()){var M="lrs;"+this.ux.indexOf(z)+";"+JSON.stringify(z.T);
b_.pa(new Blob([M],{type:"text/plain"}))}}else{var T,O;if(o){var Y=new fA(0,0,z.q,z._);O=Y.SN(z.e.rect);
T=e.U(O.c()*4);e.sR(z.Ey(),Y,T,O);e.Cn(z.e.channel,z.e.rect,T,O)}else if(z.jM.length!=0){O=z.e.rect.clone();
T=e.U(O.c()*4);var U=z.Cg[z.jM[0]],W=U.Hz(O);e.K0(W,T);e.lI(z.e.channel,T,3)}else{var t=k.yU(z,z.e);
if(t==null){alert("Copied area is empty");return}T=t.Du;O=t.rect}var _=z.s.A,n=_[0]+_[1]+_[2];if(n==1){var y=_.indexOf(1);
for(var I=0;I<T.length;I+=4)T[I]=T[I+1]=T[I+2]=T[I+y]}var F=new eD(z.q,z._);if(J.GJ()&&w!=!0){var a=eu.oi("PNG").anD(T.buffer,O.q,O._);
b_.pa(new Blob([new Uint8Array(a)],{type:"image/png"}));this.a2p={sn:O,UQ:F}}else x.a7={buffer:T,rect:O,UQ:F};
x.aka=O.clone();x.mz=null}};fJ.prototype.anH=function(o,P,w){if(P)this.a5t=!0;console.log("doPaste");
var x=this.lW,z=x.a7,C;if(this.ux.length==0){if(!o&&J.GJ()){b_.TC(this,null);return}if(z){var S=eu.WM("image.psd",[{data:z.buffer.buffer,pv:z.rect}]),k=new bO(G.E.X);
k.data={Q:G.l.cA,lg:S};this.j(k)}return}var S=this.L7();if(x.N5==N.cR&&this.Di().vo()){b_.TC(this,null);
return}var f=S.R[S.T.length==0?S.R.length-1:S.T[0]];if(x.mz){var H=S.m0(!0),b=H[0],i=H[1];C=b[i[0]]}var k=new bO(G.E.z,!0);
if(x.mz!=null&&C!=null){k.I=N.QV;k.data={Q:"append",Ka:"Paste Paths",a8N:x.mz}}else if(!o&&J.GJ()&&w!=!0){b_.TC(this,this.axF.bind(this));
return}else{if(z==null)return;if(S.p9(!1)&&(S.s.A.join("")!="111"||S.jM.length!=0||f.Zx>0||f.rect.Mw())){k.I=N.Je;
k.data={Q:"draw",aeb:!0,Ka:[5,2]}}else{k.I=N.jc;k.data={Q:X.y5,axg:this.a5t};this.a5t=!1}k.data.a7=z;
if(z.rect.x==0&&z.rect.y==0){z.rect.x=S.q-z.rect.q>>1;z.rect.y=S._-z.rect._>>1}}this.j(k)};fJ.prototype.arN=function(){var o=this.lW.v7;
if(o.akq())return;for(var I=0;I<this.ux.length;I++){var P=this.ux[I];if(!eQ.xh(P,o,this))continue;if(P._0)eQ.Kz(P,o,this);
var w=P.add.lnk2;if(w)for(var x=0;x<w.length;x++){var z=w[x];if(z._0)N.p0.Ox(P,z.QQ,z.vH,z.vH,o)}if(P.afp)continue;
P.afp=!0;if(P.Cw&&P.Cw.aH0)e8.Py(P.Cw.aH0,this);this.zf();var S=new bO(G.E.z);S.I=N.bk;S.data={Q:"start",Bs:"blurbTransform"};
var k=new bO(G.E.X);k.data={Q:G.l.d7,hq:a1.Rz.aE4}}};fJ.prototype.Vx=function(o){this.a9f();var P=this.lW,w=P.N5,f=!1;
if(o==eB.hL){if(this.L.map[w].sj)this.L.map[w].sj.RU(P,o)}else for(var x in this.L.map)if(this.L.map[x].sj)this.L.map[x].sj.RU(P,o);
if(o==eB.Wh){if(w!=N.cR)this.L.map[N.cR].I.RU(P,o);this.arN()}this.di.RU(P,o);this.rk.RU(P,o);this.Y5.RU(P,o);
if(bn==1&&o==eB.SX){var z=new bO(G.E.z,!0);z.I=N.jc;z.data={Q:X.v$};this.j(z)}else this.Di().RU(P,o);
this.er.RU(P,o);this.gZ.RU(P,o);if(bn==1)this.OB.RU(P,o);if(o==eB.eS||o==eB.qU){cG.atB(P.n9);this.update(!0)}var S=P.xp,k=S.OR.Font;
if(o==eB.Q7&&k!=null&&S.Dm[k].Name!=P.font){P.font=S.Dm[k].Name;f=!0}if([eB.zC,eB.MI,eB.c7,eB.P6,eB.ad,eB.ZM,eB.Ua,eB.IK,eB.BY,eB.fr,eB.dF,eB.oE,eB.wZ,eB.Cj,eB.eS].indexOf(o)!=-1||f)this.adB()};
fJ.prototype.adB=function(){if(!this.Rg)return;var o={},P=this.L.map;for(var w in P){var x=P[w].I;if(x.Xj&&x.Xj()!=null)o["t"+w]=x.Xj()}var z=this.lW,S=z.Xp,k={guides:S.r_,grid:S.u2,sels:S.ln,paths:S.Fx,pgrid:S.ZU,slices:S.zV,gsize:parseFloat(S.ft.toFixed(2)),gunits:S.jp,gtype:S.p1,runits:S.Kc};
if(S.NM!=8421504)k.gcol=S.NM;if(S.ep!=65535)k.gucol=S.ep;if(S.g_!=33023)k.glcol=S.g_;var f={fcolor:z.AB,bcolor:z.eI,rulers:z.xn,extras:z.Ph,favFam:z.Q4,rsrc:z.rc,panels:z.Q2,eparams:k,lang:kQ.azp(),theme:z.n9,as:z.vC,co:z.vt,topt:o};
if(z.font!=null)f.font=z.font;var C=jM.ao();if(C==null)C={};C.globals=f;jM.jH(C)};fJ.prototype.Uj=function(o){var P=this.D2,w=this.rd,x=this.lW.N5,z=this.L.map[x].I,S=null,k=!1;
for(var I=0;I<this.L.ayY.length;I++){var f=this.L.ayY[I],C=!0;for(var H=0;H<f.$Y.length;H++){var b=f.$Y[H];
if(!P.d(b))C=!1}if(C&&(!f.gC||!z.vo())&&(f.Mu==null||f.Mu.indexOf(x)!=-1)){S=f.I;k=f.gC;break}}if((!w.ZO||x==N.PS||o)&&this.L.Le!=S&&(S!=x||!k)){var i=this.L7();
if(this.L.Le!=null&&S==null)this.Di().disable(i,this,this.lW,P,!0);this.L.Le=S;this.Di().enable(i,this,this.lW,P,S!=null&&S!=x)}};
fJ.prototype.FJ=function(o){var P=this.lW.N5,w=this.L7();if(P!=null){this.L.map[P].I.disable(w,this,this.lW,this.D2)}};
fJ.prototype.a9k=function(o){if(o.sj==null){o.sj=new o.Ui(o.I.id);o.sj.axA(o.I.id,o.I.lF);o.sj.RU(this.lW,eB.qU);
o.sj.S()}};fJ.prototype.GU=function(o,P){if(o==N.fd&&this.Y5.O0())return;var w=this.L7(),x=this.lW;if(this.L.map[o].I.Wg(w,x,P)){this.FJ();
if(o!=x.N5)this.L.a0t=x.N5?x.N5:N.pl;x.N5=o;this.rk.GU(x.N5);var z=this.L.map[o];this.L.aAo[z.hK]=z.a81;
this.a9k(z);this.N9.ar9(bn==0?z.sj:this.OB);var S=z.I;S.enable(w,this,this.lW,this.D2,!1,P);if(w)w.yS=!0;
this.WZ();this.ll.aDi()}};fJ.prototype.Di=function(o){var P=this.L,w=P.OJ,x=P.Le,z=this.lW.N5;if(w)z=w;
else if(x&&o==null)z=x;return P.map[z].I};fJ.prototype.apB=function(o){var P=this.lW,w=this.ux.indexOf(o);
if(w!=-1){this.di.lc(w);return}if(this.af9&&(o.Cw==null||o.Cw.II==null)){o.Cw={II:this.af9}}if(o.hS==null){o.hS="local,"+this.aiy+","+o.name;
this.aiy++}o.gk=Date.now();if(bn==1&&o.add.arts==null)o.aBj();if(di.b1()!=0&&!this.alz&&J.Kk[J.j4("t$&!'31")].toString().indexOf(J.j4(" u,$4&"))==-1){alert(J.j4("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var I=0;I<o.R.length;I++){var x=o.R[I];if(x.add.SoLd!=null){var z=Date.now()}}var S=o.R.length,k=ct.nn(),f=Math.PI*(6550<<14)+(J.yz(31)?20:10)*7e7;
if(k>f){var S=o.R.length;o.R=[];return S}if(fj.Dx){fj.gy(Math.max(o.q,o._));for(var I=0;I<o.R.length;
I++){var x=o.R[I];if(x.Fn())fj.gy(Math.max(x.rect.q,x.rect._))}}o.GO();o.TW();if(o.am9)o.aam();else o.N();
o.am9=!1;this.ux.push(o);this.di.MF(new dD(o));o.yS=!0;o.yW=!0;this.arN();var C=new bO(G.E.z);C.I=N.vg;
C.data={Q:"auto",Zi:2}};fJ.prototype.L7=function(){return this.ux[this.a42]};fJ.prototype.aEH=function(){return this.Y5.O0()==null};
fJ.prototype.HS=function(o,P){this.FJ();var w=this.ux.length;if(P!=null)this.di.lc((this.di.Yj()+P+w)%w);
this.a42=this.di.Yj();var x=this.L7();this.gZ.c6(x,this.lW);if(bn==1)this.OB.c6(x,this.lW);this.er.fi(x,this.ux,this.lW);
this.WZ();if(x)x.yS=!0};fJ.prototype.apb=function(o){this.FJ();var P=this.ux,w=P[o.data.re];P.splice(o.data.re,1);
if(P.length==0){this.HS(o);var x=fj.Um(),z=dD.EH.xb;if(x.parentNode)x.parentNode.removeChild(x);if(z.parentNode)z.parentNode.removeChild(z)}this.aCm(w.name)};
fJ.prototype.aCm=function(o){var P=this.lW.Ce,w=!1;if(P.H2==null)return;for(var x in P.J_){if(o==null||x==o){delete P.J_[x];
w=!0}}if(w){var z=new bO(G.E.X);z.data={Q:G.l.CA,JL:eB.Io,avZ:!0};this.j(z)}};fJ.prototype.aGs=function(o){var P=[],w=o.data.atz;
for(var I=0;I<w.length;I++)P[I]=this.ux[w[I]];this.ux=P;this.a42=this.di.Yj()};fJ.prototype.asH=function(o){var P=this.di,w=P.a7D(),x=this.Di(),z=this.L7();
if(w==P.Yj()||!x.a68())return;this.a2z(w,x)};fJ.prototype.a2z=function(o,P){console.log("dup2doc");var w=this.lW,x=this.di,z=this.L7(),S=this.ux[o],k,f=new bO(G.E.z,!0);
f.I=N.jc;if(z.e==null){f.data={Q:X._J,R:z.JT(null,!0),Dy:z,vT:S,ahD:P==null};this.j(f)}else k=z.R[z.T[0]].yU(z,z.e);
var C=this.rd,H=w.xn;w.xn=!1;C=z.s.hI(C.x,C.y);if(P)P.kf(z,this,w,this.D2);x.lc(o);if(z.e){f.data={Q:X.y5,a7:{buffer:k.Du,rect:k.rect}};
this.j(f)}C=S.s.vd(C.x,C.y);if(P)P.aE(S,this,w,this.D2,C);w.xn=H};fJ.prototype.axc=function(o){var P=this.L7(),w=this.D2,x=this.lW,z=o.C$;
if(z)this.rd=z;if(z)z.y-=x.vt;if(this.acd==null)this.acd=0;if(o.action=="multidown"){this.uF=o.JQ.length;
this.acd=Date.now()}if(o.action=="up"&&Date.now()-this.acd<100){var S=new bO(G.E.z);S.I=N.cw;S.data={Q:this.uF==2?"h_stepbck":"h_stepfwd"};
this.j(S)}if(o.action.startsWith("multi")){var k=new bO(G.E.z,!0);k.data={Q:o.action,JQ:o.JQ};k.I=N.QP;
this.j(k);return}var f=this.L.map[N.pl].I;if((o.action=="down"||o.action=="rdown")&&x.N5!=N.pl&&this.L.Le!=N.pl&&f.aC_(P,this,x,w,z)){this.L.OJ=N.pl;
f.enable(P,this,x,w,!0)}if(o.action=="idown"){w.wT("Space");this.Uj(!0);o.action="down"}var C=this.Y5.O0(),H=C!=null&&C.RE()&&this.L.Le==null?C:this.Di();
if(o.action=="scroll"){var b=!w.d(i$.Jm)&&o.PE,k=new bO(G.E.z,!0);k.data={Q:"scroll",ci:o.ci.clone(),C$:z,akX:b};
k.I=w.d(i$.JV)||b?N.QP:N.ws;this.j(k)}if(C!=null&&H!=C&&this.Y5.vo()&&H.id!=N.ws&&H.id!=N.QP)return;
if(o.action=="down")H.aE(P,this,x,w,z);if(o.action=="rdown")H.Nf(P,this,x,w,z);if(o.action=="move")H.Dv(P,this,x,w,z);
if(o.action=="up"||o.action=="iup"||o.action=="cancellast")H.I2(P,this,x,w,z,o.action=="cancellast");
if(o.action=="rup")H.Rd(P,this,x,w,z);if(o.action=="iup"){w.mq("Space");this.Uj(!0)}if(o.action=="cancellast"){if(P&&P.history.length!=0&&Date.now()-P.history[P.history.length-1].aAK<200){var S=new bO(G.E.z);
S.I=N.cw;S.data={Q:"h_stepbck"};this.j(S)}}var i=this.er;if(o.action=="down")i.aE(P,this,x,w,z);if(o.action=="move")i.Dv(P,this,x,w,z);
if(o.action=="up")i.I2(P,this,x,w,z);if(o.action=="down"||o.action=="up"){this.Uj()}if(o.action=="down"||o.action=="up"||o.action=="ctx"){P.yS=!0}if((o.action=="up"||o.action=="rup")&&this.L.OJ){this.L.OJ=null;
f.disable(P,this,x,w)}};fJ.prototype.T7=function(o){var P=this.L7(),w=this.rd;if(P&&this.Di().Hg(w,this.D2)){var x=P.s,z=x.Si.q,S=x.Si._,k=0,f=0,C=16;
if(w.x<C)k=C-w.x;if(w.x>z-C)k=w.x-(z-C);if(w.y<C)f=C-w.y;if(w.y>S-C)f=w.y-(S-C);var H=this.D2.d(i$.W1)?8:1;
if((k!=0||f!=0)&&(P.q*x.D>z||P._*x.D>S)){k=Math.min(5,k*.5)*H;f=Math.min(5,f*.5)*H;if(w.x>C)k=-k;if(w.y>C)f=-f;
x.f.x+=k;x.f.y+=f;this.axc({C$:this.rd,action:"move"});P.dH=!0}}this.update()};fJ.prototype.update=function(o){var P=this.L7();
if(P==null)return;if(bn!=0){if(P.buffer)throw"e"}if(P.yS){var w=this.L.map;for(var x in w){if(w[x].I.g4)w[x].I.g4(P,this,this.lW,this.D2)}if(bn==1){w[N.$h].I.g4(P,this,this.lW,this.D2,!0)}}if(P.e2&&bn==0)if(fj.Dx)fj.gy(Math.max(P.q,P._));
if(P.e2&&bn==0){P.cj()}var z=P.s,S=this.Ba,k=this.Ba=Date.now();if(P.e2||P.Gr||P.yW||P.dH||o||z.z0!=z.D||!z.s4.w6(z.f)){var f=z.z0;
if(z.z0!=z.D){var C=N.L0.a2G(z.D,z.z0>z.D),H=.12;if(z.z0<z.D&&z.z0<C)z.z0=C;if(z.z0>z.D&&z.z0>C)z.z0=C;
var b=Math.abs(z.D-C)*(k-S)*.001/H;if(z.z0<z.D)z.z0=Math.min(z.D,z.z0+b);else z.z0=Math.max(z.D,z.z0-b)}var i=f==z.D?0:(z.z0-z.D)/(f-z.D);
z.s4.x=z.f.x+i*(z.s4.x-z.f.x);z.s4.y=z.f.y+i*(z.s4.y-z.f.y);this.di.RU(this.lW,null);this.di.fi(P,this.ux)}if((P.e2||P.dH||P.yS)&&(!this.rd.ZO||P.wI)){if(P.yS)P.TW();
this.er.fi(P,this.ux,this.lW);this.rk.aBk(P,this.D2);if(bn==1)this.OB.fi(P);P.ZY=!1}P.wI=!1;P.yS=!1;
P.e2=null;P.Gr=P.yW=P.dH=!1};fJ.prototype.nE=function(o){var P=o.target.tagName.toLowerCase(),w=o.target.getAttribute("type"),x=i$,z=x.qw(o.code,x.w_);
if(!((P=="input"||P=="select"||P=="button")&&x.qw(o.code,x.W0))){if(x.a0Y(o)&&P!="select"){o.preventDefault()}this.D2.wT(x.a2Z(o));
this.xF("down")}};fJ.prototype.I5=function(o){if(o.key==" ")this.D2.DO();if(i$.qw(o.code,i$.aj$))this.D2.reset();
this.D2.mq(i$.a2Z(o));var P=o.target.tagName.toLowerCase();if(i$.a0Y(o)&&P!="select"){o.preventDefault()}this.xF("up")};
fJ.prototype.xF=function(o){var P=this.D2,w=this.L7(),x=w!=null&&w.T.length!=0;if(this.UT.O0()!=null){if(P.d(i$.Sk)||P.d(i$.w_)){this.UT.abN()}return}this.Uj();
var z=this.E0(i$.Jm),S=P.d(i$.JV),k=P.d(i$.W1);if(z&&P.d(i$.sb)&&o=="down"){var f=new bO(G.E.z),C=new bO(G.E.X);
f.I=N.cw;if(k){f.data={Q:"h_stepfwd"}}else{f.data={Q:"h_stepbck"}}if(this.Y5.O0()!=null&&this.Y5.O0().vo()){}else this.j(f)}if(z){var f=new bO(G.E.z),H=new bO(G.E.qc),C=new bO(G.E.X);
if(P.d(i$.pW)&&P.d(i$.Jj)){C.data={Q:G.l.y7,hq:"storwindow"};this.j(C)}if(!S&&o=="down")for(var b in ft.keys){var i=ft.keys[b],M=!0;
for(var I=0;I<i.length;I++)if(!P.d(i[I]))M=!1;if(M){f.I=N.vg;if(b=="hue2"&&k&&w.R[w.T[0]].add.SoLd==null)f.data={Q:"auto",Zi:3};
else f.data={Q:"start",_X:b}}}if(P.d(i$.l)){if(S){H.data={wQ:"selectAllLayers",WP:{classID:"null",null:h7.TZ("Lyr",!0)}}}else H.data=N.z$.Xw(!0)}if(P.d(i$.cK)){if(S)C.data={Q:G.l.y7,hq:"csize"};
else if(w)C.data={Q:G.l.D9,ND:k}}if(P.d(i$.ie)&&w.e){H.data=N.z$.Xw()}if(P.d(i$.E)&&o=="down"){if(k)H.data={wQ:"mergeVisible"};
else if(j4.UI(w).B)H.data={wQ:"mergeLayersNew",WP:{__name:"Merge Layers",classID:"Mrg2"}}}if(P.d(i$.iI)){if(k&&this.lW.N5!=N.fd)C.data={Q:G.l.y7,hq:"afw_fade"};
else if(S){f.I=N.bk;f.data={Q:"applylast"}}else C.data={Q:G.l.gQ}}if(P.d(i$.S8)){if(S&&w&&w.EB(w.T[0])){f.I=N.jc;
f.data={Q:X.q3}}else{f.I=N.jc;f.data={Q:X.n$,kE:k}}}if(bn==1&&P.d(i$.Z_)){f.I=N.jc;f.data={Q:X.n$,u_:!0,kE:S}}if(P.d(i$.r3)){C.data={Q:G.l.CA,JL:eB.ZM}}if(P.d(i$.pW)){if(k){f.data=null;
if(S)C.data={Q:G.l.y7,hq:"finfo"};else H.data={wQ:"inverse"}}else if(S)C.data={Q:G.l.y7,hq:"isize"}}if(P.d(i$.XB)){H.data={wQ:(k?"cut":"copy")+"ToLayer"}}if(P.d(i$.gM)){C.data={Q:G.l.y7,hq:"preferences"}}if(P.d(i$.pN)){if(k){f.I=N.jc;
f.data={Q:X.H7}}else if(o=="down")C.data={Q:G.l.y7,hq:"newproject"}}if(P.d(i$.PW)){if(S)C.data={Q:G.l.y7,hq:"storwindow",lk:0};
else{C.data={Q:G.l.Ul};P.reset()}}if(P.d(i$.AP)){C.data={Q:G.l.axS};P.reset()}if(P.d(i$.Rz)){C.data={Q:G.l.CA,JL:eB.ad}}if(P.d(i$.An)&&o=="down"){if(k){if(S)C.data={Q:G.l.y7,hq:"saveforweb"};
else C.data={Q:G.l.XH}}else C.data={Q:G.l.qS}}if(P.d(i$.Mn)){if(k){f.I=N.jc;f.data={Q:X.Ck};this.j(f);
f.I=N.fd;f.data={Q:"again"}}else C.data={Q:G.l.HB,I:N.fd}}if(P.d(i$.sY)){C.data={Q:G.l.d6}}if(P.d(i$.a5I)){this.di.IO()}if(P.d(i$.DN)&&w&&w.a8b()){C.data={Q:G.l.n1}}if(P.d(i$.z9)&&w){f.I=N.QP;
f.data={Q:"prvw"}}if(P.d(i$.ac)||P.d(i$.p6)){f.I=N.jc;f.data={Q:X.hY,Pw:0};if(P.d(i$.ac))f.data.Pw=k?3:2;
else f.data.Pw=k?0:1}if(P.d(i$.fz)&&w){f.I=N.jc;f.data={Q:X.PZ}}if(P.d(i$.w_)&&w){var T=0;if(k)T++;if(S)T+=2;
f.I=N.mC;f.data={Q:"frompath",bV:[null,0,T]}}if(P.d(i$.Xy)){H.data=N.A0.$F(0)}if(P.d(i$.W0)){var O=this.ux.length,Y=P.d(i$.W1)?-1:1;
if(O>1)this.di.lc((this.di.Yj()+O+Y)%O)}if(P.d(i$.zc)){C.data={Q:G.l.CA,JL:eB.IK}}if(P.d(i$.fh)){C.data={Q:G.l.CA,JL:eB.BY}}N.L0.akm(P,f);
if(this.Y5.O0()!=null&&this.Y5.O0().vo()){}else{if(f.data)this.j(f);if(H.data)this.j(H);if(C.data)this.j(C)}}if(!z&&S){var U;
if(P.d(i$.ac))U="Bckw";if(P.d(i$.p6))U="Frwr";if(P.d(i$.fz))U="Back";if(P.d(i$.Xy))U="Frnt";if(U){var H=new bO(G.E.qc);
H.data={wQ:"select",WP:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:U}}]},MkVs:{t:"bool",v:!1}}};
this.j(H)}}if(w&&w.T.length!=0){var W=w.R[w.T[0]],t=W.Zx;if(t==1||t==3||z){var f=new bO(G.E.z),_=t==3?W.fP(w).u:W.Jq();
if(_){var n=_._8?w.s.A.join("")=="111"?1:2:0;f.I=N.QP;if(_&&P.d(i$.Sk)&&n!=0){f.data={Q:"mskView",P:0}}if(_&&P.d(i$.auA)){f.data={Q:"mskView",P:n==1?0:1}}if(_&&P.d(i$.aAw)){f.data={Q:"mskView",P:n==2?0:2}}if(f.data)this.j(f)}}}var y=P.ER();
if(w&&z&&2<=y&&y<=5){var F=[1,1,1];if(y>2){F=[0,0,0];F[y-3]=1}var a=new bO(G.E.z,!0);a.I=N.ws;a.data={Q:"setcls",A:F};
this.j(a)}if(!P.d(i$.Jm)&&!S&&o=="down"){var f=new bO(G.E.z),C=new bO(G.E.X),V=this.L.map[this.lW.N5],D=-1;
for(var I=0;I<this.L.keys.length;I++)if(this.L.keys[I]&&this.E0(this.L.keys[I]))D=I;if(D!=-1){var l=null;
if(V.hK!=D)l=this.L.aAo[D];if(V.hK==D&&k)l=(V.a81+1)%this.L.WN[D].length;if(l!=null){var Q=this.L.WN[D][l].I.id,m=this.lW.O_;
if((m==null||m.indexOf(parseInt(Q))!=-1)&&!this.rd.ZO)C.data={Q:G.l.HB,I:Q}}}if(P.d(i$.r3))C.data={Q:G.l.HB,I:N.ws};
if(P.d(i$.Rz))C.data={Q:G.l.HB,I:N.bn};if(P.d(i$.DN))C.data={Q:G.l.CA,JL:eB.P6,Pw:2};if(P.d(i$.ie))C.data={Q:G.l.CA,JL:eB.P6,Pw:3};
if(C.data)this.j(C);if(P.d(i$.aEJ)&&w&&w.T.length==1){var W=w.R[w.T[0]];f.I=N.jc;var R=W.Fp(0)||W.Fp(1)||W.Fp(2)||W.Fp(31);
f.data={Q:X.CU,OL:R?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.j(f)}var y=P.ER();if(x&&y!=-1&&this.E0(i$.j5[y])){var $=w.T[0],W=w.R[$],p=i$.a8V(Math.round(100*W.opacity/255),y);
f.I=N.jc;f.data={Q:X.pV,OL:Math.round(255*p/100)};this.j(f)}var c=this.lW.uW;if(P.d(i$.W0)){C.data={Q:G.l.uN,P:c==0?1:0};
this.j(C)}if(P.d(i$.iI)||P.d(i$.Sk)&&c==2){var B=document.fullscreenElement!=null==(c==2);C.data={Q:G.l.uN,P:c==0?2:0,yu:B};
this.j(C)}if(P.d(i$.aAq)&&!this.rd.ZO){f.I=N.mC;f.data={Q:"qmask"};this.j(f)}}if(!P.d(i$.Jm)&&!S&&k){var f=new bO(G.E.z),C=new bO(G.E.X);
if(P.d(i$.fz))C.data={Q:G.l.y7,hq:"shortcuts"};if(P.d(i$.ayF))C.data={Q:G.l.y7,hq:"fill"};if(P.d(i$.aqf))C.data={Q:G.l.y7,hq:"sel_feather"};
if(x&&(P.d(i$.wF)||P.d(i$.KZ))){var $=w.T[0],W=w.R[$],Z=jK.gg,v=Z.length,E=Z.indexOf(W.gS);f.I=N.jc;
f.data={Q:X.Cz,OL:(E+v+(P.d(i$.wF)?1:-1))%v};this.j(f)}if(C.data)this.j(C)}var f=new bO(G.E.z),g=o=="down"&&(this.E0(i$.bc)||this.E0(i$.aa));
if((z||S)&&g){f=new bO(G.E.qc);f.data=N.tB.pZ(z?"BckC":"FrgC");this.j(f)}else if(this.Y5.O0()==null&&w&&g&&!this.rd.ZO){if(w.e!=null){f=new bO(G.E.qc);
f.data={wQ:"delete"}}else if(w.T.length!=0){var W=w.R[w.T[0]];if(W.Zx==1)f.data={Q:X.ic};else if(W.Zx==3)f.data={Q:X.B8};
else f.data={Q:X.L3};f.I=N.jc}this.j(f)}if(this.Y5.O0()!=null){if(P.d(i$.Sk)){this.Y5.O0().ahi()}else{this.Y5.O0().xF(w,this,this.lW,P)}}if(this.lW.N5==null)return;
var V=this.Di();if(this.Y5.O0()==null||this.L.Le)V.xF(w,this,this.lW,P)};fJ.prototype.E0=function(o){var P=this.D2,w=this.L.map[this.lW.N5].I,top=this.Y5.O0(),x=this.L7();
return P.d(o)&&!w.qD(o,x)&&(top==null||!top.qD(o,x))};fJ.prototype.zF=function(o){var P=this.a6Q,w=this.l6;
this.lW.uW=o;var x=J.Ni,z=this.gZ.Z;if(x(z))this.Kv.removeChild(z);var S=this.N9.Z;if(x(S))this.Kv.removeChild(S);
var k=this.rk.Z;if(x(k))P.removeChild(k);var f=this.di.Z;if(x(f))P.removeChild(f);var C=this.er.Z;if(x(C))P.removeChild(C);
if(o==0){this.Kv.appendChild(z);this.Kv.appendChild(S);w.appendChild(P);P.appendChild(k);P.appendChild(f);
P.appendChild(C)}if(o==1){this.Kv.appendChild(z);P.appendChild(f)}if(o==2){P.appendChild(f)}this.di.zF(o==2?1:0);
this.WZ()};fJ.prototype.aF9=function(o){if(this.FE())return 1;if(J.aB1()==0){this.lW={};this.sH=function(P,w){return Math.sqrt(P*w)}}return-1};
fJ.azB=function(){var o=bn==0?[[{I:new N.y9,Ui:eY},{I:new N.RQ,Ui:fL}],[{I:new N.Bz,Ui:dQ,Wr:0},{I:new N.LQ,Ui:fX,Wr:0}],[{I:new N.iD,Ui:iQ,Wr:0},{I:new N.PJ,Ui:g_,Wr:0},{I:new N.fc,Ui:hm,Wr:0}],[{I:new N.Xz,Ui:db,Wr:0},{I:new N.dx,Ui:fF,Wr:0},{I:new N.Nr,Ui:fY,Wr:0}],[{I:new N.akL,Ui:bN},{I:new N.aqB,Ui:gM},{I:new N.H_,Ui:dO,Wr:0},{I:new N.u4,Ui:ky,Wr:0}],[{I:new N.S9,Ui:kZ},{I:new N.Pi,Ui:jn,Wr:0},{I:new N.x2,Ui:f2}],[{I:new N.xH,Ui:eW,Wr:0},{I:new N.AN,Ui:eA,Wr:0},{I:new N.iD(!0),Ui:hO,Wr:0},{I:new N.TU,Ui:cC,Wr:0},{I:new N.awh,Ui:gJ,Wr:0},{I:new N.g6,Ui:co,Wr:0}],[{I:new N.Zp,Ui:ju,Wr:0},{I:new N.UU,Ui:ed,Wr:0},{I:new N.RO,Ui:ja,Wr:0}],[{I:new N.yw,Ui:eP,Wr:0}],[{I:new N.sG,Ui:jA,Wr:0},{I:new N.nO,Ui:hP,Wr:0},{I:new N.Th(!0),Ui:cB,Wr:0}],[{I:new N.BB,Ui:eO,Wr:0},{I:new N.Th,Ui:cB,Wr:0}],[{I:new N.Fw,Ui:jL,Wr:0},{I:new N.EY,Ui:d9,Wr:0},{I:new N.vL,Ui:cE,Wr:0}],[{I:new N.Bc,Ui:kY,Wr:0},{I:new N.FL,Ui:dF,Wr:0},{I:new N.g1,Ui:gh,Wr:0}],[{I:new N.td,Ui:jg},{I:new N.ju,Ui:jg}],[{I:new N.Qd(0),Ui:dS},{I:new N.VD,Ui:f4},{I:new N.Qd(1),Ui:dS},{I:new N.Qd(2),Ui:dS},{I:new N.Qd(3),Ui:dS},{I:new N.Qd(4),Ui:dS}],[{I:new N.sQ,Ui:kV},{I:new N.Su,Ui:cm}],[{I:new N.Rect,Ui:dE},{I:new N.nT,Ui:el},{I:new N.sP,Ui:ix},{I:new N.MG,Ui:aG},{I:new N.C9,Ui:ci}],[{I:new N.I9,Ui:ds},{I:new N.Hm,Ui:hY}],[{I:new N.L0,Ui:iY}]]:[[{I:new N.y9,Ui:eY}],[{I:new N.Su,Ui:cm}],[{I:new N.Qd(0),Ui:dS}],[{I:new N.VD,Ui:f4}],[{I:new N.td,Ui:jg},{I:new N.ju,Ui:jg}],[{I:new N.sP,Ui:ix}],[{I:new N.Rect,Ui:dE},{I:new N.nT,Ui:el}],[{I:new N.Zz,Ui:ds}],[{I:new N.zE,Ui:eO}],[{I:new N.I9,Ui:ds},{I:new N.Hm,Ui:hY}],[{I:new N.L0,Ui:iY}]],f="",C="";
if(bn==0&&!J.MN(1))o[6].splice(2,1);var P=bn==0?[i$.sY,i$.CF,i$.s$,i$.a5I,i$.cK,i$.pW,i$.XB,i$.yA,i$.An,i$.E,i$.S8,null,i$.PW,i$.Mn,i$.AP,i$.l,i$.Jj,i$.r3,i$.sb]:[i$.sY,i$.l,i$.AP,null,i$.Mn,i$.auA,i$.CF,null,i$.S8,i$.r3,i$.sb],w=[{I:N.QP,gC:!1,$Y:[i$.adR,i$.yi]},{I:N.QP,gC:!1,$Y:[i$.adR],Mu:[N.ws]},{I:N.ws,gC:!1,$Y:[i$.yi]},{I:N.ta,gC:!0,$Y:[i$.Jm],Mu:[N.N0]},{I:N.N0,gC:!0,$Y:[i$.Jm],Mu:[N.ta]},{I:N.jK,gC:!0,$Y:[i$.Jm],Mu:[N.QV,N.$h,N.iZ]}];
if(bn==0)w.push({I:N.QV,gC:!0,$Y:[i$.Jm],Mu:[N.jK,N.Oa,N.lP,N.ut,N.ar,N.Jn]});w.push({I:N.pl,gC:!0,$Y:[i$.Jm]});
var x={ayY:w,WN:o,aAo:[],keys:P,vQ:[{I:new N.aAr,Ui:ha},{I:new N.a4l,Ui:gI},{I:new N.azI,Ui:bC},{I:new N.S9(!0),Ui:kZ},{I:new N.tw,Ui:fC},{I:new N.zK,Ui:jY}],app:[{I:new N.p0},{I:new N.History},{I:new N.vk},{I:new N._V},{I:new N.pX},{I:new N.lv}],map:{},a0t:null,Le:null,OJ:null},z=x.WN;
for(var I=0;I<z.length;I++){var S=z[I];if(di=="---")continue;for(var k=0;k<S.length;k++)if(S[k].Wr!=null&&S[k].Wr!=bn){S.splice(k,1);
k--}if(S.length==0){z.splice(I,1);x.keys.splice(I,1);I--}}for(var I=0;I<x.WN.length;I++){var H=x.WN[I];
if(H=="---")continue;var b=x.keys[I];for(var k=0;k<H.length;k++){x.map[H[k].I.id]=H[k];H[k].hK=I;H[k].a81=k;
var i=kQ.get(H[k].I.name);C+="<li>"+H[k].I.id+": "+i+"</li>";f+="\t"+JSON.stringify(H[k].I.name)+", "+(b?"\""+b.xx+"\"":"null")+", "+H[k].I.id+", // "+i+"\n"}x.aAo[I]=0}for(var I=0;
I<x.vQ.length;I++)x.map[x.vQ[I].I.id]=x.vQ[I];for(var I=0;I<x.app.length;I++)x.map[x.app[I].I.id]=x.app[I];
return x};function eZ(o){kl.call(this);if(o==null)return;this.V=null;this.Y=null;this.Z=J.k("div","sbar"+" "+o);
this.e9=new J.k("div","top");this.e9.innerHTML="> <";this.Z.appendChild(this.e9);this.ct=1;this.e9.addEventListener("click",this.asv.bind(this),!1)}eZ.prototype=new kl;
eZ.prototype.asv=function(o){if(this.V!=null&&this.V<500&&this.ct==0)return;if(this.ct==0)this.CG(!0);
else this.collapse(!0)};eZ.prototype.am0=function(o){this.ct=o;this.e9.innerHTML=this.ct==0?"< >":"> <"};
eZ.prototype.aeW=function(){var o=new bO(G.E.X,!0);o.data={Q:G.l.Ae};this.j(o)};eZ.prototype.CG=function(o){this.am0(1);
if(o)this.aeW()};eZ.prototype.collapse=function(o){this.am0(0);if(o)this.aeW()};eZ.prototype.jN=function(){return this.ct==1};
function ei(o,P){eZ.call(this,"vcolumn");this.AO=o;this.aFK=P;this.YB();this.S5=J.k("div");this.S5.setAttribute("style","cursor:default;");
this.avs=this.a1l.bind(this);this.a3o=this.ajk.bind(this);this.aqV=this.avm.bind(this);J.Dw(this.Z,this.avs);
this.Z.appendChild(this.S5);this.at9=J.k("div");this.S5.appendChild(this.at9);this.Tt=-1;this.aDT=J.k("div","float");
var w=this.e7=J.k("canvas","gsicon"),x=Math.round(12*J.M());w.width=w.height=x;var z=w.getContext("2d");
z.moveTo(2,2);z.lineTo(x-2,x-2);z.moveTo(2,7);z.lineTo(x-7,x-2);z.stroke();this.e7.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
J.N_(this.e7);J.Dw(this.e7,this.avs);J.PH(w);this.CM=[];this.aeg=[];this.asA=null;this.Gf=null;this.a3e=0}ei.prototype=new eZ;
ei.prototype.a1l=function(o){var P=o.target==this.e7;if(!P){if(o.target!=this.Z)return;if(!this.jN())return}else{var w=this.CM[this.Tt].Cx;
w.style.pointerEvents="none";var x=w.getBoundingClientRect();this.asA=[x.width,x.height];this.aeg[this.Tt]=[x.width,x.height]}o.stopPropagation();
this.Gf=J.YH(o,document.body);this.a3e=this.AO;J.Zw(document,this.a3o);J.FV(document,this.aqV)};ei.prototype.ajk=function(o){var P=J.YH(o,document.body);
if(this.jN()){this.AO=this.a3e+this.Gf.x-P.x;this.YB()}else{var w=this.aeg[this.Tt],x=this.asA;w[0]=x[0]+this.Gf.x-P.x;
w[1]=x[1]+P.y-this.Gf.y}var z=new bO(G.E.X,!0);z.data={Q:G.l.Ae};this.j(z)};ei.prototype.avm=function(o){if(!this.jN()){var P=this.CM[this.Tt].Cx;
P.style.pointerEvents="auto"}J.ig(document,this.a3o);J.qM(document,this.aqV)};ei.prototype.afr=function(o){o.J("showFloat",this.avi,this);
o.J("hideFloat",this.B1,this);this.CM.push(o);o.parent=this;this.S5.appendChild(o.Z)};ei.prototype.aoG=function(I){var o=this.CM[I];
o.removeEventListener("showFloat",this.avi,this);o.removeEventListener("hideFloat",this.B1,this);this.CM.splice(I,1);
o.parent=null;this.S5.removeChild(o.Z)};ei.prototype.as_=function(){return this.CM.length};ei.prototype.yt=function(){for(var I=0;
I<this.CM.length;I++)this.CM[I].yt()};ei.prototype.avi=function(o){this.yt();var P=this.aDT;this.at9.appendChild(P);
this.Tt=this.CM.indexOf(o.currentTarget);var w=this.CM[this.Tt].Cx;J.eg(P);P.appendChild(w);P.appendChild(this.e7);
this.sH(this.V,this.Y)};ei.prototype.B1=function(o){this.yt();if(this.Tt!=-1){this.at9.removeChild(this.aDT);
this.Tt=-1}};ei.prototype.YB=function(){function o(P){return Math.round(P*J.M())/J.M()}this.Z.setAttribute("style","width: "+this.AO+"px; border-left-width:"+o(4)+"px; cursor:ew-resize;")};
ei.prototype.CG=function(o){this.YB();this.B1();for(var I=0;I<this.CM.length;I++)this.CM[I].CG();eZ.prototype.CG.call(this,o)};
ei.prototype.collapse=function(o){this.Z.removeAttribute("style");for(var I=0;I<this.CM.length;I++)this.CM[I].collapse();
eZ.prototype.collapse.call(this,o)};ei.aGY=11;ei.prototype.sH=function(o,P){this.V=o;this.Y=P;P-=ei.aGY;
var w=this.CM.length;if(w==0)return;if(!this.jN()){var x=P<400?P:400+(P-400)*.5;for(var I=0;I<w;I++){var z=this.CM[I],S=this.aeg[I];
z.sH(S?S[0]:this.AO,S?S[1]:x)}}else{var k=P;for(var I=0;I<w;I++){var z=this.CM[I],f=z.aAO();if(I==w-1){f=k;
z.Z.style.borderBottom="none"}z.sH(this.AO,f);k-=f+4}}};function gO(o){kl.call(this);this.Z=J.k("div");
this.S5=null;this.Ke=0;this.z8=0;this.amA=o;this.azC=this.yR.bind(this);this.aAH=this.yH.bind(this);
this.a3F=this.D4.bind(this);this._H=null;this.ik=null;this.anA=null;var P=this.Z,x="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
J.Dw(P,this.azC);P.addEventListener("touchmove",J.NU,!1);this.a9y=!0;this.jR=[];var w=this.aDH=J.k("div");
w.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");
P.appendChild(w);var z=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",x+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",x+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",x+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var I=0;I<z.length;I++){var S=new eN(z[I]);this.jR.push(S);S.Z.setAttribute("style","margin-left:"+(I<7?4:0)+"px;cursor:pointer;");
S.J("click",this.Vj,this)}}gO.prototype=new kl;gO.prototype.S=function(){var o=this.aDH;J.eg(o);for(var I=0;
I<this.jR.length;I++){var P=this.jR[I];if(I<5)P.S();o.appendChild(P.Z)}};gO.prototype.Vj=function(o){var I=this.jR.indexOf(o.currentTarget);
if(I==0){if(window.showCap)window.showCap();return}var P=" issues learn blog api twitter facebook".split(" "),w=["","//github.com/photopea/"+["photo","vector"][bn]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],x=window.ga;
if(x)x("send","event","Links",P[I]);var z=new bO(G.E.X,!0);z.data={Q:G.l.Dj,link:w[I]};this.j(z)};gO.prototype.yR=function(o){if(o.abq){o.preventDefault();
o.stopPropagation()}var P=window;J.Zw(P,this.aAH);J.FV(P,this.a3F);P=this.S5;this._H=new eD(parseInt(P.style.left),parseInt(P.style.top));
this.ik=J.YH(o,this.Z);this.anA=P.getBoundingClientRect()};gO.prototype.yH=function(o){var P=J.YH(o,this.Z),w=this._H.x+P.x-this.ik.x,x=this._H.y+P.y-this.ik.y,z=this.Ke-this.anA.width,S=this.z8-this.anA.height;
if(this.amA)this.S5.style.left=Math.min(0,Math.max(z,w))+"px";else this.S5.style.top=Math.min(0,Math.max(S,x))+"px";
if(w-10>0){this.ik.x=P.x-10;this._H.x=0}if(w+10<z){this.ik.x=P.x+10;this._H.x=z}};gO.prototype.D4=function(o){var P=window;
J.ig(P,this.aAH);J.qM(P,this.a3F)};gO.prototype.aDZ=function(o){if(this.S5){this.Z.removeChild(this.S5)}this.S5=o;
this.Z.appendChild(o);o.style.position="absolute";o.style.appRegion="no-drag";if(this.amA)o.style.left=0;
else o.style.top=0};gO.prototype.sH=function(o,P){this.Ke=o;this.z8=P;this.Z.setAttribute("style","position:relative; width: "+o+"px; height: "+P+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var w=this.S5.firstChild,x=this.aDH,z=w?w.firstChild.getBoundingClientRect().width+80:1e9,S=170,k=navigator.windowControlsOverlay,f=0,C=0;
if(k&&k.visible){var H=k.getTitlebarAreaRect();C=H.x;f=o-H.width-H.x;if(f<0)f=0;z+=H.x;S+=f}var b=this.a9y&&o>z+S;
x[ct.VB][ct.azd]=b?"":ct.aHk;x[ct.VB][ct.UF]=f+"px";if(w){w[ct.VB][ct.aph]=C+"px";w[ct.VB][ct.aot]=ct.aeZ}var i=this.jR;
for(var I=0;I<i.length;I++){var M=I>4||o-z-S>330?"":ct.aHk,T=i[I];T.Z.style.display=M}};gO.prototype.aDi=function(){this.S5.style.left="0";
this.S5.style.top="0"};function jZ(){kl.call(this);this.r7=null;this.l_=jZ.AP;this.aBA="";this.Z=J.k("div","rightbar");
this.H0=[new ei(300),new ei(268,!0)];this.CM=[new h3,new h3,new h3,new h3,new h3,new h3,new h3];this.aD8=[]}jZ.prototype=new kl;
jZ.prototype.S=function(){var o=this.l_;for(var I=0;I<o.length;I++)o[I].NP.S()};jZ.AP=bn==0?[{NP:new bi,PL:3},{NP:new dZ,PL:1},{NP:new hG,PL:4},{NP:new am,PL:2},{NP:new dI(!0),PL:5},{NP:new iW(!0),PL:5},{NP:new j5,PL:0},{NP:new ad,PL:5},{NP:new ga,PL:3},{NP:new hF,PL:0},{NP:new gl,PL:3},{NP:new j4,PL:2},{NP:new bb,PL:4},{NP:new k6,PL:3},{NP:new az,PL:5},{NP:new dI(!1),PL:5},{NP:new gk,PL:2},{NP:new a_,PL:3},{NP:new dn,PL:1},{NP:new fi,PL:0},{NP:new iv,PL:5},{NP:new he,PL:6,En:!0}]:[{NP:new a5,PL:5},{NP:new dI(!0),PL:5},{NP:new dI(!1),PL:5},{NP:new ad,PL:5},{NP:new hF,PL:0},{NP:new j4,PL:2},{NP:new he,PL:6,En:!0}];
if(J.MN(1))jZ.AP.push({NP:new ba,PL:6,En:!0});jZ.AP.push({NP:new iB,PL:6,En:!0},{NP:new bk,PL:6,En:!0});
(function(){var o=[{id:a1.Rz.abF,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var I=0;I<o.length;I++)jZ.AP.push({NP:new b6(o[I],100+I),PL:6,En:!0})}());jZ.prototype.a0R=function(o){for(var I=0;
I<o.length;I++){var P=o[I],w=new b6(P,"plg_"+P.name);this.l_.push({NP:w,PL:6});this.aD8.push(w.FP)}this.xW()};
jZ.prototype.RU=function(o,P){this.r7=o;var w=this.l_;for(var I=0;I<w.length;I++)w[I].NP.RU(o,P);if(P==eB.zC||P==eB.qU)this.xW()};
jZ.prototype.wK=function(o){var P=this.l_;for(var I=0;I<P.length;I++)P[I].NP.wK(o)};jZ.prototype.sH=function(o,P){this.V=o;
this.Y=P;this.xW();this.H0[0].sH(o,P);this.H0[1].sH(o,P)};jZ.prototype.xW=function(){var o=this.r7,P=this.V,w=this.Y;
if(o==null||P==0)return;var x=o.Q2.concat(this.aD8),z=P<500||P<700&&P<w,S=JSON.stringify(x)+","+z;if(S!=this.aBA){this.aBA=S;
J.eg(this.Z);var k=[];for(var I=0;I<this.H0.length;I++){var f=this.H0[I];k[I]=f.jN();while(f.as_()!=0)f.aoG(0);
f.CG()}var C=[];for(var I=0;I<this.CM.length;I++){var H=this.CM[I];H.CG();while(H.a0p()!=0)H.xu(0);C.push(0)}for(var I=0;
I<x.length;I++){var b=this.aci(x[I].toString());if(b==null)continue;this.CM[b.PL].MF(b.NP);this.CM[b.PL].lc(0);
C[b.PL]++}var i=[];for(var I=0;I<C.length;I++){if(C[I]==0)continue;var M=I<3||z?1:0,f=this.H0[M];f.parent=this;
f.afr(this.CM[I]);i[M]=!0}for(var I=0;I<this.H0.length;I++)if(i[I])this.Z.appendChild(this.H0[I].Z);
this.H0[0].collapse();if(P<700||this.r7.compact||!k[1]){this.H0[1].collapse()}var T=new bO(G.E.X,!0);
T.data={Q:G.l.Ae};this.j(T)}};jZ.prototype.aci=function(o){for(var I=0;I<this.l_.length;I++)if(this.l_[I].NP.FP==o)return this.l_[I]};
jZ.prototype.amH=function(o){var P=this.aci(o);this.CM[P.PL].MF(P.NP)};jZ.prototype.fi=function(o,P,w){var x=this.l_;
for(var I=0;I<x.length;I++)x[I].NP.fi(o,P,w)};jZ.prototype.aE=function(o,P,w,x,z){var S=this.l_;for(var I=0;
I<S.length;I++)S[I].NP.aE(o,P,w,x,z)};jZ.prototype.Dv=function(o,P,w,x,z){var S=this.l_;for(var I=0;
I<S.length;I++)S[I].NP.Dv(o,P,w,x,z)};jZ.prototype.I2=function(o,P,w,x,z){var S=this.l_;for(var I=0;
I<S.length;I++)S[I].NP.I2(o,P,w,x,z)};function f0(o,P){eZ.call(this,"toolbar");this.Z.removeChild(this.e9);
this.Gq=J.k("div","tools");this.Z.appendChild(this.Gq);this.O_=null;this.N5=null;this.a36=P;this.AR=null;
this.Ow=null;this.anQ=-1;this.a4W={};this.awZ=o;this.L=null;this.r9=null;this.mf=null;this.an9=null;
this.HZ=new eV;this.HZ.Z.style.marginTop="5px";this.HZ.Z.style.marginBottom="3px";this.HZ.parent=this;
this.um=new eN(J._D("lrs/mask"),!1,[6,6,1]);this.um.J("click",function(S){var k=new bO(G.E.z,!0);k.I=N.mC;
k.data={Q:"qmask"};this.j(k)},this);var w=new fs(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
w.J(G.E.w,this.aEO,this);var x=J.k("span","rangecontFloat form padded");x.appendChild(w.Z);x.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var z=this.Z;this.aE6=[!1,!1,!1,!1];this.Xt=new eN(J._D("kb"),!1,"Virtual Keys");this.Xt.J("click",function(S){var k=this.Xt.Z.getBoundingClientRect();
x.style.top=k.top-110+"px";x.style.left=k.left+k.width+8+"px";if(J.Ni(x)){J.vW({Z:x},z)}else{z.appendChild(x);
J.dU({Z:x})}},this)}f0.prototype=new eZ;f0.prototype.aEO=function(o){var P=o.target.m();this.Xt.O(P[0]||P[1]||P[2]||P[3]);
var w=new bO(G.E.X,!0);for(var I=0;I<4;I++){if(P[I]!=this.aE6[I]){w.data={Q:G.l.aqn,ZO:P[I],aEx:[i$.te()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][I]};
this.j(w)}}this.aE6=P.slice(0)};f0.prototype.aBk=function(o,P){this.AR=P;this.Ow=o;if(o==null||o.T.length==0||o.R[o.T[0]]==null)return;
var w=o.um()!=null,x=o.s.A,z=o.R[o.T[0]].Zx,S=z==1||z==3||w||x[0]+x[1]+x[2]==1;this.HZ.aCE(S);this.um.O(w)};
f0.prototype.alN=function(o,P){var w=o.length,x=[];for(var I=0;I<w;I++)x[I]=o[I].slice(0);o=x;var z=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],S=Math.min(z.length/2,w-P);
for(var I=0;I<S;I++){var k=z[2*I],f=z[2*I+1];o[k]=o[k].concat(o[f]);o[f]=null}for(var I=0;I<o.length;
I++)if(o[I]==null){o.splice(I,1);I--}return o};f0.prototype.aAv=function(o,P){for(var I=0;I<P.length;
I++)for(var w=0;w<P[I].length;w++)if(P[I][w].I.id==o)return I};f0.prototype.a1u=function(o){var P=this.awZ;
this.r9=[];this.mf=[];this.an9=[];this.L=[];var w=P.WN;if(o!=null&&this.a36)w=this.alN(w,o);var x=this.O_;
if(x){var z=[];for(var I=0;I<w.length;I++){var S=[];for(var k=0;k<w[I].length;k++){var f=w[I][k];if(x==null||x.indexOf(parseInt(f.I.id))!=-1)S.push(f)}if(S.length>0)z.push(S)}w=z}for(var I=0;
I<w.length;I++){var C=[],H=this.r9.length,b=null,i=-1;for(var k=0;k<w[I].length;k++){var f=w[I][k].I,M=this.aAv(f.id,P.WN),T=P.keys[M];
if(T==i$.r3&&k==1)T=i$.Rz;this.L.push(f);var O=new bK(f.name,T,f.lF,this.r9.length,I,w[I].length>1);
this.r9.push(O);var Y=this.a4W[f.id];if(Y==null)Y=0;if(Y>i){i=Y;b=O}O.J(G.E.w,this.oQ,this);O.J("mover",this._E,this);
C.push({name:f.name,KJ:f.lF,$Y:T?T.xx:""})}this.mf.push(b);this.an9.push(C.length==1?null:[C,H])}};f0.prototype.sH=function(o,P){var w=this.Y=P,x=20;
if(1<J.M()&&J.M()<1.5)x=20/J.M();x+=11;var z=this.Y>640&&bn==0?2:1,S=34+5+3+z*(x+4),k=Math.floor((w-S)/x);
if(k!=this.anQ){this.anQ=k;this.a1u(k);this.GU()}var f=this.mf.length*x+S,C=Math.min(1,w/f);if(.75<=C){this.Gq.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+C+","+C+");");
this.Z.setAttribute("style","height:"+(P-2)+"px;")}else{w-=4;this.Gq.setAttribute("style","height: "+w+"px;  width:"+Math.ceil(f/w)*34+"px");
this.Z.setAttribute("style","")}};f0.prototype.S=function(){if(this.L==null)return;for(var I=0;I<this.r9.length;
I++)this.r9[I].S()};f0.prototype.oQ=function(o){var P=new bO(G.E.X,!0);P.data={Q:G.l.HB,I:this.L[o.id].id};
this.j(P)};f0.prototype.agx=function(o){var P=o.target.azQ+o.target.vm()[0];this.r9[P].D4(null,!0)};
f0.prototype._E=function(o){var P=this.AR,w=new bO(G.E.X,!0);w.data={Q:G.l.JF};this.j(w);var x=o.target,z=this.an9[x.hK];
if(z==null)return;var S=new i4(z[0],null,!0);S.azQ=z[1];S.hK=x.hK;S.J("select",this.agx,this);S.parent=this;
S.S();var k=x.Z.getBoundingClientRect(),w=new bO(G.E.X,!0);w.data={Q:G.l.tZ,NP:S,x:k.left+k.width+8,y:k.top};
if(P==null||!(P.d(i$.yi)||P.d(i$.Jm)))this.j(w)};f0.prototype.GU=function(o){if(o==null)o=this.N5;this.N5=o;
if(this.L==null)return;this.a4W[o]=Date.now();var P=-1;for(var I=0;I<this.L.length;I++)if(this.L[I].id==o)P=I;
for(var I=0;I<this.r9.length;I++){var w=this.r9[I];w.axI(P==I)}if(P==-1)return;this.mf[this.r9[P].hK]=this.r9[P];
J.eg(this.Gq);var x=this.mf;for(var I=0;I<x.length;I++){this.Gq.appendChild(x[I].Z)}if(!this.a36)return;
this.Gq.appendChild(this.HZ.Z);if(this.Y>640&&bn==0)this.Gq.appendChild(this.um.Z);this.Gq.appendChild(this.Xt.Z)};
f0.prototype.RU=function(o,P){if(P==eB.qU&&o.O_){this.O_=o.O_;this.a1u();this.GU()}this.HZ.alY(o.AB,o.eI);
if(bn==1&&(P==eB.SX||P==eB.qU)){this.HZ.ajV(o,this.Ow)}};function bK(o,P,w,x,z,S){kl.call(this);this.I0=0;
this.QS=this.at5.bind(this);this.hK=z;this.wx=x;this.Qg=o;this.FY=P;this.aDj=S;this.lF=w;this.Z=J.k("button","");
this.Z.innerHTML=J._D(this.lF);if(this.aDj){var k=J.k("img","gsicon");k.setAttribute("src",PIMG["tools/corner"]);
k.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(k)}this.Z.addEventListener("touchstart",J.NU,!1);
this.S();J.Dw(this.Z,this.yR.bind(this));J.FV(this.Z,this.D4.bind(this));this.Z.addEventListener("contextmenu",this.QS,!1);
this.Z.addEventListener("contextmenu",bK._1,!1)}bK.prototype=new kl;bK._1=function(o){o.stopPropagation();
o.preventDefault();return!1};bK.prototype.S=function(){var o=this.FY?" ("+this.FY.xx+")":"";this.Z.setAttribute("title",kQ.get(this.Qg)+o)};
bK.prototype.yR=function(o){bK.gK=this.wx;this.I0=setTimeout(this.QS,160)};bK.prototype.D4=function(o,P){if(P==null&&bK.gK!=this.wx)return;
clearTimeout(this.I0);var w=new bO(G.E.w,!1);w.target=this;w.id=this.wx;this.j(w)};bK.prototype.at5=function(o){var P=new bO("mover",!1);
P.target=this;P.id=this.wx;this.j(P)};bK.prototype.axI=function(o){this.Z.className=o?"toolbtn active":"toolbtn"};
function g7(){kl.call(this);this.Z=J.k("div","topbar");this.arB=J.k("span");this.avn=J.k("span");this.aoE=0;
this.Z.appendChild(this.arB);this.Z.appendChild(this.avn);this.Hk=null;this.a6L=null;this.H4=[];this.Q2=[];
var o=this.yR.bind(this);for(var I=0;I<g7.data.length;I++){var P=J.k("button");this.H4.push(P);var w=g7.data[I];
P.addEventListener("mouseover",o,!1);J.Dw(P,o)}this.d8=new eN([0,13,0],!1,null,!0);this.d8.J("click",this.ol,this);
this.M7=new eN("Donate",!1,null,!0);this.M7.J("click",this.ol,this);this.pn=new eN(J._D("tools/zoom",null,"autoscale"),!1,[12,86]);
this.pn.J("click",this.ol,this);this.aDU=new eN("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aDU.J("click",this.ol,this)}g7.prototype=new kl;g7.prototype.a24=function(){if(this.Q2.length!=0)return;
for(var I=0;I<g7.data.length;I++){var o=g7.data[I],P=new i4(o.items,o.VF);P.parent=this;this.Q2.push(P)}this.S()};
g7.prototype.S=function(){this.d8.S();this.pn.S();this.aDU.S();for(var I=0;I<this.H4.length;I++)this.H4[I].textContent=kQ.get(g7.data[I].name);
this.a1z();for(var I=0;I<this.Q2.length;I++)this.Q2[I].S()};g7.prototype.ol=function(o){var P=new bO(G.E.X,!0);
if(o.target==this.d8)P.data={Q:G.l.y7,hq:"account"};else if(o.target==this.M7)P.data={Q:G.l.y7,hq:"confirm",eA:function(){},ap5:!0,P:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(o.target==this.pn)P.data={Q:G.l.gQ};else P.data={Q:G.l.uN,yu:!0};this.j(P)};g7.prototype.c6=function(o,P){this.Hk=o;
this.a6L=P};g7.prototype.RU=function(o,P){this.a6L=o;if(P==eB.qU){var w=o.a1N;J.eg(this.arB);for(var I=0;
I<this.H4.length;I++){var x=g7.data[I];if(w==null||w[I]==1||w[I]instanceof Array)this.arB.appendChild(this.H4[I]);
if(w!=null&&w[I]instanceof Array){this.a24();this.Q2[I].aG6(w[I])}}var z=this.avn;J.eg(z);if(o.AX){z.appendChild(this.d8.Z);
z.appendChild(this.M7.Z)}z.appendChild(this.pn.Z);z.appendChild(this.aDU.Z)}this.a1z()};g7.prototype.a1z=function(o,P){var w=this.d8,x=12255232;
if(jM.qx())x=jM.lO()?43520:16755200;w.Z.setAttribute("style","color:#ffffff; background-color:#"+e.UM(x));
this.M7.Z.style.display=jM.lO()?"none":""};g7.prototype.yR=function(o){this.a24();var I=this.H4.indexOf(o.currentTarget),P=this.Q2[I];
if(o.type=="mouseover"&&!J.Ni(this.Q2[this.aoE].Z))return;if(J.Ni(P.Z))return;o.abq=!0;this.aoE=I;for(var I=0;
I<g7.data.length;I++)this.Q2[I].update(this.Hk,this.a6L);var w=o.target.getBoundingClientRect(),x=new bO(G.E.X,!0);
x.data={Q:G.l.tZ,NP:P,x:w.left,y:w.top+w.height+2,a3U:!0};this.j(x)};g7.aq1=function(o){var P=i$,w=P.Jm,x=P.W1,z=P.JV,S=function(H){return{B:H!=null}},k=function(H){return{B:H!=null&&H.e!=null}},f={name:[0,5],items:[{name:[7,0],B:S,$Y:[w,P.l]},{name:[7,1],$Y:[w,P.ie],B:k},{name:[7,2],$Y:[x,w,P.pW],B:k,Pd:!0},{name:"Remove BG",B:function(H){return{B:J.MN(1)&&H!=null&&H.T.length!=0&&!H.R[H.T[0]].rect.Mw()}}},{name:[7,8],B:S,Na:!0},{name:[7,13],Na:!0,B:function(H){return{B:H!=null&&H.T.length!=0&&!H.R[H.T[0]].rect.Mw()}}},{name:"Subject",B:function(H){return{B:H!=null&&H.T.length!=0&&!H.R[H.T[0]].rect.Mw()}},Pd:!0},{name:[7,11],Na:!0,B:function(H){return{B:H!=null&&H.T.length!=0&&!H.R[H.T[0]].rect.Mw()}}},{name:[7,3],B:S,Pd:!0,sub:[{name:[7,9],Na:!0,B:k},{name:[19,3,0],Na:!0,B:k},{name:[7,4],Na:!0,B:k},{name:[7,5],Na:!0,B:k},{name:[7,6],Na:!0,B:k,$Y:"Shift+F6"}]},{name:"Grow",B:k},{name:"Similar",B:k,Pd:!0},{name:[7,10],B:k,Pd:!0},{name:[6,6,1],B:function(H){return{B:H!=null,Gx:H!=null&&H.um()!=null}},$Y:[P.aAq],Pd:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],B:k}],VF:[{K:G.E.qc,o:N.z$.Xw(!0)},{K:G.E.qc,o:N.z$.Xw()},{K:G.E.qc,o:{wQ:"inverse"}},{K:G.E.z,I:N.mC,o:{Q:"bgrm",P:1}},{K:G.E.X,o:{Q:G.l.y7,hq:"crange"}},{K:G.E.X,o:{Q:G.l.y7,hq:"magiccut"}},{K:G.E.z,I:N.mC,o:{Q:"bgrm",P:2}},{K:G.E.X,o:{Q:G.l.y7,hq:"redge"}},{sub:[{K:G.E.X,o:{Q:G.l.y7,hq:"sel_border"}},{K:G.E.X,o:{Q:G.l.y7,hq:"sel_smoothness"}},{K:G.E.X,o:{Q:G.l.y7,hq:"sel_expand"}},{K:G.E.X,o:{Q:G.l.y7,hq:"sel_contract"}},{K:G.E.X,o:{Q:G.l.y7,hq:"sel_feather"}}]},{K:G.E.qc,o:{wQ:"grow",WP:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:G.E.qc,o:{wQ:"similar",WP:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:G.E.X,o:{Q:G.l.HB,I:N.vX}},{K:G.E.z,I:N.mC,o:{Q:"qmask"}},{K:G.E.X,o:{Q:G.l.y7,hq:"loadsel"}},{K:G.E.X,o:{Q:G.l.y7,hq:"savesel"}}]};
if(o){var C=f.items.length-1;f.items.splice(C-2,0,{name:[6,49],$Y:[w,P.XB],Pd:!0});f.VF.splice(C-2,0,{K:G.E.qc,o:{wQ:"copyToLayer"}});
f.items.splice(C-1,0,{name:[10,16],$Y:[z,w,P.Mn]});f.VF.splice(C-1,0,{K:G.E.X,o:{Q:G.l.HB,I:N.fd}})}return f};
g7.zh=function(o,P){if(o==null||o.T.length==0)return!1;var w=o.R[o.T[0]];return w.add.TySh!=null&&P.N5==N.cR};
g7.aqx=function(){var o=i$,P=o.Jm,w=o.W1,x=o.JV,z=function(S){return{B:S!=null}};return[[{name:[5,0],$Y:[P,o.DN],B:function(S,k){return{B:S!=null&&(S.a8b()||g7.zh(S,k))}}},{name:[5,1],$Y:[P,o.cK],B:z},{name:[5,2],$Y:[P,o.sY],B:function(S,k){return{B:g7.zh()||J.GJ()||k.a7!=null||k.mz!=null||k.aso!=null}}},{name:[2,2],B:function(S,k){return{B:S!=null&&(S.e!=null||g7.zh(S,k))}},$Y:"Delete",Pd:!0}],[{K:G.E.X,o:{Q:G.l.n1}},{K:G.E.X,o:{Q:G.l.D9}},{K:G.E.X,o:{Q:G.l.d6}},{K:G.E.qc,o:{wQ:"delete"}}]]};
g7.data=function(){var o=i$,P=o.Jm,w=o.W1,x=o.JV,z=function(Y){return{B:Y!=null&&Y.T.length!=0}},S=function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.SoLd!=null}},k=function(Y){return{B:Y!=null}},f=function(Y){return{B:Y!=null&&Y.p9(!1)}},C=[],H=[],b="none maxx avrg medn minn rang stdv summ vari".split(" "),i=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var I=0;I<b.length;I++){C.push({name:i[I],B:function(Y,U){if(Y==null||Y.T.length!=1)return{B:!1};
var W=Y.R[Y.T[0]].add.SoLd;if(W==null)return{B:!1};return{B:!0,Gx:W.Impr.v.classID==this.aDm}}.bind({aDm:b[I]})});
H.push({K:G.E.z,I:N.jc,o:{Q:X.Ok,OL:b[I]}})}var M=g7.aqx(!0),T=[{name:[0,0],items:[{name:[5,3],$Y:[x,P,o.pN],title:[11,7],Na:!0},{name:[1,0],$Y:[P,o.PW],Na:!0},{name:[1,11],Na:!0,B:k},{name:["VAR0 VAR1",[1,0],[0,14]],Pd:!0,sub:[{name:"From Any Folder"},{name:"Storage",Na:!0,$Y:[x,P,o.PW]},{name:[1,5],Na:!0},{name:[11,0],Na:!0},{name:["PSD VAR0",[25,0]],Na:!0}]},{name:[1,18],Pd:!0,B:k,sub:[{name:"PNG",$Y:"Imgur.com",B:function(Y,U){return{B:Y!=null&&U.YG}}},{name:"JPG",$Y:"Imgur.com",B:function(Y,U){return{B:Y!=null&&U.YG}}},{name:bn==0?"PSD":"AI",$Y:["Photo","Vector"][bn]+"pea.com",B:function(Y,U){return{B:Y!=null&&U.YG&&!Y.eM}}}]},{name:"Save ...",$Y:[P,o.An],B:function(Y,U){var W=kQ.get([1,2]),t=!0;
if(Y){if(Y.Vw)W+=" ("+kQ.get([6,7,1])+")";if(Y.Uh)W+=" (Google Drive)";if(Y.i3)W+=" ("+Storage.list[Y.i3[0]][0]+")";
t="psd jpg png gif webp svg bmp".split(" ").indexOf(Y.Ty)!=-1;if(bn==1)t=Y.Ty=="ai"}return{B:Y!=null&&(Y.i3!=null||Y.k7!=null&&t||Y.Vw!=null||Y.Cw!=null&&Y.Cw.II!=null||Y.Uh!=null||U.af0.save!=null),bZ:W}}},{name:bn==0?[1,3]:"Save as AI",B:function(Y,U){return{B:Y!=null&&U.YG}}},{name:["VAR0 VAR1",[1,2],[0,14]],B:k,sub:[{name:(bn==0?"PSD":"AI")+" to Storage",B:function(Y,U){return{B:Y!=null&&U.YG}}},{name:["VAR0 PSD/PSB",[1,2]],Na:!0,B:function(Y,U){return{B:Y!=null&&U.YG}}}]},{name:[1,8],B:k,sub:function(){var Y=eu.nG(0),U=[];
for(var I=0;I<Y.length;I++)U.push({name:Y[I],$Y:"."+Y[I].toLowerCase()});U.push({name:[0,14],sub:function(){var Y=eu.nG(1),U=[];
for(var I=0;I<Y.length;I++)U.push({name:Y[I],$Y:"."+Y[I].toLowerCase()});return U}()});return U}()},{name:[1,4],Na:!0,B:k,Pd:!0},{name:[1,9],Na:!0,B:k},{name:"Export Color Lookup",Na:!0,B:k,Pd:!0},{name:[1,14],Na:!0,B:k,Pd:!0},{name:[1,17],sub:[{name:"Batch",Na:!0},{name:"PDF Presentation",Na:!0},{name:"Convert Formats",Na:!0},{name:"Generate Mockups",Na:!0,B:k},{name:"Resize Images",Na:!0,Pd:!0},{name:"Crop and Straighten Photos",B:k}]},{name:[1,10],Na:!0}],VF:[{K:G.E.X,o:{Q:G.l.y7,hq:"newproject"}},{K:G.E.X,o:{Q:G.l.Ul}},{K:G.E.X,o:{Q:G.l.Ul,a9V:!0}},{sub:[{K:G.E.X,o:{Q:G.l.Ul,$d:!0}},{K:G.E.X,o:{Q:G.l.y7,hq:"storwindow",lk:0}},{K:G.E.X,o:{Q:G.l.y7,hq:"open_from_url"}},{K:G.E.X,o:{Q:G.l.y7,hq:"camera"}},{K:G.E.X,o:{Q:G.l.y7,hq:"res0"}}]},{sub:[{K:G.E.X,o:{Q:G.l.vR,pr:"png"}},{K:G.E.X,o:{Q:G.l.vR,pr:"jpg"}},{K:G.E.X,o:{Q:G.l.vR,pr:bn==0?"psd":"ai"}}]},{K:G.E.X,o:{Q:G.l.qS}},{K:G.E.X,o:{Q:G.l.XH}},{sub:[{K:G.E.X,o:{Q:G.l.y7,hq:"storwindow",lk:1}},{K:G.E.X,o:{Q:G.l.y7,hq:"savepsb"}}]},{sub:function(){var Y=eu.nG(0),U=[];
for(var I=0;I<Y.length;I++)U.push({K:G.E.X,o:{Q:G.l.y7,hq:"saveforweb",pr:I}});U.push({sub:function(){var W=eu.nG(0).length,Y=eu.nG(1),U=[];
for(var I=0;I<Y.length;I++)U.push({K:G.E.X,o:{Q:G.l.y7,hq:"saveforweb",pr:W+I}});return U}()});return U}()},{K:G.E.X,o:{Q:G.l.y7,hq:"saveforweb",pr:3,aw5:!0}},{K:G.E.X,o:{Q:G.l.y7,hq:"eassets"}},{K:G.E.X,o:{Q:G.l.y7,hq:"exlut"}},{K:G.E.X,o:{Q:G.l.y7,hq:"finfo"}},{sub:[{K:G.E.X,o:{Q:G.l.y7,hq:"batch"}},{K:G.E.X,o:{Q:G.l.y7,hq:"pdfpres"}},{K:G.E.X,o:{Q:G.l.y7,hq:"cformat"}},{K:G.E.X,o:{Q:G.l.y7,hq:"mockups"}},{K:G.E.X,o:{Q:G.l.y7,hq:"resize"}},{K:G.E.z,I:N.U6,o:{Q:"cropAndStr"}}]},{K:G.E.X,o:{Q:G.l.y7,hq:"script"}}]},{name:[0,1],items:[{name:[2,8],B:k},{name:[2,0],B:k,$Y:[w,P,o.sb]},{name:[2,1],B:k,$Y:[P,o.sb],Pd:!0},{name:[2,11],$Y:[w,P,o.iI],Pd:!0,Na:!0,B:function(Y,U){return{B:ay.a5H(Y)&&U.N5!=N.fd}}},M[0][0],M[0][1],{name:[5,7],$Y:[w,P,o.cK],B:function(Y){return{B:Y!=null&&Y.e!=null}}},M[0][2],M[0][3],{name:[2,3],B:f,Na:!0,$Y:[w,o.ayF]},{name:[14,9],B:f,Na:!0,Pd:!0},{name:[10,48],B:f},{name:[10,46],B:function(Y){return{B:N.f9.fO(Y)}}},{name:[10,16],B:k,$Y:[x,P,o.Mn]},{name:[2,4],B:k,sub:c3.aax()},{name:[2,10,1],B:k},{name:[2,10,0],B:k,Pd:!0},{name:[12,87],B:k,sub:[{name:[12,62],B:k},{name:[9,3],B:k},{name:[10,31],B:function(Y){return{B:Y!=null&&Y.m0()[1].length!=0}}}]},{name:[1,15],Na:!0},{name:[12,79],Na:!0,$Y:[P,o.gM]},{name:[1,13],Na:!0}],VF:[{K:G.E.z,I:N.cw,o:{Q:"h_undoredo"}},{K:G.E.z,I:N.cw,o:{Q:"h_stepfwd"}},{K:G.E.z,I:N.cw,o:{Q:"h_stepbck"}},{K:G.E.X,o:{Q:G.l.y7,hq:"afw_fade"}},M[1][0],M[1][1],{K:G.E.X,o:{Q:G.l.D9,ND:!0}},M[1][2],M[1][3],{K:G.E.X,o:{Q:G.l.y7,hq:"fill"}},{K:G.E.X,o:{Q:G.l.y7,hq:"stroke"}},{K:G.E.X,o:{Q:G.l.HB,I:N.DF}},{K:G.E.z,I:N.bk,o:{Q:"start",Bs:"rigidTransform"}},{K:G.E.X,o:{Q:G.l.HB,I:N.fd}},{sub:c3.aC2()},{K:G.E.qc,o:{wQ:"align",WP:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:G.E.z,I:N.jc,o:{Q:X.agb}},{sub:[{K:G.E.X,o:{Q:G.l.Ag,JL:0}},{K:G.E.X,o:{Q:G.l.Ag,JL:1}},{K:G.E.X,o:{Q:G.l.Ag,JL:2}}]},{K:G.E.X,o:{Q:G.l.y7,hq:"pmanager"}},{K:G.E.X,o:{Q:G.l.y7,hq:"preferences"}},{K:G.E.X,o:{Q:G.l.y7,hq:"locstor"}}]},{name:[0,2],items:[{name:[12,36],B:k,Pd:!0,sub:[{name:"RGB",B:function(Y){if(Y==null)return{B:!1};
return{Gx:Y.add.fcmy==null,B:!0}}},{name:"CMYK",B:function(Y){if(Y==null)return{B:!1};return{Gx:Y.add.fcmy!=null,B:!0}}}]},{name:[3],B:k,Pd:!0,sub:function(){var Y=[];
for(var U in ft.names){Y.push({name:ft.names[U],Na:cq[U]!=null,$Y:ft.keys[U],Pd:ft.a9G.indexOf(U)!=-1});
if(U=="selc"){Y.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Na:!0,Pd:!0});Y.push({name:[19,7,0],$Y:[P,w,o.Jj],B:f});
Y.push({name:[4,18],Na:!0,B:f})}}return Y}()},{name:[4,16,0],B:f},{name:[4,16,1],B:f},{name:[4,16,2],B:f,Pd:!0},{name:[11,11,1],B:f,Na:!0},{name:[11,11,0],B:f,Na:!0},{name:"Wavelet Decompose",B:f,Pd:!0},{name:[11,3],B:k,Na:!0,$Y:[x,P,o.cK]},{name:[11,10],B:k,Na:!0,$Y:[x,P,o.pW]},{name:[2,4],B:k,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],B:function(Y){return{B:Y!=null&&Y.e!=null}}},{name:[11,12,0],B:k,$Y:[P,o.Xy],Na:!0},{name:[11,12,2],B:k,Pd:!0},{name:[12,53],B:k},{name:[2,12],B:f,Na:!0,Pd:!0},{name:[2,14],B:k,Na:!0}],VF:[{sub:[{K:G.E.z,I:N.pl,o:{Q:"fcmy",P:0}},{K:G.E.z,I:N.pl,o:{Q:"fcmy",P:1}}]},{sub:function(){var Y=[];
for(var U in ft.names){Y.push({K:G.E.z,I:N.vg,o:{Q:"start",_X:U}});if(U=="selc"){Y.push({K:G.E.z,I:N.bk,o:{Q:"start",Bs:"adaptCorrect"}});
Y.push({K:G.E.qc,o:{wQ:"desaturate"}});Y.push({K:G.E.z,I:N.vg,o:{Q:"start",_X:"matc"}})}}return Y}()},{K:G.E.qc,o:{wQ:"levels",WP:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:G.E.qc,o:{wQ:"levels",WP:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:G.E.qc,o:{wQ:"levels",WP:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:G.E.X,o:{Q:G.l.y7,hq:"rcolors"}},{K:G.E.X,o:{Q:G.l.y7,hq:"vbitmap"}},{K:G.E.z,I:N.jc,o:{Q:X.azE}},{K:G.E.X,o:{Q:G.l.y7,hq:"csize"}},{K:G.E.X,o:{Q:G.l.y7,hq:"isize"}},{sub:[{K:G.E.qc,o:N.DH.hi(!0,90)},{K:G.E.qc,o:N.DH.hi(!0,-90)},{K:G.E.qc,o:N.DH.hi(!0,-180)},{K:G.E.qc,o:N.DH.hi(!1,"Hrzn")},{K:G.E.qc,o:N.DH.hi(!1,"Vrtc")}]},{K:G.E.qc,o:{wQ:"crop",WP:{__name:"Crop",classID:"Crop"}}},{K:G.E.X,o:{Q:G.l.y7,hq:"trim"}},{K:G.E.qc,o:{wQ:"revealAll",WP:{classID:"RvlA"}}},{K:G.E.qc,o:{wQ:"duplicate",WP:{classID:"Dplc",null:h7.TZ("Dcmn",!0)}}},{K:G.E.z,I:N.vg,o:{Q:"start",_X:"aply"}},{K:G.E.X,o:{Q:G.l.y7,hq:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],B:k,sub:[{name:[0,3],$Y:[w,P,o.pN]},{name:[0,4]},{name:[1,16,0],Na:!0},{name:[1,16,3],Na:!0,Pd:!0},{name:[6,49,0],$Y:[P,o.XB]},{name:[6,49,1],$Y:[w,P,o.XB],B:function(Y){return{B:Y!=null&&Y.e!=null&&Y.p9(!1)}}}]},{name:[6,0],B:z,$Y:[P,o.XB]},{name:[11,4],B:z},{name:[5,4],B:z,Pd:!0},{name:"Text",B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],B:z,Pd:!0,sub:eq.JH(!0)},{name:[6,48,1],B:k,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],B:k,Pd:!0,sub:eq.a8A()},{name:[6,2],B:k,sub:[{name:[6,4],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()==null}}},{name:[6,5,0],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()==null}}},{name:[6,5,1],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()==null&&Y.e!=null}}},{name:[6,5,2],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()==null&&Y.e!=null}}},{name:[6,5,3],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()==null}},Pd:!0},{name:[5,4],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()!=null}}},{name:[5,8],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()!=null&&Y.p9(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].Jq()!=null}}}]},{name:[6,3],B:k,sub:[{name:[6,4],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.vmsk==null}}},{name:[6,5,0],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.vmsk==null}}},{name:[12,76,7],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.vmsk==null}},Pd:!0},{name:[5,4],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],B:function(Y){return{B:Y!=null&&Y.T.length!=0&&Y.R[Y.T[0]].add.vmsk!=null}}}]},j4.a0s(!0),{name:[6,7,1],B:k,Pd:!0,sub:[{name:[6,7,0],Pd:!0},{name:"Open (Edit Contents)",B:S,Na:!0},{name:"Replace Contents",B:S,Na:!0},{name:"Export Contents",B:S,Na:!0,Pd:!0},{name:[6,36,4],B:S,sub:C},{name:"Turn into JPG",B:S}]},{name:[6,8],B:j4.anf},{name:[6,34],Pd:!0,B:function(Y){if(Y==null||Y.T.length==0)return{B:!1};
var U=Y.R[Y.T[0]];return{B:U.add.lmfx!=null&&!U.Pe()}}},{name:[6,9],B:k,Pd:!0,$Y:[P,o.S8]},{name:[6,55],B:k,sub:[{name:[6,56,0],$Y:[w,P,o.p6]},{name:[6,56,1],$Y:[P,o.p6]},{name:[6,56,2],$Y:[P,o.ac]},{name:[6,56,3],$Y:[w,P,o.ac]}]},{name:"Combine Shapes",B:k,Pd:!0,sub:[{name:[18,1],KJ:"set/union"},{name:[18,2],KJ:"set/difference"},{name:[18,3],KJ:"set/intersection"},{name:[18,4],KJ:"set/xor"}]},{name:[6,58],B:k,Pd:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],$Y:[P,o.E],B:j4.UI},{name:[6,12,1],B:k},{name:[2,13],B:k}],VF:[{sub:[{K:G.E.z,I:N.jc,o:{Q:X.H7}},{K:G.E.z,I:N.jc,o:{Q:X.Qk}},{K:G.E.X,o:{Q:G.l.y7,hq:"newartb",lk:0}},{K:G.E.X,o:{Q:G.l.y7,hq:"newartb",lk:1}},{K:G.E.qc,o:{wQ:"copyToLayer"}},{K:G.E.qc,o:{wQ:"cutToLayer"}}]},{K:G.E.z,I:N.jc,o:{Q:X.Ck}},{K:G.E.X,o:{Q:G.l.y7,hq:"duplinto"}},{K:G.E.z,I:N.jc,o:{Q:X.L3}},{sub:[{K:G.E.z,I:N.jc,o:{Q:X.rE}}]},{sub:eq.zU(!0)},{sub:[{K:G.E.z,I:N.Oa,o:{Q:"newfill",Ct:0}},{K:G.E.qc,o:N.Qy.pZ(1)},{K:G.E.qc,o:N.Qy.pZ(2)}]},{sub:eq.LR()},{sub:[{K:G.E.z,I:N.jc,o:{Q:X.gE,lk:"RvlA"}},{K:G.E.z,I:N.jc,o:{Q:X.gE,lk:"HdAl"}},{K:G.E.z,I:N.jc,o:{Q:X.gE,lk:"RvlS"}},{K:G.E.z,I:N.jc,o:{Q:X.gE,lk:"HdSl"}},{K:G.E.z,I:N.jc,o:{Q:X.gE,lk:"Trns"}},{K:G.E.z,I:N.jc,o:{Q:X.ic}},{K:G.E.z,I:N.jc,o:{Q:X.S2}},{K:G.E.z,I:N.jc,o:{Q:X.lp}}]},{sub:[{K:G.E.qc,o:N.b0.A2(0)},{K:G.E.qc,o:N.b0.A2(1)},{K:G.E.qc,o:N.b0.A2(2)},{K:G.E.qc,o:N.b0.A2(3)},{K:G.E.z,I:N.jc,o:{Q:X.c8}}]},{K:G.E.z,I:N.jc,o:{Q:X.q3}},{sub:[{K:G.E.qc,o:{wQ:"newPlacedLayer"}},{K:G.E.qc,o:{wQ:"placedLayerEditContents",WP:{classID:"placedLayerEditContents"}}},{K:G.E.qc,o:{wQ:"placedLayerReplaceContents",WP:{classID:"placedLayerReplaceContents"}}},{K:G.E.qc,o:{wQ:"placedLayerExportContents",WP:{classID:"placedLayerExportContents"}}},{sub:H},{K:G.E.z,I:N.jc,o:{Q:X.aAh}}]},{K:G.E.qc,o:{wQ:"rasterizeLayer",WP:{classID:"rasterizeLayer",null:h7.TZ("Lyr",!0)}}},{K:G.E.qc,o:{wQ:"rasterizeLayer",WP:{classID:"rasterizeLayer",null:h7.TZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:G.E.z,I:N.jc,o:{Q:X.n$}},{sub:[{K:G.E.z,I:N.jc,o:{Q:X.hY,Pw:0}},{K:G.E.z,I:N.jc,o:{Q:X.hY,Pw:1}},{K:G.E.z,I:N.jc,o:{Q:X.hY,Pw:2}},{K:G.E.z,I:N.jc,o:{Q:X.hY,Pw:3}}]},{sub:[{K:G.E.z,I:N.jc,o:{Q:X.xN,mH:0}},{K:G.E.z,I:N.jc,o:{Q:X.xN,mH:1}},{K:G.E.z,I:N.jc,o:{Q:X.xN,mH:2}},{K:G.E.z,I:N.jc,o:{Q:X.xN,mH:3}}]},{sub:[{K:G.E.z,I:N.jc,o:{Q:X._W,Pw:"makeframes"}},{K:G.E.z,I:N.jc,o:{Q:X._W,Pw:"unmakeframes"}},{K:G.E.z,I:N.jc,o:{Q:X._W,Pw:"merge"}}]},{K:G.E.qc,o:{wQ:"mergeLayersNew",WP:{__name:"Merge Layers",classID:"Mrg2"}}},{K:G.E.qc,o:{wQ:"flattenImage"}},{K:G.E.z,I:N.bk,o:{Q:"start",Bs:"defr"}}]},g7.aq1(!1),function(){var Y={name:[0,6],items:[{name:[24,18,4],$Y:[x,P,o.iI],B:k,Pd:!0}],VF:[{K:G.E.z,I:N.bk,o:{Q:"applylast"}}]};
for(var I=0;I<cM.Gs.length;I++){var U=cM.Gs[I],W=U.rM;if(U.v4!=null){var t={name:cM.names[U.v4],Na:!0,Pd:U.Pd,B:k};
if(U.v4=="VaPo")t.B=f;Y.items.push(t);Y.VF.push({K:G.E.z,I:N.bk,o:{Q:"start",Bs:U.v4}});continue}var _={name:U.MU,sub:[],B:k};
Y.items.push(_);var n={sub:[]};Y.VF.push(n);for(var y=0;y<W.length;y++){var F=W[y],a=cM.names[F];if(F=="blurbTransform")a=[24,3,12,y];
var V={name:a,Na:cM.bS(F)!=null};_.sub.push(V);var D={K:G.E.z,I:N.bk,o:{Q:"start",Bs:F,vl:y<2?y:y+1}};
n.sub.push(D)}}return Y}(),{name:[0,7],items:[{name:[8,0],B:k,$Y:[P,o.wF]},{name:[8,1],B:k,$Y:[P,o.KZ]},{name:[20,3],B:k,$Y:[P,o.pU]},{name:[20,2],B:k,$Y:[P,o.x_]},{name:[8,14],B:function(Y,U){return{B:Y!=null,Gx:Y!=null&&Y.kz}},Pd:!0},{name:[12,36],Pd:!0,sub:[{name:"Fullscreen",B:function(Y,U){return{Gx:document.fullscreenElement!=null}},Pd:!0},{name:"Standard",B:function(Y,U){return{Gx:U.uW==0}}},{name:"Menu Bar and Canvas",B:function(Y,U){return{Gx:U.uW==1}}}]},{name:[8,13],$Y:[P,o.r3],B:function(Y,U){return{Gx:U.Ph}}},{name:[8,12],Pd:!0,sub:[{name:[17,2],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.ln}}},{name:[8,9],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.Fx}}},{name:[8,2],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.r_}},$Y:[P,o.zc]},{name:[8,4],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.u2}},$Y:[P,o.fh]},{name:[8,8],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.ZU}}},{name:[8,11,0],B:function(Y,U){return{B:U.Ph,Gx:U.Xp.zV}}}]},{name:[8,3],B:function(Y,U){return{Gx:U.xn}},$Y:[P,o.Rz],Pd:!0},{name:[8,5],B:function(Y,U){return{Gx:U.dT}}},{name:[8,6],Pd:!0,sub:[{name:[8,2],B:function(Y,U){return{Gx:U.By[0]}}},{name:[8,4],B:function(Y,U){return{Gx:U.By[1]}}},{name:[9,1],B:function(Y,U){return{Gx:U.By[2]}}},{name:[8,11,0],B:function(Y,U){return{Gx:U.By[3]}}},{name:[8,7,0],B:function(Y,U){return{Gx:U.By[4]}}}]},{name:[11,15,2],B:function(Y,U){return{B:Y!=null,Gx:Y!=null&&Y.BP}}},{name:[11,15,0],B:k},{name:[11,14],B:k,Na:!0},{name:[11,15,1],B:function(Y,U){return{B:Y!=null&&Y.T.length!=0}},Pd:!0},{name:[8,11,2],B:function(Y,U){return{B:Y!=null&&Y.zV.length!=0}}}],VF:[{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!0}},{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!1}},{K:G.E.z,I:N.QP,o:{Q:"adapt",P:"fitscr"}},{K:G.E.z,I:N.QP,o:{Q:"adapt",P:"pixel"}},{K:G.E.z,I:N.pl,o:{Q:"pview"}},{sub:[{K:G.E.X,o:{Q:G.l.uN,yu:!0}},{K:G.E.X,o:{Q:G.l.uN,P:0}},{K:G.E.X,o:{Q:G.l.uN,P:1}},{K:G.E.X,o:{Q:G.l.uN,P:2}}]},{K:G.E.X,o:{Q:G.l.CA,JL:eB.ZM}},{sub:[{K:G.E.X,o:{Q:G.l.CA,JL:eB.fr}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.dF}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.IK}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.BY}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.oE}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.wZ}}]},{K:G.E.X,o:{Q:G.l.CA,JL:eB.ad}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.acc}},{sub:[{K:G.E.X,o:{Q:G.l.CA,JL:eB.Cd,cB:0}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.Cd,cB:1}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.Cd,cB:2}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.Cd,cB:3}},{K:G.E.X,o:{Q:G.l.CA,JL:eB.Cd,cB:4}}]},{K:G.E.z,I:N.pl,o:{Q:"lockguides"}},{K:G.E.z,I:N.pl,o:{Q:"gids",Mm:[[],[]]}},{K:G.E.X,o:{Q:G.l.y7,hq:"addguides"}},{K:G.E.z,I:N.pl,o:{Q:"gidsFromLayer"}},{K:G.E.z,I:N.ta,o:{Q:"deleteAll"}}]},function(){var Y={name:[0,8],items:[{name:[0,14],Pd:!0,sub:[]},{name:"Plugins",Pd:!0}],VF:[{sub:[]},{K:G.E.X,o:{Q:G.l.y7,hq:"res1"}}]};
for(var I=0;I<jZ.AP.length;I++){var U=jZ.AP[I],W=function(){var t=U.NP.FP;return function(_,n){return{Gx:n.Q2.indexOf(parseInt(t))!=-1}}}();
(U.En?Y.items[0].sub:Y.items).push({name:U.NP.name,B:W});(U.En?Y.VF[0].sub:Y.VF).push({K:G.E.X,o:{Q:G.l.d7,hq:U.NP.FP}})}return Y}(),function(){var Y={name:[0,14],items:[],VF:[]},U={name:[0,9],sub:[]};
Y.items.push(U);var W={sub:[]};Y.VF.push(W);var t=kQ.aAc();for(var I=0;I<t.length;I++){var _=t[I],n=_.code,y=kQ.aA6(n);
U.sub.push({name:_.name,$Y:n,B:function(F,a){return{Gx:this.$Y==kQ.azp()}}});W.sub.push({K:G.E.X,o:{Q:G.l.CA,JL:eB.Cj,lang:y}})}U.sub.push({name:[0,12]});
W.sub.push({K:G.E.X,o:{Q:G.l.Dj,link:"https://www.photopea.com/translate/"}});var U={name:[0,15],sub:[]};
Y.items.push(U);var W={sub:[]};Y.VF.push(W);for(var I=0;I<cG._b.length;I++){U.sub.push({name:cG._b[I].name,B:function(F,a){return{Gx:this.name==cG._b[a.n9].name}}});
W.sub.push({K:G.E.X,o:{Q:G.l.CA,JL:eB.eS,n9:I}})}Y.items.push({name:bn==0?[0,17,6]:"Install Vectorpea",B:function(F,a){return{B:a.xE!=null}}});
Y.VF.push({K:G.E.X,o:{Q:G.l.v3}});if(bn==0){Y.items.push({name:[11,13]});Y.VF.push({K:G.E.X,o:{Q:G.l.y7,hq:"shortcuts"}});
Y.items.push({name:[0,16],B:function(F){return{Gx:fj.Dx,B:fj.ah5}},Pd:!0});Y.VF.push({K:G.E.X,o:{Q:G.l.auK}})}Y.items.push({name:"PeaMark"});
Y.VF.push({K:G.E.X,o:{Q:G.l.y7,hq:"peamark"}});Y.items.push({name:"",B:function(F,a){return a.AX?{bZ:"About "+["Photopea","Vectorpea"][bn],B:!0}:{bZ:"",B:!1}}});
Y.VF.push({K:G.E.X,o:{Q:G.l.y7,hq:"aboutpp"}});return Y}()],O=[T[0],T[1],{name:"Object",items:[{name:[6,9],B:k,Pd:!0,$Y:[P,o.S8]},{name:[6,6,0],sub:[{name:[5,5],$Y:[P,o.Z_]},{name:[5,6],$Y:[x,P,o.Z_]}]}],VF:[{K:G.E.z,I:N.jc,o:{Q:X.n$}},{sub:[{K:G.E.z,I:N.jc,o:{Q:X.n$,u_:!0}},{K:G.E.z,I:N.jc,o:{Q:X.n$,u_:!0,kE:!0}}]}]},{name:[0,7],items:[{name:"Outline View",B:function(Y,U){return{Gx:Y&&Y.add.prvw==0,B:Y!=null}},Pd:!0,$Y:[P,o.z9]},{name:[8,0],B:k,$Y:[P,o.wF]},{name:[8,1],B:k,$Y:[P,o.KZ]},{name:[12,36],Pd:!1,sub:[{name:"Fullscreen",B:function(Y,U){return{Gx:document.fullscreenElement!=null}},Pd:!0},{name:"Standard",B:function(Y,U){return{Gx:U.uW==0}}},{name:"Menu Bar and Canvas",B:function(Y,U){return{Gx:U.uW==1}}}]}],VF:[{K:G.E.z,I:N.QP,o:{Q:"prvw"}},{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!0}},{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!0}},{K:G.E.z,I:N.QP,o:{Q:"zoom",hc:!1}},{sub:[{K:G.E.X,o:{Q:G.l.uN,yu:!0}},{K:G.E.X,o:{Q:G.l.uN,P:0}},{K:G.E.X,o:{Q:G.l.uN,P:1}},{K:G.E.X,o:{Q:G.l.uN,P:2}}]}]},T[7],T[8]];
return bn==0?T:O}();function dc(){kl.call(this);this.Z=J.k("div","");this.Ke=0;this.z8=0;this.r7=null;
this.PL=J.k("div","");this.PL.setAttribute("style","width:200em; height:100em; position:absolute;");
this.O2=[];this.Rt=[];this.cO={}}dc.prototype=new kl;dc.prototype.nV=function(o){var P=Date.now(),w=[];
if(o=="-"){w=[new hE,new a3,new fl,new ff("pdfpres"),new ff("cformat"),new ff("batch"),new ff("mockups"),new ff("resize"),new fd,new gQ,new aN,new kA,new kA(!0),new hW,new b5,new gH,new iK,new bJ,new e0,new gW,new hg,new bs,new dm,new eq,new it("isize"),new it("csize"),new h4,new ge,new dr,new bt,new cd,new c9,new io,new eE,new bS(!1),new bS(!0),new fu(0),new fu(1),new au,new hl,new ao,new g1,new fz,new ev,new a4(0),new a4(1),new a4(2),new a4(3),new a4(4),new a4(5),new a4(6),new a4(7),new a4(8),new es,new gy,new af,new ab,new gd,new h6,new g6,new kI,new ke,new aX(0),new aX(1),new f1("border",[7,9],"px"),new f1("smoothness",[19,3,0],"px"),new f1("expand",[7,4],"px"),new f1("contract",[7,5],"px"),new f1("feather",[7,6],"px"),new jp(0,"namewindow",[12,48]),new jp(2,"billto","Bill To"),new jp(1,"cornerradius",[12,94,0],"px",!0,!0),new jp(1,"scaleeffects",[6,30,1],"%",!0),new jp(1,"doczoom","Zoom","%",!0),new jp(1,"setFPS","Set FPS","fps,120",!1),new jp(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(bn==0){w.push(new dp)}}else w=[new ay(o.slice(4))];this.aCV(w);this.cO[o]=!0};dc.prototype.aCV=function(o){var P=this.r7;
for(var I=0;I<o.length;I++){var w=o[I];w.parent=this;this.Rt.push(w);this.pQ(w);w.S();if(P)w.RU(P,eB.qU);
w.J(G.E.lb,this.QZ,this);J.vW(w)}};dc.prototype.sH=function(o,P){this.Ke=o;this.z8=P;for(var I=0;I<this.Rt.length;
I++)this.pQ(this.Rt[I])};dc.prototype.S=function(){for(var I=0;I<this.Rt.length;I++)this.Rt[I].S()};
dc.prototype.O0=function(){return this.O2.length==0?null:this.O2[this.O2.length-1]};dc.prototype.vo=function(){for(var I=0;
I<this.O2.length;I++)if(this.O2[I].vo())return!0;return!1};dc.prototype.aC4=function(o,P,w,x,z){console.log("Show",o);
var S=o.startsWith("afw_"),k=null;if(!S&&!this.cO["-"])this.nV("-");if(S&&!this.cO[o])this.nV(o);if(typeof o=="object"){k=o;
if(!k.a35(G.E.lb,this.QZ))k.J(G.E.lb,this.QZ,this);k.parent=this}else for(var I=0;I<this.Rt.length;I++)if(this.Rt[I].id==o)k=this.Rt[I];
if(this.vo()&&k.vo()){alert("Finish the current action first");return}if(!k.ry(P))return;if(this.O2.indexOf(k)!=-1){if(o=="colorpicker")this.QZ(null,k);
else return}var f=this.O2.length-1;if(f>=0)J.HT(this.O2[f].Z,"wdisabled");this.Z.appendChild(k.Z);this.O2.push(k);
this.pQ(k);J.dU(k);k.fi(P,w,x,z)};dc.prototype.pQ=function(o){var P=this.Ke,w=this.z8,x=o.pe(P,w),z;
if(x!=null){z=x}else{x=new eD(0,0);z=o.a7c();if(z==null){var S=this.O2.indexOf(o)+1;if(P<450||w<450)z=new eD(0,0);
else z=new eD(S*150,S*150)}}o.Z.style.left=z.x+"px";o.Z.style.top=this.Z.offsetTop+z.y+"px";o.sH(this.Ke-x.x*2,this.z8-x.y*2-34)};
dc.prototype.RU=function(o,P){this.r7=o;for(var I=0;I<this.Rt.length;I++)this.Rt[I].RU(o,P)};dc.prototype.QZ=function(o,P){if(P==null){P=this.O2.pop();
J.vW(P,this.Z)}else{this.O2.splice(this.O2.indexOf(P),1);this.Z.removeChild(P.Z);J.hC(P.Z,"wdisabled")}var w=this.O2.length-1;
if(w>=0)J.hC(this.O2[w].Z,"wdisabled");if(this.PL.parentNode==this.Z)this.Z.removeChild(this.PL)};window.onload=function(){document.body.appendChild(new fJ().Z)}}())